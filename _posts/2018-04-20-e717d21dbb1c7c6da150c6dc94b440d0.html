---
layout: default
title: 简易区块链的python实现
---

{{ "%3Cdiv+id%3D%22article_content%22+class%3D%22article_content+clearfix+csdn-tracking-statistics%22+data-pid%3D%22blog%22+data-mod%3D%22popu_307%22+data-dsm%3D%22post%22%3E+%0A+%3Cdiv+class%3D%22markdown_views%22%3E+%0A++%3Cpre+class%3D%22prettyprint%22%3E%3Ccode+class%3D%22+hljs+python%22%3E%3Cspan+class%3D%22hljs-keyword%22%3Eimport%3C%2Fspan%3E+hashlib%0A%3Cspan+class%3D%22hljs-keyword%22%3Eimport%3C%2Fspan%3E+datetime%0A%0A%0A%3Cspan+class%3D%22hljs-class%22%3E%3Cspan+class%3D%22hljs-keyword%22%3Eclass%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3ETTBlockCoin%3C%2Fspan%3E%3A%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-function%22%3E%3Cspan+class%3D%22hljs-keyword%22%3Edef%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3E__init__%3C%2Fspan%3E%3Cspan+class%3D%22hljs-params%22%3E%28self%2C+index%2C+%23+%E7%B4%A2%E5%BC%95+timeStamp%2C+%23+%E6%97%B6%E9%97%B4%E6%88%B3+data%2C+%23+%E4%BA%A4%E6%98%93%E6%95%B0%E6%8D%AE+lastHash%29%3C%2Fspan%3E%3A%3C%2Fspan%3E++%3Cspan+class%3D%22hljs-comment%22%3E%23+%E4%B8%8A%E4%B8%80%E4%B8%AA%E5%9D%97%E7%9A%84hash%E5%80%BC%3C%2Fspan%3E%0A++++++++self.index+%3D+index%0A++++++++self.timeStamp+%3D+timeStamp%0A++++++++self.data+%3D+data%0A++++++++self.lastHash+%3D+lastHash%0A++++++++self.selfHash+%3D+self.hash_TTBlockCoin%28%29%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%23+%E4%BA%A7%E7%94%9F%E5%8A%A0%E5%AF%86%E4%B8%B2%2C%E4%BA%A7%E7%94%9F%E4%B8%80%E4%B8%AA%E5%8A%A0%E5%AF%86%E4%B8%B2%E5%B0%B1%E6%98%AF%E4%BA%A7%E7%94%9F%E4%B8%80%E4%B8%AA%E5%B8%81%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-function%22%3E%3Cspan+class%3D%22hljs-keyword%22%3Edef%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3Ehash_TTBlockCoin%3C%2Fspan%3E%3Cspan+class%3D%22hljs-params%22%3E%28self%29%3C%2Fspan%3E%3A%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%23+sha+%3D+hashlib.sha256%28%29%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%23+sha+%3D+hashlib.sha512%28%29%3C%2Fspan%3E%0A++++++++sha+%3D+hashlib.md5%28%29%0A++++++++datastr+%3D+str%28self.index%29+%2B+str%28self.timeStamp%29+%2B+str%28self.data%29+%2B+str%28self.lastHash%29%0A++++++++sha.update%28datastr.encode%28%3Cspan+class%3D%22hljs-string%22%3E%22utf-8%22%3C%2Fspan%3E%29%29%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+sha.hexdigest%28%29%0A%0A%0A%3Cspan+class%3D%22hljs-function%22%3E%3Cspan+class%3D%22hljs-keyword%22%3Edef%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3Ecreate_first_TTBlock%3C%2Fspan%3E%3Cspan+class%3D%22hljs-params%22%3E%28%29%3C%2Fspan%3E%3A%3C%2Fspan%3E++%3Cspan+class%3D%22hljs-comment%22%3E%23+%E5%88%9B%E9%80%A0%E4%B8%80%E4%B8%AA%E5%88%9B%E4%B8%96%E5%8C%BA%E5%9D%97%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+TTBlockCoin%28%3Cspan+class%3D%22hljs-number%22%3E0%3C%2Fspan%3E%2C+datetime.datetime.now%28%29%2C+%3Cspan+class%3D%22hljs-string%22%3E%22TT+COIN%22%3C%2Fspan%3E%2C+%3Cspan+class%3D%22hljs-string%22%3E%22tt001%22%3C%2Fspan%3E%29%0A%0A%0A%3Cspan+class%3D%22hljs-function%22%3E%3Cspan+class%3D%22hljs-keyword%22%3Edef%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3Ecreate_money_TTBlock%3C%2Fspan%3E%3Cspan+class%3D%22hljs-params%22%3E%28last_block%29%3C%2Fspan%3E%3A%3C%2Fspan%3E++%3Cspan+class%3D%22hljs-comment%22%3E%23+%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E5%85%B6%E4%BB%96%E5%9D%97+last_block+%E4%B8%8A%E4%B8%80%E4%B8%AA%E5%8C%BA%E5%9D%97%3C%2Fspan%3E%0A++++this_index+%3D+last_block.index+%2B+%3Cspan+class%3D%22hljs-number%22%3E1%3C%2Fspan%3E%0A++++this_timestamp+%3D+datetime.datetime.now%28%29%0A++++this_data+%3D+%3Cspan+class%3D%22hljs-string%22%3E%22taotao+coin%22%3C%2Fspan%3E+%2B+str%28this_index%29++%3Cspan+class%3D%22hljs-comment%22%3E%23+%E6%A8%A1%E6%8B%9F%E4%BA%A4%E6%98%93%E6%95%B0%E6%8D%AE%3C%2Fspan%3E%0A++++last_hash+%3D+last_block.selfHash++++%3Cspan+class%3D%22hljs-comment%22%3E%23lastHash+%3D%E4%B8%8A%E4%B8%80%E4%B8%AAblock%E7%9A%84selfHash%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+TTBlockCoin%28this_index%2C%0A+++++++++++++++++++++++++this_timestamp%2C%0A+++++++++++++++++++++++++this_data%2C%0A+++++++++++++++++++++++++last_hash%29%0A%0A%0ATTBlockCoins+%3D+%5Bcreate_first_TTBlock%28%29%5D++%3Cspan+class%3D%22hljs-comment%22%3E%23+%E5%8C%BA%E5%9D%97%E9%93%BE%E9%93%BE%E8%A1%A8%3C%2Fspan%3E%0Anums+%3D+%3Cspan+class%3D%22hljs-number%22%3E100%3C%2Fspan%3E%0Ahead_block+%3D+TTBlockCoins%5B%3Cspan+class%3D%22hljs-number%22%3E0%3C%2Fspan%3E%5D%0Aprint%28%3Cspan+class%3D%22hljs-string%22%3E%22%E5%88%9B%E4%B8%96%E5%8C%BA%E5%9D%97TT%E5%B8%81%E6%9D%A5%E5%95%A6%22%3C%2Fspan%3E%29%0Aprint%28head_block.index%2C+head_block.data%2C+head_block.timeStamp%2C+%0A++++++head_block.lastHash%2C+head_block.selfHash%29%0A%3Cspan+class%3D%22hljs-keyword%22%3Efor%3C%2Fspan%3E+i+%3Cspan+class%3D%22hljs-keyword%22%3Ein%3C%2Fspan%3E+range%28nums%29%3A%0A++++ttBlock_another+%3D+create_money_TTBlock%28head_block%29++%3Cspan+class%3D%22hljs-comment%22%3E%23+%E6%A0%B9%E6%8D%AE%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8C%BA%E5%9D%97%E5%88%9B%E9%80%A0%E4%B8%8B%E4%B8%80%E4%B8%AA%E5%8C%BA%E5%9D%97%3C%2Fspan%3E%0A++++TTBlockCoins.append%28ttBlock_another%29++%3Cspan+class%3D%22hljs-comment%22%3E%23+%E5%8C%BA%E5%9D%97%E5%8A%A0%E5%85%A5%E9%93%BE%3C%2Fspan%3E%0A++++head_block+%3D+ttBlock_another%0A++++print%28ttBlock_another.index%2C+ttBlock_another.data%2C+%0A++++++++++ttBlock_another.timeStamp%2C+ttBlock_another.lastHash%2C%0A++++++++++ttBlock_another.selfHash%29%0A%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+%3C%2Fdiv%3E+%0A+%3Clink+rel%3D%22stylesheet%22+href%3D%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fphoenix%2Ftemplate%2Fcss%2Fmarkdown_views-ea0013b516.css%22%3E+%0A%3C%2Fdiv%3E+%0A%3Cdiv+class%3D%22hide-article-box+text-center%22%3E+%0A+%3Ca+class%3D%22btn+btn-red-hollow%22+id%3D%22btn-readmore%22+data-track-view%3D%22%7B%26quot%3Bmod%26quot%3B%3A%26quot%3Bpopu_376%26quot%3B%2C%26quot%3Bcon%26quot%3B%3A%26quot%3B%2Chttps%3A%2F%2Fblog.csdn.net%2FThrallOtaku%2Farticle%2Fdetails%2F80025141%2C%26quot%3B%7D%22+data-track-click%3D%22%7B%26quot%3Bmod%26quot%3B%3A%26quot%3Bpopu_376%26quot%3B%2C%26quot%3Bcon%26quot%3B%3A%26quot%3B%2Chttps%3A%2F%2Fblog.csdn.net%2FThrallOtaku%2Farticle%2Fdetails%2F80025141%2C%26quot%3B%7D%22%3E%E9%98%85%E8%AF%BB%E6%9B%B4%E5%A4%9A%3C%2Fa%3E+%0A%3C%2Fdiv%3E" | url_decode}}