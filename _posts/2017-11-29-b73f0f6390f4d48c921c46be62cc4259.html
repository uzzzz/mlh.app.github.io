---
layout: default
title: 【区块链】以太坊 web3j for java 使用 - 部署和调用合约 <3>
---

{{ "%3Cdiv+id%3D%22article_content%22+class%3D%22article_content+clearfix+csdn-tracking-statistics%22+data-pid%3D%22blog%22+data-mod%3D%22popu_307%22+data-dsm%3D%22post%22%3E+%0A+%3Cdiv+class%3D%22markdown_views%22%3E+%0A++%3Ch2+id%3D%22web3j-%E9%83%A8%E7%BD%B2%E5%90%88%E7%BA%A6%22%3Eweb3j+%E9%83%A8%E7%BD%B2%E5%90%88%E7%BA%A6%3C%2Fh2%3E+%0A++%3Chr%3E+%0A++%3Cp%3E%3Cstrong%3E%E7%8E%AF%E5%A2%83%EF%BC%9Amac+os+%26amp%3B+android+studio%3C%2Fstrong%3E%3C%2Fp%3E+%0A++%3Cp%3E%E5%AE%98%E7%BD%91%EF%BC%9A%3Ca+href%3D%22https%3A%2F%2Fdocs.web3j.io%2Fsmart_contracts.html%22+rel%3D%22nofollow%22%3Ehere%3C%2Fa%3E%3C%2Fp%3E+%0A++%3Cp%3E%E4%BB%A5%E5%A4%AA%E5%9D%8A+web3j+for+java+%E9%85%8D%E7%BD%AE%E5%92%8C%E4%BD%BF%E7%94%A8%26lt%3B1%26gt%3B%EF%BC%9A+%3Ca+href%3D%22http%3A%2F%2Fblog.csdn.net%2Floy_184548%2Farticle%2Fdetails%2F78630993%22+rel%3D%22nofollow%22%3Ehere%3C%2Fa%3E%3C%2Fp%3E+%0A++%3Cp%3E%E4%BB%A5%E5%A4%AA%E5%9D%8A+web3j+for+java+%E4%BD%BF%E7%94%A8+-+%E4%B8%BA%E7%94%A8%E6%88%B7%E5%88%9B%E5%BB%BA%E5%87%AD%E8%AF%81credentials+%26lt%3B2%26gt%3B%3A%3Ca+href%3D%22http%3A%2F%2Fblog.csdn.net%2Floy_184548%2Farticle%2Fdetails%2F78650945%22+rel%3D%22nofollow%22%3Ehere%3C%2Fa%3E%3C%2Fp%3E+%0A++%3Ch3+id%3D%22%E9%9B%B6%E4%B9%A6%E5%86%99%E5%90%88%E7%BA%A6%22%3E%E9%9B%B6%E3%80%81%E4%B9%A6%E5%86%99%E5%90%88%E7%BA%A6%3C%2Fh3%3E+%0A++%3Cp%3E%E6%9C%AC%E6%96%87%E8%BF%98%E6%98%AF%E4%BD%BF%E7%94%A8MetaCoin.sol%3C%2Fp%3E+%0A++%3Cpre+class%3D%22prettyprint%22%3E%3Ccode+class%3D%22+hljs+php%22%3Epragma+solidity+%5E%3Cspan+class%3D%22hljs-number%22%3E0.4%3C%2Fspan%3E%3Cspan+class%3D%22hljs-number%22%3E.2%3C%2Fspan%3E%3B%0A%0Acontract+MetaCoin+%7B%0A++++mapping+%28address+%3D%26gt%3B+uint%29+balances%3B%0A%0A++++event+Transfer%28address+indexed+_from%2C+address+indexed+_to%2C+uint256+_value%29%3B%0A%0A++++%3Cspan+class%3D%22hljs-function%22%3E%3Cspan+class%3D%22hljs-keyword%22%3Efunction%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EMetaCoin%3C%2Fspan%3E%3Cspan+class%3D%22hljs-params%22%3E%28%29%3C%2Fspan%3E+%7B%3C%2Fspan%3E%0A++++++++balances%5Btx.origin%5D+%3D+%3Cspan+class%3D%22hljs-number%22%3E10000%3C%2Fspan%3E%3B%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-function%22%3E%3Cspan+class%3D%22hljs-keyword%22%3Efunction%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EsendCoin%3C%2Fspan%3E%3Cspan+class%3D%22hljs-params%22%3E%28address+receiver%2C+uint+amount%29%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3Ereturns%3C%2Fspan%3E%3Cspan+class%3D%22hljs-params%22%3E%28bool+sufficient%29%3C%2Fspan%3E+%7B%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Eif%3C%2Fspan%3E+%28balances%5Bmsg.sender%5D+%26lt%3B+amount%29+%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Efalse%3C%2Fspan%3E%3B%0A++++++++balances%5Bmsg.sender%5D+-%3D+amount%3B%0A++++++++balances%5Breceiver%5D+%2B%3D+amount%3B%0A++++++++Transfer%28msg.sender%2C+receiver%2C+amount%29%3B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Etrue%3C%2Fspan%3E%3B%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-function%22%3E%3Cspan+class%3D%22hljs-keyword%22%3Efunction%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EgetBalance%3C%2Fspan%3E%3Cspan+class%3D%22hljs-params%22%3E%28address+addr%29%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3Ereturns%3C%2Fspan%3E%3Cspan+class%3D%22hljs-params%22%3E%28uint%29%3C%2Fspan%3E+%7B%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+balances%5Baddr%5D%3B%0A++++%7D%0A%7D%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Ch3+id%3D%22%E4%B8%80%E7%BC%96%E8%AF%91%E5%90%88%E7%BA%A6%22%3E%E4%B8%80%E3%80%81%E7%BC%96%E8%AF%91%E5%90%88%E7%BA%A6%3C%2Fh3%3E+%0A++%3Cpre%3E%3Ccode%3Esolc+%26lt%3Bcontract%26gt%3B.sol+--bin+--abi+--optimize+-o+%26lt%3Boutput-dir%26gt%3B%2F%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Cp%3E%3D%3D%3D%3D%26gt%3B%E7%94%9F%E4%BA%A7+.abi+%E5%92%8C+.bin+%E6%96%87%E4%BB%B6%3C%2Fp%3E+%0A++%3Cpre%3E%3Ccode%3E%E4%BE%8B%E5%A6%82%EF%BC%8C%E5%9C%A8MetaCoin.sol%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E4%B8%8B%E8%BE%93%E5%85%A5%EF%BC%9A%0Asolc+MetaCoin.sol+--bin+--abi+--optimize+-o+%2FUsers%2Fpro%2FDesktop%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Ch3+id%3D%22%E4%BA%8C%E7%94%9F%E6%88%90-java%E6%96%87%E4%BB%B6%22%3E%E4%BA%8C%E3%80%81%E7%94%9F%E6%88%90+.java%E6%96%87%E4%BB%B6%3C%2Fh3%3E+%0A++%3Cpre%3E%3Ccode%3Eweb3j+solidity+generate+%5B--javaTypes%7C--solidityTypes%5D+%2Fpath%2Fto%2F%26lt%3Bsmart-contract%26gt%3B.bin+%2Fpath%2Fto%2F%26lt%3Bsmart-contract%26gt%3B.abi+-o+%2Fpath%2Fto%2Fsrc%2Fmain%2Fjava+-p+com.your.organisation.name%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Cp%3E%E4%BE%8B%E5%A6%82%EF%BC%9A%3C%2Fp%3E+%0A++%3Cp%3E%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdn.net%2F20171129141546761%3Fwatermark%2F2%2Ftext%2FaHR0cDovL2Jsb2cuY3Nkbi5uZXQvbG95XzE4NDU0OA%3D%3D%2Ffont%2F5a6L5L2T%2Ffontsize%2F400%2Ffill%2FI0JBQkFCMA%3D%3D%2Fdissolve%2F70%2Fgravity%2FSouthEast%22+width%3D%22600px%22%3E%3C%2Fp%3E+%0A++%3Cp%3E%E7%84%B6%E5%90%8E%E5%B0%86%E7%94%9F%E6%88%90%E7%9A%84+.java%E6%96%87%E4%BB%B6%E5%AF%BC%E5%85%A5%E5%88%B0%E5%AE%89%E5%8D%93%E9%A1%B9%E7%9B%AE%E4%B8%AD%E3%80%82%3C%2Fp%3E+%0A++%3Cp%3E%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdn.net%2F20171129144523475%3Fwatermark%2F2%2Ftext%2FaHR0cDovL2Jsb2cuY3Nkbi5uZXQvbG95XzE4NDU0OA%3D%3D%2Ffont%2F5a6L5L2T%2Ffontsize%2F400%2Ffill%2FI0JBQkFCMA%3D%3D%2Fdissolve%2F70%2Fgravity%2FSouthEast%22+width%3D%22300px%22%3E%3C%2Fp%3E+%0A++%3Ch3+id%3D%22%E4%B8%89%E9%83%A8%E7%BD%B2%E5%90%88%E7%BA%A6%22%3E%E4%B8%89%E3%80%81%E9%83%A8%E7%BD%B2%E5%90%88%E7%BA%A6%3C%2Fh3%3E+%0A++%3Cpre%3E%3Ccode%3EYourSmartContract+contract+%3D+YourSmartContract.deploy%28%0A++++%26lt%3Bweb3j%26gt%3B%2C+%26lt%3Bcredentials%26gt%3B%2C+GAS_PRICE%2C+GAS_LIMIT%2C%0A++++%5B%26lt%3BinitialValue%26gt%3B%2C%5D%0A++++%26lt%3Bparam1%26gt%3B%2C+...%2C+%26lt%3BparamN%26gt%3B%29.send%28%29%3B%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Cp%3E%E4%BE%8B%E5%A6%82%EF%BC%9A%3C%2Fp%3E+%0A++%3Cpre+class%3D%22prettyprint%22%3E%3Ccode+class%3D%22+hljs+avrasm%22%3EMetaCoin+contract+%3D+MetaCoin%3Cspan+class%3D%22hljs-preprocessor%22%3E.deploy%3C%2Fspan%3E%28web3%2C+credentials%2C+GAS_PRICE%2C+GAS_LIMIT%29%3Cspan+class%3D%22hljs-preprocessor%22%3E.send%3C%2Fspan%3E%28%29%3Cspan+class%3D%22hljs-comment%22%3E%3B%3C%2Fspan%3E%0ASystem%3Cspan+class%3D%22hljs-preprocessor%22%3E.out%3C%2Fspan%3E%3Cspan+class%3D%22hljs-preprocessor%22%3E.println%3C%2Fspan%3E%28contract%3Cspan+class%3D%22hljs-preprocessor%22%3E.getContractAddress%3C%2Fspan%3E%28%29%29%3Cspan+class%3D%22hljs-comment%22%3E%3B%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Cp%3E%3Cstrong%3E%E6%88%96%E8%80%85%E5%8F%AF%E4%BB%A5%E5%8A%A0%E8%BD%BD%E5%B7%B2%E7%BB%8F%E9%83%A8%E7%BD%B2%E5%9C%A8%E7%A7%81%E6%9C%89%E9%93%BE%E4%B8%8A%E9%9D%A2%E7%9A%84%E5%90%88%E7%BA%A6%EF%BC%9A%3C%2Fstrong%3E%3C%2Fp%3E+%0A++%3Cpre%3E%3Ccode%3EYourSmartContract+contract+%3D+YourSmartContract.load%28%0A++++%220x%26lt%3Baddress%26gt%3B%7C%26lt%3BensName%26gt%3B%22%2C+web3j%2C+credentials%2C+GAS_PRICE%2C+GAS_LIMIT%29%3B%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Cp%3E%E4%BE%8B%E5%A6%82%EF%BC%9A%3C%2Fp%3E+%0A++%3Cpre%3E%3Ccode%3EAllBikeShared+contract+%3D+AllBikeShared.load%28%220x055a864a5f39f9eecd17e729e2cfc4fb6b12c19b%22%2C+web3%2C+credentials%2C+GAS_PRICE%2C+GAS_LIMIT%29%3B%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Ch3+id%3D%22%E5%9B%9B%E8%B0%83%E7%94%A8%E5%90%88%E7%BA%A6%22%3E%E5%9B%9B%E3%80%81%E8%B0%83%E7%94%A8%E5%90%88%E7%BA%A6%3C%2Fh3%3E+%0A++%3Cp%3E1.call+%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%8C%E4%B8%8D%E6%94%B9%E5%8F%98%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84%E7%8A%B6%E6%80%81%3C%2Fp%3E+%0A++%3Cpre%3E%3Ccode%3E++++Type+result+%3D+contract.someMethod%28%26lt%3Bparam1%26gt%3B%2C+...%29.send%28%29%3B%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Cp%3E%E4%BE%8B%E5%A6%82%EF%BC%9A%3C%2Fp%3E+%0A++%3Cpre%3E%3Ccode%3E++++BigInteger+result+%3D+contract.getUserCount%28%29.send%28%29%3B%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+%3C%2Fdiv%3E+%0A+%3Clink+rel%3D%22stylesheet%22+href%3D%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fphoenix%2Ftemplate%2Fcss%2Fmarkdown_views-ea0013b516.css%22%3E+%0A%3C%2Fdiv%3E+%0A%3Cdiv+class%3D%22hide-article-box+text-center%22%3E+%0A+%3Ca+class%3D%22btn+btn-red-hollow%22+id%3D%22btn-readmore%22+data-track-view%3D%22%7B%26quot%3Bmod%26quot%3B%3A%26quot%3Bpopu_376%26quot%3B%2C%26quot%3Bcon%26quot%3B%3A%26quot%3B%2Chttps%3A%2F%2Fblog.csdn.net%2Floy_184548%2Farticle%2Fdetails%2F78668180%2C%26quot%3B%7D%22+data-track-click%3D%22%7B%26quot%3Bmod%26quot%3B%3A%26quot%3Bpopu_376%26quot%3B%2C%26quot%3Bcon%26quot%3B%3A%26quot%3B%2Chttps%3A%2F%2Fblog.csdn.net%2Floy_184548%2Farticle%2Fdetails%2F78668180%2C%26quot%3B%7D%22%3E%E9%98%85%E8%AF%BB%E6%9B%B4%E5%A4%9A%3C%2Fa%3E+%0A%3C%2Fdiv%3E" | url_decode}}