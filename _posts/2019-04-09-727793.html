---
layout: default
title: 【数据竞赛】“达观杯”文本智能处理挑战赛3
---

{{ "%3Cdiv+id%3D%22article_content%22+class%3D%22article_content+clearfix+csdn-tracking-statistics%22+data-pid%3D%22blog%22+data-mod%3D%22popu_307%22+data-dsm%3D%22post%22%3E+%0A+%3Clink+rel%3D%22stylesheet%22+href%3D%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fphoenix%2Ftemplate%2Fcss%2Fck_htmledit_views-f57960eb32.css%22%3E+%0A+%3Cdiv+id%3D%22content_views%22+class%3D%22markdown_views+prism-atom-one-dark%22%3E+%0A++%3C%21--+flowchart+%E7%AE%AD%E5%A4%B4%E5%9B%BE%E6%A0%87+%E5%8B%BF%E5%88%A0+--%3E+%0A++%3Csvg+xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22+style%3D%22display%3A+none%3B%22%3E%0A+++%3Cpath+stroke-linecap%3D%22round%22+d%3D%22M5%2C0+0%2C2.5+5%2C5z%22+id%3D%22raphael-marker-block%22+style%3D%22-webkit-tap-highlight-color%3A+rgba%280%2C+0%2C+0%2C+0%29%3B%22%3E%3C%2Fpath%3E%0A++%3C%2Fsvg%3E+%0A++%3Ch2%3E%3Ca+id%3D%22Word2vec_0%22%3E%3C%2Fa%3E%E4%B8%80%E3%80%81Word2vec%E5%8E%9F%E7%90%86%3C%2Fh2%3E+%0A++%3Ch4%3E%3Ca+id%3D%22_CBOWhttpsimgblogcsdnimgcn20190409132454453png_1%22%3E%3C%2Fa%3E%28%E8%BF%9E%E7%BB%AD%E8%AF%8D%E8%A2%8B%E6%A8%A1%E5%9E%8B%29+CBOW%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org.cn%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdnimg.cn%2F20190409132454453.png%22+alt%3D%22%E5%9C%A8%E8%BF%99%E9%87%8C%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0%22%3E%3C%2Fh4%3E+%0A++%3Cp%3E%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org.cn%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdnimg.cn%2F20190409132638711.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjQwNzQ5%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22+alt%3D%22%E5%9C%A8%E8%BF%99%E9%87%8C%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0%22%3E%3C%2Fp%3E+%0A++%3Ch4%3E%3Ca+id%3D%22SKipGramhttpsimgblogcsdnimgcn20190409132612529png_3%22%3E%3C%2Fa%3ESKip-Gram%E6%A8%A1%E5%9E%8B%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org.cn%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdnimg.cn%2F20190409132612529.png%22+alt%3D%22%E5%9C%A8%E8%BF%99%E9%87%8C%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0%22%3E%3C%2Fh4%3E+%0A++%3Cp%3E%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org.cn%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdnimg.cn%2F20190409132709374.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjQwNzQ5%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22+alt%3D%22%E5%9C%A8%E8%BF%99%E9%87%8C%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0%22%3E%3Cbr%3E+%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org.cn%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdnimg.cn%2F20190409132944607.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjQwNzQ5%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22+alt%3D%22%E5%9C%A8%E8%BF%99%E9%87%8C%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0%22%3E%3C%2Fp%3E+%0A++%3Ch2%3E%3Ca+id%3D%22word2vec_6%22%3E%3C%2Fa%3E%E4%BA%8C%E3%80%81word2vec%E8%AF%8D%E5%90%91%E9%87%8F%E5%AE%9E%E8%B7%B5%3C%2Fh2%3E+%0A++%3Cpre%3E%3Ccode%3Eimport+pandas+as+pd%0Afrom+sklearn.model_selection+import+train_test_split%0Afrom+sklearn.feature_extraction.text+import+TfidfVectorizer%0Aimport+gensim%0Aimport+time%0Aimport+pickle%0Aimport+numpy+as+np%0A%0A%0Adf+%3D+pd.read_csv%28%27.%2Fnew_data%2Ftrain_set.csv%27%2Cindex_col%3D%27id%27%2Cnrows%3D500%29%0Adef+sentence2list%28sentence%29%3A%0A++++return+sentence.strip%28%29.split%28%29%0A%0A%0Asentences_train+%3D+list%28df.loc%5B%3A%2C+%27word_seg%27%5D.apply%28sentence2list%29%29%0Asentences+%3D+sentences_train%0Amodel+%3D+gensim.models.Word2Vec%28sentences%3Dsentences%2C+size%3D100%2C+window%3D5%2C+min_count%3D5%2C+workers%3D8%2C+sg%3D1%2C+iter%3D5%29%0A%0Awv+%3D+model.wv%0Avocab_list+%3D+wv.index2word%0Aword_idx_dict+%3D+%7B%7D%0Afor+idx%2C+word+in+enumerate%28vocab_list%29%3A%0A++++word_idx_dict%5Bword%5D+%3D+idx%0A%0Avectors_arr+%3D+wv.vectors%0Avectors_arr+%3D+np.concatenate%28%28np.zeros%28100%29%5Bnp.newaxis%2C+%3A%5D%2C+vectors_arr%29%2C+axis%3D0%29++%23+%E7%AC%AC0%E4%BD%8D%E7%BD%AE%E7%9A%84vector%E4%B8%BA%27unk%27%E7%9A%84vector%0A%0Aprint%28word_idx_dict%29%0Aprint%28vectors_arr%29%0Af_wordidx+%3D+open%28%27word_seg_word_idx_dict.pkl%27%2C+%27wb%27%29%0Af_vectors+%3D+open%28%27word_seg_vectors_arr.pkl%27%2C+%27wb%27%29%0Apickle.dump%28word_idx_dict%2C+f_wordidx%29%0Apickle.dump%28vectors_arr%2C+f_vectors%29%0Af_wordidx.close%28%29%0Af_vectors.close%28%29%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+%3C%2Fdiv%3E+%0A+%3Clink+href%3D%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fphoenix%2Fmdeditor%2Fmarkdown_views-258a4616f7.css%22+rel%3D%22stylesheet%22%3E+%0A%3C%2Fdiv%3E" | url_decode}}