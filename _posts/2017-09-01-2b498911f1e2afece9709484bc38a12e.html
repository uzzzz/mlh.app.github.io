---
layout: default
title: 比特币源码解析(6) - 数据结构 - 交易池-呼，是出一口气；吸，是争一口气!(生活不止眼前的苟且，还有读不懂的诗和到不了的远方。)
---

{{ "%3Cdiv+id%3D%22article_content%22+class%3D%22article_content+clearfix+csdn-tracking-statistics%22+data-pid%3D%22blog%22+data-mod%3D%22popu_307%22+data-dsm%3D%22post%22%3E+%0A+%3Cdiv+class%3D%22article-copyright%22%3E%0A+++%E7%89%88%E6%9D%83%E5%A3%B0%E6%98%8E%EF%BC%9A%E6%9C%AC%E6%96%87%E4%B8%BA%E5%8D%9A%E4%B8%BB%E5%8E%9F%E5%88%9B%E6%96%87%E7%AB%A0%EF%BC%8C%E6%9C%AA%E7%BB%8F%E5%8D%9A%E4%B8%BB%E5%85%81%E8%AE%B8%E4%B8%8D%E5%BE%97%E8%BD%AC%E8%BD%BD%E3%80%82+https%3A%2F%2Fblog.csdn.net%2Fu012183589%2Farticle%2Fdetails%2F77776716+%0A+%3C%2Fdiv%3E+%0A+%3Cdiv+class%3D%22markdown_views+prism-atom-one-dark%22%3E+%0A++%3C%21--+flowchart+%E7%AE%AD%E5%A4%B4%E5%9B%BE%E6%A0%87+%E5%8B%BF%E5%88%A0+--%3E+%0A++%3Csvg+xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22+style%3D%22display%3A+none%3B%22%3E%0A+++%3Cpath+stroke-linecap%3D%22round%22+d%3D%22M5%2C0+0%2C2.5+5%2C5z%22+id%3D%22raphael-marker-block%22+style%3D%22-webkit-tap-highlight-color%3A+rgba%280%2C+0%2C+0%2C+0%29%3B%22%3E%3C%2Fpath%3E%0A++%3C%2Fsvg%3E+%0A++%3Ch2+id%3D%220x00-%E6%91%98%E8%A6%81%22%3E0x00+%E6%91%98%E8%A6%81%3C%2Fh2%3E+%0A++%3Cp%3E%E6%88%91%E4%BB%AC%E7%9F%A5%E9%81%93%E5%BD%93%E4%BA%A4%E6%98%93%E8%A2%AB%E5%B9%BF%E6%92%AD%E5%B9%B6%E4%B8%94%E8%A2%AB%E7%9F%BF%E5%B7%A5%E6%8E%A5%E6%94%B6%E5%88%B0%E6%97%B6%EF%BC%8C%E7%9F%BF%E5%B7%A5%E5%B0%B1%E4%BC%9A%E6%8A%8A%E4%BA%A4%E6%98%93%E5%8A%A0%E5%85%A5%E5%88%B0%E6%9C%AC%E5%9C%B0%E7%9A%84%E4%BA%A4%E6%98%93%E6%B1%A0%E5%BD%93%E4%B8%AD%EF%BC%8C%E6%AF%8F%E4%B8%AA%E7%9F%BF%E5%B7%A5%E5%8F%88%E4%BC%9A%E5%AF%B9%E8%87%AA%E5%B7%B1%E7%9A%84%E4%BA%A4%E6%98%93%E6%B1%A0%E8%AE%BE%E7%BD%AE%E7%9B%B8%E5%BA%94%E7%9A%84%E9%99%90%E5%88%B6%EF%BC%8C%E6%9D%A5%E4%BF%9D%E8%AF%81%E4%BA%A4%E6%98%93%E6%95%B0%E9%87%8F%E4%B8%8D%E4%BC%9A%E8%BF%87%E5%A4%9A%EF%BC%8C%E7%9F%BF%E5%B7%A5%E5%9C%A8%E6%89%93%E5%8C%85%E4%BA%A4%E6%98%93%E5%88%B0%E5%8C%BA%E5%9D%97%E4%B8%AD%E6%97%B6%EF%BC%8C%E4%B9%9F%E4%BC%9A%E6%A0%B9%E6%8D%AE%E4%B8%80%E5%AE%9A%E7%9A%84%E4%BC%98%E5%85%88%E9%A1%BA%E5%BA%8F%E6%9D%A5%E9%80%89%E6%8B%A9%E4%BA%A4%E6%98%93%EF%BC%8C%E4%BB%8E%E8%80%8C%E8%AE%A9%E8%87%AA%E5%B7%B1%E8%83%BD%E8%8E%B7%E5%BE%97%E5%B0%BD%E9%87%8F%E5%A4%9A%E7%9A%84%E4%BA%A4%E6%98%93%E8%B4%B9%E3%80%82+%3Cbr%3E+%E5%AF%B9%E4%BA%8E%E4%BA%A4%E6%98%93%E6%B1%A0%E4%B8%BB%E8%A6%81%E4%BB%8B%E7%BB%8D%E4%B8%A4%E4%B8%AA%E7%BB%93%E6%9E%84%3Ccode%3ECTxMemPoolEntry%3C%2Fcode%3E%E5%92%8C%3Ccode%3ECTxMemPool%3C%2Fcode%3E%EF%BC%8C%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%98%AF%E4%BA%A4%E6%98%93%E6%B1%A0%E4%B8%AD%E6%AF%8F%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84%EF%BC%8C%E7%AC%AC%E4%BA%8C%E4%B8%AA%E6%98%AF%E6%95%B4%E4%B8%AA%E4%BA%A4%E6%98%93%E6%B1%A0%E5%8C%85%E5%90%AB%E7%9A%84%E6%89%80%E6%9C%89%E4%BF%A1%E6%81%AF%E3%80%82%3C%2Fp%3E+%0A++%3Ch2+id%3D%220x01-ctxmempoolentry%22%3E0x01+CTxMemPoolEntry%3C%2Fh2%3E+%0A++%3Cpre+class%3D%22prettyprint%22%3E%3Ccode+class%3D%22language-c%2B%2B+hljs+java%22%3E%3Cspan+class%3D%22hljs-javadoc%22%3E%2F**+*+CTxMemPoolEntry%E5%AD%98%E5%82%A8%E4%BA%A4%E6%98%93%E5%92%8C%E8%AF%A5%E4%BA%A4%E6%98%93%E7%9A%84%E6%89%80%E6%9C%89%E5%AD%90%E5%AD%99%E4%BA%A4%E6%98%93%EF%BC%8C+*+%E5%BD%93%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84entry%E6%B7%BB%E5%8A%A0%E5%88%B0mempool%E4%B8%AD%E6%97%B6%EF%BC%8C%E6%88%91%E4%BB%AC%E6%9B%B4%E6%96%B0%E5%AE%83%E7%9A%84%E6%89%80%E6%9C%89%E5%AD%90%E5%AD%99%E7%8A%B6%E6%80%81+*+%E5%92%8C%E7%A5%96%E5%85%88%E7%8A%B6%E6%80%81+*%2F%3C%2Fspan%3E%0A%0Aclass+CTxMemPoolEntry%0A%7B%0A%3Cspan+class%3D%22hljs-keyword%22%3Eprivate%3C%2Fspan%3E%3A%0A++++CTransactionRef+tx%3B++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+%E4%BA%A4%E6%98%93%E5%BC%95%E7%94%A8%3C%2Fspan%3E%0A++++CAmount+nFee%3B++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F%E4%BA%A4%E6%98%93%E8%B4%B9%E7%94%A8+%2F%2F%21%26lt%3B+Cached+to+avoid+expensive+parent-transaction+lookups%3C%2Fspan%3E%0A++++size_t+nTxWeight%3B++++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F%21%26lt%3B+...+and+avoid+recomputing+tx+weight+%28also+used+for+GetTxSize%28%29%29%3C%2Fspan%3E%0A++++size_t+nUsageSize%3B++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F%E5%A4%A7%E5%B0%8F+%2F%2F%21%26lt%3B+...+and+total+memory+usage%3C%2Fspan%3E%0A++++int64_t+nTime%3B+++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F%E6%97%B6%E9%97%B4%E6%88%B3+%2F%2F%21%26lt%3B+Local+time+when+entering+the+mempool%3C%2Fspan%3E%0A++++unsigned+%3Cspan+class%3D%22hljs-keyword%22%3Eint%3C%2Fspan%3E+entryHeight%3B+%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F%E5%8C%BA%E5%9D%97%E9%AB%98%E5%BA%A6+%2F%2F%21%26lt%3B+Chain+height+when+entering+the+mempool%3C%2Fspan%3E%0A++++bool+spendsCoinbase%3B+++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F%E5%89%8D%E4%B8%80%E4%B8%AA%E4%BA%A4%E6%98%93%E6%98%AF%E5%90%A6%E6%98%AFCoinBase%3C%2Fspan%3E%0A++++int64_t+sigOpCost%3B+++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F%21%26lt%3B+Total+sigop+cost%3C%2Fspan%3E%0A++++int64_t+feeDelta%3B++++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+%E8%B0%83%E6%95%B4%E4%BA%A4%E6%98%93%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%3C%2Fspan%3E%0A++++LockPoints+lockPoints%3B+++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F%E4%BA%A4%E6%98%93%E6%9C%80%E5%90%8E%E7%9A%84%E6%89%80%E5%9C%A8%E5%8C%BA%E5%9D%97%E9%AB%98%E5%BA%A6%E5%92%8C%E6%89%93%E5%8C%85%E7%9A%84%E6%97%B6%E9%97%B4%3C%2Fspan%3E%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+%E5%AD%90%E5%AD%99%E4%BA%A4%E6%98%93%E4%BF%A1%E6%81%AF%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%88%91%E4%BB%AC%E7%A7%BB%E9%99%A4%E4%B8%80%E4%B8%AA%E4%BA%A4%E6%98%93%EF%BC%8C%E5%BF%85%E9%A1%BB%E5%90%8C%E6%97%B6%E7%A7%BB%E9%99%A4%E5%AE%83%E7%9A%84%E6%89%80%E6%9C%89%E5%AD%90%E5%AD%99%E4%BA%A4%E6%98%93%3C%2Fspan%3E%0A++++uint64_t+nCountWithDescendants%3B++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+%E5%AD%90%E5%AD%99%E4%BA%A4%E6%98%93%E7%9A%84%E6%95%B0%E9%87%8F%3C%2Fspan%3E%0A++++uint64_t+nSizeWithDescendants%3B+++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+%E5%A4%A7%E5%B0%8F%3C%2Fspan%3E%0A++++CAmount+nModFeesWithDescendants%3B+%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+%E8%B4%B9%E7%94%A8%E5%92%8C%EF%BC%8C%E5%8C%85%E6%8B%AC%E5%BD%93%E5%89%8D%E4%BA%A4%E6%98%93%3C%2Fspan%3E%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+%E7%A5%96%E5%85%88%E4%BA%A4%E6%98%93%E4%BF%A1%E6%81%AF%3C%2Fspan%3E%0A++++uint64_t+nCountWithAncestors%3B%0A++++uint64_t+nSizeWithAncestors%3B%0A++++CAmount+nModFeesWithAncestors%3B%0A++++int64_t+nSigOpCostWithAncestors%3B%0A%0A%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E%3A%0A++++%3Cspan+class%3D%22hljs-title%22%3ECTxMemPoolEntry%3C%2Fspan%3E%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+CTransactionRef%26amp%3B+_tx%2C+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+CAmount%26amp%3B+_nFee%2C%0A++++++++++++++++++++int64_t+_nTime%2C+unsigned+%3Cspan+class%3D%22hljs-keyword%22%3Eint%3C%2Fspan%3E+_entryHeight%2C%0A++++++++++++++++++++bool+spendsCoinbase%2C%0A++++++++++++++++++++int64_t+nSigOpsCost%2C+LockPoints+lp%29%3B%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+CTransaction%26amp%3B+GetTx%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%7B+%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+*%3Cspan+class%3D%22hljs-keyword%22%3Ethis%3C%2Fspan%3E-%26gt%3Btx%3B+%7D%0A++++CTransactionRef+GetSharedTx%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%7B+%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Ethis%3C%2Fspan%3E-%26gt%3Btx%3B+%7D%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+CAmount%26amp%3B+GetFee%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%7B+%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+nFee%3B+%7D%0A++++size_t+GetTxSize%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E%3B%0A++++size_t+GetTxWeight%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%7B+%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+nTxWeight%3B+%7D%0A++++int64_t+GetTime%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%7B+%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+nTime%3B+%7D%0A++++unsigned+%3Cspan+class%3D%22hljs-keyword%22%3Eint%3C%2Fspan%3E+GetHeight%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%7B+%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+entryHeight%3B+%7D%0A++++int64_t+GetSigOpCost%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%7B+%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+sigOpCost%3B+%7D%0A++++int64_t+GetModifiedFee%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%7B+%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+nFee+%2B+feeDelta%3B+%7D%0A++++size_t+DynamicMemoryUsage%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%7B+%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+nUsageSize%3B+%7D%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+LockPoints%26amp%3B+GetLockPoints%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%7B+%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+lockPoints%3B+%7D%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+%E6%9B%B4%E6%96%B0%E5%AD%90%E5%AD%99%E7%8A%B6%E6%80%81%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+UpdateDescendantState%28int64_t+modifySize%2C+CAmount+modifyFee%2C+int64_t+modifyCount%29%3B%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+%E6%9B%B4%E6%96%B0%E7%A5%96%E5%85%88%E7%8A%B6%E6%80%81%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+UpdateAncestorState%28int64_t+modifySize%2C+CAmount+modifyFee%2C+int64_t+modifyCount%2C+%3Cspan+class%3D%22hljs-keyword%22%3Eint%3C%2Fspan%3E+modifySigOps%29%3B%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+%E6%9B%B4%E6%96%B0feeDelta%EF%BC%8C%E5%B9%B6%E4%B8%94%E4%BF%AE%E6%94%B9%E5%AD%90%E5%AD%99%E4%BA%A4%E6%98%93%E8%B4%B9%E7%94%A8%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+UpdateFeeDelta%28int64_t+feeDelta%29%3B%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+%E6%9B%B4%E6%96%B0LockPoint%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+UpdateLockPoints%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+LockPoints%26amp%3B+lp%29%3B%0A%0A++++uint64_t+GetCountWithDescendants%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%7B+%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+nCountWithDescendants%3B+%7D%0A++++uint64_t+GetSizeWithDescendants%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%7B+%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+nSizeWithDescendants%3B+%7D%0A++++CAmount+GetModFeesWithDescendants%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%7B+%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+nModFeesWithDescendants%3B+%7D%0A%0A++++bool+GetSpendsCoinbase%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%7B+%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+spendsCoinbase%3B+%7D%0A%0A++++uint64_t+GetCountWithAncestors%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%7B+%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+nCountWithAncestors%3B+%7D%0A++++uint64_t+GetSizeWithAncestors%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%7B+%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+nSizeWithAncestors%3B+%7D%0A++++CAmount+GetModFeesWithAncestors%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%7B+%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+nModFeesWithAncestors%3B+%7D%0A++++int64_t+GetSigOpCostWithAncestors%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%7B+%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+nSigOpCostWithAncestors%3B+%7D%0A%0A++++mutable+size_t+vTxHashesIdx%3B+%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F%21%26lt%3B+Index+in+mempool%27s+vTxHashes%3C%2Fspan%3E%0A%7D%3B%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Ch2+id%3D%220x02-ctxmempool%22%3E0x02+CTxMemPool%3C%2Fh2%3E+%0A++%3Cpre+class%3D%22prettyprint%22%3E%3Ccode+class%3D%22language-c%2B%2B+hljs+cpp%22%3E%3Cspan+class%3D%22hljs-comment%22%3E%2F**+*+%E4%BA%A4%E6%98%93%E5%86%85%E5%AD%98%E6%B1%A0%EF%BC%8C%E4%BF%9D%E5%AD%98%E6%89%80%E6%9C%89%E5%9C%A8%E5%BD%93%E5%89%8D%E4%B8%BB%E9%93%BE%E4%B8%8A%E6%9C%89%E6%95%88%E7%9A%84%E4%BA%A4%E6%98%93%E3%80%82+*+%E5%BD%93%E4%BA%A4%E6%98%93%E5%9C%A8%E7%BD%91%E7%BB%9C%E4%B8%8A%E5%B9%BF%E6%92%AD%E4%B9%8B%E5%90%8E%EF%BC%8C%E5%B0%B1%E4%BC%9A%E8%A2%AB%E5%8A%A0%E8%BF%9B%E4%BA%A4%E6%98%93%E6%B1%A0%E3%80%82+*+%E4%BD%86%E5%B9%B6%E4%B8%8D%E6%98%AF%E6%89%80%E6%9C%89%E7%9A%84%E4%BA%A4%E6%98%93%E9%83%BD%E4%BC%9A%E8%A2%AB%E5%8A%A0%E5%85%A5%EF%BC%8C+*+%E4%BE%8B%E5%A6%82%E4%BA%A4%E6%98%93%E8%B4%B9%E5%A4%AA%E5%B0%8F%E7%9A%84%EF%BC%8C%E6%88%96%E8%80%85%E2%80%9C%E5%8F%8C%E8%8A%B1%E2%80%9D%E7%9A%84%E4%BA%A4%E6%98%93%E6%88%96%E8%80%85%E9%9D%9E%E6%A0%87%E5%87%86%E4%BA%A4%E6%98%93%E3%80%82+*+%E5%86%85%E5%AD%98%E6%B1%A0%E4%B8%AD%E9%80%9A%E8%BF%87%E4%B8%80%E4%B8%AAboost%3A%3Amulti_index%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%98%E9%87%8FmapTx%E6%9D%A5%E6%8E%92%E5%BA%8F%E6%89%80%E6%9C%89%E4%BA%A4%E6%98%93%EF%BC%8C+*+%E6%8C%89%E7%85%A7%E4%B8%8B%E9%9D%A2%E5%9B%9B%E4%B8%AA%E6%A0%87%E5%87%86%EF%BC%9A+*+-%E4%BA%A4%E6%98%93hash+*+-%E4%BA%A4%E6%98%93%E8%B4%B9%EF%BC%88%E5%8C%85%E6%8B%AC%E6%89%80%E6%9C%89%E5%AD%90%E5%AD%99%E4%BA%A4%E6%98%93%EF%BC%89+*+-%E5%9C%A8mempool%E4%B8%AD%E7%9A%84%E6%97%B6%E9%97%B4+*+-%E6%8C%96%E7%9F%BF%E5%88%86%E6%95%B0+*+%E4%B8%BA%E4%BA%86%E4%BF%9D%E8%AF%81%E4%BA%A4%E6%98%93%E8%B4%B9%E7%9A%84%E6%AD%A3%E7%A1%AE%E6%80%A7%EF%BC%8C%E5%BD%93%E6%96%B0%E4%BA%A4%E6%98%93%E8%A2%AB%E5%8A%A0%E8%BF%9Bmempool%E6%97%B6%EF%BC%8C%E6%88%91%E4%BB%AC%E5%BF%85%E9%A1%BB%E6%9B%B4%E6%96%B0+*+%E8%AF%A5%E4%BA%A4%E6%98%93%E7%9A%84%E6%89%80%E6%9C%89%E7%A5%96%E5%85%88%E4%BA%A4%E6%98%93%E4%BF%A1%E6%81%AF%EF%BC%8C%E8%80%8C%E8%BF%99%E4%B8%AA%E6%93%8D%E4%BD%9C%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%AF%BC%E8%87%B4%E5%A4%84%E7%90%86%E9%80%9F%E5%BA%A6%E5%8F%98%E6%85%A2%EF%BC%8C+*+%E6%89%80%E4%BB%A5%E5%BF%85%E9%A1%BB%E5%AF%B9%E6%9B%B4%E9%9C%80%E7%A5%96%E5%85%88%E7%9A%84%E6%95%B0%E9%87%8F%E8%BF%9B%E8%A1%8C%E9%99%90%E5%88%B6%E3%80%82+*%2F%3C%2Fspan%3E%0A%3Cspan+class%3D%22hljs-keyword%22%3Eclass%3C%2Fspan%3E+CTxMemPool%0A%7B%0A%3Cspan+class%3D%22hljs-keyword%22%3Eprivate%3C%2Fspan%3E%3A%0A++++uint32_t+nCheckFrequency%3B+%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F%E8%A1%A8%E7%A4%BA%E5%9C%A82%5E32%E6%97%B6%E9%97%B4%E5%86%85%E6%A3%80%E6%9F%A5%E7%9A%84%E6%AC%A1%E6%95%B0%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Eunsigned%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Eint%3C%2Fspan%3E+nTransactionsUpdated%3B+%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F%21%26lt%3B+Used+by+getblocktemplate+to+trigger+CreateNewBlock%28%29+invocation%3C%2Fspan%3E%0A++++CBlockPolicyEstimator*+minerPolicyEstimator%3B%0A%0A++++uint64_t+totalTxSize%3B++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F%E6%89%80%E6%9C%89mempool%E4%B8%AD%E4%BA%A4%E6%98%93%E7%9A%84%E8%99%9A%E6%8B%9F%E5%A4%A7%E5%B0%8F%EF%BC%8C%E4%B8%8D%E5%8C%85%E6%8B%AC%E8%A7%81%E8%AF%81%E6%95%B0%E6%8D%AE%3C%2Fspan%3E%0A++++uint64_t+cachedInnerUsage%3B+%3Cspan+class%3D%22hljs-comment%22%3E%2F%2Fmap%E4%B8%AD%E5%85%83%E7%B4%A0%E4%BD%BF%E7%94%A8%E7%9A%84%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%A4%A7%E5%B0%8F%E4%B9%8B%E5%92%8C%3C%2Fspan%3E%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Emutable%3C%2Fspan%3E+int64_t+lastRollingFeeUpdate%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Emutable%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Ebool%3C%2Fspan%3E+blockSinceLastRollingFeeBump%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Emutable%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Edouble%3C%2Fspan%3E+rollingMinimumFeeRate%3B+%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F%E8%BF%9B%E5%85%A5pool%E9%9C%80%E8%A6%81%E7%9A%84%E6%9C%80%E5%B0%8F%E8%B4%B9%E7%94%A8%3C%2Fspan%3E%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+trackPackageRemoved%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+CFeeRate%26amp%3B+rate%29%3B%0A%0A%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E%3A%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Estatic%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Eint%3C%2Fspan%3E+ROLLING_FEE_HALFLIFE+%3D+%3Cspan+class%3D%22hljs-number%22%3E60%3C%2Fspan%3E+*+%3Cspan+class%3D%22hljs-number%22%3E60%3C%2Fspan%3E+*+%3Cspan+class%3D%22hljs-number%22%3E12%3C%2Fspan%3E%3B+%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+public+only+for+testing%3C%2Fspan%3E%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Etypedef%3C%2Fspan%3E+boost%3A%3Amulti_index_container%26lt%3B%0A++++++++CTxMemPoolEntry%2C%0A++++++++boost%3A%3Amulti_index%3A%3Aindexed_by%26lt%3B%0A++++++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+sorted+by+txid%EF%BC%8C+%E9%A6%96%E5%85%88%E6%A0%B9%E6%8D%AE%E4%BA%A4%E6%98%93hash%E6%8E%92%3C%2Fspan%3E%0A++++++++++++boost%3A%3Amulti_index%3A%3Ahashed_unique%26lt%3Bmempoolentry_txid%2C+SaltedTxidHasher%26gt%3B%2C%0A++++++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+sorted+by+fee+rate%EF%BC%8C%E7%84%B6%E5%90%8E%E6%98%AF%E8%B4%B9%E7%94%A8%3C%2Fspan%3E%0A++++++++++++boost%3A%3Amulti_index%3A%3Aordered_non_unique%26lt%3B%0A++++++++++++++++boost%3A%3Amulti_index%3A%3Atag%26lt%3Bdescendant_score%26gt%3B%2C%0A++++++++++++++++boost%3A%3Amulti_index%3A%3Aidentity%26lt%3BCTxMemPoolEntry%26gt%3B%2C%0A++++++++++++++++CompareTxMemPoolEntryByDescendantScore%0A++++++++++++%26gt%3B%2C%0A++++++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+sorted+by+entry+time%EF%BC%8C%E7%84%B6%E5%90%8E%E6%97%B6%E9%97%B4%3C%2Fspan%3E%0A++++++++++++boost%3A%3Amulti_index%3A%3Aordered_non_unique%26lt%3B%0A++++++++++++++++boost%3A%3Amulti_index%3A%3Atag%26lt%3Bentry_time%26gt%3B%2C%0A++++++++++++++++boost%3A%3Amulti_index%3A%3Aidentity%26lt%3BCTxMemPoolEntry%26gt%3B%2C%0A++++++++++++++++CompareTxMemPoolEntryByEntryTime%0A++++++++++++%26gt%3B%2C%0A++++++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+sorted+by+score+%28for+mining+prioritization%29%EF%BC%8C+%E5%88%86%E6%95%B0%3C%2Fspan%3E%0A++++++++++++boost%3A%3Amulti_index%3A%3Aordered_unique%26lt%3B%0A++++++++++++++++boost%3A%3Amulti_index%3A%3Atag%26lt%3Bmining_score%26gt%3B%2C%0A++++++++++++++++boost%3A%3Amulti_index%3A%3Aidentity%26lt%3BCTxMemPoolEntry%26gt%3B%2C%0A++++++++++++++++CompareTxMemPoolEntryByScore%0A++++++++++++%26gt%3B%2C%0A++++++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+sorted+by+fee+rate+with+ancestors%EF%BC%8C+%E7%A5%96%E5%85%88%E4%BA%A4%E6%98%93%E8%B4%B9%3C%2Fspan%3E%0A++++++++++++boost%3A%3Amulti_index%3A%3Aordered_non_unique%26lt%3B%0A++++++++++++++++boost%3A%3Amulti_index%3A%3Atag%26lt%3Bancestor_score%26gt%3B%2C%0A++++++++++++++++boost%3A%3Amulti_index%3A%3Aidentity%26lt%3BCTxMemPoolEntry%26gt%3B%2C%0A++++++++++++++++CompareTxMemPoolEntryByAncestorFee%0A++++++++++++%26gt%3B%0A++++++++%26gt%3B%0A++++%26gt%3B+indexed_transaction_set%3B%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Emutable%3C%2Fspan%3E+CCriticalSection+cs%3B%0A++++indexed_transaction_set+mapTx%3B%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Etypedef%3C%2Fspan%3E+indexed_transaction_set%3A%3Anth_index%26lt%3B%3Cspan+class%3D%22hljs-number%22%3E0%3C%2Fspan%3E%26gt%3B%3A%3Atype%3A%3Aiterator+txiter%3B%0A++++%3Cspan+class%3D%22hljs-built_in%22%3Estd%3C%2Fspan%3E%3A%3A%3Cspan+class%3D%22hljs-stl_container%22%3E%3Cspan+class%3D%22hljs-built_in%22%3Evector%3C%2Fspan%3E%26lt%3B%3Cspan+class%3D%22hljs-built_in%22%3Estd%3C%2Fspan%3E%3A%3Apair%26lt%3Buint256%2C+txiter%26gt%3B%3C%2Fspan%3E+%26gt%3B+vTxHashes%3B+%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F%E6%89%80%E6%9C%89%E4%BA%A4%E6%98%93%E8%A7%81%E8%AF%81%E6%95%B0%E6%8D%AE%E7%9A%84%E5%93%88%E5%B8%8C%3C%2Fspan%3E%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Estruct%3C%2Fspan%3E+CompareIteratorByHash+%7B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ebool%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Eoperator%3C%2Fspan%3E%28%29%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+txiter+%26amp%3Ba%2C+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+txiter+%26amp%3Bb%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%7B%0A++++++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+a-%26gt%3BGetTx%28%29.GetHash%28%29+%26lt%3B+b-%26gt%3BGetTx%28%29.GetHash%28%29%3B%0A++++++++%7D%0A++++%7D%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Etypedef%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-built_in%22%3Estd%3C%2Fspan%3E%3A%3A%3Cspan+class%3D%22hljs-stl_container%22%3E%3Cspan+class%3D%22hljs-built_in%22%3Eset%3C%2Fspan%3E%26lt%3Btxiter%2C+CompareIteratorByHash%26gt%3B%3C%2Fspan%3E+setEntries%3B%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+setEntries+%26amp%3B+GetMemPoolParents%28txiter+entry%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+setEntries+%26amp%3B+GetMemPoolChildren%28txiter+entry%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E%3B%0A%3Cspan+class%3D%22hljs-keyword%22%3Eprivate%3C%2Fspan%3E%3A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Etypedef%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-built_in%22%3Estd%3C%2Fspan%3E%3A%3A%3Cspan+class%3D%22hljs-stl_container%22%3E%3Cspan+class%3D%22hljs-built_in%22%3Emap%3C%2Fspan%3E%26lt%3Btxiter%2C+setEntries%2C+CompareIteratorByHash%26gt%3B%3C%2Fspan%3E+cacheMap%3B%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Estruct%3C%2Fspan%3E+TxLinks+%7B%0A++++++++setEntries+parents%3B%0A++++++++setEntries+children%3B%0A++++%7D%3B%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Etypedef%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-built_in%22%3Estd%3C%2Fspan%3E%3A%3A%3Cspan+class%3D%22hljs-stl_container%22%3E%3Cspan+class%3D%22hljs-built_in%22%3Emap%3C%2Fspan%3E%26lt%3Btxiter%2C+TxLinks%2C+CompareIteratorByHash%26gt%3B%3C%2Fspan%3E+txlinksMap%3B%0A++++txlinksMap+mapLinks%3B%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+UpdateParent%28txiter+entry%2C+txiter+parent%2C+%3Cspan+class%3D%22hljs-keyword%22%3Ebool%3C%2Fspan%3E+add%29%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+UpdateChild%28txiter+entry%2C+txiter+child%2C+%3Cspan+class%3D%22hljs-keyword%22%3Ebool%3C%2Fspan%3E+add%29%3B%0A%0A++++%3Cspan+class%3D%22hljs-built_in%22%3Estd%3C%2Fspan%3E%3A%3A%3Cspan+class%3D%22hljs-stl_container%22%3E%3Cspan+class%3D%22hljs-built_in%22%3Evector%3C%2Fspan%3E%26lt%3Bindexed_transaction_set%3A%3Aconst_iterator%26gt%3B%3C%2Fspan%3E+GetSortedDepthAndScore%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E%3B%0A%0A%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E%3A%0A++++indirectmap%26lt%3BCOutPoint%2C+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+CTransaction*%26gt%3B+mapNextTx%3B%0A++++%3Cspan+class%3D%22hljs-built_in%22%3Estd%3C%2Fspan%3E%3A%3A%3Cspan+class%3D%22hljs-stl_container%22%3E%3Cspan+class%3D%22hljs-built_in%22%3Emap%3C%2Fspan%3E%26lt%3Buint256%2C+CAmount%26gt%3B%3C%2Fspan%3E+mapDeltas%3B%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F**+%E5%88%9B%E5%BB%BA%E6%96%B0%E7%9A%84mempool+*%2F%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Eexplicit%3C%2Fspan%3E+CTxMemPool%28CBlockPolicyEstimator*+estimator+%3D+%3Cspan+class%3D%22hljs-keyword%22%3Enullptr%3C%2Fspan%3E%29%3B%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F**+*+%E5%A6%82%E6%9E%9C%E5%BC%80%E5%90%AF%E4%BA%86sanity-check%EF%BC%8C%E9%82%A3%E4%B9%88check%E5%87%BD%E6%95%B0%E5%B0%86%E4%BC%9A%E4%BF%9D%E8%AF%81pool%E7%9A%84%E4%B8%80%E8%87%B4%E6%80%A7%EF%BC%8C+*+%E5%8D%B3%E4%B8%8D%E5%8C%85%E5%90%AB%E5%8F%8C%E8%8A%B1%E4%BA%A4%E6%98%93%EF%BC%8C%E6%89%80%E6%9C%89%E7%9A%84%E8%BE%93%E5%85%A5%E9%83%BD%E5%9C%A8mapNextTx%E6%95%B0%E7%BB%84%E4%B8%AD%E3%80%82+*+%E5%A6%82%E6%9E%9C%E5%85%B3%E9%97%AD%E4%BA%86sanity-check%2C%E9%82%A3%E4%B9%88check%E5%87%BD%E6%95%B0%E4%BB%80%E4%B9%88%E9%83%BD%E4%B8%8D%E5%81%9A+*%2F%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+check%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+CCoinsViewCache+*pcoins%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+setSanityCheck%28%3Cspan+class%3D%22hljs-keyword%22%3Edouble%3C%2Fspan%3E+dFrequency+%3D+%3Cspan+class%3D%22hljs-number%22%3E1.0%3C%2Fspan%3E%29+%7B+nCheckFrequency+%3D+dFrequency+*+%3Cspan+class%3D%22hljs-number%22%3E4294967295.0%3C%2Fspan%3E%3B+%7D%0A%0A+++++%3Cspan+class%3D%22hljs-comment%22%3E%2F**+*+addUnchecked%E5%87%BD%E6%95%B0%E5%BF%85%E9%A1%BB%E9%A6%96%E5%85%88%E6%9B%B4%E6%96%B0%E4%BA%A4%E6%98%93%E7%9A%84%E7%A5%96%E5%85%88%E4%BA%A4%E6%98%93%E7%8A%B6%E6%80%81%EF%BC%8C+*+%E7%AC%AC%E4%B8%80%E4%B8%AAaddUnchecked%E5%87%BD%E6%95%B0%E5%8F%AF%E4%BB%A5%E7%94%A8%E6%9D%A5%E8%B0%83%E7%94%A8CalculateMemPoolAncestors%28%29%2C+*+%E7%84%B6%E5%90%8E%E8%B0%83%E7%94%A8%E7%AC%AC%E4%BA%8C%E4%B8%AAaddUnchecked+*%2F%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Ebool%3C%2Fspan%3E+addUnchecked%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+uint256%26amp%3B+hash%2C+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+CTxMemPoolEntry+%26amp%3Bentry%2C+%3Cspan+class%3D%22hljs-keyword%22%3Ebool%3C%2Fspan%3E+validFeeEstimate+%3D+%3Cspan+class%3D%22hljs-keyword%22%3Etrue%3C%2Fspan%3E%29%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Ebool%3C%2Fspan%3E+addUnchecked%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+uint256%26amp%3B+hash%2C+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+CTxMemPoolEntry+%26amp%3Bentry%2C+setEntries+%26amp%3BsetAncestors%2C+%3Cspan+class%3D%22hljs-keyword%22%3Ebool%3C%2Fspan%3E+validFeeEstimate+%3D+%3Cspan+class%3D%22hljs-keyword%22%3Etrue%3C%2Fspan%3E%29%3B%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+removeRecursive%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+CTransaction+%26amp%3Btx%2C+MemPoolRemovalReason+reason+%3D+MemPoolRemovalReason%3A%3AUNKNOWN%29%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+removeForReorg%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+CCoinsViewCache+*pcoins%2C+%3Cspan+class%3D%22hljs-keyword%22%3Eunsigned%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Eint%3C%2Fspan%3E+nMemPoolHeight%2C+%3Cspan+class%3D%22hljs-keyword%22%3Eint%3C%2Fspan%3E+flags%29%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+removeConflicts%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+CTransaction+%26amp%3Btx%29%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+removeForBlock%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-built_in%22%3Estd%3C%2Fspan%3E%3A%3A%3Cspan+class%3D%22hljs-stl_container%22%3E%3Cspan+class%3D%22hljs-built_in%22%3Evector%3C%2Fspan%3E%26lt%3BCTransactionRef%26gt%3B%3C%2Fspan%3E%26amp%3B+vtx%2C+%3Cspan+class%3D%22hljs-keyword%22%3Eunsigned%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Eint%3C%2Fspan%3E+nBlockHeight%29%3B%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+clear%28%29%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+_clear%28%29%3B+%3Cspan+class%3D%22hljs-comment%22%3E%2F%2Flock+free%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Ebool%3C%2Fspan%3E+CompareDepthAndScore%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+uint256%26amp%3B+hasha%2C+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+uint256%26amp%3B+hashb%29%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+queryHashes%28%3Cspan+class%3D%22hljs-built_in%22%3Estd%3C%2Fspan%3E%3A%3A%3Cspan+class%3D%22hljs-stl_container%22%3E%3Cspan+class%3D%22hljs-built_in%22%3Evector%3C%2Fspan%3E%26lt%3Buint256%26gt%3B%3C%2Fspan%3E%26amp%3B+vtxid%29%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Ebool%3C%2Fspan%3E+isSpent%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+COutPoint%26amp%3B+outpoint%29%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Eunsigned%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Eint%3C%2Fspan%3E+GetTransactionsUpdated%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+AddTransactionsUpdated%28%3Cspan+class%3D%22hljs-keyword%22%3Eunsigned%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Eint%3C%2Fspan%3E+n%29%3B%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F**+*+%E6%A3%80%E6%9F%A5%E4%BA%A4%E6%98%93%E7%9A%84%E8%BE%93%E5%85%A5%E6%98%AF%E5%90%A6%E5%9C%A8%E5%BD%93%E5%89%8D%E7%9A%84mempool%E4%B8%AD+*%2F%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Ebool%3C%2Fspan%3E+HasNoInputsOf%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+CTransaction%26amp%3B+tx%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E%3B%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F**+%E8%B0%83%E6%95%B4+CreateNewBlock+%E6%97%B6%E4%BA%A4%E6%98%93%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7+*%2F%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+PrioritiseTransaction%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+uint256%26amp%3B+hash%2C+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+CAmount%26amp%3B+nFeeDelta%29%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+ApplyDelta%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+uint256+hash%2C+CAmount+%26amp%3BnFeeDelta%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+ClearPrioritisation%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+uint256+hash%29%3B%0A%0A%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E%3A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F**+*+%E4%BB%8Emempool%E4%B8%AD%E7%A7%BB%E9%99%A4%E4%B8%80%E4%B8%AA%E4%BA%A4%E6%98%93%E9%9B%86%E5%90%88%EF%BC%8C+*+%E5%A6%82%E6%9E%9C%E4%B8%80%E4%B8%AA%E4%BA%A4%E6%98%93%E5%9C%A8%E8%BF%99%E4%B8%AA%E9%9B%86%E5%90%88%E4%B8%AD%EF%BC%8C%E9%82%A3%E4%B9%88%E5%AE%83%E7%9A%84%E6%89%80%E6%9C%89%E5%AD%90%E5%AD%99%E4%BA%A4%E6%98%93%E9%83%BD%E5%BF%85%E9%A1%BB%E5%9C%A8%E9%9B%86%E5%90%88%E4%B8%AD%EF%BC%8C+*+%E9%99%A4%E9%9D%9E%E8%AF%A5%E4%BA%A4%E6%98%93%E5%B7%B2%E7%BB%8F%E8%A2%AB%E6%89%93%E5%8C%85%E5%88%B0%E5%8C%BA%E5%9D%97%E4%B8%AD%E3%80%82+*+%E5%A6%82%E6%9E%9C%E8%A6%81%E7%A7%BB%E9%99%A4%E4%B8%80%E4%B8%AA%E5%B7%B2%E7%BB%8F%E8%A2%AB%E6%89%93%E5%8C%85%E5%88%B0%E5%8C%BA%E5%9D%97%E4%B8%AD%E7%9A%84%E4%BA%A4%E6%98%93%EF%BC%8C+*+%E9%82%A3%E4%B9%88%E8%A6%81%E6%8A%8AupdateDescendants%E8%AE%BE%E4%B8%BAtrue%EF%BC%8C+*+%E4%BB%8E%E8%80%8C%E6%9B%B4%E6%96%B0mempool%E4%B8%AD%E6%89%80%E6%9C%89%E5%AD%90%E5%AD%99%E8%8A%82%E7%82%B9%E7%9A%84%E7%A5%96%E5%85%88%E4%BF%A1%E6%81%AF+*%2F%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+RemoveStaged%28setEntries+%26amp%3Bstage%2C+%3Cspan+class%3D%22hljs-keyword%22%3Ebool%3C%2Fspan%3E+updateDescendants%2C+MemPoolRemovalReason+reason+%3D+MemPoolRemovalReason%3A%3AUNKNOWN%29%3B%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F**+*+%E4%BB%8E%E7%AB%9E%E4%BA%89%E5%A4%B1%E8%B4%A5%E7%9A%84Block%E4%B8%AD%E6%9B%B4%E6%96%B0%E4%BA%A4%E6%98%93%E4%BF%A1%E6%81%AF%E5%88%B0mempool+*%2F%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+UpdateTransactionsFromBlock%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-built_in%22%3Estd%3C%2Fspan%3E%3A%3A%3Cspan+class%3D%22hljs-stl_container%22%3E%3Cspan+class%3D%22hljs-built_in%22%3Evector%3C%2Fspan%3E%26lt%3Buint256%26gt%3B%3C%2Fspan%3E+%26amp%3BvHashesToUpdate%29%3B%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F**+%E8%AE%A1%E7%AE%97mempool%E4%B8%AD%E6%89%80%E6%9C%89entry%E7%9A%84%E7%A5%96%E5%85%88+*+limitAncestorCount+%3D+%E6%9C%80%E5%A4%A7%E7%A5%96%E5%85%88%E6%95%B0%E9%87%8F+*+limitAncestorSize+%3D+%E6%9C%80%E5%A4%A7%E7%A5%96%E5%85%88%E4%BA%A4%E6%98%93%E5%A4%A7%E5%B0%8F+*+limitDescendantCount+%3D+%E4%BB%BB%E6%84%8F%E7%A5%96%E5%85%88%E7%9A%84%E6%9C%80%E5%A4%A7%E5%AD%90%E5%AD%99%E6%95%B0%E9%87%8F+*+limitDescendantSize+%3D+%E4%BB%BB%E6%84%8F%E7%A5%96%E5%85%88%E7%9A%84%E6%9C%80%E5%A4%A7%E5%AD%90%E5%AD%99%E5%A4%A7%E5%B0%8F+*+errString+%3D+%E8%B6%85%E8%BF%87%E4%BA%86%E4%BB%BB%E4%BD%95limit%E9%99%90%E5%88%B6%E7%9A%84%E9%94%99%E8%AF%AF%E6%8F%90%E7%A4%BA+*+fSearchForParents+%3D+%E6%98%AF%E5%90%A6%E5%9C%A8mempool%E4%B8%AD%E6%90%9C%E7%B4%A2%E4%BA%A4%E6%98%93%E7%9A%84%E8%BE%93%E5%85%A5%EF%BC%8C+*+%E6%88%96%E8%80%85%E4%BB%8EmapLinks%E4%B8%AD%E6%9F%A5%E6%89%BE%EF%BC%8C%E5%AF%B9%E4%BA%8E%E4%B8%8D%E5%9C%A8mempool%E4%B8%AD%E7%9A%84entry%E5%BF%85%E9%A1%BB%E8%AE%BE%E4%B8%BAtrue+*%2F%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Ebool%3C%2Fspan%3E+CalculateMemPoolAncestors%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+CTxMemPoolEntry+%26amp%3Bentry%2C+setEntries+%26amp%3BsetAncestors%2C+uint64_t+limitAncestorCount%2C+uint64_t+limitAncestorSize%2C+uint64_t+limitDescendantCount%2C+uint64_t+limitDescendantSize%2C+%3Cspan+class%3D%22hljs-built_in%22%3Estd%3C%2Fspan%3E%3A%3A%3Cspan+class%3D%22hljs-built_in%22%3Estring%3C%2Fspan%3E+%26amp%3BerrString%2C+%3Cspan+class%3D%22hljs-keyword%22%3Ebool%3C%2Fspan%3E+fSearchForParents+%3D+%3Cspan+class%3D%22hljs-keyword%22%3Etrue%3C%2Fspan%3E%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E%3B%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F**+Populate+setDescendants+with+all+in-mempool+descendants+of+hash.+*+Assumes+that+setDescendants+includes+all+in-mempool+descendants+of+anything+*+already+in+it.+*%2F%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+CalculateDescendants%28txiter+it%2C+setEntries+%26amp%3BsetDescendants%29%3B%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F**+*+%E8%BF%94%E5%9B%9E%E8%BF%9B%E5%85%A5mempool%E9%9C%80%E8%A6%81%E7%9A%84%E6%9C%80%E5%B0%8F%E4%BA%A4%E6%98%93%E8%B4%B9%EF%BC%8C+*+incrementalRelayFee%E5%8F%98%E9%87%8F%E7%94%A8%E6%9D%A5%E9%99%90%E5%88%B6feerate%E9%99%8D%E5%88%B00%E6%89%80%E9%9C%80%E7%9A%84%E6%97%B6%E9%97%B4%E3%80%82+*%2F%3C%2Fspan%3E%0A++++CFeeRate+GetMinFee%28size_t+sizelimit%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E%3B%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F**+*+%E7%A7%BB%E9%99%A4%E6%89%80%E6%9C%89%E5%8A%A8%E6%80%81%E5%A4%A7%E5%B0%8F%E8%B6%85%E8%BF%87sizelimit%E7%9A%84%E4%BA%A4%E6%98%93%EF%BC%8C+*+%E5%A6%82%E6%9E%9C%E4%BC%A0%E5%85%A5%E4%BA%86pvNoSpendsRemaining%EF%BC%8C%E9%82%A3%E4%B9%88%E5%B0%86%E8%BF%94%E5%9B%9E%E4%B8%8D%E5%9C%A8mempool%E4%B8%AD%E5%B9%B6%E4%B8%94%E4%B9%9F%E6%B2%A1%E6%9C%89+*+%E4%BB%BB%E4%BD%95%E8%BE%93%E5%87%BA%E5%9C%A8mempool%E7%9A%84%E4%BA%A4%E6%98%93%E5%88%97%E8%A1%A8+*%2F%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+TrimToSize%28size_t+sizelimit%2C+%3Cspan+class%3D%22hljs-built_in%22%3Estd%3C%2Fspan%3E%3A%3A%3Cspan+class%3D%22hljs-stl_container%22%3E%3Cspan+class%3D%22hljs-built_in%22%3Evector%3C%2Fspan%3E%26lt%3BCOutPoint%26gt%3B%3C%2Fspan%3E*+pvNoSpendsRemaining%3D%3Cspan+class%3D%22hljs-keyword%22%3Enullptr%3C%2Fspan%3E%29%3B%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F**+*+%E7%A7%BB%E9%99%A4%E6%89%80%E6%9C%89%E5%9C%A8time%E4%B9%8B%E5%89%8D%E7%9A%84%E4%BA%A4%E6%98%93%E5%92%8C%E5%AE%83%E7%9A%84%E5%AD%90%E5%AD%99%E4%BA%A4%E6%98%93%EF%BC%8C+*+%E8%BF%94%E5%9B%9E%E7%A7%BB%E9%99%A4%E7%9A%84%E6%95%B0%E9%87%8F+*%2F%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Eint%3C%2Fspan%3E+Expire%28int64_t+time%29%3B%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F**+%E5%A6%82%E6%9E%9C%E4%BA%A4%E6%98%93%E4%B8%8D%E6%BB%A1%E8%B6%B3chain+limit%EF%BC%8C%E8%BF%94%E5%9B%9Efalse*%2F%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Ebool%3C%2Fspan%3E+TransactionWithinChainLimit%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+uint256%26amp%3B+txid%2C+size_t+chainLimit%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E%3B%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Eunsigned%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Elong%3C%2Fspan%3E+size%28%29%0A++++%7B%0A++++++++LOCK%28cs%29%3B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+mapTx.size%28%29%3B%0A++++%7D%0A%0A++++uint64_t+GetTotalTxSize%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E%0A++++%7B%0A++++++++LOCK%28cs%29%3B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+totalTxSize%3B%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Ebool%3C%2Fspan%3E+exists%28uint256+hash%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E%0A++++%7B%0A++++++++LOCK%28cs%29%3B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+%28mapTx.count%28hash%29+%21%3D+%3Cspan+class%3D%22hljs-number%22%3E0%3C%2Fspan%3E%29%3B%0A++++%7D%0A%0A++++CTransactionRef+get%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+uint256%26amp%3B+hash%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E%3B%0A++++TxMempoolInfo+info%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+uint256%26amp%3B+hash%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E%3B%0A++++%3Cspan+class%3D%22hljs-built_in%22%3Estd%3C%2Fspan%3E%3A%3A%3Cspan+class%3D%22hljs-stl_container%22%3E%3Cspan+class%3D%22hljs-built_in%22%3Evector%3C%2Fspan%3E%26lt%3BTxMempoolInfo%26gt%3B%3C%2Fspan%3E+infoAll%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E%3B%0A%0A++++size_t+DynamicMemoryUsage%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E%3B%0A%0A++++boost%3A%3Asignals2%3A%3Asignal%26lt%3B%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+%28CTransactionRef%29%26gt%3B+NotifyEntryAdded%3B%0A++++boost%3A%3Asignals2%3A%3Asignal%26lt%3B%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+%28CTransactionRef%2C+MemPoolRemovalReason%29%26gt%3B+NotifyEntryRemoved%3B%0A%0A%3Cspan+class%3D%22hljs-keyword%22%3Eprivate%3C%2Fspan%3E%3A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F**+UpdateForDescendants+%E6%98%AF%E8%A2%AB+UpdateTransactionsFromBlock+%E8%B0%83%E7%94%A8%EF%BC%8C+*+%E7%94%A8%E6%9D%A5%E6%9B%B4%E6%96%B0%E8%A2%AB%E5%8A%A0%E5%85%A5pool%E4%B8%AD%E7%9A%84%E5%8D%95%E4%B8%AA%E4%BA%A4%E6%98%93%E7%9A%84%E5%AD%90%E5%AD%99%E8%8A%82%E8%8A%82%E7%82%B9%EF%BC%9B+*+setExclude+%E6%98%AF%E5%86%85%E5%AD%98%E6%B1%A0%E4%B8%AD%E4%B8%8D%E7%94%A8%E6%9B%B4%E6%96%B0%E7%9A%84%E5%AD%90%E5%AD%99%E4%BA%A4%E6%98%93%E9%9B%86%E5%90%88+%28because+any+descendants+in+*+setExclude+were+added+to+the+mempool+after+the+transaction+being+*+updated+and+hence+their+state+is+already+reflected+in+the+parent+*+state%29.+*+*+%E5%BD%93%E5%AD%90%E5%AD%99%E4%BA%A4%E6%98%93%E8%A2%AB%E6%9B%B4%E6%96%B0%E6%97%B6%EF%BC%8CcachedDescendants%E4%B9%9F%E5%90%8C%E6%97%B6%E6%9B%B4%E6%96%B0+*%2F%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+UpdateForDescendants%28txiter+updateIt%2C%0A++++++++++++cacheMap+%26amp%3BcachedDescendants%2C%0A++++++++++++%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-built_in%22%3Estd%3C%2Fspan%3E%3A%3A%3Cspan+class%3D%22hljs-stl_container%22%3E%3Cspan+class%3D%22hljs-built_in%22%3Eset%3C%2Fspan%3E%26lt%3Buint256%26gt%3B%3C%2Fspan%3E+%26amp%3BsetExclude%29%3B%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F**+Update+ancestors+of+hash+to+add%2Fremove+it+as+a+descendant+transaction.+*%2F%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+UpdateAncestorsOf%28%3Cspan+class%3D%22hljs-keyword%22%3Ebool%3C%2Fspan%3E+add%2C+txiter+hash%2C+setEntries+%26amp%3BsetAncestors%29%3B%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F**+%E8%AE%BE%E7%BD%AE%E4%B8%80%E4%B8%AAentry%E7%9A%84%E7%A5%96%E5%85%88+*%2F%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+UpdateEntryForAncestors%28txiter+it%2C+%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+setEntries+%26amp%3BsetAncestors%29%3B%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F**+%E5%AF%B9%E4%BA%8E%E6%AF%8F%E4%B8%80%E4%B8%AA%E8%A6%81%E7%A7%BB%E9%99%A4%E7%9A%84%E4%BA%A4%E6%98%93%EF%BC%8C%E6%9B%B4%E6%96%B0%E5%AE%83%E7%9A%84%E7%A5%96%E5%85%88%E5%92%8C%E7%9B%B4%E6%8E%A5%E7%9A%84%E5%84%BF%E5%AD%90%E3%80%82+*+%E5%A6%82%E6%9E%9CupdateDescendants+%E8%AE%BE%E4%B8%BA+true%2C+%E9%82%A3%E4%B9%88%E8%BF%98%E5%90%8C%E6%97%B6%E6%9B%B4%E6%96%B0mempool%E4%B8%AD%E5%AD%90%E5%AD%99%E7%9A%84%E7%A5%96%E5%85%88%E7%8A%B6%E6%80%81+*%2F%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+UpdateForRemoveFromMempool%28%3Cspan+class%3D%22hljs-keyword%22%3Econst%3C%2Fspan%3E+setEntries+%26amp%3BentriesToRemove%2C+%3Cspan+class%3D%22hljs-keyword%22%3Ebool%3C%2Fspan%3E+updateDescendants%29%3B%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F**+Sever+link+between+specified+transaction+and+direct+children.+*%2F%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+UpdateChildrenForRemoval%28txiter+entry%29%3B%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F**+%E5%AF%B9%E4%BA%8E%E4%B8%80%E4%B8%AA%E7%89%B9%E5%AE%9A%E7%9A%84%E4%BA%A4%E6%98%93%EF%BC%8C%E8%B0%83%E7%94%A8+removeUnchecked+%E4%B9%8B%E5%89%8D%EF%BC%8C+*+%E5%BF%85%E9%A1%BB%E4%B8%BA%E5%90%8C%E6%97%B6%E4%B8%BA%E8%A6%81%E7%A7%BB%E9%99%A4%E7%9A%84%E4%BA%A4%E6%98%93%E9%9B%86%E5%90%88%E8%B0%83%E7%94%A8UpdateForRemoveFromMempool%E3%80%82+*+%E6%88%91%E4%BB%AC%E4%BD%BF%E7%94%A8%E6%AF%8F%E4%B8%AACTxMemPoolEntry%E4%B8%AD%E7%9A%84setMemPoolParents%E6%9D%A5%E9%81%8D%E5%8E%86+*+%E8%A6%81%E7%A7%BB%E9%99%A4%E4%BA%A4%E6%98%93%E7%9A%84%E7%A5%96%E5%85%88%EF%BC%8C%E8%BF%99%E6%A0%B7%E8%83%BD%E4%BF%9D%E8%AF%81%E6%88%91%E4%BB%AC%E6%9B%B4%E6%96%B0%E7%9A%84%E6%AD%A3%E7%A1%AE%E6%80%A7%E3%80%82+*%2F%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+removeUnchecked%28txiter+entry%2C+MemPoolRemovalReason+reason+%3D+MemPoolRemovalReason%3A%3AUNKNOWN%29%3B%0A%7D%3B%3C%2Fcode%3E%3C%2Fpre%3E+%0A+%3C%2Fdiv%3E+%0A+%3Clink+href%3D%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fphoenix%2Fmdeditor%2Fmarkdown_views-7f770a53f2.css%22+rel%3D%22stylesheet%22%3E+%0A%3C%2Fdiv%3E+%0A%3Cdiv+class%3D%22hide-article-box+text-center%22%3E+%0A+%3Ca+class%3D%22btn%22+id%3D%22btn-readmore%22+data-track-view%3D%22%7B%26quot%3Bmod%26quot%3B%3A%26quot%3Bpopu_376%26quot%3B%2C%26quot%3Bcon%26quot%3B%3A%26quot%3B%2Chttps%3A%2F%2Fblog.csdn.net%2Fpure_lady%2Farticle%2Fdetails%2F77776716%2C%26quot%3B%7D%22+data-track-click%3D%22%7B%26quot%3Bmod%26quot%3B%3A%26quot%3Bpopu_376%26quot%3B%2C%26quot%3Bcon%26quot%3B%3A%26quot%3B%2Chttps%3A%2F%2Fblog.csdn.net%2Fpure_lady%2Farticle%2Fdetails%2F77776716%2C%26quot%3B%7D%22%3E%E9%98%85%E8%AF%BB%E6%9B%B4%E5%A4%9A%3C%2Fa%3E+%0A%3C%2Fdiv%3E+%0A%3Cscript%3E%0A%09%09%09%09%09%09%28function%28%29%7B%0A%09%09%09%09%09%09%09function+setArticleH%28btnReadmore%2Cposi%29%7B%0A%09%09%09%09%09%09%09%09var+winH+%3D+%24%28window%29.height%28%29%3B%0A%09%09%09%09%09%09%09%09var+articleBox+%3D+%24%28%22div.article_content%22%29%3B%0A%09%09%09%09%09%09%09%09var+artH+%3D+articleBox.height%28%29%3B%0A%09%09%09%09%09%09%09%09if%28artH+%3E+winH*posi%29%7B%0A%09%09%09%09%09%09%09%09%09articleBox.css%28%7B%0A%09%09%09%09%09%09%09%09%09%09%27height%27%3AwinH*posi%2B%27px%27%2C%0A%09%09%09%09%09%09%09%09%09%09%27overflow%27%3A%27hidden%27%0A%09%09%09%09%09%09%09%09%09%7D%29%0A%09%09%09%09%09%09%09%09%09btnReadmore.click%28function%28%29%7B%0A%09%09%09%09%09%09%09%09%09%09articleBox.removeAttr%28%22style%22%29%3B%0A%09%09%09%09%09%09%09%09%09%09%24%28this%29.parent%28%29.remove%28%29%3B%0A%09%09%09%09%09%09%09%09%09%7D%29%0A%09%09%09%09%09%09%09%09%7Delse%7B%0A%09%09%09%09%09%09%09%09%09btnReadmore.parent%28%29.remove%28%29%3B%0A%09%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%09var+btnReadmore+%3D+%24%28%22%23btn-readmore%22%29%3B%0A%09%09%09%09%09%09%09if%28btnReadmore.length%3E0%29%7B%0A%09%09%09%09%09%09%09%09if%28currentUserName%29%7B%0A%09%09%09%09%09%09%09%09%09setArticleH%28btnReadmore%2C3%29%3B%0A%09%09%09%09%09%09%09%09%7Delse%7B%0A%09%09%09%09%09%09%09%09%09setArticleH%28btnReadmore%2C1.2%29%3B%0A%09%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%7D%29%28%29%0A%09%09%09%09%09%3C%2Fscript%3E" | url_decode}}