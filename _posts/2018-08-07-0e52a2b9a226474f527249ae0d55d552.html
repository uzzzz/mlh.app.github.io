---
layout: default
title: 区块链-JAVA简单实现
---

{{ "%3Cdiv+id%3D%22article_content%22+class%3D%22article_content+clearfix+csdn-tracking-statistics%22+data-pid%3D%22blog%22+data-mod%3D%22popu_307%22+data-dsm%3D%22post%22%3E+%0A+%3Cdiv+class%3D%22markdown_views%22%3E+%0A++%3Ch3+id%3D%221-%E5%AE%9A%E4%B9%89%E5%9D%97%22%3E1%E3%80%81+%E5%AE%9A%E4%B9%89%E5%9D%97%3C%2Fh3%3E+%0A++%3Cpre+class%3D%22prettyprint%22%3E%3Ccode+class%3D%22+hljs+java%22%3E%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-class%22%3E%3Cspan+class%3D%22hljs-keyword%22%3Eclass%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EBlock%3C%2Fspan%3E+%7B%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-javadoc%22%3E%2F**+*+%E5%BD%93%E5%89%8D%E5%9D%97%E7%B4%A2%E5%BC%95+*%2F%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Eprivate%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Eint%3C%2Fspan%3E+index%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Eprivate%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Elong%3C%2Fspan%3E+timestamp%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Eprivate%3C%2Fspan%3E+String+preBlockHash%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Eprivate%3C%2Fspan%3E+String+currentHash%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Eprivate%3C%2Fspan%3E+String+data%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Eprivate%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Eint%3C%2Fspan%3E+nonce%3B%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EBlock%3C%2Fspan%3E%28%29%7B%0A%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Eint%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EgetIndex%3C%2Fspan%3E%28%29+%7B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+index%3B%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EsetIndex%3C%2Fspan%3E%28%3Cspan+class%3D%22hljs-keyword%22%3Eint%3C%2Fspan%3E+index%29+%7B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ethis%3C%2Fspan%3E.index+%3D+index%3B%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Elong%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EgetTimestamp%3C%2Fspan%3E%28%29+%7B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+timestamp%3B%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EsetTimestamp%3C%2Fspan%3E%28%3Cspan+class%3D%22hljs-keyword%22%3Elong%3C%2Fspan%3E+timestamp%29+%7B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ethis%3C%2Fspan%3E.timestamp+%3D+timestamp%3B%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+String+%3Cspan+class%3D%22hljs-title%22%3EgetPreBlockHash%3C%2Fspan%3E%28%29+%7B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+preBlockHash%3B%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EsetPreBlockHash%3C%2Fspan%3E%28String+preBlockHash%29+%7B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ethis%3C%2Fspan%3E.preBlockHash+%3D+preBlockHash%3B%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+String+%3Cspan+class%3D%22hljs-title%22%3EgetCurrentHash%3C%2Fspan%3E%28%29+%7B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+currentHash%3B%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EsetCurrentHash%3C%2Fspan%3E%28String+currentHash%29+%7B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ethis%3C%2Fspan%3E.currentHash+%3D+currentHash%3B%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+String+%3Cspan+class%3D%22hljs-title%22%3EgetData%3C%2Fspan%3E%28%29+%7B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+data%3B%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EsetData%3C%2Fspan%3E%28String+data%29+%7B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ethis%3C%2Fspan%3E.data+%3D+data%3B%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Eint%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EgetNonce%3C%2Fspan%3E%28%29+%7B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+nonce%3B%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EsetNonce%3C%2Fspan%3E%28%3Cspan+class%3D%22hljs-keyword%22%3Eint%3C%2Fspan%3E+nonce%29+%7B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ethis%3C%2Fspan%3E.nonce+%3D+nonce%3B%0A++++%7D%0A%7D%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Ch3+id%3D%222-%E5%AE%9A%E4%B9%89%E5%8C%BA%E5%9D%97%E9%93%BE%E4%BD%BF%E7%94%A8list%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%22%3E2%E3%80%81+%E5%AE%9A%E4%B9%89%E5%8C%BA%E5%9D%97%E9%93%BE%EF%BC%88%E4%BD%BF%E7%94%A8List%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%89%3C%2Fh3%3E+%0A++%3Cpre+class%3D%22prettyprint%22%3E%3Ccode+class%3D%22+hljs+cs%22%3E%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Eclass%3C%2Fspan%3E+BlockChain+%7B%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Eprivate%3C%2Fspan%3E+List%26lt%3BBlock%26gt%3B+blocks%3B%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EBlockChain%3C%2Fspan%3E%28%29%7B%0A++++++++blocks+%3D+%3Cspan+class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E+ArrayList%28%29%3B%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+List%26lt%3BBlock%26gt%3B+%3Cspan+class%3D%22hljs-title%22%3EgetBlocks%3C%2Fspan%3E%28%29+%7B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+blocks%3B%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EsetBlocks%3C%2Fspan%3E%28List%26lt%3BBlock%26gt%3B+blocks%29+%7B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ethis%3C%2Fspan%3E.blocks+%3D+blocks%3B%0A++++%7D%0A%7D%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Ch3+id%3D%223-%E5%AE%9A%E4%B9%89%E5%9D%97%E6%93%8D%E4%BD%9C%E6%8E%A5%E5%8F%A3%E5%8F%8A%E5%AE%9E%E7%8E%B0%E7%B1%BB%22%3E3%E3%80%81+%E5%AE%9A%E4%B9%89%E5%9D%97%E6%93%8D%E4%BD%9C%E6%8E%A5%E5%8F%A3%E5%8F%8A%E5%AE%9E%E7%8E%B0%E7%B1%BB%3C%2Fh3%3E+%0A++%3Cpre+class%3D%22prettyprint%22%3E%3Ccode+class%3D%22+hljs+java%22%3E%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F%E6%8E%A5%E5%8F%A3%3C%2Fspan%3E%0A%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-class%22%3E%3Cspan+class%3D%22hljs-keyword%22%3Einterface%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EBlockService%3C%2Fspan%3E+%7B%3C%2Fspan%3E%0A%0A++++%3Cspan+class%3D%22hljs-javadoc%22%3E%2F**+*+%E7%94%9F%E6%88%90%E5%88%9B%E4%B8%96%E5%9D%97+*%3Cspan+class%3D%22hljs-javadoctag%22%3E+%40return%3C%2Fspan%3E+*%2F%3C%2Fspan%3E%0A++++Block+geneGenesisBlock%28%29%3B%0A%0A++++%3Cspan+class%3D%22hljs-javadoc%22%3E%2F**+*+%E6%A0%B9%E6%8D%AE%E5%89%8D%E4%B8%80%E5%9D%97%E7%94%9F%E6%88%90%E5%90%8E%E4%B8%80%E5%9D%97+*%3Cspan+class%3D%22hljs-javadoctag%22%3E+%40param%3C%2Fspan%3E+newData+%E5%BD%93%E5%89%8D%E5%9D%97%E5%86%85%E5%AE%B9+*%3Cspan+class%3D%22hljs-javadoctag%22%3E+%40return%3C%2Fspan%3E+*%2F%3C%2Fspan%3E%0A++++Block+geneNextBlock%28String+newData%29%3B%0A%0A++++%3Cspan+class%3D%22hljs-javadoc%22%3E%2F**+*+%E5%B7%A5%E4%BD%9C%E9%87%8F%E8%AF%81%E6%98%8E+*%3Cspan+class%3D%22hljs-javadoctag%22%3E+%40param%3C%2Fspan%3E+block+*%3Cspan+class%3D%22hljs-javadoctag%22%3E+%40return%3C%2Fspan%3E+*%2F%3C%2Fspan%3E%0A++++String+geneBlockHash%28Block+block%29%3B%0A%7D%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Cpre+class%3D%22prettyprint%22%3E%3Ccode+class%3D%22+hljs+java%22%3E%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%B1%BB%3C%2Fspan%3E%0A%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-class%22%3E%3Cspan+class%3D%22hljs-keyword%22%3Eclass%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EBlockServiceImpl%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Eimplements%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EBlockService%3C%2Fspan%3E+%7B%3C%2Fspan%3E%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Eprivate%3C%2Fspan%3E+BlockChain+blockChain%3B%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Eprivate%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Efinal%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Eint%3C%2Fspan%3E+DIFFICULTY+%3D+%3Cspan+class%3D%22hljs-number%22%3E2%3C%2Fspan%3E%3B%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EBlockServiceImpl%3C%2Fspan%3E%28BlockChain+blockChain%29%7B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ethis%3C%2Fspan%3E.blockChain+%3D+blockChain%3B%0A++++%7D%0A%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+Block+%3Cspan+class%3D%22hljs-title%22%3EgeneGenesisBlock%3C%2Fspan%3E%28%29+%7B%0A++++++++Block+block+%3D+%3Cspan+class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E+Block%28%29%3B%0A++++++++block.setIndex%28-%3Cspan+class%3D%22hljs-number%22%3E1%3C%2Fspan%3E%29%3B%0A++++++++block.setTimestamp%28System.currentTimeMillis%28%29%29%3B%0A++++++++block.setData%28%3Cspan+class%3D%22hljs-string%22%3E%22gene+genesis+block%22%3C%2Fspan%3E%29%3B%0A++++++++block.setCurrentHash%28geneBlockHash%28block%29%29%3B%0A++++++++block.setPreBlockHash%28%3Cspan+class%3D%22hljs-string%22%3E%22%22%3C%2Fspan%3E%29%3B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+block%3B%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+Block+%3Cspan+class%3D%22hljs-title%22%3EgeneNextBlock%3C%2Fspan%3E%28String+newData%29+%7B%0A++++++++Block+preBlock+%3D+blockChain.getBlocks%28%29.get%28blockChain.getBlocks%28%29.size%28%29-%3Cspan+class%3D%22hljs-number%22%3E1%3C%2Fspan%3E%29%3B%0A++++++++Block+newBlock+%3D+%3Cspan+class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E+Block%28%29%3B%0A++++++++newBlock.setIndex%28preBlock.getIndex%28%29%2B%3Cspan+class%3D%22hljs-number%22%3E1%3C%2Fspan%3E%29%3B%0A++++++++newBlock.setTimestamp%28System.currentTimeMillis%28%29%29%3B%0A++++++++newBlock.setData%28newData%29%3B%0A++++++++newBlock.setPreBlockHash%28preBlock.getCurrentHash%28%29%29%3B%0A++++++++newBlock.setCurrentHash%28geneBlockHash%28newBlock%29%29%3B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+newBlock%3B%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+String+%3Cspan+class%3D%22hljs-title%22%3EgeneBlockHash%3C%2Fspan%3E%28Block+block%29%7B%0A++++++++String+target+%3D+%3Cspan+class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E+String%28%3Cspan+class%3D%22hljs-keyword%22%3Enew%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Echar%3C%2Fspan%3E%5BDIFFICULTY%5D%29.replace%28%3Cspan+class%3D%22hljs-string%22%3E%27%5C0%27%3C%2Fspan%3E%2C+%3Cspan+class%3D%22hljs-string%22%3E%270%27%3C%2Fspan%3E%29%3B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Eint%3C%2Fspan%3E+i%3D%3Cspan+class%3D%22hljs-number%22%3E0%3C%2Fspan%3E%3B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Eboolean%3C%2Fspan%3E+flag+%3D%3Cspan+class%3D%22hljs-keyword%22%3Etrue%3C%2Fspan%3E%3B%0A++++++++String+hash%3D%3Cspan+class%3D%22hljs-string%22%3E%22%22%3C%2Fspan%3E%3B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ewhile%3C%2Fspan%3E%28flag%29%7B%0A++++++++++++hash+%3D+HashUtil.getSHA2HexValue%28block.getIndex%28%29%2Bblock.getTimestamp%28%29%2Bblock.getData%28%29%2Bblock.getPreBlockHash%28%29%2Bi%29%3B%0A++++++++++++%3Cspan+class%3D%22hljs-keyword%22%3Eif%3C%2Fspan%3E+%28%21hash.substring%28+%3Cspan+class%3D%22hljs-number%22%3E0%3C%2Fspan%3E%2C+DIFFICULTY%29.equals%28target%29%29%7B%0A++++++++++++++++i%2B%2B%3B%0A++++++++++++++++System.out.println%28hash%29%3B%0A++++++++++++%7D%3Cspan+class%3D%22hljs-keyword%22%3Eelse%3C%2Fspan%3E%7B%0A++++++++++++++++flag+%3D%3Cspan+class%3D%22hljs-keyword%22%3Efalse%3C%2Fspan%3E%3B%0A++++++++++++%7D%0A++++++++%7D%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ereturn%3C%2Fspan%3E+hash%3B%0A++++%7D%0A%7D%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Ch3+id%3D%224-%E5%8C%BA%E5%9D%97%E9%93%BE%E6%93%8D%E4%BD%9C%E6%8E%A5%E5%8F%A3%E5%8F%8A%E5%AE%9E%E7%8E%B0%E7%B1%BB%22%3E4%E3%80%81+%E5%8C%BA%E5%9D%97%E9%93%BE%E6%93%8D%E4%BD%9C%E6%8E%A5%E5%8F%A3%E5%8F%8A%E5%AE%9E%E7%8E%B0%E7%B1%BB%3C%2Fh3%3E+%0A++%3Cpre+class%3D%22prettyprint%22%3E%3Ccode+class%3D%22+hljs+java%22%3E%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F%E6%8E%A5%E5%8F%A3%3C%2Fspan%3E%0A%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-class%22%3E%3Cspan+class%3D%22hljs-keyword%22%3Einterface%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EBlockChainService%3C%2Fspan%3E+%7B%3C%2Fspan%3E%0A%0A++++%3Cspan+class%3D%22hljs-javadoc%22%3E%2F**+*+%E5%8C%BA%E5%9D%97%E9%93%BE%E5%A2%9E%E5%8A%A0%E5%8C%BA%E5%9D%97+*%3Cspan+class%3D%22hljs-javadoctag%22%3E+%40param%3C%2Fspan%3E+block+*%2F%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+appendBlock%28Block+block%29%3B%0A%7D%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Cpre+class%3D%22prettyprint%22%3E%3Ccode+class%3D%22+hljs+java%22%3E%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F%E5%AE%9E%E7%8E%B0%E7%B1%BB%3C%2Fspan%3E%0A%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-class%22%3E%3Cspan+class%3D%22hljs-keyword%22%3Eclass%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EBlockChainServiceImpl%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Eimplements%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EBlockChainService%3C%2Fspan%3E+%7B%3C%2Fspan%3E%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Eprivate%3C%2Fspan%3E+BlockChain+blockChain%3B%0A%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EBlockChainServiceImpl%3C%2Fspan%3E%28BlockChain+blockChain%29%7B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ethis%3C%2Fspan%3E.blockChain+%3D+blockChain%3B%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-javadoc%22%3E%2F**+*+%E8%BF%BD%E5%8A%A0%E5%9D%97+*%3Cspan+class%3D%22hljs-javadoctag%22%3E+%40param%3C%2Fspan%3E+block+*+*+TODO+%E6%A0%A1%E9%AA%8C%E5%9D%97%E6%98%AF%E5%90%A6%E6%98%AF%E6%9C%89%E6%95%88%E7%9A%84+*%2F%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-keyword%22%3Evoid%3C%2Fspan%3E+%3Cspan+class%3D%22hljs-title%22%3EappendBlock%3C%2Fspan%3E%28Block+block%29+%7B%0A++++++++blockChain.getBlocks%28%29.add%28block%29%3B%0A++++%7D%0A%7D%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Ch3+id%3D%225-%E6%B5%8B%E8%AF%95%22%3E5%E3%80%81+%E6%B5%8B%E8%AF%95%3C%2Fh3%3E+%0A++%3Cpre+class%3D%22prettyprint%22%3E%3Ccode+class%3D%22+hljs+avrasm%22%3Epublic+class+BlockTest+%7B%0A%0A++++public+static+void+main%28String%5B%5D+args%29%7B%0A%0A++++++++Gson+gson+%3D+new+Gson%28%29%3Cspan+class%3D%22hljs-comment%22%3E%3B%3C%2Fspan%3E%0A%0A++++++++%2F%2F%E5%88%9D%E5%A7%8B%E5%8C%BA%E5%9D%97%E9%93%BE%0A++++++++BlockChain+blockChain+%3Dnew+BlockChain%28%29%3Cspan+class%3D%22hljs-comment%22%3E%3B%3C%2Fspan%3E%0A%0A++++++++BlockChainServiceImpl+blockChainServiceImpl%3Dnew+BlockChainServiceImpl%28blockChain%29%3Cspan+class%3D%22hljs-comment%22%3E%3B%3C%2Fspan%3E%0A++++++++BlockServiceImpl+blockService+%3D+new+BlockServiceImpl%28blockChain%29%3Cspan+class%3D%22hljs-comment%22%3E%3B%3C%2Fspan%3E%0A%0A++++++++%2F%2F%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%9B%E4%B8%96%E5%BF%AB%0A++++++++Block+genesisBlock+%3D+blockService%3Cspan+class%3D%22hljs-preprocessor%22%3E.geneGenesisBlock%3C%2Fspan%3E%28%29%3Cspan+class%3D%22hljs-comment%22%3E%3B%3C%2Fspan%3E%0A%0A++++++++blockChainServiceImpl%3Cspan+class%3D%22hljs-preprocessor%22%3E.appendBlock%3C%2Fspan%3E%28genesisBlock%29%3Cspan+class%3D%22hljs-comment%22%3E%3B%3C%2Fspan%3E%0A++++++++blockChainServiceImpl%3Cspan+class%3D%22hljs-preprocessor%22%3E.appendBlock%3C%2Fspan%3E%28blockService%3Cspan+class%3D%22hljs-preprocessor%22%3E.geneNextBlock%3C%2Fspan%3E%28%3Cspan+class%3D%22hljs-string%22%3E%22test%22%3C%2Fspan%3E%29%29%3Cspan+class%3D%22hljs-comment%22%3E%3B%3C%2Fspan%3E%0A++++++++blockChainServiceImpl%3Cspan+class%3D%22hljs-preprocessor%22%3E.appendBlock%3C%2Fspan%3E%28blockService%3Cspan+class%3D%22hljs-preprocessor%22%3E.geneNextBlock%3C%2Fspan%3E%28%3Cspan+class%3D%22hljs-string%22%3E%22test1%22%3C%2Fspan%3E%29%29%3Cspan+class%3D%22hljs-comment%22%3E%3B%3C%2Fspan%3E%0A%0A++++++++System%3Cspan+class%3D%22hljs-preprocessor%22%3E.out%3C%2Fspan%3E%3Cspan+class%3D%22hljs-preprocessor%22%3E.println%3C%2Fspan%3E%28gson%3Cspan+class%3D%22hljs-preprocessor%22%3E.toJson%3C%2Fspan%3E%28blockChain%29%29%3Cspan+class%3D%22hljs-comment%22%3E%3B%3C%2Fspan%3E%0A%0A++++++++for+%28Block+block+%3A+blockChain%3Cspan+class%3D%22hljs-preprocessor%22%3E.getBlocks%3C%2Fspan%3E%28%29%29%7B%0A++++++++++++System%3Cspan+class%3D%22hljs-preprocessor%22%3E.out%3C%2Fspan%3E%3Cspan+class%3D%22hljs-preprocessor%22%3E.println%3C%2Fspan%3E%28%3Cspan+class%3D%22hljs-string%22%3E%22index%3A+%22%3C%2Fspan%3E%2Bblock%3Cspan+class%3D%22hljs-preprocessor%22%3E.getIndex%3C%2Fspan%3E%28%29%29%3Cspan+class%3D%22hljs-comment%22%3E%3B%3C%2Fspan%3E%0A++++++++++++System%3Cspan+class%3D%22hljs-preprocessor%22%3E.out%3C%2Fspan%3E%3Cspan+class%3D%22hljs-preprocessor%22%3E.println%3C%2Fspan%3E%28%3Cspan+class%3D%22hljs-string%22%3E%22timestamp%3A+%22%3C%2Fspan%3E%2Bblock%3Cspan+class%3D%22hljs-preprocessor%22%3E.getTimestamp%3C%2Fspan%3E%28%29%29%3Cspan+class%3D%22hljs-comment%22%3E%3B%3C%2Fspan%3E%0A++++++++++++System%3Cspan+class%3D%22hljs-preprocessor%22%3E.out%3C%2Fspan%3E%3Cspan+class%3D%22hljs-preprocessor%22%3E.println%3C%2Fspan%3E%28%3Cspan+class%3D%22hljs-string%22%3E%22preBlockHash%3A+%22%3C%2Fspan%3E%2Bblock%3Cspan+class%3D%22hljs-preprocessor%22%3E.getPreBlockHash%3C%2Fspan%3E%28%29%29%3Cspan+class%3D%22hljs-comment%22%3E%3B%3C%2Fspan%3E%0A++++++++++++System%3Cspan+class%3D%22hljs-preprocessor%22%3E.out%3C%2Fspan%3E%3Cspan+class%3D%22hljs-preprocessor%22%3E.println%3C%2Fspan%3E%28%3Cspan+class%3D%22hljs-string%22%3E%22currentHash%3A+%22%3C%2Fspan%3E%2Bblock%3Cspan+class%3D%22hljs-preprocessor%22%3E.getCurrentHash%3C%2Fspan%3E%28%29%29%3Cspan+class%3D%22hljs-comment%22%3E%3B%3C%2Fspan%3E%0A++++++++++++System%3Cspan+class%3D%22hljs-preprocessor%22%3E.out%3C%2Fspan%3E%3Cspan+class%3D%22hljs-preprocessor%22%3E.println%3C%2Fspan%3E%28%3Cspan+class%3D%22hljs-string%22%3E%22data%3A+%22%3C%2Fspan%3E%2Bblock%3Cspan+class%3D%22hljs-preprocessor%22%3E.getData%3C%2Fspan%3E%28%29%29%3Cspan+class%3D%22hljs-comment%22%3E%3B%3C%2Fspan%3E%0A++++++++++++System%3Cspan+class%3D%22hljs-preprocessor%22%3E.out%3C%2Fspan%3E%3Cspan+class%3D%22hljs-preprocessor%22%3E.println%3C%2Fspan%3E%28%29%3Cspan+class%3D%22hljs-comment%22%3E%3B%3C%2Fspan%3E%0A++++++++%7D%0A%0A++++%7D%0A%7D%3C%2Fcode%3E%3C%2Fpre%3E+%0A+%3C%2Fdiv%3E+%0A+%3Clink+rel%3D%22stylesheet%22+href%3D%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fphoenix%2Ftemplate%2Fcss%2Fmarkdown_views-ea0013b516.css%22%3E+%0A%3C%2Fdiv%3E+%0A%3Cdiv+class%3D%22hide-article-box+text-center%22%3E+%0A+%3Ca+class%3D%22btn+btn-red-hollow%22+id%3D%22btn-readmore%22+data-track-view%3D%22%7B%26quot%3Bmod%26quot%3B%3A%26quot%3Bpopu_376%26quot%3B%2C%26quot%3Bcon%26quot%3B%3A%26quot%3B%2Chttps%3A%2F%2Fblog.csdn.net%2Fu014271612%2Farticle%2Fdetails%2F81479959%2C%26quot%3B%7D%22+data-track-click%3D%22%7B%26quot%3Bmod%26quot%3B%3A%26quot%3Bpopu_376%26quot%3B%2C%26quot%3Bcon%26quot%3B%3A%26quot%3B%2Chttps%3A%2F%2Fblog.csdn.net%2Fu014271612%2Farticle%2Fdetails%2F81479959%2C%26quot%3B%7D%22%3E%E9%98%85%E8%AF%BB%E6%9B%B4%E5%A4%9A%3C%2Fa%3E+%0A%3C%2Fdiv%3E" | url_decode}}