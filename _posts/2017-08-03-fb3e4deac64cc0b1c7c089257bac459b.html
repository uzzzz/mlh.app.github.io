---
layout: default
title: AsicBoost——比特币挖矿捷径
---

{{ "%3Cdiv+id%3D%22article_content%22+class%3D%22article_content+clearfix+csdn-tracking-statistics%22+data-pid%3D%22blog%22+data-mod%3D%22popu_307%22+data-dsm%3D%22post%22%3E+%0A+%3Cdiv+class%3D%22markdown_views%22%3E+%0A++%3Cp%3E%3Ca+href%3D%22https%3A%2F%2Farxiv.org%2Fftp%2Farxiv%2Fpapers%2F1604%2F1604.00575.pdf%22+rel%3D%22nofollow%22%3E%E5%8F%82%E8%80%83%E8%87%AA%E6%9B%B4%E5%85%A8%E8%B5%84%E6%96%99%3C%2Fa%3E+%3Cbr%3E+AsicBoost+is+a+method+to+speed+up+Bitcoin+mining+by+a+factor+of+approximately+%3Cstrong%3E20%25%3C%2Fstrong%3E.+AsicBoost+is+%3Cstrong%3Ean+algorithmic+optimization%3C%2Fstrong%3E+and+therefore+applicable+to+all+types+of+mining+hardware.%3C%2Fp%3E+%0A++%3Ch1+id%3D%22sha-256%22%3ESHA+256%3C%2Fh1%3E+%0A++%3Cp%3E%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdn.net%2F20170804143003698%3Fwatermark%2F2%2Ftext%2FaHR0cDovL2Jsb2cuY3Nkbi5uZXQvamFzb25fY3VpamlhaHVp%2Ffont%2F5a6L5L2T%2Ffontsize%2F400%2Ffill%2FI0JBQkFCMA%3D%3D%2Fdissolve%2F70%2Fgravity%2FSouthEast%22+alt%3D%22%E8%BF%99%E9%87%8C%E5%86%99%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0%22+title%3D%22%22%3E%3C%2Fp%3E+%0A++%3Cp%3ESHA+256%E5%85%88%E6%8A%8A%E6%95%B0%E6%8D%AE%E5%88%86%E6%88%9064%E5%AD%97%E8%8A%82%E7%9A%84chunk%E5%8D%95%E5%85%83%EF%BC%8C%E7%84%B6%E5%90%8E%E7%BB%8F%E8%BF%87Expander+Function%E5%BE%97%E5%88%B0Message+Schedule%EF%BC%8C%E7%84%B6%E5%90%8E%E7%BB%8F%E8%BF%87Compressor%E5%BE%97%E5%88%B0%E6%9C%80%E7%BB%88%E7%9A%84hash%E6%91%98%E8%A6%81%E3%80%82%3C%2Fp%3E+%0A++%3Ch1+id%3D%22%E6%AF%94%E7%89%B9%E5%B8%81%E7%9A%84double-sha-256%22%3E%E6%AF%94%E7%89%B9%E5%B8%81%E7%9A%84double+SHA+256%3C%2Fh1%3E+%0A++%3Ch2+id%3D%22%E6%AF%94%E7%89%B9%E5%B8%81%E5%8C%BA%E5%9D%97%E5%A4%B4%E7%BB%93%E6%9E%84%22%3E%E6%AF%94%E7%89%B9%E5%B8%81%E5%8C%BA%E5%9D%97%E5%A4%B4%E7%BB%93%E6%9E%84%3C%2Fh2%3E+%0A++%3Cp%3E%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdn.net%2F20170804113731686%3Fwatermark%2F2%2Ftext%2FaHR0cDovL2Jsb2cuY3Nkbi5uZXQvamFzb25fY3VpamlhaHVp%2Ffont%2F5a6L5L2T%2Ffontsize%2F400%2Ffill%2FI0JBQkFCMA%3D%3D%2Fdissolve%2F70%2Fgravity%2FSouthEast%22+alt%3D%22%E8%BF%99%E9%87%8C%E5%86%99%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0%22+title%3D%22%22%3E%3C%2Fp%3E+%0A++%3Ch2+id%3D%22%E6%AF%94%E7%89%B9%E5%B8%81%E7%9A%84double-sha-256%E6%A6%82%E8%BF%B0%22%3E%3Ca+href%3D%22http%3A%2F%2Fblog.csdn.net%2Fjason_cuijiahui%2Farticle%2Fdetails%2F76672775%22+rel%3D%22nofollow%22+target%3D%22_blank%22%3E%E6%AF%94%E7%89%B9%E5%B8%81%E7%9A%84double+SHA+256%E6%A6%82%E8%BF%B0%3C%2Fa%3E%3C%2Fh2%3E+%0A++%3Cp%3E%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdn.net%2F20170804143720887%3Fwatermark%2F2%2Ftext%2FaHR0cDovL2Jsb2cuY3Nkbi5uZXQvamFzb25fY3VpamlhaHVp%2Ffont%2F5a6L5L2T%2Ffontsize%2F400%2Ffill%2FI0JBQkFCMA%3D%3D%2Fdissolve%2F70%2Fgravity%2FSouthEast%22+alt%3D%22%E8%BF%99%E9%87%8C%E5%86%99%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0%22+title%3D%22%22%3E%3C%2Fp%3E+%0A++%3Ch2+id%3D%22%E6%A0%B9%E6%8D%AE%E5%8C%BA%E5%9D%97%E5%A4%B4%E7%9A%84%E5%AD%97%E6%AE%B5%E8%BF%9B%E4%B8%80%E6%AD%A5%E7%BB%86%E5%8C%96%22%3E%E6%A0%B9%E6%8D%AE%E5%8C%BA%E5%9D%97%E5%A4%B4%E7%9A%84%E5%AD%97%E6%AE%B5%E8%BF%9B%E4%B8%80%E6%AD%A5%E7%BB%86%E5%8C%96%3C%2Fh2%3E+%0A++%3Cp%3E%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdn.net%2F20170804113756190%3Fwatermark%2F2%2Ftext%2FaHR0cDovL2Jsb2cuY3Nkbi5uZXQvamFzb25fY3VpamlhaHVp%2Ffont%2F5a6L5L2T%2Ffontsize%2F400%2Ffill%2FI0JBQkFCMA%3D%3D%2Fdissolve%2F70%2Fgravity%2FSouthEast%22+alt%3D%22%E8%BF%99%E9%87%8C%E5%86%99%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0%22+title%3D%22%22%3E%3C%2Fp%3E+%0A++%3Cp%3E%E6%B3%A8%E6%84%8F%EF%BC%9A%3C%2Fp%3E+%0A++%3Col%3E+%0A+++%3Cli%3E%E5%85%B3%E4%BA%8EMid+state%E6%8C%87%E7%9A%84%E6%98%AFSHA+256%280%29%E5%90%8E%E5%BE%97%E5%88%B0%E7%9A%84H0%EF%BC%8C%3Ca+href%3D%22http%3A%2F%2Fblog.csdn.net%2Fjason_cuijiahui%2Farticle%2Fdetails%2F76672775%22+rel%3D%22nofollow%22+target%3D%22_blank%22%3E%E6%9B%B4%E5%A4%9A%E6%8C%96%E7%9F%BF%E7%AE%97%E6%B3%95%E5%92%8C%E8%AF%A6%E7%BB%86%E5%86%85%E5%AE%B9%3C%2Fa%3E%3C%2Fli%3E+%0A+++%3Cli%3EMid+state%E4%BB%A5%E5%8F%8AMessage%E7%BB%9F%E7%A7%B0%E4%B8%BA+%3Cstrong%3EWork+item%3C%2Fstrong%3E%3C%2Fli%3E+%0A+++%3Cli%3EThe+components+shown+in+red+lie+in+the+inner+loop+and+update+at+high+frequency.+%3C%2Fli%3E+%0A+++%3Cli%3EThe+components+shown+in+green+lie+in+the+outer+loop+and+update+less+frequently.%3C%2Fli%3E+%0A+++%3Cli%3E%3Cstrong%3EAll+Bitcoin+mining+ASICs+process+only+the+inner+loop+internally.+The+work+items+are+precomputed+and+passed+to+the+ASIC+from+outside%3C%2Fstrong%3E.%3C%2Fli%3E+%0A++%3C%2Fol%3E+%0A++%3Ch3+id%3D%22%E5%85%B3%E4%BA%8Ework-items%22%3E%E5%85%B3%E4%BA%8EWork+items%3C%2Fh3%3E+%0A++%3Cp%3EEach+work+item+is+constructed+from+a+new+block+header+candidate+which+in+turn+is+constructed+from+a+new+Merkle+root+.+%3C%2Fp%3E+%0A++%3Cp%3ESince+the+Merkle+root+spans+both+chunks+of+the+block+header%2C+updating+the+Merkle+root+affects+both+components+of+the+work+item%3A+Midstate+%28depending+on+chunk+1%29+and+Message+%28depending+on+chunk+2%29.+%3C%2Fp%3E+%0A++%3Cp%3ETherefore%2C+it+is+usually+not+the+case+that+different+work+items+share+either+of+the+two+components.+This+is+the+reason+why+the+information+in+Message+Schedule+1+cannot+be+reused+across+the+processing+of+multiple+work+items.%3C%2Fp%3E+%0A++%3Ch1+id%3D%22asicboost%22%3EAsicBoost%3C%2Fh1%3E+%0A++%3Ch2+id%3D%22%E4%BB%80%E4%B9%88%E6%98%AFcolliding-work-items%22%3E%E4%BB%80%E4%B9%88%E6%98%AFColliding+Work+Items%EF%BC%9F%3C%2Fh2%3E+%0A++%3Cp%3EAsicBoost+achieves+its+performance+gain+by+highly+reusing+Message+Schedule+1+across+multiple+work+items.%3C%2Fp%3E+%0A++%3Cp%3EIn+order+to+do+so%2C+AsicBoost+generates+many+%3Cstrong%3Eblock+header+candidates+that+all+share+a+common+Message+part%3C%2Fstrong%3E.+%3C%2Fp%3E+%0A++%3Cp%3EWe+speak+of+block+header+candidates+as+colliding+if+they+collide+in+the+Message+part%2C+or%2C+in+other+words%2C+if+they+differ+from+each+other+only+in+chunk+1.%3C%2Fp%3E+%0A++%3Cp%3E%3Cstrong%3EThe+work+items+derived+from+colliding+block+header+candidates+all+share+a+common+Message+component+and+differ+only+in+the+Mid+state+component%3C%2Fstrong%3E.+We+speak+of+work+items+as+colliding+if+they+collide+in+the+Message+component.%3C%2Fp%3E+%0A++%3Ch2+id%3D%22asicboost%E7%AE%97%E6%B3%95%E6%B5%81%E7%A8%8B%22%3EAsicBoost%E7%AE%97%E6%B3%95%E6%B5%81%E7%A8%8B%3C%2Fh2%3E+%0A++%3Cp%3EA+set+of+colliding+block+headers+allows+AsicBoos+t+to+swap+the+inner+and+outer+mining+loops+as+shown+below.+%3Cstrong%3EThe+Message+is+constant+throughout+the+processing+of+the+entire+set+of+colliding+block+headers%3C%2Fstrong%3E.+%3C%2Fp%3E+%0A++%3Cp%3E%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdn.net%2F20170804145430818%3Fwatermark%2F2%2Ftext%2FaHR0cDovL2Jsb2cuY3Nkbi5uZXQvamFzb25fY3VpamlhaHVp%2Ffont%2F5a6L5L2T%2Ffontsize%2F400%2Ffill%2FI0JBQkFCMA%3D%3D%2Fdissolve%2F70%2Fgravity%2FSouthEast%22+alt%3D%22%E8%BF%99%E9%87%8C%E5%86%99%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0%22+title%3D%22%22%3E%3C%2Fp%3E+%0A++%3Col%3E+%0A+++%3Cli%3EAsicBoost%E2%80%99s+inner+loop+iterates+over+the+Mid+states+of+all+colliding+block+headers.+%3C%2Fli%3E+%0A+++%3Cli%3E%3Cstrong%3EThe+Nonce+is+now+updated+in+the+outer+loop+rather+than+the+inner+loop%3C%2Fstrong%3E.+%3C%2Fli%3E+%0A+++%3Cli%3EMessage+schedule+1+is+updated+less+frequently+and+its+information+is+reused+across+multiple+Mid+states.%3C%2Fli%3E+%0A++%3C%2Fol%3E+%0A++%3Ch2+id%3D%22asicboost%E5%AF%B9%E6%8C%96%E7%9F%BF%E6%95%88%E7%8E%87%E7%9A%84%E6%8F%90%E9%AB%98%22%3EAsicBoost%E5%AF%B9%E6%8C%96%E7%9F%BF%E6%95%88%E7%8E%87%E7%9A%84%E6%8F%90%E9%AB%98%3C%2Fh2%3E+%0A++%3Cp%3E%3Cstrong%3EThe+AsicBoost+method+eliminates+the+Expander+1+function+from+the+inner+loop%2C+leaving+only+Compressor+1%2C+Expander+2+and+Compressor+2+to+be+processed+at+high+frequency.+%3C%2Fstrong%3E%3C%2Fp%3E+%0A++%3Cp%3E%3Cstrong%3ESince+each+of+the+four+functions+have+similar+complexity%2C+up+to+one+quarter+of+the+total+computational+work+can+be+saved+by+this+approach%3C%2Fstrong%3E.%3C%2Fp%3E+%0A++%3Cp%3E%3Cstrong%3EThe+exact+gain+depends+on+the+size+of+the+set+of+colliding+work+items%3C%2Fstrong%3E.+%3C%2Fp%3E+%0A++%3Cp%3ESuppose+the+Expander+1+takes+x+percent+of+the+computational+work+of+the+four+functions+combined.+Having+n+colliding+work+items+then+gives+a+total+gain+of+x+%28n+%E2%88%92+1%29%2Fn+percent.+%3C%2Fp%3E+%0A++%3Cp%3E%E8%AF%B4%E6%98%8E%EF%BC%9A%3C%2Fp%3E+%0A++%3Cp%3E%E6%9C%AC%E6%9D%A5%E5%A4%A7%E5%B0%8F%E4%B8%BAn%E7%9A%84colliding%E9%9B%86%E5%90%88%E8%A6%81%E7%AE%97n%E6%AC%A1Message+schedule1%EF%BC%8C%E5%B9%B6%E6%89%A7%E8%A1%8CExpander+1%EF%BC%8C%E8%80%8C%E7%8E%B0%E5%9C%A8%E9%9B%86%E5%90%88%E7%9A%84Message+schedule1%E7%9B%B8%E5%90%8C%EF%BC%8C%E6%89%A7%E8%A1%8C%E4%B8%80%E6%AC%A1Expander+1%E5%8D%B3%E5%8F%AF%EF%BC%8C%E6%89%80%E4%BB%A5%E6%8F%90%E9%AB%98%E7%9A%84%E6%95%88%E7%8E%87%E4%B8%BA%3Cstrong%3E1-1%2Fn%3C%2Fstrong%3E%EF%BC%8C%E6%9C%80%E5%90%8E%E5%9C%A8%E4%B9%98%E4%B8%8AExpander+1%E6%89%80%E5%8D%A0%E7%9A%84%E6%AF%94%E4%BE%8Bx%E5%8D%B3%E5%8F%AF%E3%80%82%3C%2Fp%3E+%0A++%3Ch2+id%3D%22%E5%A6%82%E4%BD%95%E6%9E%84%E5%BB%BAcolliding-block-header-candidates%22%3E%E5%A6%82%E4%BD%95%E6%9E%84%E5%BB%BAcolliding+block+header+candidates%3C%2Fh2%3E+%0A++%3Ch3+id%3D%22%E6%96%B9%E6%B3%951-merkle-root-collisions%22%3E%E6%96%B9%E6%B3%951+Merkle+root+collisions%3C%2Fh3%3E+%0A++%3Cp%3E%3Cstrong%3EOne+way+is+to+calculate+many+merkle+roots+at+random+and+filter+them+based+on+their+last+4+bytes+until+sufficiently+many+are+found+that+collide+in+their+last+4+bytes.%3C%2Fstrong%3E%3C%2Fp%3E+%0A++%3Cp%3EThere+are+a+number+of+tradeoffs+to+be+considered+when+filtering+for+collisions.+The+optimal+process+depends+on+the+targeted+value+for+n+and+the+number+and+speed+of+the+hashing+cores+to+be+served.+%3C%2Fp%3E+%0A++%3Cp%3E%3Cstrong%3EThere+are+several+methods+to+calculate+merkle+tree+roots+that+are+more+efficient+than+changing+the+coinbase+field%3C%2Fstrong%3E.+%3C%2Fp%3E+%0A++%3Cp%3EOne+method+is+based+on+permuting+the+order+of+transactions+inside+the+block%2C+or%2C+in+other+words%2C+permuting+the+leafs+of+the+merkle+tree.+%3C%2Fp%3E+%0A++%3Ch3+id%3D%22%E5%85%B6%E5%AE%83%E6%96%B9%E6%B3%95%E4%B8%8D%E8%AF%A5merkle-root%E7%9C%8Bchunk-1%E6%9C%89%E4%BB%80%E4%B9%88%E5%9C%B0%E6%96%B9%E5%8F%AF%E4%BB%A5%E6%94%B9%E7%9A%84%22%3E%E5%85%B6%E5%AE%83%E6%96%B9%E6%B3%95%28%E4%B8%8D%E8%AF%A5Merkle+Root%E7%9C%8Bchunk+1%E6%9C%89%E4%BB%80%E4%B9%88%E5%9C%B0%E6%96%B9%E5%8F%AF%E4%BB%A5%E6%94%B9%E7%9A%84%29%3C%2Fh3%3E+%0A++%3Cp%3EAnother%2C+more+efficient+way+to+produce+colliding+block+headers+is+by+using+bits+inside+Chunk+1+but+outside+the+merkle+root+that+are+free+for+the+miner+to+choose.+%3C%2Fp%3E+%0A++%3Cp%3EThis+does+not+require+finding+any+merkle+root+collisions.+Instead%2C+one+merkle+root+is+chosen+and+fixed.+The+free+bits+are+then+updated+in+a+loop+and+the+respective+Mid+states+are+computed+from+Chunk+1.+Each+Mid+state+obtained+in+this+way+gives+a+new+colliding+work+item%2C+so+that+this+method+is+extremely+efficient.%3C%2Fp%3E+%0A++%3Ch2+id%3D%22%E7%96%91%E6%83%91%22%3E%E7%96%91%E6%83%91%3C%2Fh2%3E+%0A++%3Col%3E+%0A+++%3Cli%3E%E6%8D%AE%E8%AF%B4%E7%AE%97%E6%B3%95%E9%BC%93%E5%8A%B1%E6%8C%96%E7%A9%BA%E5%8C%BA%E5%9D%97%EF%BC%8C%E8%BF%99%E7%82%B9%E6%88%91%E7%9C%8B%E4%B8%8D%E5%87%BA%E6%89%80%E4%BB%A5%E7%84%B6%EF%BC%8C%E6%AC%A2%E8%BF%8E%E8%AE%A8%E8%AE%BA%EF%BC%88%E4%B8%AA%E4%BA%BA%E8%AE%A4%E4%B8%BA%E5%B9%B6%E4%B8%8D%E4%BC%9A%EF%BC%89%3C%2Fli%3E+%0A+++%3Cli%3E%E9%9A%94%E7%A6%BB%E8%A7%81%E8%AF%81%E7%89%88%E6%9C%AC%E5%90%8E%E5%A0%B5%E4%BD%8F%E4%BA%86%E8%BF%99%E4%B8%AA%E6%BC%8F%E6%B4%9E%EF%BC%8C%E6%98%AF%E6%80%8E%E4%B9%88%E5%A0%B5%E4%BD%8F%E7%9A%84%EF%BC%8C%E6%AC%A2%E8%BF%8E%E8%AE%A8%E8%AE%BA%E5%92%8C%E8%A1%A5%E5%85%85%E8%B5%84%E6%96%99%3C%2Fli%3E+%0A++%3C%2Fol%3E+%0A+%3C%2Fdiv%3E+%0A+%3Clink+rel%3D%22stylesheet%22+href%3D%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fphoenix%2Ftemplate%2Fcss%2Fmarkdown_views-ea0013b516.css%22%3E+%0A%3C%2Fdiv%3E+%0A%3Cdiv+class%3D%22hide-article-box+text-center%22%3E+%0A+%3Ca+class%3D%22btn+btn-red-hollow%22+id%3D%22btn-readmore%22+data-track-view%3D%22%7B%26quot%3Bmod%26quot%3B%3A%26quot%3Bpopu_376%26quot%3B%2C%26quot%3Bcon%26quot%3B%3A%26quot%3B%2Chttps%3A%2F%2Fblog.csdn.net%2Fjason_cuijiahui%2Farticle%2Fdetails%2F76615080%2C%26quot%3B%7D%22+data-track-click%3D%22%7B%26quot%3Bmod%26quot%3B%3A%26quot%3Bpopu_376%26quot%3B%2C%26quot%3Bcon%26quot%3B%3A%26quot%3B%2Chttps%3A%2F%2Fblog.csdn.net%2Fjason_cuijiahui%2Farticle%2Fdetails%2F76615080%2C%26quot%3B%7D%22%3E%E9%98%85%E8%AF%BB%E6%9B%B4%E5%A4%9A%3C%2Fa%3E+%0A%3C%2Fdiv%3E" | url_decode}}