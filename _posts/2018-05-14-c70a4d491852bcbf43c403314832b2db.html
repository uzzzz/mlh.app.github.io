---
layout: default
title: 以太坊源码分析(35)eth-fetcher源码分析
---

{{ "%3Cdiv+id%3D%22article_content%22+class%3D%22article_content+clearfix+csdn-tracking-statistics%22+data-pid%3D%22blog%22+data-mod%3D%22popu_307%22+data-dsm%3D%22post%22%3E+%0A+%3Clink+rel%3D%22stylesheet%22+href%3D%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fphoenix%2Ftemplate%2Fcss%2Fck_htmledit_views-e2445db1a8.css%22%3E+%0A+%3Cdiv+class%3D%22htmledit_views%22%3E+%0A++%3Cdiv+style%3D%22color%3Argb%28212%2C212%2C212%29%3Bbackground-color%3Argb%2830%2C30%2C30%29%3Bfont-family%3AConsolas%2C+%27Courier+New%27%2C+monospace%3Bfont-size%3A14px%3Bline-height%3A19px%3B%22%3E%0A+++%3Cdiv%3E%0A++++fetcher%E5%8C%85%E5%90%AB%E5%9F%BA%E4%BA%8E%E5%9D%97%E9%80%9A%E7%9F%A5%E7%9A%84%E5%90%8C%E6%AD%A5%E3%80%82%E5%BD%93%E6%88%91%E4%BB%AC%E6%8E%A5%E6%94%B6%E5%88%B0NewBlockHashesMsg%E6%B6%88%E6%81%AF%E5%BE%97%E6%97%B6%E5%80%99%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AA%E6%94%B6%E5%88%B0%E4%BA%86%E5%BE%88%E5%A4%9ABlock%E7%9A%84hash%E5%80%BC%E3%80%82+%E9%9C%80%E8%A6%81%E9%80%9A%E8%BF%87hash%E5%80%BC%E6%9D%A5%E5%90%8C%E6%AD%A5%E5%8C%BA%E5%9D%97%EF%BC%8C%E7%84%B6%E5%90%8E%E6%9B%B4%E6%96%B0%E6%9C%AC%E5%9C%B0%E5%8C%BA%E5%9D%97%E9%93%BE%E3%80%82+fetcher%E5%B0%B1%E6%8F%90%E4%BE%9B%E4%BA%86%E8%BF%99%E6%A0%B7%E7%9A%84%E5%8A%9F%E8%83%BD%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+announce+is+the+hash+notification+of+the+availability+of+a+new+block+in+the%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+network.%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+announce+%E6%98%AF%E4%B8%80%E4%B8%AAhash%E9%80%9A%E7%9F%A5%EF%BC%8C%E8%A1%A8%E7%A4%BA%E7%BD%91%E7%BB%9C%E4%B8%8A%E6%9C%89%E5%90%88%E9%80%82%E7%9A%84%E6%96%B0%E5%8C%BA%E5%9D%97%E5%87%BA%E7%8E%B0%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Btype+announce+struct+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bhash+common.Hash+%2F%2F+Hash+of+the+block+being+announced+%2F%2F%E6%96%B0%E5%8C%BA%E5%9D%97%E7%9A%84hash%E5%80%BC%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bnumber+uint64+%2F%2F+Number+of+the+block+being+announced+%280+%3D+unknown+%7C+old+protocol%29+%E5%8C%BA%E5%9D%97%E7%9A%84%E9%AB%98%E5%BA%A6%E5%80%BC%EF%BC%8C%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bheader+*types.Header+%2F%2F+Header+of+the+block+partially+reassembled+%28new+protocol%29%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%E9%87%8D%E6%96%B0%E7%BB%84%E8%A3%85%E7%9A%84%E5%8C%BA%E5%9D%97%E5%A4%B4%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Btime+time.Time+%2F%2F+Timestamp+of+the+announcement%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Borigin+string+%2F%2F+Identifier+of+the+peer+originating+the+notification%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BfetchHeader+headerRequesterFn+%2F%2F+Fetcher+function+to+retrieve+the+header+of+an+announced+block+%E8%8E%B7%E5%8F%96%E5%8C%BA%E5%9D%97%E5%A4%B4%E7%9A%84%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%EF%BC%8C+%E9%87%8C%E9%9D%A2%E5%8C%85%E5%90%AB%E4%BA%86peer%E7%9A%84%E4%BF%A1%E6%81%AF%E3%80%82%E5%B0%B1%E6%98%AF%E8%AF%B4%E6%89%BE%E8%B0%81%E8%A6%81%E8%BF%99%E4%B8%AA%E5%8C%BA%E5%9D%97%E5%A4%B4%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BfetchBodies+bodyRequesterFn+%2F%2F+Fetcher+function+to+retrieve+the+body+of+an+announced+block+%E8%8E%B7%E5%8F%96%E5%8C%BA%E5%9D%97%E4%BD%93%E7%9A%84%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+headerFilterTask+represents+a+batch+of+headers+needing+fetcher+filtering.%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Btype+headerFilterTask+struct+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bpeer+string+%2F%2F+The+source+peer+of+block+headers%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bheaders+%5B%5D*types.Header+%2F%2F+Collection+of+headers+to+filter%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Btime+time.Time+%2F%2F+Arrival+time+of+the+headers%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+headerFilterTask+represents+a+batch+of+block+bodies+%28transactions+and+uncles%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+needing+fetcher+filtering.%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Btype+bodyFilterTask+struct+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bpeer+string+%2F%2F+The+source+peer+of+block+bodies%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Btransactions+%5B%5D%5B%5D*types.Transaction+%2F%2F+Collection+of+transactions+per+block+bodies%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Buncles+%5B%5D%5B%5D*types.Header+%2F%2F+Collection+of+uncles+per+block+bodies%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Btime+time.Time+%2F%2F+Arrival+time+of+the+blocks%27+contents%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+inject+represents+a+schedules+import+operation.+%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+%E5%BD%93%E8%8A%82%E7%82%B9%E6%94%B6%E5%88%B0NewBlockMsg%E7%9A%84%E6%B6%88%E6%81%AF%E6%97%B6%E5%80%99%EF%BC%8C%E4%BC%9A%E6%8F%92%E5%85%A5%E4%B8%80%E4%B8%AA%E5%8C%BA%E5%9D%97%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Btype+inject+struct+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Borigin+string%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bblock+*types.Block%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Fetcher+is+responsible+for+accumulating+block+announcements+from+various+peers%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+and+scheduling+them+for+retrieval.%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Btype+Fetcher+struct+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Various+event+channels%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bnotify+chan+*announce%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2Fannounce%E7%9A%84%E9%80%9A%E9%81%93%EF%BC%8C%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Binject+chan+*inject%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2Finject%E7%9A%84%E9%80%9A%E9%81%93%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BblockFilter+chan+chan+%5B%5D*types.Block%26nbsp%3B%26nbsp%3B%26nbsp%3B+%2F%2F%E9%80%9A%E9%81%93%E7%9A%84%E9%80%9A%E9%81%93%EF%BC%9F%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BheaderFilter+chan+chan+*headerFilterTask%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BbodyFilter+chan+chan+*bodyFilterTask%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bdone+chan+common.Hash%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bquit+chan+struct%7B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Announce+states%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bannounces+map%5Bstring%5Dint+%2F%2F+Per+peer+announce+counts+to+prevent+memory+exhaustion+key%E6%98%AFpeer%E7%9A%84%E5%90%8D%E5%AD%97%EF%BC%8C+value%E6%98%AFannounce%E7%9A%84count%EF%BC%8C+%E4%B8%BA%E4%BA%86%E9%81%BF%E5%85%8D%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8%E5%A4%AA%E5%A4%A7%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bannounced+map%5Bcommon.Hash%5D%5B%5D*announce+%2F%2F+Announced+blocks%2C+scheduled+for+fetching+%E7%AD%89%E5%BE%85%E8%B0%83%E5%BA%A6fetching%E7%9A%84announce%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfetching+map%5Bcommon.Hash%5D*announce+%2F%2F+Announced+blocks%2C+currently+fetching+%E6%AD%A3%E5%9C%A8fetching%E7%9A%84announce%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfetched+map%5Bcommon.Hash%5D%5B%5D*announce+%2F%2F+Blocks+with+headers+fetched%2C+scheduled+for+body+retrieval+%2F%2F+%E5%B7%B2%E7%BB%8F%E8%8E%B7%E5%8F%96%E5%8C%BA%E5%9D%97%E5%A4%B4%E7%9A%84%EF%BC%8C%E7%AD%89%E5%BE%85%E8%8E%B7%E5%8F%96%E5%8C%BA%E5%9D%97body%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcompleting+map%5Bcommon.Hash%5D*announce+%2F%2F+Blocks+with+headers%2C+currently+body-completing+%2F%2F%E5%A4%B4%E5%92%8C%E4%BD%93%E9%83%BD%E5%B7%B2%E7%BB%8F%E8%8E%B7%E5%8F%96%E5%AE%8C%E6%88%90%E7%9A%84announce%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Block+cache%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bqueue+*prque.Prque+%2F%2F+Queue+containing+the+import+operations+%28block+number+sorted%29+%2F%2F%E5%8C%85%E5%90%AB%E4%BA%86import%E6%93%8D%E4%BD%9C%E7%9A%84%E9%98%9F%E5%88%97%28%E6%8C%89%E7%85%A7%E5%8C%BA%E5%9D%97%E5%8F%B7%E6%8E%92%E5%88%97%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bqueues+map%5Bstring%5Dint+%2F%2F+Per+peer+block+counts+to+prevent+memory+exhaustion+key%E6%98%AFpeer%EF%BC%8Cvalue%E6%98%AFblock%E6%95%B0%E9%87%8F%E3%80%82+%E9%81%BF%E5%85%8D%E5%86%85%E5%AD%98%E6%B6%88%E8%80%97%E5%A4%AA%E5%A4%9A%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bqueued+map%5Bcommon.Hash%5D*inject+%2F%2F+Set+of+already+queued+blocks+%28to+dedup+imports%29+%E5%B7%B2%E7%BB%8F%E6%94%BE%E5%85%A5%E9%98%9F%E5%88%97%E7%9A%84%E5%8C%BA%E5%9D%97%E3%80%82+%E4%B8%BA%E4%BA%86%E5%8E%BB%E9%87%8D%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Callbacks+%E4%BE%9D%E8%B5%96%E4%BA%86%E4%B8%80%E4%BA%9B%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BgetBlock+blockRetrievalFn+%2F%2F+Retrieves+a+block+from+the+local+chain%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BverifyHeader+headerVerifierFn+%2F%2F+Checks+if+a+block%27s+headers+have+a+valid+proof+of+work%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BbroadcastBlock+blockBroadcasterFn+%2F%2F+Broadcasts+a+block+to+connected+peers%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BchainHeight+chainHeightFn+%2F%2F+Retrieves+the+current+chain%27s+height%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BinsertChain+chainInsertFn+%2F%2F+Injects+a+batch+of+blocks+into+the+chain%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BdropPeer+peerDropFn+%2F%2F+Drops+a+peer+for+misbehaving%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Testing+hooks+%E4%BB%85%E4%BE%9B%E6%B5%8B%E8%AF%95%E4%BD%BF%E7%94%A8%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BannounceChangeHook+func%28common.Hash%2C+bool%29+%2F%2F+Method+to+call+upon+adding+or+deleting+a+hash+from+the+announce+list%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BqueueChangeHook+func%28common.Hash%2C+bool%29+%2F%2F+Method+to+call+upon+adding+or+deleting+a+block+from+the+import+queue%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BfetchingHook+func%28%5B%5Dcommon.Hash%29+%2F%2F+Method+to+call+upon+starting+a+block+%28eth%2F61%29+or+header+%28eth%2F62%29+fetch%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BcompletingHook+func%28%5B%5Dcommon.Hash%29+%2F%2F+Method+to+call+upon+starting+a+block+body+fetch+%28eth%2F62%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BimportedHook+func%28*types.Block%29+%2F%2F+Method+to+call+upon+successful+block+import+%28both+eth%2F61+and+eth%2F62%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%E5%90%AF%E5%8A%A8fetcher%EF%BC%8C+%E7%9B%B4%E6%8E%A5%E5%90%AF%E5%8A%A8%E4%BA%86%E4%B8%80%E4%B8%AAgoroutine%E6%9D%A5%E5%A4%84%E7%90%86%E3%80%82+%E8%BF%99%E4%B8%AA%E5%87%BD%E6%95%B0%E6%9C%89%E7%82%B9%E9%95%BF%E3%80%82+%E5%90%8E%E7%BB%AD%E5%86%8D%E5%88%86%E6%9E%90%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Start+boots+up+the+announcement+based+synchroniser%2C+accepting+and+processing%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+hash+notifications+and+block+fetches+until+termination+requested.%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfunc+%28f+*Fetcher%29+Start%28%29+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bgo+f.loop%28%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++loop%E5%87%BD%E6%95%B0%E5%87%BD%E6%95%B0%E5%A4%AA%E9%95%BF%E3%80%82+%E6%88%91%E5%85%88%E5%B8%96%E4%B8%80%E4%B8%AA%E7%9C%81%E7%95%A5%E7%89%88%E6%9C%AC%E7%9A%84%E5%87%BA%E6%9D%A5%E3%80%82fetcher%E9%80%9A%E8%BF%87%E5%9B%9B%E4%B8%AAmap%28announced%2Cfetching%2Cfetched%2Ccompleting+%29%E8%AE%B0%E5%BD%95%E4%BA%86announce%E7%9A%84%E7%8A%B6%E6%80%81%28%E7%AD%89%E5%BE%85fetch%2C%E6%AD%A3%E5%9C%A8fetch%2Cfetch%E5%AE%8C%E5%A4%B4%E7%AD%89%E5%BE%85fetch+body%2C+fetch%E5%AE%8C%E6%88%90%29%E3%80%82+loop%E5%85%B6%E5%AE%9E%E9%80%9A%E8%BF%87%E5%AE%9A%E6%97%B6%E5%99%A8%E5%92%8C%E5%90%84%E7%A7%8D%E6%B6%88%E6%81%AF%E6%9D%A5%E5%AF%B9%E5%90%84%E7%A7%8Dmap%E9%87%8C%E9%9D%A2%E7%9A%84announce%E8%BF%9B%E8%A1%8C%E7%8A%B6%E6%80%81%E8%BD%AC%E6%8D%A2%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Loop+is+the+main+fetcher+loop%2C+checking+and+processing+various+notification%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+events.%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfunc+%28f+*Fetcher%29+loop%28%29+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Iterate+the+block+fetching+until+a+quit+is+requested%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BfetchTimer+%3A%3D+time.NewTimer%280%29+%2F%2Ffetch%E7%9A%84%E5%AE%9A%E6%97%B6%E5%99%A8%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BcompleteTimer+%3A%3D+time.NewTimer%280%29+%2F%2F+compelte%E7%9A%84%E5%AE%9A%E6%97%B6%E5%99%A8%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfor+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Clean+up+any+expired+block+fetches%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+%E5%A6%82%E6%9E%9Cfetching%E7%9A%84%E6%97%B6%E9%97%B4%E8%B6%85%E8%BF%875%E7%A7%92%EF%BC%8C%E9%82%A3%E4%B9%88%E6%94%BE%E5%BC%83%E6%8E%89%E8%BF%99%E4%B8%AAfetching%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfor+hash%2C+announce+%3A%3D+range+f.fetching+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+time.Since%28announce.time%29+%26gt%3B+fetchTimeout+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.forgetHash%28hash%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Import+any+queued+blocks+that+could+potentially+fit%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+%E8%BF%99%E4%B8%AAfetcher.queue%E9%87%8C%E9%9D%A2%E7%BC%93%E5%AD%98%E4%BA%86%E5%B7%B2%E7%BB%8F%E5%AE%8C%E6%88%90fetch%E7%9A%84block%E7%AD%89%E5%BE%85%E6%8C%89%E7%85%A7%E9%A1%BA%E5%BA%8F%E6%8F%92%E5%85%A5%E5%88%B0%E6%9C%AC%E5%9C%B0%E7%9A%84%E5%8C%BA%E5%9D%97%E9%93%BE%E4%B8%AD%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2Ffetcher.queue%E6%98%AF%E4%B8%80%E4%B8%AA%E4%BC%98%E5%85%88%E7%BA%A7%E9%98%9F%E5%88%97%E3%80%82+%E4%BC%98%E5%85%88%E7%BA%A7%E5%88%AB%E5%B0%B1%E6%98%AF%E4%BB%96%E4%BB%AC%E7%9A%84%E5%8C%BA%E5%9D%97%E5%8F%B7%E7%9A%84%E8%B4%9F%E6%95%B0%EF%BC%8C%E8%BF%99%E6%A0%B7%E5%8C%BA%E5%9D%97%E6%95%B0%E5%B0%8F%E7%9A%84%E6%8E%92%E5%9C%A8%E6%9C%80%E5%89%8D%E9%9D%A2%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bheight+%3A%3D+f.chainHeight%28%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfor+%21f.queue.Empty%28%29+%7B+%2F%2F+%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bop+%3A%3D+f.queue.PopItem%28%29.%28*inject%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+f.queueChangeHook+%21%3D+nil+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.queueChangeHook%28op.block.Hash%28%29%2C+false%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+If+too+high+up+the+chain+or+phase%2C+continue+later%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bnumber+%3A%3D+op.block.NumberU64%28%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+number+%26gt%3B+height%2B1+%7B+%2F%2F%E5%BD%93%E5%89%8D%E7%9A%84%E5%8C%BA%E5%9D%97%E7%9A%84%E9%AB%98%E5%BA%A6%E5%A4%AA%E9%AB%98%EF%BC%8C%E8%BF%98%E4%B8%8D%E8%83%BDimport%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.queue.Push%28op%2C+-float32%28op.block.NumberU64%28%29%29%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+f.queueChangeHook+%21%3D+nil+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.queueChangeHook%28op.block.Hash%28%29%2C+true%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bbreak%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Otherwise+if+fresh+and+still+unknown%2C+try+and+import%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bhash+%3A%3D+op.block.Hash%28%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+number%2BmaxUncleDist+%26lt%3B+height+%7C%7C+f.getBlock%28hash%29+%21%3D+nil+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+%E5%8C%BA%E5%9D%97%E7%9A%84%E9%AB%98%E5%BA%A6%E5%A4%AA%E4%BD%8E+%E4%BD%8E%E4%BA%8E%E5%BD%93%E5%89%8D%E7%9A%84height-maxUncleDist%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+%E6%88%96%E8%80%85%E5%8C%BA%E5%9D%97%E5%B7%B2%E7%BB%8F%E8%A2%ABimport%E4%BA%86%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.forgetBlock%28hash%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcontinue%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+%E6%8F%92%E5%85%A5%E5%8C%BA%E5%9D%97%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.insert%28op.origin%2C+op.block%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Wait+for+an+outside+event+to+occur%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bselect+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+%26lt%3B-f.quit%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Fetcher+terminating%2C+abort+all+operations%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Breturn%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+notification+%3A%3D+%26lt%3B-f.notify%3A+%2F%2F%E5%9C%A8%E6%8E%A5%E6%94%B6%E5%88%B0NewBlockHashesMsg%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E5%AF%B9%E4%BA%8E%E6%9C%AC%E5%9C%B0%E5%8C%BA%E5%9D%97%E9%93%BE%E8%BF%98%E6%B2%A1%E6%9C%89%E7%9A%84%E5%8C%BA%E5%9D%97%E7%9A%84hash%E5%80%BC%E4%BC%9A%E8%B0%83%E7%94%A8fetcher%E7%9A%84Notify%E6%96%B9%E6%B3%95%E5%8F%91%E9%80%81%E5%88%B0notify%E9%80%9A%E9%81%93%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B...%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+op+%3A%3D+%26lt%3B-f.inject%3A+%2F%2F+%E5%9C%A8%E6%8E%A5%E6%94%B6%E5%88%B0NewBlockMsg%E7%9A%84%E6%97%B6%E5%80%99%E4%BC%9A%E8%B0%83%E7%94%A8fetcher%E7%9A%84Enqueue%E6%96%B9%E6%B3%95%EF%BC%8C%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E4%BC%9A%E6%8A%8A%E5%BD%93%E5%89%8D%E6%8E%A5%E6%94%B6%E5%88%B0%E7%9A%84%E5%8C%BA%E5%9D%97%E5%8F%91%E9%80%81%E5%88%B0inject%E9%80%9A%E9%81%93%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B...%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.enqueue%28op.origin%2C+op.block%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+hash+%3A%3D+%26lt%3B-f.done%3A+%2F%2F%E5%BD%93%E5%AE%8C%E6%88%90%E4%B8%80%E4%B8%AA%E5%8C%BA%E5%9D%97%E7%9A%84import%E7%9A%84%E6%97%B6%E5%80%99%E4%BC%9A%E5%8F%91%E9%80%81%E8%AF%A5%E5%8C%BA%E5%9D%97%E7%9A%84hash%E5%80%BC%E5%88%B0done%E9%80%9A%E9%81%93%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B...%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+%26lt%3B-fetchTimer.C%3A+%2F%2F+fetchTimer%E5%AE%9A%E6%97%B6%E5%99%A8%EF%BC%8C%E5%AE%9A%E6%9C%9F%E5%AF%B9%E9%9C%80%E8%A6%81fetch%E7%9A%84%E5%8C%BA%E5%9D%97%E5%A4%B4%E8%BF%9B%E8%A1%8Cfetch%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B...%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+%26lt%3B-completeTimer.C%3A+%2F%2F+completeTimer%E5%AE%9A%E6%97%B6%E5%99%A8%E5%AE%9A%E6%9C%9F%E5%AF%B9%E9%9C%80%E8%A6%81fetch%E7%9A%84%E5%8C%BA%E5%9D%97%E4%BD%93%E8%BF%9B%E8%A1%8Cfetch%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B...%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+filter+%3A%3D+%26lt%3B-f.headerFilter%3A+%2F%2F%E5%BD%93%E6%8E%A5%E6%94%B6%E5%88%B0BlockHeadersMsg%E7%9A%84%E6%B6%88%E6%81%AF%E7%9A%84%E6%97%B6%E5%80%99%28%E6%8E%A5%E6%94%B6%E5%88%B0%E4%B8%80%E4%BA%9B%E5%8C%BA%E5%9D%97%E5%A4%B4%29%2C%E4%BC%9A%E6%8A%8A%E8%BF%99%E4%BA%9B%E6%B6%88%E6%81%AF%E6%8A%95%E9%80%92%E5%88%B0headerFilter%E9%98%9F%E5%88%97%E3%80%82+%E8%BF%99%E8%BE%B9%E4%BC%9A%E6%8A%8A%E5%B1%9E%E4%BA%8Efetcher%E8%AF%B7%E6%B1%82%E7%9A%84%E6%95%B0%E6%8D%AE%E7%95%99%E4%B8%8B%EF%BC%8C%E5%85%B6%E4%BB%96%E7%9A%84%E4%BC%9A%E8%BF%94%E5%9B%9E%E5%87%BA%E6%9D%A5%EF%BC%8C%E7%BB%99%E5%85%B6%E4%BB%96%E7%B3%BB%E7%BB%9F%E4%BD%BF%E7%94%A8%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B...%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+filter+%3A%3D+%26lt%3B-f.bodyFilter%3A+%2F%2F%E5%BD%93%E6%8E%A5%E6%94%B6%E5%88%B0BlockBodiesMsg%E6%B6%88%E6%81%AF%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E4%BC%9A%E6%8A%8A%E8%BF%99%E4%BA%9B%E6%B6%88%E6%81%AF%E6%8A%95%E9%80%92%E7%BB%99bodyFilter%E9%98%9F%E5%88%97%E3%80%82%E8%BF%99%E8%BE%B9%E4%BC%9A%E6%8A%8A%E5%B1%9E%E4%BA%8Efetcher%E8%AF%B7%E6%B1%82%E7%9A%84%E6%95%B0%E6%8D%AE%E7%95%99%E4%B8%8B%EF%BC%8C%E5%85%B6%E4%BB%96%E7%9A%84%E4%BC%9A%E8%BF%94%E5%9B%9E%E5%87%BA%E6%9D%A5%EF%BC%8C%E7%BB%99%E5%85%B6%E4%BB%96%E7%B3%BB%E7%BB%9F%E4%BD%BF%E7%94%A8%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B...%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%3Cspan+style%3D%22color%3A%23569cd6%3B%22%3E%3Cstrong%3E%23%23%23+%E5%8C%BA%E5%9D%97%E5%A4%B4%E7%9A%84%E8%BF%87%E6%BB%A4%E6%B5%81%E7%A8%8B%3C%2Fstrong%3E%3C%2Fspan%3E%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%3Cspan+style%3D%22color%3A%23569cd6%3B%22%3E%3Cstrong%3E%23%23%23%23+FilterHeaders%E8%AF%B7%E6%B1%82%3C%2Fstrong%3E%3C%2Fspan%3E%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++FilterHeaders%E6%96%B9%E6%B3%95%E5%9C%A8%E6%8E%A5%E6%94%B6%E5%88%B0BlockHeadersMsg%E7%9A%84%E6%97%B6%E5%80%99%E8%A2%AB%E8%B0%83%E7%94%A8%E3%80%82%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E9%A6%96%E5%85%88%E6%8A%95%E9%80%92%E4%BA%86%E4%B8%80%E4%B8%AAchannel+filter%E5%88%B0headerFilter%E3%80%82+%E7%84%B6%E5%90%8E%E5%BE%80filter%E6%8A%95%E9%80%92%E4%BA%86%E4%B8%80%E4%B8%AAheaderFilterTask%E7%9A%84%E4%BB%BB%E5%8A%A1%E3%80%82%E7%84%B6%E5%90%8E%E9%98%BB%E5%A1%9E%E7%AD%89%E5%BE%85filter%E9%98%9F%E5%88%97%E8%BF%94%E5%9B%9E%E6%B6%88%E6%81%AF%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+FilterHeaders+extracts+all+the+headers+that+were+explicitly+requested+by+the+fetcher%2C%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+returning+those+that+should+be+handled+differently.%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfunc+%28f+*Fetcher%29+FilterHeaders%28peer+string%2C+headers+%5B%5D*types.Header%2C+time+time.Time%29+%5B%5D*types.Header+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Blog.Trace%28%22Filtering+headers%22%2C+%22peer%22%2C+peer%2C+%22headers%22%2C+len%28headers%29%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Send+the+filter+channel+to+the+fetcher%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfilter+%3A%3D+make%28chan+*headerFilterTask%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bselect+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+f.headerFilter+%26lt%3B-+filter%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+%26lt%3B-f.quit%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Breturn+nil%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Request+the+filtering+of+the+header+list%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bselect+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+filter+%26lt%3B-+%26amp%3BheaderFilterTask%7Bpeer%3A+peer%2C+headers%3A+headers%2C+time%3A+time%7D%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+%26lt%3B-f.quit%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Breturn+nil%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Retrieve+the+headers+remaining+after+filtering%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bselect+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+task+%3A%3D+%26lt%3B-filter%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Breturn+task.headers%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+%26lt%3B-f.quit%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Breturn+nil%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%3Cspan+style%3D%22color%3A%23569cd6%3B%22%3E%3Cstrong%3E%23%23%23%23+headerFilter%E7%9A%84%E5%A4%84%E7%90%86%3C%2Fstrong%3E%3C%2Fspan%3E%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%E8%BF%99%E4%B8%AA%E5%A4%84%E7%90%86%E5%9C%A8loop%28%29%E7%9A%84goroutine%E4%B8%AD%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+filter+%3A%3D+%26lt%3B-f.headerFilter%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Headers+arrived+from+a+remote+peer.+Extract+those+that+were+explicitly%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+requested+by+the+fetcher%2C+and+return+everything+else+so+it%27s+delivered%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+to+other+parts+of+the+system.%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bvar+task+*headerFilterTask%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bselect+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+task+%3D+%26lt%3B-filter%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+%26lt%3B-f.quit%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Breturn%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BheaderFilterInMeter.Mark%28int64%28len%28task.headers%29%29%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Split+the+batch+of+headers+into+unknown+ones+%28to+return+to+the+caller%29%2C%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+known+incomplete+ones+%28requiring+body+retrievals%29+and+completed+blocks.%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bunknown%2C+incomplete%2C+complete+%3A%3D+%5B%5D*types.Header%7B%7D%2C+%5B%5D*announce%7B%7D%2C+%5B%5D*types.Block%7B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfor+_%2C+header+%3A%3D+range+task.headers+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bhash+%3A%3D+header.Hash%28%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Filter+fetcher-requested+headers+from+other+synchronisation+algorithms%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+%E6%A0%B9%E6%8D%AE%E6%83%85%E5%86%B5%E7%9C%8B%E8%BF%99%E4%B8%AA%E6%98%AF%E5%90%A6%E6%98%AF%E6%88%91%E4%BB%AC%E7%9A%84%E8%AF%B7%E6%B1%82%E8%BF%94%E5%9B%9E%E7%9A%84%E4%BF%A1%E6%81%AF%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+announce+%3A%3D+f.fetching%5Bhash%5D%3B+announce+%21%3D+nil+%26amp%3B%26amp%3B+announce.origin+%3D%3D+task.peer+%26amp%3B%26amp%3B+f.fetched%5Bhash%5D+%3D%3D+nil+%26amp%3B%26amp%3B+f.completing%5Bhash%5D+%3D%3D+nil+%26amp%3B%26amp%3B+f.queued%5Bhash%5D+%3D%3D+nil+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+If+the+delivered+header+does+not+match+the+promised+number%2C+drop+the+announcer%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+%E5%A6%82%E6%9E%9C%E8%BF%94%E5%9B%9E%E7%9A%84header%E7%9A%84%E5%8C%BA%E5%9D%97%E9%AB%98%E5%BA%A6%E5%92%8C%E6%88%91%E4%BB%AC%E8%AF%B7%E6%B1%82%E7%9A%84%E4%B8%8D%E5%90%8C%EF%BC%8C%E9%82%A3%E4%B9%88%E5%88%A0%E9%99%A4%E6%8E%89%E8%BF%94%E5%9B%9E%E8%BF%99%E4%B8%AAheader%E7%9A%84peer%E3%80%82+%E5%B9%B6%E4%B8%94%E5%BF%98%E8%AE%B0%E6%8E%89%E8%BF%99%E4%B8%AAhash%28%E4%BB%A5%E4%BE%BF%E4%BA%8E%E9%87%8D%E6%96%B0%E8%8E%B7%E5%8F%96%E5%8C%BA%E5%9D%97%E4%BF%A1%E6%81%AF%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+header.Number.Uint64%28%29+%21%3D+announce.number+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Blog.Trace%28%22Invalid+block+number+fetched%22%2C+%22peer%22%2C+announce.origin%2C+%22hash%22%2C+header.Hash%28%29%2C+%22announced%22%2C+announce.number%2C+%22provided%22%2C+header.Number%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.dropPeer%28announce.origin%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.forgetHash%28hash%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcontinue%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Only+keep+if+not+imported+by+other+means%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+f.getBlock%28hash%29+%3D%3D+nil+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bannounce.header+%3D+header%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bannounce.time+%3D+task.time%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+If+the+block+is+empty+%28header+only%29%2C+short+circuit+into+the+final+import+queue%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+%E6%A0%B9%E6%8D%AE%E5%8C%BA%E5%9D%97%E5%A4%B4%E6%9F%A5%E7%9C%8B%EF%BC%8C%E5%A6%82%E6%9E%9C%E8%BF%99%E4%B8%AA%E5%8C%BA%E5%9D%97%E4%B8%8D%E5%8C%85%E5%90%AB%E4%BB%BB%E4%BD%95%E4%BA%A4%E6%98%93%E6%88%96%E8%80%85%E6%98%AFUncle%E5%8C%BA%E5%9D%97%E3%80%82%E9%82%A3%E4%B9%88%E6%88%91%E4%BB%AC%E5%B0%B1%E4%B8%8D%E7%94%A8%E8%8E%B7%E5%8F%96%E5%8C%BA%E5%9D%97%E7%9A%84body%E4%BA%86%E3%80%82+%E9%82%A3%E4%B9%88%E7%9B%B4%E6%8E%A5%E6%8F%92%E5%85%A5%E5%AE%8C%E6%88%90%E5%88%97%E8%A1%A8%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+header.TxHash+%3D%3D+types.DeriveSha%28types.Transactions%7B%7D%29+%26amp%3B%26amp%3B+header.UncleHash+%3D%3D+types.CalcUncleHash%28%5B%5D*types.Header%7B%7D%29+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Blog.Trace%28%22Block+empty%2C+skipping+body+retrieval%22%2C+%22peer%22%2C+announce.origin%2C+%22number%22%2C+header.Number%2C+%22hash%22%2C+header.Hash%28%29%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bblock+%3A%3D+types.NewBlockWithHeader%28header%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bblock.ReceivedAt+%3D+task.time%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcomplete+%3D+append%28complete%2C+block%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.completing%5Bhash%5D+%3D+announce%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcontinue%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Otherwise+add+to+the+list+of+blocks+needing+completion%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+%E5%90%A6%E5%88%99%EF%BC%8C%E6%8F%92%E5%85%A5%E5%88%B0%E6%9C%AA%E5%AE%8C%E6%88%90%E5%88%97%E8%A1%A8%E7%AD%89%E5%BE%85fetch+blockbody%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bincomplete+%3D+append%28incomplete%2C+announce%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D+else+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Blog.Trace%28%22Block+already+imported%2C+discarding+header%22%2C+%22peer%22%2C+announce.origin%2C+%22number%22%2C+header.Number%2C+%22hash%22%2C+header.Hash%28%29%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.forgetHash%28hash%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D+else+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Fetcher+doesn%27t+know+about+it%2C+add+to+the+return+list%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Fetcher%E5%B9%B6%E4%B8%8D%E7%9F%A5%E9%81%93%E8%BF%99%E4%B8%AAheader%E3%80%82+%E5%A2%9E%E5%8A%A0%E5%88%B0%E8%BF%94%E5%9B%9E%E5%88%97%E8%A1%A8%E7%AD%89%E5%BE%85%E8%BF%94%E5%9B%9E%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bunknown+%3D+append%28unknown%2C+header%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BheaderFilterOutMeter.Mark%28int64%28len%28unknown%29%29%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bselect+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+%E6%8A%8A%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%E8%BF%94%E5%9B%9E%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+filter+%26lt%3B-+%26amp%3BheaderFilterTask%7Bheaders%3A+unknown%2C+time%3A+task.time%7D%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+%26lt%3B-f.quit%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Breturn%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Schedule+the+retrieved+headers+for+body+completion%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfor+_%2C+announce+%3A%3D+range+incomplete+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bhash+%3A%3D+announce.header.Hash%28%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+_%2C+ok+%3A%3D+f.completing%5Bhash%5D%3B+ok+%7B+%2F%2F%E5%A6%82%E6%9E%9C%E5%B7%B2%E7%BB%8F%E5%9C%A8%E5%85%B6%E4%BB%96%E7%9A%84%E5%9C%B0%E6%96%B9%E5%AE%8C%E6%88%90%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcontinue%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+%E6%94%BE%E5%88%B0%E7%AD%89%E5%BE%85%E8%8E%B7%E5%8F%96body%E7%9A%84map%E7%AD%89%E5%BE%85%E5%A4%84%E7%90%86%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.fetched%5Bhash%5D+%3D+append%28f.fetched%5Bhash%5D%2C+announce%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+len%28f.fetched%29+%3D%3D+1+%7B+%2F%2F%E5%A6%82%E6%9E%9Cfetched+map%E5%8F%AA%E6%9C%89%E5%88%9A%E5%88%9A%E5%8A%A0%E5%85%A5%E7%9A%84%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0%E3%80%82+%E9%82%A3%E4%B9%88%E9%87%8D%E7%BD%AE%E8%AE%A1%E6%97%B6%E5%99%A8%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.rescheduleComplete%28completeTimer%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Schedule+the+header-only+blocks+for+import%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+%E8%BF%99%E4%BA%9B%E5%8F%AA%E6%9C%89header%E7%9A%84%E5%8C%BA%E5%9D%97%E6%94%BE%E5%85%A5queue%E7%AD%89%E5%BE%85import%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfor+_%2C+block+%3A%3D+range+complete+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+announce+%3A%3D+f.completing%5Bblock.Hash%28%29%5D%3B+announce+%21%3D+nil+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.enqueue%28announce.origin%2C+block%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%3Cspan+style%3D%22color%3A%23569cd6%3B%22%3E%3Cstrong%3E%23%23%23%23+bodyFilter%E7%9A%84%E5%A4%84%E7%90%86%3C%2Fstrong%3E%3C%2Fspan%3E%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%E5%92%8C%E4%B8%8A%E9%9D%A2%E7%9A%84%E5%A4%84%E7%90%86%E7%B1%BB%E4%BC%BC%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+filter+%3A%3D+%26lt%3B-f.bodyFilter%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Block+bodies+arrived%2C+extract+any+explicitly+requested+blocks%2C+return+the+rest%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bvar+task+*bodyFilterTask%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bselect+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+task+%3D+%26lt%3B-filter%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+%26lt%3B-f.quit%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Breturn%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BbodyFilterInMeter.Mark%28int64%28len%28task.transactions%29%29%29%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bblocks+%3A%3D+%5B%5D*types.Block%7B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfor+i+%3A%3D+0%3B+i+%26lt%3B+len%28task.transactions%29+%26amp%3B%26amp%3B+i+%26lt%3B+len%28task.uncles%29%3B+i%2B%2B+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Match+up+a+body+to+any+possible+completion+request%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bmatched+%3A%3D+false%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfor+hash%2C+announce+%3A%3D+range+f.completing+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+f.queued%5Bhash%5D+%3D%3D+nil+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BtxnHash+%3A%3D+types.DeriveSha%28types.Transactions%28task.transactions%5Bi%5D%29%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BuncleHash+%3A%3D+types.CalcUncleHash%28task.uncles%5Bi%5D%29%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+txnHash+%3D%3D+announce.header.TxHash+%26amp%3B%26amp%3B+uncleHash+%3D%3D+announce.header.UncleHash+%26amp%3B%26amp%3B+announce.origin+%3D%3D+task.peer+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Mark+the+body+matched%2C+reassemble+if+still+unknown%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bmatched+%3D+true%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+f.getBlock%28hash%29+%3D%3D+nil+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bblock+%3A%3D+types.NewBlockWithHeader%28announce.header%29.WithBody%28task.transactions%5Bi%5D%2C+task.uncles%5Bi%5D%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bblock.ReceivedAt+%3D+task.time%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bblocks+%3D+append%28blocks%2C+block%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D+else+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.forgetHash%28hash%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+matched+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Btask.transactions+%3D+append%28task.transactions%5B%3Ai%5D%2C+task.transactions%5Bi%2B1%3A%5D...%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Btask.uncles+%3D+append%28task.uncles%5B%3Ai%5D%2C+task.uncles%5Bi%2B1%3A%5D...%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bi--%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcontinue%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BbodyFilterOutMeter.Mark%28int64%28len%28task.transactions%29%29%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bselect+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+filter+%26lt%3B-+task%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+%26lt%3B-f.quit%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Breturn%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Schedule+the+retrieved+blocks+for+ordered+import%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfor+_%2C+block+%3A%3D+range+blocks+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+announce+%3A%3D+f.completing%5Bblock.Hash%28%29%5D%3B+announce+%21%3D+nil+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.enqueue%28announce.origin%2C+block%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%3Cspan+style%3D%22color%3A%23569cd6%3B%22%3E%3Cstrong%3E%23%23%23%23+notification%E7%9A%84%E5%A4%84%E7%90%86%3C%2Fstrong%3E%3C%2Fspan%3E%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%E5%9C%A8%E6%8E%A5%E6%94%B6%E5%88%B0NewBlockHashesMsg%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E5%AF%B9%E4%BA%8E%E6%9C%AC%E5%9C%B0%E5%8C%BA%E5%9D%97%E9%93%BE%E8%BF%98%E6%B2%A1%E6%9C%89%E7%9A%84%E5%8C%BA%E5%9D%97%E7%9A%84hash%E5%80%BC%E4%BC%9A%E8%B0%83%E7%94%A8fetcher%E7%9A%84Notify%E6%96%B9%E6%B3%95%E5%8F%91%E9%80%81%E5%88%B0notify%E9%80%9A%E9%81%93%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Notify+announces+the+fetcher+of+the+potential+availability+of+a+new+block+in%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+the+network.%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfunc+%28f+*Fetcher%29+Notify%28peer+string%2C+hash+common.Hash%2C+number+uint64%2C+time+time.Time%2C%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BheaderFetcher+headerRequesterFn%2C+bodyFetcher+bodyRequesterFn%29+error+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bblock+%3A%3D+%26amp%3Bannounce%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bhash%3A+hash%2C%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bnumber%3A+number%2C%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Btime%3A+time%2C%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Borigin%3A+peer%2C%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BfetchHeader%3A+headerFetcher%2C%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BfetchBodies%3A+bodyFetcher%2C%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bselect+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+f.notify+%26lt%3B-+block%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Breturn+nil%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+%26lt%3B-f.quit%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Breturn+errTerminated%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%E5%9C%A8loop%E4%B8%AD%E7%9A%84%E5%A4%84%E7%90%86%EF%BC%8C%E4%B8%BB%E8%A6%81%E6%98%AF%E6%A3%80%E6%9F%A5%E4%B8%80%E4%B8%8B%E7%84%B6%E5%90%8E%E5%8A%A0%E5%85%A5%E4%BA%86announced%E8%BF%99%E4%B8%AA%E5%AE%B9%E5%99%A8%E7%AD%89%E5%BE%85%E5%AE%9A%E6%97%B6%E5%A4%84%E7%90%86%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+notification+%3A%3D+%26lt%3B-f.notify%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+A+block+was+announced%2C+make+sure+the+peer+isn%27t+DOSing+us%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BpropAnnounceInMeter.Mark%281%29%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcount+%3A%3D+f.announces%5Bnotification.origin%5D+%2B+1%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+count+%26gt%3B+hashLimit+%7B+%2F%2FhashLimit+256+%E4%B8%80%E4%B8%AA%E8%BF%9C%E7%AB%AF%E6%9C%80%E5%A4%9A%E5%8F%AA%E5%AD%98%E5%9C%A8256%E4%B8%AAannounces%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Blog.Debug%28%22Peer+exceeded+outstanding+announces%22%2C+%22peer%22%2C+notification.origin%2C+%22limit%22%2C+hashLimit%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BpropAnnounceDOSMeter.Mark%281%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bbreak%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+If+we+have+a+valid+block+number%2C+check+that+it%27s+potentially+useful%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+%E6%9F%A5%E7%9C%8B%E6%98%AF%E6%BD%9C%E5%9C%A8%E6%98%AF%E5%90%A6%E6%9C%89%E7%94%A8%E3%80%82+%E6%A0%B9%E6%8D%AE%E8%BF%99%E4%B8%AA%E5%8C%BA%E5%9D%97%E5%8F%B7%E5%92%8C%E6%9C%AC%E5%9C%B0%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E8%B7%9D%E7%A6%BB%EF%BC%8C+%E5%A4%AA%E5%A4%A7%E5%92%8C%E5%A4%AA%E5%B0%8F%E5%AF%B9%E4%BA%8E%E6%88%91%E4%BB%AC%E9%83%BD%E6%B2%A1%E6%9C%89%E6%84%8F%E4%B9%89%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+notification.number+%26gt%3B+0+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+dist+%3A%3D+int64%28notification.number%29+-+int64%28f.chainHeight%28%29%29%3B+dist+%26lt%3B+-maxUncleDist+%7C%7C+dist+%26gt%3B+maxQueueDist+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Blog.Debug%28%22Peer+discarded+announcement%22%2C+%22peer%22%2C+notification.origin%2C+%22number%22%2C+notification.number%2C+%22hash%22%2C+notification.hash%2C+%22distance%22%2C+dist%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BpropAnnounceDropMeter.Mark%281%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bbreak%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+All+is+well%2C+schedule+the+announce+if+block%27s+not+yet+downloading%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+%E6%A3%80%E6%9F%A5%E6%88%91%E4%BB%AC%E6%98%AF%E5%90%A6%E5%B7%B2%E7%BB%8F%E5%AD%98%E5%9C%A8%E4%BA%86%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+_%2C+ok+%3A%3D+f.fetching%5Bnotification.hash%5D%3B+ok+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bbreak%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+_%2C+ok+%3A%3D+f.completing%5Bnotification.hash%5D%3B+ok+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bbreak%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.announces%5Bnotification.origin%5D+%3D+count%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.announced%5Bnotification.hash%5D+%3D+append%28f.announced%5Bnotification.hash%5D%2C+notification%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+f.announceChangeHook+%21%3D+nil+%26amp%3B%26amp%3B+len%28f.announced%5Bnotification.hash%5D%29+%3D%3D+1+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.announceChangeHook%28notification.hash%2C+true%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+len%28f.announced%29+%3D%3D+1+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.rescheduleFetch%28fetchTimer%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%3Cspan+style%3D%22color%3A%23569cd6%3B%22%3E%3Cstrong%3E%23%23%23%23+Enqueue%E5%A4%84%E7%90%86%3C%2Fstrong%3E%3C%2Fspan%3E%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%E5%9C%A8%E6%8E%A5%E6%94%B6%E5%88%B0NewBlockMsg%E7%9A%84%E6%97%B6%E5%80%99%E4%BC%9A%E8%B0%83%E7%94%A8fetcher%E7%9A%84Enqueue%E6%96%B9%E6%B3%95%EF%BC%8C%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E4%BC%9A%E6%8A%8A%E5%BD%93%E5%89%8D%E6%8E%A5%E6%94%B6%E5%88%B0%E7%9A%84%E5%8C%BA%E5%9D%97%E5%8F%91%E9%80%81%E5%88%B0inject%E9%80%9A%E9%81%93%E3%80%82+%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E7%94%9F%E6%88%90%E4%BA%86%E4%B8%80%E4%B8%AAinject%E5%AF%B9%E8%B1%A1%E7%84%B6%E5%90%8E%E5%8F%91%E9%80%81%E5%88%B0inject%E9%80%9A%E9%81%93%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Enqueue+tries+to+fill+gaps+the+the+fetcher%27s+future+import+queue.%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfunc+%28f+*Fetcher%29+Enqueue%28peer+string%2C+block+*types.Block%29+error+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bop+%3A%3D+%26amp%3Binject%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Borigin%3A+peer%2C%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bblock%3A+block%2C%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bselect+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+f.inject+%26lt%3B-+op%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Breturn+nil%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+%26lt%3B-f.quit%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Breturn+errTerminated%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++inject%E9%80%9A%E9%81%93%E5%A4%84%E7%90%86%E9%9D%9E%E5%B8%B8%E7%AE%80%E5%8D%95%EF%BC%8C%E7%9B%B4%E6%8E%A5%E5%8A%A0%E5%85%A5%E5%88%B0%E9%98%9F%E5%88%97%E7%AD%89%E5%BE%85import%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+op+%3A%3D+%26lt%3B-f.inject%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+A+direct+block+insertion+was+requested%2C+try+and+fill+any+pending+gaps%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BpropBroadcastInMeter.Mark%281%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.enqueue%28op.origin%2C+op.block%29%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++enqueue%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+enqueue+schedules+a+new+future+import+operation%2C+if+the+block+to+be+imported%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+has+not+yet+been+seen.%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfunc+%28f+*Fetcher%29+enqueue%28peer+string%2C+block+*types.Block%29+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bhash+%3A%3D+block.Hash%28%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Ensure+the+peer+isn%27t+DOSing+us%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcount+%3A%3D+f.queues%5Bpeer%5D+%2B+1%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+count+%26gt%3B+blockLimit+%7B+blockLimit+64+%E5%A6%82%E6%9E%9C%E7%BC%93%E5%AD%98%E7%9A%84%E5%AF%B9%E6%96%B9%E7%9A%84block%E5%A4%AA%E5%A4%9A%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Blog.Debug%28%22Discarded+propagated+block%2C+exceeded+allowance%22%2C+%22peer%22%2C+peer%2C+%22number%22%2C+block.Number%28%29%2C+%22hash%22%2C+hash%2C+%22limit%22%2C+blockLimit%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BpropBroadcastDOSMeter.Mark%281%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.forgetHash%28hash%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Breturn%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Discard+any+past+or+too+distant+blocks%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+%E8%B7%9D%E7%A6%BB%E6%88%91%E4%BB%AC%E7%9A%84%E5%8C%BA%E5%9D%97%E9%93%BE%E5%A4%AA%E8%BF%9C%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+dist+%3A%3D+int64%28block.NumberU64%28%29%29+-+int64%28f.chainHeight%28%29%29%3B+dist+%26lt%3B+-maxUncleDist+%7C%7C+dist+%26gt%3B+maxQueueDist+%7B+%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Blog.Debug%28%22Discarded+propagated+block%2C+too+far+away%22%2C+%22peer%22%2C+peer%2C+%22number%22%2C+block.Number%28%29%2C+%22hash%22%2C+hash%2C+%22distance%22%2C+dist%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BpropBroadcastDropMeter.Mark%281%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.forgetHash%28hash%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Breturn%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Schedule+the+block+for+future+importing%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+%E6%8F%92%E5%85%A5%E5%88%B0%E9%98%9F%E5%88%97%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+_%2C+ok+%3A%3D+f.queued%5Bhash%5D%3B+%21ok+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bop+%3A%3D+%26amp%3Binject%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Borigin%3A+peer%2C%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bblock%3A+block%2C%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.queues%5Bpeer%5D+%3D+count%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.queued%5Bhash%5D+%3D+op%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.queue.Push%28op%2C+-float32%28block.NumberU64%28%29%29%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+f.queueChangeHook+%21%3D+nil+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.queueChangeHook%28op.block.Hash%28%29%2C+true%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Blog.Debug%28%22Queued+propagated+block%22%2C+%22peer%22%2C+peer%2C+%22number%22%2C+block.Number%28%29%2C+%22hash%22%2C+hash%2C+%22queued%22%2C+f.queue.Size%28%29%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%3Cspan+style%3D%22color%3A%23569cd6%3B%22%3E%3Cstrong%3E%23%23%23%23+%E5%AE%9A%E6%97%B6%E5%99%A8%E7%9A%84%E5%A4%84%E7%90%86%3C%2Fstrong%3E%3C%2Fspan%3E%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%E4%B8%80%E5%85%B1%E5%AD%98%E5%9C%A8%E4%B8%A4%E4%B8%AA%E5%AE%9A%E6%97%B6%E5%99%A8%E3%80%82fetchTimer%E5%92%8CcompleteTimer%EF%BC%8C%E5%88%86%E5%88%AB%E8%B4%9F%E8%B4%A3%E8%8E%B7%E5%8F%96%E5%8C%BA%E5%9D%97%E5%A4%B4%E5%92%8C%E8%8E%B7%E5%8F%96%E5%8C%BA%E5%9D%97body%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%E7%8A%B6%E6%80%81%E8%BD%AC%E6%8D%A2+announced+--fetchTimer%28fetch+header%29---%26gt%3B+fetching+--%28headerFilter%29--%26gt%3B+fetched+--completeTimer%28fetch+body%29--%26gt%3Bcompleting+--%28bodyFilter%29--%26gt%3B+enqueue+--task.done--%26gt%3B+forgetHash%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%E5%8F%91%E7%8E%B0%E4%B8%80%E4%B8%AA%E9%97%AE%E9%A2%98%E3%80%82+completing%E7%9A%84%E5%AE%B9%E5%99%A8%E6%9C%89%E5%8F%AF%E8%83%BD%E6%B3%84%E9%9C%B2%E3%80%82%E5%A6%82%E6%9E%9C%E5%8F%91%E9%80%81%E4%BA%86%E4%B8%80%E4%B8%AAhash%E7%9A%84body%E8%AF%B7%E6%B1%82%E3%80%82+%E4%BD%86%E6%98%AF%E8%AF%B7%E6%B1%82%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%AF%B9%E6%96%B9%E5%B9%B6%E6%B2%A1%E6%9C%89%E8%BF%94%E5%9B%9E%E3%80%82+%E8%BF%99%E4%B8%AA%E6%97%B6%E5%80%99completing%E5%AE%B9%E5%99%A8%E6%B2%A1%E6%9C%89%E6%B8%85%E7%90%86%E3%80%82+%E6%98%AF%E5%90%A6%E6%9C%89%E5%8F%AF%E8%83%BD%E5%AF%BC%E8%87%B4%E9%97%AE%E9%A2%98%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+%26lt%3B-fetchTimer.C%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+At+least+one+block%27s+timer+ran+out%2C+check+for+needing+retrieval%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Brequest+%3A%3D+make%28map%5Bstring%5D%5B%5Dcommon.Hash%29%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfor+hash%2C+announces+%3A%3D+range+f.announced+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+TODO+%E8%BF%99%E9%87%8C%E7%9A%84%E6%97%B6%E9%97%B4%E9%99%90%E5%88%B6%E6%98%AF%E4%BB%80%E4%B9%88%E6%84%8F%E6%80%9D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+%E6%9C%80%E6%97%A9%E6%94%B6%E5%88%B0%E7%9A%84announce%EF%BC%8C%E5%B9%B6%E7%BB%8F%E8%BF%87arriveTimeout-gatherSlack%E8%BF%99%E4%B9%88%E9%95%BF%E7%9A%84%E6%97%B6%E9%97%B4%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+time.Since%28announces%5B0%5D.time%29+%26gt%3B+arriveTimeout-gatherSlack+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Pick+a+random+peer+to+retrieve+from%2C+reset+all+others%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+announces%E4%BB%A3%E8%A1%A8%E4%BA%86%E5%90%8C%E4%B8%80%E4%B8%AA%E5%8C%BA%E5%9D%97%E7%9A%84%E6%9D%A5%E8%87%AA%E5%A4%9A%E4%B8%AApeer%E7%9A%84%E5%A4%9A%E4%B8%AAannounce%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bannounce+%3A%3D+announces%5Brand.Intn%28len%28announces%29%29%5D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.forgetHash%28hash%29%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+If+the+block+still+didn%27t+arrive%2C+queue+for+fetching%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+f.getBlock%28hash%29+%3D%3D+nil+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Brequest%5Bannounce.origin%5D+%3D+append%28request%5Bannounce.origin%5D%2C+hash%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.fetching%5Bhash%5D+%3D+announce%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Send+out+all+block+header+requests%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+%E5%8F%91%E9%80%81%E6%89%80%E6%9C%89%E7%9A%84%E8%AF%B7%E6%B1%82%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfor+peer%2C+hashes+%3A%3D+range+request+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Blog.Trace%28%22Fetching+scheduled+headers%22%2C+%22peer%22%2C+peer%2C+%22list%22%2C+hashes%29%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Create+a+closure+of+the+fetch+and+schedule+in+on+a+new+thread%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BfetchHeader%2C+hashes+%3A%3D+f.fetching%5Bhashes%5B0%5D%5D.fetchHeader%2C+hashes%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bgo+func%28%29+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+f.fetchingHook+%21%3D+nil+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.fetchingHook%28hashes%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfor+_%2C+hash+%3A%3D+range+hashes+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BheaderFetchMeter.Mark%281%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BfetchHeader%28hash%29+%2F%2F+Suboptimal%2C+but+protocol+doesn%27t+allow+batch+header+retrievals%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%28%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Schedule+the+next+fetch+if+blocks+are+still+pending%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.rescheduleFetch%28fetchTimer%29%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+%26lt%3B-completeTimer.C%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+At+least+one+header%27s+timer+ran+out%2C+retrieve+everything%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Brequest+%3A%3D+make%28map%5Bstring%5D%5B%5Dcommon.Hash%29%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfor+hash%2C+announces+%3A%3D+range+f.fetched+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Pick+a+random+peer+to+retrieve+from%2C+reset+all+others%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bannounce+%3A%3D+announces%5Brand.Intn%28len%28announces%29%29%5D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.forgetHash%28hash%29%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+If+the+block+still+didn%27t+arrive%2C+queue+for+completion%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+f.getBlock%28hash%29+%3D%3D+nil+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Brequest%5Bannounce.origin%5D+%3D+append%28request%5Bannounce.origin%5D%2C+hash%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.completing%5Bhash%5D+%3D+announce%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Send+out+all+block+body+requests%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfor+peer%2C+hashes+%3A%3D+range+request+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Blog.Trace%28%22Fetching+scheduled+bodies%22%2C+%22peer%22%2C+peer%2C+%22list%22%2C+hashes%29%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Create+a+closure+of+the+fetch+and+schedule+in+on+a+new+thread%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+f.completingHook+%21%3D+nil+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.completingHook%28hashes%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BbodyFetchMeter.Mark%28int64%28len%28hashes%29%29%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bgo+f.completing%5Bhashes%5B0%5D%5D.fetchBodies%28hashes%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Schedule+the+next+fetch+if+blocks+are+still+pending%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.rescheduleComplete%28completeTimer%29%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cbr%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%3Cspan+style%3D%22color%3A%23569cd6%3B%22%3E%3Cstrong%3E%23%23%23%23+%E5%85%B6%E4%BB%96%E7%9A%84%E4%B8%80%E4%BA%9B%E6%96%B9%E6%B3%95%3C%2Fstrong%3E%3C%2Fspan%3E%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++fetcher+insert%E6%96%B9%E6%B3%95%E3%80%82+%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E6%8A%8A%E7%BB%99%E5%AE%9A%E7%9A%84%E5%8C%BA%E5%9D%97%E6%8F%92%E5%85%A5%E6%9C%AC%E5%9C%B0%E7%9A%84%E5%8C%BA%E5%9D%97%E9%93%BE%E3%80%82%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+insert+spawns+a+new+goroutine+to+run+a+block+insertion+into+the+chain.+If+the%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+block%27s+number+is+at+the+same+height+as+the+current+import+phase%2C+if+updates%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+the+phase+states+accordingly.%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfunc+%28f+*Fetcher%29+insert%28peer+string%2C+block+*types.Block%29+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bhash+%3A%3D+block.Hash%28%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Run+the+import+on+a+new+thread%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Blog.Debug%28%22Importing+propagated+block%22%2C+%22peer%22%2C+peer%2C+%22number%22%2C+block.Number%28%29%2C+%22hash%22%2C+hash%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bgo+func%28%29+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bdefer+func%28%29+%7B+f.done+%26lt%3B-+hash+%7D%28%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+If+the+parent%27s+unknown%2C+abort+insertion%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bparent+%3A%3D+f.getBlock%28block.ParentHash%28%29%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+parent+%3D%3D+nil+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Blog.Debug%28%22Unknown+parent+of+propagated+block%22%2C+%22peer%22%2C+peer%2C+%22number%22%2C+block.Number%28%29%2C+%22hash%22%2C+hash%2C+%22parent%22%2C+block.ParentHash%28%29%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Breturn%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Quickly+validate+the+header+and+propagate+the+block+if+it+passes%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+%E5%A6%82%E6%9E%9C%E5%8C%BA%E5%9D%97%E5%A4%B4%E9%80%9A%E8%BF%87%E9%AA%8C%E8%AF%81%EF%BC%8C%E9%82%A3%E4%B9%88%E9%A9%AC%E4%B8%8A%E5%AF%B9%E5%8C%BA%E5%9D%97%E8%BF%9B%E8%A1%8C%E5%B9%BF%E6%92%AD%E3%80%82+NewBlockMsg%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bswitch+err+%3A%3D+f.verifyHeader%28block.Header%28%29%29%3B+err+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+nil%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+All+ok%2C+quickly+propagate+to+our+peers%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BpropBroadcastOutTimer.UpdateSince%28block.ReceivedAt%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bgo+f.broadcastBlock%28block%2C+true%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bcase+consensus.ErrFutureBlock%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Weird+future+block%2C+don%27t+fail%2C+but+neither+propagate%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bdefault%3A%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Something+went+very+wrong%2C+drop+the+peer%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Blog.Debug%28%22Propagated+block+verification+failed%22%2C+%22peer%22%2C+peer%2C+%22number%22%2C+block.Number%28%29%2C+%22hash%22%2C+hash%2C+%22err%22%2C+err%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.dropPeer%28peer%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Breturn%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Run+the+actual+import+and+log+any+issues%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+_%2C+err+%3A%3D+f.insertChain%28types.Blocks%7Bblock%7D%29%3B+err+%21%3D+nil+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Blog.Debug%28%22Propagated+block+import+failed%22%2C+%22peer%22%2C+peer%2C+%22number%22%2C+block.Number%28%29%2C+%22hash%22%2C+hash%2C+%22err%22%2C+err%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Breturn%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+If+import+succeeded%2C+broadcast+the+block%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+%E5%A6%82%E6%9E%9C%E6%8F%92%E5%85%A5%E6%88%90%E5%8A%9F%EF%BC%8C+%E9%82%A3%E4%B9%88%E5%B9%BF%E6%92%AD%E5%8C%BA%E5%9D%97%EF%BC%8C+%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%8F%82%E6%95%B0%E4%B8%BAfalse%E3%80%82%E9%82%A3%E4%B9%88%E5%8F%AA%E4%BC%9A%E5%AF%B9%E5%8C%BA%E5%9D%97%E7%9A%84hash%E8%BF%9B%E8%A1%8C%E5%B9%BF%E6%92%AD%E3%80%82NewBlockHashesMsg%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BpropAnnounceOutTimer.UpdateSince%28block.ReceivedAt%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bgo+f.broadcastBlock%28block%2C+false%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Invoke+the+testing+hook+if+needed%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+f.importedHook+%21%3D+nil+%7B%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bf.importedHook%28block%29%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%0A+++%3C%2Fdiv%3E%0A+++%3Cdiv%3E%0A++++%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%28%29%0A+++%3C%2Fdiv%3E%0A+++%3Cp%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%7D%3C%2Fp%3E%0A+++%3Cp%3E%3C%2Fp%3E%0A+++%3Ch2+style%3D%22font-family%3AConsolas%2C+%27Courier+New%27%2C+monospace%3B%22%3E%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdn.net%2F20180430224554793%3Fwatermark%2F2%2Ftext%2FaHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lpbmNoZW5nMDE%3D%2Ffont%2F5a6L5L2T%2Ffontsize%2F400%2Ffill%2FI0JBQkFCMA%3D%3D%2Fdissolve%2F70%22+alt%3D%22%22%3E%3Cbr%3E%3Cbr%3E%3C%2Fh2%3E%0A+++%3Cp+style%3D%22color%3Argb%2825%2C25%2C25%29%3Bfont-family%3AConsolas%2C+%27Courier+New%27%2C+monospace%3B%22%3E%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdn.net%2F20180425001235188%3Fwatermark%2F2%2Ftext%2FaHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lpbmNoZW5nMDE%3D%2Ffont%2F5a6L5L2T%2Ffontsize%2F400%2Ffill%2FI0JBQkFCMA%3D%3D%2Fdissolve%2F70%22+alt%3D%22%22%3E%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdn.net%2F20180425001144107%3Fwatermark%2F2%2Ftext%2FaHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lpbmNoZW5nMDE%3D%2Ffont%2F5a6L5L2T%2Ffontsize%2F400%2Ffill%2FI0JBQkFCMA%3D%3D%2Fdissolve%2F70%22+alt%3D%22%22%3E%3Cbr%3E%3C%2Fp%3E%0A+++%3Cp+style%3D%22color%3Argb%2825%2C25%2C25%29%3Bfont-family%3AConsolas%2C+%27Courier+New%27%2C+monospace%3B%22%3E%E7%BD%91%E5%9D%80%EF%BC%9Ahttp%3A%2F%2Fwww.qukuailianxueyuan.io%2F%3Cbr%3E%3C%2Fp%3E%0A+++%3Cp+style%3D%22color%3Argb%2825%2C25%2C25%29%3Bfont-family%3AConsolas%2C+%27Courier+New%27%2C+monospace%3B%22%3E%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdn.net%2F20180426145827720%3Fwatermark%2F2%2Ftext%2FaHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lpbmNoZW5nMDE%3D%2Ffont%2F5a6L5L2T%2Ffontsize%2F400%2Ffill%2FI0JBQkFCMA%3D%3D%2Fdissolve%2F70%22+alt%3D%22%22%3E%3Cbr%3E%3C%2Fp%3E%0A+++%3Cp+style%3D%22color%3Argb%2825%2C25%2C25%29%3Bfont-family%3AConsolas%2C+%27Courier+New%27%2C+monospace%3B%22%3E%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdn.net%2F2018042614570887%3Fwatermark%2F2%2Ftext%2FaHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lpbmNoZW5nMDE%3D%2Ffont%2F5a6L5L2T%2Ffontsize%2F400%2Ffill%2FI0JBQkFCMA%3D%3D%2Fdissolve%2F70%22+alt%3D%22%22%3E%3Cbr%3E%3C%2Fp%3E%0A+++%3Cp+style%3D%22color%3Argb%2825%2C25%2C25%29%3Bfont-family%3AConsolas%2C+%27Courier+New%27%2C+monospace%3B%22%3E%E6%AC%B2%E9%A2%86%E5%8F%96%E9%80%A0%E5%B8%81%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%85%A8%E5%A5%97%E8%99%9A%E6%8B%9F%E6%9C%BA%E8%B5%84%E6%96%99%3C%2Fp%3E%0A+++%3Cp+style%3D%22font-family%3AConsolas%2C+%27Courier+New%27%2C+monospace%3B%22%3E%3Cspan+style%3D%22color%3Argb%2825%2C25%2C25%29%3B%22%3E%E5%8C%BA%E5%9D%97%E9%93%BE%E6%8A%80%E6%9C%AF%E4%BA%A4%E6%B5%81QQ%E7%BE%A4%EF%BC%9A%3C%2Fspan%3E%3Cspan+style%3D%22color%3Argb%28255%2C0%2C0%29%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E756146052%26nbsp%3B%26nbsp%3B%3C%2Fspan%3E%3Cspan+style%3D%22color%3Argb%2825%2C25%2C25%29%3B%22%3E%E5%A4%87%E6%B3%A8%EF%BC%9ACSDN%3C%2Fspan%3E%3C%2Fp%3E%0A+++%3Cp+style%3D%22color%3Argb%2825%2C25%2C25%29%3Bfont-family%3AConsolas%2C+%27Courier+New%27%2C+monospace%3B%22%3E%E5%B0%B9%E6%88%90%E5%AD%A6%E9%99%A2%E5%BE%AE%E4%BF%A1%EF%BC%9A%E5%A4%87%E6%B3%A8%EF%BC%9ACSDN%3C%2Fp%3E%0A+++%3Cp+style%3D%22color%3Argb%2825%2C25%2C25%29%3Btext-align%3Acenter%3Bfont-family%3AConsolas%2C+%27Courier+New%27%2C+monospace%3B%22%3E%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdn.net%2F20180425000635656%3Fwatermark%2F2%2Ftext%2FaHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lpbmNoZW5nMDE%3D%2Ffont%2F5a6L5L2T%2Ffontsize%2F400%2Ffill%2FI0JBQkFCMA%3D%3D%2Fdissolve%2F70%22+alt%3D%22%22%3E%3C%2Fp%3E%0A+++%3Cdiv%3E%0A++++%3Cbr%3E%0A+++%3C%2Fdiv%3E%0A+++%3Cbr%3E%0A+++%3Cp%3E%3Cbr%3E%3C%2Fp%3E%0A++%3C%2Fdiv%3E+%0A+%3C%2Fdiv%3E+%0A%3C%2Fdiv%3E+%0A%3Cdiv+class%3D%22hide-article-box+text-center%22%3E+%0A+%3Ca+class%3D%22btn+btn-red-hollow%22+id%3D%22btn-readmore%22+data-track-view%3D%22%7B%26quot%3Bmod%26quot%3B%3A%26quot%3Bpopu_376%26quot%3B%2C%26quot%3Bcon%26quot%3B%3A%26quot%3B%2Chttps%3A%2F%2Fblog.csdn.net%2Fitcastcpp%2Farticle%2Fdetails%2F80305345%2C%26quot%3B%7D%22+data-track-click%3D%22%7B%26quot%3Bmod%26quot%3B%3A%26quot%3Bpopu_376%26quot%3B%2C%26quot%3Bcon%26quot%3B%3A%26quot%3B%2Chttps%3A%2F%2Fblog.csdn.net%2Fitcastcpp%2Farticle%2Fdetails%2F80305345%2C%26quot%3B%7D%22%3E%E9%98%85%E8%AF%BB%E6%9B%B4%E5%A4%9A%3C%2Fa%3E+%0A%3C%2Fdiv%3E" | url_decode}}