---
layout: default
title: 比特币源码分析--P2P网络初始化
---

{{ "%3Cdiv+id%3D%22article_content%22+class%3D%22article_content+clearfix+csdn-tracking-statistics%22+data-pid%3D%22blog%22+data-mod%3D%22popu_307%22+data-dsm%3D%22post%22%3E+%0A+%3Clink+rel%3D%22stylesheet%22+href%3D%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fphoenix%2Ftemplate%2Fcss%2Fck_htmledit_views-e2445db1a8.css%22%3E+%0A+%3Cdiv+class%3D%22htmledit_views%22%3E+%0A++%3Cp%3E%26nbsp%3B+%26nbsp%3B+%26nbsp%3B%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%E5%8C%BA%E5%9D%97%E9%93%BE%E5%92%8CAI%E6%97%A0%E7%96%91%E6%98%AF%E8%BF%91%E6%9C%9F%E4%B8%9A%E7%95%8C%E5%BD%93%E4%B9%8B%E6%97%A0%E6%84%A7%E7%9A%84%E4%B8%A4%E5%A4%A7%E9%A3%8E%E5%8F%A3%E3%80%82AI%E5%B0%B1%E4%B8%8D%E8%AF%B4%E4%BA%86%EF%BC%8C%E5%8C%BA%E5%9D%97%E9%93%BE%E4%BB%8E17%E5%B9%B4%E5%90%84%E7%A7%8D%E6%95%B0%E5%AD%97%E8%B4%A7%E5%B8%81%E8%A2%AB%E7%82%92%E4%B8%8A%E4%BA%86%E5%A4%A9%EF%BC%8C%E4%B8%80%E4%B8%8B%E6%88%90%E4%B8%BA%E4%BA%86%E4%BA%BA%E4%BB%AC%E8%A1%97%E5%A4%B4%E5%B7%B7%E8%AE%AE%E7%9A%84%E7%84%A6%E7%82%B9%EF%BC%8C%E6%9C%AC%E6%96%87%E6%92%87%E5%BC%80%E6%95%B0%E5%AD%97%E8%B4%A7%E5%B8%81%E7%9A%84%E6%8A%95%E8%B5%84%E4%B8%8D%E8%AF%B4%EF%BC%8C%E4%BB%85%E4%BB%85%E4%BB%8E%E6%8A%80%E6%9C%AF%E5%B1%82%E9%9D%A2%E6%9D%A5%E5%89%96%E6%9E%90%E4%B8%80%E4%B8%8B%E5%8C%BA%E5%9D%97%E9%93%BE%E5%90%84%E4%B8%AA%E9%83%A8%E5%88%86%E7%9A%84%E5%8E%9F%E7%90%86%E3%80%82%E6%AF%95%E7%AB%9F%E7%9B%AE%E5%89%8D%E5%B7%B2%E7%BB%8F%E6%9C%89%E5%8C%85%E6%8B%ACBAT%E7%AD%89%E5%B7%A8%E5%A4%B4%E5%9C%A8%E5%86%85%E7%9A%84%E8%AE%B8%E5%A4%9A%E5%85%AC%E5%8F%B8%E6%8A%95%E5%85%A5%E5%88%B0%E4%BA%86%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E7%A0%94%E5%8F%91%EF%BC%8C%E5%85%B6%E7%9B%B8%E5%85%B3%E7%9A%84%E5%BA%94%E7%94%A8%E7%9B%B8%E4%BF%A1%E4%B9%9F%E4%BC%9A%E8%B6%8A%E6%9D%A5%E8%B6%8A%E5%A4%9A%E7%9A%84%E8%90%BD%E5%9C%B0%EF%BC%8C%E4%BD%9C%E4%B8%BA%E6%8A%80%E6%9C%AF%E4%BA%BA%E5%91%98%EF%BC%8C%E5%AD%A6%E4%B9%A0%E4%B8%80%E4%B8%8B%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E6%BA%90%E7%A0%81%EF%BC%8C%E6%8A%93%E4%BD%8F%E8%BF%99%E4%B8%AA%E9%A3%8E%E5%8F%A3%E6%98%AF%E9%9D%9E%E5%B8%B8%E5%80%BC%E5%BE%97%E7%9A%84%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cdiv%3E%0A+++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E6%9C%AC%E7%B3%BB%E5%88%97%E5%B0%86%E4%BB%A5%E6%AF%94%E7%89%B9%E5%B8%81%E5%8C%BA%E5%9D%97%E9%93%BE%E4%BD%9C%E4%B8%BA%E5%AD%A6%E4%B9%A0%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E8%BF%99%E6%98%AF%E6%89%80%E6%9C%89%E5%8C%BA%E5%9D%97%E9%93%BE%E9%A1%B9%E7%9B%AE%E7%9A%84%E5%A7%8B%E7%A5%96%EF%BC%8C%E4%B9%9F%E6%98%AF%E5%AD%A6%E4%B9%A0%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E6%9C%80%E4%BD%B3%E5%8E%9F%E6%9D%90%E6%96%99%E3%80%82%E5%8F%A6%E5%A4%96%E5%AF%B9%E4%BA%8E%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E5%AD%A6%E4%B9%A0%EF%BC%8C%E5%BB%BA%E8%AE%AE%E5%8F%AF%E4%BB%A5%E5%85%88%E7%9C%8B%E4%B8%80%E4%B8%8B%E3%80%8A%E7%B2%BE%E9%80%9A%E6%AF%94%E7%89%B9%E5%B8%81%E3%80%8B%E8%BF%99%E6%9C%AC%E4%B9%A6%EF%BC%8C%E5%AF%B9%E6%AF%94%E7%89%B9%E5%B8%81%E6%95%B4%E4%BD%93%E7%9A%84%E5%8E%9F%E7%90%86%E6%9C%89%E4%B8%80%E5%AE%9A%E4%BA%86%E8%A7%A3%E5%90%8E%EF%BC%8C%E5%86%8D%E7%BB%93%E5%90%88%E6%BA%90%E7%A0%81%E4%B8%80%E5%9D%97%E5%9D%97%E7%9A%84%E5%AD%A6%E4%B9%A0%E5%B0%86%E4%BC%9A%E4%BA%8B%E5%8D%8A%E5%8A%9F%E5%80%8D%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A+++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E5%9B%A0%E4%B8%BA%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E6%9C%AC%E8%B4%A8%E6%98%AF%E4%B8%80%E4%B8%AA%E5%BB%BA%E7%AB%8B%E5%9C%A8P2P%E7%BD%91%E7%BB%9C%E4%B8%8A%E7%9A%84%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%8C%E6%89%80%E4%BB%A5P2P%E7%BD%91%E7%BB%9C%E5%8F%AF%E4%BB%A5%E7%AE%97%E5%BE%97%E4%B8%8A%E6%98%AF%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E4%B8%80%E5%9D%97%E5%9F%BA%E7%9F%B3%EF%BC%8C%E6%88%91%E4%BB%AC%E5%B0%B1%E4%BB%A5P2P%E7%BD%91%E7%BB%9C%E4%BD%9C%E4%B8%BA%E5%88%87%E5%85%A5%E7%82%B9%E6%9D%A5%E5%BC%80%E5%A7%8B%E6%AF%94%E7%89%B9%E5%B8%81%E6%BA%90%E7%A0%81%E7%9A%84%E5%AD%A6%E4%B9%A0%E3%80%82%E6%9C%AC%E6%96%87%E5%B0%86%E7%BB%93%E5%90%88%E6%AF%94%E7%89%B9%E5%B8%81%E6%BA%90%E7%A0%81%EF%BC%8C%E5%88%86%E6%9E%90%E6%AF%94%E7%89%B9%E5%B8%81P2P%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AA%E8%8A%82%E7%82%B9%E6%98%AF%E5%A6%82%E4%BD%95%E5%8F%91%E7%8E%B0%E5%85%B6%E4%BB%96%E8%8A%82%E7%82%B9%E5%B9%B6%E4%B8%8E%E4%B9%8B%E5%BB%BA%E7%AB%8B%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E7%9A%84%E9%80%9A%E9%81%93%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%0A++%3C%2Fdiv%3E%0A++%3Cp%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-size%3A15px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B%26nbsp%3B%E7%94%B1%E4%BA%8E%E4%BD%9C%E8%80%85%E6%9C%AC%E4%BA%BA%E4%B9%9F%E6%98%AF%E5%8C%BA%E5%9D%97%E9%93%BE%E6%96%B0%E6%89%8B%EF%BC%8C%E6%89%80%E4%BB%A5%E6%96%87%E4%B8%AD%E6%9C%89%E9%94%99%E8%AF%AF%E7%9A%84%E5%9C%B0%E6%96%B9%E4%B9%9F%E6%AC%A2%E8%BF%8E%E5%A4%A7%E5%AE%B6%E6%8C%87%E6%AD%A3%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%3Cbr%3E%3C%2Fp%3E%0A++%3Ch1%3E1%E3%80%81%E6%BA%90%E7%A0%81%E8%8E%B7%E5%8F%96%3C%2Fh1%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E6%AF%94%E7%89%B9%E5%B8%81%E6%98%AF%E4%B8%80%E4%B8%AA%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE%EF%BC%8C%E5%85%B6%E6%BA%90%E7%A0%81%E5%8F%AF%E4%BB%A5%E4%BB%8E%E4%BB%A5%E4%B8%8Bgithub%E9%93%BE%E6%8E%A5%E4%B8%8A%E8%8E%B7%E5%8F%96%EF%BC%9A%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%3Ca+href%3D%22https%3A%2F%2Fgithub.com%2Fbitcoin%2Fbitcoin%22+rel%3D%22nofollow%22%3Ehttps%3A%2F%2Fgithub.com%2Fbitcoin%2Fbitcoin%3C%2Fa%3E%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E5%85%B3%E4%BA%8E%E6%BA%90%E7%A0%81%E7%9A%84%E7%BC%96%E8%AF%91%EF%BC%8C%E5%9C%A8%E3%80%8A%E7%B2%BE%E9%80%9A%E6%AF%94%E7%89%B9%E5%B8%81%E3%80%8B%E4%B8%80%E4%B9%A6%E4%B8%AD%E6%9C%89%E8%BE%83%E4%B8%BA%E8%AF%A6%E7%BB%86%E7%9A%84%E8%AF%B4%E6%98%8E%EF%BC%8C%E6%9C%89%E5%85%B4%E8%B6%A3%E7%9A%84%E8%AF%BB%E8%80%85%E5%8F%AF%E4%BB%A5%E5%8F%82%E8%80%83%E6%AD%A4%E4%B9%A6%E4%B8%AD%E7%9A%84%E8%AF%B4%E6%98%8E%E5%B0%9D%E8%AF%95%E5%8E%BB%E7%BC%96%E8%AF%91%E4%B8%80%E4%B8%8B%E3%80%82%3C%2Fspan%3E%3Cbr%3E%3C%2Fp%3E%0A++%3Ch1%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E2%E3%80%81%E6%AF%94%E7%89%B9%E5%B8%81P2P%E7%BD%91%E7%BB%9C%3C%2Fspan%3E%3C%2Fh1%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E5%8C%BA%E5%9D%97%E9%93%BE%E4%BB%8E%E6%9C%AC%E8%B4%A8%E4%B8%8A%E8%AE%B2%E5%B0%B1%E6%98%AF%E5%BB%BA%E7%AB%8B%E5%9C%A8%E4%B8%80%E4%B8%AAP2P%E7%BD%91%E7%BB%9C%E4%B8%8A%E7%9A%84%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%8C%E7%84%B6%E5%90%8E%E9%87%87%E7%94%A8PoW%E6%88%96%E8%80%85PoS%E7%AD%89%E5%85%B1%E8%AF%86%E7%AE%97%E6%B3%95%E8%AE%A9%E7%BD%91%E7%BB%9C%E4%B8%8A%E7%9A%84%E8%8A%82%E7%82%B9%E5%AF%B9%E6%9F%90%E4%BB%B6%E4%BA%8B%E6%83%85%EF%BC%88%E6%AF%94%E5%A6%82%E6%AF%94%E7%89%B9%E5%B8%81%E4%BA%A4%E6%98%93%EF%BC%89%E8%BE%BE%E6%88%90%E5%85%B1%E8%AF%86%E3%80%82%E5%9B%A0%E6%AD%A4%E5%9C%A8%E4%BA%86%E8%A7%A3%E6%AF%94%E7%89%B9%E5%B8%81%E5%85%B6%E4%BB%96%E6%A8%A1%E5%9D%97%E4%B9%8B%E5%89%8D%EF%BC%8C%E5%85%88%E4%BA%86%E8%A7%A3%E6%AF%94%E7%89%B9%E5%B8%81%E7%9A%84P2P%E7%BD%91%E7%BB%9C%E6%98%AF%E4%B8%80%E4%B8%AA%E6%AF%94%E8%BE%83%E5%A5%BD%E7%9A%84%E5%88%87%E5%85%A5%E7%82%B9%E3%80%82%E6%9C%AC%E6%96%87%E5%B0%B1%E4%BB%8E%E6%BA%90%E7%A0%81%E7%9A%84%E8%A7%92%E5%BA%A6%E6%9D%A5%E5%88%86%E6%9E%90%E4%B8%80%E4%B8%8B%E6%AF%94%E7%89%B9%E5%B8%81%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3%E7%9A%84%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%8C%E6%AF%94%E5%A6%82%E4%B8%80%E4%B8%AA%E6%96%B0%E5%90%AF%E5%8A%A8%E7%9A%84%E8%8A%82%E7%82%B9%E6%98%AF%E5%A6%82%E4%BD%95%E5%8F%91%E7%8E%B0%E5%B9%B6%E8%BF%9E%E6%8E%A5%E5%85%B6%E4%BB%96%E8%8A%82%E7%82%B9%E7%9A%84%EF%BC%8C%E5%85%B6%E4%BB%96%E7%BD%91%E7%BB%9C%E7%9A%84%E8%8A%82%E7%82%B9%E5%8F%88%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%9E%E6%8E%A5%E5%88%B0%E6%88%91%E4%BB%AC%E7%9A%84%E8%8A%82%E7%82%B9%E4%B8%8A%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Ch2%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E2.1%E3%80%81%E8%8A%82%E7%82%B9%E5%8F%91%E7%8E%B0%3C%2Fspan%3E%3C%2Fh2%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E5%BD%93%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E7%BD%91%E7%BB%9C%E8%8A%82%E7%82%B9%E5%90%AF%E5%8A%A8%E5%90%8E%EF%BC%8C%E4%B8%BA%E4%BA%86%E8%83%BD%E5%A4%9F%E5%8F%82%E4%B8%8E%E5%8D%8F%E5%90%8C%E8%BF%90%E4%BD%9C%EF%BC%8C%E5%AE%83%E5%BF%85%E9%A1%BB%E8%87%B3%E5%B0%91%E5%8F%91%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%85%B6%E4%BB%96%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84%E8%8A%82%E7%82%B9%E5%B9%B6%E4%B8%8E%E4%B9%8B%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5%E3%80%82%E6%AF%94%E7%89%B9%E5%B8%81%E7%9A%84%E7%BD%91%E7%BB%9C%E6%8B%93%E6%89%91%E7%BB%93%E6%9E%84%E4%B8%8D%E6%80%A5%E4%BA%8E%E5%9C%B0%E7%90%86%E4%BD%8D%E7%BD%AE%EF%BC%8C%E5%9B%A0%E6%AD%A4%E5%8F%AF%E4%BB%A5%E9%9A%8F%E6%9C%BA%E7%9A%84%E9%80%89%E6%8B%A9%E8%8A%82%E7%82%B9%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E9%82%A3%E4%B9%88%E4%B8%80%E4%B8%AA%E6%96%B0%E5%90%AF%E5%8A%A8%E7%9A%84%E8%8A%82%E7%82%B9%E6%98%AF%E5%A6%82%E4%BD%95%E5%8F%91%E7%8E%B0%E5%85%B6%E4%BB%96%E7%BD%91%E7%BB%9C%E7%9A%84%E8%8A%82%E7%82%B9%E5%91%A2%EF%BC%9F%E6%AF%94%E7%89%B9%E5%B8%81%E7%BD%91%E7%BB%9C%E9%87%87%E7%94%A8%E4%BA%86%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F%EF%BC%9A%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%281%29+%E5%88%A9%E7%94%A8%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E6%AF%94%E7%89%B9%E5%B8%81%E7%9A%84%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BC%9A%E7%BB%B4%E6%8A%A4%E4%B8%80%E4%B8%AA%E5%88%97%E8%A1%A8%EF%BC%8C%E5%88%97%E8%A1%A8%E4%B8%AD%E8%AE%B0%E5%BD%95%E4%BA%86%E9%95%BF%E6%9C%9F%E7%A8%B3%E5%AE%9A%E8%BF%90%E8%A1%8C%E7%9A%84%E8%8A%82%E7%82%B9%EF%BC%8C%E8%BF%99%E4%BA%9B%E8%8A%82%E7%82%B9%E4%B9%9F%E8%A2%AB%E7%A7%B0%E4%B9%8B%E4%B8%BA%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%E3%80%82%E8%BF%9E%E6%8E%A5%E5%88%B0%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%E7%9A%84%E5%A5%BD%E5%A4%84%E5%B0%B1%E6%98%AF%E6%96%B0%E8%8A%82%E7%82%B9%E5%8F%AF%E4%BB%A5%E5%BF%AB%E9%80%9F%E7%9A%84%E5%8F%91%E7%8E%B0%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84%E5%85%B6%E4%BB%96%E8%8A%82%E7%82%B9%E3%80%82%E5%9C%A8%E6%AF%94%E7%89%B9%E5%B8%81%E9%87%8C%EF%BC%8C%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E9%80%89%E7%BA%BF%E2%80%9C-dnsseed%E2%80%9D%E6%9D%A5%E6%8C%87%E5%AE%9A%E6%98%AF%E5%90%A6%E4%BD%BF%E7%94%A8%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%EF%BC%8C%E8%AF%A5%E9%80%89%E9%A1%B9%E9%BB%98%E8%AE%A4%E6%98%AF%E5%BC%80%E5%90%AF%E7%9A%84%E3%80%82%3C%2Fspan%3E%3Cbr%3E%3C%2Fp%3E%0A++%3Cp%3E%26nbsp%3B+%26nbsp%3B+%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%282%29+%E8%8A%82%E7%82%B9%E5%BC%95%E8%8D%90%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E9%99%A4%E4%BA%86%E4%BD%BF%E7%94%A8%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%E5%A4%96%EF%BC%8C%E8%BF%98%E5%8F%AF%E4%BB%A5%E5%B0%86%E5%BD%93%E5%89%8D%E5%90%AF%E5%8A%A8%E8%8A%82%E7%82%B9%E5%BC%95%E8%8D%90%E7%BB%99%E5%85%B6%E4%BB%96%E8%8A%82%E7%82%B9%E7%9A%84%E6%96%B9%E5%BC%8F%E3%80%82%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E2%80%9C-seednode%E2%80%9D%E9%80%89%E9%A1%B9%E6%8C%87%E5%AE%9A%E4%B8%80%E4%B8%AA%E8%8A%82%E7%82%B9%E7%9A%84ip%EF%BC%8C%E4%B9%8B%E5%90%8E%E8%8A%82%E7%82%B9%E5%B0%86%E4%BA%8E%E8%AF%A5%E8%8A%82%E7%82%B9%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5%EF%BC%8C%E5%B0%86%E8%AF%A5%E8%8A%82%E7%82%B9%E4%BD%9C%E4%B8%BADNS%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%EF%BC%8C%E5%9C%A8%E5%BC%95%E8%8D%90%E4%BF%A1%E6%81%AF%E5%BD%A2%E6%88%90%E4%B9%8B%E5%90%8E%E6%96%AD%E5%BC%80%E4%B8%8E%E8%AF%A5%E8%8A%82%E7%82%B9%E7%9A%84%E8%BF%9E%E6%8E%A5%EF%BC%8C%E5%B9%B6%E4%B8%8E%E6%96%B0%E5%8F%91%E7%8E%B0%E7%9A%84%E8%8A%82%E7%82%B9%E8%BF%9E%E6%8E%A5%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Ch2%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E2.2+%E6%8F%A1%E6%89%8B%E5%8D%8F%E8%AE%AE%3C%2Fspan%3E%3C%2Fh2%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E5%BD%93%E8%8A%82%E7%82%B9%E4%B8%8E%E5%AF%B9%E7%AD%89%E8%8A%82%E7%82%B9%E5%BB%BA%E7%AB%8B%E5%A5%BD%E8%BF%9E%E6%8E%A5%E5%90%8E%EF%BC%8C%E9%A6%96%E5%85%88%E8%A6%81%E5%81%9A%E7%9A%84%E5%B0%B1%E6%98%AF%E6%8F%A1%E6%89%8B%E3%80%82%E5%85%B6%E8%BF%87%E7%A8%8B%E5%A6%82%E4%B8%8B%EF%BC%9A%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%281%29%E8%8A%82%E7%82%B9%E5%90%91%E5%AF%B9%E7%AD%89%E6%96%AD%E5%8F%91%E9%80%81version%E6%B6%88%E6%81%AF%E5%BC%80%E5%A7%8B%E6%8F%A1%E6%89%8B%EF%BC%8C%E6%AD%A4%E6%B6%88%E6%81%AF%E4%B8%AD%E5%8C%85%E5%90%AB%E5%A6%82%E4%B8%8B%E4%B8%80%E4%BA%9B%E5%86%85%E5%AE%B9%EF%BC%9A%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+PROTOCOL_VERSION%3A%E5%BD%93%E5%89%8D%E8%8A%82%E7%82%B9%E7%9A%84%E6%AF%94%E7%89%B9%E5%B8%81P2P%E5%8D%8F%E8%AE%AE%E7%9A%84%E7%89%88%E6%9C%AC%E5%8F%B7%EF%BC%9B%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+nLocalServices%3A%E8%8A%82%E7%82%B9%E6%94%AF%E6%8C%81%E7%9A%84%E6%9C%AC%E5%9C%B0%E6%9C%8D%E5%8A%A1%E5%88%97%E8%A1%A8%EF%BC%8C%E7%9B%AE%E5%89%8D%E4%BB%85%E6%94%AF%E6%8C%81NODE_NETWORK%3B%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+nTime%3A%E5%BD%93%E5%89%8D%E6%97%B6%E9%97%B4%EF%BC%9B%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+addrYou%3A%E5%BD%93%E5%89%8D%E8%8A%82%E7%82%B9%E5%8F%AF%E8%A7%81%E7%9A%84%E8%BF%9C%E7%A8%8B%E8%8A%82%E7%82%B9%E7%9A%84IP%E5%9C%B0%E5%9D%80%EF%BC%9B%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+addrMe%3A%E6%9C%AC%E8%8A%82%E7%82%B9%E5%8F%91%E7%8E%B0%E7%9A%84%E6%9C%AC%E5%9C%B0IP%E5%9C%B0%E5%9D%80%EF%BC%9B%3C%2Fspan%3E%3Cbr%3E%3C%2Fp%3E%0A++%3Cp%3E%26nbsp%3B+%26nbsp%3B+%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3Esubver%EF%BC%9A%E5%BD%93%E5%89%8D%E8%8A%82%E7%82%B9%E8%BF%90%E8%A1%8C%E7%9A%84%E8%BD%AF%E4%BB%B6%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%AD%90%E7%89%88%E6%9C%AC%E5%8F%B7%EF%BC%9B%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+baseHeight%3A%E5%BD%93%E5%89%8D%E8%8A%82%E7%82%B9%E4%B8%8A%E7%9A%84%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E9%AB%98%E5%BA%A6%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E5%AF%B9%E7%AD%89%E8%8A%82%E7%82%B9%E6%94%B6%E5%88%B0version%E6%B6%88%E6%81%AF%E5%90%8E%EF%BC%8C%E4%BC%9A%E5%9B%9E%E5%BA%94verack%E8%BF%9B%E8%A1%8C%E7%A1%AE%E8%AE%A4%E5%B9%B6%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5%E3%80%82%E6%9C%89%E6%97%B6%E5%80%99%E5%AF%B9%E7%AD%89%E7%AB%AF%E5%8F%AF%E8%83%BD%E9%9C%80%E8%A6%81%E4%BA%92%E6%8D%A2%E8%BF%9E%E6%8E%A5%E5%B9%B6%E8%BF%9E%E5%9B%9E%E8%B5%B7%E5%A7%8B%E8%8A%82%E7%82%B9%EF%BC%8C%E6%AD%A4%E6%97%B6%E5%AF%B9%E7%AD%89%E7%AB%AF%E4%B9%9F%E4%BC%9A%E5%8F%91%E9%80%81%E8%AF%A5%E8%8A%82%E7%82%B9%E7%9A%84version%E6%B6%88%E6%81%AF%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E5%8F%82%E8%80%83%E4%B8%8B%E5%9B%BE%EF%BC%9A%3C%2Fspan%3E%3Cbr%3E%3C%2Fp%3E%0A++%3Cp%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdn.net%2F20180512170431878%3Fwatermark%2F2%2Ftext%2FaHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3p0ZW10X3N3Mg%3D%3D%2Ffont%2F5a6L5L2T%2Ffontsize%2F400%2Ffill%2FI0JBQkFCMA%3D%3D%2Fdissolve%2F70%22+alt%3D%22%22%3E%3Cbr%3E%3C%2Fp%3E%0A++%3Ch2%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E2.3%E3%80%81%E5%9C%B0%E5%9D%80%E5%B9%BF%E6%92%AD%E5%8F%8A%E5%8F%91%E7%8E%B0%3C%2Fspan%3E%3C%2Fh2%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E5%AE%8C%E6%88%90%E6%8F%A1%E6%89%8B%E5%8D%8F%E8%AE%AE%E5%90%8E%EF%BC%8C%E6%96%B0%E8%8A%82%E7%82%B9%E5%B0%86%E4%BC%9A%E5%8F%91%E9%80%81%E4%B8%80%E6%9D%A1%E5%8C%85%E5%90%AB%E8%87%AA%E5%B7%B1IP%E5%9C%B0%E5%9D%80%E7%9A%84addr%E6%B6%88%E6%81%AF%E7%BB%99%E5%AF%B9%E7%AD%89%E7%AB%AF%EF%BC%8C%E5%AF%B9%E7%AD%89%E7%AB%AF%E6%94%B6%E5%88%B0%E4%BB%A5%E5%90%8E%E5%8F%88%E5%90%91%E4%B8%8E%E5%AE%83%E8%BF%9E%E6%8E%A5%E7%9A%84%E7%9B%B8%E9%82%BB%E8%8A%82%E7%82%B9%E5%8F%91%E9%80%81addr%E6%B6%88%E6%81%AF%EF%BC%8C%E8%BF%99%E6%A0%B7%E6%96%B0%E8%8A%82%E7%82%B9%E7%9A%84ip%E5%9C%B0%E5%9D%80%E5%B0%B1%E4%BC%9A%E5%9C%A8P2P%E7%BD%91%E7%BB%9C%E4%B8%AD%E5%B9%BF%E6%92%AD%E5%87%BA%E5%8E%BB%E3%80%82%E6%AD%A4%E5%A4%96%E6%96%B0%E8%8A%82%E7%82%B9%E8%BF%98%E5%8F%AF%E4%BB%A5%E5%8F%91%E9%80%81getaddr%E6%B6%88%E6%81%AF%EF%BC%8C%E8%A6%81%E6%B1%82%E5%AF%B9%E7%AD%89%E7%AB%AF%E6%8A%8A%E8%87%AA%E5%B7%B1%E7%9F%A5%E9%81%93%E7%9A%84%E8%8A%82%E7%82%B9%E7%9A%84IP%E5%9C%B0%E5%9D%80%E5%8F%91%E9%80%81%E8%BF%87%E6%9D%A5%E3%80%82%E9%80%9A%E8%BF%87%E8%BF%99%E7%A7%8D%E6%96%B9%E5%BC%8F%EF%BC%8C%E6%96%B0%E8%8A%82%E7%82%B9%E5%8F%AF%E4%BB%A5%E6%89%BE%E5%88%B0%E9%9C%80%E8%A6%81%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%AF%B9%E7%AD%89%E8%8A%82%E7%82%B9%E3%80%82%E5%A6%82%E4%B8%8B%E5%9B%BE%EF%BC%9A%3C%2Fspan%3E%3Cbr%3E%3C%2Fp%3E%0A++%3Cp%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdn.net%2F2018051217123287%3Fwatermark%2F2%2Ftext%2FaHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3p0ZW10X3N3Mg%3D%3D%2Ffont%2F5a6L5L2T%2Ffontsize%2F400%2Ffill%2FI0JBQkFCMA%3D%3D%2Fdissolve%2F70%22+alt%3D%22%22%3E%3Cbr%3E%3C%2Fp%3E%0A++%3Cp%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%E8%8A%82%E7%82%B9%E5%BF%85%E9%A1%BB%E8%BF%9E%E6%8E%A5%E5%88%B0%E8%8B%A5%E5%B9%B2%E4%B8%8D%E5%90%8C%E7%9A%84%E5%AF%B9%E7%AD%89%E8%8A%82%E7%82%B9%E6%89%8D%E8%83%BD%E5%9C%A8%E6%AF%94%E7%89%B9%E5%B8%81%E7%BD%91%E7%BB%9C%E4%B8%AD%E5%BB%BA%E7%AB%8B%E9%80%9A%E5%90%91%E6%AF%94%E7%89%B9%E5%B8%81%E7%BD%91%E7%BB%9C%E7%9A%84%E7%A7%8D%E7%B1%BB%E5%90%84%E5%BC%82%E7%9A%84%E8%B7%AF%E5%BE%84%EF%BC%88path%EF%BC%89%E3%80%82%E7%94%B1%E4%BA%8E%E8%8A%82%E7%82%B9%E5%8F%AF%E4%BB%A5%E9%9A%8F%E6%97%B6%E5%8A%A0%E5%85%A5%E5%92%8C%E7%A6%BB%E5%BC%80%EF%BC%8C%E9%80%9A%E8%AE%AF%E8%B7%AF%E5%BE%84%E6%98%AF%E4%B8%8D%E5%8F%AF%E9%9D%A0%E7%9A%84%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%E8%8A%82%E7%82%B9%E5%BF%85%E9%A1%BB%E6%8C%81%E7%BB%AD%E8%BF%9B%E8%A1%8C%E4%B8%A4%E9%A1%B9%E5%B7%A5%E4%BD%9C%EF%BC%9A%E5%9C%A8%E5%A4%B1%E5%8E%BB%E5%B7%B2%E6%9C%89%E8%BF%9E%E6%8E%A5%E6%97%B6%E5%8F%91%E7%8E%B0%E6%96%B0%E8%8A%82%E7%82%B9%EF%BC%8C%E5%B9%B6%E5%9C%A8%E5%85%B6%E4%BB%96%E8%8A%82%E7%82%B9%E5%90%AF%E5%8A%A8%E6%97%B6%E4%B8%BA%E5%85%B6%E6%8F%90%E4%BE%9B%E5%B8%AE%E5%8A%A9%E3%80%82%E8%8A%82%E7%82%B9%E5%90%AF%E5%8A%A8%E6%97%B6%E5%8F%AA%E9%9C%80%E8%A6%81%E4%B8%80%E4%B8%AA%E8%BF%9E%E6%8E%A5%EF%BC%8C%E5%9B%A0%E4%B8%BA%E7%AC%AC%E4%B8%80%E4%B8%AA%E8%8A%82%E7%82%B9%E5%8F%AF%E4%BB%A5%E5%B0%86%E5%AE%83%E5%BC%95%E8%8D%90%E7%BB%99%E5%AE%83%E7%9A%84%E5%AF%B9%E7%AD%89%E8%8A%82%E7%82%B9%EF%BC%8C%E8%80%8C%E8%BF%99%E4%BA%9B%E8%8A%82%E7%82%B9%E5%8F%88%E4%BC%9A%E8%BF%9B%E4%B8%80%E6%AD%A5%E6%8F%90%E4%BE%9B%E5%BC%95%E8%8D%90%E3%80%82%E4%B8%80%E4%B8%AA%E8%8A%82%E7%82%B9%EF%BC%8C%E5%A6%82%E6%9E%9C%E8%BF%9E%E6%8E%A5%E5%88%B0%E5%A4%A7%E9%87%8F%E7%9A%84%E5%85%B6%E4%BB%96%E5%AF%B9%E7%AD%89%E8%8A%82%E7%82%B9%EF%BC%8C%E8%BF%99%E6%97%A2%E6%B2%A1%E5%BF%85%E8%A6%81%EF%BC%8C%E4%B9%9F%E6%98%AF%E5%AF%B9%E7%BD%91%E7%BB%9C%E8%B5%84%E6%BA%90%E7%9A%84%E6%B5%AA%E8%B4%B9%E3%80%82%E5%9C%A8%E5%90%AF%E5%8A%A8%E5%AE%8C%E6%88%90%E5%90%8E%EF%BC%8C%E8%8A%82%E7%82%B9%E4%BC%9A%E8%AE%B0%E4%BD%8F%E5%AE%83%E6%9C%80%E8%BF%91%E6%88%90%E5%8A%9F%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%AF%B9%E7%AD%89%E8%8A%82%E7%82%B9%EF%BC%9B%E5%9B%A0%E6%AD%A4%EF%BC%8C%E5%BD%93%E9%87%8D%E6%96%B0%E5%90%AF%E5%8A%A8%E5%90%8E%E5%AE%83%E5%8F%AF%E4%BB%A5%E8%BF%85%E9%80%9F%E4%B8%8E%E5%85%88%E5%89%8D%E7%9A%84%E5%AF%B9%E7%AD%89%E8%8A%82%E7%82%B9%E7%BD%91%E7%BB%9C%E9%87%8D%E6%96%B0%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5%E3%80%82%E5%A6%82%E6%9E%9C%E5%85%88%E5%89%8D%E7%9A%84%E7%BD%91%E7%BB%9C%E7%9A%84%E5%AF%B9%E7%AD%89%E8%8A%82%E7%82%B9%E5%AF%B9%E8%BF%9E%E6%8E%A5%E8%AF%B7%E6%B1%82%E6%97%A0%E5%BA%94%E7%AD%94%EF%BC%8C%E8%AF%A5%E8%8A%82%E7%82%B9%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%E8%BF%9B%E8%A1%8C%E9%87%8D%E5%90%AF%E5%8A%A8%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%E7%94%A8%E6%88%B7%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E6%8F%90%E4%BE%9B%3C%2Fspan%3E%3Ccode+style%3D%22color%3Ainherit%3Bletter-spacing%3A.2px%3Bfont-family%3AConsolas%2C+%27Liberation+Mono%27%2C+Menlo%2C+Courier%2C+monospace%3Bfont-size%3A.85em%3Bborder%3Anone%3Bbackground-color%3Argb%28247%2C247%2C247%29%3B%22%3E-connect%3D%26lt%3BIP%E5%9C%B0%E5%9D%80%26gt%3B%3C%2Fcode%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%E9%80%89%E9%A1%B9%E6%9D%A5%E6%8C%87%E5%AE%9A%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AAIP%E5%9C%B0%E5%9D%80%EF%BC%8C%E4%BB%8E%E8%80%8C%E8%BE%BE%E5%88%B0%E5%A4%8D%E5%86%99%E8%87%AA%E5%8A%A8%E8%8A%82%E7%82%B9%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD%E5%B9%B6%E6%8C%87%E5%AE%9AIP%E5%9C%B0%E5%9D%80%E5%88%97%E8%A1%A8%E7%9A%84%E7%9B%AE%E7%9A%84%E3%80%82%E5%A6%82%E6%9E%9C%E9%87%87%E7%94%A8%E6%AD%A4%E9%80%89%E9%A1%B9%EF%BC%8C%E8%8A%82%E7%82%B9%E5%8F%AA%E8%BF%9E%E6%8E%A5%E5%88%B0%E8%BF%99%E4%BA%9B%E9%80%89%E5%AE%9A%E7%9A%84%E8%8A%82%E7%82%B9IP%E5%9C%B0%E5%9D%80%EF%BC%8C%E8%80%8C%E4%B8%8D%E4%BC%9A%E8%87%AA%E5%8A%A8%E5%8F%91%E7%8E%B0%E5%B9%B6%E7%BB%B4%E6%8A%A4%E5%AF%B9%E7%AD%89%E8%8A%82%E7%82%B9%E4%B9%8B%E9%97%B4%E7%9A%84%E8%BF%9E%E6%8E%A5%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%E5%A6%82%E6%9E%9C%E5%B7%B2%E5%BB%BA%E7%AB%8B%E7%9A%84%E8%BF%9E%E6%8E%A5%E6%B2%A1%E6%9C%89%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%EF%BC%8C%E6%89%80%E5%9C%A8%E7%9A%84%E8%8A%82%E7%82%B9%E4%BC%9A%E5%AE%9A%E6%9C%9F%E5%8F%91%E9%80%81%E4%BF%A1%E6%81%AF%E4%BB%A5%E7%BB%B4%E6%8C%81%E8%BF%9E%E6%8E%A5%E3%80%82%E5%A6%82%E6%9E%9C%E8%8A%82%E7%82%B9%E6%8C%81%E7%BB%AD%E6%9F%90%E4%B8%AA%E8%BF%9E%E6%8E%A5%E9%95%BF%E8%BE%BE90%E5%88%86%E9%92%9F%E6%B2%A1%E6%9C%89%E4%BB%BB%E4%BD%95%E9%80%9A%E4%BF%A1%EF%BC%8C%E5%AE%83%E4%BC%9A%E8%A2%AB%E8%AE%A4%E4%B8%BA%E5%B7%B2%E7%BB%8F%E4%BB%8E%E7%BD%91%E7%BB%9C%E4%B8%AD%E6%96%AD%E5%BC%80%EF%BC%8C%E7%BD%91%E7%BB%9C%E5%B0%86%E5%BC%80%E5%A7%8B%E6%9F%A5%E6%89%BE%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E5%AF%B9%E7%AD%89%E8%8A%82%E7%82%B9%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%E6%AF%94%E7%89%B9%E5%B8%81%E7%BD%91%E7%BB%9C%E4%BC%9A%E9%9A%8F%E6%97%B6%E6%A0%B9%E6%8D%AE%E5%8F%98%E5%8C%96%E7%9A%84%E8%8A%82%E7%82%B9%E5%8F%8A%E7%BD%91%E7%BB%9C%E9%97%AE%E9%A2%98%E8%BF%9B%E8%A1%8C%E5%8A%A8%E6%80%81%E8%B0%83%E6%95%B4%EF%BC%8C%E4%B8%8D%E9%9C%80%E7%BB%8F%E8%BF%87%E4%B8%AD%E5%BF%83%E5%8C%96%E7%9A%84%E6%8E%A7%E5%88%B6%E5%8D%B3%E5%8F%AF%E8%BF%9B%E8%A1%8C%E8%A7%84%E6%A8%A1%E5%A2%9E%E3%80%81%E5%87%8F%E7%9A%84%E6%9C%89%E6%9C%BA%E8%B0%83%E6%95%B4%E3%80%82%3C%2Fp%3E%0A++%3Ch1%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E3%E3%80%81%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%3C%2Fspan%3E%3C%2Fh1%3E%0A++%3Cp%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E4%BB%A5%E4%B8%8A%E5%88%86%E6%9E%90%E4%BA%86%E6%AF%94%E7%89%B9%E5%B8%81P2P%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84%E6%8F%A1%E6%89%8B%E5%8D%8F%E8%AE%AE%EF%BC%8C%E4%BB%A5%E5%8F%8A%E5%9C%B0%E5%9D%80%E7%9A%84%E5%B9%BF%E6%92%AD%E6%89%A9%E6%95%A3%E7%9A%84%E5%8E%9F%E7%90%86%E3%80%82%E8%BF%99%E4%B8%80%E8%8A%82%E6%88%91%E4%BB%AC%E5%B0%B1%E6%9D%A5%E5%88%86%E6%9E%90%E6%BA%90%E7%A0%81%EF%BC%8C%E7%9C%8B%E7%9C%8B%E4%B8%8A%E9%9D%A2%E6%8F%8F%E8%BF%B0%E7%9A%84%E8%BF%99%E4%BA%9B%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B%E5%9C%A8%E4%BB%A3%E7%A0%81%E4%B8%AD%E6%98%AF%E5%A6%82%E4%BD%95%E4%BD%93%E7%8E%B0%E7%9A%84%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Ch2%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E3.1%E3%80%81%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%82%E6%95%B0%3C%2Fspan%3E%3C%2Fh2%3E%0A++%3Cp%3E%26nbsp%3B+%26nbsp%3B+%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%E6%AF%94%E7%89%B9%E5%B8%81%E6%A0%B8%E5%BF%83%E7%9A%84%E5%85%A5%E5%8F%A3%E5%87%BD%E6%95%B0main%E5%87%BD%E6%95%B0%E4%BD%8D%E4%BA%8E%E6%96%87%E4%BB%B6bitcoind.cpp%E4%B8%AD%EF%BC%8C%E5%85%A5%E5%8F%A3%E5%87%BD%E6%95%B0%E9%9D%9E%E5%B8%B8%E7%AE%80%E7%9F%AD%EF%BC%9A%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3Eint+main%28int+argc%2C+char*+argv%5B%5D%29%0A%7B%0A++++SetupEnvironment%28%29%3B%0A%0A++++%2F%2F+Connect+bitcoind+signal+handlers%0A++++noui_connect%28%29%3B%0A%0A++++return+%28AppInit%28argc%2C+argv%29+%3F+EXIT_SUCCESS+%3A+EXIT_FAILURE%29%3B%0A%7D%0A%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%26nbsp%3B+%26nbsp%3B+%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%E6%AF%94%E7%89%B9%E5%B8%81%E6%A0%B8%E5%BF%83%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96%E6%93%8D%E4%BD%9C%E7%9A%84%E9%87%8D%E4%BB%BB%E5%9F%BA%E6%9C%AC%E4%B8%8A%E9%83%BD%E5%9C%A8AppInit%E8%BF%99%E4%B8%AA%E5%87%BD%E6%95%B0%E9%87%8C%E3%80%82%E6%88%91%E4%BB%AC%E5%AF%B9%E8%BF%99%E4%B8%AA%E5%87%BD%E6%95%B0%E6%8A%BD%E4%B8%9D%E5%89%A5%E8%8C%A7%EF%BC%8C%E4%B8%80%E6%AD%A5%E4%B8%80%E6%AD%A5%E7%9A%84%E5%B1%95%E5%BC%80%E5%88%86%E6%9E%90%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3Estatic+bool+AppInit%28int+argc%2C+char*+argv%5B%5D%29%0A%7B%0A++++bool+fRet+%3D+false%3B%0A%0A++++%2F%2F%0A++++%2F%2F+Parameters%0A++++%2F%2F%0A++++%2F%2F+If+Qt+is+used%2C+parameters%2Fbitcoin.conf+are+parsed+in+qt%2Fbitcoin.cpp%27s+main%28%29%0A++++SetupServerArgs%28%29%3B%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%26nbsp%3B+%26nbsp%3B+%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%E7%AC%AC%E4%B8%80%E4%B8%AA%E8%B0%83%E7%94%A8%E7%9A%84%E5%B0%B1%E6%98%AFSetupServerArgs%EF%BC%8C%E8%BF%99%E9%87%8C%E4%BC%9A%E5%88%9D%E5%A7%8B%E5%8C%96%E6%95%B4%E4%B8%AA%E6%9C%8D%E5%8A%A1%E7%AB%AF%E7%9A%84%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0%EF%BC%8C%E7%BB%99%E4%B8%80%E4%BA%9B%E9%BB%98%E8%AE%A4%E5%80%BC%E3%80%82%E9%A6%96%E5%85%88%E6%9D%A5%E8%AE%A4%E8%AF%86%E5%87%A0%E4%B8%AA%E7%B1%BB%EF%BC%9A%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Ch3%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E3.1.1+CBaseChainParams%3C%2Fspan%3E%3C%2Fh3%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E8%BF%99%E6%98%AF%E6%AF%94%E7%89%B9%E5%B8%81%E5%AE%A2%E6%88%B7%E7%AB%AF%28bitcoin_cli%29%E5%92%8C%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%85%B1%E4%BA%AB%E7%9A%84%E4%B8%80%E4%B8%AA%E7%B1%BB%EF%BC%8C%E5%AE%9A%E4%B9%89%E4%BA%86%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%AF%94%E7%89%B9%E5%B8%81%E5%8F%82%E6%95%B0%EF%BC%8C%E4%B8%BB%E8%A6%81%E6%98%AF%E6%AF%94%E7%89%B9%E5%B8%81%E7%9A%84%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E7%9B%AE%E5%BD%95%E5%92%8C%E7%9B%B8%E4%BA%92%E9%80%9A%E4%BF%A1%E7%9A%84rpc%E7%AB%AF%E5%8F%A3%E5%8F%B7%E3%80%82%E8%BF%99%E4%B8%AA%E7%B1%BB%E6%AF%94%E8%BE%83%E7%AE%80%E5%8D%95%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%B8%80%E7%AA%A5%E6%BA%90%E7%A0%81%EF%BC%9A%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3Eclass+CBaseChainParams%0A%7B%0Apublic%3A%0A++++%2F**+BIP70+chain+name+strings+%28main%2C+test+or+regtest%29+*%2F%0A++++static+const+std%3A%3Astring+MAIN%3B%0A++++static+const+std%3A%3Astring+TESTNET%3B%0A++++static+const+std%3A%3Astring+REGTEST%3B%0A%0A++++const+std%3A%3Astring%26amp%3B+DataDir%28%29+const+%7B+return+strDataDir%3B+%7D%0A++++int+RPCPort%28%29+const+%7B+return+nRPCPort%3B+%7D%0A%0A++++CBaseChainParams%28%29+%3D+delete%3B%0A++++CBaseChainParams%28const+std%3A%3Astring%26amp%3B+data_dir%2C+int+rpc_port%29+%3A+nRPCPort%28rpc_port%29%2C+strDataDir%28data_dir%29+%7B%7D%0A%0Aprivate%3A%0A++++int+nRPCPort%3B%0A++++std%3A%3Astring+strDataDir%3B%0A%7D%3B%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E9%87%8C%E9%9D%A2%E5%B0%B1%E4%B8%A4%E4%B8%AA%E6%88%90%E5%91%98%EF%BC%9AnRPCPort%E5%AE%9A%E4%B9%89%E4%BA%86%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%92%8C%E6%9C%8D%E5%8A%A1%E7%AB%AF%E9%80%9A%E4%BF%A1%E7%9A%84rpc%E7%AB%AF%E5%8F%A3%EF%BC%8CstrDataDir%E5%AE%9A%E4%B9%89%E4%BA%86%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E7%9A%84%E7%9B%AE%E5%BD%95%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Ch3%3E3.1.2+CChainParams%3C%2Fh3%3E%0A++%3Cp%3E%26nbsp%3B+%26nbsp%3B+%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%E8%BF%99%E4%B8%AA%E7%B1%BB%E5%AE%9A%E4%B9%89%E4%BA%86%E6%AF%94%E7%89%B9%E5%B8%81%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%BE%88%E5%A4%9A%E6%AF%94%E8%BE%83%E9%87%8D%E8%A6%81%E7%9A%84%E5%8F%82%E6%95%B0%E3%80%82%E6%88%91%E4%BB%AC%E7%9C%8B%E7%9C%8B%E9%83%BD%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9A%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BConsensus%3A%3AParams+consensus%3B%0A++++CMessageHeader%3A%3AMessageStartChars+pchMessageStart%3B%0A++++int+nDefaultPort%3B%0A++++uint64_t+nPruneAfterHeight%3B%0A++++std%3A%3Avector%26lt%3Bstd%3A%3Astring%26gt%3B+vSeeds%3B%0A++++std%3A%3Avector%26lt%3Bunsigned+char%26gt%3B+base58Prefixes%5BMAX_BASE58_TYPES%5D%3B%0A++++std%3A%3Astring+bech32_hrp%3B%0A++++std%3A%3Astring+strNetworkID%3B%0A++++CBlock+genesis%3B%0A++++std%3A%3Avector%26lt%3BSeedSpec6%26gt%3B+vFixedSeeds%3B%0A++++bool+fDefaultConsistencyChecks%3B%0A++++bool+fRequireStandard%3B%0A++++bool+fMineBlocksOnDemand%3B%0A++++CCheckpointData+checkpointData%3B%0A++++ChainTxData+chainTxData%3B%0A++++bool+m_fallback_fee_enabled%3B%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E6%AF%94%E8%BE%83%E5%A4%9A%EF%BC%8C%E8%BF%99%E9%87%8C%E6%88%91%E4%BB%AC%E5%B0%B1%E5%85%B3%E6%B3%A8%E5%87%A0%E4%B8%AA%E5%92%8C%E6%AF%94%E7%89%B9%E5%B8%81%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3%E7%9A%84%E5%8F%82%E6%95%B0%EF%BC%9A%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+nDefaultPort%3A%E6%AF%94%E7%89%B9%E5%B8%81P2P%E7%BD%91%E7%BB%9C%E9%BB%98%E8%AE%A4%E7%9A%84%E7%9B%91%E5%90%AC%E7%AB%AF%E5%8F%A3%EF%BC%8C%E9%BB%98%E8%AE%A4%E6%98%AF8333%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+vSeeds%3A%E8%BF%99%E4%B8%AA%E6%98%AF%E6%AF%94%E7%89%B9%E5%B8%81%E4%BB%A3%E7%A0%81%E4%B8%AD%E5%86%85%E7%BD%AE%E7%9A%84%E4%B8%80%E4%BA%9BDNS%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%E3%80%82%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%E5%9C%A8%E9%BB%98%E8%AE%A4%E5%BC%80%E5%90%AF-dnsseed%E9%80%89%E9%A1%B9%E5%B9%B6%E4%B8%94%E4%B8%8D%E6%8C%87%E5%AE%9A-connect%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8C%E6%96%B0%E8%8A%82%E7%82%B9%E5%90%AF%E5%8A%A8%E6%97%B6%E5%B0%86%E5%B0%9D%E8%AF%95%E9%80%9A%E8%BF%87%E8%BF%99%E4%BA%9B%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%E5%8A%A0%E5%85%A5P2P%E7%BD%91%E7%BB%9C%E4%B8%AD%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Ch3%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E3.1.3+CMainParams%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fh3%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E8%BF%99%E4%B8%AA%E7%B1%BB%E7%BB%A7%E6%89%BF%E8%87%AA%E4%B8%8A%E4%B8%80%E8%8A%82%E7%9A%84CChainParams%E3%80%82%E8%BF%99%E4%B8%AA%E7%B1%BB%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E9%87%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BA%86%E6%AF%94%E7%89%B9%E5%B8%81%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%B8%80%E4%BA%9B%E6%A0%B8%E5%BF%83%E5%8F%82%E6%95%B0%E3%80%82%E5%8F%A6%E5%A4%96%E6%AF%94%E7%89%B9%E5%B8%81%E5%88%9B%E4%B8%96%E5%8C%BA%E5%9D%97%EF%BC%88%E5%8C%BA%E5%9D%97%E9%93%BE%E4%B8%8A%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8C%BA%E5%9D%97%EF%BC%89%E4%B9%9F%E6%98%AF%E5%9C%A8%E8%BF%99%E9%87%8C%E7%94%9F%E6%88%90%E7%9A%84%E3%80%82%E8%BF%99%E9%87%8C%E6%9A%82%E4%B8%94%E5%85%88%E4%B8%8D%E5%85%B3%E5%BF%83%E5%85%B6%E4%BB%96%E7%9A%84%EF%BC%8C%E5%85%88%E6%8A%8A%E5%85%B3%E6%B3%A8%E7%82%B9%E6%94%BE%E5%9C%A8P2P%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3%E7%9A%84%E4%BA%8B%E6%83%85%E4%B8%8A%E6%9D%A5%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E5%9C%A8%E8%BF%99%E4%B8%AA%E7%B1%BB%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E4%B8%AD%E5%86%85%E7%BD%AE%E4%BA%86%E4%B8%80%E4%BA%9B%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%EF%BC%9A%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3E%2F%2F+Note+that+of+those+which+support+the+service+bits+prefix%2C+most+only+support+a+subset+of%0A++++++++%2F%2F+possible+options.%0A++++++++%2F%2F+This+is+fine+at+runtime+as+we%27ll+fall+back+to+using+them+as+a+oneshot+if+they+don%27t+support+the%0A++++++++%2F%2F+service+bits+we+want%2C+but+we+should+get+them+updated+to+support+all+service+bits+wanted+by+any%0A++++++++%2F%2F+release+ASAP+to+avoid+it+where+possible.%0A++++++++vSeeds.emplace_back%28%22seed.bitcoin.sipa.be%22%29%3B+%2F%2F+Pieter+Wuille%2C+only+supports+x1%2C+x5%2C+x9%2C+and+xd%0A++++++++vSeeds.emplace_back%28%22dnsseed.bluematt.me%22%29%3B+%2F%2F+Matt+Corallo%2C+only+supports+x9%0A++++++++vSeeds.emplace_back%28%22dnsseed.bitcoin.dashjr.org%22%29%3B+%2F%2F+Luke+Dashjr%0A++++++++vSeeds.emplace_back%28%22seed.bitcoinstats.com%22%29%3B+%2F%2F+Christian+Decker%2C+supports+x1+-+xf%0A++++++++vSeeds.emplace_back%28%22seed.bitcoin.jonasschnelli.ch%22%29%3B+%2F%2F+Jonas+Schnelli%2C+only+supports+x1%2C+x5%2C+x9%2C+and+xd%0A++++++++vSeeds.emplace_back%28%22seed.btc.petertodd.org%22%29%3B+%2F%2F+Peter+Todd%2C+only+supports+x1%2C+x5%2C+x9%2C+and+xd%0A++++++++vSeeds.emplace_back%28%22seed.bitcoin.sprovoost.nl%22%29%3B+%2F%2F+Sjors+Provoost%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E6%84%9F%E5%85%B4%E8%B6%A3%E7%9A%84%E5%90%8C%E5%AD%A6%E5%8F%AF%E4%BB%A5%E7%94%A8DNS%E6%9F%A5%E8%AF%A2%E5%B7%A5%E5%85%B7%E6%9D%A5%E6%9F%A5%E8%AF%A2%E8%BF%99%E4%BA%9B%E7%A7%8D%E5%AD%90%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E8%AE%A4%E8%AF%86%E4%BA%86%E8%BF%99%E4%B8%89%E4%B8%AA%E8%AE%B0%E5%BD%95%E4%BA%86%E6%AF%94%E7%89%B9%E5%B8%81%E7%B3%BB%E7%BB%9F%E8%BF%90%E8%A1%8C%E6%89%80%E5%BF%85%E9%A1%BB%E7%9A%84%E5%8F%82%E6%95%B0%E7%9A%84%E7%B1%BB%E4%BB%A5%E5%90%8E%EF%BC%8C%E5%9B%9E%E5%88%B0%E4%B9%8B%E5%89%8D%E6%8F%90%E5%88%B0%E7%9A%84%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3ESetupServerArgs%E8%BF%99%E4%B8%AA%E5%87%BD%E6%95%B0%EF%BC%9A%3C%2Fspan%3E%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3Evoid+SetupServerArgs%28%29%0A%7B%0A++++const+auto+defaultBaseParams+%3D+CreateBaseChainParams%28CBaseChainParams%3A%3AMAIN%29%3B%0A++++const+auto+testnetBaseParams+%3D+CreateBaseChainParams%28CBaseChainParams%3A%3ATESTNET%29%3B%0A++++const+auto+defaultChainParams+%3D+CreateChainParams%28CBaseChainParams%3A%3AMAIN%29%3B%0A++++const+auto+testnetChainParams+%3D+CreateChainParams%28CBaseChainParams%3A%3ATESTNET%29%3B%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E8%BF%99%E9%87%8C%E9%92%88%E5%AF%B9%E6%AF%94%E7%89%B9%E5%B8%81%E4%B8%BB%E7%BD%91%E5%92%8C%E6%B5%8B%E8%AF%95%E7%94%A8%E5%85%AC%E7%BD%91%E7%94%9F%E6%88%90%E4%BA%86%E4%B8%8D%E5%90%8C%E7%9A%84%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E6%9C%80%E7%BB%88%E8%BF%99%E4%BA%9B%E5%8F%82%E6%95%B0%E4%BF%A1%E6%81%AF%E5%B0%86%E4%BF%9D%E5%AD%98%E5%9C%A8%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E4%B8%AD%EF%BC%8C%E6%96%B9%E4%BE%BF%E5%85%B6%E4%BB%96%E6%A8%A1%E5%9D%97%E5%BC%95%E7%94%A8%EF%BC%9AglobalChainParams%E5%92%8CglobalChainBaseParams%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+AppInit%E5%87%BD%E6%95%B0%E7%9A%84%E6%9C%80%E5%90%8E%EF%BC%8C%E4%BC%9A%E8%B0%83%E7%94%A8AppInitMain%EF%BC%8C%E5%AE%8C%E6%88%90%E6%95%B4%E4%B8%AA%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96%EF%BC%8CAppInitMain%E6%AF%94%E8%BE%83%E9%87%8D%EF%BC%8C%E6%AF%94%E7%89%B9%E5%B8%81%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E7%9A%84%E4%B8%9C%E8%A5%BF%E5%9F%BA%E6%9C%AC%E4%B8%8A%E9%83%BD%E4%BB%8E%E8%BF%99%E9%87%8C%E8%AF%9E%E7%94%9F%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Ch2%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E3.2+%E6%AF%94%E7%89%B9%E5%B8%81P2P%E7%BD%91%E7%BB%9C%E7%BB%84%E4%BB%B6%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fh2%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E5%9C%A8%E7%BB%A7%E7%BB%AD%E4%BA%86%E8%A7%A3%E6%AF%94%E7%89%B9%E5%B8%81%E7%BD%91%E7%BB%9C%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%BF%87%E7%A8%8B%E4%B9%8B%E5%89%8D%EF%BC%8C%E9%9C%80%E8%A6%81%E5%85%88%E7%AE%80%E5%8D%95%E4%BA%86%E8%A7%A3%E4%B8%80%E4%BA%9B%E5%92%8C%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3%E7%9A%84%E5%B0%81%E8%A3%85%E7%B1%BB%E3%80%82%E9%80%90%E4%B8%80%E8%BF%87%E4%B8%80%E4%B8%8B%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Ch3%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E3.2.1+CConnman%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fh3%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E9%A1%BE%E5%90%8D%E6%80%9D%E4%B9%89%EF%BC%8C%E8%BF%99%E4%B8%AA%E7%B1%BB%E6%98%AF%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E7%9A%84%E7%AE%A1%E7%90%86%E7%B1%BB%E3%80%82%E8%B4%9F%E8%B4%A3%E8%8A%82%E7%82%B9%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%8A%E5%90%AF%E5%8A%A8%EF%BC%8CP2P%E6%B6%88%E6%81%AF%E7%9A%84%E6%8E%A8%E9%80%81%E5%8F%8A%E6%8E%A5%E6%94%B6%EF%BC%8C%E6%8E%A5%E6%94%B6%E5%85%B6%E4%BB%96%E8%8A%82%E7%82%B9%E7%9A%84%E8%BF%9E%E6%8E%A5%E7%AD%89%E7%AD%89%E3%80%82%E8%BF%99%E4%B8%AA%E7%B1%BB%E6%AF%94%E8%BE%83%E5%BA%9E%E5%A4%A7%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Ch3%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E3.2.2+PeerLogicValidation%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fh3%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E8%BF%99%E4%B8%AA%E7%B1%BB%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF%E4%BA%86%E4%B8%A4%E4%B8%AA%E6%8E%A5%E5%8F%A3%E7%B1%BBCValidationInterface%E5%92%8CNetEventsInterface%E3%80%82%E5%85%B6%E4%B8%ADCValidationInterface%E6%98%AF%E5%92%8C%E9%92%B1%E5%8C%85%E7%9B%B8%E5%85%B3%E7%9A%84%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%EF%BC%8C%E6%9A%82%E4%B8%94%E4%B8%8D%E6%8F%90%E3%80%82NetEventsInterface%E6%98%AF%E5%92%8C%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3%E7%9A%84%EF%BC%8C%E7%9C%8B%E4%B8%80%E4%B8%8B%E8%BF%99%E4%B8%AA%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%AE%9A%E4%B9%89%EF%BC%9A%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3Eclass+NetEventsInterface%0A%7B%0Apublic%3A%0A++++virtual+bool+ProcessMessages%28CNode*+pnode%2C+std%3A%3Aatomic%26lt%3Bbool%26gt%3B%26amp%3B+interrupt%29+%3D+0%3B%0A++++virtual+bool+SendMessages%28CNode*+pnode%2C+std%3A%3Aatomic%26lt%3Bbool%26gt%3B%26amp%3B+interrupt%29+%3D+0%3B%0A++++virtual+void+InitializeNode%28CNode*+pnode%29+%3D+0%3B%0A++++virtual+void+FinalizeNode%28NodeId+id%2C+bool%26amp%3B+update_connection_time%29+%3D+0%3B%0A%0Aprotected%3A%0A++++%2F**%0A+++++*+Protected+destructor+so+that+instances+can+only+be+deleted+by+derived+classes.%0A+++++*+If+that+restriction+is+no+longer+desired%2C+this+should+be+made+public+and+virtual.%0A+++++*%2F%0A++++%7ENetEventsInterface%28%29+%3D+default%3B%0A%7D%3B%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+NetEventsInterface%3A%3AProcessMessage%EF%BC%9A%E5%A4%84%E7%90%86%E6%8E%A5%E6%94%B6%E5%88%B0%E7%9A%84%E6%B6%88%E6%81%AF%EF%BC%9B%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3ENetEventsInterface%3A%3ASendMessage%3A%E5%8F%91%E9%80%81%E6%B6%88%E6%81%AF%EF%BC%9B%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B%26nbsp%3B%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3ENetEventsInterface%3A%3AInitializeNode%3A%E5%88%9D%E5%A7%8B%E5%8C%96%E8%8A%82%E7%82%B9%EF%BC%9B%3C%2Fspan%3E%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Ch3%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E3.2.3+CNode%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fh3%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E7%BB%B4%E6%8A%A4%E8%8A%82%E7%82%B9%E4%BF%A1%E6%81%AF%EF%BC%8C%E5%8C%85%E6%8B%AC%E9%80%9A%E4%BF%A1%E7%9A%84%E5%A5%97%E6%8E%A5%E5%AD%97%EF%BC%8C%E5%8F%91%E9%80%81%E7%BC%93%E5%86%B2%E5%8C%BA%EF%BC%8C%E6%8E%A5%E6%94%B6%E7%BC%93%E5%86%B2%E5%8C%BA%E7%AD%89%E7%AD%89%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Ch3%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E3.2.4+CNetAddr%E5%92%8CCService%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fh3%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E5%AF%B9IP%E5%9C%B0%E5%9D%80%E7%9A%84%E5%B0%81%E8%A3%85%EF%BC%88IPV4%E5%92%8CIPV6%EF%BC%89.%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3Eclass+CNetAddr%0A%7B%0A++++protected%3A%0A++++++++unsigned+char+ip%5B16%5D%3B+%2F%2F+in+network+byte+order%0A++++++++uint32_t+scopeId%3B+%2F%2F+for+scoped%2Flink-local+ipv6+addresses%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E5%85%B6%E4%B8%BB%E8%A6%81%E5%B1%9E%E6%80%A7%E5%B0%B1%E6%98%AF%E4%B8%80%E4%B8%AAip%E5%9C%B0%E5%9D%80%E3%80%82%E5%8F%A6%E5%A4%96%E8%BF%99%E4%B8%AA%E7%B1%BB%E9%87%8C%E8%BF%98%E5%8C%85%E5%90%AB%E4%BA%86%E4%B8%80%E4%BA%9B%E5%AF%B9IP%E5%9C%B0%E5%9D%80%E7%B1%BB%E5%9E%8B%E8%BF%9B%E8%A1%8C%E5%90%84%E7%A7%8D%E5%88%A4%E6%96%AD%E7%9A%84%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+CService%E7%BB%A7%E6%89%BF%E4%BA%86CNetAddr%2C%E5%86%8D%E5%85%B6%E5%9F%BA%E7%A1%80%E4%B8%8A%E5%A4%9A%E4%BA%86%E7%AB%AF%E5%8F%A3%E5%8F%B7%E7%9A%84%E5%B1%9E%E6%80%A7%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3Eclass+CService+%3A+public+CNetAddr%0A%7B%0A++++protected%3A%0A++++++++uint16_t+port%3B+%2F%2F+host+order%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Ch2%3E3.3+%E5%88%A9%E7%94%A8%E7%A7%8D%E5%AD%90%E5%8F%91%E7%8E%B0%E8%8A%82%E7%82%B9%3C%2Fh2%3E%0A++%3Cp%3E%26nbsp%3B+%26nbsp%3B+%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%E6%9C%AC%E6%96%87%E4%B9%8B%E5%89%8D%E5%B7%B2%E7%BB%8F%E6%8F%90%E5%88%B0%E8%BF%87%EF%BC%8C%E6%96%B0%E5%90%AF%E5%8A%A8%E7%9A%84%E8%8A%82%E7%82%B9%E9%A6%96%E5%85%88%E9%9C%80%E8%A6%81%E5%8F%91%E7%8E%B0%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84%E5%85%B6%E4%BB%96%E8%8A%82%E7%82%B9%E5%B9%B6%E4%B8%8E%E4%B9%8B%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5%E3%80%82%E5%8F%91%E7%8E%B0%E8%8A%82%E7%82%B9%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E5%86%85%E7%BD%AE%E7%9A%84%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E5%9C%A8%E5%90%AF%E5%8A%A8bitcoind%E6%97%B6%E9%80%9A%E8%BF%87-dnsseed%E9%80%89%E9%A1%B9%E6%8C%87%E5%AE%9A%E4%B8%80%E4%B8%AA%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%E3%80%82%E6%8E%A5%E4%B8%8B%E6%9D%A5%E5%B0%B1%E9%80%90%E6%AD%A5%E5%88%86%E6%9E%90%E4%BB%A3%E7%A0%81%E9%87%8C%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%9A%84%E3%80%82%3C%2Fspan%3E%3Cbr%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E7%BB%A7%E7%BB%AD%E7%9C%8BAppInitMain%E8%BF%99%E4%B8%AA%E5%87%BD%E6%95%B0%EF%BC%8C%E4%BB%96%E4%BC%9A%E5%88%9B%E5%BB%BA%E5%87%BA%E4%B8%8A%E4%B8%80%E8%8A%82%E6%8F%90%E5%88%B0%E7%9A%84%E8%BF%9E%E6%8E%A5%E7%AE%A1%E7%90%86%E5%99%A8%E5%AF%B9%E8%B1%A1%EF%BC%9A%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3Eg_connman+%3D+std%3A%3Aunique_ptr%26lt%3BCConnman%26gt%3B%28new+CConnman%28GetRand%28std%3A%3Anumeric_limits%26lt%3Buint64_t%26gt%3B%3A%3Amax%28%29%29%2C+GetRand%28std%3A%3Anumeric_limits%26lt%3Buint64_t%26gt%3B%3A%3Amax%28%29%29%29%29%3B%0A++++CConnman%26amp%3B+connman+%3D+*g_connman%3B%0A%0A++++peerLogic.reset%28new+PeerLogicValidation%28%26amp%3Bconnman%2C+scheduler%29%29%3B%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E8%BF%99%E4%B8%A4%E4%B8%AA%E5%AF%B9%E8%B1%A1%E5%9D%87%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E6%8E%A5%E4%B8%8B%E6%9D%A5%E5%B0%86%E8%B0%83%E7%94%A8Discover%E5%87%BD%E6%95%B0%EF%BC%8C%E6%89%BE%E5%88%B0%E6%89%80%E6%9C%89%E7%9A%84%E6%9C%AC%E5%9C%B0%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3%E5%9C%B0%E5%9D%80%EF%BC%8C%E5%B9%B6%E4%BF%9D%E5%AD%98%E8%B5%B7%E6%9D%A5%E3%80%82%E8%BF%99%E4%BA%9B%E5%9C%B0%E5%9D%80%E5%9C%A8%E9%9A%8F%E5%90%8E%E5%B0%86%E5%8F%91%E9%80%81%E7%BB%99%E8%BF%9E%E6%8E%A5%E5%88%B0%E7%9A%84%E5%AF%B9%E7%AD%89%E8%8A%82%E7%82%B9%EF%BC%88%E5%B9%BF%E6%92%AD%E6%9C%AC%E6%9C%BA%E5%9C%B0%E5%9D%80%EF%BC%89%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3Evoid+Discover%28%29%0A%7B%0A++++if+%28%21fDiscover%29%0A++++++++return%3B%0A%0A%23ifdef+WIN32%0A++++%2F%2F+Get+local+host+IP%0A++++char+pszHostName%5B256%5D+%3D+%22%22%3B%0A++++if+%28gethostname%28pszHostName%2C+sizeof%28pszHostName%29%29+%21%3D+SOCKET_ERROR%29%0A++++%7B%0A++++++++std%3A%3Avector%26lt%3BCNetAddr%26gt%3B+vaddr%3B%0A++++++++if+%28LookupHost%28pszHostName%2C+vaddr%2C+0%2C+true%29%29%0A++++++++%7B%0A++++++++++++for+%28const+CNetAddr+%26amp%3Baddr+%3A+vaddr%29%0A++++++++++++%7B%0A++++++++++++++++if+%28AddLocal%28addr%2C+LOCAL_IF%29%29%0A++++++++++++++++++++LogPrintf%28%22%25s%3A+%25s+-+%25s%5Cn%22%2C+__func__%2C+pszHostName%2C+addr.ToString%28%29%29%3B%0A++++++++++++%7D%0A++++++++%7D%0A++++%7D%0A%23else%0A++++%2F%2F+Get+local+host+ip%0A++++struct+ifaddrs*+myaddrs%3B%0A++++if+%28getifaddrs%28%26amp%3Bmyaddrs%29+%3D%3D+0%29%0A++++%7B%0A++++++++for+%28struct+ifaddrs*+ifa+%3D+myaddrs%3B+ifa+%21%3D+nullptr%3B+ifa+%3D+ifa-%26gt%3Bifa_next%29%0A++++++++%7B%0A++++++++++++if+%28ifa-%26gt%3Bifa_addr+%3D%3D+nullptr%29+continue%3B%0A++++++++++++if+%28%28ifa-%26gt%3Bifa_flags+%26amp%3B+IFF_UP%29+%3D%3D+0%29+continue%3B%0A++++++++++++if+%28strcmp%28ifa-%26gt%3Bifa_name%2C+%22lo%22%29+%3D%3D+0%29+continue%3B%0A++++++++++++if+%28strcmp%28ifa-%26gt%3Bifa_name%2C+%22lo0%22%29+%3D%3D+0%29+continue%3B%0A++++++++++++if+%28ifa-%26gt%3Bifa_addr-%26gt%3Bsa_family+%3D%3D+AF_INET%29%0A++++++++++++%7B%0A++++++++++++++++struct+sockaddr_in*+s4+%3D+%28struct+sockaddr_in*%29%28ifa-%26gt%3Bifa_addr%29%3B%0A++++++++++++++++CNetAddr+addr%28s4-%26gt%3Bsin_addr%29%3B%0A++++++++++++++++if+%28AddLocal%28addr%2C+LOCAL_IF%29%29%0A++++++++++++++++++++LogPrintf%28%22%25s%3A+IPv4+%25s%3A+%25s%5Cn%22%2C+__func__%2C+ifa-%26gt%3Bifa_name%2C+addr.ToString%28%29%29%3B%0A++++++++++++%7D%0A++++++++++++else+if+%28ifa-%26gt%3Bifa_addr-%26gt%3Bsa_family+%3D%3D+AF_INET6%29%0A++++++++++++%7B%0A++++++++++++++++struct+sockaddr_in6*+s6+%3D+%28struct+sockaddr_in6*%29%28ifa-%26gt%3Bifa_addr%29%3B%0A++++++++++++++++CNetAddr+addr%28s6-%26gt%3Bsin6_addr%29%3B%0A++++++++++++++++if+%28AddLocal%28addr%2C+LOCAL_IF%29%29%0A++++++++++++++++++++LogPrintf%28%22%25s%3A+IPv6+%25s%3A+%25s%5Cn%22%2C+__func__%2C+ifa-%26gt%3Bifa_name%2C+addr.ToString%28%29%29%3B%0A++++++++++++%7D%0A++++++++%7D%0A++++++++freeifaddrs%28myaddrs%29%3B%0A++++%7D%0A%23endif%0A%7D%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E4%B8%BB%E8%A6%81%E5%B0%B1%E6%98%AF%E8%B0%83%E7%94%A8getifaddrs%E8%BF%99%E4%B8%AA%E7%BD%91%E7%BB%9Capi%E8%8E%B7%E5%8F%96%E6%89%80%E6%9C%89%E7%9A%84%E6%9C%AC%E5%9C%B0%E5%9C%B0%E5%9D%80%EF%BC%8C%E5%B9%B6%E8%B0%83%E7%94%A8AddLocal%E5%B0%86%E8%BF%99%E4%BA%9B%E5%9C%B0%E5%9D%80%E6%B7%BB%E5%8A%A0%E5%88%B0%E4%BF%9D%E5%AD%98%E6%9C%AC%E5%9C%B0%E5%9C%B0%E5%9D%80%E7%9A%84%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E4%B8%AD%E3%80%82%E8%BF%99%E4%B8%AA%E5%90%8E%E7%BB%AD%E5%9C%A8%E8%AF%B4%E6%98%8E%E5%B9%BF%E6%92%AD%E6%9C%AC%E5%9C%B0%E5%9C%B0%E5%9D%80%E7%BB%99%E7%9B%B8%E9%82%BB%E8%8A%82%E7%82%B9%E6%97%B6%E8%BF%98%E4%BC%9A%E6%8F%90%E5%88%B0%EF%BC%8C%E6%9A%82%E4%B8%94%E7%95%A5%E8%BF%87%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E6%8E%A5%E7%9D%80%E5%88%9D%E5%A7%8B%E5%8C%96%E4%B8%80%E4%B8%AA%E5%B0%81%E8%A3%85%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E5%90%84%E7%A7%8D%E5%8F%82%E6%95%B0%E7%9A%84CConnman%3A%3AOptions%E5%AF%B9%E8%B1%A1%EF%BC%9A%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BCConnman%3A%3AOptions+connOptions%3B%0A++++connOptions.nLocalServices+%3D+nLocalServices%3B%0A++++connOptions.nMaxConnections+%3D+nMaxConnections%3B%0A++++connOptions.nMaxOutbound+%3D+std%3A%3Amin%28MAX_OUTBOUND_CONNECTIONS%2C+connOptions.nMaxConnections%29%3B%0A++++connOptions.nMaxAddnode+%3D+MAX_ADDNODE_CONNECTIONS%3B%0A++++connOptions.nMaxFeeler+%3D+1%3B%0A++++connOptions.nBestHeight+%3D+chain_active_height%3B%0A++++connOptions.uiInterface+%3D+%26amp%3BuiInterface%3B%0A++++connOptions.m_msgproc+%3D+peerLogic.get%28%29%3B%0A++++connOptions.nSendBufferMaxSize+%3D+1000*gArgs.GetArg%28%22-maxsendbuffer%22%2C+DEFAULT_MAXSENDBUFFER%29%3B%0A++++connOptions.nReceiveFloodSize+%3D+1000*gArgs.GetArg%28%22-maxreceivebuffer%22%2C+DEFAULT_MAXRECEIVEBUFFER%29%3B%0A++++connOptions.m_added_nodes+%3D+gArgs.GetArgs%28%22-addnode%22%29%3B%0A%0A++++connOptions.nMaxOutboundTimeframe+%3D+nMaxOutboundTimeframe%3B%0A++++connOptions.nMaxOutboundLimit+%3D+nMaxOutboundLimit%3B%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E8%BF%99%E4%BA%9B%E5%8F%82%E6%95%B0%E5%8C%85%E5%90%AB%E4%BA%86%E5%90%8E%E7%BB%AD%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E5%8F%8A%E9%80%9A%E4%BF%A1%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E5%BE%88%E5%A4%9A%E5%8F%82%E6%95%B0%EF%BC%8C%E6%AF%94%E5%A6%82%E4%B8%80%E4%B8%AA%E8%8A%82%E7%82%B9%E5%85%81%E8%AE%B8%E7%9A%84%E6%9C%80%E5%A4%A7%E8%BF%9E%E6%8E%A5%E6%95%B0%EF%BC%8C%E8%83%BD%E5%A4%9F%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%A4%96%E9%83%A8%E8%8A%82%E7%82%B9%E7%9A%84%E6%9C%80%E5%A4%A7%E6%95%B0%E7%9B%AE%EF%BC%8C-seednode%E9%80%89%E9%A1%B9%E6%8C%87%E5%AE%9A%E7%9A%84%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%E7%AD%89%E7%AD%89%E3%80%82%E5%A6%82%E6%9E%9C%E8%BF%90%E8%A1%8Cbitcoind%E6%97%B6%E9%80%9A%E8%BF%87-seednode%E6%8C%87%E5%AE%9A%E4%BA%86%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%EF%BC%8C%E8%BF%99%E4%BA%9B%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%E4%B9%9F%E4%BC%9A%E8%A2%AB%E4%BF%9D%E5%AD%98%E8%BF%9B%E6%9D%A5%EF%BC%9A%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BconnOptions.vSeedNodes+%3D+gArgs.GetArgs%28%22-seednode%22%29%3B%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E6%8E%A5%E4%B8%8B%E6%9D%A5%EF%BC%8C%E5%90%AF%E5%8A%A8%E8%8A%82%E7%82%B9%E3%80%81%E5%8F%91%E7%8E%B0%E8%8A%82%E7%82%B9%E7%9A%84%E8%BF%87%E7%A8%8B%E5%B0%B1%E6%AD%A3%E5%BC%8F%E6%8B%89%E5%BC%80%E5%BA%8F%E5%B9%95%E4%BA%86%EF%BC%9A%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+%28%21connman.Start%28scheduler%2C+connOptions%29%29+%7B%0A++++++++return+false%3B%0A++++%7D%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%26nbsp%3B+%26nbsp%3B+%26nbsp%3B%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%E8%B0%83%E7%94%A8CConnman%3A%3AStart%E5%BC%80%E5%A7%8B%EF%BC%8C%E4%B8%80%E4%B8%AA%E5%B4%AD%E6%96%B0%E7%9A%84%E8%8A%82%E7%82%B9%E5%8D%B3%E5%B0%86%E8%AF%9E%E7%94%9F%E4%BA%86%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%E9%A6%96%E5%85%88%E9%9C%80%E8%A6%81%E7%94%A8%E5%89%8D%E9%9D%A2%E7%94%9F%E6%88%90%E7%9A%84CConnman%3A%3AOptions%E5%AF%B9CConnman%E8%BF%9B%E8%A1%8C%E5%88%9D%E5%A7%8B%E5%8C%96%EF%BC%8C%E5%BE%88%E7%AE%80%E5%8D%95%EF%BC%9A%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BInit%28connOptions%29%3B%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B%E5%85%B6%E5%AE%9E%E5%B0%B1%E6%98%AF%E5%B0%86Options%E9%87%8C%E9%9D%A2%E7%9A%84%E5%80%BC%E5%A4%8D%E5%88%B6%E4%B8%80%E4%BB%BD%E7%BB%99CConnman%E7%9B%B8%E5%BA%94%E7%9A%84%E5%AD%97%E6%AE%B5%E8%80%8C%E5%B7%B2%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B%E6%8E%A5%E4%B8%8B%E6%9D%A5%E5%B0%B1%E8%A6%81%E5%8A%A0%E8%BD%BD%E5%B7%B2%E7%BB%8F%E4%BF%9D%E5%AD%98%E7%9A%84%E8%8A%82%E7%82%B9%E7%9A%84%E5%9C%B0%E5%9D%80%E4%BA%86%E3%80%82%E4%B9%8B%E5%89%8D%E5%9C%A8%E8%AF%B4%E6%98%8E%E8%8A%82%E7%82%B9%E5%8F%91%E7%8E%B0%E7%9A%84%E5%8E%9F%E7%90%86%E6%97%B6%E6%8F%90%E5%88%B0%E8%BF%87%EF%BC%8C%E8%BF%99%E9%87%8C%E5%9C%A8%E6%B8%A9%E4%B9%A0%E4%B8%80%E4%B8%8B%EF%BC%9A%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E5%9C%A8%E5%90%AF%E5%8A%A8%E5%AE%8C%E6%88%90%E5%90%8E%EF%BC%8C%E8%8A%82%E7%82%B9%E4%BC%9A%E8%AE%B0%E4%BD%8F%E5%AE%83%E6%9C%80%E8%BF%91%E6%88%90%E5%8A%9F%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%AF%B9%E7%AD%89%E8%8A%82%E7%82%B9%EF%BC%9B%E5%9B%A0%E6%AD%A4%EF%BC%8C%E5%BD%93%E9%87%8D%E6%96%B0%E5%90%AF%E5%8A%A8%E5%90%8E%E5%AE%83%E5%8F%AF%E4%BB%A5%E8%BF%85%E9%80%9F%E4%B8%8E%E5%85%88%E5%89%8D%E7%9A%84%E5%AF%B9%E7%AD%89%E8%8A%82%E7%82%B9%E7%BD%91%E7%BB%9C%E9%87%8D%E6%96%B0%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5%E3%80%82%E5%A6%82%E6%9E%9C%E5%85%88%E5%89%8D%E7%9A%84%E7%BD%91%E7%BB%9C%E7%9A%84%E5%AF%B9%E7%AD%89%E8%8A%82%E7%82%B9%E5%AF%B9%E8%BF%9E%E6%8E%A5%E8%AF%B7%E6%B1%82%E6%97%A0%E5%BA%94%E7%AD%94%EF%BC%8C%E8%AF%A5%E8%8A%82%E7%82%B9%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%E8%BF%9B%E8%A1%8C%E9%87%8D%E5%90%AF%E5%8A%A8%E3%80%82%3C%2Fspan%3E%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E5%8A%A0%E8%BD%BD%E5%85%88%E5%89%8D%E8%BF%9E%E6%8E%A5%E8%BF%87%E7%9A%84%E5%AF%B9%E7%AD%89%E8%8A%82%E7%82%B9%E7%9A%84%E5%9C%B0%E5%9D%80%E7%9A%84%E4%BB%A3%E7%A0%81%EF%BC%9A%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Load+addresses+from+peers.dat%0A++++int64_t+nStart+%3D+GetTimeMillis%28%29%3B%0A++++%7B%0A++++++++CAddrDB+adb%3B%0A++++++++if+%28adb.Read%28addrman%29%29%0A++++++++++++LogPrintf%28%22Loaded+%25i+addresses+from+peers.dat++%25dms%5Cn%22%2C+addrman.size%28%29%2C+GetTimeMillis%28%29+-+nStart%29%3B%0A++++++++else+%7B%0A++++++++++++addrman.Clear%28%29%3B+%2F%2F+Addrman+can+be+in+an+inconsistent+state+after+failure%2C+reset+it%0A++++++++++++LogPrintf%28%22Invalid+or+missing+peers.dat%3B+recreating%5Cn%22%29%3B%0A++++++++++++DumpAddresses%28%29%3B%0A++++++++%7D%0A++++%7D%0A++++if+%28clientInterface%29%0A++++++++clientInterface-%26gt%3BInitMessage%28_%28%22Loading+banlist...%22%29%29%3B%0A++++%2F%2F+Load+addresses+from+banlist.dat%0A++++nStart+%3D+GetTimeMillis%28%29%3B%0A++++CBanDB+bandb%3B%0A++++banmap_t+banmap%3B%0A++++if+%28bandb.Read%28banmap%29%29+%7B%0A++++++++SetBanned%28banmap%29%3B+%2F%2F+thread+save+setter%0A++++++++SetBannedSetDirty%28false%29%3B+%2F%2F+no+need+to+write+down%2C+just+read+data%0A++++++++SweepBanned%28%29%3B+%2F%2F+sweep+out+unused+entries%0A%0A++++++++LogPrint%28BCLog%3A%3ANET%2C+%22Loaded+%25d+banned+node+ips%2Fsubnets+from+banlist.dat++%25dms%5Cn%22%2C%0A++++++++++++banmap.size%28%29%2C+GetTimeMillis%28%29+-+nStart%29%3B%0A++++%7D+else+%7B%0A++++++++LogPrintf%28%22Invalid+or+missing+banlist.dat%3B+recreating%5Cn%22%29%3B%0A++++++++SetBannedSetDirty%28true%29%3B+%2F%2F+force+write%0A++++++++DumpBanlist%28%29%3B%0A++++%7D%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E5%85%B6%E4%B8%ADCAddrMan%E6%9A%82%E6%97%B6%E4%B8%8D%E5%BF%85%E7%BB%86%E7%A9%B6%EF%BC%8C%E6%8A%8A%E5%AE%83%E7%90%86%E8%A7%A3%E6%88%90%E4%B8%80%E4%B8%AA%E5%B0%8F%E5%9E%8BDB%E5%8D%B3%E5%8F%AF%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E6%9C%80%E5%90%8ECConnman%E5%B0%86%E8%B0%83%E5%85%B5%E9%81%A3%E5%B0%86%EF%BC%8C%E6%8A%8A%E4%BB%BB%E5%8A%A1%E4%BA%A4%E7%BB%99%E5%87%A0%E4%B8%AA%E7%BA%BF%E7%A8%8B%E5%8E%BB%E5%81%9A%EF%BC%9A%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%281%29+net%E7%BA%BF%E7%A8%8B%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Send+and+receive+from+sockets%2C+accept+connections%0A++++threadSocketHandler+%3D+std%3A%3Athread%28%26amp%3BTraceThread%26lt%3Bstd%3A%3Afunction%26lt%3Bvoid%28%29%26gt%3B+%26gt%3B%2C+%22net%22%2C+std%3A%3Afunction%26lt%3Bvoid%28%29%26gt%3B%28std%3A%3Abind%28%26amp%3BCConnman%3A%3AThreadSocketHandler%2C+this%29%29%29%3B%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E4%BB%8E%E6%B3%A8%E9%87%8A%E4%B8%8A%E5%B0%B1%E7%9F%A5%E9%81%93%EF%BC%8C%E8%BF%99%E4%B8%AA%22net%22%E7%BA%BF%E7%A8%8B%E7%9A%84%E4%BB%BB%E5%8A%A1%E5%B0%B1%E6%98%AF%E4%BB%8E%E5%A5%97%E6%8E%A5%E5%AD%97%E5%8F%91%E9%80%81%E5%92%8C%E6%8E%A5%E6%94%B6%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%90%8C%E6%97%B6%E8%BF%98%E8%A6%81%E7%9B%91%E5%90%AC%E5%85%B6%E4%BB%96%E8%8A%82%E7%82%B9%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%AF%B7%E6%B1%82%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%282%29+dnsseed%E7%BA%BF%E7%A8%8B%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+%28%21gArgs.GetBoolArg%28%22-dnsseed%22%2C+true%29%29%0A++++++++LogPrintf%28%22DNS+seeding+disabled%5Cn%22%29%3B%0A++++else%0A++++++++threadDNSAddressSeed+%3D+std%3A%3Athread%28%26amp%3BTraceThread%26lt%3Bstd%3A%3Afunction%26lt%3Bvoid%28%29%26gt%3B+%26gt%3B%2C+%22dnsseed%22%2C+std%3A%3Afunction%26lt%3Bvoid%28%29%26gt%3B%28std%3A%3Abind%28%26amp%3BCConnman%3A%3AThreadDNSAddressSeed%2C+this%29%29%29%3B%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E8%BF%99%E4%B8%AA%E7%BA%BF%E7%A8%8B%E5%90%8D%E5%AD%97%E5%B0%B1%E5%8F%AB%E5%81%9A%22dnsseed%22%EF%BC%8C%E5%AE%83%E7%9A%84%E4%BD%9C%E7%94%A8%E6%98%AF%E9%80%9A%E8%BF%87dns%E6%9F%A5%E8%AF%A2%E8%A7%A3%E6%9E%90%E5%87%BA%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%E7%9A%84%E5%9C%B0%E5%9D%80%EF%BC%8C%E4%B9%8B%E5%90%8E%E6%96%B0%E5%90%AF%E5%8A%A8%E7%9A%84%E8%8A%82%E7%82%B9%E5%B0%86%E8%A6%81%E5%90%91%E8%BF%99%E4%BA%9B%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%E5%8F%91%E8%B5%B7%E8%BF%9E%E6%8E%A5%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%283%29opencon%E7%BA%BF%E7%A8%8B%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+%28connOptions.m_use_addrman_outgoing+%7C%7C+%21connOptions.m_specified_outgoing.empty%28%29%29%0A++++++++threadOpenConnections+%3D+std%3A%3Athread%28%26amp%3BTraceThread%26lt%3Bstd%3A%3Afunction%26lt%3Bvoid%28%29%26gt%3B+%26gt%3B%2C+%22opencon%22%2C+std%3A%3Afunction%26lt%3Bvoid%28%29%26gt%3B%28std%3A%3Abind%28%26amp%3BCConnman%3A%3AThreadOpenConnections%2C+this%2C+connOptions.m_specified_outgoing%29%29%29%3B%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E8%BF%99%E4%B8%AA%E7%BA%BF%E7%A8%8B%E5%B0%86%E8%B4%9F%E8%B4%A3%E5%90%91%E5%B7%B2%E5%8F%91%E7%8E%B0%E7%9A%84%E8%8A%82%E7%82%B9%E5%8F%91%E8%B5%B7%E8%BF%9E%E6%8E%A5%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%284%29msghand%E7%BA%BF%E7%A8%8B%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F+Process+messages%0A++++threadMessageHandler+%3D+std%3A%3Athread%28%26amp%3BTraceThread%26lt%3Bstd%3A%3Afunction%26lt%3Bvoid%28%29%26gt%3B+%26gt%3B%2C+%22msghand%22%2C+std%3A%3Afunction%26lt%3Bvoid%28%29%26gt%3B%28std%3A%3Abind%28%26amp%3BCConnman%3A%3AThreadMessageHandler%2C+this%29%29%29%3B%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E6%AD%A4%E7%BA%BF%E7%A8%8B%E5%B0%86%E8%B4%9F%E8%B4%A3%E6%AF%94%E7%89%B9%E5%B8%81P2P%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%B6%88%E6%81%AF%E5%A4%84%E7%90%86%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E6%8E%A5%E4%B8%8B%E6%9D%A5%E6%88%91%E4%BB%AC%E5%90%84%E4%B8%AA%E5%87%BB%E7%A0%B4%EF%BC%8C%E5%AF%B9%E8%BF%99%E5%9B%9B%E4%B8%AA%E7%BA%BF%E7%A8%8B%E8%BF%9B%E8%A1%8C%E9%80%90%E4%B8%80%E5%88%86%E6%9E%90%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Ch3%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E3.3.1+%E8%A7%A3%E6%9E%90%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fh3%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E9%A6%96%E5%85%88%E6%9D%A5%E7%9C%8B%E7%9C%8B%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%E7%9A%84%E8%A7%A3%E6%9E%90%EF%BC%8C%E4%B9%8B%E5%89%8D%E6%8F%90%E5%88%B0%E8%BF%87%EF%BC%8C%E5%88%A9%E7%94%A8%E7%A7%8D%E5%AD%90%E5%8F%91%E7%8E%B0%E8%8A%82%E7%82%B9%E6%9C%89%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F%EF%BC%8C%E4%B8%80%E7%A7%8D%E6%98%AF%E5%BC%80%E5%90%AF-dnsseed%E9%80%89%E9%A1%B9%EF%BC%88%E9%BB%98%E8%AE%A4%E5%BC%80%E5%90%AF%EF%BC%89%E8%BF%9E%E6%8E%A5%E5%86%85%E7%BD%AE%E7%9A%84%E4%B8%80%E4%BA%9B%E7%94%B1%E4%B8%93%E4%BA%BA%E7%BB%B4%E6%8A%A4%E7%9A%84%E6%AF%94%E8%BE%83%E7%A8%B3%E5%AE%9A%E7%9A%84DNS%E7%A7%8D%E5%AD%90%EF%BC%8C%E8%BF%98%E7%94%B1%E4%B8%80%E7%A7%8D%E6%98%AF%E9%80%9A%E8%BF%87-seednode%E9%80%89%E9%A1%B9%E6%8C%87%E5%AE%9A%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%E3%80%82%E8%BF%99%E9%87%8Cdnsseed%E7%BA%BF%E7%A8%8B%E7%9A%84%E4%BD%9C%E7%94%A8%E6%98%AF%E5%9C%A8%E5%BC%80%E5%90%AF-dnsseed%E9%80%89%E9%A1%B9%E6%97%B6%EF%BC%8C%E8%A7%A3%E6%9E%90%E6%AF%94%E7%89%B9%E5%B8%81P2P%E7%BD%91%E7%BB%9C%E5%86%85%E7%BD%AE%E7%9A%84DNS%E7%A7%8D%E5%AD%90%EF%BC%9A%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3Evoid+CConnman%3A%3AThreadDNSAddressSeed%28%29%0A%7B%0A++++%2F%2F+goal%3A+only+query+DNS+seeds+if+address+need+is+acute%0A++++%2F%2F+Avoiding+DNS+seeds+when+we+don%27t+need+them+improves+user+privacy+by%0A++++%2F%2F++creating+fewer+identifying+DNS+requests%2C+reduces+trust+by+giving+seeds%0A++++%2F%2F++less+influence+on+the+network+topology%2C+and+reduces+traffic+to+the+seeds.%0A++++if+%28%28addrman.size%28%29+%26gt%3B+0%29+%26amp%3B%26amp%3B%0A++++++++%28%21gArgs.GetBoolArg%28%22-forcednsseed%22%2C+DEFAULT_FORCEDNSSEED%29%29%29+%7B%0A++++++++if+%28%21interruptNet.sleep_for%28std%3A%3Achrono%3A%3Aseconds%2811%29%29%29%0A++++++++++++return%3B%0A%0A++++++++LOCK%28cs_vNodes%29%3B%0A++++++++int+nRelevant+%3D+0%3B%0A++++++++for+%28auto+pnode+%3A+vNodes%29+%7B%0A++++++++++++nRelevant+%2B%3D+pnode-%26gt%3BfSuccessfullyConnected+%26amp%3B%26amp%3B+%21pnode-%26gt%3BfFeeler+%26amp%3B%26amp%3B+%21pnode-%26gt%3BfOneShot+%26amp%3B%26amp%3B+%21pnode-%26gt%3Bm_manual_connection+%26amp%3B%26amp%3B+%21pnode-%26gt%3BfInbound%3B%0A++++++++%7D%0A++++++++if+%28nRelevant+%26gt%3B%3D+2%29+%7B%0A++++++++++++LogPrintf%28%22P2P+peers+available.+Skipped+DNS+seeding.%5Cn%22%29%3B%0A++++++++++++return%3B%0A++++++++%7D%0A++++%7D%0A%0A++++const+std%3A%3Avector%26lt%3Bstd%3A%3Astring%26gt%3B+%26amp%3BvSeeds+%3D+Params%28%29.DNSSeeds%28%29%3B%0A++++int+found+%3D+0%3B%0A%0A++++LogPrintf%28%22Loading+addresses+from+DNS+seeds+%28could+take+a+while%29%5Cn%22%29%3B%0A%0A++++for+%28const+std%3A%3Astring+%26amp%3Bseed+%3A+vSeeds%29+%7B%0A++++++++if+%28interruptNet%29+%7B%0A++++++++++++return%3B%0A++++++++%7D%0A++++++++if+%28HaveNameProxy%28%29%29+%7B%0A++++++++++++AddOneShot%28seed%29%3B%0A++++++++%7D+else+%7B%0A++++++++++++std%3A%3Avector%26lt%3BCNetAddr%26gt%3B+vIPs%3B%0A++++++++++++std%3A%3Avector%26lt%3BCAddress%26gt%3B+vAdd%3B%0A++++++++++++ServiceFlags+requiredServiceBits+%3D+GetDesirableServiceFlags%28NODE_NONE%29%3B%0A++++++++++++std%3A%3Astring+host+%3D+strprintf%28%22x%25x.%25s%22%2C+requiredServiceBits%2C+seed%29%3B%0A++++++++++++CNetAddr+resolveSource%3B%0A++++++++++++if+%28%21resolveSource.SetInternal%28host%29%29+%7B%0A++++++++++++++++continue%3B%0A++++++++++++%7D%0A++++++++++++unsigned+int+nMaxIPs+%3D+256%3B+%2F%2F+Limits+number+of+IPs+learned+from+a+DNS+seed%0A++++++++++++if+%28LookupHost%28host.c_str%28%29%2C+vIPs%2C+nMaxIPs%2C+true%29%29%0A++++++++++++%7B%0A++++++++++++++++for+%28const+CNetAddr%26amp%3B+ip+%3A+vIPs%29%0A++++++++++++++++%7B%0A++++++++++++++++++++int+nOneDay+%3D+24*3600%3B%0A++++++++++++++++++++CAddress+addr+%3D+CAddress%28CService%28ip%2C+Params%28%29.GetDefaultPort%28%29%29%2C+requiredServiceBits%29%3B%0A++++++++++++++++++++addr.nTime+%3D+GetTime%28%29+-+3*nOneDay+-+GetRand%284*nOneDay%29%3B+%2F%2F+use+a+random+age+between+3+and+7+days+old%0A++++++++++++++++++++vAdd.push_back%28addr%29%3B%0A++++++++++++++++++++found%2B%2B%3B%0A++++++++++++++++%7D%0A++++++++++++++++addrman.Add%28vAdd%2C+resolveSource%29%3B%0A++++++++++++%7D+else+%7B%0A++++++++++++++++%2F%2F+We+now+avoid+directly+using+results+from+DNS+Seeds+which+do+not+support+service+bit+filtering%2C%0A++++++++++++++++%2F%2F+instead+using+them+as+a+oneshot+to+get+nodes+with+our+desired+service+bits.%0A++++++++++++++++AddOneShot%28seed%29%3B%0A++++++++++++%7D%0A++++++++%7D%0A++++%7D%0A%0A++++LogPrintf%28%22%25d+addresses+found+from+DNS+seeds%5Cn%22%2C+found%29%3B%0A%7D%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E8%BF%99%E4%B8%AA%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%85%B6%E5%AE%9E%E6%AF%94%E8%BE%83%E7%AE%80%E5%8D%95%EF%BC%8C%E4%BB%A3%E7%A0%81%E4%B9%9F%E6%AF%94%E8%BE%83%E7%9F%AD%E3%80%82%E7%AE%80%E5%8D%95%E6%9D%A5%E5%88%86%E6%9E%90%E4%B8%80%E4%B8%8B%EF%BC%9A%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%281%29+%E9%A6%96%E5%85%88%E9%80%9A%E8%BF%87Params%28%29.DNSSeeds%28%29%E6%8B%BF%E5%88%B0%E5%86%85%E7%BD%AE%E7%9A%84DNS%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%EF%BC%8C%E8%BF%99%E4%B8%AA%E5%9C%A8%E5%89%8D%E6%96%87%E6%8F%90%E5%88%B0%E8%BF%87%E7%9A%84CMainParams%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E4%B8%AD%E5%B7%B2%E7%BB%8F%E8%AF%B4%E6%98%8E%EF%BC%8C%E6%AF%94%E7%89%B9%E5%B8%81%E7%B3%BB%E7%BB%9F%E5%B7%B2%E7%BB%8F%E5%86%85%E7%BD%AE%E4%BA%86%E4%B8%80%E4%BA%9BDNS%E7%A7%8D%E5%AD%90%E5%9C%A8%E9%87%8C%E9%9D%A2%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%282%29+%E5%AF%B9%E4%BA%8E%E6%AF%8F%E4%B8%AA%E7%A7%8D%E5%AD%90%EF%BC%8C%E9%80%9A%E8%BF%87LookupHost%E8%B0%83%E7%94%A8%EF%BC%8C%E8%BF%9B%E8%A1%8CDNS%E6%9F%A5%E8%AF%A2%EF%BC%8C%E8%BF%99%E4%B8%AA%E5%87%BD%E6%95%B0%E6%9C%80%E7%BB%88%E8%B0%83%E7%94%A8%E7%9A%84%E6%98%AF%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9Fapi%EF%BC%9Agetaddrinfo%EF%BC%8C%E8%A7%A3%E6%9E%90%E5%88%B0%E7%9A%84ip%E5%9C%B0%E5%9D%80%E5%B0%86%E5%AD%98%E5%85%A5CAddrMan%E4%B8%AD%E4%BB%A5%E5%A4%87%E5%90%8E%E7%94%A8%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Ch3%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E3.3.2+%E8%8A%82%E7%82%B9%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%BB%BA%E7%AB%8B%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fh3%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E4%B8%8A%E4%B8%80%E8%8A%82%E5%B7%B2%E7%BB%8F%E8%A7%A3%E6%9E%90%E5%87%BA%E4%BA%86%E6%AF%94%E7%89%B9%E5%B8%81%E7%B3%BB%E7%BB%9F%E5%86%85%E7%BD%AE%E7%9A%84DNS%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%EF%BC%8C%E6%8E%A5%E4%B8%8B%E6%9D%A5%E5%B0%B1%E8%A6%81%E8%BF%9E%E6%8E%A5%E8%BF%99%E4%BA%9B%E8%8A%82%E7%82%B9%E3%80%82%E8%BF%9E%E6%8E%A5%E5%B7%A5%E4%BD%9C%E7%94%B1%E4%B8%8A%E4%B8%80%E8%8A%82%E6%8F%90%E5%88%B0%E7%9A%84opencon%E7%BA%BF%E7%A8%8B%E6%9D%A5%E5%A4%84%E7%90%86%E3%80%82%E8%BF%99%E4%B8%AA%E7%BA%BF%E7%A8%8B%E4%BB%A3%E7%A0%81%E7%A8%8D%E9%95%BF%EF%BC%8C%E6%8C%91%E4%B8%BB%E8%A6%81%E7%9A%84%E6%9D%A5%E5%88%86%E6%9E%90%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%281%29+%E8%BF%9E%E6%8E%A5%E6%9C%89-seednode%E6%8C%87%E5%AE%9A%E7%9A%84%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E5%A6%82%E6%9E%9C%E7%94%A8%E6%88%B7%E9%80%9A%E8%BF%87-seednode%E6%8C%87%E5%AE%9A%E4%BA%86%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%EF%BC%8C%E9%82%A3%E4%B9%88%E5%B0%86%E5%B0%9D%E8%AF%95%E8%BF%9E%E6%8E%A5%E8%BF%99%E4%BA%9B%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%EF%BC%88%E8%BF%99%E6%98%AF%E8%8A%82%E7%82%B9%E5%8F%91%E7%8E%B0%E7%9A%84%E7%AC%AC%E4%BA%8C%E7%A7%8D%E6%96%B9%E5%BC%8F%EF%BC%89%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bwhile+%28%21interruptNet%29%0A++++%7B%0A++++++++ProcessOneShot%28%29%3B%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+ProcessOneshot%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%A6%82%E4%B8%8B%EF%BC%9A%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3Evoid+CConnman%3A%3AProcessOneShot%28%29%0A%7B%0A++++std%3A%3Astring+strDest%3B%0A++++%7B%0A++++++++LOCK%28cs_vOneShots%29%3B%0A++++++++if+%28vOneShots.empty%28%29%29%0A++++++++++++return%3B%0A++++++++strDest+%3D+vOneShots.front%28%29%3B%0A++++++++vOneShots.pop_front%28%29%3B%0A++++%7D%0A++++CAddress+addr%3B%0A++++CSemaphoreGrant+grant%28*semOutbound%2C+true%29%3B%0A++++if+%28grant%29+%7B%0A++++++++OpenNetworkConnection%28addr%2C+false%2C+%26amp%3Bgrant%2C+strDest.c_str%28%29%2C+true%29%3B%0A++++%7D%0A%7D%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E6%9C%80%E7%BB%88%E8%B0%83%E7%94%A8%E4%BA%86OpenNetworkConnection%E6%9D%A5%E8%BF%9E%E6%8E%A5%E8%BF%99%E4%BA%9B%E7%A7%8D%E5%AD%90%E8%8A%82%E7%82%B9%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%282%29+%E5%A6%82%E6%9E%9CCAddrMan%E4%B8%AD%E6%9C%89%E8%AE%B0%E5%BD%95%E7%9A%84%E5%9C%B0%E5%9D%80%E4%BF%A1%E6%81%AF%EF%BC%88%E4%B8%8A%E4%B8%80%E6%AC%A1%E8%BF%9E%E6%8E%A5%E8%BF%87%E7%9A%84peer%E7%9A%84%E5%9C%B0%E5%9D%80%E6%88%96%E8%80%85%E6%98%AF%E8%A7%A3%E6%9E%90%E5%87%BA%E6%9D%A5%E7%9A%84%E5%86%85%E7%BD%AEdns%E7%A7%8D%E5%AD%90%E7%9A%84%E5%9C%B0%E5%9D%80%EF%BC%89%EF%BC%8C%E5%90%8C%E6%A0%B7%E8%B0%83%E7%94%A8OpenNetworkConnection%E6%9D%A5%E5%8F%91%E8%B5%B7%E8%BF%9E%E6%8E%A5%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E7%BB%A7%E7%BB%AD%E6%8A%BD%E4%B8%9D%E5%89%A5%E8%8C%A7%EF%BC%8C%E6%8F%AD%E5%BC%80OpenNetworkConnection%E8%BF%99%E4%B8%AA%E5%87%BD%E6%95%B0%E7%9A%84%E7%A5%9E%E7%A7%98%E9%9D%A2%E7%BA%B1%EF%BC%8C%E7%9C%8B%E7%9C%8B%E4%BB%96%E6%98%AF%E5%A6%82%E4%BD%95%E5%8F%91%E8%B5%B7%E8%BF%9E%E6%8E%A5%E7%9A%84%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3Evoid+CConnman%3A%3AOpenNetworkConnection%28const+CAddress%26amp%3B+addrConnect%2C+bool+fCountFailure%2C+CSemaphoreGrant+*grantOutbound%2C+const+char+*pszDest%2C+bool+fOneShot%2C+bool+fFeeler%2C+bool+manual_connection%29%0A%7B%0A++++%2F%2F%0A++++%2F%2F+Initiate+outbound+network+connection%0A++++%2F%2F%0A++++if+%28interruptNet%29+%7B%0A++++++++return%3B%0A++++%7D%0A++++if+%28%21fNetworkActive%29+%7B%0A++++++++return%3B%0A++++%7D%0A++++if+%28%21pszDest%29+%7B%0A++++++++if+%28IsLocal%28addrConnect%29+%7C%7C%0A++++++++++++FindNode%28static_cast%26lt%3BCNetAddr%26gt%3B%28addrConnect%29%29+%7C%7C+IsBanned%28addrConnect%29+%7C%7C%0A++++++++++++FindNode%28addrConnect.ToStringIPPort%28%29%29%29%0A++++++++++++return%3B%0A++++%7D+else+if+%28FindNode%28std%3A%3Astring%28pszDest%29%29%29%0A++++++++return%3B%0A%0A++++CNode*+pnode+%3D+ConnectNode%28addrConnect%2C+pszDest%2C+fCountFailure%2C+manual_connection%29%3B%0A%0A++++if+%28%21pnode%29%0A++++++++return%3B%0A++++if+%28grantOutbound%29%0A++++++++grantOutbound-%26gt%3BMoveTo%28pnode-%26gt%3BgrantOutbound%29%3B%0A++++if+%28fOneShot%29%0A++++++++pnode-%26gt%3BfOneShot+%3D+true%3B%0A++++if+%28fFeeler%29%0A++++++++pnode-%26gt%3BfFeeler+%3D+true%3B%0A++++if+%28manual_connection%29%0A++++++++pnode-%26gt%3Bm_manual_connection+%3D+true%3B%0A%0A++++m_msgproc-%26gt%3BInitializeNode%28pnode%29%3B%0A++++%7B%0A++++++++LOCK%28cs_vNodes%29%3B%0A++++++++vNodes.push_back%28pnode%29%3B%0A++++%7D%0A%7D%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E4%BB%A3%E7%A0%81%E5%BE%88%E7%9F%AD%EF%BC%8C%E9%99%A4%E4%BA%86%E4%B8%80%E4%BA%9B%E9%94%99%E8%AF%AF%E6%A3%80%E6%9F%A5%E5%A4%96%EF%BC%8C%E4%B8%BB%E8%A6%81%E6%98%AF%E4%B8%A4%E6%AD%A5%EF%BC%9AConnectNode%E5%88%9B%E5%BB%BA%E8%8A%82%E7%82%B9%EF%BC%8CInitializeNode%E5%88%9D%E5%A7%8B%E5%8C%96%E8%8A%82%E7%82%B9%E3%80%82%E5%85%B6%E4%B8%AD%E8%BF%9E%E6%8E%A5%E5%B7%B2%E5%8F%91%E7%8E%B0%E8%8A%82%E7%82%B9%E5%9C%A8ConnectNode%E4%B8%AD%E5%AE%8C%E6%88%90%EF%BC%8C%E8%80%8C%E5%89%8D%E6%96%87%E6%8F%90%E5%88%B0%E7%9A%84%E6%8F%A1%E6%89%8B%E5%8D%8F%E8%AE%AE%EF%BC%88%E5%8F%91%E9%80%81version%E6%8F%A1%E6%89%8B%E6%B6%88%E6%81%AF%EF%BC%89%E5%88%99%E5%9C%A8InitializeNode%E4%B8%AD%E5%8F%91%E8%B5%B7%E3%80%82%E8%8A%82%E7%82%B9%E4%B9%8B%E9%97%B4%E7%9A%84%E6%8F%A1%E6%89%8B%E5%90%8E%E6%96%87%E5%8D%95%E7%8B%AC%E5%88%86%E6%9E%90%E3%80%82%E5%85%88%E7%9C%8B%E8%8A%82%E7%82%B9%E7%9A%84%E8%BF%9E%E6%8E%A5%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+ConnectNode%E5%87%BD%E6%95%B0%E5%85%88%E5%81%9A%E4%B8%80%E4%BA%9B%E6%A3%80%E6%9F%A5%EF%BC%8C%E4%BB%A5%E7%A1%AE%E4%BF%9D%E7%BB%99%E5%AE%9A%E7%9A%84%E8%8A%82%E7%82%B9%E5%9C%B0%E5%9D%80%E8%BF%98%E6%B2%A1%E6%9C%89%E8%BF%9E%E6%8E%A5%E3%80%82%E4%B9%8B%E5%90%8E%E5%B0%86%E5%88%9B%E5%BB%BA%E5%A5%97%E6%8E%A5%E5%AD%97%EF%BC%8C%E5%B9%B6%E5%BB%BA%E7%AB%8B%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%EF%BC%9A%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3Eif+%28addrConnect.IsValid%28%29%29+%7B%0A++++++++bool+proxyConnectionFailed+%3D+false%3B%0A%0A++++++++if+%28GetProxy%28addrConnect.GetNetwork%28%29%2C+proxy%29%29+%7B%0A++++++++++++hSocket+%3D+CreateSocket%28proxy.proxy%29%3B%0A++++++++++++if+%28hSocket+%3D%3D+INVALID_SOCKET%29+%7B%0A++++++++++++++++return+nullptr%3B%0A++++++++++++%7D%0A++++++++++++connected+%3D+ConnectThroughProxy%28proxy%2C+addrConnect.ToStringIP%28%29%2C+addrConnect.GetPort%28%29%2C+hSocket%2C+nConnectTimeout%2C+%26amp%3BproxyConnectionFailed%29%3B%0A++++++++%7D+else+%7B%0A++++++++++++%2F%2F+no+proxy+needed+%28none+set+for+target+network%29%0A++++++++++++hSocket+%3D+CreateSocket%28addrConnect%29%3B%0A++++++++++++if+%28hSocket+%3D%3D+INVALID_SOCKET%29+%7B%0A++++++++++++++++return+nullptr%3B%0A++++++++++++%7D%0A++++++++++++connected+%3D+ConnectSocketDirectly%28addrConnect%2C+hSocket%2C+nConnectTimeout%2C+manual_connection%29%3B%0A++++++++%7D%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E8%BF%99%E9%87%8C%E6%A0%B9%E6%8D%AE%E6%98%AF%E5%90%A6%E6%9C%89%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86%E5%88%86%E5%88%AB%E8%BF%9B%E8%A1%8C%E5%A4%84%E7%90%86%EF%BC%8C%E5%AF%B9%E4%BA%8E%E4%B8%8D%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86%E7%9A%84%E6%83%85%E5%86%B5%EF%BC%8C%E5%B0%86%E7%9B%B4%E6%8E%A5%E9%80%9A%E8%BF%87ConnectSocketDirectly%E6%9D%A5%E8%BF%9E%E6%8E%A5%EF%BC%8C%E5%85%B6%E5%86%85%E9%83%A8%E6%98%AF%E8%B0%83%E7%94%A8socket+api%E7%9A%84connect%E5%87%BD%E6%95%B0%E3%80%82%E5%A6%82%E6%9E%9C%E4%B8%80%E5%88%87%E6%AD%A3%E5%B8%B8%EF%BC%8C%E9%82%A3%E4%B9%88%E6%AD%A4%E6%97%B6%E5%88%B0%E6%89%80%E6%9C%89%E5%8F%91%E7%8E%B0%E7%9A%84%E8%8A%82%E7%82%B9%E7%9A%84%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E5%B0%B1%E5%B7%B2%E7%BB%8F%E5%BB%BA%E7%AB%8B%E8%B5%B7%E6%9D%A5%E4%BA%86%EF%BC%8C%E4%B8%A4%E4%B8%AA%E8%8A%82%E7%82%B9%E4%B9%8B%E9%97%B4%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BA%92%E9%80%9A%E6%95%B0%E6%8D%AE%E3%80%82ConnectNode%E5%87%BD%E6%95%B0%E7%9A%84%E6%9C%80%E5%90%8E%EF%BC%8C%E4%BC%9A%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AACNode%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%B0%86%E8%BF%9E%E6%8E%A5%E5%A5%BD%E7%9A%84%E5%A5%97%E6%8E%A5%E5%AD%97%E5%8F%8A%E5%85%B6%E4%BB%96%E5%BF%85%E8%A6%81%E7%9A%84%E4%BF%A1%E6%81%AF%E5%B0%81%E8%A3%85%E8%B5%B7%E6%9D%A5%EF%BC%9A%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BNodeId+id+%3D+GetNewNodeId%28%29%3B%0A++++uint64_t+nonce+%3D+GetDeterministicRandomizer%28RANDOMIZER_ID_LOCALHOSTNONCE%29.Write%28id%29.Finalize%28%29%3B%0A++++CAddress+addr_bind+%3D+GetBindAddress%28hSocket%29%3B%0A++++CNode*+pnode+%3D+new+CNode%28id%2C+nLocalServices%2C+GetBestHeight%28%29%2C+hSocket%2C+addrConnect%2C+CalculateKeyedNetGroup%28addrConnect%29%2C+nonce%2C+addr_bind%2C+pszDest+%3F+pszDest+%3A+%22%22%2C+false%29%3B%0A++++pnode-%26gt%3BAddRef%28%29%3B%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%EF%BC%8CCNode%E5%B0%81%E8%A3%85%E4%BA%86%E8%AE%B8%E5%A4%9A%E7%9A%84%E4%B8%9C%E8%A5%BF%EF%BC%8C%E5%8C%85%E6%8B%AC%E5%B7%B2%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%A5%97%E6%8E%A5%E5%AD%97%EF%BC%8C%E6%9C%AC%E8%8A%82%E7%82%B9%E6%94%AF%E6%8C%81%E7%9A%84%E6%9C%8D%E5%8A%A1%EF%BC%8C%E6%9C%AC%E8%8A%82%E7%82%B9%E5%BD%93%E5%89%8D%E7%9A%84%E5%8C%BA%E5%9D%97%E9%AB%98%E5%BA%A6%E7%AD%89%E7%AD%89%E3%80%82%E7%94%9F%E6%88%90%E7%9A%84%E8%8A%82%E7%82%B9%E5%B0%86%E4%BC%9A%E5%8A%A0%E5%85%A5%E5%88%B0%E9%9B%86%E5%90%88%E4%B8%AD%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E8%BF%9E%E6%8E%A5%E5%A5%BD%E4%BB%A5%E5%90%8E%EF%BC%8C%E4%B8%A4%E4%B8%AA%E8%8A%82%E7%82%B9%E5%B0%B1%E5%8F%AF%E4%BB%A5%E5%BC%80%E5%A7%8B%E6%8F%A1%E6%89%8B%E4%BA%A4%E4%BA%92%E4%BA%86%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Ch3%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E3.3.3+%E9%80%9A%E8%BF%87%E5%A5%97%E6%8E%A5%E5%AD%97%E6%94%B6%E5%8F%91%E6%95%B0%E6%8D%AE%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fh3%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E4%B8%8A%E4%B8%80%E8%8A%82%E6%8F%8F%E8%BF%B0%E4%BA%86%E8%8A%82%E7%82%B9%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%9E%E6%8E%A5%E5%88%B0%E5%8F%91%E7%8E%B0%E7%9B%B8%E9%82%BB%E8%8A%82%E7%82%B9%E7%9A%84%E3%80%82%E8%BF%99%E4%B8%80%E8%8A%82%E6%9D%A5%E7%9C%8B%E7%9C%8B%E6%98%AF%E5%A6%82%E4%BD%95%E9%80%9A%E8%BF%87%E5%A5%97%E6%8E%A5%E5%AD%97%E6%94%B6%E5%8F%91%E6%95%B0%E6%8D%AE%E7%9A%84%E3%80%82%E6%94%B6%E5%8F%91%E6%95%B0%E6%8D%AE%E6%98%AF%E5%9C%A8net%E7%BA%BF%E7%A8%8B%E4%B8%AD%E5%AE%8C%E6%88%90%E7%9A%84%E3%80%82%E7%BA%BF%E7%A8%8B%E5%87%BD%E6%95%B0%E4%BD%93%E4%B8%BACConnman%3A%3AThreadSocketHandler%E3%80%82%E7%9B%B8%E4%BF%A1%E6%9C%89%E8%BF%87%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80%E7%9A%84%E5%90%8C%E5%AD%A6%E5%AF%B9%E8%BF%99%E4%B8%80%E9%83%A8%E5%88%86%E4%BC%9A%E5%80%8D%E6%84%9F%E4%BA%B2%E5%88%87%E3%80%82%E6%88%91%E4%BB%AC%E6%88%AA%E5%8F%96%E5%85%B6%E4%B8%BB%E8%A6%81%E4%BB%A3%E7%A0%81%E4%B8%80%E7%AA%A5%E7%A9%B6%E7%AB%9F%E3%80%82%E5%80%BC%E5%BE%97%E6%B3%A8%E6%84%8F%E7%9A%84%E6%98%AF%E6%B6%88%E6%81%AF%E7%9A%84%E6%94%B6%E5%8F%91%E6%98%AF%E6%9C%89net%E7%BA%BF%E7%A8%8B%E5%92%8Cmsghand%E7%BA%BF%E7%A8%8B%E5%8D%8F%E5%90%8C%E5%A4%84%E7%90%86%E7%9A%84%EF%BC%9Amsghand%E7%BA%BF%E7%A8%8B%E5%9C%A8%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F%E4%B8%8A%E9%98%BB%E5%A1%9E%E7%AD%89%E5%BE%85%E8%8A%82%E7%82%B9%E7%9A%84%E6%96%B0%E6%B6%88%E6%81%AF%E7%9A%84%E5%88%B0%E6%9D%A5%EF%BC%8Cnet%E7%BA%BF%E7%A8%8B%E4%BB%8E%E5%A5%97%E6%8E%A5%E5%AD%97%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%B0%86%E6%95%B0%E6%8D%AE%E6%8B%BC%E6%8E%A5%E6%88%90%E6%B6%88%E6%81%AF%E6%94%BE%E5%88%B0%E8%8A%82%E7%82%B9%E7%9A%84%E6%B6%88%E6%81%AF%E7%BC%93%E5%86%B2%E5%8C%BA%E4%B8%AD%EF%BC%8C%E5%B9%B6%E9%80%9A%E7%9F%A5msghand%E7%BA%BF%E7%A8%8B%E6%9C%89%E6%96%B0%E6%B6%88%E6%81%AF%E5%8F%AF%E4%BB%A5%E5%A4%84%E7%90%86%E4%BA%86%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+ThreadSocketHandler%E5%B0%86%E9%81%8D%E5%8E%86%E6%89%80%E6%9C%89%E8%8A%82%E7%82%B9%EF%BC%8C%E5%B0%86%E5%85%B6%E5%A5%97%E6%8E%A5%E5%AD%97%E5%8A%A0%E5%85%A5%E5%88%B0%E6%8E%A5%E6%94%B6%E6%8F%8F%E8%BF%B0%E7%AC%A6%E9%9B%86%E5%90%88%E3%80%81%E5%8F%91%E9%80%81%E6%8F%8F%E8%BF%B0%E7%AC%A6%E9%9B%86%E5%90%88%E4%B8%AD%EF%BC%8C%E7%84%B6%E5%90%8E%E9%80%9A%E8%BF%87select%E5%87%BD%E6%95%B0%E7%AD%89%E5%BE%85%E7%9B%B8%E5%BA%94%E7%9A%84%E6%8F%8F%E8%BF%B0%E7%AC%A6%E4%B8%AD%E7%9A%84%E8%AF%BB%E5%86%99%E4%BA%8B%E4%BB%B6%E7%9A%84%E5%88%B0%E6%9D%A5%EF%BC%9A%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3BLOCK%28cs_vNodes%29%3B%0A++++++++++++for+%28CNode*+pnode+%3A+vNodes%29%0A++++++++++++%7B%0A++++++++++++++++%2F%2F+Implement+the+following+logic%3A%0A++++++++++++++++%2F%2F+*+If+there+is+data+to+send%2C+select%28%29+for+sending+data.+As+this+only%0A++++++++++++++++%2F%2F+++happens+when+optimistic+write+failed%2C+we+choose+to+first+drain+the%0A++++++++++++++++%2F%2F+++write+buffer+in+this+case+before+receiving+more.+This+avoids%0A++++++++++++++++%2F%2F+++needlessly+queueing+received+data%2C+if+the+remote+peer+is+not+themselves%0A++++++++++++++++%2F%2F+++receiving+data.+This+means+properly+utilizing+TCP+flow+control+signalling.%0A++++++++++++++++%2F%2F+*+Otherwise%2C+if+there+is+space+left+in+the+receive+buffer%2C+select%28%29+for%0A++++++++++++++++%2F%2F+++receiving+data.%0A++++++++++++++++%2F%2F+*+Hand+off+all+complete+messages+to+the+processor%2C+to+be+handled+without%0A++++++++++++++++%2F%2F+++blocking+here.%0A%0A++++++++++++++++bool+select_recv+%3D+%21pnode-%26gt%3BfPauseRecv%3B%0A++++++++++++++++bool+select_send%3B%0A++++++++++++++++%7B%0A++++++++++++++++++++LOCK%28pnode-%26gt%3Bcs_vSend%29%3B%0A++++++++++++++++++++select_send+%3D+%21pnode-%26gt%3BvSendMsg.empty%28%29%3B%0A++++++++++++++++%7D%0A%0A++++++++++++++++LOCK%28pnode-%26gt%3Bcs_hSocket%29%3B%0A++++++++++++++++if+%28pnode-%26gt%3BhSocket+%3D%3D+INVALID_SOCKET%29%0A++++++++++++++++++++continue%3B%0A%0A++++++++++++++++FD_SET%28pnode-%26gt%3BhSocket%2C+%26amp%3BfdsetError%29%3B%0A++++++++++++++++hSocketMax+%3D+std%3A%3Amax%28hSocketMax%2C+pnode-%26gt%3BhSocket%29%3B%0A++++++++++++++++have_fds+%3D+true%3B%0A%0A++++++++++++++++if+%28select_send%29+%7B%0A++++++++++++++++++++FD_SET%28pnode-%26gt%3BhSocket%2C+%26amp%3BfdsetSend%29%3B%0A++++++++++++++++++++continue%3B%0A++++++++++++++++%7D%0A++++++++++++++++if+%28select_recv%29+%7B%0A++++++++++++++++++++FD_SET%28pnode-%26gt%3BhSocket%2C+%26amp%3BfdsetRecv%29%3B%0A++++++++++++++++%7D%0A++++++++++++%7D%0A++++++++%7D%0A%0A++++++++int+nSelect+%3D+select%28have_fds+%3F+hSocketMax+%2B+1+%3A+0%2C%0A+++++++++++++++++++++++++++++%26amp%3BfdsetRecv%2C+%26amp%3BfdsetSend%2C+%26amp%3BfdsetError%2C+%26amp%3Btimeout%29%3B%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%281%29+%E6%8E%A5%E6%94%B6%E6%95%B0%E6%8D%AE%E5%B9%B6%E5%A4%84%E7%90%86%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%E5%BD%93%E6%9F%90%E4%B8%AA%E8%8A%82%E7%82%B9%E7%9A%84%E5%A5%97%E6%8E%A5%E5%AD%97%E5%8F%AF%E8%AF%BB%E6%97%B6%EF%BC%8C%E5%B0%86%E4%BB%8E%E5%A5%97%E6%8E%A5%E5%AD%97%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE%E5%B9%B6%E6%8A%8A%E6%95%B0%E6%8D%AE%E6%B7%BB%E5%8A%A0%E5%88%B0%E8%8A%82%E7%82%B9%E7%9A%84%E6%8E%A5%E6%94%B6%E7%BC%93%E5%86%B2%E5%8C%BA%EF%BC%88pNode-%26gt%3BReceiveMsgBytes%EF%BC%89%EF%BC%9A%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfor+%28CNode*+pnode+%3A+vNodesCopy%29%0A++++++++%7B%0A++++++++++++if+%28interruptNet%29%0A++++++++++++++++return%3B%0A%0A++++++++++++%2F%2F%0A++++++++++++%2F%2F+Receive%0A++++++++++++%2F%2F%0A++++++++++++bool+recvSet+%3D+false%3B%0A++++++++++++bool+sendSet+%3D+false%3B%0A++++++++++++bool+errorSet+%3D+false%3B%0A++++++++++++%7B%0A++++++++++++++++LOCK%28pnode-%26gt%3Bcs_hSocket%29%3B%0A++++++++++++++++if+%28pnode-%26gt%3BhSocket+%3D%3D+INVALID_SOCKET%29%0A++++++++++++++++++++continue%3B%0A++++++++++++++++recvSet+%3D+FD_ISSET%28pnode-%26gt%3BhSocket%2C+%26amp%3BfdsetRecv%29%3B%0A++++++++++++++++sendSet+%3D+FD_ISSET%28pnode-%26gt%3BhSocket%2C+%26amp%3BfdsetSend%29%3B%0A++++++++++++++++errorSet+%3D+FD_ISSET%28pnode-%26gt%3BhSocket%2C+%26amp%3BfdsetError%29%3B%0A++++++++++++%7D%0A++++++++++++if+%28recvSet+%7C%7C+errorSet%29%0A++++++++++++%7B%0A++++++++++++++++%2F%2F+typical+socket+buffer+is+8K-64K%0A++++++++++++++++char+pchBuf%5B0x10000%5D%3B%0A++++++++++++++++int+nBytes+%3D+0%3B%0A++++++++++++++++%7B%0A++++++++++++++++++++LOCK%28pnode-%26gt%3Bcs_hSocket%29%3B%0A++++++++++++++++++++if+%28pnode-%26gt%3BhSocket+%3D%3D+INVALID_SOCKET%29%0A++++++++++++++++++++++++continue%3B%0A++++++++++++++++++++nBytes+%3D+recv%28pnode-%26gt%3BhSocket%2C+pchBuf%2C+sizeof%28pchBuf%29%2C+MSG_DONTWAIT%29%3B%0A++++++++++++++++%7D%0A++++++++++++++++if+%28nBytes+%26gt%3B+0%29%0A++++++++++++++++%7B%0A++++++++++++++++++++bool+notify+%3D+false%3B%0A++++++++++++++++++++if+%28%21pnode-%26gt%3BReceiveMsgBytes%28pchBuf%2C+nBytes%2C+notify%29%29%0A++++++++++++++++++++++++pnode-%26gt%3BCloseSocketDisconnect%28%29%3B%0A++++++++++++++++++++RecordBytesRecv%28nBytes%29%3B%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E6%9C%80%E5%90%8E%EF%BC%8C%E6%8A%8A%E6%8E%A5%E6%94%B6%E7%BC%93%E5%86%B2%E5%8C%BA%E7%9A%84%E6%95%B0%E6%8D%AE%E6%8B%BC%E6%8E%A5%E5%88%B0%E5%BE%85%E5%A4%84%E7%90%86%E6%B6%88%E6%81%AF%E7%BC%93%E5%86%B2%E5%8C%BA%EF%BC%8C%E7%84%B6%E5%90%8E%E9%80%9A%E7%9F%A5%E6%B6%88%E6%81%AF%E5%A4%84%E7%90%86%E7%BA%BF%E7%A8%8B%E6%9C%89%E6%96%B0%E7%9A%84%E6%B6%88%E6%81%AF%E9%9C%80%E8%A6%81%E5%A4%84%E7%90%86%EF%BC%9A%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+%28notify%29+%7B%0A++++++++++++++++++++++++size_t+nSizeAdded+%3D+0%3B%0A++++++++++++++++++++++++auto+it%28pnode-%26gt%3BvRecvMsg.begin%28%29%29%3B%0A++++++++++++++++++++++++for+%28%3B+it+%21%3D+pnode-%26gt%3BvRecvMsg.end%28%29%3B+%2B%2Bit%29+%7B%0A++++++++++++++++++++++++++++if+%28%21it-%26gt%3Bcomplete%28%29%29%0A++++++++++++++++++++++++++++++++break%3B%0A++++++++++++++++++++++++++++nSizeAdded+%2B%3D+it-%26gt%3BvRecv.size%28%29+%2B+CMessageHeader%3A%3AHEADER_SIZE%3B%0A++++++++++++++++++++++++%7D%0A++++++++++++++++++++++++%7B%0A++++++++++++++++++++++++++++LOCK%28pnode-%26gt%3Bcs_vProcessMsg%29%3B%0A++++++++++++++++++++++++++++pnode-%26gt%3BvProcessMsg.splice%28pnode-%26gt%3BvProcessMsg.end%28%29%2C+pnode-%26gt%3BvRecvMsg%2C+pnode-%26gt%3BvRecvMsg.begin%28%29%2C+it%29%3B%0A++++++++++++++++++++++++++++pnode-%26gt%3BnProcessQueueSize+%2B%3D+nSizeAdded%3B%0A++++++++++++++++++++++++++++pnode-%26gt%3BfPauseRecv+%3D+pnode-%26gt%3BnProcessQueueSize+%26gt%3B+nReceiveFloodSize%3B%0A++++++++++++++++++++++++%7D%0A++++++++++++++++++++++++WakeMessageHandler%28%29%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%2F%2F%E5%94%A4%E9%86%92%E6%B6%88%E6%81%AF%E5%A4%84%E7%90%86%E7%BA%BF%E7%A8%8B%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%26nbsp%3B+%26nbsp%3B%26nbsp%3B%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%E4%BB%A3%E7%A0%81%E4%B8%ADWakeMessageHandler%E5%B0%86%E5%94%A4%E9%86%92msghand%E7%BA%BF%E7%A8%8B%EF%BC%8C%E5%91%8A%E7%9F%A5%E5%85%B6%E6%9C%89%E6%96%B0%E6%B6%88%E6%81%AF%E5%8F%AF%E4%BB%A5%E5%A4%84%E7%90%86%E4%BA%86%3C%2Fspan%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3Evoid+CConnman%3A%3AWakeMessageHandler%28%29%0A%7B%0A++++%7B%0A++++++++std%3A%3Alock_guard%26lt%3Bstd%3A%3Amutex%26gt%3B+lock%28mutexMsgProc%29%3B%0A++++++++fMsgProcWake+%3D+true%3B%0A++++%7D%0A++++condMsgProc.notify_one%28%29%3B%0A%7D%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%26nbsp%3B+%26nbsp%3B+%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3Emsghand%E7%BA%BF%E7%A8%8B%E8%A2%AB%E5%94%A4%E9%86%92%E5%90%8E%EF%BC%8C%E5%B0%86%E4%BB%8E%E8%8A%82%E7%82%B9%E7%9A%84%E7%BC%93%E5%86%B2%E5%8C%BA%E4%B8%AD%E5%8F%96%E5%87%BA%E6%B6%88%E6%81%AF%E5%B9%B6%E8%BF%9B%E8%A1%8C%E5%A4%84%E7%90%86%E3%80%82%E5%A4%84%E7%90%86%E5%AE%8C%E5%90%8E%E5%8F%88%E5%9C%A8%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F%E4%B8%8A%E9%98%BB%E5%A1%9E%E7%AD%89%E5%BE%85%E4%B8%8B%E4%B8%80%E6%9D%A1%E6%B6%88%E6%81%AF%E7%9A%84%E5%88%B0%E6%9D%A5%E3%80%82%E8%BF%99%E5%B1%9E%E4%BA%8E%E5%85%B8%E5%9E%8B%E7%9A%84%E7%BA%BF%E7%A8%8B%E9%97%B4%E7%9A%84%E5%90%8C%E6%AD%A5%E6%A8%A1%E5%9E%8B%EF%BC%8C%E7%9B%B8%E4%BF%A1%E7%A0%81%E5%86%9C%E4%BB%AC%E5%B7%B2%E7%BB%8F%E9%9D%9E%E5%B8%B8%E7%86%9F%E6%82%89%E4%BA%86%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B+%282%29+%E5%8F%91%E9%80%81%E6%95%B0%E6%8D%AE%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%E5%BD%93%E6%9F%90%E4%B8%AA%E8%8A%82%E7%82%B9%E7%9A%84%E5%A5%97%E6%8E%A5%E5%AD%97%E5%8F%AF%E5%86%99%E6%97%B6%E5%B0%86%E6%95%B0%E6%8D%AE%E9%80%9A%E8%BF%87%E5%A5%97%E6%8E%A5%E5%AD%97%E5%8F%91%E9%80%81%E5%87%BA%E5%8E%BB%EF%BC%9A%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bif+%28sendSet%29%0A++++++++++++%7B%0A++++++++++++++++LOCK%28pnode-%26gt%3Bcs_vSend%29%3B%0A++++++++++++++++size_t+nBytes+%3D+SocketSendData%28pnode%29%3B%0A++++++++++++++++if+%28nBytes%29+%7B%0A++++++++++++++++++++RecordBytesSent%28nBytes%29%3B%0A++++++++++++++++%7D%0A++++++++++++%7D%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E4%B8%8B%E4%B8%80%E5%B0%8F%E8%8A%82%E5%9C%A8%E5%88%86%E6%9E%90%E4%B8%80%E4%B8%8Bmsghand%E7%BA%BF%E7%A8%8B%E6%98%AF%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%E6%B6%88%E6%81%AF%E7%9A%84%EF%BC%8C%E8%BF%99%E4%B9%9F%E6%98%AF%E4%B8%A4%E4%B8%AApeer%E8%8A%82%E7%82%B9%E4%BA%A4%E4%BA%92%E6%B5%81%E7%A8%8B%E7%9A%84%E6%9C%80%E5%90%8E%E4%B8%80%E5%9D%97%E6%8B%BC%E5%9B%BE%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Ch3%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E3.3.4+%E6%B6%88%E6%81%AF%E5%A4%84%E7%90%86%E7%BA%BF%E7%A8%8B%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fh3%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E6%B6%88%E6%81%AF%E5%A4%84%E7%90%86%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%A4%84%E7%90%86%E9%80%BB%E8%BE%91%E5%85%B6%E5%AE%9E%E9%9D%9E%E5%B8%B8%E7%AE%80%E5%8D%95%EF%BC%9A%E4%BB%8E%E8%8A%82%E7%82%B9%E7%9A%84%E7%BC%93%E5%86%B2%E5%8C%BA%E4%B8%AD%E5%8F%96%E5%87%BA%E4%B8%80%E4%B8%AA%E6%B6%88%E6%81%AF%EF%BC%8C%E5%A4%84%E7%90%86%EF%BC%8C%E7%84%B6%E5%90%8E%E9%98%BB%E5%A1%9E%E7%AD%89%E5%BE%85%E4%B8%8B%E4%B8%80%E6%9D%A1%E6%B6%88%E6%81%AF%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bfor+%28CNode*+pnode+%3A+vNodesCopy%29%0A++++++++%7B%0A++++++++++++if+%28pnode-%26gt%3BfDisconnect%29%0A++++++++++++++++continue%3B%0A%0A++++++++++++%2F%2F+Receive+messages%0A++++++++++++bool+fMoreNodeWork+%3D+m_msgproc-%26gt%3BProcessMessages%28pnode%2C+flagInterruptMsgProc%29%3B%0A++++++++++++fMoreWork+%7C%3D+%28fMoreNodeWork+%26amp%3B%26amp%3B+%21pnode-%26gt%3BfPauseSend%29%3B%0A++++++++++++if+%28flagInterruptMsgProc%29%0A++++++++++++++++return%3B%0A++++++++++++%2F%2F+Send+messages%0A++++++++++++%7B%0A++++++++++++++++LOCK%28pnode-%26gt%3Bcs_sendProcessing%29%3B%0A++++++++++++++++m_msgproc-%26gt%3BSendMessages%28pnode%2C+flagInterruptMsgProc%29%3B%0A++++++++++++%7D%0A%0A++++++++++++if+%28flagInterruptMsgProc%29%0A++++++++++++++++return%3B%0A++++++++%7D%0A%0A++++++++%7B%0A++++++++++++LOCK%28cs_vNodes%29%3B%0A++++++++++++for+%28CNode*+pnode+%3A+vNodesCopy%29%0A++++++++++++++++pnode-%26gt%3BRelease%28%29%3B%0A++++++++%7D%0A%0A++++++++std%3A%3Aunique_lock%26lt%3Bstd%3A%3Amutex%26gt%3B+lock%28mutexMsgProc%29%3B%0A++++++++if+%28%21fMoreWork%29+%7B%0A++++++++++++condMsgProc.wait_until%28lock%2C+std%3A%3Achrono%3A%3Asteady_clock%3A%3Anow%28%29+%2B+std%3A%3Achrono%3A%3Amilliseconds%28100%29%2C+%5Bthis%5D+%7B+return+fMsgProcWake%3B+%7D%29%3B%0A++++++++%7D%0A++++++++fMsgProcWake+%3D+false%3B%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%26nbsp%3B+%26nbsp%3B%26nbsp%3B%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%E6%B3%A8%E9%87%8A%E4%B8%AD%E5%85%B6%E5%AE%9E%E5%B7%B2%E7%BB%8F%E6%AF%94%E8%BE%83%E6%B8%85%E6%A5%9A%E4%BA%86%EF%BC%9APeerLogicValidation%3A%3AProcessMessgae%28%29%E4%BB%8E%E8%8A%82%E7%82%B9%E7%9A%84%E6%8E%A5%E6%94%B6%E7%BC%93%E5%86%B2%E5%8C%BA%E4%B8%AD%E5%8F%96%E6%B6%88%E6%81%AF%E5%B9%B6%E5%A4%84%E7%90%86%EF%BC%8CPeerLogicValidation%3A%3ASendMessage%E5%B0%86%E8%8A%82%E7%82%B9%E5%8F%91%E9%80%81%E7%BC%93%E5%86%B2%E5%8C%BA%E4%B8%AD%E7%9A%84%E6%B6%88%E6%81%AF%E5%8F%91%E9%80%81%E5%87%BA%E5%8E%BB%EF%BC%8C%E6%9C%80%E5%90%8E%E5%9C%A8%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F%E4%B8%8A%E9%98%BB%E5%A1%9E%E7%AD%89%E5%BE%85%E4%B8%8B%E4%B8%80%E6%9D%A1%E6%B6%88%E6%81%AF%E7%9A%84%E5%88%B0%E6%9D%A5%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+ProcessMessage%E5%87%BD%E6%95%B0%E7%9A%84%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B%EF%BC%9A%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3Ebool+PeerLogicValidation%3A%3AProcessMessages%28CNode*+pfrom%2C+std%3A%3Aatomic%26lt%3Bbool%26gt%3B%26amp%3B+interruptMsgProc%29%0A%7B%0A++++const+CChainParams%26amp%3B+chainparams+%3D+Params%28%29%3B%0A++++%2F%2F%0A++++%2F%2F+Message+format%0A++++%2F%2F++%284%29+message+start%0A++++%2F%2F++%2812%29+command%0A++++%2F%2F++%284%29+size%0A++++%2F%2F++%284%29+checksum%0A++++%2F%2F++%28x%29+data%0A++++%2F%2F%0A++++bool+fMoreWork+%3D+false%3B%0A%0A++++if+%28%21pfrom-%26gt%3BvRecvGetData.empty%28%29%29%0A++++++++ProcessGetData%28pfrom%2C+chainparams.GetConsensus%28%29%2C+connman%2C+interruptMsgProc%29%3B%0A%0A++++if+%28pfrom-%26gt%3BfDisconnect%29%0A++++++++return+false%3B%0A%0A++++%2F%2F+this+maintains+the+order+of+responses%0A++++if+%28%21pfrom-%26gt%3BvRecvGetData.empty%28%29%29+return+true%3B%0A%0A++++%2F%2F+Don%27t+bother+if+send+buffer+is+too+full+to+respond+anyway%0A++++if+%28pfrom-%26gt%3BfPauseSend%29%0A++++++++return+false%3B%0A%0A++++std%3A%3Alist%26lt%3BCNetMessage%26gt%3B+msgs%3B%0A++++%7B%0A++++++++LOCK%28pfrom-%26gt%3Bcs_vProcessMsg%29%3B%0A++++++++if+%28pfrom-%26gt%3BvProcessMsg.empty%28%29%29%0A++++++++++++return+false%3B%0A++++++++%2F%2F+Just+take+one+message%0A++++++++msgs.splice%28msgs.begin%28%29%2C+pfrom-%26gt%3BvProcessMsg%2C+pfrom-%26gt%3BvProcessMsg.begin%28%29%29%3B%0A++++++++pfrom-%26gt%3BnProcessQueueSize+-%3D+msgs.front%28%29.vRecv.size%28%29+%2B+CMessageHeader%3A%3AHEADER_SIZE%3B%0A++++++++pfrom-%26gt%3BfPauseRecv+%3D+pfrom-%26gt%3BnProcessQueueSize+%26gt%3B+connman-%26gt%3BGetReceiveFloodSize%28%29%3B%0A++++++++fMoreWork+%3D+%21pfrom-%26gt%3BvProcessMsg.empty%28%29%3B%0A++++%7D%0A++++CNetMessage%26amp%3B+msg%28msgs.front%28%29%29%3B%0A%0A++++msg.SetVersion%28pfrom-%26gt%3BGetRecvVersion%28%29%29%3B%0A++++%2F%2F+Scan+for+message+start%0A++++if+%28memcmp%28msg.hdr.pchMessageStart%2C+chainparams.MessageStart%28%29%2C+CMessageHeader%3A%3AMESSAGE_START_SIZE%29+%21%3D+0%29+%7B%0A++++++++LogPrint%28BCLog%3A%3ANET%2C+%22PROCESSMESSAGE%3A+INVALID+MESSAGESTART+%25s+peer%3D%25d%5Cn%22%2C+SanitizeString%28msg.hdr.GetCommand%28%29%29%2C+pfrom-%26gt%3BGetId%28%29%29%3B%0A++++++++pfrom-%26gt%3BfDisconnect+%3D+true%3B%0A++++++++return+false%3B%0A++++%7D%0A%0A++++%2F%2F+Read+header%0A++++CMessageHeader%26amp%3B+hdr+%3D+msg.hdr%3B%0A++++if+%28%21hdr.IsValid%28chainparams.MessageStart%28%29%29%29%0A++++%7B%0A++++++++LogPrint%28BCLog%3A%3ANET%2C+%22PROCESSMESSAGE%3A+ERRORS+IN+HEADER+%25s+peer%3D%25d%5Cn%22%2C+SanitizeString%28hdr.GetCommand%28%29%29%2C+pfrom-%26gt%3BGetId%28%29%29%3B%0A++++++++return+fMoreWork%3B%0A++++%7D%0A++++std%3A%3Astring+strCommand+%3D+hdr.GetCommand%28%29%3B%0A%0A++++%2F%2F+Message+size%0A++++unsigned+int+nMessageSize+%3D+hdr.nMessageSize%3B%0A%0A++++%2F%2F+Checksum%0A++++CDataStream%26amp%3B+vRecv+%3D+msg.vRecv%3B%0A++++const+uint256%26amp%3B+hash+%3D+msg.GetMessageHash%28%29%3B%0A++++if+%28memcmp%28hash.begin%28%29%2C+hdr.pchChecksum%2C+CMessageHeader%3A%3ACHECKSUM_SIZE%29+%21%3D+0%29%0A++++%7B%0A++++++++LogPrint%28BCLog%3A%3ANET%2C+%22%25s%28%25s%2C+%25u+bytes%29%3A+CHECKSUM+ERROR+expected+%25s+was+%25s%5Cn%22%2C+__func__%2C%0A+++++++++++SanitizeString%28strCommand%29%2C+nMessageSize%2C%0A+++++++++++HexStr%28hash.begin%28%29%2C+hash.begin%28%29%2BCMessageHeader%3A%3ACHECKSUM_SIZE%29%2C%0A+++++++++++HexStr%28hdr.pchChecksum%2C+hdr.pchChecksum%2BCMessageHeader%3A%3ACHECKSUM_SIZE%29%29%3B%0A++++++++return+fMoreWork%3B%0A++++%7D%0A%0A++++%2F%2F+Process+message%0A++++bool+fRet+%3D+false%3B%0A++++try%0A++++%7B%0A++++++++fRet+%3D+ProcessMessage%28pfrom%2C+strCommand%2C+vRecv%2C+msg.nTime%2C+chainparams%2C+connman%2C+interruptMsgProc%29%3B%0A++++++++if+%28interruptMsgProc%29%0A++++++++++++return+false%3B%0A++++++++if+%28%21pfrom-%26gt%3BvRecvGetData.empty%28%29%29%0A++++++++++++fMoreWork+%3D+true%3B%0A++++%7D%0A++++catch+%28const+std%3A%3Aios_base%3A%3Afailure%26amp%3B+e%29%0A++++%7B%0A++++++++connman-%26gt%3BPushMessage%28pfrom%2C+CNetMsgMaker%28INIT_PROTO_VERSION%29.Make%28NetMsgType%3A%3AREJECT%2C+strCommand%2C+REJECT_MALFORMED%2C+std%3A%3Astring%28%22error+parsing+message%22%29%29%29%3B%0A++++++++if+%28strstr%28e.what%28%29%2C+%22end+of+data%22%29%29%0A++++++++%7B%0A++++++++++++%2F%2F+Allow+exceptions+from+under-length+message+on+vRecv%0A++++++++++++LogPrint%28BCLog%3A%3ANET%2C+%22%25s%28%25s%2C+%25u+bytes%29%3A+Exception+%27%25s%27+caught%2C+normally+caused+by+a+message+being+shorter+than+its+stated+length%5Cn%22%2C+__func__%2C+SanitizeString%28strCommand%29%2C+nMessageSize%2C+e.what%28%29%29%3B%0A++++++++%7D%0A++++++++else+if+%28strstr%28e.what%28%29%2C+%22size+too+large%22%29%29%0A++++++++%7B%0A++++++++++++%2F%2F+Allow+exceptions+from+over-long+size%0A++++++++++++LogPrint%28BCLog%3A%3ANET%2C+%22%25s%28%25s%2C+%25u+bytes%29%3A+Exception+%27%25s%27+caught%5Cn%22%2C+__func__%2C+SanitizeString%28strCommand%29%2C+nMessageSize%2C+e.what%28%29%29%3B%0A++++++++%7D%0A++++++++else+if+%28strstr%28e.what%28%29%2C+%22non-canonical+ReadCompactSize%28%29%22%29%29%0A++++++++%7B%0A++++++++++++%2F%2F+Allow+exceptions+from+non-canonical+encoding%0A++++++++++++LogPrint%28BCLog%3A%3ANET%2C+%22%25s%28%25s%2C+%25u+bytes%29%3A+Exception+%27%25s%27+caught%5Cn%22%2C+__func__%2C+SanitizeString%28strCommand%29%2C+nMessageSize%2C+e.what%28%29%29%3B%0A++++++++%7D%0A++++++++else%0A++++++++%7B%0A++++++++++++PrintExceptionContinue%28%26amp%3Be%2C+%22ProcessMessages%28%29%22%29%3B%0A++++++++%7D%0A++++%7D%0A++++catch+%28const+std%3A%3Aexception%26amp%3B+e%29+%7B%0A++++++++PrintExceptionContinue%28%26amp%3Be%2C+%22ProcessMessages%28%29%22%29%3B%0A++++%7D+catch+%28...%29+%7B%0A++++++++PrintExceptionContinue%28nullptr%2C+%22ProcessMessages%28%29%22%29%3B%0A++++%7D%0A%0A++++if+%28%21fRet%29+%7B%0A++++++++LogPrint%28BCLog%3A%3ANET%2C+%22%25s%28%25s%2C+%25u+bytes%29+FAILED+peer%3D%25d%5Cn%22%2C+__func__%2C+SanitizeString%28strCommand%29%2C+nMessageSize%2C+pfrom-%26gt%3BGetId%28%29%29%3B%0A++++%7D%0A%0A++++LOCK%28cs_main%29%3B%0A++++SendRejectsAndCheckIfBanned%28pfrom%2C+connman%29%3B%0A%0A++++return+fMoreWork%3B%0A%7D%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E4%BB%A3%E7%A0%81%E7%A8%8D%E9%95%BF%EF%BC%8C%E4%BD%86%E9%80%BB%E8%BE%91%E5%AE%9E%E9%99%85%E4%B8%8A%E6%AF%94%E8%BE%83%E6%B8%85%E6%99%B0%EF%BC%9A%E4%BB%8E%E8%8A%82%E7%82%B9%E6%B6%88%E6%81%AF%E7%BC%93%E5%86%B2%E5%8C%BA%28vProcessMsg%29%E4%B8%AD%E5%8F%96%E5%87%BA%E6%B6%88%E6%81%AF%EF%BC%8C%E7%84%B6%E5%90%8E%E8%AF%BB%E5%8F%96%E6%B6%88%E6%81%AF%E5%A4%B4%EF%BC%8C%E6%B6%88%E6%81%AF%E6%A0%A1%E9%AA%8C%E5%92%8C%EF%BC%8C%E6%B6%88%E6%81%AF%E9%95%BF%E5%BA%A6%E7%AD%89%EF%BC%8C%E5%AF%B9%E6%B6%88%E6%81%AF%E8%BF%9B%E8%A1%8C%E6%A3%80%E6%9F%A5%E5%90%8E%EF%BC%8C%E8%B0%83%E7%94%A8ProcessMessage%E6%B6%88%E6%81%AF%E5%A4%84%E7%90%86%E6%B6%88%E6%81%AF%EF%BC%9A%3Cbr%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+ProcessMessage%E9%87%8C%E6%9C%89%E8%AE%B8%E5%A4%9A%E7%9A%84if-else%E5%88%86%E6%94%AF%EF%BC%8C%E9%92%88%E5%AF%B9%E4%B8%8D%E5%90%8C%E7%9A%84%E6%B6%88%E6%81%AF%E8%B5%B0%E4%B8%8D%E5%90%8C%E7%9A%84%E5%88%86%E6%94%AF%E5%A4%84%E7%90%86%E3%80%82%E8%BF%99%E9%87%8C%E5%B0%B1%E4%B8%8D%E5%9C%A8%E5%B1%95%E5%BC%80%E4%BA%86%EF%BC%8C%E7%AD%89%E5%88%86%E6%9E%90%E5%85%B7%E4%BD%93%E7%9A%84P2P%E5%8D%8F%E8%AE%AE%E6%B6%88%E6%81%AF%E6%97%B6%E5%9C%A8%E5%9B%9E%E5%88%B0%E8%BF%99%E4%B8%AA%E5%87%BD%E6%95%B0%E9%87%8C%E6%9D%A5%E7%9C%8B%E3%80%82%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Ch3%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E3.3.5+%E8%8A%82%E7%82%B9%E4%B9%8B%E9%97%B4%E6%8F%A1%E6%89%8B%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fh3%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E5%89%8D%E6%96%87%E6%8F%90%E5%88%B0%E8%BF%87%EF%BC%8C%E5%BD%93%E4%B8%A4%E4%B8%AA%E8%8A%82%E7%82%B9%E4%B9%8B%E9%97%B4%E7%9A%84%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E5%BB%BA%E7%AB%8B%E8%B5%B7%E6%9D%A5%E4%BB%A5%E5%90%8E%EF%BC%8C%E5%B0%B1%E9%9C%80%E8%A6%81%E6%8C%89%E7%85%A7%E6%AF%94%E7%89%B9%E5%B8%81%E7%9A%84P2P%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E6%9D%A5%E8%BF%9B%E8%A1%8C%E9%80%9A%E4%BF%A1%E3%80%82%E9%A6%96%E5%85%88%E8%A6%81%E5%81%9A%E7%9A%84%E5%B0%B1%E6%98%AF%E4%B8%A4%E4%B8%AA%E8%8A%82%E7%82%B9%E9%97%B4%E7%9A%84%E6%8F%A1%E6%89%8B%E3%80%82%E4%B8%A4%E4%B8%AA%E8%8A%82%E7%82%B9%E4%B9%8B%E9%97%B4%E4%BA%92%E5%8F%91version%E6%B6%88%E6%81%AF%EF%BC%8C%E5%B9%B6%E5%90%91%E5%AF%B9%E6%96%B9%E5%9B%9E%E4%BB%A5verack%E8%BF%9B%E8%A1%8C%E7%A1%AE%E8%AE%A4%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E6%8F%A1%E6%89%8B%E6%98%AF%E5%9C%A8%E4%B8%80%E4%B8%AA%E8%8A%82%E7%82%B9%E5%88%9D%E5%A7%8B%E5%8C%96%E7%9A%84%E6%97%B6%E5%80%99%E5%87%BA%E5%8F%91%E7%9A%84%EF%BC%8C%E8%BF%98%E8%AE%B0%E5%BE%97%E5%89%8D%E6%96%87%E6%8F%90%E5%88%B0%E7%9A%84OpenNetworkConnection%E5%87%BD%E6%95%B0%E4%B9%88%EF%BC%8C%E8%BF%99%E4%B8%AA%E5%87%BD%E6%95%B0%E5%9C%A8%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E6%96%B0%E8%8A%82%E7%82%B9%E4%BB%A5%E5%90%8E%EF%BC%8C%E8%BF%98%E4%BC%9A%E5%AF%B9%E8%8A%82%E7%82%B9%E8%BF%9B%E8%A1%8C%E5%88%9D%E5%A7%8B%E5%8C%96%EF%BC%9A%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Bm_msgproc-%26gt%3BInitializeNode%28pnode%29%3B%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E6%8F%A1%E6%89%8B%E6%B6%88%E6%81%AFversion%E5%B0%B1%E6%98%AF%E5%9C%A8%E8%BF%99%E9%87%8C%E5%8F%91%E9%80%81%E5%87%BA%E5%8E%BB%E7%9A%84%EF%BC%9A%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3Evoid+PeerLogicValidation%3A%3AInitializeNode%28CNode+*pnode%29+%7B%0A++++CAddress+addr+%3D+pnode-%26gt%3Baddr%3B%0A++++std%3A%3Astring+addrName+%3D+pnode-%26gt%3BGetAddrName%28%29%3B%0A++++NodeId+nodeid+%3D+pnode-%26gt%3BGetId%28%29%3B%0A++++%7B%0A++++++++LOCK%28cs_main%29%3B%0A++++++++mapNodeState.emplace_hint%28mapNodeState.end%28%29%2C+std%3A%3Apiecewise_construct%2C+std%3A%3Aforward_as_tuple%28nodeid%29%2C+std%3A%3Aforward_as_tuple%28addr%2C+std%3A%3Amove%28addrName%29%29%29%3B%0A++++%7D%0A++++if%28%21pnode-%26gt%3BfInbound%29%0A++++++++PushNodeVersion%28pnode%2C+connman%2C+GetTime%28%29%29%3B%0A%7D%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+PushNodeVersion%E5%B0%86%E5%90%91peer%E5%8F%91%E9%80%81version%E6%B6%88%E6%81%AF%EF%BC%9A%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3Estatic+void+PushNodeVersion%28CNode+*pnode%2C+CConnman*+connman%2C+int64_t+nTime%29%0A%7B%0A++++ServiceFlags+nLocalNodeServices+%3D+pnode-%26gt%3BGetLocalServices%28%29%3B%0A++++uint64_t+nonce+%3D+pnode-%26gt%3BGetLocalNonce%28%29%3B%0A++++int+nNodeStartingHeight+%3D+pnode-%26gt%3BGetMyStartingHeight%28%29%3B%0A++++NodeId+nodeid+%3D+pnode-%26gt%3BGetId%28%29%3B%0A++++CAddress+addr+%3D+pnode-%26gt%3Baddr%3B%0A%0A++++CAddress+addrYou+%3D+%28addr.IsRoutable%28%29+%26amp%3B%26amp%3B+%21IsProxy%28addr%29+%3F+addr+%3A+CAddress%28CService%28%29%2C+addr.nServices%29%29%3B%0A++++CAddress+addrMe+%3D+CAddress%28CService%28%29%2C+nLocalNodeServices%29%3B%0A%0A++++connman-%26gt%3BPushMessage%28pnode%2C+CNetMsgMaker%28INIT_PROTO_VERSION%29.Make%28NetMsgType%3A%3AVERSION%2C+PROTOCOL_VERSION%2C+%28uint64_t%29nLocalNodeServices%2C+nTime%2C+addrYou%2C+addrMe%2C%0A++++++++++++nonce%2C+strSubVersion%2C+nNodeStartingHeight%2C+%3A%3AfRelayTxes%29%29%3B%0A%0A++++if+%28fLogIPs%29+%7B%0A++++++++LogPrint%28BCLog%3A%3ANET%2C+%22send+version+message%3A+version+%25d%2C+blocks%3D%25d%2C+us%3D%25s%2C+them%3D%25s%2C+peer%3D%25d%5Cn%22%2C+PROTOCOL_VERSION%2C+nNodeStartingHeight%2C+addrMe.ToString%28%29%2C+addrYou.ToString%28%29%2C+nodeid%29%3B%0A++++%7D+else+%7B%0A++++++++LogPrint%28BCLog%3A%3ANET%2C+%22send+version+message%3A+version+%25d%2C+blocks%3D%25d%2C+us%3D%25s%2C+peer%3D%25d%5Cn%22%2C+PROTOCOL_VERSION%2C+nNodeStartingHeight%2C+addrMe.ToString%28%29%2C+nodeid%29%3B%0A++++%7D%0A%7D%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%26nbsp%3B+%26nbsp%3B+%E7%BB%93%E5%90%88%E5%89%8D%E6%96%87%E6%8F%8F%E8%BF%B0%E7%9A%84version%E6%B6%88%E6%81%AF%EF%BC%8C%E4%B8%8A%E9%9D%A2%E8%BF%99%E6%AE%B5%E4%BB%A3%E7%A0%81%E5%B0%B1%E5%BE%88%E5%AE%B9%E6%98%93%E7%90%86%E8%A7%A3%E4%BA%86%E3%80%82version%E6%B6%88%E6%81%AF%E5%B0%86%E6%9C%AC%E8%8A%82%E7%82%B9%E7%9A%84nLocalService%EF%BC%8CaddrMe%EF%BC%8CaddrYou%EF%BC%8C%E5%BD%93%E5%89%8D%E8%8A%82%E7%82%B9%E7%9A%84%E5%8C%BA%E5%9D%97%E9%93%BE%E9%AB%98%E5%BA%A6%E7%AD%89%E4%BF%A1%E6%81%AF%E5%8F%91%E9%80%81%E7%BB%99peer%E3%80%82%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E4%B9%8B%E5%90%8E%E5%B0%B1%E6%98%AF%E7%AD%89%E5%BE%85peer%E5%9B%9E%E4%BB%A5verack%E7%9A%84%E7%A1%AE%E8%AE%A4%E6%B6%88%E6%81%AF%E7%9A%84%E5%A4%84%E7%90%86%E4%BA%86%E3%80%82%E6%A0%B9%E6%8D%AE%E5%89%8D%E6%96%87%E7%9A%84%E5%88%86%E6%9E%90%EF%BC%8C%E5%BD%93%E8%8A%82%E7%82%B9%E6%94%B6%E5%88%B0peer%E7%9A%84%E6%B6%88%E6%81%AF%E5%90%8E%EF%BC%8Cselect%E5%87%BD%E6%95%B0%E5%B0%86%E8%BF%94%E5%9B%9E%EF%BC%8C%E5%A5%97%E6%8E%A5%E5%AD%97%E5%9C%A8%E5%8F%AF%E8%AF%BB%E6%8F%8F%E8%BF%B0%E7%AC%A6%E9%9B%86%E5%90%88%E4%B8%AD%E5%B0%86%E8%A2%AB%E7%BD%AE%E4%BD%8D%EF%BC%8C%E7%84%B6%E5%90%8E%E4%BB%8E%E5%A5%97%E6%8E%A5%E5%AD%97%E9%87%8C%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%8C%E6%95%B0%E6%8D%AE%E6%9C%80%E7%BB%88%E5%9C%A8PeerLogicValidation%3A%3AProcessMessage%E5%87%BD%E6%95%B0%E8%A2%AB%E6%B6%88%E8%B4%B9%E6%8E%89%EF%BC%8C%E6%9D%A5%E7%9C%8B%E7%9C%8B%E4%B8%80%E4%B8%AA%E8%8A%82%E7%82%B9%E6%94%B6%E5%88%B0version%E6%B6%88%E6%81%AF%E6%97%B6%E6%98%AF%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%E7%9A%84%EF%BC%9A%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cpre%3E%3Ccode+class%3D%22language-cpp%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3Belse+if+%28strCommand+%3D%3D+NetMsgType%3A%3AVERSION%29%0A++++%7B%0A++++++++%2F%2F+Each+connection+can+only+send+one+version+message%0A++++++++if+%28pfrom-%26gt%3BnVersion+%21%3D+0%29%0A++++++++%7B%0A++++++++++++connman-%26gt%3BPushMessage%28pfrom%2C+CNetMsgMaker%28INIT_PROTO_VERSION%29.Make%28NetMsgType%3A%3AREJECT%2C+strCommand%2C+REJECT_DUPLICATE%2C+std%3A%3Astring%28%22Duplicate+version+message%22%29%29%29%3B%0A++++++++++++LOCK%28cs_main%29%3B%0A++++++++++++Misbehaving%28pfrom-%26gt%3BGetId%28%29%2C+1%29%3B%0A++++++++++++return+false%3B%0A++++++++%7D%0A%0A++++++++int64_t+nTime%3B%0A++++++++CAddress+addrMe%3B%0A++++++++CAddress+addrFrom%3B%0A++++++++uint64_t+nNonce+%3D+1%3B%0A++++++++uint64_t+nServiceInt%3B%0A++++++++ServiceFlags+nServices%3B%0A++++++++int+nVersion%3B%0A++++++++int+nSendVersion%3B%0A++++++++std%3A%3Astring+strSubVer%3B%0A++++++++std%3A%3Astring+cleanSubVer%3B%0A++++++++int+nStartingHeight+%3D+-1%3B%0A++++++++bool+fRelay+%3D+true%3B%0A%0A++++++++vRecv+%26gt%3B%26gt%3B+nVersion+%26gt%3B%26gt%3B+nServiceInt+%26gt%3B%26gt%3B+nTime+%26gt%3B%26gt%3B+addrMe%3B%0A++++++++nSendVersion+%3D+std%3A%3Amin%28nVersion%2C+PROTOCOL_VERSION%29%3B%0A++++++++nServices+%3D+ServiceFlags%28nServiceInt%29%3B%0A++++++++if+%28%21pfrom-%26gt%3BfInbound%29%0A++++++++%7B%0A++++++++++++connman-%26gt%3BSetServices%28pfrom-%26gt%3Baddr%2C+nServices%29%3B%0A++++++++%7D%0A++++++++if+%28%21pfrom-%26gt%3BfInbound+%26amp%3B%26amp%3B+%21pfrom-%26gt%3BfFeeler+%26amp%3B%26amp%3B+%21pfrom-%26gt%3Bm_manual_connection+%26amp%3B%26amp%3B+%21HasAllDesirableServiceFlags%28nServices%29%29%0A++++++++%7B%0A++++++++++++LogPrint%28BCLog%3A%3ANET%2C+%22peer%3D%25d+does+not+offer+the+expected+services+%28%2508x+offered%2C+%2508x+expected%29%3B+disconnecting%5Cn%22%2C+pfrom-%26gt%3BGetId%28%29%2C+nServices%2C+GetDesirableServiceFlags%28nServices%29%29%3B%0A++++++++++++connman-%26gt%3BPushMessage%28pfrom%2C+CNetMsgMaker%28INIT_PROTO_VERSION%29.Make%28NetMsgType%3A%3AREJECT%2C+strCommand%2C+REJECT_NONSTANDARD%2C%0A+++++++++++++++++++++++++++++++strprintf%28%22Expected+to+offer+services+%2508x%22%2C+GetDesirableServiceFlags%28nServices%29%29%29%29%3B%0A++++++++++++pfrom-%26gt%3BfDisconnect+%3D+true%3B%0A++++++++++++return+false%3B%0A++++++++%7D%0A%0A++++++++if+%28nServices+%26amp%3B+%28%281+%26lt%3B%26lt%3B+7%29+%7C+%281+%26lt%3B%26lt%3B+5%29%29%29+%7B%0A++++++++++++if+%28GetTime%28%29+%26lt%3B+1533096000%29+%7B%0A++++++++++++++++%2F%2F+Immediately+disconnect+peers+that+use+service+bits+6+or+8+until+August+1st%2C+2018%0A++++++++++++++++%2F%2F+These+bits+have+been+used+as+a+flag+to+indicate+that+a+node+is+running+incompatible%0A++++++++++++++++%2F%2F+consensus+rules+instead+of+changing+the+network+magic%2C+so+we%27re+stuck+disconnecting%0A++++++++++++++++%2F%2F+based+on+these+service+bits%2C+at+least+for+a+while.%0A++++++++++++++++pfrom-%26gt%3BfDisconnect+%3D+true%3B%0A++++++++++++++++return+false%3B%0A++++++++++++%7D%0A++++++++%7D%0A%0A++++++++if+%28nVersion+%26lt%3B+MIN_PEER_PROTO_VERSION%29%0A++++++++%7B%0A++++++++++++%2F%2F+disconnect+from+peers+older+than+this+proto+version%0A++++++++++++LogPrint%28BCLog%3A%3ANET%2C+%22peer%3D%25d+using+obsolete+version+%25i%3B+disconnecting%5Cn%22%2C+pfrom-%26gt%3BGetId%28%29%2C+nVersion%29%3B%0A++++++++++++connman-%26gt%3BPushMessage%28pfrom%2C+CNetMsgMaker%28INIT_PROTO_VERSION%29.Make%28NetMsgType%3A%3AREJECT%2C+strCommand%2C+REJECT_OBSOLETE%2C%0A+++++++++++++++++++++++++++++++strprintf%28%22Version+must+be+%25d+or+greater%22%2C+MIN_PEER_PROTO_VERSION%29%29%29%3B%0A++++++++++++pfrom-%26gt%3BfDisconnect+%3D+true%3B%0A++++++++++++return+false%3B%0A++++++++%7D%0A%0A++++++++if+%28nVersion+%3D%3D+10300%29%0A++++++++++++nVersion+%3D+300%3B%0A++++++++if+%28%21vRecv.empty%28%29%29%0A++++++++++++vRecv+%26gt%3B%26gt%3B+addrFrom+%26gt%3B%26gt%3B+nNonce%3B%0A++++++++if+%28%21vRecv.empty%28%29%29+%7B%0A++++++++++++vRecv+%26gt%3B%26gt%3B+LIMITED_STRING%28strSubVer%2C+MAX_SUBVERSION_LENGTH%29%3B%0A++++++++++++cleanSubVer+%3D+SanitizeString%28strSubVer%29%3B%0A++++++++%7D%0A++++++++if+%28%21vRecv.empty%28%29%29+%7B%0A++++++++++++vRecv+%26gt%3B%26gt%3B+nStartingHeight%3B%0A++++++++%7D%0A++++++++if+%28%21vRecv.empty%28%29%29%0A++++++++++++vRecv+%26gt%3B%26gt%3B+fRelay%3B%0A++++++++%2F%2F+Disconnect+if+we+connected+to+ourself%0A++++++++if+%28pfrom-%26gt%3BfInbound+%26amp%3B%26amp%3B+%21connman-%26gt%3BCheckIncomingNonce%28nNonce%29%29%0A++++++++%7B%0A++++++++++++LogPrintf%28%22connected+to+self+at+%25s%2C+disconnecting%5Cn%22%2C+pfrom-%26gt%3Baddr.ToString%28%29%29%3B%0A++++++++++++pfrom-%26gt%3BfDisconnect+%3D+true%3B%0A++++++++++++return+true%3B%0A++++++++%7D%0A%0A++++++++if+%28pfrom-%26gt%3BfInbound+%26amp%3B%26amp%3B+addrMe.IsRoutable%28%29%29%0A++++++++%7B%0A++++++++++++SeenLocal%28addrMe%29%3B%0A++++++++%7D%0A%0A++++++++%2F%2F+Be+shy+and+don%27t+send+version+until+we+hear%0A++++++++if+%28pfrom-%26gt%3BfInbound%29%0A++++++++++++PushNodeVersion%28pfrom%2C+connman%2C+GetAdjustedTime%28%29%29%3B%0A%0A++++++++%3Cspan+style%3D%22color%3A%23009900%3B%22%3Econnman-%26gt%3BPushMessage%28pfrom%2C+CNetMsgMaker%28INIT_PROTO_VERSION%29.Make%28NetMsgType%3A%3AVERACK%29%29%3B%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fpre%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E4%B8%BB%E8%A6%81%E6%98%AF%E5%AF%B9%E6%8E%A5%E6%94%B6%E5%88%B0%E7%9A%84%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8C%E5%90%88%E6%B3%95%E6%80%A7%E6%A3%80%E6%9F%A5%EF%BC%8C%E6%B2%A1%E9%97%AE%E9%A2%98%E4%BA%86%E5%8F%91%E9%80%81verack%E8%BF%9B%E8%A1%8C%E7%A1%AE%E8%AE%A4%E3%80%82%E5%AF%B9%E4%BA%8Everack%E7%9A%84%E5%A4%84%E7%90%86%E6%AD%A4%E5%A4%84%E5%B0%B1%E4%B8%8D%E5%9C%A8%E5%B1%95%E5%BC%80%EF%BC%8C%E5%8F%AF%E4%BB%A5%E8%87%AA%E8%A1%8C%E5%9C%A8ProcessMessage%E5%87%BD%E6%95%B0%E4%B8%AD%E5%8E%BB%E6%9F%A5%E7%9C%8B%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Ch3%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E3.3.6+%E6%97%B6%E5%BA%8F%E5%9B%BE%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fh3%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E7%AD%BE%E5%90%8D%E6%B4%8B%E6%B4%8B%E6%B4%92%E6%B4%92%E4%B8%80%E5%A4%A7%E5%A0%86%EF%BC%8C%E5%BE%88%E5%A4%9A%E8%AF%BB%E8%80%85%E5%8F%AF%E8%83%BD%E8%BF%98%E6%98%AF%E6%9C%89%E7%82%B9%E4%BA%91%E9%87%8C%E9%9B%BE%E9%87%8C%E7%9A%84%E6%84%9F%E8%A7%89%EF%BC%8C%E8%BF%99%E9%87%8C%E5%86%8D%E7%94%A8%E6%97%B6%E5%BA%8F%E5%9B%BE%E6%9D%A5%E5%AF%B9%E4%B8%8A%E9%9D%A2%E7%9A%84%E8%BF%87%E7%A8%8B%E5%81%9A%E4%B8%80%E4%B8%AA%E8%A1%A5%E5%85%85%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%281%29+%E6%AF%94%E7%89%B9%E5%B8%81P2P%E7%BD%91%E7%BB%9C%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdn.net%2F20180514095054322%22+alt%3D%22%22%3E%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%282%29+%E8%BF%9E%E6%8E%A5%E5%88%B0peer%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdn.net%2F20180514102751527%22+alt%3D%22%22%3E%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Ch1%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E4+%E5%B0%8F%E7%BB%93%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fh1%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E6%9C%AC%E6%96%87%E5%88%86%E6%9E%90%E4%BA%86%E6%AF%94%E7%89%B9%E5%B8%81P2P%E7%BD%91%E7%BB%9C%E7%9A%84%E8%8A%82%E7%82%B9%E5%8F%91%E7%8E%B0%E5%8E%9F%E7%90%86%E3%80%81%E8%8A%82%E7%82%B9%E4%B9%8B%E9%97%B4%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%8D%8F%E8%AE%AE%E4%BB%A5%E5%8F%8A%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E3%80%81%E8%8A%82%E7%82%B9%E9%97%B4%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E7%9A%84%E6%BA%90%E7%A0%81%E5%AE%9E%E7%8E%B0%E3%80%82%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E6%9C%AC%E8%B4%A8%E6%98%AF%E5%BB%BA%E7%AB%8B%E5%9C%A8P2P%E7%BD%91%E7%BB%9C%E4%B8%8A%E7%9A%84%E4%B8%80%E4%B8%AA%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%8C%E7%BD%91%E7%BB%9C%E4%B8%8A%E7%9A%84%E8%8A%82%E7%82%B9%E9%80%9A%E8%BF%87Pow%E5%B7%A5%E4%BD%9C%E9%87%8F%E8%AF%81%E6%98%8E%E6%88%96Pos%E6%9D%83%E7%9B%8A%E8%AF%81%E6%98%8E%E7%AD%89%E7%AE%97%E6%B3%95%E8%BE%BE%E6%88%90%E5%85%B1%E8%AF%86%E3%80%82%E6%89%80%E4%BB%A5P2P%E7%BD%91%E7%BB%9C%E4%BB%A5%E5%8F%8A%E5%85%B6%E5%85%B1%E8%AF%86%E7%AE%97%E6%B3%95%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%81%9A%E6%98%AF%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E5%9F%BA%E7%9F%B3%EF%BC%8C%E6%89%80%E4%BB%A5%E4%BA%86%E8%A7%A3%E6%AF%94%E7%89%B9%E5%B8%81%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84P2P%E7%BD%91%E7%BB%9C%E8%8A%82%E7%82%B9%E5%8F%91%E7%8E%B0%E4%BB%A5%E5%8F%8A%E4%BA%92%E8%81%94%E4%BA%92%E9%80%9A%E7%9A%84%E5%8E%9F%E7%90%86%E5%92%8C%E5%AE%9E%E7%8E%B0%E5%AF%B9%E5%AD%A6%E4%B9%A0%E5%8C%BA%E5%9D%97%E9%93%BE%E6%9D%A5%E8%AF%B4%E9%9D%9E%E5%B8%B8%E9%87%8D%E8%A6%81%EF%BC%8C%E5%90%8C%E6%97%B6%E5%AF%B9%E4%BA%8E%E5%83%8F%E4%BD%9C%E8%80%85%E8%BF%99%E6%A0%B7%E7%9A%84%E6%96%B0%E6%89%8B%E6%9D%A5%E8%AF%B4%EF%BC%8C%E4%B9%9F%E6%98%AF%E8%BF%9B%E5%85%A5%E5%8C%BA%E5%9D%97%E9%93%BE%E5%AD%A6%E4%B9%A0%E7%9A%84%E4%B8%80%E4%B8%AA%E4%B8%8D%E9%94%99%E7%9A%84%E5%88%87%E5%85%A5%E7%82%B9%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+%E6%9C%AC%E6%96%87%E5%8F%AA%E6%98%AF%E5%88%86%E6%9E%90%E4%BA%86%E8%8A%82%E7%82%B9%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%9E%E6%8E%A5%E5%88%B0%E5%8F%91%E7%8E%B0%E7%9A%84%E7%9B%B8%E9%82%BB%E8%8A%82%E7%82%B9%E4%B8%8A%EF%BC%88%E5%AF%B9%E5%A4%96%EF%BC%89%EF%BC%8C%E4%BD%9C%E4%B8%BAP2P%E7%BD%91%E7%BB%9C%EF%BC%8C%E8%87%AA%E5%B7%B1%E7%9A%84%E8%8A%82%E7%82%B9%E5%BD%93%E7%84%B6%E4%B9%9F%E5%8F%AF%E4%BB%A5%E4%BD%9C%E4%B8%BA%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AApeer%E4%B8%BA%E5%85%B6%E4%BB%96%E8%8A%82%E7%82%B9%E6%9C%8D%E5%8A%A1%E3%80%82%E4%B8%8B%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0%E6%88%91%E4%BB%AC%E5%B0%86%E5%88%86%E6%9E%90%E4%B8%80%E4%B8%8B%E6%AF%94%E7%89%B9%E5%B8%81%E5%8C%BA%E5%9D%97%E9%93%BE%E6%98%AF%E5%A6%82%E4%BD%95%E9%80%9A%E8%BF%87minipunp%E5%AE%9E%E7%8E%B0%E7%AB%AF%E5%8F%A3%E6%98%A0%E5%B0%84%EF%BC%8C%E8%AE%A9%E7%BD%91%E7%BB%9C%E4%B8%AD%E7%9A%84%E5%85%B6%E4%BB%96%E8%8A%82%E7%82%B9%E8%BF%9E%E6%8E%A5%E5%88%B0%E8%87%AA%E5%B7%B1%E3%80%82%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0%E3%80%8A%E7%B2%BE%E9%80%9A%E6%AF%94%E7%89%B9%E5%B8%81%E3%80%8B%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B+%26nbsp%3B+----+%E6%9C%AC%E6%96%87%E4%B8%BA%E5%8E%9F%E5%88%9B%E6%96%87%E7%AB%A0%EF%BC%8C%E8%BD%AC%E8%BD%BD%E8%AF%B7%E8%AE%B0%E5%BE%97%E6%B3%A8%E6%98%8E%E5%87%BA%E5%A4%84%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B%26nbsp%3B%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E%0A++%3Cp%3E%3Cspan+style%3D%22font-family%3ASimSun%3B%22%3E%3Cspan+style%3D%22color%3Argb%2851%2C51%2C51%29%3Bfont-family%3A%27%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91%27%3Bletter-spacing%3A.2px%3Bline-height%3A27.2px%3Bbackground-color%3Argb%28255%2C255%2C255%29%3B%22%3E%3Cbr%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fp%3E+%0A+%3C%2Fdiv%3E+%0A%3C%2Fdiv%3E+%0A%3Cdiv+class%3D%22hide-article-box+text-center%22%3E+%0A+%3Ca+class%3D%22btn%22+id%3D%22btn-readmore%22+data-track-view%3D%22%7B%26quot%3Bmod%26quot%3B%3A%26quot%3Bpopu_376%26quot%3B%2C%26quot%3Bcon%26quot%3B%3A%26quot%3B%2Chttps%3A%2F%2Fblog.csdn.net%2Fztemt_sw2%2Farticle%2Fdetails%2F80291705%2C%26quot%3B%7D%22+data-track-click%3D%22%7B%26quot%3Bmod%26quot%3B%3A%26quot%3Bpopu_376%26quot%3B%2C%26quot%3Bcon%26quot%3B%3A%26quot%3B%2Chttps%3A%2F%2Fblog.csdn.net%2Fztemt_sw2%2Farticle%2Fdetails%2F80291705%2C%26quot%3B%7D%22%3E%E9%98%85%E8%AF%BB%E6%9B%B4%E5%A4%9A%3C%2Fa%3E+%0A+%3C%21--+%3Ca+class%3D%22btn%22+href%3D%22https%3A%2F%2Fpassport.csdn.net%2Faccount%2Flogin%3Futm_source%3Dcsdn_blog_pc_more_login%22+target%3D%22_self%22+id%3D%22btn-lobinreadmore%22+data-track-view%3D%27%7B%22mod%22%3A%22popu_557%22%2C%22con%22%3A%22%2Chttps%3A%2F%2Fblog.csdn.net%2Fztemt_sw2%2Farticle%2Fdetails%2F80291705%2C%22%7D%27+data-track-click%3D%27%7B%22mod%22%3A%22popu_557%22%2C%22con%22%3A%22%2Chttps%3A%2F%2Fblog.csdn.net%2Fztemt_sw2%2Farticle%2Fdetails%2F80291705%2C%22%7D%27%3E%E7%99%BB%E5%BD%95%E5%90%8E%E8%87%AA%E5%8A%A8%E5%B1%95%E5%BC%80%3C%2Fa%3E+--%3E+%0A%3C%2Fdiv%3E" | url_decode}}