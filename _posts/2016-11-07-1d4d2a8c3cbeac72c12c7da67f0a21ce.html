---
layout: default
title: 如何在QT环境中使用openCV
---

{{ "%3Cdiv+id%3D%22article_content%22+class%3D%22article_content+clearfix+csdn-tracking-statistics%22+data-pid%3D%22blog%22+data-mod%3D%22popu_307%22+data-dsm%3D%22post%22%3E+%0A+%3Clink+rel%3D%22stylesheet%22+href%3D%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fphoenix%2Ftemplate%2Fcss%2Fck_htmledit_views-e2445db1a8.css%22%3E+%0A+%3Cdiv+class%3D%22htmledit_views%22%3E+%0A++%3Cp%3E%3Cstrong%3E1+Download%3C%2Fstrong%3E%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B+QT%3Ahttp%3A%2F%2Fqt-project.org%2Fdownloads%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B+openCV%3Ahttp%3A%2F%2Fopencv.willowgarage.com%2Fwiki%2F%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B+CMkae%3Acmake.org%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%3C%2Fp%3E+%0A++%3Cp%3E%3Cstrong%3E2+Installations%3C%2Fstrong%3E%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B+Install+Qt+%28This+will+take+quite+a+while%29.%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B+Run+the+openCV+exe+which+will+extract+all+thefiles+you+need.+As+stated%26nbsp%3B%26nbsp%3B+earlier%2C+Iused+C%3A%5Csoftware%5Copencv-win+as+the+location+to+where+to+extract%26nbsp%3B%26nbsp%3B+them.%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B+Install+CMake.+Make+sure+to+select+%22AddCMake+to+system+path+for+all%26nbsp%3B%26nbsp%3Busers%22+%28or+similar%29.%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B+Add+C%3A%5Csoftware%5Cqt%5C5.0.1%5Cmingw47_32%5Cbin+%26nbsp%3Band+c%3A%5Csoftware%5C5.0.1%5Ctools%5Cmingw48_32%5Cbin+%28orequivalent%29+to+path+in+System%26nbsp%3B%26nbsp%3B+variables%28How+to+do+this+is+described+in+the+guide+I+linked+in+the%26nbsp%3B%26nbsp%3B+beginning.%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B+RESTART+COMPUTER.%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%3C%2Fp%3E+%0A++%3Cp%3E%3Cstrong%3E3+Compiling+OpenCV%3C%2Fstrong%3E%3C%2Fp%3E+%0A++%3Cp%3EOnceCMake+installed%2C+you+can+start+the+gui-based+application+%28%3Ccode%3Ecmake-gui%3C%2Fcode%3E%29%3C%2Fp%3E+%0A++%3Cp%3E%3Cstrong%3E%3C%2Fstrong%3E%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B+Under+%22Where+is+the+source+code%3A%22You+browse+to+where+you%26nbsp%3B%26nbsp%3B+unzipped+opencv%28in+my+case+C%3A%5Csoftware%5Copencv-win%28%E4%B9%9F%E5%B0%B1%E6%98%AF%E6%8F%90%E5%8F%96opencv%E7%9A%84%E8%B7%AF%E5%BE%84%EF%BC%8C%E8%BF%99%E9%87%8C%E8%A6%81%E7%89%B9%E5%88%AB%E8%AF%B4%E6%98%8E%E4%B8%80%E4%B8%8B%EF%BC%8C%E6%89%80%E9%80%89%E7%9A%84%E8%B7%AF%E5%BE%84%E5%BF%85%E9%A1%BB%E6%98%AF%E5%8C%85%E5%90%ABCMakeLists.txt%E8%BF%99%E4%B8%AA%E6%96%87%E4%BB%B6%E7%9A%84%29%29%2C+and+in+%22Where+to%26nbsp%3B%26nbsp%3Bbuild+the+binaries%22%2C+you+enter+where+you+want+the+finishedlibraries+%28I%26nbsp%3B%26nbsp%3B+usedc%3A%5Csoftware%5CopencvMinGW%29%2C+then+click+generate+and+create+directory.%26nbsp%3B%26nbsp%3B+At+the+popup+window%2C+you+choose+%22MinGWmakefiles%22+and+%22Specify+native%26nbsp%3B%26nbsp%3Bcompilers%22.+At+C%2C+for+me+the+path+became%26nbsp%3B%26nbsp%3B+%22C%3A%2Fsoftware%2Fqt%2FTools%2FMinGW%2Fbin%2Fgcc.exe%22%2Cand+for+C%2B%2B%26nbsp%3B%26nbsp%3B%22C%3A%2Fsoftware%2Fqt%2FTools%2FMinGW%2Fbin%2Fg%2B%2B.exe%22%2C+you+enter+accordinglywhere+you%26nbsp%3B%26nbsp%3B+installed+Qt.%3C%2Fp%3E+%0A++%3Cp%3EPress+configure.%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%3C%2Fp%3E+%0A++%3Cp%3EThis+is+wherethings+got+funky+for+me.+I+got+an+error+saying%3A%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%3C%2Fp%3E+%0A++%3Cp%3E%22CMakeError%3A+CMake+was+unable+to+find+a+build+program+corresponding+to+%22MinGWMakefiles%22.+CMAKE_MAKE_PROGRAM+is+not+set.+You+probably+need+to+select+adifferent+build+tool.+CMake+Error%3A+CMake+was+unable+to+find+a+build+programcorresponding+to+%22MinGW+Makefiles%22.+CMAKE_MAKE_PROGRAM+is+not+set.You+probably+need+to+select+a+different+build+tool.+CMake+Error%3A+Error+requiredinternal+CMake+variable+not+set%2C+cmake+may+be+not+be+built+correctly.+Missingvariable+is%3A+CMAKE_CXX_COMPILER_ENV_VAR+CMake+Error%3A+Could+not+find+cmakemodule+file%3AC%3A%2Fsoftware%2FopencvMinGWblah%2FCMakeFiles%2F2.8.10.2%2FCMakeCXXCompiler.cmakeCMake+Error%3A+Error+required+internal+CMake+variable+not+set%2C+cmake+may+be+notbe+built+correctly.+Missing+variable+is%3A+CMAKE_C_COMPILER_ENV_VAR+CMake+Error%3ACould+not+find+cmake+module+file%3AC%3A%2Fsoftware%2FopencvMinGWblah%2FCMakeFiles%2F2.8.10.2%2FCMakeCCompiler.cmakeConfiguring+incomplete%2C+errors+occurred%21%22%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%3C%2Fp%3E+%0A++%3Cp%3EI+suspected+thishad+to+do+with+the+make-program.+Duh.+But+how+to+fix+it%3F%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%3C%2Fp%3E+%0A++%3Cp%3EI+resolved+it+bychecking+the+%22Advanced%22+button%2C+finding+the+entry+CMAKE_MAKE_PROGRAMand+specifying+the+path%22C%3A%2Fsoftware%2Fqt%2FTools%2FMinGW%2Fbin%2Fmingw32-make.exe%22%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%3C%2Fp%3E+%0A++%3Cp%3EAll+is+well+thatends+well.+Or+is+it%3F%3C%2Fp%3E+%0A++%3Cp%3ECheck+the%22Grouped%22+button%2C+open+the+WITH+category%2C+check+%22WITH_QT%22.Press+configure.+Another+chunk+of+errors%3A%3C%2Fp%3E+%0A++%3Cp%3ECMake+Warning+atC%3A%2Fsoftware%2FCMake+2.8%2Fshare%2Fcmake-2.8%2FModules%2FFindQt4.cmake%3A615+%28message%29%3AC%3A%2Fsoftware%2Fqt%2F5.0.1%2Fmingw47_32%2Fbin%2Fqmake.exe+reported+QT_INSTALL_LIBS+as%22C%3A%2Fsoftware%2Fqt%2F5.0.1%2Fmingw47_32%2Flib%22+but+QtCore+could+not+be+foundthere.+Qt+is+NOT+installed+correctly+for+the+target+build+environment.+CallStack+%28most+recent+call+first%29%3A%3C%2Fp%3E+%0A++%3Cp%3Ecmake%2FOpenCVFindLibsGUI.cmake%3A8%28find_package%29+CMakeLists.txt%3A377+%28include%29%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%3C%2Fp%3E+%0A++%3Cp%3ESo%2C+as+one+mightsuspect+from+the+error+message%2C+the+program+can%27t+find+the+libraries.+Iremedied+this+as+follows.+Expand+the+categori+QT%2C+find+the+valueQT_QTCORE_LIBRARY_DEBUG%2C+enter%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%3C%2Fp%3E+%0A++%3Cp%3E%22C%3A%2Fsoftware%2Fqt%2F5.0.1%2Fmingw47_32%2Fbin%2FQt5Cored.dll%22and+just+below+it+you%27ll+find+QT_QTCORE_LIBRARY_RELEASE%2C+enter%22C%3A%2Fsoftware%2Fqt%2F5.0.1%2Fmingw47_32%2Fbin%2FQt5Core.dll%22+NOW%2C+you+can+pressconfigure+%28hopefully%29+witho0ut+warnings+and+after+that+you+can+press+Generateand+everything+will+be+dandy+and+you+can+follow+the+cookbook+tutorial.%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%3C%2Fp%3E+%0A++%3Cp%3ENow+that+you+have+completed+theinstallation%2C+you+are+ready+to+compile+the+OpenCV+library.+Start+the+Windowscmd+console+and+go+to+the+directory+where+you+installed+your+builds.+Typemingw32-make+%3C%2Fp%3E+%0A++%3Cp%3ENOTICE%28+the+OpenCV-2.3.1+is+the%26nbsp%3B+directory+Where+%26nbsp%3Bto%26nbsp%3B%26nbsp%3Bbuild+the+binaries+in+the+CMAKE+GUI%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E7%9B%B8%E5%BD%93%E4%BA%8Ec%3A%5Csoftware%5CopencvMinGW%29%3C%2Fp%3E+%0A++%3Cp+align%3D%22center%22%3E%3C%2Fp%3E+%0A++%3Cp%3EBuilding+everything+will+take+time%E2%80%A6..%3C%2Fp%3E+%0A++%3Cp%3E%3C%2Fp%3E+%0A++%3Cp%3EOnce+this+built+completed%2C+you+type+%3Ccode%3Emingw32-make+install%3C%2Fcode%3E%3C%2Fp%3E+%0A++%3Cp%3E%3C%2Fp%3E+%0A++%3Cp%3EThis+last+step+will+install+the+library+and+the+include+files+inthe+%3Ccode%3Einstall%3C%2Fcode%3E+directory.+Note+that+for+clarity%2C+you+can+rename+this+directoryas+%3Ccode%3Erelease%3C%2Fcode%3E+since+you+ask+CMake+to+build+a+Release+install.%3C%2Fp%3E+%0A++%3Cp%3E%3C%2Fp%3E+%0A++%3Cp%3EBefore+we+build+our+first+OpenCV+project%2C+we+need+to+add+a+fewmore+folders+to+the+%3Ccode%3EPath%3C%2Fcode%3E+environment+variable.+First%2Cyou+need+to+tell+your+system+where+to+find+the+OpenCV+dlls.+From+ourinstallation+process%2C+they+are+in+%3Ccode%3EC%3A%5COpenCV-2.3.1%5Cinstall%5Cbin%3C%2Fcode%3E.%3C%2Fp%3E+%0A++%3Cp+style%3D%22background%3A%23C0C4DC%3B%22%3E%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%3C%2Fp%3E+%0A++%3Cp%3EBtw%2C+these+arethe+additional+path+variables+I+added+to+System+Variables.+I+dunno%2C+maybe+acouple+of+them+are+unneccesary+but+I%27m+not+about+to+start+messing+with+themwhen+everything+finally+works.%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%3C%2Fp%3E+%0A++%3Cp%3EC%3A%5Csoftware%5Cqt%5CTools%5CMinGW%5Cbin%3B%3C%2Fp%3E+%0A++%3Cp%3EC%3A%5Csoftware%5CQt%5CTools%5CMinGW%3B%3C%2Fp%3E+%0A++%3Cp%3EC%3A%5Csoftware%5CopencvMinGW%5Cinstall%5Cbin%3B%3C%2Fp%3E+%0A++%3Cp%3EAnd+don%27t+forgetthat+you+need+to+change+the+DLL+names+to+244+instead+of+231%2C+like+this%3A%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%3C%2Fp%3E+%0A++%3Cp%3ELIBS+%2B%3D-LC%3A%5C%5Csoftware%5C%5CopencvMinGW%5C%5Cinstall%5C%5Clib+%5C%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B+-lopencv_core244.dll+%5C%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B+-lopencv_highgui244.dll+%5C%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B+-lopencv_imgproc244.dll+%5C%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%26nbsp%3B%26nbsp%3B+-lopencv_features2d244.dll+%5C%3C%2Fp%3E+%0A++%3Cp%3E-lopencv_calib3d244.dll%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%3C%2Fp%3E+%0A++%3Cp%3E%26nbsp%3B%3C%2Fp%3E+%0A+%3C%2Fdiv%3E+%0A%3C%2Fdiv%3E+%0A%3Cdiv+class%3D%22hide-article-box+text-center%22%3E+%0A+%3Ca+class%3D%22btn+btn-red-hollow%22+id%3D%22btn-readmore%22+data-track-view%3D%22%7B%26quot%3Bmod%26quot%3B%3A%26quot%3Bpopu_376%26quot%3B%2C%26quot%3Bcon%26quot%3B%3A%26quot%3B%2Chttps%3A%2F%2Fblog.csdn.net%2Fhulinhulin%2Farticle%2Fdetails%2F53066969%2C%26quot%3B%7D%22+data-track-click%3D%22%7B%26quot%3Bmod%26quot%3B%3A%26quot%3Bpopu_376%26quot%3B%2C%26quot%3Bcon%26quot%3B%3A%26quot%3B%2Chttps%3A%2F%2Fblog.csdn.net%2Fhulinhulin%2Farticle%2Fdetails%2F53066969%2C%26quot%3B%7D%22%3E%E9%98%85%E8%AF%BB%E6%9B%B4%E5%A4%9A%3C%2Fa%3E+%0A%3C%2Fdiv%3E" | url_decode}}