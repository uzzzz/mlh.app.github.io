---
layout: default
title: （二十四）王道机试指南___深度优先搜索（DFS）
---

{{ "%3Cdiv+id%3D%22article_content%22+class%3D%22article_content+clearfix+csdn-tracking-statistics%22+data-pid%3D%22blog%22+data-mod%3D%22popu_307%22+data-dsm%3D%22post%22%3E+%0A+%3Clink+rel%3D%22stylesheet%22+href%3D%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fphoenix%2Ftemplate%2Fcss%2Fck_htmledit_views-f57960eb32.css%22%3E+%0A+%3Clink+rel%3D%22stylesheet%22+href%3D%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fphoenix%2Ftemplate%2Fcss%2Fck_htmledit_views-f57960eb32.css%22%3E+%0A+%3Cdiv+class%3D%22htmledit_views%22+id%3D%22content_views%22%3E+%0A++%3Ch1%3E%E7%AE%97%E4%BE%8B%E4%B8%80%E3%80%90Temple+of+the+bone%EF%BC%88%E4%B9%9D%E5%BA%A6OJ+1461%EF%BC%89%E3%80%91%3C%2Fh1%3E+%0A++%3Cul%3E%0A+++%3Cli%3E+%3Ch3%3E%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0%3C%2Fh3%3E+%3C%2Fli%3E+%0A++%3C%2Ful%3E%0A++%3Cp%3E%3Cimg+alt%3D%22%22+class%3D%22has%22+height%3D%22155%22+src%3D%22https%3A%2F%2Fuzshare.com%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdnimg.cn%2F20190410184944685.png%22+width%3D%22805%22%3E%3C%2Fp%3E+%0A++%3Cp%3E%3Cimg+alt%3D%22%22+class%3D%22has%22+height%3D%22521%22+src%3D%22https%3A%2F%2Fuzshare.com%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdnimg.cn%2F20190410185230670.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDYxNDIzMQ%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22+width%3D%22876%22%3E%3C%2Fp%3E+%0A++%3Cp%3E%3Cimg+alt%3D%22%22+class%3D%22has%22+height%3D%22518%22+src%3D%22https%3A%2F%2Fuzshare.com%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdnimg.cn%2F20190410185009596.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDYxNDIzMQ%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22+width%3D%22801%22%3E%3C%2Fp%3E+%0A++%3Cul%3E%0A+++%3Cli%3E+%3Ch3%3E%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF%3C%2Fh3%3E+%3C%2Fli%3E+%0A++%3C%2Ful%3E%0A++%3Cp%3E%E2%91%A0%E7%B1%BB%E4%BC%BC%E7%9A%84%E6%B7%B1%E5%BA%A6%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95%EF%BC%8C%E4%BB%8E%E5%88%9D%E5%A7%8B%E7%8A%B6%E6%80%81%E5%88%B0%E6%9C%80%E7%BB%88%E7%8A%B6%E6%80%81%E7%9A%84%E6%97%B6%E9%97%B4%E6%A3%80%E9%AA%8C%2B%E5%89%AA%E6%9E%9D%3C%2Fp%3E+%0A++%3Cp%3E%E2%91%A1%E5%89%AA%E6%9E%9D%EF%BC%9A%E7%94%B1%E4%BA%8E%E6%AF%8F%E8%B5%B0%E4%B8%80%E6%AD%A5%EF%BC%8C%E6%A8%AA%E7%BA%B5%E5%9D%90%E6%A0%87%E4%B9%8B%E5%92%8C%E7%9A%84%E5%A5%87%E5%81%B6%E6%80%A7%E5%B0%B1%E4%BC%9A%E5%8F%91%E7%94%9F%E5%8F%98%E5%8C%96%EF%BC%8C%E6%89%80%E4%BB%A5%E5%A6%82%E6%9E%9C%E5%88%9D%E5%A7%8B%E7%8A%B6%E6%80%81%E5%9D%90%E6%A0%87%E5%92%8C%E6%9C%80%E7%BB%88%E7%8A%B6%E6%80%81%E5%9D%90%E6%A0%87%E5%92%8C%E7%9A%84%E5%A5%87%E5%81%B6%E6%80%A7%E4%B8%8D%E4%B8%80%E8%87%B4%EF%BC%8C%E5%88%99%E4%B8%80%E5%AE%9A%E6%98%AF%E8%B5%B0%E4%BA%86%E5%A5%87%E6%95%B0%E6%AD%A5%EF%BC%8C%E6%AD%A4%E6%97%B6%E8%8B%A5T%E4%B8%BA%E5%81%B6%E6%95%B0%EF%BC%8C%E5%88%99%E4%B8%8D%E5%8F%AF%E8%83%BD%E7%9B%B4%E6%8E%A5%E6%8E%92%E9%99%A4%E3%80%82%E5%8F%8D%E4%B9%8B%E5%90%8C%E7%90%86%3C%2Fp%3E+%0A++%3Cul%3E%0A+++%3Cli%3E+%3Ch3%3E%E8%A7%A3%E9%A2%98%E4%BB%A3%E7%A0%81%3C%2Fh3%3E+%3C%2Fli%3E+%0A++%3C%2Ful%3E%0A++%3Cpre+class%3D%22has%22%3E%0A%3Ccode+class%3D%22language-cpp%22%3E%23include+%26lt%3Bstdio.h%26gt%3B%0Achar+maze%5B8%5D%5B8%5D%3B+%2F%2F%C2%B1%C2%A3%C2%B4%C3%A6%C2%B5%C3%98%C3%8D%C2%BC%C3%90%C3%85%C3%8F%C2%A2%0Aint+n+%2C+m+%2C+t%3B+%2F%2F%C2%B5%C3%98%C3%8D%C2%BC%C2%B4%C3%B3%C3%90%C2%A1%C3%8E%C2%AAn*m%2C+%C2%B4%C3%93%C3%86%C3%B0%C2%B5%C3%A3%C2%B5%C2%BD%C3%96%C3%95%C2%B5%C3%A3%C3%84%C3%9C%C2%B7%C3%B1%C3%87%C2%A1%C2%BA%C3%83t%C3%83%C3%AB%0Abool+success%3B+%2F%2F%C3%8A%C3%87%C2%B7%C3%B1%C3%95%C3%92%C2%B5%C2%BD%C3%8B%C3%B9%C3%90%C3%A8%C3%97%C2%B4%C3%8C%C2%AC%C2%B1%C3%AA%C2%BC%C3%87%0Aint+go%5B%5D%5B2%5D+%3D+%7B1%2C0%2C-1%2C0%2C0%2C1%2C0%2C-1%7D%3B+%2F%2F%C3%8B%C3%84%C2%B7%C2%BD%C3%8F%C3%B2%C3%90%C3%90%C3%97%C3%9F%C3%97%C3%B8%C2%B1%C3%AA%C2%B2%C3%AE%0Avoid+DFS%28int+x%2Cint+y%2Cint+time%29+%7B+%2F%2F%C2%B5%C3%9D%C2%B9%C3%A9%C3%90%C3%8E%C3%8A%C2%BD%C2%B5%C3%84%C3%89%C3%AE%C2%B6%C3%88%C3%93%C3%85%C3%8F%C3%88%C3%8B%C3%91%C3%8B%C3%B7%0A%09for+%28int+i+%3D+0%3B+i+%26lt%3B+4%3B+i+%2B%2B%29+%7B+%2F%2F%C3%83%C2%B6%C2%BE%C3%99%C3%8B%C3%84%C2%B8%C3%B6%C3%8F%C3%A0%C3%81%C3%9A%C3%8E%C2%BB%C3%96%C3%83%0A%09%09int+nx+%3D+x+%2B+go%5Bi%5D%5B0%5D%3B%0A%09%09int+ny+%3D+y+%2B+go%5Bi%5D%5B1%5D%3B+%2F%2F%C2%BC%C3%86%C3%8B%C3%A3%C3%86%C3%A4%C3%97%C3%B8%C2%B1%C3%AA%0A%09%09if+%28nx+%26lt%3B+1+%7C%7C+nx+%26gt%3B+n+%7C%7C+ny+%26lt%3B+1+%7C%7C+ny+%26gt%3B+m%29+continue%3B+%2F%2F%C3%88%C3%B4%C3%97%C3%B8%C2%B1%C3%AA%C3%94%C3%9A%C2%B5%C3%98%C3%8D%C2%BC%C3%8D%C3%A2%C3%94%C3%B2%C3%8C%C3%B8%C2%B9%C3%BD%0A%09%09if+%28maze%5Bnx%5D%5Bny%5D+%3D%3D+%27X%27+%29+continue%3B+%2F%2F%C3%88%C3%B4%C2%B8%C3%83%C3%8E%C2%BB%C3%96%C3%83%C3%8E%C2%AA%C3%87%C2%BD%2C%C3%8C%C3%B8%C2%B9%C3%BD%0A%09%09if+%28maze%5Bnx%5D%5Bny%5D+%3D%3D+%27D%27+%29+%7B+%2F%2F%C3%88%C3%B4%C2%B8%C3%83%C3%8E%C2%BB%C3%96%C3%83%C3%8E%C2%AA%C3%83%C3%85%0A%09%09%09if+%28time+%2B+1+%3D%3D+t%29+%7B+%2F%2F%C3%88%C3%B4%C3%8B%C3%B9%C3%93%C3%83%C3%8A%C2%B1%C2%BC%C3%A4%C3%87%C2%A1%C2%BA%C3%83%C3%8E%C2%AAt%0A%09%09%09%09success+%3D+true%3B+%2F%2F%C3%8B%C3%91%C3%8B%C3%B7%C2%B3%C3%89%C2%B9%C2%A6%0A%09%09%09%09return%3B+%2F%2F%C2%B7%C2%B5%C2%BB%C3%98%0A%09%09%09%7D+else+continue%3B+%2F%2F%C2%B7%C3%B1%C3%94%C3%B2%C2%B8%C3%83%C3%97%C2%B4%C3%8C%C2%AC%C2%B5%C3%84%C2%BA%C3%B3%C3%90%C3%B8%C3%97%C2%B4%C3%8C%C2%AC%C2%B2%C2%BB%C2%BF%C3%89%C3%84%C3%9C%C3%8E%C2%AA%C2%B4%C3%B0%C2%B0%C2%B8%28%C2%BE%C2%AD%C2%B9%C3%BD%C2%B5%C3%84%C2%B5%C3%A3%C2%B2%C2%BB%C3%84%C3%9C%C3%94%C3%99%C2%BE%C2%AD%C2%B9%C3%BD%29%2C%C3%8C%C3%B8%C2%B9%C3%BD%0A%09%09%7D%0A%09%09maze%5Bnx%5D%5Bny%5D+%3D+%27X%27+%3B+%2F%2F%C2%B8%C3%83%C3%97%C2%B4%C3%8C%C2%AC%C3%80%C2%A9%C3%95%C2%B9%C2%B6%C3%B8%C3%80%C2%B4%C2%B5%C3%84%C2%BA%C3%B3%C3%90%C3%B8%C3%97%C2%B4%C3%8C%C2%AC%C3%96%C3%90%2C%C2%B8%C3%83%C3%8E%C2%BB%C3%96%C3%83%C2%B6%C2%BC%C2%B2%C2%BB%C3%84%C3%9C%C2%B1%C2%BB%C2%BE%C2%AD%C2%B9%C3%BD%2C%C3%96%C2%B1%C2%BD%C3%93%C3%90%C3%9E%C2%B8%C3%84%C2%B8%C3%83%C3%8E%C2%BB%C3%96%C3%83%C3%8E%C2%AA%C3%87%C2%BD%0A%09%09DFS%28nx%2Cny%2Ctime+%2B+1%29%3B+%2F%2F%C2%B5%C3%9D%C2%B9%C3%A9%C3%80%C2%A9%C3%95%C2%B9%C2%B8%C3%83%C3%97%C2%B4%C3%8C%C2%AC%2C%C3%8B%C3%B9%C3%93%C3%83%C3%8A%C2%B1%C2%BC%C3%A4%C2%B5%C3%9D%C3%94%C3%B6%0A%09%09maze%5Bnx%5D%5Bny%5D+%3D+%27.%27+%3B+%2F%2F%C3%88%C3%B4%C3%86%C3%A4%C2%BA%C3%B3%C3%90%C3%B8%C3%97%C2%B4%C3%8C%C2%AC%C3%88%C2%AB%C2%B2%C2%BF%C2%B1%C3%A9%C3%80%C3%BA%C3%8D%C3%AA%C2%B1%C3%8F%2C%C3%94%C3%B2%C3%8D%C3%8B%C2%BB%C3%98%C3%89%C3%8F%C2%B2%C3%A3%C3%97%C2%B4%C3%8C%C2%AC%2C%C2%BD%C2%AB%C3%92%C3%B2%C3%8E%C2%AA%C3%92%C2%AA%C3%8B%C3%91%C3%8B%C3%B7%C3%86%C3%A4%C2%BA%C3%B3%C3%90%C3%B8%C3%97%C2%B4%C3%8C%C2%AC%C2%B6%C3%B8%C2%B8%C3%84%C2%B3%C3%89%C3%87%C2%BD%C2%B5%C3%84%C3%8E%C2%BB%C3%96%C3%83%2C%C2%B8%C3%84%C2%BB%C3%98%C3%86%C3%95%C3%8D%C2%A8%C3%8E%C2%BB%C3%96%C3%83%0A%09%09if+%28success%29+return+%3B+%2F%2F%C2%BC%C3%99%C3%88%C3%A7%C3%92%C3%91%C2%BE%C2%AD%C2%B3%C3%89%C2%B9%C2%A6%2C%C3%94%C3%B2%C3%96%C2%B1%C2%BD%C3%93%C2%B7%C2%B5%C2%BB%C3%98%2C%C3%8D%C2%A3%C3%96%C2%B9%C3%8B%C3%91%C3%8B%C3%B7%0A%09%7D%0A%7D%0Aint+main+%28%29+%7B%0A%09while+%28scanf+%28%22%25d%25d%25d%22+%2C%26amp%3B+n%2C%26amp%3B+m%2C%26amp%3B+t%29+%21%3D+EOF+%29+%7B%0A%09%09if+%28n+%3D%3D+0+%26amp%3B%26amp%3B+m+%3D%3D+0+%26amp%3B%26amp%3B+t+%3D%3D+0%29+break%3B%0A%09%09for+%28int+i+%3D+1%3B+i+%26lt%3B%3D+n%3B+i+%2B%2B%29+%7B%0A%09%09%09scanf+%28%22%25s%22+%2Cmaze%5Bi%5D+%2B+1%29%3B%0A%09%09%7D+%2F%2F%C3%8A%C3%A4%C3%88%C3%AB%0A%09%09success+%3D+false%3B+%2F%2F%C2%B3%C3%B5%C3%8A%C2%BC%C2%BB%C2%AF%C2%B3%C3%89%C2%B9%C2%A6%C2%B1%C3%AA%C2%BC%C3%87%0A%09%09int+sx+%2C+sy%3B%0A%09%09for+%28int+i%3D+1%3B+i+%26lt%3B%3D+n%3B+i+%2B%2B%29+%7B+%2F%2F%C3%91%C2%B0%C3%95%C3%92D%C2%B5%C3%84%C3%8E%C2%BB%C3%96%C3%83%C3%97%C3%B8%C2%B1%C3%AA%0A%09%09%09for+%28int+j+%3D+1%3B+j+%26lt%3B%3D+m%3B+j+%2B%2B%29+%7B%0A%09%09%09%09if+%28maze%5Bi%5D%5Bj%5D+%3D%3D+%27D%27+%29+%7B%0A%09%09%09%09%09sx+%3D+i%3B%0A%09%09%09%09%09sy+%3D+j%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%0A%09%09for+%28int+i%3D+1%3B+i+%26lt%3B%3D+n%3B+i+%2B%2B%29+%7B+%2F%2F%C3%91%C2%B0%C3%95%C3%92%C2%B3%C3%B5%C3%8A%C2%BC%C3%97%C2%B4%C3%8C%C2%AC%0A%09%09%09for+%28int+j+%3D+1%3B+j+%26lt%3B%3D+m%3B+j+%2B%2B%29+%7B%0A%09%09%09%09if+%28maze%5Bi%5D%5Bj%5D+%3D%3D+%27S%27+%26amp%3B%26amp%3B+%28+i+%2B+j+%29+%25+2+%3D%3D+%28+%28+sx+%2B+sy%29+%25+2+%2B+t+%25%0A%09%09%09%09++++++++2+%29+%25+2%29+%7B+%2F%2F%C3%95%C3%92%C2%B5%C2%BDS%C2%B5%C3%A3%C2%BA%C3%B3%2C%C3%8F%C3%88%C3%85%C3%90%C2%B6%C3%8FS%C3%93%C3%ABD%C2%B5%C3%84%C3%86%C3%A6%C3%85%C2%BC%C3%90%C3%94%C2%B9%C3%98%C3%8F%C2%B5%2C%C3%8A%C3%87%C2%B7%C3%B1%C2%BA%C3%8Dt%C2%B7%C3%BB%C2%BA%C3%8F%2C%C2%BC%C2%B4%C2%B7%C3%BB%C2%BA%C3%8F%C3%89%C3%8F%C3%8A%C2%BD%2C%C3%88%C3%B4%C2%B2%C2%BB%C2%B7%C3%BB%C2%BA%C3%8F%C3%96%C2%B1%C2%BD%C3%93%C3%8C%C3%B8%C2%B9%C3%BD%C3%8B%C3%91%C3%8B%C3%B7%09%0A%09%09%09%09%09maze%5Bi%5D%5Bj+%5D+%3D+%27X%27+%3B+%2F%2F%C2%BD%C2%AB%C3%86%C3%B0%C2%B5%C3%A3%C2%B1%C3%AA%C2%BC%C3%87%C3%8E%C2%AA%C3%87%C2%BD%0A%09%09%09%09%09DFS%28i%2Cj+%2C0%29%3B+%2F%2F%C2%B5%C3%9D%C2%B9%C3%A9%C3%80%C2%A9%C3%95%C2%B9%C2%B3%C3%B5%C3%8A%C2%BC%C3%97%C2%B4%C3%8C%C2%AC%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%0A%09%09puts%28success+%3D%3D+true+%3F+%22YES%22+%3A+%22NO%22+%29%3B+%2F%2F%C3%88%C3%B4success%C3%8E%C2%AA%C3%95%C3%A6%2C%C3%94%C3%B2%C3%8A%C3%A4%C2%B3%C3%B6yes%0A%09%7D%0A%09return+0%3B%0A%7D%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Cul%3E%0A+++%3Cli%3E+%3Ch3%3E%E6%B3%A8%E6%84%8F%E7%82%B9%3C%2Fh3%3E+%3C%2Fli%3E+%0A++%3C%2Ful%3E%0A++%3Cp%3E%E2%91%A0%3Cstrong%3E%E6%80%BB%E7%BB%93%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2%E7%9A%84%E7%9B%B8%E5%85%B3%E7%89%B9%E7%82%B9%EF%BC%9A%3C%2Fstrong%3E%E5%85%B6%E6%9F%A5%E6%89%BE%E7%A9%BA%E9%97%B4%E5%92%8C%E6%9F%A5%E6%89%BE%E7%9B%AE%E7%9A%84%E5%9D%87%E4%B8%8E%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2%E4%BF%9D%E6%8C%81%E4%B8%80%E8%87%B4%EF%BC%8C%E4%B8%8E%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2%E6%9C%89%E8%BE%83%E5%A4%A7%E4%B8%8D%E5%90%8C%E7%9A%84%E6%98%AF%E5%AE%83%E7%9A%84%E6%9F%A5%E6%89%BE%E6%96%B9%E5%BC%8F%E3%80%82%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2%3Cspan+style%3D%22color%3A%23f33b45%3B%22%3E%3Cstrong%3E%E5%AF%B9%E7%8A%B6%E6%80%81%E7%9A%84%E6%9F%A5%E6%89%BE%3C%2Fstrong%3E%3C%2Fspan%3E%E9%87%87%E7%94%A8%E4%BA%86%E7%AB%8B%E5%8D%B3%E6%89%A9%E5%B1%95%E6%96%B0%E5%BE%97%E5%88%B0%E7%9A%84%E7%8A%B6%E6%80%81%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%8C%E6%88%91%E4%BB%AC%E5%B8%B8%E4%BD%BF%E7%94%A8%3Cspan+style%3D%22color%3A%23f33b45%3B%22%3E%3Cstrong%3E%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0%3C%2Fstrong%3E%3C%2Fspan%3E%E6%9D%A5%E5%AE%8C%E6%88%90%E8%BF%99%E4%B8%80%E5%8A%9F%E8%83%BD%E3%80%82%E6%AD%A3%E6%98%AF%E7%94%B1%E4%BA%8E%E9%87%87%E7%94%A8%E8%BF%99%E6%A0%B7%E7%9A%84%E6%89%A9%E5%B1%95%E6%96%B9%E6%B3%95%EF%BC%8C%E7%94%B1%E5%AE%83%E6%90%9C%E7%B4%A2%E8%80%8C%E6%9D%A5%E7%9A%84%E8%A7%A3%E4%B8%8D%E5%86%8D%E6%8B%A5%E6%9C%89%E6%9C%80%E4%BC%98%E8%A7%A3%E7%9A%84%E7%89%B9%E6%80%A7%EF%BC%8C%3Cspan+style%3D%22color%3A%23f33b45%3B%22%3E%3Cstrong%3E%E6%89%80%E4%BB%A5%E6%88%91%E4%BB%AC%E5%B8%B8%E7%94%A8%E5%AE%83%E6%9D%A5%E5%88%A4%E6%96%AD%E8%A7%A3%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E7%9A%84%E5%AD%98%E5%9C%A8%E6%80%A7%E5%88%A4%E5%AE%9A%3C%2Fstrong%3E%3C%2Fspan%3E%E3%80%82%3C%2Fp%3E+%0A++%3Cp%3E%3Cbr%3E+%26nbsp%3B%3C%2Fp%3E+%0A++%3Cp%3E%3Cimg+alt%3D%22%22+class%3D%22has%22+height%3D%22164%22+src%3D%22https%3A%2F%2Fuzshare.com%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdnimg.cn%2F20190410184704609.png%22+width%3D%221200%22%3E%3C%2Fp%3E+%0A+%3C%2Fdiv%3E+%0A%3C%2Fdiv%3E" | url_decode}}