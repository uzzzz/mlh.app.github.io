---
layout: default
title: 用Go来做以太坊开发④智能合约
---

{{ "%3Cdiv+id%3D%22article_content%22+class%3D%22article_content+clearfix+csdn-tracking-statistics%22+data-pid%3D%22blog%22+data-mod%3D%22popu_307%22+data-dsm%3D%22post%22%3E+%0A+%3Clink+rel%3D%22stylesheet%22+href%3D%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fphoenix%2Ftemplate%2Fcss%2Fck_htmledit_views-f57960eb32.css%22%3E+%0A+%3Clink+rel%3D%22stylesheet%22+href%3D%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fphoenix%2Ftemplate%2Fcss%2Fck_htmledit_views-f57960eb32.css%22%3E+%0A+%3Cdiv+class%3D%22htmledit_views%22+id%3D%22content_views%22%3E+%0A++%3Cdiv+class%3D%22show-content-free%22%3E+%0A+++%3Ch1%3E%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%3C%2Fh1%3E+%0A+++%3Cp%3E%E5%9C%A8%E8%BF%99%E4%B8%AA%E7%AB%A0%E8%8A%82%E4%B8%AD%E6%88%91%E4%BB%AC%E4%BC%9A%E4%BB%8B%E7%BB%8D%E5%A6%82%E4%BD%95%E7%94%A8Go%E6%9D%A5%E7%BC%96%E8%AF%91%EF%BC%8C%E9%83%A8%E7%BD%B2%EF%BC%8C%E5%86%99%E5%85%A5%E5%92%8C%E8%AF%BB%E5%8F%96%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E3%80%82%3C%2Fp%3E+%0A+++%3Ch1%3E%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84%E7%BC%96%E8%AF%91%E4%B8%8EABI%3C%2Fh1%3E+%0A+++%3Cp%3E%E4%B8%8E%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E4%BA%A4%E4%BA%92%EF%BC%8C%E6%88%91%E4%BB%AC%E8%A6%81%E5%85%88%E7%94%9F%E6%88%90%E7%9B%B8%E5%BA%94%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84%E5%BA%94%E7%94%A8%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%8E%A5%E5%8F%A3ABI%28application+binary+interface%29%EF%BC%8C%E5%B9%B6%E6%8A%8AABI%E7%BC%96%E8%AF%91%E6%88%90%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E5%9C%A8Go%E5%BA%94%E7%94%A8%E4%B8%AD%E8%B0%83%E7%94%A8%E7%9A%84%E6%A0%BC%E5%BC%8F%E3%80%82%3C%2Fp%3E+%0A+++%3Cp%3E%E7%AC%AC%E4%B8%80%E6%AD%A5%E6%98%AF%E5%AE%89%E8%A3%85+%3Ca+href%3D%22https%3A%2F%2Fsolidity.readthedocs.io%2Fen%2Flatest%2Finstalling-solidity.html%22+rel%3D%22nofollow%22%3ESolidity%E7%BC%96%E8%AF%91%E5%99%A8%3C%2Fa%3E+%28%3Ccode%3Esolc%3C%2Fcode%3E%29.%3C%2Fp%3E+%0A+++%3Cp%3ESolc+%E5%9C%A8Ubuntu%E4%B8%8A%E6%9C%89snapcraft%E5%8C%85%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Esudo+snap+install+solc+--edge%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3ESolc%E5%9C%A8macOS%E4%B8%8A%E6%9C%89Homebrew%E7%9A%84%E5%8C%85%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Ebrew+update%0Abrew+tap+ethereum%2Fethereum%0Abrew+install+solidity%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E5%85%B6%E4%BB%96%E7%9A%84%E5%B9%B3%E5%8F%B0%E6%88%96%E8%80%85%E4%BB%8E%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E7%9A%84%E6%95%99%E7%A8%8B%E8%AF%B7%E6%9F%A5%E9%98%85%E5%AE%98%E6%96%B9solidity%E6%96%87%E6%A1%A3%3Ca+href%3D%22https%3A%2F%2Fsolidity.readthedocs.io%2Fen%2Flatest%2Finstalling-solidity.html%23building-from-source%22+rel%3D%22nofollow%22%3Einstall+guide%3C%2Fa%3E.%3C%2Fp%3E+%0A+++%3Cp%3E%E6%88%91%E4%BB%AC%E8%BF%98%E5%BE%97%E5%AE%89%E8%A3%85%E4%B8%80%E4%B8%AA%E5%8F%AB%3Ccode%3Eabigen%3C%2Fcode%3E%E7%9A%84%E5%B7%A5%E5%85%B7%EF%BC%8C%E6%9D%A5%E4%BB%8Esolidity%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%94%9F%E6%88%90ABI%E3%80%82%3C%2Fp%3E+%0A+++%3Cp%3E%E5%81%87%E8%AE%BE%E6%82%A8%E5%B7%B2%E7%BB%8F%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8A%E8%AE%BE%E7%BD%AE%E4%BA%86Go%EF%BC%8C%E5%8F%AA%E9%9C%80%E8%BF%90%E8%A1%8C%E4%BB%A5%E4%B8%8B%E5%91%BD%E4%BB%A4%E5%8D%B3%E5%8F%AF%E5%AE%89%E8%A3%85%3Ccode%3Eabigen%3C%2Fcode%3E%E5%B7%A5%E5%85%B7%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Ego+get+-u+github.com%2Fethereum%2Fgo-ethereum%0Acd+%24GOPATH%2Fsrc%2Fgithub.com%2Fethereum%2Fgo-ethereum%2F%0Amake%0Amake+devtools%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E6%88%91%E4%BB%AC%E5%B0%86%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E6%9D%A5%E6%B5%8B%E8%AF%95%E3%80%82+%E5%AD%A6%E4%B9%A0%E6%9B%B4%E5%A4%8D%E6%9D%82%E7%9A%84%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%EF%BC%8C%E6%88%96%E8%80%85%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84%E5%BC%80%E5%8F%91%E7%9A%84%E5%86%85%E5%AE%B9%E5%88%99%E8%B6%85%E5%87%BA%E4%BA%86%E6%9C%AC%E4%B9%A6%E7%9A%84%E8%8C%83%E5%9B%B4%E3%80%82+%E6%88%91%E5%BC%BA%E7%83%88%E5%BB%BA%E8%AE%AE%E6%82%A8%E6%9F%A5%E7%9C%8B%3Ca+href%3D%22http%3A%2F%2Ftruffleframework.com%2F%22+rel%3D%22nofollow%22%3Etruffle+framework%3C%2Fa%3E+%E6%9D%A5%E5%AD%A6%E4%B9%A0%E5%BC%80%E5%8F%91%E5%92%8C%E6%B5%8B%E8%AF%95%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E3%80%82%3C%2Fp%3E+%0A+++%3Cp%3E%E8%BF%99%E9%87%8C%E5%8F%AA%E6%98%AF%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E5%90%88%E7%BA%A6%EF%BC%8C%E5%B0%B1%E6%98%AF%E4%B8%80%E4%B8%AA%E9%94%AE%2F%E5%80%BC%E5%AD%98%E5%82%A8%EF%BC%8C%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AA%E5%A4%96%E9%83%A8%E6%96%B9%E6%B3%95%E6%9D%A5%E8%AE%BE%E7%BD%AE%E4%BB%BB%E4%BD%95%E4%BA%BA%E7%9A%84%E9%94%AE%2F%E5%80%BC%E5%AF%B9%E3%80%82+%E6%88%91%E4%BB%AC%E8%BF%98%E5%9C%A8%E8%AE%BE%E7%BD%AE%E5%80%BC%E5%90%8E%E6%B7%BB%E5%8A%A0%E4%BA%86%E8%A6%81%E5%8F%91%E5%87%BA%E7%9A%84%E4%BA%8B%E4%BB%B6%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Epragma+solidity+%5E0.4.24%3B%0A%0Acontract+Store+%7B%0A++event+ItemSet%28bytes32+key%2C+bytes32+value%29%3B%0A%0A++string+public+version%3B%0A++mapping+%28bytes32+%3D%26gt%3B+bytes32%29+public+items%3B%0A%0A++constructor%28string+_version%29+public+%7B%0A++++version+%3D+_version%3B%0A++%7D%0A%0A++function+setItem%28bytes32+key%2C+bytes32+value%29+external+%7B%0A++++items%5Bkey%5D+%3D+value%3B%0A++++emit+ItemSet%28key%2C+value%29%3B%0A++%7D%0A%7D%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E8%99%BD%E7%84%B6%E8%BF%99%E4%B8%AA%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%BE%88%E7%AE%80%E5%8D%95%EF%BC%8C%E4%BD%86%E5%AE%83%E5%B0%86%E9%80%82%E7%94%A8%E4%BA%8E%E8%BF%99%E4%B8%AA%E4%BE%8B%E5%AD%90%E3%80%82%3C%2Fp%3E+%0A+++%3Cp%3E%E7%8E%B0%E5%9C%A8%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E4%BB%8E%E4%B8%80%E4%B8%AAsolidity%E6%96%87%E4%BB%B6%E7%94%9F%E6%88%90ABI%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Esolc+--abi+Store.sol%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E5%AE%83%E4%BC%9A%E5%B0%86%E5%85%B6%E5%86%99%E5%85%A5%E5%90%8D%E4%B8%BA%E2%80%9CStore_sol_Store.abi%E2%80%9D%E7%9A%84%E6%96%87%E4%BB%B6%E4%B8%AD%3C%2Fp%3E+%0A+++%3Cp%3E%E7%8E%B0%E5%9C%A8%E8%AE%A9%E6%88%91%E4%BB%AC%E7%94%A8%3Ccode%3Eabigen%3C%2Fcode%3E%E5%B0%86ABI%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E5%AF%BC%E5%85%A5%E7%9A%84Go%E6%96%87%E4%BB%B6%E3%80%82+%E8%BF%99%E4%B8%AA%E6%96%B0%E6%96%87%E4%BB%B6%E5%B0%86%E5%8C%85%E5%90%AB%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E7%94%A8%E6%9D%A5%E4%B8%8EGo%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E8%BF%9B%E8%A1%8C%E4%BA%A4%E4%BA%92%E7%9A%84%E6%89%80%E6%9C%89%E5%8F%AF%E7%94%A8%E6%96%B9%E6%B3%95%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Eabigen+--abi%3DStore_sol_Store.abi+--pkg%3Dstore+--out%3DStore.go%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E4%B8%BA%E4%BA%86%E4%BB%8EGo%E9%83%A8%E7%BD%B2%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%EF%BC%8C%E6%88%91%E4%BB%AC%E8%BF%98%E9%9C%80%E8%A6%81%E5%B0%86solidity%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%BC%96%E8%AF%91%E4%B8%BAEVM%E5%AD%97%E8%8A%82%E7%A0%81%E3%80%82+EVM%E5%AD%97%E8%8A%82%E7%A0%81%E5%B0%86%E5%9C%A8%E4%BA%8B%E5%8A%A1%E7%9A%84%E6%95%B0%E6%8D%AE%E5%AD%97%E6%AE%B5%E4%B8%AD%E5%8F%91%E9%80%81%E3%80%82+%E5%9C%A8Go%E6%96%87%E4%BB%B6%E4%B8%8A%E7%94%9F%E6%88%90%E9%83%A8%E7%BD%B2%E6%96%B9%E6%B3%95%E9%9C%80%E8%A6%81bin%E6%96%87%E4%BB%B6%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Esolc+--bin+Store.sol%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E7%8E%B0%E5%9C%A8%E6%88%91%E4%BB%AC%E7%BC%96%E8%AF%91Go%E5%90%88%E7%BA%A6%E6%96%87%E4%BB%B6%EF%BC%8C%E5%85%B6%E4%B8%AD%E5%8C%85%E6%8B%ACdeploy%E6%96%B9%E6%B3%95%EF%BC%8C%E5%9B%A0%E4%B8%BA%E6%88%91%E4%BB%AC%E5%8C%85%E5%90%AB%E4%BA%86bin%E6%96%87%E4%BB%B6%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Eabigen+--bin%3DStore_sol_Store.bin+--abi%3DStore_sol_Store.abi+--pkg%3Dstore+--out%3DStore.go%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E5%9C%A8%E6%8E%A5%E4%B8%8B%E6%9D%A5%E7%9A%84%E8%AF%BE%E7%A8%8B%E4%B8%AD%EF%BC%8C%E6%88%91%E4%BB%AC%E5%B0%86%E5%AD%A6%E4%B9%A0%E5%A6%82%E4%BD%95%E9%83%A8%E7%BD%B2%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%EF%BC%8C%E7%84%B6%E5%90%8E%E4%B8%8E%E4%B9%8B%E4%BA%A4%E4%BA%92%E3%80%82%3C%2Fp%3E+%0A+++%3Ch3%3E%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%3C%2Fh3%3E+%0A+++%3Cp%3ECommands%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Ego+get+-u+github.com%2Fethereum%2Fgo-ethereum%0Acd+%24GOPATH%2Fsrc%2Fgithub.com%2Fethereum%2Fgo-ethereum%2F%0Amake%0Amake+devtools%0A%0Asolc+--abi+Store.sol%0Asolc+--bin+Store.sol%0Aabigen+--bin%3DStore_sol_Store.bin+--abi%3DStore_sol_Store.abi+--pkg%3Dstore+--out%3DStore.go%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%3Ca+href%3D%22https%3A%2F%2Fgithub.com%2Fmiguelmota%2Fethereum-development-with-go-book%2Fblob%2Fmaster%2Fcode%2Fcontracts%2FStore.sol%22+rel%3D%22nofollow%22%3EStore.sol%3C%2Fa%3E%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Epragma+solidity+%5E0.4.24%3B%0A%0Acontract+Store+%7B%0A++event+ItemSet%28bytes32+key%2C+bytes32+value%29%3B%0A%0A++string+public+version%3B%0A++mapping+%28bytes32+%3D%26gt%3B+bytes32%29+public+items%3B%0A%0A++constructor%28string+_version%29+public+%7B%0A++++version+%3D+_version%3B%0A++%7D%0A%0A++function+setItem%28bytes32+key%2C+bytes32+value%29+external+%7B%0A++++items%5Bkey%5D+%3D+value%3B%0A++++emit+ItemSet%28key%2C+value%29%3B%0A++%7D%0A%7D%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3Esolc+version+used+for+these+examples%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3E%24+solc+--version%0A0.4.24%2Bcommit.e67f0147.Emscripten.clang%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Chr%3E%0A+++%3Ch1%3E%E9%83%A8%E7%BD%B2%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%3C%2Fh1%3E+%0A+++%3Cp%3E%E5%A6%82%E6%9E%9C%E4%BD%A0%E8%BF%98%E6%B2%A1%E7%9C%8B%E4%B9%8B%E5%89%8D%E7%9A%84%E7%AB%A0%E8%8A%82%EF%BC%8C%E8%AF%B7%E5%85%88%E5%AD%A6%E4%B9%A0%3Ca+href%3D%22https%3A%2F%2Fgoethereumbook.org%2Fzh%2Fsmart-contract-compile%22+rel%3D%22nofollow%22%3E%E7%BC%96%E8%AF%91%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84%E7%AB%A0%E8%8A%82%3C%2Fa%3E%E5%9B%A0%E4%B8%BA%E8%BF%99%E8%8A%82%E5%86%85%E5%AE%B9%EF%BC%8C%E9%9C%80%E8%A6%81%E5%85%88%E4%BA%86%E8%A7%A3%E5%A6%82%E4%BD%95%E5%B0%86%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%BC%96%E8%AF%91%E4%B8%BAGo%E6%96%87%E4%BB%B6%E3%80%82%3C%2Fp%3E+%0A+++%3Cp%3E%E5%81%87%E8%AE%BE%E4%BD%A0%E5%B7%B2%E7%BB%8F%E5%AF%BC%E5%85%A5%E4%BB%8E%3Ccode%3Eabigen%3C%2Fcode%3E%E7%94%9F%E6%88%90%E7%9A%84%E6%96%B0%E5%88%9B%E5%BB%BA%E7%9A%84Go%E5%8C%85%E6%96%87%E4%BB%B6%EF%BC%8C%E5%B9%B6%E8%AE%BE%E7%BD%AEethclient%EF%BC%8C%E5%8A%A0%E8%BD%BD%E6%82%A8%E7%9A%84%E7%A7%81%E9%92%A5%EF%BC%8C%E4%B8%8B%E4%B8%80%E6%AD%A5%E6%98%AF%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%9C%89%E9%85%8D%E7%BD%AE%E5%AF%86%E5%8C%99%E7%9A%84%E4%BA%A4%E6%98%93%E5%8F%91%E9%80%81%E5%99%A8%28tansactor%29%E3%80%82+%E9%A6%96%E5%85%88%E4%BB%8Ego-ethereum%E5%AF%BC%E5%85%A5%3Ccode%3Eaccounts%2Fabi%2Fbind%3C%2Fcode%3E%E5%8C%85%EF%BC%8C%E7%84%B6%E5%90%8E%E8%B0%83%E7%94%A8%E4%BC%A0%E5%85%A5%E7%A7%81%E9%92%A5%E7%9A%84%3Ccode%3ENewKeyedTransactor%3C%2Fcode%3E%E3%80%82+%E7%84%B6%E5%90%8E%E8%AE%BE%E7%BD%AE%E9%80%9A%E5%B8%B8%E7%9A%84%E5%B1%9E%E6%80%A7%EF%BC%8C%E5%A6%82nonce%EF%BC%8C%E7%87%83%E6%B0%94%E4%BB%B7%E6%A0%BC%EF%BC%8C%E7%87%83%E6%B0%94%E4%B8%8A%E7%BA%BF%E9%99%90%E5%88%B6%E5%92%8CETH%E5%80%BC%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Eauth+%3A%3D+bind.NewKeyedTransactor%28privateKey%29%0Aauth.Nonce+%3D+big.NewInt%28int64%28nonce%29%29%0Aauth.Value+%3D+big.NewInt%280%29+++++%2F%2F+in+wei%0Aauth.GasLimit+%3D+uint64%28300000%29+%2F%2F+in+units%0Aauth.GasPrice+%3D+gasPrice%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E5%A6%82%E6%9E%9C%E4%BD%A0%E8%BF%98%E8%AE%B0%E5%BE%97%E4%B8%8A%E4%B8%AA%E7%AB%A0%E8%8A%82%E7%9A%84%E5%86%85%E5%AE%B9%2C+%E6%88%91%E4%BB%AC%E5%88%9B%E5%BB%BA%E4%BA%86%E4%B8%80%E4%B8%AA%E9%9D%9E%E5%B8%B8%E7%AE%80%E5%8D%95%E7%9A%84%E2%80%9CStore%E2%80%9D%E5%90%88%E7%BA%A6%EF%BC%8C%E7%94%A8%E4%BA%8E%E8%AE%BE%E7%BD%AE%E5%92%8C%E5%AD%98%E5%82%A8%E9%94%AE%2F%E5%80%BC%E5%AF%B9%E3%80%82+%E7%94%9F%E6%88%90%E7%9A%84Go%E5%90%88%E7%BA%A6%E6%96%87%E4%BB%B6%E6%8F%90%E4%BE%9B%E4%BA%86%E9%83%A8%E7%BD%B2%E6%96%B9%E6%B3%95%E3%80%82+%E9%83%A8%E7%BD%B2%E6%96%B9%E6%B3%95%E5%90%8D%E7%A7%B0%E5%A7%8B%E7%BB%88%E4%BB%A5%E5%8D%95%E8%AF%8D%3Cem%3EDeploy%3C%2Fem%3E%E5%BC%80%E5%A4%B4%EF%BC%8C%E5%90%8E%E8%B7%9F%E5%90%88%E7%BA%A6%E5%90%8D%E7%A7%B0%EF%BC%8C%E5%9C%A8%E6%9C%AC%E4%BE%8B%E4%B8%AD%E4%B8%BA%3Cem%3EStore%3C%2Fem%3E%E3%80%82%3C%2Fp%3E+%0A+++%3Cp%3Edeploy%E5%87%BD%E6%95%B0%E6%8E%A5%E5%8F%97%E6%9C%89%E5%AF%86%E5%8C%99%E7%9A%84%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86%E5%99%A8%EF%BC%8Cethclient%EF%BC%8C%E4%BB%A5%E5%8F%8A%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%8F%AF%E8%83%BD%E6%8E%A5%E5%8F%97%E7%9A%84%E4%BB%BB%E4%BD%95%E8%BE%93%E5%85%A5%E5%8F%82%E6%95%B0%E3%80%82%E6%88%91%E4%BB%AC%E6%B5%8B%E8%AF%95%E7%9A%84%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E6%8E%A5%E5%8F%97%E4%B8%80%E4%B8%AA%E7%89%88%E6%9C%AC%E5%8F%B7%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%82%E6%95%B0%E3%80%82+%E6%AD%A4%E5%87%BD%E6%95%B0%E5%B0%86%E8%BF%94%E5%9B%9E%E6%96%B0%E9%83%A8%E7%BD%B2%E7%9A%84%E5%90%88%E7%BA%A6%E5%9C%B0%E5%9D%80%EF%BC%8C%E4%BA%8B%E5%8A%A1%E5%AF%B9%E8%B1%A1%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E4%BA%A4%E4%BA%92%E7%9A%84%E5%90%88%E7%BA%A6%E5%AE%9E%E4%BE%8B%EF%BC%8C%E8%BF%98%E6%9C%89%E9%94%99%E8%AF%AF%EF%BC%88%E5%A6%82%E6%9E%9C%E6%9C%89%EF%BC%89%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Einput+%3A%3D+%221.0%22%0Aaddress%2C+tx%2C+instance%2C+err+%3A%3D+store.DeployStore%28auth%2C+client%2C+input%29%0Aif+err+%21%3D+nil+%7B%0A++log.Fatal%28err%29%0A%7D%0A%0Afmt.Println%28address.Hex%28%29%29+++%2F%2F+0x147B8eb97fD247D06C4006D269c90C1908Fb5D54%0Afmt.Println%28tx.Hash%28%29.Hex%28%29%29+%2F%2F+0xdae8ba5444eefdc99f4d45cd0c4f24056cba6a02cefbf78066ef9f4188ff7dc0%0A%0A_+%3D+instance+%2F%2F+will+be+using+the+instance+in+the+%E4%B8%8B%E4%B8%AA%E7%AB%A0%E8%8A%82%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E5%B0%B1%E8%BF%99%E4%B9%88%E7%AE%80%E5%8D%95%EF%BC%9A%EF%BC%89%E4%BD%A0%E5%8F%AF%E4%BB%A5%E7%94%A8%E4%BA%8B%E5%8A%A1%E5%93%88%E5%B8%8C%E6%9D%A5%E5%9C%A8Etherscan%E4%B8%8A%E6%9F%A5%E8%AF%A2%E5%90%88%E7%BA%A6%E7%9A%84%E9%83%A8%E7%BD%B2%E7%8A%B6%E6%80%81%3A+%3Ca+href%3D%22https%3A%2F%2Frinkeby.etherscan.io%2Ftx%2F0xdae8ba5444eefdc99f4d45cd0c4f24056cba6a02cefbf78066ef9f4188ff7dc0%22+rel%3D%22nofollow%22%3Ehttps%3A%2F%2Frinkeby.etherscan.io%2Ftx%2F0xdae8ba5444eefdc99f4d45cd0c4f24056cba6a02cefbf78066ef9f4188ff7dc0%3C%2Fa%3E%3C%2Fp%3E+%0A+++%3Ch3%3E%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%3C%2Fh3%3E+%0A+++%3Cp%3ECommands%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Esolc+--abi+Store.sol%0Asolc+--bin+Store.sol%0Aabigen+--bin%3DStore_sol_Store.bin+--abi%3DStore_sol_Store.abi+--pkg%3Dstore+--out%3DStore.go%0A%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%3Ca+href%3D%22https%3A%2F%2Fgithub.com%2Fmiguelmota%2Fethereum-development-with-go-book%2Fblob%2Fmaster%2Fcode%2Fcontracts%2FStore.sol%22+rel%3D%22nofollow%22%3EStore.sol%3C%2Fa%3E%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Epragma+solidity+%5E0.4.24%3B%0A%0Acontract+Store+%7B%0A++event+ItemSet%28bytes32+key%2C+bytes32+value%29%3B%0A%0A++string+public+version%3B%0A++mapping+%28bytes32+%3D%26gt%3B+bytes32%29+public+items%3B%0A%0A++constructor%28string+_version%29+public+%7B%0A++++version+%3D+_version%3B%0A++%7D%0A%0A++function+setItem%28bytes32+key%2C+bytes32+value%29+external+%7B%0A++++items%5Bkey%5D+%3D+value%3B%0A++++emit+ItemSet%28key%2C+value%29%3B%0A++%7D%0A%7D%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%3Ca+href%3D%22https%3A%2F%2Fgithub.com%2Fmiguelmota%2Fethereum-development-with-go-book%2Fblob%2Fmaster%2Fcode%2Fcontract_deploy.go%22+rel%3D%22nofollow%22%3Econtract_deploy.go%3C%2Fa%3E%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Epackage+main%0A%0Aimport+%28%0A++++%22context%22%0A++++%22crypto%2Fecdsa%22%0A++++%22fmt%22%0A++++%22log%22%0A++++%22math%2Fbig%22%0A%0A++++%22github.com%2Fethereum%2Fgo-ethereum%2Faccounts%2Fabi%2Fbind%22%0A++++%22github.com%2Fethereum%2Fgo-ethereum%2Fcrypto%22%0A++++%22github.com%2Fethereum%2Fgo-ethereum%2Fethclient%22%0A%0A++++store+%22.%2Fcontracts%22+%2F%2F+for+demo%0A%29%0A%0Afunc+main%28%29+%7B%0A++++client%2C+err+%3A%3D+ethclient.Dial%28%22https%3A%2F%2Frinkeby.infura.io%22%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++privateKey%2C+err+%3A%3D+crypto.HexToECDSA%28%22fad9c8855b740a0b7ed4c221dbad0f33a83a49cad6b3fe8d5817ac83d38b6a19%22%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++publicKey+%3A%3D+privateKey.Public%28%29%0A++++publicKeyECDSA%2C+ok+%3A%3D+publicKey.%28*ecdsa.PublicKey%29%0A++++if+%21ok+%7B%0A++++++++log.Fatal%28%22error+casting+public+key+to+ECDSA%22%29%0A++++%7D%0A%0A++++fromAddress+%3A%3D+crypto.PubkeyToAddress%28*publicKeyECDSA%29%0A++++nonce%2C+err+%3A%3D+client.PendingNonceAt%28context.Background%28%29%2C+fromAddress%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++gasPrice%2C+err+%3A%3D+client.SuggestGasPrice%28context.Background%28%29%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++auth+%3A%3D+bind.NewKeyedTransactor%28privateKey%29%0A++++auth.Nonce+%3D+big.NewInt%28int64%28nonce%29%29%0A++++auth.Value+%3D+big.NewInt%280%29+++++%2F%2F+in+wei%0A++++auth.GasLimit+%3D+uint64%28300000%29+%2F%2F+in+units%0A++++auth.GasPrice+%3D+gasPrice%0A%0A++++input+%3A%3D+%221.0%22%0A++++address%2C+tx%2C+instance%2C+err+%3A%3D+store.DeployStore%28auth%2C+client%2C+input%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++fmt.Println%28address.Hex%28%29%29+++%2F%2F+0x147B8eb97fD247D06C4006D269c90C1908Fb5D54%0A++++fmt.Println%28tx.Hash%28%29.Hex%28%29%29+%2F%2F+0xdae8ba5444eefdc99f4d45cd0c4f24056cba6a02cefbf78066ef9f4188ff7dc0%0A%0A++++_+%3D+instance%0A%7D%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3Esolc+version+used+for+these+examples%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3E%24+solc+--version%0A0.4.24%2Bcommit.e67f0147.Emscripten.clang%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Chr%3E%0A+++%3Ch1%3E%E5%8A%A0%E8%BD%BD%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%3C%2Fh1%3E+%0A+++%3Cp%3E%E8%BF%99%E5%86%99%E7%AB%A0%E8%8A%82%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E5%A6%82%E4%BD%95%E5%B0%86%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84ABI%E7%BC%96%E8%AF%91%E6%88%90Go%E7%9A%84%E5%90%88%E7%BA%A6%E6%96%87%E4%BB%B6%E3%80%82%E5%A6%82%E6%9E%9C%E4%BD%A0%E8%BF%98%E6%B2%A1%E7%9C%8B%EF%BC%8C+%E5%89%8D%E5%85%88%E8%AF%BB%3Ca+href%3D%22https%3A%2F%2Fgoethereumbook.org%2Fzh%2Fsmart-contract-compile%22+rel%3D%22nofollow%22%3E%E4%B8%8A%E4%B8%80%E4%B8%AA%E7%AB%A0%E8%8A%82%3C%2Fa%3E+%E3%80%82%3C%2Fp%3E+%0A+++%3Cp%3E%E4%B8%80%E6%97%A6%E4%BD%BF%E7%94%A8%3Ccode%3Eabigen%3C%2Fcode%3E%E5%B7%A5%E5%85%B7%E5%B0%86%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84ABI%E7%BC%96%E8%AF%91%E4%B8%BAGo%E5%8C%85%EF%BC%8C%E4%B8%8B%E4%B8%80%E6%AD%A5%E5%B0%B1%E6%98%AF%E8%B0%83%E7%94%A8%E2%80%9CNew%E2%80%9D%E6%96%B9%E6%B3%95%EF%BC%8C%E5%85%B6%E6%A0%BC%E5%BC%8F%E4%B8%BA%E2%80%9CNew%26lt%3Bcontractname+style%3D%22box-sizing%3A+border-box%3B+font-size%3A+16px%3B+-ms-text-size-adjust%3A+auto%3B+-webkit-tap-highlight-color%3A+transparent%3B%22%26gt%3B%E2%80%9D%EF%BC%8C%E6%89%80%E4%BB%A5%E5%9C%A8%E6%88%91%E4%BB%AC%E7%9A%84%E4%BE%8B%E5%AD%90%E4%B8%AD%E5%A6%82%E6%9E%9C%E4%BD%A0+%E5%9B%9E%E6%83%B3%E4%B8%80%E4%B8%8B%E5%AE%83%E5%B0%86%E6%98%AF%3Cem%3ENewStore%3C%2Fem%3E%E3%80%82+%E6%AD%A4%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%B9%E6%B3%95%E6%8E%A5%E6%94%B6%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84%E5%9C%B0%E5%9D%80%EF%BC%8C%E5%B9%B6%E8%BF%94%E5%9B%9E%E5%8F%AF%E4%BB%A5%E5%BC%80%E5%A7%8B%E4%B8%8E%E4%B9%8B%E4%BA%A4%E4%BA%92%E7%9A%84%E5%90%88%E7%BA%A6%E5%AE%9E%E4%BE%8B%E3%80%82%26lt%3B%2Fcontractname%26gt%3B%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Eaddress+%3A%3D+common.HexToAddress%28%220x147B8eb97fD247D06C4006D269c90C1908Fb5D54%22%29%0Ainstance%2C+err+%3A%3D+store.NewStore%28address%2C+client%29%0Aif+err+%21%3D+nil+%7B%0A++log.Fatal%28err%29%0A%7D%0A%0A_+%3D+instance+%2F%2F+we%27ll+be+using+this+in+the+%E4%B8%8B%E4%B8%AA%E7%AB%A0%E8%8A%82%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Ch3%3E%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%3C%2Fh3%3E+%0A+++%3Cp%3ECommands%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Esolc+--abi+Store.sol%0Asolc+--bin+Store.sol%0Aabigen+--bin%3DStore_sol_Store.bin+--abi%3DStore_sol_Store.abi+--pkg%3Dstore+--out%3DStore.go%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%3Ca+href%3D%22https%3A%2F%2Fgithub.com%2Fmiguelmota%2Fethereum-development-with-go-book%2Fblob%2Fmaster%2Fcode%2Fcontracts%2FStore.sol%22+rel%3D%22nofollow%22%3EStore.sol%3C%2Fa%3E%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Epragma+solidity+%5E0.4.24%3B%0A%0Acontract+Store+%7B%0A++event+ItemSet%28bytes32+key%2C+bytes32+value%29%3B%0A%0A++string+public+version%3B%0A++mapping+%28bytes32+%3D%26gt%3B+bytes32%29+public+items%3B%0A%0A++constructor%28string+_version%29+public+%7B%0A++++version+%3D+_version%3B%0A++%7D%0A%0A++function+setItem%28bytes32+key%2C+bytes32+value%29+external+%7B%0A++++items%5Bkey%5D+%3D+value%3B%0A++++emit+ItemSet%28key%2C+value%29%3B%0A++%7D%0A%7D%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%3Ca+href%3D%22https%3A%2F%2Fgithub.com%2Fmiguelmota%2Fethereum-development-with-go-book%2Fblob%2Fmaster%2Fcode%2Fcontract_load.go%22+rel%3D%22nofollow%22%3Econtract_load.go%3C%2Fa%3E%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Epackage+main%0A%0Aimport+%28%0A++++%22fmt%22%0A++++%22log%22%0A%0A++++%22github.com%2Fethereum%2Fgo-ethereum%2Fcommon%22%0A++++%22github.com%2Fethereum%2Fgo-ethereum%2Fethclient%22%0A%0A++++store+%22.%2Fcontracts%22+%2F%2F+for+demo%0A%29%0A%0Afunc+main%28%29+%7B%0A++++client%2C+err+%3A%3D+ethclient.Dial%28%22https%3A%2F%2Frinkeby.infura.io%22%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++address+%3A%3D+common.HexToAddress%28%220x147B8eb97fD247D06C4006D269c90C1908Fb5D54%22%29%0A++++instance%2C+err+%3A%3D+store.NewStore%28address%2C+client%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++fmt.Println%28%22contract+is+loaded%22%29%0A++++_+%3D+instance%0A%7D%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3Esolc+version+used+for+these+examples%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3E%24+solc+--version%0A0.4.24%2Bcommit.e67f0147.Emscripten.clang%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Chr%3E%0A+++%3Ch1%3E%E6%9F%A5%E8%AF%A2%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%3C%2Fh1%3E+%0A+++%3Ch1%3EQuerying+a+Smart+Contract%3C%2Fh1%3E+%0A+++%3Cp%3E%E8%BF%99%E5%86%99%E7%AB%A0%E8%8A%82%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E5%A6%82%E4%BD%95%E5%B0%86%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84ABI%E7%BC%96%E8%AF%91%E6%88%90Go%E7%9A%84%E5%90%88%E7%BA%A6%E6%96%87%E4%BB%B6%E3%80%82%E5%A6%82%E6%9E%9C%E4%BD%A0%E8%BF%98%E6%B2%A1%E7%9C%8B%EF%BC%8C+%E5%89%8D%E5%85%88%E8%AF%BB%3Ca+href%3D%22https%3A%2F%2Fgoethereumbook.org%2Fzh%2Fsmart-contract-compile%22+rel%3D%22nofollow%22%3E%E4%B8%8A%E4%B8%80%E4%B8%AA%E7%AB%A0%E8%8A%82%3C%2Fa%3E+%E3%80%82%3C%2Fp%3E+%0A+++%3Cp%3E%E5%9C%A8%E4%B8%8A%E4%B8%AA%E7%AB%A0%E8%8A%82%E6%88%91%E4%BB%AC%E5%AD%A6%E4%B9%A0%E4%BA%86%E5%A6%82%E4%BD%95%E5%9C%A8Go%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%88%9D%E5%A7%8B%E5%8C%96%E5%90%88%E7%BA%A6%E5%AE%9E%E4%BE%8B%E3%80%82+%E7%8E%B0%E5%9C%A8%E6%88%91%E4%BB%AC%E5%B0%86%E4%BD%BF%E7%94%A8%E6%96%B0%E5%90%88%E7%BA%A6%E5%AE%9E%E4%BE%8B%E6%8F%90%E4%BE%9B%E7%9A%84%E6%96%B9%E6%B3%95%E6%9D%A5%E9%98%85%E8%AF%BB%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E3%80%82+%E5%A6%82%E6%9E%9C%E4%BD%A0%E8%BF%98%E8%AE%B0%E5%BE%97%E6%88%91%E4%BB%AC%E5%9C%A8%E9%83%A8%E7%BD%B2%E8%BF%87%E7%A8%8B%E4%B8%AD%E8%AE%BE%E7%BD%AE%E7%9A%84%E5%90%88%E7%BA%A6%E4%B8%AD%E6%9C%89%E4%B8%80%E4%B8%AA%E5%90%8D%E4%B8%BA%3Ccode%3Eversion%3C%2Fcode%3E%E7%9A%84%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E3%80%82+%E5%9B%A0%E4%B8%BA%E5%AE%83%E6%98%AF%E5%85%AC%E5%BC%80%E7%9A%84%EF%BC%8C%E8%BF%99%E6%84%8F%E5%91%B3%E7%9D%80%E5%AE%83%E4%BB%AC%E5%B0%86%E6%88%90%E4%B8%BA%E6%88%91%E4%BB%AC%E8%87%AA%E5%8A%A8%E5%88%9B%E5%BB%BA%E7%9A%84getter%E5%87%BD%E6%95%B0%E3%80%82+%E5%B8%B8%E9%87%8F%E5%92%8Cview%E5%87%BD%E6%95%B0%E4%B9%9F%E6%8E%A5%E5%8F%97%3Ccode%3Ebind.CallOpts%3C%2Fcode%3E%E4%BD%9C%E4%B8%BA%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0%E3%80%82%E4%BA%86%E8%A7%A3%E5%8F%AF%E7%94%A8%E7%9A%84%E5%85%B7%E4%BD%93%E9%80%89%E9%A1%B9%E8%A6%81%E7%9C%8B%E7%9B%B8%E5%BA%94%E7%B1%BB%E7%9A%84%3Ca+href%3D%22https%3A%2F%2Fgodoc.org%2Fgithub.com%2Fethereum%2Fgo-ethereum%2Faccounts%2Fabi%2Fbind%23CallOpts%22+rel%3D%22nofollow%22%3E%E6%96%87%E6%A1%A3%3C%2Fa%3E+%E4%B8%80%E8%88%AC%E6%83%85%E5%86%B5%E4%B8%8B%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E7%94%A8+%3Ccode%3Enil%3C%2Fcode%3E%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Eversion%2C+err+%3A%3D+instance.Version%28nil%29%0Aif+err+%21%3D+nil+%7B%0A++log.Fatal%28err%29%0A%7D%0A%0Afmt.Println%28version%29+%2F%2F+%221.0%22%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Ch3%3E%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%3C%2Fh3%3E+%0A+++%3Cp%3ECommands%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Esolc+--abi+Store.sol%0Asolc+--bin+Store.sol%0Aabigen+--bin%3DStore_sol_Store.bin+--abi%3DStore_sol_Store.abi+--pkg%3Dstore+--out%3DStore.go%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%3Ca+href%3D%22https%3A%2F%2Fgithub.com%2Fmiguelmota%2Fethereum-development-with-go-book%2Fblob%2Fmaster%2Fcode%2Fcontracts%2FStore.sol%22+rel%3D%22nofollow%22%3EStore.sol%3C%2Fa%3E%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Epragma+solidity+%5E0.4.24%3B%0A%0Acontract+Store+%7B%0A++event+ItemSet%28bytes32+key%2C+bytes32+value%29%3B%0A%0A++string+public+version%3B%0A++mapping+%28bytes32+%3D%26gt%3B+bytes32%29+public+items%3B%0A%0A++constructor%28string+_version%29+public+%7B%0A++++version+%3D+_version%3B%0A++%7D%0A%0A++function+setItem%28bytes32+key%2C+bytes32+value%29+external+%7B%0A++++items%5Bkey%5D+%3D+value%3B%0A++++emit+ItemSet%28key%2C+value%29%3B%0A++%7D%0A%7D%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%3Ca+href%3D%22https%3A%2F%2Fgithub.com%2Fmiguelmota%2Fethereum-development-with-go-book%2Fblob%2Fmaster%2Fcode%2Fcontract_read.go%22+rel%3D%22nofollow%22%3Econtract_read.go%3C%2Fa%3E%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Epackage+main%0A%0Aimport+%28%0A++++%22fmt%22%0A++++%22log%22%0A%0A++++%22github.com%2Fethereum%2Fgo-ethereum%2Fcommon%22%0A++++%22github.com%2Fethereum%2Fgo-ethereum%2Fethclient%22%0A%0A++++store+%22.%2Fcontracts%22+%2F%2F+for+demo%0A%29%0A%0Afunc+main%28%29+%7B%0A++++client%2C+err+%3A%3D+ethclient.Dial%28%22https%3A%2F%2Frinkeby.infura.io%22%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++address+%3A%3D+common.HexToAddress%28%220x147B8eb97fD247D06C4006D269c90C1908Fb5D54%22%29%0A++++instance%2C+err+%3A%3D+store.NewStore%28address%2C+client%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++version%2C+err+%3A%3D+instance.Version%28nil%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++fmt.Println%28version%29+%2F%2F+%221.0%22%0A%7D%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3Esolc+version+used+for+these+examples%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3E%24+solc+--version%0A0.4.24%2Bcommit.e67f0147.Emscripten.clang%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Chr%3E%0A+++%3Ch1%3E%E5%86%99%E5%85%A5%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%3C%2Fh1%3E+%0A+++%3Cp%3E%E8%BF%99%E5%86%99%E7%AB%A0%E8%8A%82%E9%9C%80%E8%A6%81%E4%BA%86%E8%A7%A3%E5%A6%82%E4%BD%95%E5%B0%86%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84ABI%E7%BC%96%E8%AF%91%E6%88%90Go%E7%9A%84%E5%90%88%E7%BA%A6%E6%96%87%E4%BB%B6%E3%80%82%E5%A6%82%E6%9E%9C%E4%BD%A0%E8%BF%98%E6%B2%A1%E7%9C%8B%EF%BC%8C+%E5%89%8D%E5%85%88%E8%AF%BB%3Ca+href%3D%22https%3A%2F%2Fgoethereumbook.org%2Fzh%2Fsmart-contract-compile%22+rel%3D%22nofollow%22%3E%E4%B8%8A%E4%B8%80%E4%B8%AA%E7%AB%A0%E8%8A%82%3C%2Fa%3E+%E3%80%82%3C%2Fp%3E+%0A+++%3Cp%3E%E5%86%99%E5%85%A5%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E9%9C%80%E8%A6%81%E6%88%91%E4%BB%AC%E7%94%A8%E7%A7%81%E9%92%A5%E6%9D%A5%E5%AF%B9%E4%BA%A4%E6%98%93%E4%BA%8B%E5%8A%A1%E8%BF%9B%E8%A1%8C%E7%AD%BE%E5%90%8D%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3EprivateKey%2C+err+%3A%3D+crypto.HexToECDSA%28%22fad9c8855b740a0b7ed4c221dbad0f33a83a49cad6b3fe8d5817ac83d38b6a19%22%29%0Aif+err+%21%3D+nil+%7B%0A++log.Fatal%28err%29%0A%7D%0A%0ApublicKey+%3A%3D+privateKey.Public%28%29%0ApublicKeyECDSA%2C+ok+%3A%3D+publicKey.%28*ecdsa.PublicKey%29%0Aif+%21ok+%7B%0A++log.Fatal%28%22error+casting+public+key+to+ECDSA%22%29%0A%7D%0A%0AfromAddress+%3A%3D+crypto.PubkeyToAddress%28*publicKeyECDSA%29%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E6%88%91%E4%BB%AC%E8%BF%98%E9%9C%80%E8%A6%81%E5%85%88%E6%9F%A5%E5%88%B0nonce%E5%92%8C%E7%87%83%E6%B0%94%E4%BB%B7%E6%A0%BC%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Enonce%2C+err+%3A%3D+client.PendingNonceAt%28context.Background%28%29%2C+fromAddress%29%0Aif+err+%21%3D+nil+%7B%0A++log.Fatal%28err%29%0A%7D%0A%0AgasPrice%2C+err+%3A%3D+client.SuggestGasPrice%28context.Background%28%29%29%0Aif+err+%21%3D+nil+%7B%0A++log.Fatal%28err%29%0A%7D%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E6%8E%A5%E4%B8%8B%E6%9D%A5%EF%BC%8C%E6%88%91%E4%BB%AC%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84keyed+transactor%EF%BC%8C%E5%AE%83%E6%8E%A5%E6%94%B6%E7%A7%81%E9%92%A5%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Eauth+%3A%3D+bind.NewKeyedTransactor%28privateKey%29%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E7%84%B6%E5%90%8E%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E8%AE%BE%E7%BD%AEkeyed+transactor%E7%9A%84%E6%A0%87%E5%87%86%E4%BA%A4%E6%98%93%E9%80%89%E9%A1%B9%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Eauth.Nonce+%3D+big.NewInt%28int64%28nonce%29%29%0Aauth.Value+%3D+big.NewInt%280%29+++++%2F%2F+in+wei%0Aauth.GasLimit+%3D+uint64%28300000%29+%2F%2F+in+units%0Aauth.GasPrice+%3D+gasPrice%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E7%8E%B0%E5%9C%A8%E6%88%91%E4%BB%AC%E5%8A%A0%E8%BD%BD%E4%B8%80%E4%B8%AA%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84%E5%AE%9E%E4%BE%8B%E3%80%82%E5%A6%82%E6%9E%9C%E4%BD%A0%E8%BF%98%E8%AE%B0%E5%BE%97%3Ca+href%3D%22https%3A%2F%2Fgoethereumbook.org%2Fzh%2Fsmart-contract-compile%22+rel%3D%22nofollow%22%3E%E4%B8%8A%E4%B8%AA%E7%AB%A0%E8%8A%82%3C%2Fa%3E+%E6%88%91%E4%BB%AC%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%90%8D%E4%B8%BA%3Cem%3EStore%3C%2Fem%3E%E7%9A%84%E5%90%88%E7%BA%A6%EF%BC%8C%E5%B9%B6%E4%BD%BF%E7%94%A8%3Ccode%3Eabigen%3C%2Fcode%3E%E5%B7%A5%E5%85%B7%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AAGo%E6%96%87%E4%BB%B6%E3%80%82+%E8%A6%81%E5%88%9D%E5%A7%8B%E5%8C%96%E5%AE%83%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AA%E9%9C%80%E8%B0%83%E7%94%A8%E5%90%88%E7%BA%A6%E5%8C%85%E7%9A%84%3Cem%3ENew%3C%2Fem%3E%E6%96%B9%E6%B3%95%EF%BC%8C%E5%B9%B6%E6%8F%90%E4%BE%9B%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%9C%B0%E5%9D%80%E5%92%8Cethclient%EF%BC%8C%E5%AE%83%E8%BF%94%E5%9B%9E%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E7%9A%84%E5%90%88%E7%BA%A6%E5%AE%9E%E4%BE%8B%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Eaddress+%3A%3D+common.HexToAddress%28%220x147B8eb97fD247D06C4006D269c90C1908Fb5D54%22%29%0Ainstance%2C+err+%3A%3D+store.NewStore%28address%2C+client%29%0Aif+err+%21%3D+nil+%7B%0A++log.Fatal%28err%29%0A%7D%0A%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E6%88%91%E4%BB%AC%E5%88%9B%E5%BB%BA%E7%9A%84%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E6%9C%89%E4%B8%80%E4%B8%AA%E5%90%8D%E4%B8%BA%3Cem%3ESetItem%3C%2Fem%3E%E7%9A%84%E5%A4%96%E9%83%A8%E6%96%B9%E6%B3%95%EF%BC%8C%E5%AE%83%E6%8E%A5%E5%8F%97solidity%E2%80%9Cbytes32%E2%80%9D%E6%A0%BC%E5%BC%8F%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%8F%82%E6%95%B0%EF%BC%88key%EF%BC%8Cvalue%EF%BC%89%E3%80%82+%E8%BF%99%E6%84%8F%E5%91%B3%E7%9D%80Go%E5%90%88%E7%BA%A6%E5%8C%85%E8%A6%81%E6%B1%82%E6%88%91%E4%BB%AC%E4%BC%A0%E9%80%92%E4%B8%80%E4%B8%AA%E9%95%BF%E5%BA%A6%E4%B8%BA32%E4%B8%AA%E5%AD%97%E8%8A%82%E7%9A%84%E5%AD%97%E8%8A%82%E6%95%B0%E7%BB%84%E3%80%82+%E8%B0%83%E7%94%A8%3Cem%3ESetItem%3C%2Fem%3E%E6%96%B9%E6%B3%95%E9%9C%80%E8%A6%81%E6%88%91%E4%BB%AC%E4%BC%A0%E9%80%92%E6%88%91%E4%BB%AC%E4%B9%8B%E5%89%8D%E5%88%9B%E5%BB%BA%E7%9A%84%3Ccode%3Eauth%3C%2Fcode%3E%E5%AF%B9%E8%B1%A1%EF%BC%88keyed+transactor%EF%BC%89%E3%80%82+%E5%9C%A8%E5%B9%95%E5%90%8E%EF%BC%8C%E6%AD%A4%E6%96%B9%E6%B3%95%E5%B0%86%E4%BD%BF%E7%94%A8%E5%AE%83%E7%9A%84%E5%8F%82%E6%95%B0%E5%AF%B9%E6%AD%A4%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E8%BF%9B%E8%A1%8C%E7%BC%96%E7%A0%81%EF%BC%8C%E5%B0%86%E5%85%B6%E8%AE%BE%E7%BD%AE%E4%B8%BA%E4%BA%8B%E5%8A%A1%E7%9A%84%3Ccode%3Edata%3C%2Fcode%3E%E5%B1%9E%E6%80%A7%EF%BC%8C%E5%B9%B6%E4%BD%BF%E7%94%A8%E7%A7%81%E9%92%A5%E5%AF%B9%E5%85%B6%E8%BF%9B%E8%A1%8C%E7%AD%BE%E5%90%8D%E3%80%82+%E7%BB%93%E6%9E%9C%E5%B0%86%E6%98%AF%E4%B8%80%E4%B8%AA%E5%B7%B2%E7%AD%BE%E5%90%8D%E7%9A%84%E4%BA%8B%E5%8A%A1%E5%AF%B9%E8%B1%A1%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Ekey+%3A%3D+%5B32%5Dbyte%7B%7D%0Avalue+%3A%3D+%5B32%5Dbyte%7B%7D%0Acopy%28key%5B%3A%5D%2C+%5B%5Dbyte%28%22foo%22%29%29%0Acopy%28value%5B%3A%5D%2C+%5B%5Dbyte%28%22bar%22%29%29%0A%0Atx%2C+err+%3A%3D+instance.SetItem%28auth%2C+key%2C+value%29%0Aif+err+%21%3D+nil+%7B%0A++log.Fatal%28err%29%0A%7D%0A%0Afmt.Printf%28%22tx+sent%3A+%25s%22%2C+tx.Hash%28%29.Hex%28%29%29+%2F%2F+tx+sent%3A+0x8d490e535678e9a24360e955d75b27ad307bdfb97a1dca51d0f3035dcee3e870%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E7%8E%B0%E5%9C%A8%E6%88%91%E5%B0%B1%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E4%BA%A4%E6%98%93%E5%B7%B2%E7%BB%8F%E6%88%90%E5%8A%9F%E8%A2%AB%E5%8F%91%E9%80%81%E5%88%B0%E4%BA%86%E4%BB%A5%E5%A4%AA%E5%9D%8A%E7%BD%91%E7%BB%9C%E4%BA%86%3A+%3Ca+href%3D%22https%3A%2F%2Frinkeby.etherscan.io%2Ftx%2F0x8d490e535678e9a24360e955d75b27ad307bdfb97a1dca51d0f3035dcee3e870%22+rel%3D%22nofollow%22%3Ehttps%3A%2F%2Frinkeby.etherscan.io%2Ftx%2F0x8d490e535678e9a24360e955d75b27ad307bdfb97a1dca51d0f3035dcee3e870%3C%2Fa%3E%3C%2Fp%3E+%0A+++%3Cp%3E%E8%A6%81%E9%AA%8C%E8%AF%81%E9%94%AE%2F%E5%80%BC%E6%98%AF%E5%90%A6%E5%B7%B2%E8%AE%BE%E7%BD%AE%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E8%AF%BB%E5%8F%96%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E4%B8%AD%E7%9A%84%E5%80%BC%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Eresult%2C+err+%3A%3D+instance.Items%28nil%2C+key%29%0Aif+err+%21%3D+nil+%7B%0A++log.Fatal%28err%29%0A%7D%0A%0Afmt.Println%28string%28result%5B%3A%5D%29%29+%2F%2F+%22bar%22%0A%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E6%90%9E%E5%AE%9A%EF%BC%81%3C%2Fp%3E+%0A+++%3Ch3%3E%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%3C%2Fh3%3E+%0A+++%3Cp%3ECommands%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Esolc+--abi+Store.sol%0Asolc+--bin+Store.sol%0Aabigen+--bin%3DStore_sol_Store.bin+--abi%3DStore_sol_Store.abi+--pkg%3Dstore+--out%3DStore.go%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%3Ca+href%3D%22https%3A%2F%2Fgithub.com%2Fmiguelmota%2Fethereum-development-with-go-book%2Fblob%2Fmaster%2Fcode%2Fcontracts%2FStore.sol%22+rel%3D%22nofollow%22%3EStore.sol%3C%2Fa%3E%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Epragma+solidity+%5E0.4.24%3B%0A%0Acontract+Store+%7B%0A++event+ItemSet%28bytes32+key%2C+bytes32+value%29%3B%0A%0A++string+public+version%3B%0A++mapping+%28bytes32+%3D%26gt%3B+bytes32%29+public+items%3B%0A%0A++constructor%28string+_version%29+public+%7B%0A++++version+%3D+_version%3B%0A++%7D%0A%0A++function+setItem%28bytes32+key%2C+bytes32+value%29+external+%7B%0A++++items%5Bkey%5D+%3D+value%3B%0A++++emit+ItemSet%28key%2C+value%29%3B%0A++%7D%0A%7D%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%3Ca+href%3D%22https%3A%2F%2Fgithub.com%2Fmiguelmota%2Fethereum-development-with-go-book%2Fblob%2Fmaster%2Fcode%2Fcontract_write.go%22+rel%3D%22nofollow%22%3Econtract_write.go%3C%2Fa%3E%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Epackage+main%0A%0Aimport+%28%0A++++%22fmt%22%0A++++%22log%22%0A%0A++++%22github.com%2Fethereum%2Fgo-ethereum%2Faccounts%2Fabi%2Fbind%22%0A++++%22github.com%2Fethereum%2Fgo-ethereum%2Fcommon%22%0A++++%22github.com%2Fethereum%2Fgo-ethereum%2Fethclient%22%0A%0A++++store+%22.%2Fcontracts%22+%2F%2F+for+demo%0A%29%0A%0Afunc+main%28%29+%7B%0A++++client%2C+err+%3A%3D+ethclient.Dial%28%22https%3A%2F%2Frinkeby.infura.io%22%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++privateKey%2C+err+%3A%3D+crypto.HexToECDSA%28%22fad9c8855b740a0b7ed4c221dbad0f33a83a49cad6b3fe8d5817ac83d38b6a19%22%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++publicKey+%3A%3D+privateKey.Public%28%29%0A++++publicKeyECDSA%2C+ok+%3A%3D+publicKey.%28*ecdsa.PublicKey%29%0A++++if+%21ok+%7B%0A++++++++log.Fatal%28%22error+casting+public+key+to+ECDSA%22%29%0A++++%7D%0A%0A++++fromAddress+%3A%3D+crypto.PubkeyToAddress%28*publicKeyECDSA%29%0A++++nonce%2C+err+%3A%3D+client.PendingNonceAt%28context.Background%28%29%2C+fromAddress%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++gasPrice%2C+err+%3A%3D+client.SuggestGasPrice%28context.Background%28%29%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++auth+%3A%3D+bind.NewKeyedTransactor%28privateKey%29%0A++++auth.Nonce+%3D+big.NewInt%28int64%28nonce%29%29%0A++++auth.Value+%3D+big.NewInt%280%29+++++%2F%2F+in+wei%0A++++auth.GasLimit+%3D+uint64%28300000%29+%2F%2F+in+units%0A++++auth.GasPrice+%3D+gasPrice%0A%0A++++address+%3A%3D+common.HexToAddress%28%220x147B8eb97fD247D06C4006D269c90C1908Fb5D54%22%29%0A++++instance%2C+err+%3A%3D+store.NewStore%28address%2C+client%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++key+%3A%3D+%5B32%5Dbyte%7B%7D%0A++++value+%3A%3D+%5B32%5Dbyte%7B%7D%0A++++copy%28key%5B%3A%5D%2C+%5B%5Dbyte%28%22foo%22%29%29%0A++++copy%28value%5B%3A%5D%2C+%5B%5Dbyte%28%22bar%22%29%29%0A%0A++++tx%2C+err+%3A%3D+instance.SetItem%28auth%2C+key%2C+value%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++fmt.Printf%28%22tx+sent%3A+%25s%22%2C+tx.Hash%28%29.Hex%28%29%29+%2F%2F+tx+sent%3A+0x8d490e535678e9a24360e955d75b27ad307bdfb97a1dca51d0f3035dcee3e870%0A%0A++++result%2C+err+%3A%3D+instance.Items%28nil%2C+key%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++fmt.Println%28string%28result%5B%3A%5D%29%29+%2F%2F+%22bar%22%0A%7D%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3Esolc+version+used+for+these+examples%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3E%24+solc+--version%0A0.4.24%2Bcommit.e67f0147.Emscripten.clang%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Chr%3E%0A+++%3Ch1%3E%E8%AF%BB%E5%8F%96%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84%E5%AD%97%E8%8A%82%E7%A0%81%3C%2Fh1%3E+%0A+++%3Cp%3E%E6%9C%89%E6%97%B6%E6%82%A8%E9%9C%80%E8%A6%81%E8%AF%BB%E5%8F%96%E5%B7%B2%E9%83%A8%E7%BD%B2%E7%9A%84%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84%E5%AD%97%E8%8A%82%E7%A0%81%E3%80%82+%E7%94%B1%E4%BA%8E%E6%89%80%E6%9C%89%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%AD%97%E8%8A%82%E7%A0%81%E9%83%BD%E5%AD%98%E5%9C%A8%E4%BA%8E%E5%8C%BA%E5%9D%97%E9%93%BE%E4%B8%AD%EF%BC%8C%E5%9B%A0%E6%AD%A4%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E8%BD%BB%E6%9D%BE%E8%8E%B7%E5%8F%96%E5%AE%83%E3%80%82%3C%2Fp%3E+%0A+++%3Cp%3E%E9%A6%96%E5%85%88%E8%AE%BE%E7%BD%AE%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%92%8C%E8%A6%81%E8%AF%BB%E5%8F%96%E7%9A%84%E5%AD%97%E8%8A%82%E7%A0%81%E7%9A%84%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%9C%B0%E5%9D%80%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Eclient%2C+err+%3A%3D+ethclient.Dial%28%22https%3A%2F%2Frinkeby.infura.io%22%29%0Aif+err+%21%3D+nil+%7B%0A++log.Fatal%28err%29%0A%7D%0A%0AcontractAddress+%3A%3D+common.HexToAddress%28%220x147B8eb97fD247D06C4006D269c90C1908Fb5D54%22%29%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E7%8E%B0%E5%9C%A8%E4%BD%A0%E9%9C%80%E8%A6%81%E8%B0%83%E7%94%A8%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9A%84%3Ccode%3EcodeAt%3C%2Fcode%3E%E6%96%B9%E6%B3%95%E3%80%82+%3Ccode%3EcodeAt%3C%2Fcode%3E%E6%96%B9%E6%B3%95%E6%8E%A5%E5%8F%97%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%9C%B0%E5%9D%80%E5%92%8C%E5%8F%AF%E9%80%89%E7%9A%84%E5%9D%97%E7%BC%96%E5%8F%B7%EF%BC%8C%E5%B9%B6%E4%BB%A5%E5%AD%97%E8%8A%82%E6%A0%BC%E5%BC%8F%E8%BF%94%E5%9B%9E%E5%AD%97%E8%8A%82%E7%A0%81%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Ebytecode%2C+err+%3A%3D+client.CodeAt%28context.Background%28%29%2C+contractAddress%2C+nil%29+%2F%2F+nil+is+latest+block%0Aif+err+%21%3D+nil+%7B%0A++log.Fatal%28err%29%0A%7D%0A%0Afmt.Println%28hex.EncodeToString%28bytecode%29%29+%2F%2F+60806...10029%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E4%BD%A0%E4%B9%9F%E5%8F%AF%E4%BB%A5%E5%9C%A8etherscan%E4%B8%8A%E6%9F%A5%E8%AF%A216%E8%BF%9B%E5%88%B6%E6%A0%BC%E5%BC%8F%E7%9A%84%E5%AD%97%E8%8A%82%E7%A0%81+%3Ca+href%3D%22https%3A%2F%2Frinkeby.etherscan.io%2Faddress%2F0x147b8eb97fd247d06c4006d269c90c1908fb5d54%23code%22+rel%3D%22nofollow%22%3Ehttps%3A%2F%2Frinkeby.etherscan.io%2Faddress%2F0x147b8eb97fd247d06c4006d269c90c1908fb5d54%23code%3C%2Fa%3E%3C%2Fp%3E+%0A+++%3Ch3%3E%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%3C%2Fh3%3E+%0A+++%3Cp%3E%3Ca+href%3D%22https%3A%2F%2Fgithub.com%2Fmiguelmota%2Fethereum-development-with-go-book%2Fblob%2Fmaster%2Fcode%2Fcontract_bytecode.go%22+rel%3D%22nofollow%22%3Econtract_bytecode.go%3C%2Fa%3E%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Epackage+main%0A%0Aimport+%28%0A++++%22context%22%0A++++%22encoding%2Fhex%22%0A++++%22fmt%22%0A++++%22log%22%0A%0A++++%22github.com%2Fethereum%2Fgo-ethereum%2Fcommon%22%0A++++%22github.com%2Fethereum%2Fgo-ethereum%2Fethclient%22%0A%29%0A%0Afunc+main%28%29+%7B%0A++++client%2C+err+%3A%3D+ethclient.Dial%28%22https%3A%2F%2Frinkeby.infura.io%22%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++contractAddress+%3A%3D+common.HexToAddress%28%220x147B8eb97fD247D06C4006D269c90C1908Fb5D54%22%29%0A++++bytecode%2C+err+%3A%3D+client.CodeAt%28context.Background%28%29%2C+contractAddress%2C+nil%29+%2F%2F+nil+is+latest+block%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++fmt.Println%28hex.EncodeToString%28bytecode%29%29+%2F%2F+60806...10029%0A%7D%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Chr%3E%0A+++%3Ch1%3E%E6%9F%A5%E8%AF%A2ERC20%E4%BB%A3%E5%B8%81%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%3C%2Fh1%3E+%0A+++%3Cp%3E%E9%A6%96%E5%85%88%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAERC20%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6interface%E3%80%82+%E8%BF%99%E5%8F%AA%E6%98%AF%E4%B8%8E%E6%82%A8%E5%8F%AF%E4%BB%A5%E8%B0%83%E7%94%A8%E7%9A%84%E5%87%BD%E6%95%B0%E7%9A%84%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89%E7%9A%84%E5%A5%91%E7%BA%A6%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Epragma+solidity+%5E0.4.24%3B%0A%0Acontract+ERC20+%7B%0A++++string+public+constant+name+%3D+%22%22%3B%0A++++string+public+constant+symbol+%3D+%22%22%3B%0A++++uint8+public+constant+decimals+%3D+0%3B%0A%0A++++function+totalSupply%28%29+public+constant+returns+%28uint%29%3B%0A++++function+balanceOf%28address+tokenOwner%29+public+constant+returns+%28uint+balance%29%3B%0A++++function+allowance%28address+tokenOwner%2C+address+spender%29+public+constant+returns+%28uint+remaining%29%3B%0A++++function+transfer%28address+to%2C+uint+tokens%29+public+returns+%28bool+success%29%3B%0A++++function+approve%28address+spender%2C+uint+tokens%29+public+returns+%28bool+success%29%3B%0A++++function+transferFrom%28address+from%2C+address+to%2C+uint+tokens%29+public+returns+%28bool+success%29%3B%0A%0A++++event+Transfer%28address+indexed+from%2C+address+indexed+to%2C+uint+tokens%29%3B%0A++++event+Approval%28address+indexed+tokenOwner%2C+address+indexed+spender%2C+uint+tokens%29%3B%0A%7D%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E7%84%B6%E5%90%8E%E5%B0%86interface%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%BC%96%E8%AF%91%E4%B8%BAJSON+ABI%EF%BC%8C%E5%B9%B6%E4%BD%BF%E7%94%A8%3Ccode%3Eabigen%3C%2Fcode%3E%E4%BB%8EABI%E5%88%9B%E5%BB%BAGo%E5%8C%85%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Esolc+--abi+erc20.sol%0Aabigen+--abi%3Derc20_sol_ERC20.abi+--pkg%3Dtoken+--out%3Derc20.go%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E5%81%87%E8%AE%BE%E6%88%91%E4%BB%AC%E5%B7%B2%E7%BB%8F%E5%83%8F%E5%BE%80%E5%B8%B8%E4%B8%80%E6%A0%B7%E8%AE%BE%E7%BD%AE%E4%BA%86%E4%BB%A5%E5%A4%AA%E5%9D%8A%E5%AE%A2%E6%88%B7%E7%AB%AF%EF%BC%8C%E6%88%91%E4%BB%AC%E7%8E%B0%E5%9C%A8%E5%8F%AF%E4%BB%A5%E5%B0%86%E6%96%B0%E7%9A%84%3Cem%3Etoken%3C%2Fem%3E%E5%8C%85%E5%AF%BC%E5%85%A5%E6%88%91%E4%BB%AC%E7%9A%84%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%B9%B6%E5%AE%9E%E4%BE%8B%E5%8C%96%E5%AE%83%E3%80%82%E8%BF%99%E4%B8%AA%E4%BE%8B%E5%AD%90%E9%87%8C%E6%88%91%E4%BB%AC%E7%94%A8%3Ca+href%3D%22https%3A%2F%2Fetherscan.io%2Faddress%2F0xa74476443119a942de498590fe1f2454d7d4ac0d%22+rel%3D%22nofollow%22%3EGolem%3C%2Fa%3E+%E4%BB%A3%E5%B8%81%E7%9A%84%E5%9C%B0%E5%9D%80.%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3EtokenAddress+%3A%3D+common.HexToAddress%28%220xa74476443119A942dE498590Fe1f2454d7D4aC0d%22%29%0Ainstance%2C+err+%3A%3D+token.NewToken%28tokenAddress%2C+client%29%0Aif+err+%21%3D+nil+%7B%0A++log.Fatal%28err%29%0A%7D%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E6%88%91%E4%BB%AC%E7%8E%B0%E5%9C%A8%E5%8F%AF%E4%BB%A5%E8%B0%83%E7%94%A8%E4%BB%BB%E4%BD%95ERC20%E7%9A%84%E6%96%B9%E6%B3%95%E3%80%82+%E4%BE%8B%E5%A6%82%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E6%9F%A5%E8%AF%A2%E7%94%A8%E6%88%B7%E7%9A%84%E4%BB%A3%E5%B8%81%E4%BD%99%E9%A2%9D%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Eaddress+%3A%3D+common.HexToAddress%28%220x0536806df512d6cdde913cf95c9886f65b1d3462%22%29%0Abal%2C+err+%3A%3D+instance.BalanceOf%28%26amp%3Bbind.CallOpts%7B%7D%2C+address%29%0Aif+err+%21%3D+nil+%7B%0A++log.Fatal%28err%29%0A%7D%0A%0Afmt.Printf%28%22wei%3A+%25s%5Cn%22%2C+bal%29+%2F%2F+%22wei%3A+74605500647408739782407023%22%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E6%88%91%E4%BB%AC%E8%BF%98%E5%8F%AF%E4%BB%A5%E8%AF%BBERC20%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E7%9A%84%E5%85%AC%E5%85%B1%E5%8F%98%E9%87%8F%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Ename%2C+err+%3A%3D+instance.Name%28%26amp%3Bbind.CallOpts%7B%7D%29%0Aif+err+%21%3D+nil+%7B%0A++log.Fatal%28err%29%0A%7D%0A%0Asymbol%2C+err+%3A%3D+instance.Symbol%28%26amp%3Bbind.CallOpts%7B%7D%29%0Aif+err+%21%3D+nil+%7B%0A++log.Fatal%28err%29%0A%7D%0A%0Adecimals%2C+err+%3A%3D+instance.Decimals%28%26amp%3Bbind.CallOpts%7B%7D%29%0Aif+err+%21%3D+nil+%7B%0A++log.Fatal%28err%29%0A%7D%0A%0Afmt.Printf%28%22name%3A+%25s%5Cn%22%2C+name%29+++++++++%2F%2F+%22name%3A+Golem+Network%22%0Afmt.Printf%28%22symbol%3A+%25s%5Cn%22%2C+symbol%29+++++%2F%2F+%22symbol%3A+GNT%22%0Afmt.Printf%28%22decimals%3A+%25v%5Cn%22%2C+decimals%29+%2F%2F+%22decimals%3A+18%22%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E5%81%9A%E4%B8%80%E4%BA%9B%E7%AE%80%E5%8D%95%E7%9A%84%E6%95%B0%E5%AD%A6%E8%BF%90%E7%AE%97%E5%B0%86%E4%BD%99%E9%A2%9D%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%8F%AF%E8%AF%BB%E7%9A%84%E5%8D%81%E8%BF%9B%E5%88%B6%E6%A0%BC%E5%BC%8F%E3%80%82%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Efbal+%3A%3D+new%28big.Float%29%0Afbal.SetString%28bal.String%28%29%29%0Avalue+%3A%3D+new%28big.Float%29.Quo%28fbal%2C+big.NewFloat%28math.Pow10%28int%28decimals%29%29%29%29%0A%0Afmt.Printf%28%22balance%3A+%25f%22%2C+value%29+%2F%2F+%22balance%3A+74605500.647409%22%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%E5%90%8C%E6%A0%B7%E7%9A%84%E4%BF%A1%E6%81%AF%E4%B9%9F%E5%8F%AF%E4%BB%A5%E5%9C%A8etherscan%E4%B8%8A%E6%9F%A5%E8%AF%A2%3A+%3Ca+href%3D%22https%3A%2F%2Fetherscan.io%2Ftoken%2F0xa74476443119a942de498590fe1f2454d7d4ac0d%3Fa%3D0x0536806df512d6cdde913cf95c9886f65b1d3462%22+rel%3D%22nofollow%22%3Ehttps%3A%2F%2Fetherscan.io%2Ftoken%2F0xa74476443119a942de498590fe1f2454d7d4ac0d%3Fa%3D0x0536806df512d6cdde913cf95c9886f65b1d3462%3C%2Fa%3E%3C%2Fp%3E+%0A+++%3Ch3%3E%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%3C%2Fh3%3E+%0A+++%3Cp%3ECommands%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Esolc+--abi+erc20.sol%0Aabigen+--abi%3Derc20_sol_ERC20.abi+--pkg%3Dtoken+--out%3Derc20.go%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%3Ca+href%3D%22https%3A%2F%2Fgithub.com%2Fmiguelmota%2Fethereum-development-with-go-book%2Fblob%2Fmaster%2Fcode%2Fcontracts_erc20%2Ferc20.sol%22+rel%3D%22nofollow%22%3Eerc20.sol%3C%2Fa%3E%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Epragma+solidity+%5E0.4.24%3B%0A%0Acontract+ERC20+%7B%0A++++string+public+constant+name+%3D+%22%22%3B%0A++++string+public+constant+symbol+%3D+%22%22%3B%0A++++uint8+public+constant+decimals+%3D+0%3B%0A%0A++++function+totalSupply%28%29+public+constant+returns+%28uint%29%3B%0A++++function+balanceOf%28address+tokenOwner%29+public+constant+returns+%28uint+balance%29%3B%0A++++function+allowance%28address+tokenOwner%2C+address+spender%29+public+constant+returns+%28uint+remaining%29%3B%0A++++function+transfer%28address+to%2C+uint+tokens%29+public+returns+%28bool+success%29%3B%0A++++function+approve%28address+spender%2C+uint+tokens%29+public+returns+%28bool+success%29%3B%0A++++function+transferFrom%28address+from%2C+address+to%2C+uint+tokens%29+public+returns+%28bool+success%29%3B%0A%0A++++event+Transfer%28address+indexed+from%2C+address+indexed+to%2C+uint+tokens%29%3B%0A++++event+Approval%28address+indexed+tokenOwner%2C+address+indexed+spender%2C+uint+tokens%29%3B%0A%7D%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3E%3Ca+href%3D%22https%3A%2F%2Fgithub.com%2Fmiguelmota%2Fethereum-development-with-go-book%2Fblob%2Fmaster%2Fcode%2Fcontract_read_erc20.go%22+rel%3D%22nofollow%22%3Econtract_read_erc20.go%3C%2Fa%3E%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3Epackage+main%0A%0Aimport+%28%0A++++%22fmt%22%0A++++%22log%22%0A++++%22math%22%0A++++%22math%2Fbig%22%0A%0A++++%22github.com%2Fethereum%2Fgo-ethereum%2Faccounts%2Fabi%2Fbind%22%0A++++%22github.com%2Fethereum%2Fgo-ethereum%2Fcommon%22%0A++++%22github.com%2Fethereum%2Fgo-ethereum%2Fethclient%22%0A%0A++++token+%22.%2Fcontracts_erc20%22+%2F%2F+for+demo%0A%29%0A%0Afunc+main%28%29+%7B%0A++++client%2C+err+%3A%3D+ethclient.Dial%28%22https%3A%2F%2Fmainnet.infura.io%22%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++%2F%2F+Golem+%28GNT%29+Address%0A++++tokenAddress+%3A%3D+common.HexToAddress%28%220xa74476443119A942dE498590Fe1f2454d7D4aC0d%22%29%0A++++instance%2C+err+%3A%3D+token.NewToken%28tokenAddress%2C+client%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++address+%3A%3D+common.HexToAddress%28%220x0536806df512d6cdde913cf95c9886f65b1d3462%22%29%0A++++bal%2C+err+%3A%3D+instance.BalanceOf%28%26amp%3Bbind.CallOpts%7B%7D%2C+address%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++name%2C+err+%3A%3D+instance.Name%28%26amp%3Bbind.CallOpts%7B%7D%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++symbol%2C+err+%3A%3D+instance.Symbol%28%26amp%3Bbind.CallOpts%7B%7D%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++decimals%2C+err+%3A%3D+instance.Decimals%28%26amp%3Bbind.CallOpts%7B%7D%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++log.Fatal%28err%29%0A++++%7D%0A%0A++++fmt.Printf%28%22name%3A+%25s%5Cn%22%2C+name%29+++++++++%2F%2F+%22name%3A+Golem+Network%22%0A++++fmt.Printf%28%22symbol%3A+%25s%5Cn%22%2C+symbol%29+++++%2F%2F+%22symbol%3A+GNT%22%0A++++fmt.Printf%28%22decimals%3A+%25v%5Cn%22%2C+decimals%29+%2F%2F+%22decimals%3A+18%22%0A%0A++++fmt.Printf%28%22wei%3A+%25s%5Cn%22%2C+bal%29+%2F%2F+%22wei%3A+74605500647408739782407023%22%0A%0A++++fbal+%3A%3D+new%28big.Float%29%0A++++fbal.SetString%28bal.String%28%29%29%0A++++value+%3A%3D+new%28big.Float%29.Quo%28fbal%2C+big.NewFloat%28math.Pow10%28int%28decimals%29%29%29%29%0A%0A++++fmt.Printf%28%22balance%3A+%25f%22%2C+value%29+%2F%2F+%22balance%3A+74605500.647409%22%0A%7D%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Cp%3Esolc+version+used+for+these+examples%3C%2Fp%3E+%0A+++%3Cpre%3E%3Ccode%3E%24+solc+--version%0A0.4.24%2Bcommit.e67f0147.Emscripten.clang%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A+++%3Ch2%3E%3Cem%3E%E6%96%87%E7%AB%A0%E4%B8%8D%E5%AE%9A%E6%9C%9F%E6%9B%B4%E6%96%B0%EF%BC%8C%E5%B0%8F%E7%BC%96%E5%BE%AE%E4%BF%A1%EF%BC%9Agrey0805%EF%BC%8C%E6%AC%A2%E8%BF%8E%E4%BA%A4%E6%B5%81%3C%2Fem%3E%3C%2Fh2%3E+%0A++%3C%2Fdiv%3E+%0A+%3C%2Fdiv%3E+%0A%3C%2Fdiv%3E" | url_decode}}