---
layout: default
title: fabric智能合约(chaincode)升级版本
---

{{ "%3Cdiv+id%3D%22article_content%22+class%3D%22article_content+clearfix+csdn-tracking-statistics%22+data-pid%3D%22blog%22+data-mod%3D%22popu_307%22+data-dsm%3D%22post%22%3E+%0A+%3Cdiv+class%3D%22markdown_views%22%3E+%0A++%3Cblockquote%3E+%0A+++%3Cp%3E%E5%9F%BA%E4%BA%8Efabric-sdk-go%3C%2Fp%3E+%0A++%3C%2Fblockquote%3E+%0A++%3Ch3+id%3D%221%E5%AE%89%E8%A3%85chaincode%E5%AF%B9%E5%BA%94%E7%89%88%E6%9C%ACfunc%22%3E1.%E5%AE%89%E8%A3%85chaincode%E5%AF%B9%E5%BA%94%E7%89%88%E6%9C%ACfunc%3C%2Fh3%3E+%0A++%3Cpre+class%3D%22prettyprint%22%3E%3Ccode+class%3D%22+hljs+java%22%3E%3Cspan+class%3D%22hljs-javadoc%22%3E%2F**+%E5%AE%89%E8%A3%9D+*%2F%3C%2Fspan%3E%0Afunc+InstallPackage%28client+*channel.Client%2C+sdk+*fabsdk.FabricSDK%2C+version+string%29+%7B%0A++++adminContext+%3A%3D+sdk.Context%28fabsdk.WithUser%28OrgAdmin%29%2C+fabsdk.WithOrg%28OrgName%29%29%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+Org+resource+management+client%3C%2Fspan%3E%0A++++orgResMgmt%2C+err+%3A%3D+resmgmt.New%28adminContext%29%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Eif%3C%2Fspan%3E+err+%21%3D+nil+%7B%0A++++++++fmt.Println%28%3Cspan+class%3D%22hljs-string%22%3E%22error%22%3C%2Fspan%3E%2C+err%29%0A++++%7D%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2Fchaincodeexample+%E7%9B%B8%E5%AF%B9%E8%B7%AF%E5%BE%84%E5%A6%82%E6%9E%9C%E8%AE%BE%E7%BD%AE%E9%94%99%E8%AF%AF%E5%B0%B1%E6%97%A0%E6%B3%95%E6%89%BE%E5%88%B0%3C%2Fspan%3E%0A++++ccPkg%2C+err+%3A%3D+packager.NewCCPackage%28%3Cspan+class%3D%22hljs-string%22%3E%22github.com%2Fexample_cc%22%3C%2Fspan%3E%2C+%3Cspan+class%3D%22hljs-string%22%3E%22chaincodeexample%22%3C%2Fspan%3E%29%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Eif%3C%2Fspan%3E+err+%21%3D+nil+%7B%0A++++++++fmt.Println%28err%29%0A++++%7D%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+Install+example+cc+to+org+peers%3C%2Fspan%3E%0A++++installCCReq+%3A%3D+resmgmt.InstallCCRequest%7BName%3A+CcID%2C+Path%3A+%3Cspan+class%3D%22hljs-string%22%3E%22github.com%2Fexample_cc%22%3C%2Fspan%3E%2C+Version%3A+version%2C+Package%3A+ccPkg%7D%0A++++res%2C+err+%3A%3D+orgResMgmt.InstallCC%28installCCReq%29%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Eif%3C%2Fspan%3E+err+%21%3D+nil+%7B%0A++++++++fmt.Println%28err%29%0A++++%7D%0A++++fmt.Println%28%3Cspan+class%3D%22hljs-string%22%3E%22+%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D+%22%3C%2Fspan%3E%2C+res%29%0A%7D%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Ch3+id%3D%222%E6%9B%B4%E6%96%B0chaincode%E5%AF%B9%E5%BA%94%E7%89%88%E6%9C%ACfunc%22%3E2.%E6%9B%B4%E6%96%B0chaincode%E5%AF%B9%E5%BA%94%E7%89%88%E6%9C%ACfunc%3C%2Fh3%3E+%0A++%3Cpre+class%3D%22prettyprint%22%3E%3Ccode+class%3D%22+hljs+avrasm%22%3Efunc+UpdateCC%28sdk+*fabsdk%3Cspan+class%3D%22hljs-preprocessor%22%3E.FabricSDK%3C%2Fspan%3E%2C+version+string%2C+args+%5B%5D%5B%5Dbyte%29+%7B%0A++++adminContext+%3A%3D+sdk%3Cspan+class%3D%22hljs-preprocessor%22%3E.Context%3C%2Fspan%3E%28fabsdk%3Cspan+class%3D%22hljs-preprocessor%22%3E.WithUser%3C%2Fspan%3E%28OrgAdmin%29%2C+fabsdk%3Cspan+class%3D%22hljs-preprocessor%22%3E.WithOrg%3C%2Fspan%3E%28OrgName%29%29%0A++++%2F%2F+Org+resource+management+client%0A++++orgResMgmt%2C+err+%3A%3D+resmgmt%3Cspan+class%3D%22hljs-preprocessor%22%3E.New%3C%2Fspan%3E%28adminContext%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++fmt%3Cspan+class%3D%22hljs-preprocessor%22%3E.Println%3C%2Fspan%3E%28%3Cspan+class%3D%22hljs-string%22%3E%22error%22%3C%2Fspan%3E%2C+err%29%0A++++%7D%0A++++ccPolicy+%3A%3D+cauthdsl%3Cspan+class%3D%22hljs-preprocessor%22%3E.SignedByAnyMember%3C%2Fspan%3E%28%5B%5Dstring%7B%3Cspan+class%3D%22hljs-string%22%3E%22Org1MSP%22%3C%2Fspan%3E%7D%29%0A++++req+%3A%3D+resmgmt%3Cspan+class%3D%22hljs-preprocessor%22%3E.UpgradeCCRequest%3C%2Fspan%3E%7BName%3A+CcID%2C+Version%3A+version%2C+Path%3A+%3Cspan+class%3D%22hljs-string%22%3E%22github.com%2Fexample_cc%22%3C%2Fspan%3E%2C+Policy%3A+ccPolicy%2C+Args%3A+args%7D%0A++++res%2C+err+%3A%3D+orgResMgmt%3Cspan+class%3D%22hljs-preprocessor%22%3E.UpgradeCC%3C%2Fspan%3E%28ChannelID%2C+req%29%0A++++if+err+%21%3D+nil+%7B%0A++++++++fmt%3Cspan+class%3D%22hljs-preprocessor%22%3E.Println%3C%2Fspan%3E%28err%29%0A++++%7D+else%7B%0A++++++++fmt%3Cspan+class%3D%22hljs-preprocessor%22%3E.Println%3C%2Fspan%3E%28%3Cspan+class%3D%22hljs-string%22%3E%22+%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D+UpdateCC+%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D+%22%3C%2Fspan%3E%2C+res%29%0A++++%7D%0A%7D%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Ch3+id%3D%223%E8%B0%83%E7%94%A8%22%3E3.%E8%B0%83%E7%94%A8%3C%2Fh3%3E+%0A++%3Cpre+class%3D%22prettyprint%22%3E%3Ccode+class%3D%22+hljs+axapta%22%3EInstallPackage%28%3Cspan+class%3D%22hljs-keyword%22%3Eclient%3C%2Fspan%3E%2C+sdk%2C%3Cspan+class%3D%22hljs-string%22%3E%222%22%3C%2Fspan%3E%29%0AUpdateCC%28sdk%2C+%3Cspan+class%3D%22hljs-string%22%3E%222%22%3C%2Fspan%3E%2C+%5B%5D%5B%5D%3Cspan+class%3D%22hljs-keyword%22%3Ebyte%3C%2Fspan%3E%7B%5B%5D%3Cspan+class%3D%22hljs-keyword%22%3Ebyte%3C%2Fspan%3E%28%3Cspan+class%3D%22hljs-string%22%3E%22init%22%3C%2Fspan%3E%29%2C+%5B%5D%3Cspan+class%3D%22hljs-keyword%22%3Ebyte%3C%2Fspan%3E%28%3Cspan+class%3D%22hljs-string%22%3E%22a%22%3C%2Fspan%3E%29%2C+%5B%5D%3Cspan+class%3D%22hljs-keyword%22%3Ebyte%3C%2Fspan%3E%28%3Cspan+class%3D%22hljs-string%22%3E%22100%22%3C%2Fspan%3E%29%2C+%5B%5D%3Cspan+class%3D%22hljs-keyword%22%3Ebyte%3C%2Fspan%3E%28%3Cspan+class%3D%22hljs-string%22%3E%22b%22%3C%2Fspan%3E%29%2C+%5B%5D%3Cspan+class%3D%22hljs-keyword%22%3Ebyte%3C%2Fspan%3E%28%3Cspan+class%3D%22hljs-string%22%3E%22200%22%3C%2Fspan%3E%29%7D%29%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Cp%3Edocker+ps+%E7%BB%93%E6%9E%9C%3C%2Fp%3E+%0A++%3Cpre+class%3D%22prettyprint%22%3E%3Ccode+class%3D%22+hljs+avrasm%22%3ECONTAINER+ID++++++++IMAGE++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++COMMAND++++++++++++++++++CREATED+++++++++++++STATUS++++++++++++++PORTS++++++++++++++++++++++++++++++++++++++++++++NAMES%0A%3Cspan+class%3D%22hljs-number%22%3E5%3C%2Fspan%3Eddd8a57f280++++++++dev-peer0%3Cspan+class%3D%22hljs-preprocessor%22%3E.org%3C%2Fspan%3E1%3Cspan+class%3D%22hljs-preprocessor%22%3E.example%3C%2Fspan%3E%3Cspan+class%3D%22hljs-preprocessor%22%3E.com%3C%2Fspan%3E-e2eexamplecc-%3Cspan+class%3D%22hljs-number%22%3E2%3C%2Fspan%3E-%3Cspan+class%3D%22hljs-number%22%3E78%3C%2Fspan%3Ede0b9a1866ca9f8a20d7fd9c922fd22a08a70365f165cf32d68490dd04f837+++%3Cspan+class%3D%22hljs-string%22%3E%22chaincode+-peer.a...%22%3C%2Fspan%3E+++%3Cspan+class%3D%22hljs-number%22%3E2%3C%2Fspan%3E+minutes+ago+++++++Up+%3Cspan+class%3D%22hljs-number%22%3E2%3C%2Fspan%3E+minutes+++++++++++++++++++++++++++++++++++++++++++++++++++++++++dev-peer0%3Cspan+class%3D%22hljs-preprocessor%22%3E.org%3C%2Fspan%3E1%3Cspan+class%3D%22hljs-preprocessor%22%3E.example%3C%2Fspan%3E%3Cspan+class%3D%22hljs-preprocessor%22%3E.com%3C%2Fspan%3E-e2eExampleCC-%3Cspan+class%3D%22hljs-number%22%3E2%3C%2Fspan%3E%0A%3Cspan+class%3D%22hljs-number%22%3E2%3C%2Fspan%3Efcc07b3633e++++++++hyperledger%2Ffabric-peer++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++%3Cspan+class%3D%22hljs-string%22%3E%22peer+node+start%22%3C%2Fspan%3E++++++++%3Cspan+class%3D%22hljs-number%22%3E5%3C%2Fspan%3E+hours+ago+++++++++Up+%3Cspan+class%3D%22hljs-number%22%3E5%3C%2Fspan%3E+hours++++++++++%3Cspan+class%3D%22hljs-number%22%3E0.0%3C%2Fspan%3E%3Cspan+class%3D%22hljs-number%22%3E.0%3C%2Fspan%3E%3Cspan+class%3D%22hljs-number%22%3E.0%3C%2Fspan%3E%3A%3Cspan+class%3D%22hljs-number%22%3E7055%3C%2Fspan%3E-%26gt%3B%3Cspan+class%3D%22hljs-number%22%3E7051%3C%2Fspan%3E%2Ftcp%2C+%3Cspan+class%3D%22hljs-number%22%3E0.0%3C%2Fspan%3E%3Cspan+class%3D%22hljs-number%22%3E.0%3C%2Fspan%3E%3Cspan+class%3D%22hljs-number%22%3E.0%3C%2Fspan%3E%3A%3Cspan+class%3D%22hljs-number%22%3E7056%3C%2Fspan%3E-%26gt%3B%3Cspan+class%3D%22hljs-number%22%3E7053%3C%2Fspan%3E%2Ftcp+++peer1%3Cspan+class%3D%22hljs-preprocessor%22%3E.org%3C%2Fspan%3E1%3Cspan+class%3D%22hljs-preprocessor%22%3E.example%3C%2Fspan%3E%3Cspan+class%3D%22hljs-preprocessor%22%3E.com%3C%2Fspan%3E%0A%3Cspan+class%3D%22hljs-number%22%3E8%3C%2Fspan%3Ec3db56a9164++++++++hyperledger%2Ffabric-peer++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++%3Cspan+class%3D%22hljs-string%22%3E%22peer+node+start%22%3C%2Fspan%3E++++++++%3Cspan+class%3D%22hljs-number%22%3E5%3C%2Fspan%3E+hours+ago+++++++++Up+%3Cspan+class%3D%22hljs-number%22%3E5%3C%2Fspan%3E+hours++++++++++%3Cspan+class%3D%22hljs-number%22%3E0.0%3C%2Fspan%3E%3Cspan+class%3D%22hljs-number%22%3E.0%3C%2Fspan%3E%3Cspan+class%3D%22hljs-number%22%3E.0%3C%2Fspan%3E%3A%3Cspan+class%3D%22hljs-number%22%3E7051%3C%2Fspan%3E-%26gt%3B%3Cspan+class%3D%22hljs-number%22%3E7051%3C%2Fspan%3E%2Ftcp%2C+%3Cspan+class%3D%22hljs-number%22%3E0.0%3C%2Fspan%3E%3Cspan+class%3D%22hljs-number%22%3E.0%3C%2Fspan%3E%3Cspan+class%3D%22hljs-number%22%3E.0%3C%2Fspan%3E%3A%3Cspan+class%3D%22hljs-number%22%3E7053%3C%2Fspan%3E-%26gt%3B%3Cspan+class%3D%22hljs-number%22%3E7053%3C%2Fspan%3E%2Ftcp+++peer0%3Cspan+class%3D%22hljs-preprocessor%22%3E.org%3C%2Fspan%3E1%3Cspan+class%3D%22hljs-preprocessor%22%3E.example%3C%2Fspan%3E%3Cspan+class%3D%22hljs-preprocessor%22%3E.com%3C%2Fspan%3E%0Aeb865ef8f10d++++++++hyperledger%2Ffabric-couchdb+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++%3Cspan+class%3D%22hljs-string%22%3E%22tini+--+%2Fdocker-e...%22%3C%2Fspan%3E+++%3Cspan+class%3D%22hljs-number%22%3E5%3C%2Fspan%3E+hours+ago+++++++++Up+%3Cspan+class%3D%22hljs-number%22%3E5%3C%2Fspan%3E+hours++++++++++%3Cspan+class%3D%22hljs-number%22%3E4369%3C%2Fspan%3E%2Ftcp%2C+%3Cspan+class%3D%22hljs-number%22%3E9100%3C%2Fspan%3E%2Ftcp%2C+%3Cspan+class%3D%22hljs-number%22%3E0.0%3C%2Fspan%3E%3Cspan+class%3D%22hljs-number%22%3E.0%3C%2Fspan%3E%3Cspan+class%3D%22hljs-number%22%3E.0%3C%2Fspan%3E%3A%3Cspan+class%3D%22hljs-number%22%3E5984%3C%2Fspan%3E-%26gt%3B%3Cspan+class%3D%22hljs-number%22%3E5984%3C%2Fspan%3E%2Ftcp+++++++couchdb%0A%3Cspan+class%3D%22hljs-number%22%3E0%3C%2Fspan%3Ebe71c923b02++++++++hyperledger%2Ffabric-ca++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++%3Cspan+class%3D%22hljs-string%22%3E%22sh+-c+%27fabric-ca-...%22%3C%2Fspan%3E+++%3Cspan+class%3D%22hljs-number%22%3E5%3C%2Fspan%3E+hours+ago+++++++++Up+%3Cspan+class%3D%22hljs-number%22%3E5%3C%2Fspan%3E+hours++++++++++%3Cspan+class%3D%22hljs-number%22%3E0.0%3C%2Fspan%3E%3Cspan+class%3D%22hljs-number%22%3E.0%3C%2Fspan%3E%3Cspan+class%3D%22hljs-number%22%3E.0%3C%2Fspan%3E%3A%3Cspan+class%3D%22hljs-number%22%3E7054%3C%2Fspan%3E-%26gt%3B%3Cspan+class%3D%22hljs-number%22%3E7054%3C%2Fspan%3E%2Ftcp+++++++++++++++++++++++++++ca%3Cspan+class%3D%22hljs-preprocessor%22%3E.example%3C%2Fspan%3E%3Cspan+class%3D%22hljs-preprocessor%22%3E.com%3C%2Fspan%3E%0A%3Cspan+class%3D%22hljs-number%22%3E47%3C%2Fspan%3Eb76dbf1583++++++++hyperledger%2Ffabric-orderer+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++%3Cspan+class%3D%22hljs-string%22%3E%22orderer%22%3C%2Fspan%3E++++++++++++++++%3Cspan+class%3D%22hljs-number%22%3E5%3C%2Fspan%3E+hours+ago+++++++++Up+%3Cspan+class%3D%22hljs-number%22%3E5%3C%2Fspan%3E+hours++++++++++%3Cspan+class%3D%22hljs-number%22%3E0.0%3C%2Fspan%3E%3Cspan+class%3D%22hljs-number%22%3E.0%3C%2Fspan%3E%3Cspan+class%3D%22hljs-number%22%3E.0%3C%2Fspan%3E%3A%3Cspan+class%3D%22hljs-number%22%3E7050%3C%2Fspan%3E-%26gt%3B%3Cspan+class%3D%22hljs-number%22%3E7050%3C%2Fspan%3E%2Ftcp+++++++++++++++++++++++++++orderer%3Cspan+class%3D%22hljs-preprocessor%22%3E.example%3C%2Fspan%3E%3Cspan+class%3D%22hljs-preprocessor%22%3E.com%3C%2Fspan%3E%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Cp%3E%E7%8E%B0%E5%9C%A8%E8%B0%83%E7%94%A8%E5%A6%82query%E6%88%96invoke%E9%83%BD%E4%BC%9A%E6%89%A7%E8%A1%8Cchaincode%E7%89%88%E6%9C%AC2%3C%2Fp%3E+%0A++%3Cp%3E%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdn.net%2F20180515150548557%3Fwatermark%2F2%2Ftext%2FaHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2E5MTcwNTg5NjU%3D%2Ffont%2F5a6L5L2T%2Ffontsize%2F400%2Ffill%2FI0JBQkFCMA%3D%3D%2Fdissolve%2F70%22+alt%3D%22%E8%BF%99%E9%87%8C%E5%86%99%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0%22+title%3D%22%22%3E%3C%2Fp%3E+%0A+%3C%2Fdiv%3E+%0A+%3Clink+rel%3D%22stylesheet%22+href%3D%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fphoenix%2Ftemplate%2Fcss%2Fmarkdown_views-ea0013b516.css%22%3E+%0A%3C%2Fdiv%3E+%0A%3Cdiv+class%3D%22hide-article-box+text-center%22%3E+%0A+%3Ca+class%3D%22btn+btn-red-hollow%22+id%3D%22btn-readmore%22+data-track-view%3D%22%7B%26quot%3Bmod%26quot%3B%3A%26quot%3Bpopu_376%26quot%3B%2C%26quot%3Bcon%26quot%3B%3A%26quot%3B%2Chttps%3A%2F%2Fblog.csdn.net%2Fa917058965%2Farticle%2Fdetails%2F80323184%2C%26quot%3B%7D%22+data-track-click%3D%22%7B%26quot%3Bmod%26quot%3B%3A%26quot%3Bpopu_376%26quot%3B%2C%26quot%3Bcon%26quot%3B%3A%26quot%3B%2Chttps%3A%2F%2Fblog.csdn.net%2Fa917058965%2Farticle%2Fdetails%2F80323184%2C%26quot%3B%7D%22%3E%E9%98%85%E8%AF%BB%E6%9B%B4%E5%A4%9A%3C%2Fa%3E+%0A%3C%2Fdiv%3E" | url_decode}}