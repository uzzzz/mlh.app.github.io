---
layout: default
title: Pandas与sklearn结合实例与画指定特定形状
---

{{ "%3Cdiv+id%3D%22article_content%22+class%3D%22article_content+clearfix+csdn-tracking-statistics%22+data-pid%3D%22blog%22+data-mod%3D%22popu_307%22+data-dsm%3D%22post%22%3E+%0A+%3Clink+rel%3D%22stylesheet%22+href%3D%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fphoenix%2Ftemplate%2Fcss%2Fck_htmledit_views-f57960eb32.css%22%3E+%0A+%3Cdiv+id%3D%22content_views%22+class%3D%22markdown_views+prism-atom-one-dark%22%3E+%0A++%3C%21--+flowchart+%E7%AE%AD%E5%A4%B4%E5%9B%BE%E6%A0%87+%E5%8B%BF%E5%88%A0+--%3E+%0A++%3Csvg+xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22+style%3D%22display%3A+none%3B%22%3E%0A+++%3Cpath+stroke-linecap%3D%22round%22+d%3D%22M5%2C0+0%2C2.5+5%2C5z%22+id%3D%22raphael-marker-block%22+style%3D%22-webkit-tap-highlight-color%3A+rgba%280%2C+0%2C+0%2C+0%29%3B%22%3E%3C%2Fpath%3E%0A++%3C%2Fsvg%3E+%0A++%3Cpre%3E%3Ccode%3Eimport+pandas+as+pd%0Aimport+numpy+as+np%0Aimport+matplotlib.pyplot+as+plt%0A%0Anp.random.seed%280%29%0Adf+%3D+pd.DataFrame%28%7B%27Condition+1%27%3A+np.random.rand%2820%29%2C%0A+++++++++++++++++++%27Condition+2%27%3A+np.random.rand%2820%29*0.9%2C%0A+++++++++++++++++++%27Condition+3%27%3A+np.random.rand%2820%29*1.1%7D%29%0Adf.head%28%29%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Cp%3E%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org.cn%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdnimg.cn%2F20190408172838103.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3MDA4MzI3%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22+alt%3D%22%E5%9C%A8%E8%BF%99%E9%87%8C%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0%22%3E%3C%2Fp%3E+%0A++%3Cpre%3E%3Ccode%3E%60fig%2Cax%3Dplt.subplots%28%29%0Adf.plot.bar%28ax%3Dax%2Cstacked%3DTrue%29%23%E5%A0%86%E5%8F%A0%0Aplt.show%28%29%60%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Cp%3E%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org.cn%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdnimg.cn%2F20190408172918607.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3MDA4MzI3%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22+alt%3D%22%E5%9C%A8%E8%BF%99%E9%87%8C%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0%22%3E%3C%2Fp%3E+%0A++%3Cpre%3E%3Ccode%3E%60features+%3D+impute.drop%28%27Dx%3ACancer%27%2C+axis%3D1%29%0Ay+%3D+impute%5B%22Dx%3ACancer%22%5D%0A%0Apca+%3D+PCA%28n_components%3D3%29%0AX_r+%3D+pca.fit_transform%28features%29%0A%0Aprint%28%22Explained+variance%3A%5CnPC1+%7B%3A.2%25%7D%5CnPC2+%7B%3A.2%25%7D%5CnPC3+%7B%3A.2%25%7D%22%0A++++++.format%28pca.explained_variance_ratio_%5B0%5D%2C%0A++++++++++++++pca.explained_variance_ratio_%5B1%5D%2C%0A++++++++++++++pca.explained_variance_ratio_%5B2%5D%29%29%0A%0Afig+%3D+plt.figure%28%29%0Aax+%3D+Axes3D%28fig%29%0A%0Aax.scatter%28X_r%5B%3A%2C+0%5D%2C+X_r%5B%3A%2C+1%5D%2C+X_r%5B%3A%2C+2%5D%2C+c%3Dy%2C+cmap%3Dplt.cm.coolwarm%29%0A%0A%23+Label+the+axes%0Aax.set_xlabel%28%27PC1%27%29%0Aax.set_ylabel%28%27PC2%27%29%0Aax.set_zlabel%28%27PC3%27%29%0A%0Aplt.show%28%29%60%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Cp%3E%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org.cn%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdnimg.cn%2F20190408173018786.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3MDA4MzI3%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22+alt%3D%22%E5%9C%A8%E8%BF%99%E9%87%8C%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0%22%3E%E6%8C%87%E5%AE%9A%E7%89%B9%E5%AE%9A%E5%BD%A2%E7%8A%B6%3C%2Fp%3E+%0A++%3Cpre%3E%3Ccode%3Eimport+numpy+as+np%0Afrom+matplotlib.patches+import+Circle%2C+Wedge%2C+Polygon%2C+Ellipse%0Afrom+matplotlib.collections+import+PatchCollection%0Aimport+matplotlib.pyplot+as+plt%0A%0Afig%2C+ax+%3D+plt.subplots%28%29%0A%0Apatches+%3D+%5B%5D%0A%0A%23+Full+and+ring+sectors+drawn+by+Wedge%28%28x%2Cy%29%2Cr%2Cdeg1%2Cdeg2%29%0Aleftstripe+%3D+Wedge%28%28.46%2C+.5%29%2C+.15%2C+90%2C100%29+++++++++++%23+Full+sector+by+default%0Amidstripe+%3D+Wedge%28%28.5%2C.5%29%2C+.15%2C+85%2C95%29++++++++++++++++++++++%0Arightstripe+%3D+Wedge%28%28.54%2C.5%29%2C+.15%2C+80%2C90%29%0Alefteye+%3D+Wedge%28%28.36%2C+.46%29%2C+.06%2C+0%2C+360%2C+width%3D0.03%29++%23+Ring+sector+drawn+when+width+%26lt%3B1%0Arighteye+%3D+Wedge%28%28.63%2C+.46%29%2C+.06%2C+0%2C+360%2C+width%3D0.03%29%0Anose+%3D+Wedge%28%28.5%2C+.32%29%2C+.08%2C+75%2C105%2C+width%3D0.03%29%0Amouthleft+%3D+Wedge%28%28.44%2C+.4%29%2C+.08%2C+240%2C320%2C+width%3D0.01%29%0Amouthright+%3D+Wedge%28%28.56%2C+.4%29%2C+.08%2C+220%2C300%2C+width%3D0.01%29%0Apatches+%2B%3D+%5Bleftstripe%2Cmidstripe%2Crightstripe%2Clefteye%2Crighteye%2Cnose%2Cmouthleft%2Cmouthright%5D%0A%0A%23+Circles%0Aleftiris+%3D+Circle%28%28.36%2C.46%29%2C0.04%29%0Arightiris+%3D+Circle%28%28.63%2C.46%29%2C0.04%29%0Apatches+%2B%3D+%5Bleftiris%2Crightiris%5D%0A%0A%23+Polygons+drawn+by+passing+coordinates+of+vertices%0Aleftear+%3D+Polygon%28%5B%5B.2%2C.6%5D%2C%5B.3%2C.8%5D%2C%5B.4%2C.64%5D%5D%2C+True%29%0Arightear+%3D+Polygon%28%5B%5B.6%2C.64%5D%2C%5B.7%2C.8%5D%2C%5B.8%2C.6%5D%5D%2C+True%29%0Atopleftwhisker+%3D+Polygon%28%5B%5B.01%2C.4%5D%2C%5B.18%2C.38%5D%2C%5B.17%2C.42%5D%5D%2C+True%29%0Abottomleftwhisker+%3D+Polygon%28%5B%5B.01%2C.3%5D%2C%5B.18%2C.32%5D%2C%5B.2%2C.28%5D%5D%2C+True%29%0Atoprightwhisker+%3D+Polygon%28%5B%5B.99%2C.41%5D%2C%5B.82%2C.39%5D%2C%5B.82%2C.43%5D%5D%2C+True%29%0Abottomrightwhisker+%3D+Polygon%28%5B%5B.99%2C.31%5D%2C%5B.82%2C.33%5D%2C%5B.81%2C.29%5D%5D%2C+True%29%0Apatches%2B%3D%5Bleftear%2Crightear%2Ctopleftwhisker%2Cbottomleftwhisker%2Ctoprightwhisker%2Cbottomrightwhisker%5D%0A%0A%23+Ellipse+drawn+by+Ellipse%28%28x%2Cy%29%2Cwidth%2Cheight%29%0Abody+%3D+Ellipse%28%280.5%2C-0.18%29%2C0.6%2C0.8%29%0Apatches.append%28body%29%0A%0A%23+Draw+the+patches%0Acolors+%3D+100*np.random.rand%28len%28patches%29%29+%23+set+random+colors%0Ap+%3D+PatchCollection%28patches%2C+alpha%3D0.4%29%0Ap.set_array%28np.array%28colors%29%29%0Aax.add_collection%28p%29%0A%0A%23+Show+the+figure%0Aplt.show%28%29%0A%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Cp%3E%3Cimg+src%3D%22https%3A%2F%2Fblog.uzzz.org.cn%2F_p%3Fhttps%3A%2F%2Fimg-blog.csdnimg.cn%2F20190408173158918.png%3Fx-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3MDA4MzI3%2Csize_16%2Ccolor_FFFFFF%2Ct_70%22+alt%3D%22%E5%9C%A8%E8%BF%99%E9%87%8C%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0%22%3E%3C%2Fp%3E+%0A+%3C%2Fdiv%3E+%0A+%3Clink+href%3D%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fphoenix%2Fmdeditor%2Fmarkdown_views-258a4616f7.css%22+rel%3D%22stylesheet%22%3E+%0A%3C%2Fdiv%3E" | url_decode}}