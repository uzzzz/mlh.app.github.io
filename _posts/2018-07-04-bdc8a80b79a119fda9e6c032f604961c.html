---
layout: default
title: 【ethereum 4】创建和部署智能合约 - voting
---

{{ "%3Cdiv+id%3D%22article_content%22+class%3D%22article_content+clearfix+csdn-tracking-statistics%22+data-pid%3D%22blog%22+data-mod%3D%22popu_307%22+data-dsm%3D%22post%22%3E+%0A+%3Cdiv+class%3D%22markdown_views%22%3E+%0A++%3Cp%3E%E8%BF%99%E9%87%8C%E4%BD%BF%E7%94%A8solidity%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E4%B8%AD%E7%9A%84voting%E9%A1%B9%E7%9B%AE%E4%BD%9C%E4%B8%BA%E7%A4%BA%E4%BE%8B%3C%2Fp%3E+%0A++%3Cp%3Evoting%E6%BA%90%E7%A0%81%EF%BC%88+%3Ca+href%3D%22http%3A%2F%2Fsolidity.readthedocs.io%2Fen%2Fv0.4.24%2Fsolidity-by-example.html%22+rel%3D%22nofollow%22%3Ehttp%3A%2F%2Fsolidity.readthedocs.io%2Fen%2Fv0.4.24%2Fsolidity-by-example.html%3C%2Fa%3E%EF%BC%89%EF%BC%9A%3C%2Fp%3E+%0A++%3Cpre+class%3D%22prettyprint%22%3E%3Ccode+class%3D%22+hljs+cs%22%3Epragma+solidity+%5E%3Cspan+class%3D%22hljs-number%22%3E0.4%3C%2Fspan%3E%3Cspan+class%3D%22hljs-number%22%3E.22%3C%2Fspan%3E%3B%0A%0A%3Cspan+class%3D%22hljs-comment%22%3E%3Cspan+class%3D%22hljs-xmlDocTag%22%3E%2F%2F%2F%3C%2Fspan%3E+%40title+Voting+with+delegation.%3C%2Fspan%3E%0Acontract+Ballot+%7B%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+This+declares+a+new+complex+type+which+will%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+be+used+for+variables+later.%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+It+will+represent+a+single+voter.%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Estruct%3C%2Fspan%3E+Voter+%7B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Euint%3C%2Fspan%3E+weight%3B+%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+weight+is+accumulated+by+delegation%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ebool%3C%2Fspan%3E+voted%3B++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+if+true%2C+that+person+already+voted%3C%2Fspan%3E%0A++++++++address+%3Cspan+class%3D%22hljs-keyword%22%3Edelegate%3C%2Fspan%3E%3B+%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+person+delegated+to%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Euint%3C%2Fspan%3E+vote%3B+++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+index+of+the+voted+proposal%3C%2Fspan%3E%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+This+is+a+type+for+a+single+proposal.%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-keyword%22%3Estruct%3C%2Fspan%3E+Proposal+%7B%0A++++++++bytes32+name%3B+++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+short+name+%28up+to+32+bytes%29%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Euint%3C%2Fspan%3E+voteCount%3B+%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+number+of+accumulated+votes%3C%2Fspan%3E%0A++++%7D%0A%0A++++address+%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+chairperson%3B%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+This+declares+a+state+variable+that%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+stores+a+%60Voter%60+struct+for+each+possible+address.%3C%2Fspan%3E%0A++++mapping%28address+%3D%26gt%3B+Voter%29+%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+voters%3B%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+A+dynamically-sized+array+of+%60Proposal%60+structs.%3C%2Fspan%3E%0A++++Proposal%5B%5D+%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+proposals%3B%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%3Cspan+class%3D%22hljs-xmlDocTag%22%3E%2F%2F%2F%3C%2Fspan%3E+Create+a+new+ballot+to+choose+one+of+%60proposalNames%60.%3C%2Fspan%3E%0A++++constructor%28bytes32%5B%5D+proposalNames%29+%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%7B%0A++++++++chairperson+%3D+msg.sender%3B%0A++++++++voters%5Bchairperson%5D.weight+%3D+%3Cspan+class%3D%22hljs-number%22%3E1%3C%2Fspan%3E%3B%0A%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+For+each+of+the+provided+proposal+names%2C%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+create+a+new+proposal+object+and+add+it%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+to+the+end+of+the+array.%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Efor%3C%2Fspan%3E+%28%3Cspan+class%3D%22hljs-keyword%22%3Euint%3C%2Fspan%3E+i+%3D+%3Cspan+class%3D%22hljs-number%22%3E0%3C%2Fspan%3E%3B+i+%26lt%3B+proposalNames.length%3B+i%2B%2B%29+%7B%0A++++++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+%60Proposal%28%7B...%7D%29%60+creates+a+temporary%3C%2Fspan%3E%0A++++++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+Proposal+object+and+%60proposals.push%28...%29%60%3C%2Fspan%3E%0A++++++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+appends+it+to+the+end+of+%60proposals%60.%3C%2Fspan%3E%0A++++++++++++proposals.push%28Proposal%28%7B%0A++++++++++++++++name%3A+proposalNames%5Bi%5D%2C%0A++++++++++++++++voteCount%3A+%3Cspan+class%3D%22hljs-number%22%3E0%3C%2Fspan%3E%0A++++++++++++%7D%29%29%3B%0A++++++++%7D%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+Give+%60voter%60+the+right+to+vote+on+this+ballot.%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+May+only+be+called+by+%60chairperson%60.%3C%2Fspan%3E%0A++++function+giveRightToVote%28address+voter%29+%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%7B%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+If+the+first+argument+of+%60require%60+evaluates%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+to+%60false%60%2C+execution+terminates+and+all%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+changes+to+the+state+and+to+Ether+balances%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+are+reverted.%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+This+used+to+consume+all+gas+in+old+EVM+versions%2C+but%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+not+anymore.%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+It+is+often+a+good+idea+to+use+%60require%60+to+check+if%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+functions+are+called+correctly.%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+As+a+second+argument%2C+you+can+also+provide+an%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+explanation+about+what+went+wrong.%3C%2Fspan%3E%0A++++++++require%28%0A++++++++++++msg.sender+%3D%3D+chairperson%2C%0A++++++++++++%3Cspan+class%3D%22hljs-string%22%3E%22Only+chairperson+can+give+right+to+vote.%22%3C%2Fspan%3E%0A++++++++%29%3B%0A++++++++require%28%0A++++++++++++%21voters%5Bvoter%5D.voted%2C%0A++++++++++++%3Cspan+class%3D%22hljs-string%22%3E%22The+voter+already+voted.%22%3C%2Fspan%3E%0A++++++++%29%3B%0A++++++++require%28voters%5Bvoter%5D.weight+%3D%3D+%3Cspan+class%3D%22hljs-number%22%3E0%3C%2Fspan%3E%29%3B%0A++++++++voters%5Bvoter%5D.weight+%3D+%3Cspan+class%3D%22hljs-number%22%3E1%3C%2Fspan%3E%3B%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%3Cspan+class%3D%22hljs-xmlDocTag%22%3E%2F%2F%2F%3C%2Fspan%3E+Delegate+your+vote+to+the+voter+%60to%60.%3C%2Fspan%3E%0A++++function+%3Cspan+class%3D%22hljs-keyword%22%3Edelegate%3C%2Fspan%3E%28address+to%29+%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%7B%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+assigns+reference%3C%2Fspan%3E%0A++++++++Voter+storage+sender+%3D+voters%5Bmsg.sender%5D%3B%0A++++++++require%28%21sender.voted%2C+%3Cspan+class%3D%22hljs-string%22%3E%22You+already+voted.%22%3C%2Fspan%3E%29%3B%0A%0A++++++++require%28to+%21%3D+msg.sender%2C+%3Cspan+class%3D%22hljs-string%22%3E%22Self-delegation+is+disallowed.%22%3C%2Fspan%3E%29%3B%0A%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+Forward+the+delegation+as+long+as%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+%60to%60+also+delegated.%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+In+general%2C+such+loops+are+very+dangerous%2C%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+because+if+they+run+too+long%2C+they+might%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+need+more+gas+than+is+available+in+a+block.%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+In+this+case%2C+the+delegation+will+not+be+executed%2C%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+but+in+other+situations%2C+such+loops+might%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+cause+a+contract+to+get+%22stuck%22+completely.%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Ewhile%3C%2Fspan%3E+%28voters%5Bto%5D.%3Cspan+class%3D%22hljs-keyword%22%3Edelegate%3C%2Fspan%3E+%21%3D+address%28%3Cspan+class%3D%22hljs-number%22%3E0%3C%2Fspan%3E%29%29+%7B%0A++++++++++++to+%3D+voters%5Bto%5D.%3Cspan+class%3D%22hljs-keyword%22%3Edelegate%3C%2Fspan%3E%3B%0A%0A++++++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+We+found+a+loop+in+the+delegation%2C+not+allowed.%3C%2Fspan%3E%0A++++++++++++require%28to+%21%3D+msg.sender%2C+%3Cspan+class%3D%22hljs-string%22%3E%22Found+loop+in+delegation.%22%3C%2Fspan%3E%29%3B%0A++++++++%7D%0A%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+Since+%60sender%60+is+a+reference%2C+this%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+modifies+%60voters%5Bmsg.sender%5D.voted%60%3C%2Fspan%3E%0A++++++++sender.voted+%3D+%3Cspan+class%3D%22hljs-keyword%22%3Etrue%3C%2Fspan%3E%3B%0A++++++++sender.%3Cspan+class%3D%22hljs-keyword%22%3Edelegate%3C%2Fspan%3E+%3D+to%3B%0A++++++++Voter+storage+delegate_+%3D+voters%5Bto%5D%3B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Eif%3C%2Fspan%3E+%28delegate_.voted%29+%7B%0A++++++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+If+the+delegate+already+voted%2C%3C%2Fspan%3E%0A++++++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+directly+add+to+the+number+of+votes%3C%2Fspan%3E%0A++++++++++++proposals%5Bdelegate_.vote%5D.voteCount+%2B%3D+sender.weight%3B%0A++++++++%7D+%3Cspan+class%3D%22hljs-keyword%22%3Eelse%3C%2Fspan%3E+%7B%0A++++++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+If+the+delegate+did+not+vote+yet%2C%3C%2Fspan%3E%0A++++++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+add+to+her+weight.%3C%2Fspan%3E%0A++++++++++++delegate_.weight+%2B%3D+sender.weight%3B%0A++++++++%7D%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%3Cspan+class%3D%22hljs-xmlDocTag%22%3E%2F%2F%2F%3C%2Fspan%3E+Give+your+vote+%28including+votes+delegated+to+you%29%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%3Cspan+class%3D%22hljs-xmlDocTag%22%3E%2F%2F%2F%3C%2Fspan%3E+to+proposal+%60proposals%5Bproposal%5D.name%60.%3C%2Fspan%3E%0A++++function+vote%28%3Cspan+class%3D%22hljs-keyword%22%3Euint%3C%2Fspan%3E+proposal%29+%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+%7B%0A++++++++Voter+storage+sender+%3D+voters%5Bmsg.sender%5D%3B%0A++++++++require%28%21sender.voted%2C+%3Cspan+class%3D%22hljs-string%22%3E%22Already+voted.%22%3C%2Fspan%3E%29%3B%0A++++++++sender.voted+%3D+%3Cspan+class%3D%22hljs-keyword%22%3Etrue%3C%2Fspan%3E%3B%0A++++++++sender.vote+%3D+proposal%3B%0A%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+If+%60proposal%60+is+out+of+the+range+of+the+array%2C%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+this+will+throw+automatically+and+revert+all%3C%2Fspan%3E%0A++++++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+changes.%3C%2Fspan%3E%0A++++++++proposals%5Bproposal%5D.voteCount+%2B%3D+sender.weight%3B%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%3Cspan+class%3D%22hljs-xmlDocTag%22%3E%2F%2F%2F%3C%2Fspan%3E+%40dev+Computes+the+winning+proposal+taking+all%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%3Cspan+class%3D%22hljs-xmlDocTag%22%3E%2F%2F%2F%3C%2Fspan%3E+previous+votes+into+account.%3C%2Fspan%3E%0A++++function+winningProposal%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+view%0A++++++++++++%3Cspan+class%3D%22hljs-title%22%3Ereturns%3C%2Fspan%3E+%28%3Cspan+class%3D%22hljs-keyword%22%3Euint%3C%2Fspan%3E+winningProposal_%29%0A++++%7B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Euint%3C%2Fspan%3E+winningVoteCount+%3D+%3Cspan+class%3D%22hljs-number%22%3E0%3C%2Fspan%3E%3B%0A++++++++%3Cspan+class%3D%22hljs-keyword%22%3Efor%3C%2Fspan%3E+%28%3Cspan+class%3D%22hljs-keyword%22%3Euint%3C%2Fspan%3E+p+%3D+%3Cspan+class%3D%22hljs-number%22%3E0%3C%2Fspan%3E%3B+p+%26lt%3B+proposals.length%3B+p%2B%2B%29+%7B%0A++++++++++++%3Cspan+class%3D%22hljs-keyword%22%3Eif%3C%2Fspan%3E+%28proposals%5Bp%5D.voteCount+%26gt%3B+winningVoteCount%29+%7B%0A++++++++++++++++winningVoteCount+%3D+proposals%5Bp%5D.voteCount%3B%0A++++++++++++++++winningProposal_+%3D+p%3B%0A++++++++++++%7D%0A++++++++%7D%0A++++%7D%0A%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+Calls+winningProposal%28%29+function+to+get+the+index%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+of+the+winner+contained+in+the+proposals+array+and+then%3C%2Fspan%3E%0A++++%3Cspan+class%3D%22hljs-comment%22%3E%2F%2F+returns+the+name+of+the+winner%3C%2Fspan%3E%0A++++function+winnerName%28%29+%3Cspan+class%3D%22hljs-keyword%22%3Epublic%3C%2Fspan%3E+view%0A++++++++++++%3Cspan+class%3D%22hljs-title%22%3Ereturns%3C%2Fspan%3E+%28bytes32+winnerName_%29%0A++++%7B%0A++++++++winnerName_+%3D+proposals%5BwinningProposal%28%29%5D.name%3B%0A++++%7D%0A%7D%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Cp%3E%E5%B0%86%E4%B8%8A%E8%BE%B9%E6%BA%90%E7%A0%81%E6%8B%B7%E8%B4%9D%E5%88%B0%E5%91%BD%E5%90%8D%E4%B8%BAvote.sol%E7%9A%84%E6%96%87%E4%BB%B6%E4%B8%AD%EF%BC%8C%E7%BC%96%E8%AF%91EVM%E4%BA%8C%E8%BF%9B%E5%88%B6%E7%A0%81%E5%92%8CJson+ABI%3C%2Fp%3E+%0A++%3Cpre+class%3D%22prettyprint%22%3E%3Ccode+class%3D%22+hljs+cs%22%3Esolc+--bin+vote.sol+%3Cspan+class%3D%22hljs-comment%22%3E%2F%2Fgenerate+EVM+code%3C%2Fspan%3E%0Asolc+--abi+vote.sol+%3Cspan+class%3D%22hljs-comment%22%3E%2F%2Fgenerate+json+abi%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fpre%3E+%0A++%3Cp%3E%E5%90%AF%E5%8A%A8geth%E6%8E%A7%E5%88%B6%E5%8F%B0%EF%BC%8C%E9%83%A8%E7%BD%B2%E4%B8%8A%E8%BF%B0%E5%90%88%E7%BA%A6%3C%2Fp%3E+%0A++%3Cpre+class%3D%22prettyprint%22%3E%3Ccode+class%3D%22+hljs+r%22%3Ecode+%3D+%3Cspan+class%3D%22hljs-string%22%3E%220x....%22%3C%2Fspan%3E+++++%2F%2F%E9%80%9A%E8%BF%87solc+--bin+%E7%94%9F%E6%88%90%E7%9A%84%E4%BA%8C%E8%BF%9B%E5%88%B6%EF%BC%8C%E6%B3%A8%E6%84%8F%E8%A6%81%E5%8A%A00x%0Aabi+%3D+%3Cspan+class%3D%22hljs-keyword%22%3E...%3C%2Fspan%3E+++++++%2F%2F%E9%80%9A%E8%BF%87solc+--abi+%E7%94%9F%E6%88%90%E7%9A%84json+abi%0Apersonal.unlockAccount%28eth.accounts%5B%3Cspan+class%3D%22hljs-number%22%3E0%3C%2Fspan%3E%5D%29+++++%2F%2F%E8%A7%A3%E9%94%81%E8%B4%A6%E6%88%B7%0AvoteContract+%3D+eth.contract%28abi%29%0AmyVoteContract+%3D+voteContract.new%28%5B%3Cspan+class%3D%22hljs-string%22%3E%27a%27%3C%2Fspan%3E%2C%3Cspan+class%3D%22hljs-string%22%3E%27b%27%3C%2Fspan%3E%5D%2C%7Bdata%3Acode%2Cgas%3A%3Cspan+class%3D%22hljs-number%22%3E1000000%3C%2Fspan%3E%2Cfrom%3Aeth.accounts%5B%3Cspan+class%3D%22hljs-number%22%3E0%3C%2Fspan%3E%5D%7D%29%3B++%2F%2F%E5%88%9B%E5%BB%BA%E5%90%88%E7%BA%A6%E5%AF%B9%E8%B1%A1%0Aminer.start%28%29%0A%3Cspan+class%3D%22hljs-keyword%22%3E...%3C%2Fspan%3E%0Aminer.stop%28%29++++%2F%2F%E5%B0%86%E5%90%88%E7%BA%A6%E5%86%99%E5%85%A5%E5%8C%BA%E5%9D%97%E9%93%BE%0AmyVoteContract.address++%2F%2F%E6%9F%A5%E7%9C%8B%E5%90%88%E7%BA%A6%E5%9C%B0%E5%9D%80%EF%BC%8C%E6%AD%A4%E6%97%B6%E5%BA%94%E8%AF%A5%E6%9C%89%E5%80%BC%0AmyVoteContract.vote.call%28%3Cspan+class%3D%22hljs-number%22%3E0%3C%2Fspan%3E%29+%2F%2F%E8%B0%83%E7%94%A8%E5%90%88%E7%BA%A6%E4%B8%AD%E7%9A%84vote%E5%87%BD%E6%95%B0%0Aminer.start%28%29%0A%3Cspan+class%3D%22hljs-keyword%22%3E...%3C%2Fspan%3E%0Aminer.stop%28%29++++%2F%2F%E5%B0%86%E6%8A%95%E7%A5%A8%E5%86%99%E5%85%A5%E5%8C%BA%E5%9D%97%E9%93%BE%0AmyVoteContract.winnerName.call%28%29++++%2F%2F%E8%B0%83%E7%94%A8%E5%90%88%E7%BA%A6%E4%B8%AD%E7%9A%84winnerName%E5%87%BD%E6%95%B0%E3%80%82%E5%9B%A0%E4%B8%BA%E4%B8%8A%E8%BF%B0%E6%8C%87%E4%BB%A4%E5%8F%AA%E7%BB%99proposal+%3Cspan+class%3D%22hljs-number%22%3E0%3C%2Fspan%3E%E6%8A%95%E4%BA%86%E4%B8%80%E7%A5%A8%EF%BC%8C%E8%BF%99%E9%87%8C%E4%BC%9A%E8%BF%94%E5%9B%9E%3Cspan+class%3D%22hljs-string%22%3E%220x61%22%3C%2Fspan%3E%2C%E4%B8%8A%E8%BE%B9new%E5%90%88%E7%BA%A6%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%97%B6%E5%80%99%E7%AC%AC%3Cspan+class%3D%22hljs-number%22%3E0%3C%2Fspan%3E%E4%B8%AA%E5%8F%82%E6%95%B0%E5%B0%B1%E6%98%AF%3Cspan+class%3D%22hljs-string%22%3E%27a%27%3C%2Fspan%3E%3D%3D%3Cspan+class%3D%22hljs-number%22%3E0x61%3C%2Fspan%3E......%3C%2Fcode%3E%3C%2Fpre%3E+%0A+%3C%2Fdiv%3E+%0A+%3Clink+rel%3D%22stylesheet%22+href%3D%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fphoenix%2Ftemplate%2Fcss%2Fmarkdown_views-ea0013b516.css%22%3E+%0A%3C%2Fdiv%3E+%0A%3Cdiv+class%3D%22hide-article-box+text-center%22%3E+%0A+%3Ca+class%3D%22btn+btn-red-hollow%22+id%3D%22btn-readmore%22+data-track-view%3D%22%7B%26quot%3Bmod%26quot%3B%3A%26quot%3Bpopu_376%26quot%3B%2C%26quot%3Bcon%26quot%3B%3A%26quot%3B%2Chttps%3A%2F%2Fblog.csdn.net%2Fweixin_39354676%2Farticle%2Fdetails%2F80916830%2C%26quot%3B%7D%22+data-track-click%3D%22%7B%26quot%3Bmod%26quot%3B%3A%26quot%3Bpopu_376%26quot%3B%2C%26quot%3Bcon%26quot%3B%3A%26quot%3B%2Chttps%3A%2F%2Fblog.csdn.net%2Fweixin_39354676%2Farticle%2Fdetails%2F80916830%2C%26quot%3B%7D%22%3E%E9%98%85%E8%AF%BB%E6%9B%B4%E5%A4%9A%3C%2Fa%3E+%0A%3C%2Fdiv%3E" | url_decode}}