<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>全方位测评Hive、SparkSQL、Presto 等七个大数据查询引擎，最快的竟是……  程序员硬核测评 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="全方位测评Hive、SparkSQL、Presto 等七个大数据查询引擎，最快的竟是……  程序员硬核测评" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="现在大数据组件非常多，众说不一，那么每个企业在不同的使用场景里究竟应该使用哪个引擎呢？易观Spark实战营团队选取了Hive、SparkSQL、Presto、Impala、HAWQ、ClickHouse、Greenplum七个大数据查询引擎，在原生推荐配置情况下，在不同场景下做一次横向对比，出品了一份开源OLAP引擎测评报告。 作者 | 郭炜 责编 | 伍杏玲 本文经授权转载自Analysys易观（ID：enfodesk） 测试方案 测试整体方案 本次测试针对现有Olap的7大Sql引擎Hadoop(2.7)、Hive(2.1)、HAWQ(3.1.2.0)、Presto(0.211)、Impala(2.6.0)、SparkSQL(2.2.0)、ClickHouse(18.1.0-1.El7)、Greenplum(5.7.0) 基础性能测试。我们采用多表关联和单大表性能分别对比不同组件在查询性能、系统负载等方面的情况，测试方案如下： 1. &nbsp;多表关联采用TPC-DS基准测试工具生成相应测试语句和数据进行测试。 2. 单大表测试同样选用Tpc-Ds基准测试工具生成的最大数据量的表，并采用我们选用的一些常规性聚合语句进行测试。 TPC-DS测试与单表测试方案及数据准备 TPC-DS采用星型、雪花型等多维数据模式。它包含7张事实表，17张维度表平均每张表含有18列。其工作负载包含99个SQL查询，覆盖SQL99和2003的核心部分以及OLAP。这个测试集包含对大数据集的统计、报表生成、联机查询、数据挖掘等复杂应用，测试用的数据和值是有倾斜的，与真实数据一致。可以说TPC-DS是与真实场景非常接近的一个测试集，也是难度较大的一个测试集。 TPC-DS的这个特点跟大数据的分析挖掘应用非常类似。Hadoop等大数据分析技术也是对海量数据进行大规模的数据分析和深度挖掘，也包含交互式联机查询和统计报表类应用，同时大数据的数据质量也较低，数据分布是真实而不均匀的。因此TPC-DS成为客观衡量多个不同Hadoop版本以及SQL on Hadoop技术的最佳测试集。 本次测试采用TPC-DS提供的dsdgen命令工具生成指定量级的测试数据，我们指定数据量级为100G。 生成的各个表的数据量如下： 通过使用dsqgen命令根据TPC-DS提供的模板生成不同类型的SQL语句，TPC-DS默认支持以下模板：DB2.tpl、Netezza.tpl、Oracle.tpl、SQLServer.tpl。我们通过命令生成SQLServer.tpl模板的SQL语句，分别对其进行细微的修改使其符合不同的OLAP引擎支持的语法规则。 对于多表关联测试，我们从中选取了15条有代表性的SQL语句，几乎所有的测试案例都有很高的IO负载和CPU计算需求，涵盖了几乎所有的业务场景。 对于单大表测试，我们选择TPC-DS生成的测试数据集中数据量最大的表Store_Sales，并选用了9条使用频率高的常规性聚合sql语句进行测试。 环境准备 本次测试方案的硬件环境使用三台物理机，操作系统为CentOS7，基础配置信息如下表： 本次测试各组件搭建的版本信息如下：Hadoop(2.7)、Hive(2.1)、HAWQ(3.1.2.0)、Presto(0.211)、Impala(2.6.0)、SparkSQL(2.2.0)、ClickHouse(18.1.0-1.el7)、Greenplum(5.7.0)，所有组件都采用分布式搭建于三台服务器，并配置每台服务器上查询最大使用内存20G，CPU8线。 各个OLAP引擎通过各自的方式创建表结构，导入数据。Hive使用ORC格式的内部表；Impala使用Hive上的Parquet格式数据；Presto使用Hive上的ORC格式数据；HAWQ建立内部表使用默认Txt格式；ClickHouse使用Log表引擎分布式建表。 测试组件介绍 SparkSQL SparkSQL是Spark处理结构化数据的程序模块。它将SQL查询与Spark程序无缝集成，可以将结构化数据作为 Spark 的 RDD 进行查询。RDD 的全称为 Resilient Distributed Datasets，即弹性分布式数据集，是 Spark 基本的数据结构。Spark 使用 RDD 作为分布式程序的工作集合，提供一种分布式共享内存的受限形式。RDD 是只读的，对其只能进行创建、转化和求值等操作。SparkSQL作为Spark生态的一员继续发展，而不再受限于Hive，只是兼容Hive。我们利用hive作为数据源，Spark作为计算引擎，通过SQL解析引擎，实现基于Hive数据源，Spark作为计算引擎的SQL测试方案。 Presto Presto是一个分布式SQL查询引擎，它被设计为用来专门进行高速、实时的数据分析。它支持标准的ANSI SQL，包括复杂查询、聚合（Aggregation）、连接（Join）和窗口函数（Window Functions)。作为Hive和Pig（Hive和Pig都是通过MapReduce的管道流来完成HDFS数据的查询）的替代者，Presto本身并不存储数据，但是可以接入多种数据源，并且支持跨数据源的级联查询。Presto是一个OLAP的工具，擅长对海量数据进行复杂的分析；但是对于OLTP场景，并不是Presto所擅长，所以不要把Presto当做数据库来使用。 Impala Impala 是 Cloudera 在受到 Google 的 Dremel 启发下开发的实时交互SQL大数据查询工具，它拥有和Hadoop一样的可扩展性、它提供了类SQL（类Hsql）语法，在多用户场景下也能拥有较高的响应速度和吞吐量。它是由Java和C++实现的，Java提供的查询交互的接口和实现，C++实现了查询引擎部分，除此之外，Impala还能够共享Hive Metastore，甚至可以直接使用Hive的JDBC jar和beeline等直接对Impala进行查询、支持丰富的数据存储格式（Parquet、Avro等）。 此外，Impala 没有再使用缓慢的 Hive+MapReduce 批处理，而是通过使用与商用并行关系数据库中类似的分布式查询引擎（由 Query Planner、Query Coordinator 和 Query Exec Engine 三部分组成），可以直接从 HDFS 或 HBase 中用 SELECT、JOIN 和统计函数查询数据，从而大大降低了延迟。 HAWQ HAWQ 是一个 Hadoop 上的 SQL 引擎，是以 Greenplum Database 为代码基础逐渐发展起来的。HAWQ 采用 MPP 架构，改进了针对 Hadoop 的基于成本的查询优化器。除了能高效处理本身的内部数据，还可通过 PXF 访问 HDFS、Hive、HBase、JSON 等外部数据源。HAWQ全面兼容 SQL 标准，能编写 SQL UDF，还可用 SQL 完成简单的数据挖掘和机器学习。无论是功能特性，还是性能表现，HAWQ 都比较适用于构建 Hadoop 分析型数据仓库应用。 ClickHouse ClickHouse由俄罗斯Yandex公司开发。专为在线数据分析而设计。Yandex是俄罗斯搜索引擎公司。官方提供的文档表名，ClickHouse日处理记录数”十亿级”。 特性： 采用列式存储 数据压缩 基于磁盘的存储，大部分列式存储数据库为了追求速度，会将数据直接写入内存，按时内存的空间往往很小 CPU 利用率高，在计算时会使用机器上的所有 CPU 资源 支持分片，并且同一个计算任务会在不同分片上并行执行，计算完成后会将结果汇总 支持SQL，SQL 几乎成了大数据的标准工具，使用门槛较低 支持联表查询 支持实时更新 自动多副本同步 支持索引 分布式存储查询 Hive Hive是基于Hadoop的一个数据仓库工具，可以将结构化的数据文件映射为一张数据库表，并提供完整的sql查询功能，可以将SQL语句转换为MapReduce任务进行运行。其优点是学习成本低，可以通过类SQL语句快速实现简单的MapReduce统计，不必开发专门的MapReduce应用，十分适合数据仓库的统计分析。 Hive是建立在 Hadoop 上的数据仓库基础构架。它提供了一系列的工具，可以用来进行数据提取转化加载（ETL），这是一种可以存储、查询和分析存储在 Hadoop 中的大规模数据的机制。 Hive 定义了简单的类 SQL 查询语言，称为 HQL，它允许熟悉 SQL 的用户查询数据。同时，这个语言也允许熟悉 MapReduce 开发者的开发自定义的 Mapper 和 Reducer 来处理内建的 Mapper 和 Reducer 无法完成的复杂的分析工作。 Greenplum Greenplum是一个开源的大规模并行数据分析引擎。借助MPP架构，在大型数据集上执行复杂SQL分析的速度比很多解决方案都要快。 GPDB完全支持ANSI SQL 2008标准和SQL OLAP 2003 扩展。 从应用编程接口上讲，它支持ODBC和JDBC。 完善的标准支持使得系统开发、维护和管理都大为方便。 支持分布式事务，支持ACID。 保证数据的强一致性。 做为分布式数据库，拥有良好的线性扩展能力。 GPDB有完善的生态系统，可以与很多企业级产品集成，譬如SAS、Cognos、Informatic、Tableau等。 也可以很多种开源软件集成，譬如Pentaho、Talend 等。 性能测试分析 数据压缩 数据压缩方面，SparkSQL、Impala、Presto均采用的是Hive元数据，Hive数据100G上传之后显示为96.3G(.dat数据格式)，压缩比0.963；HAWQ压缩后数据大小为68.2G(.dat格式)，压缩比：0.682；ClickHouse采用自己默认格式42G；Greenplum未使用压缩，数据存储大小为98G。 性能测试 本节通过查询语句对比SparkSQL、Presto、Impala、HAWQ、ClickHouse、Hive、Greenplum七种组件的查询性能，测试结果均采用连续三次查询结果的平均值，通过图表展示对比结果。 性能分析部分我们分为两部分，第一部分是多表关联查询对比测试，第二部分是单大表查询对比测试。 多表关联查询对比测试 以下是多表关联测试结果，数据如下： 通过我们选取的15条SQL语句查询测试，从表中可以看出，Presto、Impala和HAWQ查询时间快于SparkSQL和ClickHouse，性能约是SparkSQL的2-3倍，其中尤其以Presto和Impala性能要好一些。 Greenplum在多表查询上也有不错的表现；ClickHouse对于多表Join效果相比较于Presto、Impala、HAWQ不是很好，并且很多复杂语法支持的不够好，可见并不是为关联分析而设置；而Hive无疑是所有组件中耗时最多的，其中部分语句查询时间超出1h的总时间按1h计算。 下面是通过图形展示来更加直观比较各组件性能。由于Hive与其他相差太大，在图中不作比较。 单表查询对比测试 以下是9条单表测试语句对六种组件进行测试，测试结果图表分析如下： 从结果中我们发现，对于单表测试ClickHouse要比其余几种组件查询速度表现突出，测试性能约是其余四种的3-6倍。而Presto相比于HAWQ、Impala、SparkSQL、GreenPlum在单表操作方面性能也稍好些。 下面通过图来直观比较： 从图像上更加清楚地显示出五种组件在单表测试方面性能的差距，ClickHouse在性能方面体现出了足够的优势，在单大表查询方面比其余组件性能都要好；Impala和Presto相比较，在sql_01-sql_05这5条语句是简单的一些求和求平均的单表操作方面，Presto的性能要比Impala好很多，而sql_06-sql_09一些复杂点的多个列的单表操作，Impala的性能要比Presto好一些，这也反映出Presto更加适合一些简单的数据量大的聚合操作，而Impala适合一些复杂的聚合操作。 最后我们发现HAWQ、Greenplum在单表聚合操作方面性能不如其余四种组件，测试时间要大大超过它们，当然也不排除测试环境的影响，但是测试结果表明，HAWQ、Greenplum不适合单表的复杂聚合操作，更适合多表的聚合操作。 性能测试结果分析 从上面的分析结果可以看出，Presto、Impala以及HAWQ在多表查询方面体现出了优势，虽说Presto和Impala在多表查询方面的性能差别不大，但是在查询过程中却发现Impala的一些局限性，并尽量避开这些局限问题进行测试。Impala不支持的地方，例如：不支持update、delete操作，不支持Date数据类型，不支持ORC文件格式等等，而Presto则基本没有这些局限问题（本次测试中基本没有发现）。 在单表测试方面ClickHouse体现出了比其余组件的优势，性能比其他组件要好一大截，而Presto相比于HAWQ和impala以及SparkSQL在单大表聚合操作方面的表现也相对优秀。 各组件综合分析比较 通过以上图表查询性能分析以及我们查找相关资料对各组件总结如下： SparkSQL是Hadoop中另一个著名的SQL引擎，它以Spark作为底层计算框架，Spark使用RDD作为分布式程序的工作集合，它提供一种分布式共享内存的受限形式。在分布式共享内存系统中，应用可以向全局地址空间的任意位置进行读写操作，而RDD是只读的，对其只能进行创建、转化和求值等操作。这种内存操作大大提高了计算速度。SparkSQL的性能相对其他的组件要差一些，多表单表查询性能都不突出。 Impala官方宣传其计算速度是一大优点，在实际测试中我们也发现它的多表查询性能和presto差不多，但是单表查询方面却不如presto好。而且Impala有很多不支持的地方，例如：不支持update、delete操作，不支持Date数据类型，不支持ORC文件格式等等，所以我们查询时采用Parquet格式进行查询，而且Impala在查询时占用的内存很大。 Presto综合性能比起来要比其余组件好一些，无论是查询性能还是支持的数据源和数据格式方面都要突出一些，在单表查询时性能靠前，多表查询方面性能也很突出。由于Presto是完全基于内存的并行计算，所以Presto在查询时占用的内存也不少，但是发现要比Impala少一些，比如多表Join需要很大的内存，Impala占用的内存比Presto要多。 HAWQ 吸收了先进的基于成本的 SQL 查询优化器，自动生成执行计划，可优化使用Hadoop 集群资源。HAWQ 采用 Dynamic Pipelining 技术解决这一关键问题。Dynamic Pipelining 是一种并行数据流框架，利用线性可扩展加速Hadoop查询，数据直接存储在HDFS上，并且其SQL查询优化器已经为基于HDFS的文件系统性能特征进行过细致的优化。但是我们发现HAWQ在多表查询时比Presto、Impala差一些；而且不适合单表的复杂聚合操作，单表测试性能方面要比其余四种组件差很多，HAWQ环境搭建也遇到了诸多问题。 ClickHouse 作为目前所有开源MPP计算框架中计算速度最快的，它在做多列的表，同时行数很多的表的查询时，性能是很让人兴奋的，但是在做多表的Join时，它的性能是不如单宽表查询的。性能测试结果表明ClickHouse在单表查询方面表现出很大的性能优势，但是在多表查询中性能却比较差，不如Presto和Impala、HAWQ的效果好。 Greenplum作为关系型数据库产品，它的特点主要就是查询速度快，数据装载速度快，批量DML处理快。而且性能可以随着硬件的添加，呈线性增加，拥有非常良好的可扩展性。因此，它主要适用于面向分析的应用。比如构建企业级ODS/EDW，或者数据集市等，Greenplum都是不错的选择。 此外我们还对Flink进行了调研发现，Flink 核心是个流式的计算引擎，通过流来模拟批处理，Flink SQL还处于早期开发阶段，未来社区计划通过提供基于REST的SQL客户端，目前SQL客户端不能直接访问Hive，通过YAML file文件定义外部数据源，可以连接文件系统和Kafka，目前短时间我们的SQL测试不太好模拟。所以没有对Flink进行测试分析。 我们通过测试以及以上的相关调研编写了各组件各个方面的综合对比分析表，这里采用5分为满分来比较，如下表： 作者简介： 易观Spark实战营是易观大数据技术团队组织的针对大数据初学者的实战训练营。 【END】 作为码一代，想教码二代却无从下手： 听说少儿编程很火，可它有哪些好处呢？ 孩子多大开始学习比较好呢？又该如何学习呢？ 最新的编程教育政策又有哪些呢？ 下面给大家介绍CSDN新成员：极客宝宝（ID：geek_baby） 戳他了解更多↓↓↓ &nbsp;热 文&nbsp;推 荐&nbsp; ☞&nbsp;大疆前员工泄露源码入狱；阿里巴巴普惠字体发布；谷歌搜索加入灭霸彩蛋 | 极客头条 ☞&nbsp;拿什么重建你，巴黎圣母院？ ☞&nbsp;@程序员，你的技术为啥十年八年也没有进步？ ☞厉害了！超越 Google，16 岁少女发明眼疾诊断 AI 模型！ ☞&nbsp;和 996 对着干的百亿巨头：不打卡，不设 KPI，福利好到爆，却称霸行业 20 年！ ☞&nbsp;回报率29%! 大神用情感分析创建一个比特币交易算法, 原来交易玩的是心理战 ☞&nbsp;开发者如何写好技术简历？ ☞&nbsp;写代码这条路，能走多远？阿里算法专家告诉你 ☞ 她说：为啥程序员都特想要机械键盘？这答案我服！ System.out.println(&quot;点个在看吧！&quot;);console.log(&quot;点个在看吧！&quot;);print(&quot;点个在看吧！&quot;);printf(&quot;点个在看吧！\n&quot;);cout&nbsp;&lt;&lt;&nbsp;&quot;点个在看吧！&quot;&nbsp;&lt;&lt;&nbsp;endl;Console.WriteLine(&quot;点个在看吧！&quot;);Response.Write(&quot;点个在看吧！&quot;);alert(&quot;点个在看吧！&quot;)echo &quot;点个在看吧！&quot; 点击阅读原文，输入关键词，即可搜索您想要的 CSDN 文章。 你点的每个“在看”，我都认真当成了喜欢" />
<meta property="og:description" content="现在大数据组件非常多，众说不一，那么每个企业在不同的使用场景里究竟应该使用哪个引擎呢？易观Spark实战营团队选取了Hive、SparkSQL、Presto、Impala、HAWQ、ClickHouse、Greenplum七个大数据查询引擎，在原生推荐配置情况下，在不同场景下做一次横向对比，出品了一份开源OLAP引擎测评报告。 作者 | 郭炜 责编 | 伍杏玲 本文经授权转载自Analysys易观（ID：enfodesk） 测试方案 测试整体方案 本次测试针对现有Olap的7大Sql引擎Hadoop(2.7)、Hive(2.1)、HAWQ(3.1.2.0)、Presto(0.211)、Impala(2.6.0)、SparkSQL(2.2.0)、ClickHouse(18.1.0-1.El7)、Greenplum(5.7.0) 基础性能测试。我们采用多表关联和单大表性能分别对比不同组件在查询性能、系统负载等方面的情况，测试方案如下： 1. &nbsp;多表关联采用TPC-DS基准测试工具生成相应测试语句和数据进行测试。 2. 单大表测试同样选用Tpc-Ds基准测试工具生成的最大数据量的表，并采用我们选用的一些常规性聚合语句进行测试。 TPC-DS测试与单表测试方案及数据准备 TPC-DS采用星型、雪花型等多维数据模式。它包含7张事实表，17张维度表平均每张表含有18列。其工作负载包含99个SQL查询，覆盖SQL99和2003的核心部分以及OLAP。这个测试集包含对大数据集的统计、报表生成、联机查询、数据挖掘等复杂应用，测试用的数据和值是有倾斜的，与真实数据一致。可以说TPC-DS是与真实场景非常接近的一个测试集，也是难度较大的一个测试集。 TPC-DS的这个特点跟大数据的分析挖掘应用非常类似。Hadoop等大数据分析技术也是对海量数据进行大规模的数据分析和深度挖掘，也包含交互式联机查询和统计报表类应用，同时大数据的数据质量也较低，数据分布是真实而不均匀的。因此TPC-DS成为客观衡量多个不同Hadoop版本以及SQL on Hadoop技术的最佳测试集。 本次测试采用TPC-DS提供的dsdgen命令工具生成指定量级的测试数据，我们指定数据量级为100G。 生成的各个表的数据量如下： 通过使用dsqgen命令根据TPC-DS提供的模板生成不同类型的SQL语句，TPC-DS默认支持以下模板：DB2.tpl、Netezza.tpl、Oracle.tpl、SQLServer.tpl。我们通过命令生成SQLServer.tpl模板的SQL语句，分别对其进行细微的修改使其符合不同的OLAP引擎支持的语法规则。 对于多表关联测试，我们从中选取了15条有代表性的SQL语句，几乎所有的测试案例都有很高的IO负载和CPU计算需求，涵盖了几乎所有的业务场景。 对于单大表测试，我们选择TPC-DS生成的测试数据集中数据量最大的表Store_Sales，并选用了9条使用频率高的常规性聚合sql语句进行测试。 环境准备 本次测试方案的硬件环境使用三台物理机，操作系统为CentOS7，基础配置信息如下表： 本次测试各组件搭建的版本信息如下：Hadoop(2.7)、Hive(2.1)、HAWQ(3.1.2.0)、Presto(0.211)、Impala(2.6.0)、SparkSQL(2.2.0)、ClickHouse(18.1.0-1.el7)、Greenplum(5.7.0)，所有组件都采用分布式搭建于三台服务器，并配置每台服务器上查询最大使用内存20G，CPU8线。 各个OLAP引擎通过各自的方式创建表结构，导入数据。Hive使用ORC格式的内部表；Impala使用Hive上的Parquet格式数据；Presto使用Hive上的ORC格式数据；HAWQ建立内部表使用默认Txt格式；ClickHouse使用Log表引擎分布式建表。 测试组件介绍 SparkSQL SparkSQL是Spark处理结构化数据的程序模块。它将SQL查询与Spark程序无缝集成，可以将结构化数据作为 Spark 的 RDD 进行查询。RDD 的全称为 Resilient Distributed Datasets，即弹性分布式数据集，是 Spark 基本的数据结构。Spark 使用 RDD 作为分布式程序的工作集合，提供一种分布式共享内存的受限形式。RDD 是只读的，对其只能进行创建、转化和求值等操作。SparkSQL作为Spark生态的一员继续发展，而不再受限于Hive，只是兼容Hive。我们利用hive作为数据源，Spark作为计算引擎，通过SQL解析引擎，实现基于Hive数据源，Spark作为计算引擎的SQL测试方案。 Presto Presto是一个分布式SQL查询引擎，它被设计为用来专门进行高速、实时的数据分析。它支持标准的ANSI SQL，包括复杂查询、聚合（Aggregation）、连接（Join）和窗口函数（Window Functions)。作为Hive和Pig（Hive和Pig都是通过MapReduce的管道流来完成HDFS数据的查询）的替代者，Presto本身并不存储数据，但是可以接入多种数据源，并且支持跨数据源的级联查询。Presto是一个OLAP的工具，擅长对海量数据进行复杂的分析；但是对于OLTP场景，并不是Presto所擅长，所以不要把Presto当做数据库来使用。 Impala Impala 是 Cloudera 在受到 Google 的 Dremel 启发下开发的实时交互SQL大数据查询工具，它拥有和Hadoop一样的可扩展性、它提供了类SQL（类Hsql）语法，在多用户场景下也能拥有较高的响应速度和吞吐量。它是由Java和C++实现的，Java提供的查询交互的接口和实现，C++实现了查询引擎部分，除此之外，Impala还能够共享Hive Metastore，甚至可以直接使用Hive的JDBC jar和beeline等直接对Impala进行查询、支持丰富的数据存储格式（Parquet、Avro等）。 此外，Impala 没有再使用缓慢的 Hive+MapReduce 批处理，而是通过使用与商用并行关系数据库中类似的分布式查询引擎（由 Query Planner、Query Coordinator 和 Query Exec Engine 三部分组成），可以直接从 HDFS 或 HBase 中用 SELECT、JOIN 和统计函数查询数据，从而大大降低了延迟。 HAWQ HAWQ 是一个 Hadoop 上的 SQL 引擎，是以 Greenplum Database 为代码基础逐渐发展起来的。HAWQ 采用 MPP 架构，改进了针对 Hadoop 的基于成本的查询优化器。除了能高效处理本身的内部数据，还可通过 PXF 访问 HDFS、Hive、HBase、JSON 等外部数据源。HAWQ全面兼容 SQL 标准，能编写 SQL UDF，还可用 SQL 完成简单的数据挖掘和机器学习。无论是功能特性，还是性能表现，HAWQ 都比较适用于构建 Hadoop 分析型数据仓库应用。 ClickHouse ClickHouse由俄罗斯Yandex公司开发。专为在线数据分析而设计。Yandex是俄罗斯搜索引擎公司。官方提供的文档表名，ClickHouse日处理记录数”十亿级”。 特性： 采用列式存储 数据压缩 基于磁盘的存储，大部分列式存储数据库为了追求速度，会将数据直接写入内存，按时内存的空间往往很小 CPU 利用率高，在计算时会使用机器上的所有 CPU 资源 支持分片，并且同一个计算任务会在不同分片上并行执行，计算完成后会将结果汇总 支持SQL，SQL 几乎成了大数据的标准工具，使用门槛较低 支持联表查询 支持实时更新 自动多副本同步 支持索引 分布式存储查询 Hive Hive是基于Hadoop的一个数据仓库工具，可以将结构化的数据文件映射为一张数据库表，并提供完整的sql查询功能，可以将SQL语句转换为MapReduce任务进行运行。其优点是学习成本低，可以通过类SQL语句快速实现简单的MapReduce统计，不必开发专门的MapReduce应用，十分适合数据仓库的统计分析。 Hive是建立在 Hadoop 上的数据仓库基础构架。它提供了一系列的工具，可以用来进行数据提取转化加载（ETL），这是一种可以存储、查询和分析存储在 Hadoop 中的大规模数据的机制。 Hive 定义了简单的类 SQL 查询语言，称为 HQL，它允许熟悉 SQL 的用户查询数据。同时，这个语言也允许熟悉 MapReduce 开发者的开发自定义的 Mapper 和 Reducer 来处理内建的 Mapper 和 Reducer 无法完成的复杂的分析工作。 Greenplum Greenplum是一个开源的大规模并行数据分析引擎。借助MPP架构，在大型数据集上执行复杂SQL分析的速度比很多解决方案都要快。 GPDB完全支持ANSI SQL 2008标准和SQL OLAP 2003 扩展。 从应用编程接口上讲，它支持ODBC和JDBC。 完善的标准支持使得系统开发、维护和管理都大为方便。 支持分布式事务，支持ACID。 保证数据的强一致性。 做为分布式数据库，拥有良好的线性扩展能力。 GPDB有完善的生态系统，可以与很多企业级产品集成，譬如SAS、Cognos、Informatic、Tableau等。 也可以很多种开源软件集成，譬如Pentaho、Talend 等。 性能测试分析 数据压缩 数据压缩方面，SparkSQL、Impala、Presto均采用的是Hive元数据，Hive数据100G上传之后显示为96.3G(.dat数据格式)，压缩比0.963；HAWQ压缩后数据大小为68.2G(.dat格式)，压缩比：0.682；ClickHouse采用自己默认格式42G；Greenplum未使用压缩，数据存储大小为98G。 性能测试 本节通过查询语句对比SparkSQL、Presto、Impala、HAWQ、ClickHouse、Hive、Greenplum七种组件的查询性能，测试结果均采用连续三次查询结果的平均值，通过图表展示对比结果。 性能分析部分我们分为两部分，第一部分是多表关联查询对比测试，第二部分是单大表查询对比测试。 多表关联查询对比测试 以下是多表关联测试结果，数据如下： 通过我们选取的15条SQL语句查询测试，从表中可以看出，Presto、Impala和HAWQ查询时间快于SparkSQL和ClickHouse，性能约是SparkSQL的2-3倍，其中尤其以Presto和Impala性能要好一些。 Greenplum在多表查询上也有不错的表现；ClickHouse对于多表Join效果相比较于Presto、Impala、HAWQ不是很好，并且很多复杂语法支持的不够好，可见并不是为关联分析而设置；而Hive无疑是所有组件中耗时最多的，其中部分语句查询时间超出1h的总时间按1h计算。 下面是通过图形展示来更加直观比较各组件性能。由于Hive与其他相差太大，在图中不作比较。 单表查询对比测试 以下是9条单表测试语句对六种组件进行测试，测试结果图表分析如下： 从结果中我们发现，对于单表测试ClickHouse要比其余几种组件查询速度表现突出，测试性能约是其余四种的3-6倍。而Presto相比于HAWQ、Impala、SparkSQL、GreenPlum在单表操作方面性能也稍好些。 下面通过图来直观比较： 从图像上更加清楚地显示出五种组件在单表测试方面性能的差距，ClickHouse在性能方面体现出了足够的优势，在单大表查询方面比其余组件性能都要好；Impala和Presto相比较，在sql_01-sql_05这5条语句是简单的一些求和求平均的单表操作方面，Presto的性能要比Impala好很多，而sql_06-sql_09一些复杂点的多个列的单表操作，Impala的性能要比Presto好一些，这也反映出Presto更加适合一些简单的数据量大的聚合操作，而Impala适合一些复杂的聚合操作。 最后我们发现HAWQ、Greenplum在单表聚合操作方面性能不如其余四种组件，测试时间要大大超过它们，当然也不排除测试环境的影响，但是测试结果表明，HAWQ、Greenplum不适合单表的复杂聚合操作，更适合多表的聚合操作。 性能测试结果分析 从上面的分析结果可以看出，Presto、Impala以及HAWQ在多表查询方面体现出了优势，虽说Presto和Impala在多表查询方面的性能差别不大，但是在查询过程中却发现Impala的一些局限性，并尽量避开这些局限问题进行测试。Impala不支持的地方，例如：不支持update、delete操作，不支持Date数据类型，不支持ORC文件格式等等，而Presto则基本没有这些局限问题（本次测试中基本没有发现）。 在单表测试方面ClickHouse体现出了比其余组件的优势，性能比其他组件要好一大截，而Presto相比于HAWQ和impala以及SparkSQL在单大表聚合操作方面的表现也相对优秀。 各组件综合分析比较 通过以上图表查询性能分析以及我们查找相关资料对各组件总结如下： SparkSQL是Hadoop中另一个著名的SQL引擎，它以Spark作为底层计算框架，Spark使用RDD作为分布式程序的工作集合，它提供一种分布式共享内存的受限形式。在分布式共享内存系统中，应用可以向全局地址空间的任意位置进行读写操作，而RDD是只读的，对其只能进行创建、转化和求值等操作。这种内存操作大大提高了计算速度。SparkSQL的性能相对其他的组件要差一些，多表单表查询性能都不突出。 Impala官方宣传其计算速度是一大优点，在实际测试中我们也发现它的多表查询性能和presto差不多，但是单表查询方面却不如presto好。而且Impala有很多不支持的地方，例如：不支持update、delete操作，不支持Date数据类型，不支持ORC文件格式等等，所以我们查询时采用Parquet格式进行查询，而且Impala在查询时占用的内存很大。 Presto综合性能比起来要比其余组件好一些，无论是查询性能还是支持的数据源和数据格式方面都要突出一些，在单表查询时性能靠前，多表查询方面性能也很突出。由于Presto是完全基于内存的并行计算，所以Presto在查询时占用的内存也不少，但是发现要比Impala少一些，比如多表Join需要很大的内存，Impala占用的内存比Presto要多。 HAWQ 吸收了先进的基于成本的 SQL 查询优化器，自动生成执行计划，可优化使用Hadoop 集群资源。HAWQ 采用 Dynamic Pipelining 技术解决这一关键问题。Dynamic Pipelining 是一种并行数据流框架，利用线性可扩展加速Hadoop查询，数据直接存储在HDFS上，并且其SQL查询优化器已经为基于HDFS的文件系统性能特征进行过细致的优化。但是我们发现HAWQ在多表查询时比Presto、Impala差一些；而且不适合单表的复杂聚合操作，单表测试性能方面要比其余四种组件差很多，HAWQ环境搭建也遇到了诸多问题。 ClickHouse 作为目前所有开源MPP计算框架中计算速度最快的，它在做多列的表，同时行数很多的表的查询时，性能是很让人兴奋的，但是在做多表的Join时，它的性能是不如单宽表查询的。性能测试结果表明ClickHouse在单表查询方面表现出很大的性能优势，但是在多表查询中性能却比较差，不如Presto和Impala、HAWQ的效果好。 Greenplum作为关系型数据库产品，它的特点主要就是查询速度快，数据装载速度快，批量DML处理快。而且性能可以随着硬件的添加，呈线性增加，拥有非常良好的可扩展性。因此，它主要适用于面向分析的应用。比如构建企业级ODS/EDW，或者数据集市等，Greenplum都是不错的选择。 此外我们还对Flink进行了调研发现，Flink 核心是个流式的计算引擎，通过流来模拟批处理，Flink SQL还处于早期开发阶段，未来社区计划通过提供基于REST的SQL客户端，目前SQL客户端不能直接访问Hive，通过YAML file文件定义外部数据源，可以连接文件系统和Kafka，目前短时间我们的SQL测试不太好模拟。所以没有对Flink进行测试分析。 我们通过测试以及以上的相关调研编写了各组件各个方面的综合对比分析表，这里采用5分为满分来比较，如下表： 作者简介： 易观Spark实战营是易观大数据技术团队组织的针对大数据初学者的实战训练营。 【END】 作为码一代，想教码二代却无从下手： 听说少儿编程很火，可它有哪些好处呢？ 孩子多大开始学习比较好呢？又该如何学习呢？ 最新的编程教育政策又有哪些呢？ 下面给大家介绍CSDN新成员：极客宝宝（ID：geek_baby） 戳他了解更多↓↓↓ &nbsp;热 文&nbsp;推 荐&nbsp; ☞&nbsp;大疆前员工泄露源码入狱；阿里巴巴普惠字体发布；谷歌搜索加入灭霸彩蛋 | 极客头条 ☞&nbsp;拿什么重建你，巴黎圣母院？ ☞&nbsp;@程序员，你的技术为啥十年八年也没有进步？ ☞厉害了！超越 Google，16 岁少女发明眼疾诊断 AI 模型！ ☞&nbsp;和 996 对着干的百亿巨头：不打卡，不设 KPI，福利好到爆，却称霸行业 20 年！ ☞&nbsp;回报率29%! 大神用情感分析创建一个比特币交易算法, 原来交易玩的是心理战 ☞&nbsp;开发者如何写好技术简历？ ☞&nbsp;写代码这条路，能走多远？阿里算法专家告诉你 ☞ 她说：为啥程序员都特想要机械键盘？这答案我服！ System.out.println(&quot;点个在看吧！&quot;);console.log(&quot;点个在看吧！&quot;);print(&quot;点个在看吧！&quot;);printf(&quot;点个在看吧！\n&quot;);cout&nbsp;&lt;&lt;&nbsp;&quot;点个在看吧！&quot;&nbsp;&lt;&lt;&nbsp;endl;Console.WriteLine(&quot;点个在看吧！&quot;);Response.Write(&quot;点个在看吧！&quot;);alert(&quot;点个在看吧！&quot;)echo &quot;点个在看吧！&quot; 点击阅读原文，输入关键词，即可搜索您想要的 CSDN 文章。 你点的每个“在看”，我都认真当成了喜欢" />
<link rel="canonical" href="https://mlh.app/2019/04/29/728830.html" />
<meta property="og:url" content="https://mlh.app/2019/04/29/728830.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-04-29T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"现在大数据组件非常多，众说不一，那么每个企业在不同的使用场景里究竟应该使用哪个引擎呢？易观Spark实战营团队选取了Hive、SparkSQL、Presto、Impala、HAWQ、ClickHouse、Greenplum七个大数据查询引擎，在原生推荐配置情况下，在不同场景下做一次横向对比，出品了一份开源OLAP引擎测评报告。 作者 | 郭炜 责编 | 伍杏玲 本文经授权转载自Analysys易观（ID：enfodesk） 测试方案 测试整体方案 本次测试针对现有Olap的7大Sql引擎Hadoop(2.7)、Hive(2.1)、HAWQ(3.1.2.0)、Presto(0.211)、Impala(2.6.0)、SparkSQL(2.2.0)、ClickHouse(18.1.0-1.El7)、Greenplum(5.7.0) 基础性能测试。我们采用多表关联和单大表性能分别对比不同组件在查询性能、系统负载等方面的情况，测试方案如下： 1. &nbsp;多表关联采用TPC-DS基准测试工具生成相应测试语句和数据进行测试。 2. 单大表测试同样选用Tpc-Ds基准测试工具生成的最大数据量的表，并采用我们选用的一些常规性聚合语句进行测试。 TPC-DS测试与单表测试方案及数据准备 TPC-DS采用星型、雪花型等多维数据模式。它包含7张事实表，17张维度表平均每张表含有18列。其工作负载包含99个SQL查询，覆盖SQL99和2003的核心部分以及OLAP。这个测试集包含对大数据集的统计、报表生成、联机查询、数据挖掘等复杂应用，测试用的数据和值是有倾斜的，与真实数据一致。可以说TPC-DS是与真实场景非常接近的一个测试集，也是难度较大的一个测试集。 TPC-DS的这个特点跟大数据的分析挖掘应用非常类似。Hadoop等大数据分析技术也是对海量数据进行大规模的数据分析和深度挖掘，也包含交互式联机查询和统计报表类应用，同时大数据的数据质量也较低，数据分布是真实而不均匀的。因此TPC-DS成为客观衡量多个不同Hadoop版本以及SQL on Hadoop技术的最佳测试集。 本次测试采用TPC-DS提供的dsdgen命令工具生成指定量级的测试数据，我们指定数据量级为100G。 生成的各个表的数据量如下： 通过使用dsqgen命令根据TPC-DS提供的模板生成不同类型的SQL语句，TPC-DS默认支持以下模板：DB2.tpl、Netezza.tpl、Oracle.tpl、SQLServer.tpl。我们通过命令生成SQLServer.tpl模板的SQL语句，分别对其进行细微的修改使其符合不同的OLAP引擎支持的语法规则。 对于多表关联测试，我们从中选取了15条有代表性的SQL语句，几乎所有的测试案例都有很高的IO负载和CPU计算需求，涵盖了几乎所有的业务场景。 对于单大表测试，我们选择TPC-DS生成的测试数据集中数据量最大的表Store_Sales，并选用了9条使用频率高的常规性聚合sql语句进行测试。 环境准备 本次测试方案的硬件环境使用三台物理机，操作系统为CentOS7，基础配置信息如下表： 本次测试各组件搭建的版本信息如下：Hadoop(2.7)、Hive(2.1)、HAWQ(3.1.2.0)、Presto(0.211)、Impala(2.6.0)、SparkSQL(2.2.0)、ClickHouse(18.1.0-1.el7)、Greenplum(5.7.0)，所有组件都采用分布式搭建于三台服务器，并配置每台服务器上查询最大使用内存20G，CPU8线。 各个OLAP引擎通过各自的方式创建表结构，导入数据。Hive使用ORC格式的内部表；Impala使用Hive上的Parquet格式数据；Presto使用Hive上的ORC格式数据；HAWQ建立内部表使用默认Txt格式；ClickHouse使用Log表引擎分布式建表。 测试组件介绍 SparkSQL SparkSQL是Spark处理结构化数据的程序模块。它将SQL查询与Spark程序无缝集成，可以将结构化数据作为 Spark 的 RDD 进行查询。RDD 的全称为 Resilient Distributed Datasets，即弹性分布式数据集，是 Spark 基本的数据结构。Spark 使用 RDD 作为分布式程序的工作集合，提供一种分布式共享内存的受限形式。RDD 是只读的，对其只能进行创建、转化和求值等操作。SparkSQL作为Spark生态的一员继续发展，而不再受限于Hive，只是兼容Hive。我们利用hive作为数据源，Spark作为计算引擎，通过SQL解析引擎，实现基于Hive数据源，Spark作为计算引擎的SQL测试方案。 Presto Presto是一个分布式SQL查询引擎，它被设计为用来专门进行高速、实时的数据分析。它支持标准的ANSI SQL，包括复杂查询、聚合（Aggregation）、连接（Join）和窗口函数（Window Functions)。作为Hive和Pig（Hive和Pig都是通过MapReduce的管道流来完成HDFS数据的查询）的替代者，Presto本身并不存储数据，但是可以接入多种数据源，并且支持跨数据源的级联查询。Presto是一个OLAP的工具，擅长对海量数据进行复杂的分析；但是对于OLTP场景，并不是Presto所擅长，所以不要把Presto当做数据库来使用。 Impala Impala 是 Cloudera 在受到 Google 的 Dremel 启发下开发的实时交互SQL大数据查询工具，它拥有和Hadoop一样的可扩展性、它提供了类SQL（类Hsql）语法，在多用户场景下也能拥有较高的响应速度和吞吐量。它是由Java和C++实现的，Java提供的查询交互的接口和实现，C++实现了查询引擎部分，除此之外，Impala还能够共享Hive Metastore，甚至可以直接使用Hive的JDBC jar和beeline等直接对Impala进行查询、支持丰富的数据存储格式（Parquet、Avro等）。 此外，Impala 没有再使用缓慢的 Hive+MapReduce 批处理，而是通过使用与商用并行关系数据库中类似的分布式查询引擎（由 Query Planner、Query Coordinator 和 Query Exec Engine 三部分组成），可以直接从 HDFS 或 HBase 中用 SELECT、JOIN 和统计函数查询数据，从而大大降低了延迟。 HAWQ HAWQ 是一个 Hadoop 上的 SQL 引擎，是以 Greenplum Database 为代码基础逐渐发展起来的。HAWQ 采用 MPP 架构，改进了针对 Hadoop 的基于成本的查询优化器。除了能高效处理本身的内部数据，还可通过 PXF 访问 HDFS、Hive、HBase、JSON 等外部数据源。HAWQ全面兼容 SQL 标准，能编写 SQL UDF，还可用 SQL 完成简单的数据挖掘和机器学习。无论是功能特性，还是性能表现，HAWQ 都比较适用于构建 Hadoop 分析型数据仓库应用。 ClickHouse ClickHouse由俄罗斯Yandex公司开发。专为在线数据分析而设计。Yandex是俄罗斯搜索引擎公司。官方提供的文档表名，ClickHouse日处理记录数”十亿级”。 特性： 采用列式存储 数据压缩 基于磁盘的存储，大部分列式存储数据库为了追求速度，会将数据直接写入内存，按时内存的空间往往很小 CPU 利用率高，在计算时会使用机器上的所有 CPU 资源 支持分片，并且同一个计算任务会在不同分片上并行执行，计算完成后会将结果汇总 支持SQL，SQL 几乎成了大数据的标准工具，使用门槛较低 支持联表查询 支持实时更新 自动多副本同步 支持索引 分布式存储查询 Hive Hive是基于Hadoop的一个数据仓库工具，可以将结构化的数据文件映射为一张数据库表，并提供完整的sql查询功能，可以将SQL语句转换为MapReduce任务进行运行。其优点是学习成本低，可以通过类SQL语句快速实现简单的MapReduce统计，不必开发专门的MapReduce应用，十分适合数据仓库的统计分析。 Hive是建立在 Hadoop 上的数据仓库基础构架。它提供了一系列的工具，可以用来进行数据提取转化加载（ETL），这是一种可以存储、查询和分析存储在 Hadoop 中的大规模数据的机制。 Hive 定义了简单的类 SQL 查询语言，称为 HQL，它允许熟悉 SQL 的用户查询数据。同时，这个语言也允许熟悉 MapReduce 开发者的开发自定义的 Mapper 和 Reducer 来处理内建的 Mapper 和 Reducer 无法完成的复杂的分析工作。 Greenplum Greenplum是一个开源的大规模并行数据分析引擎。借助MPP架构，在大型数据集上执行复杂SQL分析的速度比很多解决方案都要快。 GPDB完全支持ANSI SQL 2008标准和SQL OLAP 2003 扩展。 从应用编程接口上讲，它支持ODBC和JDBC。 完善的标准支持使得系统开发、维护和管理都大为方便。 支持分布式事务，支持ACID。 保证数据的强一致性。 做为分布式数据库，拥有良好的线性扩展能力。 GPDB有完善的生态系统，可以与很多企业级产品集成，譬如SAS、Cognos、Informatic、Tableau等。 也可以很多种开源软件集成，譬如Pentaho、Talend 等。 性能测试分析 数据压缩 数据压缩方面，SparkSQL、Impala、Presto均采用的是Hive元数据，Hive数据100G上传之后显示为96.3G(.dat数据格式)，压缩比0.963；HAWQ压缩后数据大小为68.2G(.dat格式)，压缩比：0.682；ClickHouse采用自己默认格式42G；Greenplum未使用压缩，数据存储大小为98G。 性能测试 本节通过查询语句对比SparkSQL、Presto、Impala、HAWQ、ClickHouse、Hive、Greenplum七种组件的查询性能，测试结果均采用连续三次查询结果的平均值，通过图表展示对比结果。 性能分析部分我们分为两部分，第一部分是多表关联查询对比测试，第二部分是单大表查询对比测试。 多表关联查询对比测试 以下是多表关联测试结果，数据如下： 通过我们选取的15条SQL语句查询测试，从表中可以看出，Presto、Impala和HAWQ查询时间快于SparkSQL和ClickHouse，性能约是SparkSQL的2-3倍，其中尤其以Presto和Impala性能要好一些。 Greenplum在多表查询上也有不错的表现；ClickHouse对于多表Join效果相比较于Presto、Impala、HAWQ不是很好，并且很多复杂语法支持的不够好，可见并不是为关联分析而设置；而Hive无疑是所有组件中耗时最多的，其中部分语句查询时间超出1h的总时间按1h计算。 下面是通过图形展示来更加直观比较各组件性能。由于Hive与其他相差太大，在图中不作比较。 单表查询对比测试 以下是9条单表测试语句对六种组件进行测试，测试结果图表分析如下： 从结果中我们发现，对于单表测试ClickHouse要比其余几种组件查询速度表现突出，测试性能约是其余四种的3-6倍。而Presto相比于HAWQ、Impala、SparkSQL、GreenPlum在单表操作方面性能也稍好些。 下面通过图来直观比较： 从图像上更加清楚地显示出五种组件在单表测试方面性能的差距，ClickHouse在性能方面体现出了足够的优势，在单大表查询方面比其余组件性能都要好；Impala和Presto相比较，在sql_01-sql_05这5条语句是简单的一些求和求平均的单表操作方面，Presto的性能要比Impala好很多，而sql_06-sql_09一些复杂点的多个列的单表操作，Impala的性能要比Presto好一些，这也反映出Presto更加适合一些简单的数据量大的聚合操作，而Impala适合一些复杂的聚合操作。 最后我们发现HAWQ、Greenplum在单表聚合操作方面性能不如其余四种组件，测试时间要大大超过它们，当然也不排除测试环境的影响，但是测试结果表明，HAWQ、Greenplum不适合单表的复杂聚合操作，更适合多表的聚合操作。 性能测试结果分析 从上面的分析结果可以看出，Presto、Impala以及HAWQ在多表查询方面体现出了优势，虽说Presto和Impala在多表查询方面的性能差别不大，但是在查询过程中却发现Impala的一些局限性，并尽量避开这些局限问题进行测试。Impala不支持的地方，例如：不支持update、delete操作，不支持Date数据类型，不支持ORC文件格式等等，而Presto则基本没有这些局限问题（本次测试中基本没有发现）。 在单表测试方面ClickHouse体现出了比其余组件的优势，性能比其他组件要好一大截，而Presto相比于HAWQ和impala以及SparkSQL在单大表聚合操作方面的表现也相对优秀。 各组件综合分析比较 通过以上图表查询性能分析以及我们查找相关资料对各组件总结如下： SparkSQL是Hadoop中另一个著名的SQL引擎，它以Spark作为底层计算框架，Spark使用RDD作为分布式程序的工作集合，它提供一种分布式共享内存的受限形式。在分布式共享内存系统中，应用可以向全局地址空间的任意位置进行读写操作，而RDD是只读的，对其只能进行创建、转化和求值等操作。这种内存操作大大提高了计算速度。SparkSQL的性能相对其他的组件要差一些，多表单表查询性能都不突出。 Impala官方宣传其计算速度是一大优点，在实际测试中我们也发现它的多表查询性能和presto差不多，但是单表查询方面却不如presto好。而且Impala有很多不支持的地方，例如：不支持update、delete操作，不支持Date数据类型，不支持ORC文件格式等等，所以我们查询时采用Parquet格式进行查询，而且Impala在查询时占用的内存很大。 Presto综合性能比起来要比其余组件好一些，无论是查询性能还是支持的数据源和数据格式方面都要突出一些，在单表查询时性能靠前，多表查询方面性能也很突出。由于Presto是完全基于内存的并行计算，所以Presto在查询时占用的内存也不少，但是发现要比Impala少一些，比如多表Join需要很大的内存，Impala占用的内存比Presto要多。 HAWQ 吸收了先进的基于成本的 SQL 查询优化器，自动生成执行计划，可优化使用Hadoop 集群资源。HAWQ 采用 Dynamic Pipelining 技术解决这一关键问题。Dynamic Pipelining 是一种并行数据流框架，利用线性可扩展加速Hadoop查询，数据直接存储在HDFS上，并且其SQL查询优化器已经为基于HDFS的文件系统性能特征进行过细致的优化。但是我们发现HAWQ在多表查询时比Presto、Impala差一些；而且不适合单表的复杂聚合操作，单表测试性能方面要比其余四种组件差很多，HAWQ环境搭建也遇到了诸多问题。 ClickHouse 作为目前所有开源MPP计算框架中计算速度最快的，它在做多列的表，同时行数很多的表的查询时，性能是很让人兴奋的，但是在做多表的Join时，它的性能是不如单宽表查询的。性能测试结果表明ClickHouse在单表查询方面表现出很大的性能优势，但是在多表查询中性能却比较差，不如Presto和Impala、HAWQ的效果好。 Greenplum作为关系型数据库产品，它的特点主要就是查询速度快，数据装载速度快，批量DML处理快。而且性能可以随着硬件的添加，呈线性增加，拥有非常良好的可扩展性。因此，它主要适用于面向分析的应用。比如构建企业级ODS/EDW，或者数据集市等，Greenplum都是不错的选择。 此外我们还对Flink进行了调研发现，Flink 核心是个流式的计算引擎，通过流来模拟批处理，Flink SQL还处于早期开发阶段，未来社区计划通过提供基于REST的SQL客户端，目前SQL客户端不能直接访问Hive，通过YAML file文件定义外部数据源，可以连接文件系统和Kafka，目前短时间我们的SQL测试不太好模拟。所以没有对Flink进行测试分析。 我们通过测试以及以上的相关调研编写了各组件各个方面的综合对比分析表，这里采用5分为满分来比较，如下表： 作者简介： 易观Spark实战营是易观大数据技术团队组织的针对大数据初学者的实战训练营。 【END】 作为码一代，想教码二代却无从下手： 听说少儿编程很火，可它有哪些好处呢？ 孩子多大开始学习比较好呢？又该如何学习呢？ 最新的编程教育政策又有哪些呢？ 下面给大家介绍CSDN新成员：极客宝宝（ID：geek_baby） 戳他了解更多↓↓↓ &nbsp;热 文&nbsp;推 荐&nbsp; ☞&nbsp;大疆前员工泄露源码入狱；阿里巴巴普惠字体发布；谷歌搜索加入灭霸彩蛋 | 极客头条 ☞&nbsp;拿什么重建你，巴黎圣母院？ ☞&nbsp;@程序员，你的技术为啥十年八年也没有进步？ ☞厉害了！超越 Google，16 岁少女发明眼疾诊断 AI 模型！ ☞&nbsp;和 996 对着干的百亿巨头：不打卡，不设 KPI，福利好到爆，却称霸行业 20 年！ ☞&nbsp;回报率29%! 大神用情感分析创建一个比特币交易算法, 原来交易玩的是心理战 ☞&nbsp;开发者如何写好技术简历？ ☞&nbsp;写代码这条路，能走多远？阿里算法专家告诉你 ☞ 她说：为啥程序员都特想要机械键盘？这答案我服！ System.out.println(&quot;点个在看吧！&quot;);console.log(&quot;点个在看吧！&quot;);print(&quot;点个在看吧！&quot;);printf(&quot;点个在看吧！\\n&quot;);cout&nbsp;&lt;&lt;&nbsp;&quot;点个在看吧！&quot;&nbsp;&lt;&lt;&nbsp;endl;Console.WriteLine(&quot;点个在看吧！&quot;);Response.Write(&quot;点个在看吧！&quot;);alert(&quot;点个在看吧！&quot;)echo &quot;点个在看吧！&quot; 点击阅读原文，输入关键词，即可搜索您想要的 CSDN 文章。 你点的每个“在看”，我都认真当成了喜欢","@type":"BlogPosting","url":"https://mlh.app/2019/04/29/728830.html","headline":"全方位测评Hive、SparkSQL、Presto 等七个大数据查询引擎，最快的竟是……  程序员硬核测评","dateModified":"2019-04-29T00:00:00+08:00","datePublished":"2019-04-29T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2019/04/29/728830.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>全方位测评Hive、SparkSQL、Presto&nbsp;等七个大数据查询引擎，最快的竟是……|&nbsp;程序员硬核测评</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <section class="xmteditor" style="display:none;" data-tools="新媒体管家" data-label="powered by xmt.cn"></section> 
<p style="white-space: normal;"><img class="rich_pages" data-copyright="0" data-ratio="0.15644171779141106" data-src="https://mmbiz.qpic.cn/mmbiz_gif/Pn4Sm0RsAujHRSdcX3IznHduusnhVrSgibxlHEaKkBO8A7UcDdDzAnMIA2ZLfuoUKKJrwSA8HPTejcSLotzprZw/640?wx_fmt=gif" data-type="gif" data-w="652" style="letter-spacing: 1px;text-align: center;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_gif/Pn4Sm0RsAujHRSdcX3IznHduusnhVrSgibxlHEaKkBO8A7UcDdDzAnMIA2ZLfuoUKKJrwSA8HPTejcSLotzprZw/640?wx_fmt=gif"></p> 
<blockquote class="js_blockquote_wrap" data-type="2" data-url="" data-author-name="" data-content-utf8-length="164" data-source-title="" style="white-space: normal;"> 
 <section class="js_blockquote_digest"> 
  <section> 
   <span style="letter-spacing: 1px;">现在大数据组件非常多，众说不一，那么每个企业在不同的使用场景里究竟应该使用哪个引擎呢？易观Spark实战营团队选取了Hive、SparkSQL、Presto、Impala、HAWQ、ClickHouse、Greenplum七个大数据查询引擎，在原生推荐配置情况下，在不同场景下做一次横向对比，出品了一份开源OLAP引擎测评报告。</span> 
  </section> 
 </section> 
</blockquote> 
<p style="white-space: normal;text-align: center;letter-spacing: 1px;margin-left: 8px;margin-right: 8px;margin-bottom: 15px;line-height: normal;"><img class="rich_pages" data-copyright="0" data-cropselx1="0" data-cropselx2="591" data-cropsely1="0" data-cropsely2="324" data-ratio="0.5482233502538071" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/Pn4Sm0RsAuhYdg2KNXORXQ7vBAiaic04rIjbpgreC1bx6JXB0TnYm1x6JUODcPnAM1MBYwN3p6hnCH8Nia2AKWFkA/640?wx_fmt=jpeg" data-type="jpeg" data-w="591" style="width: 591px;height: 324px;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_jpg/Pn4Sm0RsAuhYdg2KNXORXQ7vBAiaic04rIjbpgreC1bx6JXB0TnYm1x6JUODcPnAM1MBYwN3p6hnCH8Nia2AKWFkA/640?wx_fmt=jpeg"><br></p> 
<p style="white-space: normal;text-align: right;margin-left: 8px;margin-right: 8px;margin-bottom: 15px;line-height: normal;"><span style="font-size: 14px;color: rgb(136, 136, 136);">作者 | 郭炜</span></p> 
<p style="white-space: normal;text-align: right;margin-left: 8px;margin-right: 8px;margin-bottom: 15px;line-height: normal;"><span style="font-size: 14px;color: rgb(136, 136, 136);">责编 | 伍杏玲</span></p> 
<p style="white-space: normal;text-align: right;margin-left: 8px;margin-right: 8px;margin-bottom: 15px;line-height: normal;"><span style="font-size: 14px;color: rgb(136, 136, 136);">本文经授权转载自Analysys易观（ID：enfodesk）</span></p> 
<p style="margin-right: 8px;margin-left: 8px;white-space: normal;line-height: normal;text-align: right;margin-bottom: 15px;"><br></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;text-align: center;line-height: 1.75em;letter-spacing: 1px;"><strong><img class="rich_pages" data-copyright="0" data-ratio="0.1625" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhSvZMAt2zKcxGQN3l1NV4LXSAriayI15u06ibNNlXzIcor2tTtgJBKFxkIicJ8tiaRKRaictbrQEssdSg/640?wx_fmt=png" data-type="png" data-w="160" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhSvZMAt2zKcxGQN3l1NV4LXSAriayI15u06ibNNlXzIcor2tTtgJBKFxkIicJ8tiaRKRaictbrQEssdSg/640?wx_fmt=png"></strong></p> 
<h2 style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;text-align: center;line-height: 1.75em;letter-spacing: 1px;"><strong><span style="font-size: 18px;">测试方案</span></strong></h2> 
<p style="margin-bottom: 15px;white-space: normal;"><br></p> 
<h2 style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><strong><span style="font-size: 15px;">测试整体方案</span></strong></h2> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">本次测试针对现有Olap的7大Sql引擎Hadoop(2.7)、Hive(2.1)、HAWQ(3.1.2.0)、Presto(0.211)、Impala(2.6.0)、SparkSQL(2.2.0)、ClickHouse(18.1.0-1.El7)、Greenplum(5.7.0) 基础性能测试。我们采用多表关联和单大表性能分别对比不同组件在查询性能、系统负载等方面的情况，测试方案如下：</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">1. &nbsp;多表关联采用TPC-DS基准测试工具生成相应测试语句和数据进行测试。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">2. 单大表测试同样选用Tpc-Ds基准测试工具生成的最大数据量的表，并采用我们选用的一些常规性聚合语句进行测试。</span></p> 
<h2 style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;"><strong>TPC-DS测试与单表测试方案及数据准备</strong></span></h2> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">TPC-DS采用星型、雪花型等多维数据模式。它包含7张事实表，17张维度表平均每张表含有18列。其工作负载包含99个SQL查询，覆盖SQL99和2003的核心部分以及OLAP。这个测试集包含对大数据集的统计、报表生成、联机查询、数据挖掘等复杂应用，测试用的数据和值是有倾斜的，与真实数据一致。可以说TPC-DS是与真实场景非常接近的一个测试集，也是难度较大的一个测试集。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">TPC-DS的这个特点跟大数据的分析挖掘应用非常类似。Hadoop等大数据分析技术也是对海量数据进行大规模的数据分析和深度挖掘，也包含交互式联机查询和统计报表类应用，同时大数据的数据质量也较低，数据分布是真实而不均匀的。因此TPC-DS成为客观衡量多个不同Hadoop版本以及SQL on Hadoop技术的最佳测试集。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">本次测试采用TPC-DS提供的dsdgen命令工具生成指定量级的测试数据，我们指定数据量级为100G。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">生成的各个表的数据量如下：</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;text-align: center;"><img class="" data-backh="646" data-backw="442" data-before-oversubscription-url="https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgGCXrxYgj4YaqrU7BQ2rlZocpu5Vztq0MQERX1rbqFFHNN8BVZHEzqdZp7DZGVt24uvdiabx40rDQ/0?wx_fmt=jpeg" data-copyright="0" data-ratio="1.4615384615384615" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgGCXrxYgj4YaqrU7BQ2rlZocpu5Vztq0MQERX1rbqFFHNN8BVZHEzqdZp7DZGVt24uvdiabx40rDQ/640?wx_fmt=jpeg" data-type="jpeg" data-w="442" style="width: 602px;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgGCXrxYgj4YaqrU7BQ2rlZocpu5Vztq0MQERX1rbqFFHNN8BVZHEzqdZp7DZGVt24uvdiabx40rDQ/640?wx_fmt=jpeg"></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">通过使用dsqgen命令根据TPC-DS提供的模板生成不同类型的SQL语句，TPC-DS默认支持以下模板：DB2.tpl、Netezza.tpl、Oracle.tpl、SQLServer.tpl。我们通过命令生成SQLServer.tpl模板的SQL语句，分别对其进行细微的修改使其符合不同的OLAP引擎支持的语法规则。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">对于多表关联测试，我们从中选取了15条有代表性的SQL语句，几乎所有的测试案例都有很高的IO负载和CPU计算需求，涵盖了几乎所有的业务场景。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">对于单大表测试，我们选择TPC-DS生成的测试数据集中数据量最大的表Store_Sales，并选用了9条使用频率高的常规性聚合sql语句进行测试。</span></p> 
<h2 style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><strong><span style="font-size: 15px;">环境准备</span></strong></h2> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">本次测试方案的硬件环境使用三台物理机，操作系统为CentOS7，基础配置信息如下表：</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;text-align: center;"><img class="" data-backh="140" data-backw="485" data-before-oversubscription-url="https://mmbiz.qpic.cn/mmbiz_png/1ibVfXfhQiaUgGCXrxYgj4YaqrU7BQ2rlZ9vial26HLAoTxyMe5RoEeJf3VqvDyObWW5wSjZEtvKPYoia0N9omLrgg/0?wx_fmt=png" data-copyright="0" data-ratio="0.28865979381443296" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/1ibVfXfhQiaUgGCXrxYgj4YaqrU7BQ2rlZ9vial26HLAoTxyMe5RoEeJf3VqvDyObWW5wSjZEtvKPYoia0N9omLrgg/640?wx_fmt=png" data-type="png" data-w="485" style="width: 602px;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_png/1ibVfXfhQiaUgGCXrxYgj4YaqrU7BQ2rlZ9vial26HLAoTxyMe5RoEeJf3VqvDyObWW5wSjZEtvKPYoia0N9omLrgg/640?wx_fmt=png"></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">本次测试各组件搭建的版本信息如下：Hadoop(2.7)、Hive(2.1)、HAWQ(3.1.2.0)、Presto(0.211)、Impala(2.6.0)、SparkSQL(2.2.0)、ClickHouse(18.1.0-1.el7)、Greenplum(5.7.0)，所有组件都采用分布式搭建于三台服务器，并配置每台服务器上查询最大使用内存20G，CPU8线。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">各个OLAP引擎通过各自的方式创建表结构，导入数据。Hive使用ORC格式的内部表；Impala使用Hive上的Parquet格式数据；Presto使用Hive上的ORC格式数据；HAWQ建立内部表使用默认Txt格式；ClickHouse使用Log表引擎分布式建表。</span></p> 
<p style="white-space: normal;"><br></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;text-align: center;line-height: 1.75em;letter-spacing: 1px;"><strong><img class="rich_pages" data-copyright="0" data-ratio="0.1625" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhSvZMAt2zKcxGQN3l1NV4LwYnW1VvkaHWiaL6W1Mr1yiaNLQpxwhyqice9F1yJzMHticssPX515qyvog/640?wx_fmt=png" data-type="png" data-w="160" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhSvZMAt2zKcxGQN3l1NV4LwYnW1VvkaHWiaL6W1Mr1yiaNLQpxwhyqice9F1yJzMHticssPX515qyvog/640?wx_fmt=png"></strong></p> 
<h2 style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;text-align: center;line-height: 1.75em;letter-spacing: 1px;"><strong><span style="font-size: 18px;">测试组件介绍</span></strong><br></h2> 
<h2 style="margin-bottom: 15px;white-space: normal;"><br></h2> 
<h2 style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><strong><span style="font-size: 15px;">SparkSQL</span></strong></h2> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">SparkSQL是Spark处理结构化数据的程序模块。它将SQL查询与Spark程序无缝集成，可以将结构化数据作为 Spark 的 RDD 进行查询。RDD 的全称为 Resilient Distributed Datasets，即弹性分布式数据集，是 Spark 基本的数据结构。Spark 使用 RDD 作为分布式程序的工作集合，提供一种分布式共享内存的受限形式。RDD 是只读的，对其只能进行创建、转化和求值等操作。SparkSQL作为Spark生态的一员继续发展，而不再受限于Hive，只是兼容Hive。我们利用hive作为数据源，Spark作为计算引擎，通过SQL解析引擎，实现基于Hive数据源，Spark作为计算引擎的SQL测试方案。</span></p> 
<h2 style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><strong><span style="font-size: 15px;">Presto</span></strong></h2> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">Presto是一个分布式SQL查询引擎，它被设计为用来专门进行高速、实时的数据分析。它支持标准的ANSI SQL，包括复杂查询、聚合（Aggregation）、连接（Join）和窗口函数（Window Functions)。作为Hive和Pig（Hive和Pig都是通过MapReduce的管道流来完成HDFS数据的查询）的替代者，Presto本身并不存储数据，但是可以接入多种数据源，并且支持跨数据源的级联查询。Presto是一个OLAP的工具，擅长对海量数据进行复杂的分析；但是对于OLTP场景，并不是Presto所擅长，所以不要把Presto当做数据库来使用。</span></p> 
<h2 style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><strong><span style="font-size: 15px;">Impala</span></strong></h2> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">Impala 是 Cloudera 在受到 Google 的 Dremel 启发下开发的实时交互SQL大数据查询工具，它拥有和Hadoop一样的可扩展性、它提供了类SQL（类Hsql）语法，在多用户场景下也能拥有较高的响应速度和吞吐量。它是由Java和C++实现的，Java提供的查询交互的接口和实现，C++实现了查询引擎部分，除此之外，Impala还能够共享Hive Metastore，甚至可以直接使用Hive的JDBC jar和beeline等直接对Impala进行查询、支持丰富的数据存储格式（Parquet、Avro等）。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">此外，Impala 没有再使用缓慢的 Hive+MapReduce 批处理，而是通过使用与商用并行关系数据库中类似的分布式查询引擎（由 Query Planner、Query Coordinator 和 Query Exec Engine 三部分组成），可以直接从 HDFS 或 HBase 中用 SELECT、JOIN 和统计函数查询数据，从而大大降低了延迟。</span></p> 
<h2 style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><strong><span style="font-size: 15px;">HAWQ</span></strong></h2> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">HAWQ 是一个 Hadoop 上的 SQL 引擎，是以 Greenplum Database 为代码基础逐渐发展起来的。HAWQ 采用 MPP 架构，改进了针对 Hadoop 的基于成本的查询优化器。除了能高效处理本身的内部数据，还可通过 PXF 访问 HDFS、Hive、HBase、JSON 等外部数据源。HAWQ全面兼容 SQL 标准，能编写 SQL UDF，还可用 SQL 完成简单的数据挖掘和机器学习。无论是功能特性，还是性能表现，HAWQ 都比较适用于构建 Hadoop 分析型数据仓库应用。</span></p> 
<h2 style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><strong><span style="font-size: 15px;">ClickHouse</span></strong></h2> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">ClickHouse由俄罗斯Yandex公司开发。专为在线数据分析而设计。Yandex是俄罗斯搜索引擎公司。官方提供的文档表名，ClickHouse日处理记录数”十亿级”。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">特性：</span></p> 
<ul class=" list-paddingleft-2" style=""> 
 <li><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">采用列式存储</span></p></li> 
 <li><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">数据压缩</span></p></li> 
 <li><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">基于磁盘的存储，大部分列式存储数据库为了追求速度，会将数据直接写入内存，按时内存的空间往往很小</span></p></li> 
 <li><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">CPU 利用率高，在计算时会使用机器上的所有 CPU 资源</span></p></li> 
 <li><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">支持分片，并且同一个计算任务会在不同分片上并行执行，计算完成后会将结果汇总</span></p></li> 
 <li><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">支持SQL，SQL 几乎成了大数据的标准工具，使用门槛较低</span></p></li> 
 <li><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">支持联表查询</span></p></li> 
 <li><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">支持实时更新</span></p></li> 
 <li><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">自动多副本同步</span></p></li> 
 <li><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">支持索引</span></p></li> 
 <li><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">分布式存储查询</span></p></li> 
</ul> 
<h2 style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;"><strong>Hive</strong></span></h2> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">Hive是基于Hadoop的一个数据仓库工具，可以将结构化的数据文件映射为一张数据库表，并提供完整的sql查询功能，可以将SQL语句转换为MapReduce任务进行运行。其优点是学习成本低，可以通过类SQL语句快速实现简单的MapReduce统计，不必开发专门的MapReduce应用，十分适合数据仓库的统计分析。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">Hive是建立在 Hadoop 上的数据仓库基础构架。它提供了一系列的工具，可以用来进行数据提取转化加载（ETL），这是一种可以存储、查询和分析存储在 Hadoop 中的大规模数据的机制。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">Hive 定义了简单的类 SQL 查询语言，称为 HQL，它允许熟悉 SQL 的用户查询数据。同时，这个语言也允许熟悉 MapReduce 开发者的开发自定义的 Mapper 和 Reducer 来处理内建的 Mapper 和 Reducer 无法完成的复杂的分析工作。</span></p> 
<h2 style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><strong><span style="font-size: 15px;">Greenplum</span></strong></h2> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">Greenplum是一个开源的大规模并行数据分析引擎。借助MPP架构，在大型数据集上执行复杂SQL分析的速度比很多解决方案都要快。</span></p> 
<ul class=" list-paddingleft-2" style=""> 
 <li><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">GPDB完全支持ANSI SQL 2008标准和SQL OLAP 2003 扩展。</span></p></li> 
 <li><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">从应用编程接口上讲，它支持ODBC和JDBC。</span></p></li> 
 <li><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">完善的标准支持使得系统开发、维护和管理都大为方便。</span></p></li> 
 <li><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">支持分布式事务，支持ACID。</span></p></li> 
 <li><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">保证数据的强一致性。</span></p></li> 
 <li><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">做为分布式数据库，拥有良好的线性扩展能力。</span></p></li> 
 <li><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">GPDB有完善的生态系统，可以与很多企业级产品集成，譬如SAS、Cognos、Informatic、Tableau等。</span></p></li> 
 <li><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">也可以很多种开源软件集成，譬如Pentaho、Talend 等。</span></p></li> 
</ul> 
<h2 style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><br></h2> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;text-align: center;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 18px;"><strong><img class="rich_pages" data-copyright="0" data-ratio="0.1625" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhSvZMAt2zKcxGQN3l1NV4Lb4ybNEVGnaAvEDwENKzW27LUKFDGZPKcBneWwTaTpaJyG2C3em7libQ/640?wx_fmt=png" data-type="png" data-w="160" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhSvZMAt2zKcxGQN3l1NV4Lb4ybNEVGnaAvEDwENKzW27LUKFDGZPKcBneWwTaTpaJyG2C3em7libQ/640?wx_fmt=png"></strong></span></p> 
<h2 style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;text-align: center;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 18px;"><strong>性能测试分析</strong></span><br></h2> 
<p style="white-space: normal;"><br></p> 
<h2 style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;"><strong>数据压缩</strong></span></h2> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">数据压缩方面，SparkSQL、Impala、Presto均采用的是Hive元数据，Hive数据100G上传之后显示为96.3G(.dat数据格式)，压缩比0.963；HAWQ压缩后数据大小为68.2G(.dat格式)，压缩比：0.682；ClickHouse采用自己默认格式42G；Greenplum未使用压缩，数据存储大小为98G。</span></p> 
<h2 style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><strong><span style="font-size: 15px;">性能测试</span></strong></h2> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">本节通过查询语句对比SparkSQL、Presto、Impala、HAWQ、ClickHouse、Hive、Greenplum七种组件的查询性能，测试结果均采用连续三次查询结果的平均值，通过图表展示对比结果。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">性能分析部分我们分为两部分，第一部分是多表关联查询对比测试，第二部分是单大表查询对比测试。</span></p> 
<h3 style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;"><strong>多表关联查询对比测试</strong></span></h3> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">以下是多表关联测试结果，数据如下：</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;text-align: center;"><img class="" data-backh="200" data-backw="556" data-before-oversubscription-url="https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgb1bJ0IO2ibIM9Ed4ntrRxBDV9EuCYTAg41SnxaCEJ9dyEoR1vCNFE4Lj6TuYD1QnEF3fbMM9jTxA/0?wx_fmt=jpeg" data-copyright="0" data-ratio="0.3590697674418605" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgb1bJ0IO2ibIM9Ed4ntrRxBDV9EuCYTAg41SnxaCEJ9dyEoR1vCNFE4Lj6TuYD1QnEF3fbMM9jTxA/640?wx_fmt=jpeg" data-type="jpeg" data-w="1075" style="width: 602px;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgb1bJ0IO2ibIM9Ed4ntrRxBDV9EuCYTAg41SnxaCEJ9dyEoR1vCNFE4Lj6TuYD1QnEF3fbMM9jTxA/640?wx_fmt=jpeg"></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">通过我们选取的15条SQL语句查询测试，从表中可以看出，Presto、Impala和HAWQ查询时间快于SparkSQL和ClickHouse，性能约是SparkSQL的2-3倍，其中尤其以Presto和Impala性能要好一些。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">Greenplum在多表查询上也有不错的表现；ClickHouse对于多表Join效果相比较于Presto、Impala、HAWQ不是很好，并且很多复杂语法支持的不够好，可见并不是为关联分析而设置；而Hive无疑是所有组件中耗时最多的，其中部分语句查询时间超出1h的总时间按1h计算。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">下面是通过图形展示来更加直观比较各组件性能。由于Hive与其他相差太大，在图中不作比较。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;text-align: center;"><img class="" data-copyright="0" data-ratio="0.5875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgb1bJ0IO2ibIM9Ed4ntrRxB6ANjaTqj6XMtYD8yuKcxNjX4tQBI7MBibY0gian8eaSYiaRiaVCicuNHIbQ/640?wx_fmt=jpeg" data-type="jpeg" data-w="1280" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgb1bJ0IO2ibIM9Ed4ntrRxB6ANjaTqj6XMtYD8yuKcxNjX4tQBI7MBibY0gian8eaSYiaRiaVCicuNHIbQ/640?wx_fmt=jpeg"></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;text-align: center;"><img class="" data-copyright="0" data-ratio="0.56484375" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgb1bJ0IO2ibIM9Ed4ntrRxBUufZptFyVlYUzYAIRazjl2yH91gb72gMzX0OXhFldIZsGC1q9lYINQ/640?wx_fmt=jpeg" data-type="jpeg" data-w="1280" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgb1bJ0IO2ibIM9Ed4ntrRxBUufZptFyVlYUzYAIRazjl2yH91gb72gMzX0OXhFldIZsGC1q9lYINQ/640?wx_fmt=jpeg"></p> 
<h3 style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><strong><span style="font-size: 15px;">单表查询对比测试</span></strong></h3> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">以下是9条单表测试语句对六种组件进行测试，测试结果图表分析如下：</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;text-align: center;"><img class="" data-backh="131" data-backw="556" data-before-oversubscription-url="https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgb1bJ0IO2ibIM9Ed4ntrRxB7gHAIPewwuXmkXlVzRXgNRAma2pH9iajbSGicqWVqTQEK648GKsO0f1g/0?wx_fmt=jpeg" data-copyright="0" data-ratio="0.23578751164958062" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgb1bJ0IO2ibIM9Ed4ntrRxB7gHAIPewwuXmkXlVzRXgNRAma2pH9iajbSGicqWVqTQEK648GKsO0f1g/640?wx_fmt=jpeg" data-type="jpeg" data-w="1073" style="width: 602px;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgb1bJ0IO2ibIM9Ed4ntrRxB7gHAIPewwuXmkXlVzRXgNRAma2pH9iajbSGicqWVqTQEK648GKsO0f1g/640?wx_fmt=jpeg"></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">从结果中我们发现，对于单表测试ClickHouse要比其余几种组件查询速度表现突出，测试性能约是其余四种的3-6倍。而Presto相比于HAWQ、Impala、SparkSQL、GreenPlum在单表操作方面性能也稍好些。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">下面通过图来直观比较：</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;text-align: center;"><img class="" data-backh="337" data-backw="556" data-before-oversubscription-url="https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgb1bJ0IO2ibIM9Ed4ntrRxBMicYfbWJqnHrDsauZpC0Mos4zkg63kT8vibocRCX8wlibkX5yDJETiaLzQ/0?wx_fmt=jpeg" data-copyright="0" data-ratio="0.60625" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgb1bJ0IO2ibIM9Ed4ntrRxBMicYfbWJqnHrDsauZpC0Mos4zkg63kT8vibocRCX8wlibkX5yDJETiaLzQ/640?wx_fmt=jpeg" data-type="jpeg" data-w="1280" style="width: 602px;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgb1bJ0IO2ibIM9Ed4ntrRxBMicYfbWJqnHrDsauZpC0Mos4zkg63kT8vibocRCX8wlibkX5yDJETiaLzQ/640?wx_fmt=jpeg"></p> 
<p style="white-space: normal;"><br></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><img class="" data-backh="301" data-backw="556" data-before-oversubscription-url="https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgb1bJ0IO2ibIM9Ed4ntrRxBpNLwsmty8uBCfTiaZwOPlsqT9EpicAcQS4B0Wn6q70EopbFtiaGKGcdVw/0?wx_fmt=jpeg" data-copyright="0" data-ratio="0.5421875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgb1bJ0IO2ibIM9Ed4ntrRxBpNLwsmty8uBCfTiaZwOPlsqT9EpicAcQS4B0Wn6q70EopbFtiaGKGcdVw/640?wx_fmt=jpeg" data-type="jpeg" data-w="1280" style="width: 602px;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgb1bJ0IO2ibIM9Ed4ntrRxBpNLwsmty8uBCfTiaZwOPlsqT9EpicAcQS4B0Wn6q70EopbFtiaGKGcdVw/640?wx_fmt=jpeg"></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">从图像上更加清楚地显示出五种组件在单表测试方面性能的差距，ClickHouse在性能方面体现出了足够的优势，在单大表查询方面比其余组件性能都要好；Impala和Presto相比较，在sql_01-sql_05这5条语句是简单的一些求和求平均的单表操作方面，Presto的性能要比Impala好很多，而sql_06-sql_09一些复杂点的多个列的单表操作，Impala的性能要比Presto好一些，这也反映出Presto更加适合一些简单的数据量大的聚合操作，而Impala适合一些复杂的聚合操作。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">最后我们发现HAWQ、Greenplum在单表聚合操作方面性能不如其余四种组件，测试时间要大大超过它们，当然也不排除测试环境的影响，但是测试结果表明，HAWQ、Greenplum不适合单表的复杂聚合操作，更适合多表的聚合操作。</span></p> 
<h2 style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><strong><span style="font-size: 15px;">性能测试结果分析</span></strong></h2> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">从上面的分析结果可以看出，Presto、Impala以及HAWQ在多表查询方面体现出了优势，虽说Presto和Impala在多表查询方面的性能差别不大，但是在查询过程中却发现Impala的一些局限性，并尽量避开这些局限问题进行测试。Impala不支持的地方，例如：不支持update、delete操作，不支持Date数据类型，不支持ORC文件格式等等，而Presto则基本没有这些局限问题（本次测试中基本没有发现）。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">在单表测试方面ClickHouse体现出了比其余组件的优势，性能比其他组件要好一大截，而Presto相比于HAWQ和impala以及SparkSQL在单大表聚合操作方面的表现也相对优秀。</span></p> 
<h2 style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><br></h2> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;text-align: center;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 18px;"><strong><img class="rich_pages" data-copyright="0" data-ratio="0.1625" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhSvZMAt2zKcxGQN3l1NV4LLqyf6BY4rMfY2LsU81MibFjicKDLjMjib5R23h8uo6GtGDY8OufWJfpEw/640?wx_fmt=png" data-type="png" data-w="160" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhSvZMAt2zKcxGQN3l1NV4LLqyf6BY4rMfY2LsU81MibFjicKDLjMjib5R23h8uo6GtGDY8OufWJfpEw/640?wx_fmt=png"></strong></span></p> 
<h2 style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;text-align: center;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 18px;"><strong>各组件综合分析比较</strong></span><br></h2> 
<p style="margin-bottom: 15px;white-space: normal;"><br></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">通过以上图表查询性能分析以及我们查找相关资料对各组件总结如下：</span></p> 
<ol class=" list-paddingleft-2" style="margin-left: 8px;margin-right: 8px;"> 
 <li><p style="margin-bottom: 15px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">SparkSQL是Hadoop中另一个著名的SQL引擎，它以Spark作为底层计算框架，Spark使用RDD作为分布式程序的工作集合，它提供一种分布式共享内存的受限形式。</span></p><p style="margin-bottom: 15px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">在分布式共享内存系统中，应用可以向全局地址空间的任意位置进行读写操作，而RDD是只读的，对其只能进行创建、转化和求值等操作。这种内存操作大大提高了计算速度。</span></p><p style="margin-bottom: 15px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">SparkSQL的性能相对其他的组件要差一些，多表单表查询性能都不突出。</span></p></li> 
 <li><p style="margin-bottom: 15px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">Impala官方宣传其计算速度是一大优点，在实际测试中我们也发现它的多表查询性能和presto差不多，但是单表查询方面却不如presto好。</span></p><p style="margin-bottom: 15px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">而且Impala有很多不支持的地方，例如：不支持update、delete操作，不支持Date数据类型，不支持ORC文件格式等等，所以我们查询时采用Parquet格式进行查询，而且Impala在查询时占用的内存很大。</span></p></li> 
 <li><p style="margin-bottom: 15px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">Presto综合性能比起来要比其余组件好一些，无论是查询性能还是支持的数据源和数据格式方面都要突出一些，在单表查询时性能靠前，多表查询方面性能也很突出。</span></p><p style="margin-bottom: 15px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">由于Presto是完全基于内存的并行计算，所以Presto在查询时占用的内存也不少，但是发现要比Impala少一些，比如多表Join需要很大的内存，Impala占用的内存比Presto要多。</span></p></li> 
 <li><p style="margin-bottom: 15px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">HAWQ 吸收了先进的基于成本的 SQL 查询优化器，自动生成执行计划，可优化使用Hadoop 集群资源。</span></p><p style="margin-bottom: 15px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">HAWQ 采用 Dynamic Pipelining 技术解决这一关键问题。Dynamic Pipelining 是一种并行数据流框架，利用线性可扩展加速Hadoop查询，数据直接存储在HDFS上，并且其SQL查询优化器已经为基于HDFS的文件系统性能特征进行过细致的优化。</span></p><p style="margin-bottom: 15px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">但是我们发现HAWQ在多表查询时比Presto、Impala差一些；而且不适合单表的复杂聚合操作，单表测试性能方面要比其余四种组件差很多，HAWQ环境搭建也遇到了诸多问题。</span></p></li> 
 <li><p style="margin-bottom: 15px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">ClickHouse 作为目前所有开源MPP计算框架中计算速度最快的，它在做多列的表，同时行数很多的表的查询时，性能是很让人兴奋的，但是在做多表的Join时，它的性能是不如单宽表查询的。</span></p><p style="margin-bottom: 15px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">性能测试结果表明ClickHouse在单表查询方面表现出很大的性能优势，但是在多表查询中性能却比较差，不如Presto和Impala、HAWQ的效果好。</span></p></li> 
 <li><p style="margin-bottom: 15px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">Greenplum作为关系型数据库产品，它的特点主要就是查询速度快，数据装载速度快，批量DML处理快。</span></p><p style="margin-bottom: 15px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">而且性能可以随着硬件的添加，呈线性增加，拥有非常良好的可扩展性。因此，它主要适用于面向分析的应用。</span></p><p style="margin-bottom: 15px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">比如构建企业级ODS/EDW，或者数据集市等，Greenplum都是不错的选择。</span></p></li> 
 <li><p style="margin-bottom: 15px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">此外我们还对Flink进行了调研发现，Flink 核心是个流式的计算引擎，通过流来模拟批处理，Flink SQL还处于早期开发阶段，未来社区计划通过提供基于REST的SQL客户端，目前SQL客户端不能直接访问Hive，通过YAML file文件定义外部数据源，可以连接文件系统和Kafka，目前短时间我们的SQL测试不太好模拟。所以没有对Flink进行测试分析。</span></p></li> 
</ol> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">我们通过测试以及以上的相关调研编写了各组件各个方面的综合对比分析表，这里采用5分为满分来比较，如下表：</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;line-height: 1.75em;letter-spacing: 1px;text-align: center;"><img class="" data-backh="221" data-backw="556" data-before-oversubscription-url="https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgb1bJ0IO2ibIM9Ed4ntrRxBaHZjJIxqlMicw1Ch0DCwTep8nMLtRUZGy07nSq3rFlUvAMRqaDM5eeQ/0?wx_fmt=jpeg" data-copyright="0" data-ratio="0.39776951672862454" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgb1bJ0IO2ibIM9Ed4ntrRxBaHZjJIxqlMicw1Ch0DCwTep8nMLtRUZGy07nSq3rFlUvAMRqaDM5eeQ/640?wx_fmt=jpeg" data-type="jpeg" data-w="1076" style="width: 602px;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_jpg/1ibVfXfhQiaUgb1bJ0IO2ibIM9Ed4ntrRxBaHZjJIxqlMicw1Ch0DCwTep8nMLtRUZGy07nSq3rFlUvAMRqaDM5eeQ/640?wx_fmt=jpeg"></p> 
<blockquote class="js_blockquote_wrap" data-type="2" data-url="" data-author-name="" data-content-utf8-length="43" data-source-title=""> 
 <section class="js_blockquote_digest"> 
  <section>
    作者简介： 
   <span style="letter-spacing: 1px;">易观Spark实战营是易观大数据技术团队组织的针对大数据初学者的实战训练营。</span> 
  </section> 
 </section> 
</blockquote> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;text-align: center;line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(136, 136, 136);box-sizing: border-box !important;overflow-wrap: break-word !important;">【END】</span><br></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;text-align: center;line-height: 1.75em;box-sizing: border-box !important;overflow-wrap: break-word !important;"><img class="rich_pages" data-copyright="0" data-cropselx1="0" data-cropselx2="591" data-cropsely1="0" data-cropsely2="324" data-ratio="0.5482233502538071" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/Pn4Sm0RsAuhP02SJUMCa77A0VXqFBLfNzl0TbVWBFU50jz2YLJ6UKQwQfjPM131eQjfxMTQibDtOf17yqXUPCrQ/640?wx_fmt=jpeg" data-type="jpeg" data-w="591" style="box-sizing: border-box !important;overflow-wrap: break-word !important;width: 591px;visibility: visible !important;height: 324px;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_jpg/Pn4Sm0RsAuhP02SJUMCa77A0VXqFBLfNzl0TbVWBFU50jz2YLJ6UKQwQfjPM131eQjfxMTQibDtOf17yqXUPCrQ/640?wx_fmt=jpeg"></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">作为码一代，想教码二代却无从下手：</span><br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">听说少儿编程很火，可它有哪些好处呢？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">孩子多大开始学习比较好呢？又该如何学习呢？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">最新的编程教育政策又有哪些呢？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">下面给大家介绍CSDN新成员：<strong style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">极客宝宝（ID：</strong><strong style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">geek_baby）</strong></span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;text-align: center;letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">戳他了解更多↓↓↓</span></strong><br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;text-align: center;line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><img class="rich_pages" data-copyright="0" data-cropselx1="180" data-cropselx2="438" data-cropsely1="0" data-cropsely2="258" data-ratio="0.3697916666666667" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/Pn4Sm0RsAuh1bcXNq238J3vRKyXya05vbbgCLnCbTPs0mGuVrLHntraYT5MIPrhkqQCmnqobLOf7nkWPh5j6vw/640?wx_fmt=jpeg" data-type="jpeg" data-w="960" style="box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible !important;width: 618px !important;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_jpg/Pn4Sm0RsAuh1bcXNq238J3vRKyXya05vbbgCLnCbTPs0mGuVrLHntraYT5MIPrhkqQCmnqobLOf7nkWPh5j6vw/640?wx_fmt=jpeg"></p> 
<p style="margin-right: 8px;margin-bottom: 10px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;text-align: center;letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;background-color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong style="max-width: 100%;color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">&nbsp;热 文</strong>&nbsp;推 荐&nbsp;</strong></span></p> 
<p style="margin-right: 8px;margin-bottom: 10px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></p> 
<p style="margin-right: 8px;margin-bottom: 10px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);font-size: 14px;">☞</span><span style="max-width: 100%;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">&nbsp;</span></span><a href="http://mp.weixin.qq.com/s?__biz=MjM5MjAwODM4MA==&amp;mid=2650719185&amp;idx=1&amp;sn=560e4b1d8628bd5e804c29a7766dc5e9&amp;chksm=bea6b20289d13b14f73196f4b0bf62054996466b35f7c3e48c027707c853c2743ecd8641dc16&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2"><span style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);max-width: 100%;font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">大疆前员工泄露源码入狱；阿里巴巴普惠字体发布；谷歌搜索加入灭霸彩蛋 | 极客头条</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 10px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5MjAwODM4MA==&amp;mid=2650719074&amp;idx=3&amp;sn=fd56d2f3379ff706f68359ad5d76a1e2&amp;chksm=bea6b2b189d13ba7cb43bba91d380dbadce5839f4a54af56922d5e2ec1256c7415db72067d57&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2" style="color: rgb(0, 82, 255);-webkit-tap-highlight-color: rgba(0, 0, 0, 0);max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">☞</a></span>&nbsp;<a href="http://mp.weixin.qq.com/s?__biz=MjM5MjAwODM4MA==&amp;mid=2650719185&amp;idx=2&amp;sn=b18947253d59cf04d38801c4cc5d8d90&amp;chksm=bea6b20289d13b14199be73ddc29663bb6ba97555a44c839e8fa2e7f47ee45e204f1aa2b6714&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2"><span style="color: rgb(0, 82, 255);font-size: 14px;">拿什么重建你，巴黎圣母院？</span></a><br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"></p> 
<p style="margin-right: 8px;margin-bottom: 10px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5MjAwODM4MA==&amp;mid=2650719074&amp;idx=3&amp;sn=fd56d2f3379ff706f68359ad5d76a1e2&amp;chksm=bea6b2b189d13ba7cb43bba91d380dbadce5839f4a54af56922d5e2ec1256c7415db72067d57&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2" style="color: rgb(0, 82, 255);-webkit-tap-highlight-color: rgba(0, 0, 0, 0);max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">☞</a></span>&nbsp;<a href="http://mp.weixin.qq.com/s?__biz=MjM5MjAwODM4MA==&amp;mid=2650719185&amp;idx=3&amp;sn=e6392a54d81b055fb610cff253ca76c7&amp;chksm=bea6b20289d13b14e4bc3c2f0ef90a6c10fe2128afdee5ab201e6c03b1131018ca96ad45f1fc&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="11" data-linktype="2"><span style="color: rgb(0, 82, 255);font-size: 14px;">@程序员，你的技术为啥十年八年也没有进步？</span></a><br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">☞</span><a href="http://mp.weixin.qq.com/s?__biz=Mzg3MDA4NDkxMQ==&amp;mid=2247483898&amp;idx=1&amp;sn=393249c9415cd68ad0419916b58eeb11&amp;chksm=ce9279baf9e5f0aceccf2d68fc34859293629b4789dfaeb80471dd778a2fd0e091f02c9b2e06&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="11" data-linktype="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;color: rgb(0, 82, 255);font-size: 14px;box-sizing: border-box !important;overflow-wrap: break-word !important;">厉害了！超越 Google，16 岁少女发明眼疾诊断 AI 模型！</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">☞&nbsp;</span><a href="http://mp.weixin.qq.com/s?__biz=MzA5MzY4NTQwMA==&amp;mid=2651010564&amp;idx=1&amp;sn=bd6a56282c0c4962d8f382bbfbc29f39&amp;chksm=8bad85f3bcda0ce5bcd6226e8885846de94816406d953b52293f5f5fe0b492ff46a42ded67b8&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="11" data-linktype="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;color: rgb(0, 82, 255);font-size: 14px;box-sizing: border-box !important;overflow-wrap: break-word !important;">和 996 对着干的百亿巨头：不打卡，不设 KPI，福利好到爆，却称霸行业 20 年！</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">☞&nbsp;</span><a href="http://mp.weixin.qq.com/s?__biz=MzU2MTE1NDk2Mg==&amp;mid=2247494769&amp;idx=1&amp;sn=abb7bfed45ee3f260bbf1ef3bd3076f1&amp;chksm=fc7fb28ccb083b9a75bef05479cf2f00a63de95a28c488d373e2e48745d3d5bc8bb1a1fed836&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">回报率29%! 大神用情感分析创建一个比特币交易算法, 原来交易玩的是心理战</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">☞&nbsp;</span><a href="http://mp.weixin.qq.com/s?__biz=MzA3MjY1MTQwNQ==&amp;mid=2649827450&amp;idx=2&amp;sn=c7c65dc21d36bd75c73b63960df9354b&amp;chksm=871e8f98b069068e39c0c6e70886466bd5edad9105a748e18fcca6d86adc5c829ed671842567&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">开发者如何写好技术简历？</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;color: rgb(0, 82, 255);font-size: 14px;box-sizing: border-box !important;overflow-wrap: break-word !important;">☞&nbsp;</span><a href="http://mp.weixin.qq.com/s?__biz=MzI0ODcxODk5OA==&amp;mid=2247504685&amp;idx=1&amp;sn=809459a58b1aed8a085e6f9ef547ce36&amp;chksm=e99ee0d4dee969c2fa6edc341c0a6deadcb2d03ad76add56c1425c2f40642274e56ec4751f1e&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">写代码这条路，能走多远？阿里算法专家告诉你</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">☞ 她说：为啥程序员都特想要机械键盘？这答案我服！</span></p> 
<section style="white-space: normal;max-width: 100%;letter-spacing: 0.544px;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 
 <section class="" style="max-width: 100%;font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 
  <pre style="max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;"><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;padding: 0.5em;max-width: 100%;min-height: 1em;font-size: 14px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;background: rgb(34, 34, 34);color: rgb(170, 170, 170);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;">System.out.println(<span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">"点个在看吧！"</span>);<br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">console.log(<span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！"</span>);<br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(50, 170, 238);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">print</span>(<span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！"</span>);<br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(50, 170, 238);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">printf</span>(<span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！\n"</span>);<br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">cout&nbsp;&lt;&lt;&nbsp;<span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！"</span>&nbsp;&lt;&lt;&nbsp;endl;<br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">Console.WriteLine(<span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！"</span>);<br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">Response.Write(<span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！"</span>);<br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-variant-numeric: normal;line-height: 24.5px;widows: 1;box-sizing: border-box !important;overflow-wrap: break-word !important;">alert(</span><span style="max-width: 100%;font-variant-numeric: normal;line-height: 24.5px;widows: 1;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: break-word !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！"</span><span style="max-width: 100%;font-variant-numeric: normal;line-height: 24.5px;widows: 1;box-sizing: border-box !important;overflow-wrap: break-word !important;">)</span><br style="max-width: 100%;font-variant-numeric: normal;line-height: 24.5px;widows: 1;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span class="" style="max-width: 100%;font-size: inherit;font-variant-numeric: normal;line-height: inherit;widows: 1;color: rgb(50, 170, 238);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">echo </span><span style="max-width: 100%;font-variant-numeric: normal;line-height: 24.5px;widows: 1;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: break-word !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！"</span></p></pre> 
 </section> 
</section> 
<p style="white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><img border="0" class="__bg_gif" data-ratio="0.8" data-src="https://mmbiz.qpic.cn/mmbiz_gif/Pn4Sm0RsAujr9dOtwUGfl03zJzLBRXbZs8g1RcNcLr7qm5qEy419tofZ8dq1sIW75xZwq2K4zIzcTtaDOy4OTg/640?wx_fmt=gif" data-type="gif" data-w="200" height="" style="box-sizing: border-box;letter-spacing: 0.544px;white-space: normal;text-align: left;background-color: rgb(255, 255, 255);font-family: 微软雅黑;font-size: 16px;vertical-align: middle;overflow-wrap: break-word !important;visibility: visible !important;width: 45px !important;" title="" width="45" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_gif/Pn4Sm0RsAujr9dOtwUGfl03zJzLBRXbZs8g1RcNcLr7qm5qEy419tofZ8dq1sIW75xZwq2K4zIzcTtaDOy4OTg/640?wx_fmt=gif"><strong style="max-width: 100%;letter-spacing: 0.544px;white-space: normal;text-align: left;background-color: rgb(255, 255, 255);color: rgb(55, 55, 93);font-family: 微软雅黑;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong style="max-width: 100%;font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;widows: 1;box-sizing: border-box !important;overflow-wrap: break-word !important;">点击阅读原文，输入关键词，即可搜索您想要的 CSDN 文章。</span></strong></strong></p> 
<section class="" data-tools="135编辑器" data-id="94250" style="white-space: normal;max-width: 100%;box-sizing: border-box;letter-spacing: 0.544px;border-width: 0px;border-style: none;border-color: initial;overflow-wrap: break-word !important;"> 
 <section class="" data-tools="135编辑器" data-id="91842" style="max-width: 100%;box-sizing: border-box;border-width: 0px;border-style: none;border-color: initial;text-align: right;overflow-wrap: break-word !important;"> 
  <section style="max-width: 100%;display: inline-block;clear: both;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 
   <section class="" data-brushtype="text" style="padding: 18px 15px 20px 10px;max-width: 100%;box-sizing: border-box;color: rgb(86, 146, 214);background-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhpplm16ibb8iaib7RoGQ5iaHEdy66AHd7QqL7A2s5icSBE0aw4iaKOKPnXGYxQPhG7VMpbbYV6VJprSh7w/640?wx_fmt=png&quot;);background-repeat: no-repeat;text-align: center;background-size: 100% 100%;font-size: 16px;letter-spacing: 1.5px;overflow-wrap: break-word !important;"> 
    <section style="max-width: 100%;display: flex;justify-content: center;align-items: center;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 
     <section style="margin-left: 2px;max-width: 100%;width: 20px;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 
      <img class="" data-ratio="0.8936170212765957" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhpplm16ibb8iaib7RoGQ5iaHEdvAd0o9e1LlUGA2k0Yib222agOxzweXhahA9GuzJcGBg0dA4DzlibxRqw/640?wx_fmt=png" data-type="png" data-w="47" style="margin-bottom: -6px;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible !important;width: 20px !important;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhpplm16ibb8iaib7RoGQ5iaHEdvAd0o9e1LlUGA2k0Yib222agOxzweXhahA9GuzJcGBg0dA4DzlibxRqw/640?wx_fmt=png"> 
     </section> 
     <section class="" data-brushtype="text" style="max-width: 100%;font-size: 14px;color: rgb(51, 51, 51);text-align: right;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 
      <span style="max-width: 100%;font-family: 楷体, 楷体_GB2312, SimKai;box-sizing: border-box !important;overflow-wrap: break-word !important;">你点的每个“在看”，我都认真当成了喜欢</span> 
     </section> 
    </section> 
   </section> 
  </section> 
 </section> 
</section>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0d1dbe5a3e5863242418b768d1601633";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
