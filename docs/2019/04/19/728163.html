<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>程序员，岂能被网站吞吐量难住？ | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="程序员，岂能被网站吞吐量难住？" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="作者 | 菜菜 责编&nbsp;|&nbsp;郭芮 YY妹：菜菜哥，有个事你还得帮我（苦笑一下）.....前几天写了几个接口，领导让提高一下接口吞吐量。 菜菜：这是你技术提高的大好机会呀！ YY妹：可吞吐量具体是什么？怎么提高呢？ 菜菜：来，哥给你解释一番。 什么是吞吐量？ 吞吐量是指对网络、设备、端口、虚电路或其他设施，单位时间内成功地传送数据的数量（以比特、字节、分组等测量）。 以上的定义比较宽泛，定义到网站或者接口的吞吐量是这样的：吞吐量是指系统在单位时间内处理请求的数量。这里有一个注意点就是单位时间内，对于网站的吞吐量这个单位时间一般定义为1秒，也就是说网站在一秒之内能处理多少HTTP（HTTPS/TCP）请求。与吞吐量对应的衡量网站性能的还有响应时间、并发数、QPS每秒查询率。 响应时间是一个系统最重要的指标之一，它的数值大小直接反应了系统的快慢。响应时间是指执行一个请求从开始到最后收到响应数据所花费的总体时间。 并发数是指系统同时能处理的请求数量，这个也是反应了系统的负载能力。 每秒查询率(QPS)是对一个特定的查询服务器在规定时间内所处理流量多少的衡量标准，在因特网上，作为域名系统服务器的机器的性能经常用每秒查询率来衡量。对应fetches/sec，即每秒的响应请求数，也即是最大吞吐能力。 我们以高速收费站为例子也许更直观一些，吞吐量就是一天之内通过的车辆数，响应时间就是车速，并发数就是高速上同时奔跑的汽车数。由此可见其实以上几个指标是有内在联系的。比如：响应时间缩短，在一定程度上可以提高吞吐量。 其实以上几个指标主要反映了两个概念： 系统在单位时间之内能做多少事情； 系统做一件事情需要的时间。 提高吞吐量 以下场景都是在假设程序不发生异常的情况下。 服务器（进程）级别 服务器级别增加网站吞吐量也是诸多措施中最容易并且是效果最好的，如果一个网站能通过增加少量的服务器来提高吞吐量，应该优先采用。 毕竟一台服务器的费用相比较一个程序员费用来说要低的多。但是有一个前提，就是你的服务器是系统的瓶颈，网站系统之后的其他系统并非瓶颈。 如果你的系统的瓶颈在DB或者其他服务，盲目的增加服务器并不能解决你的问题。 通过增加服务器来解决你的网站瓶颈，意味着你的网站需要做负载均衡，如果没有运维相关人员，你可能还得需要研究负载均衡的方案，比如LVS、Nginx、F5等。 我曾经面试过很多入道不久的同学，就提高吞吐量问题，如果没有回答上用负载均衡方案的基本都PASS了。 不要说别的，这个方案就是一个基础，就好比学习一个语言，你连最基本的语法都不会，我凭什么让你通过？ 其实现在很多静态文件采用CDN，本质上也可以认为是增加服务器的策略。 线程级别 当一个请求到达服务器并且正确的被服务器接收之后，最终执行这个请求的载体是一个线程。 当一个线程被CPU载入执行其指令的时候，在同步的状态下，当前线程会阻塞在那里等待CPU结果，如果CPU执行的是比较慢的IO操作，线程会一直被阻塞闲置很长时间，这里的很长是对比CPU的速度而言。 当一个新的请求到来的时候，如果没有新的线程去领取这个任务并执行，要么会发生异常，要么创建新的线程。 线程是一种很稀缺的资源，不可能无限制的创建。这种情况下我们就要把线程这种资源充分利用起来，不要让线程停下来。这也是程序推荐采用异步的原因。 试想，一个线程不停的在工作，遇到比较慢的IO不会去等待结果，而是接着处理下一个请求，当IO的结果返回来得到通知的时候，线程再去取IO结果，岂不是能在相同时间内处理更多的请求。 程序异步化（非阻塞）会明显提高系统的吞吐量，但是响应时间可能会稍微变大。 还有一点，尽量减少线程上下文在CPU的切换，因为线程上线文切换的成本也是比较大的，在线程切换的时候，CPU需要把当前线程的上下文信息记录下来用以下次调用的时候使用，然后把新线程的上下文信息载入然后执行。这个过程相对于CPU的执行速度而言，要慢很多。 不要拿Golang反驳以上观点，Golang的协程虽然是用户级别比线程更小的载体，但是最终和CPU进行交互的还是线程。 CPU级别 在讲CPU级别之前，如果有一定的网络模型的基础，也许会好一些。这里大体阐述一下，现代操作系统都采用虚拟寻址的方式，它的寻址空间（虚拟存储空间）为4G（2的32次方）。操作系统将虚拟空间分为两类：内核空间和用户空间。 内核空间独立于用户空间，有访问受保护的内存空间、IO设备的权限（所有的用户空间共享）。 用户空间就是我们的应用程序运行的空间，其实用户空间并没有操作各种IO设备的权限，像我们平时读取一个文件，本质上是委托内核空间去执行读取指令的，内核空间读取到数据之后再把数据复制到程序运行的空间，最后应用程序再把数据返回调用方。 通过上图大体可以看出，内核会为每个I/O设备维护一个buffer（同一个文件描述符读和写的buffer不同），应用程序发出一个IO操作的指令其实通过了内核空间和用户空间两个部分，并且发生了数据的复制操作。这个过程其实主要包含两个步骤： 用户进程发出操作指令并等待数据； 内核把数据返回给用户进程（buffer的复制操作）。 根据这两个操作的不同表现，所以IO模型有了同步阻塞，同步非阻塞，异步阻塞，异步非阻塞的概念，但是这里并非此文的重点，所以不在展开详细介绍。 利用CPU提高系统吞吐量主要目标是提高单位时间内CPU运行的指令数，避免CPU做一些无用功： cpu负责把buffer的数据copy到应用程序空间，应用程序再把数据返回给调用方，假如这个过程发生的是一次Socket操作，应用程序在得到IO返回数据之后，还需要网卡把数据返回给client端，这个过程又需要把刚刚得到的buffer数据再次通过内核发送至网卡，通过网络传送出去。由此可见cpu把buffer数据copy到应用程序空间这个过程完全没有必要，在内核空间完全可以把buffer数据直接传输至网卡，这也是零拷贝技术要解决的问题。具体的零拷贝技术在这里不再展开。 不要让任何设备停下来，不要让任何设备做无用功。 通过增加cpu的个数来增加吞吐量。 网络传输级别 至于网络传输级别，由于协议大部分是TCP/IP，所以在协议传输方面优化的手段比较少，但是应用程序级别协议可以选择压缩率更好的，比如采用grpc会比单纯的HTTP协议要好很多，HTTP2 要比HTTP 1.1要好很多。 另外一方面网卡尽量加大传输速率，比如千兆网卡要比百兆网卡速度更快。由于网络传输比较偏底层，所以人工干预的切入点会少很多。 最后总结 大部分程序员都是工作在应用层，针对应用级别代码能提高吞吐量的建议： 加大应用的进程数，增加并发数，特别在进程数是瓶颈的情况下； 优化线程调用，尽量池化； 应用的代码异步化，特别是异步非阻塞式编程对于提高吞吐量效果特别明显； 充分利用多核CPU优势，实现并行编程； 减少每个调用的响应时间，缩短调用链，例如通过加索引的方式来减少访问一次数据库的时间。 【End】 作为码一代，想教码二代却无从下手： 听说少儿编程很火，可它有哪些好处呢？ 孩子多大开始学习比较好呢？又该如何学习呢？ 最新的编程教育政策又有哪些呢？ 下面给大家介绍CSDN新成员：极客宝宝（ID：geek_baby） 戳他了解更多↓↓↓ &nbsp;热 文&nbsp;推 荐&nbsp; ☞苹果为了 5G“放过”高通！ ☞助力 Android 抗衡 iOS，华为发布方舟编译器！ ☞阿里技术副总裁贾扬清：我对人工智能的一点浅见&nbsp;|&nbsp;技术头条 ☞程序员的黑砖窑，东南亚博彩骗局详解 ☞你的 AI 老师已上岗 ☞OpenStack网络的下一步原来这么走 | 技术头条 ☞售价910元！周志华等人英文新书《演化学习》出炉！ ☞要成为年薪百万的技术大牛必经历这5个阶段, 收好这份超实用的技术进阶指南 | 技术头条 ☞他说：当一个程序员决定告别996，什么都有可能发生！ System.out.println(&quot;点个在看吧！&quot;);console.log(&quot;点个在看吧！&quot;);print(&quot;点个在看吧！&quot;);printf(&quot;点个在看吧！\n&quot;);cout&nbsp;&lt;&lt;&nbsp;&quot;点个在看吧！&quot;&nbsp;&lt;&lt;&nbsp;endl;Console.WriteLine(&quot;点个在看吧！&quot;);Response.Write(&quot;点个在看吧！&quot;);alert(&quot;点个在看吧！&quot;)echo &quot;点个在看吧！&quot; 点击阅读原文，输入关键词，即可搜索您想要的 CSDN 文章。 你点的每个“在看”，我都认真当成了喜欢" />
<meta property="og:description" content="作者 | 菜菜 责编&nbsp;|&nbsp;郭芮 YY妹：菜菜哥，有个事你还得帮我（苦笑一下）.....前几天写了几个接口，领导让提高一下接口吞吐量。 菜菜：这是你技术提高的大好机会呀！ YY妹：可吞吐量具体是什么？怎么提高呢？ 菜菜：来，哥给你解释一番。 什么是吞吐量？ 吞吐量是指对网络、设备、端口、虚电路或其他设施，单位时间内成功地传送数据的数量（以比特、字节、分组等测量）。 以上的定义比较宽泛，定义到网站或者接口的吞吐量是这样的：吞吐量是指系统在单位时间内处理请求的数量。这里有一个注意点就是单位时间内，对于网站的吞吐量这个单位时间一般定义为1秒，也就是说网站在一秒之内能处理多少HTTP（HTTPS/TCP）请求。与吞吐量对应的衡量网站性能的还有响应时间、并发数、QPS每秒查询率。 响应时间是一个系统最重要的指标之一，它的数值大小直接反应了系统的快慢。响应时间是指执行一个请求从开始到最后收到响应数据所花费的总体时间。 并发数是指系统同时能处理的请求数量，这个也是反应了系统的负载能力。 每秒查询率(QPS)是对一个特定的查询服务器在规定时间内所处理流量多少的衡量标准，在因特网上，作为域名系统服务器的机器的性能经常用每秒查询率来衡量。对应fetches/sec，即每秒的响应请求数，也即是最大吞吐能力。 我们以高速收费站为例子也许更直观一些，吞吐量就是一天之内通过的车辆数，响应时间就是车速，并发数就是高速上同时奔跑的汽车数。由此可见其实以上几个指标是有内在联系的。比如：响应时间缩短，在一定程度上可以提高吞吐量。 其实以上几个指标主要反映了两个概念： 系统在单位时间之内能做多少事情； 系统做一件事情需要的时间。 提高吞吐量 以下场景都是在假设程序不发生异常的情况下。 服务器（进程）级别 服务器级别增加网站吞吐量也是诸多措施中最容易并且是效果最好的，如果一个网站能通过增加少量的服务器来提高吞吐量，应该优先采用。 毕竟一台服务器的费用相比较一个程序员费用来说要低的多。但是有一个前提，就是你的服务器是系统的瓶颈，网站系统之后的其他系统并非瓶颈。 如果你的系统的瓶颈在DB或者其他服务，盲目的增加服务器并不能解决你的问题。 通过增加服务器来解决你的网站瓶颈，意味着你的网站需要做负载均衡，如果没有运维相关人员，你可能还得需要研究负载均衡的方案，比如LVS、Nginx、F5等。 我曾经面试过很多入道不久的同学，就提高吞吐量问题，如果没有回答上用负载均衡方案的基本都PASS了。 不要说别的，这个方案就是一个基础，就好比学习一个语言，你连最基本的语法都不会，我凭什么让你通过？ 其实现在很多静态文件采用CDN，本质上也可以认为是增加服务器的策略。 线程级别 当一个请求到达服务器并且正确的被服务器接收之后，最终执行这个请求的载体是一个线程。 当一个线程被CPU载入执行其指令的时候，在同步的状态下，当前线程会阻塞在那里等待CPU结果，如果CPU执行的是比较慢的IO操作，线程会一直被阻塞闲置很长时间，这里的很长是对比CPU的速度而言。 当一个新的请求到来的时候，如果没有新的线程去领取这个任务并执行，要么会发生异常，要么创建新的线程。 线程是一种很稀缺的资源，不可能无限制的创建。这种情况下我们就要把线程这种资源充分利用起来，不要让线程停下来。这也是程序推荐采用异步的原因。 试想，一个线程不停的在工作，遇到比较慢的IO不会去等待结果，而是接着处理下一个请求，当IO的结果返回来得到通知的时候，线程再去取IO结果，岂不是能在相同时间内处理更多的请求。 程序异步化（非阻塞）会明显提高系统的吞吐量，但是响应时间可能会稍微变大。 还有一点，尽量减少线程上下文在CPU的切换，因为线程上线文切换的成本也是比较大的，在线程切换的时候，CPU需要把当前线程的上下文信息记录下来用以下次调用的时候使用，然后把新线程的上下文信息载入然后执行。这个过程相对于CPU的执行速度而言，要慢很多。 不要拿Golang反驳以上观点，Golang的协程虽然是用户级别比线程更小的载体，但是最终和CPU进行交互的还是线程。 CPU级别 在讲CPU级别之前，如果有一定的网络模型的基础，也许会好一些。这里大体阐述一下，现代操作系统都采用虚拟寻址的方式，它的寻址空间（虚拟存储空间）为4G（2的32次方）。操作系统将虚拟空间分为两类：内核空间和用户空间。 内核空间独立于用户空间，有访问受保护的内存空间、IO设备的权限（所有的用户空间共享）。 用户空间就是我们的应用程序运行的空间，其实用户空间并没有操作各种IO设备的权限，像我们平时读取一个文件，本质上是委托内核空间去执行读取指令的，内核空间读取到数据之后再把数据复制到程序运行的空间，最后应用程序再把数据返回调用方。 通过上图大体可以看出，内核会为每个I/O设备维护一个buffer（同一个文件描述符读和写的buffer不同），应用程序发出一个IO操作的指令其实通过了内核空间和用户空间两个部分，并且发生了数据的复制操作。这个过程其实主要包含两个步骤： 用户进程发出操作指令并等待数据； 内核把数据返回给用户进程（buffer的复制操作）。 根据这两个操作的不同表现，所以IO模型有了同步阻塞，同步非阻塞，异步阻塞，异步非阻塞的概念，但是这里并非此文的重点，所以不在展开详细介绍。 利用CPU提高系统吞吐量主要目标是提高单位时间内CPU运行的指令数，避免CPU做一些无用功： cpu负责把buffer的数据copy到应用程序空间，应用程序再把数据返回给调用方，假如这个过程发生的是一次Socket操作，应用程序在得到IO返回数据之后，还需要网卡把数据返回给client端，这个过程又需要把刚刚得到的buffer数据再次通过内核发送至网卡，通过网络传送出去。由此可见cpu把buffer数据copy到应用程序空间这个过程完全没有必要，在内核空间完全可以把buffer数据直接传输至网卡，这也是零拷贝技术要解决的问题。具体的零拷贝技术在这里不再展开。 不要让任何设备停下来，不要让任何设备做无用功。 通过增加cpu的个数来增加吞吐量。 网络传输级别 至于网络传输级别，由于协议大部分是TCP/IP，所以在协议传输方面优化的手段比较少，但是应用程序级别协议可以选择压缩率更好的，比如采用grpc会比单纯的HTTP协议要好很多，HTTP2 要比HTTP 1.1要好很多。 另外一方面网卡尽量加大传输速率，比如千兆网卡要比百兆网卡速度更快。由于网络传输比较偏底层，所以人工干预的切入点会少很多。 最后总结 大部分程序员都是工作在应用层，针对应用级别代码能提高吞吐量的建议： 加大应用的进程数，增加并发数，特别在进程数是瓶颈的情况下； 优化线程调用，尽量池化； 应用的代码异步化，特别是异步非阻塞式编程对于提高吞吐量效果特别明显； 充分利用多核CPU优势，实现并行编程； 减少每个调用的响应时间，缩短调用链，例如通过加索引的方式来减少访问一次数据库的时间。 【End】 作为码一代，想教码二代却无从下手： 听说少儿编程很火，可它有哪些好处呢？ 孩子多大开始学习比较好呢？又该如何学习呢？ 最新的编程教育政策又有哪些呢？ 下面给大家介绍CSDN新成员：极客宝宝（ID：geek_baby） 戳他了解更多↓↓↓ &nbsp;热 文&nbsp;推 荐&nbsp; ☞苹果为了 5G“放过”高通！ ☞助力 Android 抗衡 iOS，华为发布方舟编译器！ ☞阿里技术副总裁贾扬清：我对人工智能的一点浅见&nbsp;|&nbsp;技术头条 ☞程序员的黑砖窑，东南亚博彩骗局详解 ☞你的 AI 老师已上岗 ☞OpenStack网络的下一步原来这么走 | 技术头条 ☞售价910元！周志华等人英文新书《演化学习》出炉！ ☞要成为年薪百万的技术大牛必经历这5个阶段, 收好这份超实用的技术进阶指南 | 技术头条 ☞他说：当一个程序员决定告别996，什么都有可能发生！ System.out.println(&quot;点个在看吧！&quot;);console.log(&quot;点个在看吧！&quot;);print(&quot;点个在看吧！&quot;);printf(&quot;点个在看吧！\n&quot;);cout&nbsp;&lt;&lt;&nbsp;&quot;点个在看吧！&quot;&nbsp;&lt;&lt;&nbsp;endl;Console.WriteLine(&quot;点个在看吧！&quot;);Response.Write(&quot;点个在看吧！&quot;);alert(&quot;点个在看吧！&quot;)echo &quot;点个在看吧！&quot; 点击阅读原文，输入关键词，即可搜索您想要的 CSDN 文章。 你点的每个“在看”，我都认真当成了喜欢" />
<link rel="canonical" href="https://mlh.app/2019/04/19/728163.html" />
<meta property="og:url" content="https://mlh.app/2019/04/19/728163.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-04-19T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"作者 | 菜菜 责编&nbsp;|&nbsp;郭芮 YY妹：菜菜哥，有个事你还得帮我（苦笑一下）.....前几天写了几个接口，领导让提高一下接口吞吐量。 菜菜：这是你技术提高的大好机会呀！ YY妹：可吞吐量具体是什么？怎么提高呢？ 菜菜：来，哥给你解释一番。 什么是吞吐量？ 吞吐量是指对网络、设备、端口、虚电路或其他设施，单位时间内成功地传送数据的数量（以比特、字节、分组等测量）。 以上的定义比较宽泛，定义到网站或者接口的吞吐量是这样的：吞吐量是指系统在单位时间内处理请求的数量。这里有一个注意点就是单位时间内，对于网站的吞吐量这个单位时间一般定义为1秒，也就是说网站在一秒之内能处理多少HTTP（HTTPS/TCP）请求。与吞吐量对应的衡量网站性能的还有响应时间、并发数、QPS每秒查询率。 响应时间是一个系统最重要的指标之一，它的数值大小直接反应了系统的快慢。响应时间是指执行一个请求从开始到最后收到响应数据所花费的总体时间。 并发数是指系统同时能处理的请求数量，这个也是反应了系统的负载能力。 每秒查询率(QPS)是对一个特定的查询服务器在规定时间内所处理流量多少的衡量标准，在因特网上，作为域名系统服务器的机器的性能经常用每秒查询率来衡量。对应fetches/sec，即每秒的响应请求数，也即是最大吞吐能力。 我们以高速收费站为例子也许更直观一些，吞吐量就是一天之内通过的车辆数，响应时间就是车速，并发数就是高速上同时奔跑的汽车数。由此可见其实以上几个指标是有内在联系的。比如：响应时间缩短，在一定程度上可以提高吞吐量。 其实以上几个指标主要反映了两个概念： 系统在单位时间之内能做多少事情； 系统做一件事情需要的时间。 提高吞吐量 以下场景都是在假设程序不发生异常的情况下。 服务器（进程）级别 服务器级别增加网站吞吐量也是诸多措施中最容易并且是效果最好的，如果一个网站能通过增加少量的服务器来提高吞吐量，应该优先采用。 毕竟一台服务器的费用相比较一个程序员费用来说要低的多。但是有一个前提，就是你的服务器是系统的瓶颈，网站系统之后的其他系统并非瓶颈。 如果你的系统的瓶颈在DB或者其他服务，盲目的增加服务器并不能解决你的问题。 通过增加服务器来解决你的网站瓶颈，意味着你的网站需要做负载均衡，如果没有运维相关人员，你可能还得需要研究负载均衡的方案，比如LVS、Nginx、F5等。 我曾经面试过很多入道不久的同学，就提高吞吐量问题，如果没有回答上用负载均衡方案的基本都PASS了。 不要说别的，这个方案就是一个基础，就好比学习一个语言，你连最基本的语法都不会，我凭什么让你通过？ 其实现在很多静态文件采用CDN，本质上也可以认为是增加服务器的策略。 线程级别 当一个请求到达服务器并且正确的被服务器接收之后，最终执行这个请求的载体是一个线程。 当一个线程被CPU载入执行其指令的时候，在同步的状态下，当前线程会阻塞在那里等待CPU结果，如果CPU执行的是比较慢的IO操作，线程会一直被阻塞闲置很长时间，这里的很长是对比CPU的速度而言。 当一个新的请求到来的时候，如果没有新的线程去领取这个任务并执行，要么会发生异常，要么创建新的线程。 线程是一种很稀缺的资源，不可能无限制的创建。这种情况下我们就要把线程这种资源充分利用起来，不要让线程停下来。这也是程序推荐采用异步的原因。 试想，一个线程不停的在工作，遇到比较慢的IO不会去等待结果，而是接着处理下一个请求，当IO的结果返回来得到通知的时候，线程再去取IO结果，岂不是能在相同时间内处理更多的请求。 程序异步化（非阻塞）会明显提高系统的吞吐量，但是响应时间可能会稍微变大。 还有一点，尽量减少线程上下文在CPU的切换，因为线程上线文切换的成本也是比较大的，在线程切换的时候，CPU需要把当前线程的上下文信息记录下来用以下次调用的时候使用，然后把新线程的上下文信息载入然后执行。这个过程相对于CPU的执行速度而言，要慢很多。 不要拿Golang反驳以上观点，Golang的协程虽然是用户级别比线程更小的载体，但是最终和CPU进行交互的还是线程。 CPU级别 在讲CPU级别之前，如果有一定的网络模型的基础，也许会好一些。这里大体阐述一下，现代操作系统都采用虚拟寻址的方式，它的寻址空间（虚拟存储空间）为4G（2的32次方）。操作系统将虚拟空间分为两类：内核空间和用户空间。 内核空间独立于用户空间，有访问受保护的内存空间、IO设备的权限（所有的用户空间共享）。 用户空间就是我们的应用程序运行的空间，其实用户空间并没有操作各种IO设备的权限，像我们平时读取一个文件，本质上是委托内核空间去执行读取指令的，内核空间读取到数据之后再把数据复制到程序运行的空间，最后应用程序再把数据返回调用方。 通过上图大体可以看出，内核会为每个I/O设备维护一个buffer（同一个文件描述符读和写的buffer不同），应用程序发出一个IO操作的指令其实通过了内核空间和用户空间两个部分，并且发生了数据的复制操作。这个过程其实主要包含两个步骤： 用户进程发出操作指令并等待数据； 内核把数据返回给用户进程（buffer的复制操作）。 根据这两个操作的不同表现，所以IO模型有了同步阻塞，同步非阻塞，异步阻塞，异步非阻塞的概念，但是这里并非此文的重点，所以不在展开详细介绍。 利用CPU提高系统吞吐量主要目标是提高单位时间内CPU运行的指令数，避免CPU做一些无用功： cpu负责把buffer的数据copy到应用程序空间，应用程序再把数据返回给调用方，假如这个过程发生的是一次Socket操作，应用程序在得到IO返回数据之后，还需要网卡把数据返回给client端，这个过程又需要把刚刚得到的buffer数据再次通过内核发送至网卡，通过网络传送出去。由此可见cpu把buffer数据copy到应用程序空间这个过程完全没有必要，在内核空间完全可以把buffer数据直接传输至网卡，这也是零拷贝技术要解决的问题。具体的零拷贝技术在这里不再展开。 不要让任何设备停下来，不要让任何设备做无用功。 通过增加cpu的个数来增加吞吐量。 网络传输级别 至于网络传输级别，由于协议大部分是TCP/IP，所以在协议传输方面优化的手段比较少，但是应用程序级别协议可以选择压缩率更好的，比如采用grpc会比单纯的HTTP协议要好很多，HTTP2 要比HTTP 1.1要好很多。 另外一方面网卡尽量加大传输速率，比如千兆网卡要比百兆网卡速度更快。由于网络传输比较偏底层，所以人工干预的切入点会少很多。 最后总结 大部分程序员都是工作在应用层，针对应用级别代码能提高吞吐量的建议： 加大应用的进程数，增加并发数，特别在进程数是瓶颈的情况下； 优化线程调用，尽量池化； 应用的代码异步化，特别是异步非阻塞式编程对于提高吞吐量效果特别明显； 充分利用多核CPU优势，实现并行编程； 减少每个调用的响应时间，缩短调用链，例如通过加索引的方式来减少访问一次数据库的时间。 【End】 作为码一代，想教码二代却无从下手： 听说少儿编程很火，可它有哪些好处呢？ 孩子多大开始学习比较好呢？又该如何学习呢？ 最新的编程教育政策又有哪些呢？ 下面给大家介绍CSDN新成员：极客宝宝（ID：geek_baby） 戳他了解更多↓↓↓ &nbsp;热 文&nbsp;推 荐&nbsp; ☞苹果为了 5G“放过”高通！ ☞助力 Android 抗衡 iOS，华为发布方舟编译器！ ☞阿里技术副总裁贾扬清：我对人工智能的一点浅见&nbsp;|&nbsp;技术头条 ☞程序员的黑砖窑，东南亚博彩骗局详解 ☞你的 AI 老师已上岗 ☞OpenStack网络的下一步原来这么走 | 技术头条 ☞售价910元！周志华等人英文新书《演化学习》出炉！ ☞要成为年薪百万的技术大牛必经历这5个阶段, 收好这份超实用的技术进阶指南 | 技术头条 ☞他说：当一个程序员决定告别996，什么都有可能发生！ System.out.println(&quot;点个在看吧！&quot;);console.log(&quot;点个在看吧！&quot;);print(&quot;点个在看吧！&quot;);printf(&quot;点个在看吧！\\n&quot;);cout&nbsp;&lt;&lt;&nbsp;&quot;点个在看吧！&quot;&nbsp;&lt;&lt;&nbsp;endl;Console.WriteLine(&quot;点个在看吧！&quot;);Response.Write(&quot;点个在看吧！&quot;);alert(&quot;点个在看吧！&quot;)echo &quot;点个在看吧！&quot; 点击阅读原文，输入关键词，即可搜索您想要的 CSDN 文章。 你点的每个“在看”，我都认真当成了喜欢","@type":"BlogPosting","url":"https://mlh.app/2019/04/19/728163.html","headline":"程序员，岂能被网站吞吐量难住？","dateModified":"2019-04-19T00:00:00+08:00","datePublished":"2019-04-19T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2019/04/19/728163.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>程序员，岂能被网站吞吐量难住？</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <p style="margin-right: 16px;margin-left: 16px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);text-align: center;line-height: 1.75em;letter-spacing: 1px;margin-bottom: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><img class="__bg_gif" data-copyright="0" data-ratio="0.15644171779141106" data-src="https://mmbiz.qpic.cn/mmbiz_gif/Pn4Sm0RsAug5zOzy32A3RIVhRwowK5ogg1hJ631uGyu9zOMKfTddDnSrsxicbCQNm59Qeo3lDYCvF70I9ibGvA9g/640?wx_fmt=gif" data-type="gif" data-w="652" style="box-sizing: border-box !important;word-wrap: break-word !important;width: 652px !important;visibility: visible !important;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_gif/Pn4Sm0RsAug5zOzy32A3RIVhRwowK5ogg1hJ631uGyu9zOMKfTddDnSrsxicbCQNm59Qeo3lDYCvF70I9ibGvA9g/640?wx_fmt=gif"></p> 
<p style="text-align: center;margin-left: 8px;margin-right: 8px;margin-bottom: 15px;line-height: 1.75em;"><img class="rich_pages" data-copyright="0" data-ratio="0.86" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/Pn4Sm0RsAugaRibRE7u5oF2bF7R4C8nia7Oibia9m3bFghr66zUqrdXicWtHWxdDhNZp9D87hVJoWjiaN0hcawJAEGOA/640?wx_fmt=jpeg" data-type="jpeg" data-w="800" style="letter-spacing: 1px;text-align: center;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/Pn4Sm0RsAugaRibRE7u5oF2bF7R4C8nia7Oibia9m3bFghr66zUqrdXicWtHWxdDhNZp9D87hVJoWjiaN0hcawJAEGOA/640?wx_fmt=jpeg"></p> 
<p style="text-align: justify;margin-left: 8px;margin-right: 8px;line-height: normal;letter-spacing: 1px;margin-bottom: 15px;"><span style="background-color: rgb(255, 255, 255);color: rgb(136, 136, 136);letter-spacing: 1px;font-size: 14px;">作者 | 菜菜</span></p> 
<p style="text-align: left;margin-left: 8px;margin-right: 8px;line-height: normal;letter-spacing: 1px;margin-bottom: 15px;"><span style="color: rgb(136, 136, 136);letter-spacing: 1px;text-align: justify;background-color: rgb(255, 255, 255);font-size: 14px;">责编&nbsp;|&nbsp;郭芮</span><span style="font-size: 14px;color: rgb(136, 136, 136);letter-spacing: 1px;text-align: justify;background-color: rgb(255, 255, 255);"></span><span style="color: rgb(136, 136, 136);font-size: 14px;letter-spacing: 1px;text-align: justify;background-color: rgb(255, 255, 255);"></span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;"></span></p> 
<blockquote class="js_blockquote_wrap" data-type="2" data-url="" data-author-name="" data-content-utf8-length="103" data-source-title=""> 
 <section class="js_blockquote_digest"> 
  <section> 
   <p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">YY妹：菜菜哥，有个事你还得帮我（苦笑一下）.....前几天写了几个接口，领导让提高一下接口吞吐量。</span></p> 
   <p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">菜菜：这是你技术提高的大好机会呀！</span></p> 
   <p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">YY妹：可吞吐量具体是什么？怎么提高呢？</span></p> 
   <p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">菜菜：来，哥给你解释一番。</span></p> 
  </section> 
 </section> 
</blockquote> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;"><br></p> 
<p style="text-align: center;margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><strong><img class="rich_pages" data-copyright="0" data-ratio="0.1625" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhSvZMAt2zKcxGQN3l1NV4LXSAriayI15u06ibNNlXzIcor2tTtgJBKFxkIicJ8tiaRKRaictbrQEssdSg/640?wx_fmt=png" data-type="png" data-w="160" style="" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhSvZMAt2zKcxGQN3l1NV4LXSAriayI15u06ibNNlXzIcor2tTtgJBKFxkIicJ8tiaRKRaictbrQEssdSg/640?wx_fmt=png"></strong></p> 
<p style="text-align: center;margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><strong><span style="letter-spacing: 1px;font-size: 18px;">什么是吞吐量？</span></strong><br></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;"><br></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;"><br></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">吞吐量是指对网络、设备、端口、虚电路或其他设施，单位时间内成功地传送数据的数量（以比特、字节、分组等测量）。</span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">以上的定义比较宽泛，定义到网站或者接口的吞吐量是这样的：</span><span style="font-size: 15px;letter-spacing: 1px;">吞吐量是指系统在单位时间内处理请求的数量。</span><span style="font-size: 15px;letter-spacing: 1px;">这里有一个注意点就是</span><strong style="font-size: 15px;letter-spacing: 1px;">单位时间内</strong><span style="font-size: 15px;letter-spacing: 1px;">，对于网站的吞吐量这个单位时间一般定义为1秒，也就是说网站在一秒之内能处理多少HTTP（HTTPS/TCP）请求。</span><span style="font-size: 15px;letter-spacing: 1px;">与吞吐量对应的衡量网站性能的还有响应时间、并发数、QPS每秒查询率。</span></p> 
<ul class=" list-paddingleft-2" style="list-style-type: disc;margin-left: 8px;margin-right: 8px;"> 
 <li><p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">响应时间是一个系统最重要的指标之一，它的数值大小直接反应了系统的快慢。响应时间是指执行一个请求从开始到最后收到响应数据所花费的总体时间。</span></p></li> 
 <li><p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">并发数是指系统同时能处理的请求数量，这个也是反应了系统的负载能力。</span></p></li> 
 <li><p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">每秒查询率(QPS)是对一个特定的查询服务器在规定时间内所处理流量多少的衡量标准，在因特网上，作为域名系统服务器的机器的性能经常用每秒查询率来衡量。对应fetches/sec，即每秒的响应请求数，也即是最大吞吐能力。</span></p></li> 
</ul> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">我们以高速收费站为例子也许更直观一些，吞吐量就是一天之内通过的车辆数，响应时间就是车速，并发数就是高速上同时奔跑的汽车数。由此可见其实以上几个指标是有内在联系的。比如：响应时间缩短，在一定程度上可以提高吞吐量。</span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">其实以上几个指标主要反映了两个概念：</span></p> 
<ul class=" list-paddingleft-2" style="list-style-type: disc;margin-left: 8px;margin-right: 8px;"> 
 <li><p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">系统在单位时间之内能做多少事情；</span></p></li> 
 <li><p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">系统做一件事情需要的时间。</span></p></li> 
</ul> 
<p style="margin-left: 8px;margin-right: 8px;margin-bottom: 15px;line-height: 1.75em;"><br></p> 
<p style="text-align: center;margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><strong><img class="rich_pages" data-copyright="0" data-ratio="0.1625" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhSvZMAt2zKcxGQN3l1NV4LwYnW1VvkaHWiaL6W1Mr1yiaNLQpxwhyqice9F1yJzMHticssPX515qyvog/640?wx_fmt=png" data-type="png" data-w="160" style="" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhSvZMAt2zKcxGQN3l1NV4LwYnW1VvkaHWiaL6W1Mr1yiaNLQpxwhyqice9F1yJzMHticssPX515qyvog/640?wx_fmt=png"></strong></p> 
<p style="text-align: center;margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><strong><span style="letter-spacing: 1px;font-size: 18px;">提高吞吐量</span></strong><span style="font-size: 15px;letter-spacing: 1px;"></span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;letter-spacing: 1px;"><br></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">以下场景都是在假设程序不发生异常的情况下。</span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="color: rgb(171, 25, 66);"><strong><span style="font-size: 15px;letter-spacing: 1px;">服务器（进程）级别</span></strong></span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">服务器级别增加网站吞吐量也是诸多措施中最容易并且是效果最好的，如果一个网站能通过增加少量的服务器来提高吞吐量，应该优先采用。</span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">毕竟一台服务器的费用相比较一个程序员费用来说要低的多。但是有一个前提，就是你的服务器是系统的瓶颈，网站系统之后的其他系统并非瓶颈。</span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">如果你的系统的瓶颈在DB或者其他服务，盲目的增加服务器并不能解决你的问题。</span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">通过增加服务器来解决你的网站瓶颈，意味着你的网站需要做负载均衡，如果没有运维相关人员，你可能还得需要研究负载均衡的方案，比如LVS、Nginx、F5等。</span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">我曾经面试过很多入道不久的同学，就提高吞吐量问题，如果没有回答上用负载均衡方案的基本都PASS了。</span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">不要说别的，这个方案就是一个基础，就好比学习一个语言，你连最基本的语法都不会，我凭什么让你通过？</span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">其实现在很多静态文件采用CDN，本质上也可以认为是增加服务器的策略。</span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="color: rgb(171, 25, 66);"><strong><span style="font-size: 15px;letter-spacing: 1px;">线程级别</span></strong></span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">当一个请求到达服务器并且正确的被服务器接收之后，最终执行这个请求的载体是一个线程。</span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">当一个线程被CPU载入执行其指令的时候，在同步的状态下，当前线程会阻塞在那里等待CPU结果，如果CPU执行的是比较慢的IO操作，线程会一直被阻塞闲置很长时间，这里的很长是对比CPU的速度而言。</span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">当一个新的请求到来的时候，如果没有新的线程去领取这个任务并执行，要么会发生异常，要么创建新的线程。</span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">线程是一种很稀缺的资源，不可能无限制的创建。这种情况下我们就要把线程这种资源充分利用起来，不要让线程停下来。这也是程序推荐采用异步的原因。</span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">试想，一个线程不停的在工作，遇到比较慢的IO不会去等待结果，而是接着处理下一个请求，当IO的结果返回来得到通知的时候，线程再去取IO结果，岂不是能在相同时间内处理更多的请求。</span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">程序异步化（非阻塞）会明显提高系统的吞吐量，但是响应时间可能会稍微变大。</span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">还有一点，尽量减少线程上下文在CPU的切换，因为线程上线文切换的成本也是比较大的，在线程切换的时候，CPU需要把当前线程的上下文信息记录下来用以下次调用的时候使用，然后把新线程的上下文信息载入然后执行。这个过程相对于CPU的执行速度而言，要慢很多。</span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">不要拿Golang反驳以上观点，Golang的协程虽然是用户级别比线程更小的载体，但是最终和CPU进行交互的还是线程。</span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="color: rgb(171, 25, 66);"><strong><span style="font-size: 15px;letter-spacing: 1px;">CPU级别</span></strong></span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">在讲CPU级别之前，如果有一定的网络模型的基础，也许会好一些。这里大体阐述一下，现代操作系统都采用虚拟寻址的方式，它的寻址空间（虚拟存储空间）为4G（2的32次方）。操作系统将虚拟空间分为两类：内核空间和用户空间。</span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">内核空间独立于用户空间，有访问受保护的内存空间、IO设备的权限（所有的用户空间共享）。</span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">用户空间就是我们的应用程序运行的空间，其实用户空间并没有操作各种IO设备的权限，像我们平时读取一个文件，本质上是委托内核空间去执行读取指令的，内核空间读取到数据之后再把数据复制到程序运行的空间，最后应用程序再把数据返回调用方。</span></p> 
<p style="text-align: center;margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><img class="" data-ratio="0.304" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/3TjM42ia414nLEWTHIqGsBl18ZjOribme5tMibmwv3phc8nQYqplBUic3ibciaribVaJNz1cchX9ibPMBHia2cOKDYsolOQ/640?wx_fmt=jpeg" data-type="jpeg" data-w="500" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/3TjM42ia414nLEWTHIqGsBl18ZjOribme5tMibmwv3phc8nQYqplBUic3ibciaribVaJNz1cchX9ibPMBHia2cOKDYsolOQ/640?wx_fmt=jpeg"></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">通过上图大体可以看出，内核会为每个I/O设备维护一个buffer（同一个文件描述符读和写的buffer不同），应用程序发出一个IO操作的指令其实通过了内核空间和用户空间两个部分，并且发生了数据的复制操作。这个过程其实主要包含两个步骤：</span></p> 
<ul class=" list-paddingleft-2" style="list-style-type: disc;margin-left: 8px;margin-right: 8px;"> 
 <li><p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">用户进程发出操作指令并等待数据；</span></p></li> 
 <li><p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">内核把数据返回给用户进程（buffer的复制操作）。</span></p></li> 
</ul> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">根据这两个操作的不同表现，所以IO模型有了同步阻塞，同步非阻塞，异步阻塞，异步非阻塞的概念，但是这里并非此文的重点，所以不在展开详细介绍。</span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">利用CPU提高系统吞吐量主要目标是提高单位时间内CPU运行的指令数，避免CPU做一些无用功：</span></p> 
<ul class=" list-paddingleft-2" style="list-style-type: disc;margin-left: 8px;margin-right: 8px;"> 
 <li><p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">cpu负责把buffer的数据copy到应用程序空间，应用程序再把数据返回给调用方，假如这个过程发生的是一次Socket操作，应用程序在得到IO返回数据之后，还需要网卡把数据返回给client端，这个过程又需要把刚刚得到的buffer数据再次通过内核发送至网卡，通过网络传送出去。由此可见cpu把buffer数据copy到应用程序空间这个过程完全没有必要，在内核空间完全可以把buffer数据直接传输至网卡，这也是零拷贝技术要解决的问题。具体的零拷贝技术在这里不再展开。</span></p></li> 
 <li><p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">不要让任何设备停下来，不要让任何设备做无用功。</span></p></li> 
 <li><p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">通过增加cpu的个数来增加吞吐量。</span></p></li> 
</ul> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><strong style="color: rgb(171, 25, 66);"><span style="font-size: 15px;letter-spacing: 1px;">网络传输级别</span></strong></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">至于网络传输级别，由于协议大部分是TCP/IP，所以在协议传输方面优化的手段比较少，但是应用程序级别协议可以选择压缩率更好的，比如采用grpc会比单纯的HTTP协议要好很多，HTTP2 要比HTTP 1.1要好很多。</span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">另外一方面网卡尽量加大传输速率，比如千兆网卡要比百兆网卡速度更快。由于网络传输比较偏底层，所以人工干预的切入点会少很多。</span></p> 
<p style="margin-left: 8px;margin-right: 8px;margin-bottom: 15px;line-height: 1.75em;"><br></p> 
<p style="text-align: center;margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><strong><img class="rich_pages" data-copyright="0" data-ratio="0.1625" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhSvZMAt2zKcxGQN3l1NV4Lb4ybNEVGnaAvEDwENKzW27LUKFDGZPKcBneWwTaTpaJyG2C3em7libQ/640?wx_fmt=png" data-type="png" data-w="160" style="" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhSvZMAt2zKcxGQN3l1NV4Lb4ybNEVGnaAvEDwENKzW27LUKFDGZPKcBneWwTaTpaJyG2C3em7libQ/640?wx_fmt=png"></strong></p> 
<p style="text-align: center;margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><strong><span style="letter-spacing: 1px;font-size: 18px;">最后总结</span></strong><span style="font-size: 15px;letter-spacing: 1px;"></span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;"><br></span></p> 
<p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">大部分程序员都是工作在应用层，针对应用级别代码能提高吞吐量的建议：</span></p> 
<ul class=" list-paddingleft-2" style="list-style-type: disc;margin-left: 8px;margin-right: 8px;"> 
 <li><p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">加大应用的进程数，增加并发数，特别在进程数是瓶颈的情况下；</span></p></li> 
 <li><p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">优化线程调用，尽量池化；</span><br></p></li> 
 <li><p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">应用的代码异步化，特别是异步非阻塞式编程对于提高吞吐量效果特别明显；</span><br></p></li> 
 <li><p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">充分利用多核CPU优势，实现并行编程；</span><br></p></li> 
 <li><p style="margin-left: 8px;margin-right: 8px;line-height: 1.75em;margin-bottom: 15px;"><span style="font-size: 15px;letter-spacing: 1px;">减少每个调用的响应时间，缩短调用链，例如通过加索引的方式来减少访问一次数据库的时间。</span><br></p></li> 
</ul> 
<hr style="border-style: solid;border-width: 1px 0 0;border-color: rgba(0,0,0,0.1);-webkit-transform-origin: 0 0;-webkit-transform: scale(1, 0.5);transform-origin: 0 0;transform: scale(1, 0.5);"> 
<p><br></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;text-align: center;line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;color: rgb(136, 136, 136);font-size: 14px;font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;box-sizing: border-box !important;overflow-wrap: break-word !important;">【End】</span></p> 
<p style="text-align: center;margin-left: 8px;margin-right: 8px;margin-bottom: 15px;line-height: 1.75em;letter-spacing: 1px;"><img class="rich_pages" data-copyright="0" data-ratio="0.5482233502538071" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/Pn4Sm0RsAuhUdTAica5phfXw2KUETyn15wswg9nGJu7qc63ib3hEy4NKdsDTEOP4fG3a726nVeQsDicWhjN8owP0A/640?wx_fmt=jpeg" data-type="jpeg" data-w="591" style="" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/Pn4Sm0RsAuhUdTAica5phfXw2KUETyn15wswg9nGJu7qc63ib3hEy4NKdsDTEOP4fG3a726nVeQsDicWhjN8owP0A/640?wx_fmt=jpeg"></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">作为码一代，想教码二代却无从下手：</span><br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">听说少儿编程很火，可它有哪些好处呢？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">孩子多大开始学习比较好呢？又该如何学习呢？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">最新的编程教育政策又有哪些呢？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">下面给大家介绍CSDN新成员：<strong style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">极客宝宝（ID：</strong><strong style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">geek_baby）</strong></span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;text-align: center;letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">戳他了解更多↓↓↓</span></strong><br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;text-align: center;line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><img class="rich_pages" data-copyright="0" data-cropselx1="180" data-cropselx2="438" data-cropsely1="0" data-cropsely2="258" data-ratio="0.3697916666666667" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/Pn4Sm0RsAuh1bcXNq238J3vRKyXya05vbbgCLnCbTPs0mGuVrLHntraYT5MIPrhkqQCmnqobLOf7nkWPh5j6vw/640?wx_fmt=jpeg" data-type="jpeg" data-w="960" style="box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible !important;width: 618px !important;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/Pn4Sm0RsAuh1bcXNq238J3vRKyXya05vbbgCLnCbTPs0mGuVrLHntraYT5MIPrhkqQCmnqobLOf7nkWPh5j6vw/640?wx_fmt=jpeg"></p> 
<p style="margin-right: 8px;margin-bottom: 10px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;background-color: rgb(255, 255, 255);text-align: center;letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;background-color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong style="max-width: 100%;color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">&nbsp;热 文</strong>&nbsp;推 荐&nbsp;</strong></span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;letter-spacing: 1px;line-height: normal;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5MjAwODM4MA==&amp;mid=2650718329&amp;idx=2&amp;sn=98f63ebda698db99724fd4902f79798d&amp;chksm=bea6b1aa89d138bc8ef3ea1da7cc2f85ccef273c3724a09fa3004290b6012025ee983da43962&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="11" data-linktype="2"><span style="max-width: 100%;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">☞苹果为了 5G“放过”高通！</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;letter-spacing: 1px;line-height: normal;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5MjAwODM4MA==&amp;mid=2650718298&amp;idx=1&amp;sn=e1d6e4ac62ffb6ba1b3699126ed1114a&amp;chksm=bea6b18989d1389fcc1871c60c2b8b3b1d97cfd0e3462fb9f460fbc720b1605936014cfb80aa&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2"><span style="max-width: 100%;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">☞助力 Android 抗衡 iOS，华为发布方舟编译器！</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;letter-spacing: 1px;line-height: normal;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5MjAwODM4MA==&amp;mid=2650718247&amp;idx=2&amp;sn=c5cfe50305c44df72579664641dbf4a3&amp;chksm=bea6b1f489d138e29aeb961b72e9114808d1eaf9eeae0cdaff8d89ee70630ca23e8fb3fd6538&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2"><span style="max-width: 100%;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">☞阿里技术副总裁贾扬清：</span><span style="max-width: 100%;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">我对人工智能的一点浅见&nbsp;|&nbsp;技术头条</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;letter-spacing: 1px;line-height: normal;"><a href="http://mp.weixin.qq.com/s?__biz=MzA5MzY4NTQwMA==&amp;mid=2651010270&amp;idx=1&amp;sn=8eaff3374818df60301b9a792579b49b&amp;chksm=8bad8729bcda0e3f400ee874cead75a7514ef78c11423da474d7b83a3c62948fefedc8270ec2&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="11" data-linktype="2"><span style="max-width: 100%;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">☞</span><span style="max-width: 100%;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">程序员的黑砖窑，东南亚博彩骗局详解</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;letter-spacing: 1px;line-height: normal;"><a href="http://mp.weixin.qq.com/s?__biz=Mzg3MDA4NDkxMQ==&amp;mid=2247483862&amp;idx=1&amp;sn=17a6e29b14b3a32ee54745ffb1526b4f&amp;chksm=ce927996f9e5f080e84ec751c7d78dee0d3c1ef6fb2b7dc47821a983ace31113bbeb4dacb371&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="11" data-linktype="2"><span style="max-width: 100%;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">☞你的 AI 老师已上岗</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;letter-spacing: 1px;line-height: normal;"><a href="http://mp.weixin.qq.com/s?__biz=MzA3MjY1MTQwNQ==&amp;mid=2649827174&amp;idx=1&amp;sn=c9e9045a7d8bfb547ee08424e64ea073&amp;chksm=871e8084b0690992b172bc59f51d132db96e6a893230357da014e540d30b941ecd25ff989ff9&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2"><span style="max-width: 100%;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">☞OpenStack网络的下一步原来这么走 | 技术头条</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;letter-spacing: 1px;line-height: normal;"><a href="http://mp.weixin.qq.com/s?__biz=MzI0ODcxODk5OA==&amp;mid=2247504435&amp;idx=1&amp;sn=0786d6ddcaa81d2076217ec6561d32fa&amp;chksm=e99ee1cadee968dcaf85d28b295f2cde4e9ec81ba394f43f9568f686f13697391b32efe52c1d&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2"><span style="max-width: 100%;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">☞售价910元！</span><span style="max-width: 100%;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">周志华等人英文新书《演化学习》出炉！</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;letter-spacing: 1px;line-height: normal;"><a href="http://mp.weixin.qq.com/s?__biz=MzU2MTE1NDk2Mg==&amp;mid=2247494382&amp;idx=1&amp;sn=c52199e337caaf1c8d2ac8f6e47ffd40&amp;chksm=fc7fb413cb083d05f1ab84e7c8a114c6517ea580275c8a6b1a65fea072975a0ac24e4e84f928&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2"><span style="max-width: 100%;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">☞要成为年薪百万的技术大牛必经历这5个阶段, 收好这份超实用的技术进阶指南 | 技术头条</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;letter-spacing: 1px;line-height: normal;"><a href="http://mp.weixin.qq.com/s?__biz=MzA5MjcxNjc2Ng==&amp;mid=2650559766&amp;idx=2&amp;sn=2fcc838c336e21428ac6bac54d7750d5&amp;chksm=88601ea7bf1797b1116a04a262f0fbfeb7d4f88c4230ac481191db4fc39b5e2187312053f939&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2"><span style="max-width: 100%;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">☞他说：</span><span style="max-width: 100%;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">当一个程序员决定告别996，什么都有可能发生！</span></a></p> 
<section style="white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"> 
 <section class="" style="max-width: 100%;font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 
  <pre style="max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;"><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;padding: 0.5em;max-width: 100%;min-height: 1em;font-size: 14px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;background: rgb(34, 34, 34);color: rgb(170, 170, 170);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;">System.out.println(<span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">"点个在看吧！"</span>);<br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">console.log(<span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！"</span>);<br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(50, 170, 238);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">print</span>(<span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！"</span>);<br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(50, 170, 238);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">printf</span>(<span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！\n"</span>);<br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">cout&nbsp;&lt;&lt;&nbsp;<span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！"</span>&nbsp;&lt;&lt;&nbsp;endl;<br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">Console.WriteLine(<span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！"</span>);<br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">Response.Write(<span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！"</span>);<br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-variant-numeric: normal;line-height: 24.5px;widows: 1;box-sizing: border-box !important;overflow-wrap: break-word !important;">alert(</span><span style="max-width: 100%;font-variant-numeric: normal;line-height: 24.5px;widows: 1;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: break-word !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！"</span><span style="max-width: 100%;font-variant-numeric: normal;line-height: 24.5px;widows: 1;box-sizing: border-box !important;overflow-wrap: break-word !important;">)</span><br style="max-width: 100%;font-variant-numeric: normal;line-height: 24.5px;widows: 1;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span class="" style="max-width: 100%;font-size: inherit;font-variant-numeric: normal;line-height: inherit;widows: 1;color: rgb(50, 170, 238);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">echo </span><span style="max-width: 100%;font-variant-numeric: normal;line-height: 24.5px;widows: 1;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: break-word !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！"</span></p></pre> 
 </section> 
</section> 
<p style="margin: 15px 8px;white-space: normal;max-width: 100%;min-height: 1em;background-color: rgb(255, 255, 255);font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><img border="0" class="__bg_gif" data-ratio="0.8" data-src="https://mmbiz.qpic.cn/mmbiz_gif/Pn4Sm0RsAujr9dOtwUGfl03zJzLBRXbZs8g1RcNcLr7qm5qEy419tofZ8dq1sIW75xZwq2K4zIzcTtaDOy4OTg/640?wx_fmt=gif" data-type="gif" data-w="200" height="" style="box-sizing: border-box;font-family: 微软雅黑;font-size: 16px;letter-spacing: 0.544px;vertical-align: middle;overflow-wrap: break-word !important;visibility: visible !important;width: 45px !important;" title="" width="45" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_gif/Pn4Sm0RsAujr9dOtwUGfl03zJzLBRXbZs8g1RcNcLr7qm5qEy419tofZ8dq1sIW75xZwq2K4zIzcTtaDOy4OTg/640?wx_fmt=gif"><strong style="max-width: 100%;color: rgb(55, 55, 93);font-family: 微软雅黑;font-size: 16px;letter-spacing: 0.544px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong style="max-width: 100%;font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;widows: 1;box-sizing: border-box !important;overflow-wrap: break-word !important;">点击阅读原文，输入关键词，即可搜索您想要的 CSDN 文章。</span></strong></strong></p> 
<section class="" data-tools="135编辑器" data-id="94250" style="white-space: normal;max-width: 100%;box-sizing: border-box;letter-spacing: 0.544px;border-width: 0px;border-style: none;border-color: initial;overflow-wrap: break-word !important;"> 
 <section class="" data-tools="135编辑器" data-id="91842" style="max-width: 100%;box-sizing: border-box;border-width: 0px;border-style: none;border-color: initial;overflow-wrap: break-word !important;"> 
  <section style="max-width: 100%;text-align: right;width: auto;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 
   <section style="max-width: 100%;display: inline-block;clear: both;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 
    <section class="" data-brushtype="text" style="padding: 18px 15px 20px 10px;max-width: 100%;box-sizing: border-box;color: rgb(86, 146, 214);background-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhpplm16ibb8iaib7RoGQ5iaHEdy66AHd7QqL7A2s5icSBE0aw4iaKOKPnXGYxQPhG7VMpbbYV6VJprSh7w/640?wx_fmt=png&quot;);background-repeat: no-repeat;text-align: center;background-size: 100% 100%;font-size: 16px;letter-spacing: 1.5px;overflow-wrap: break-word !important;"> 
     <section style="max-width: 100%;display: flex;justify-content: center;align-items: center;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 
      <section style="margin-left: 2px;max-width: 100%;width: 20px;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 
       <img class="" data-ratio="0.8936170212765957" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhpplm16ibb8iaib7RoGQ5iaHEdvAd0o9e1LlUGA2k0Yib222agOxzweXhahA9GuzJcGBg0dA4DzlibxRqw/640?wx_fmt=png" data-type="png" data-w="47" style="margin-bottom: -6px;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible !important;width: 20px !important;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhpplm16ibb8iaib7RoGQ5iaHEdvAd0o9e1LlUGA2k0Yib222agOxzweXhahA9GuzJcGBg0dA4DzlibxRqw/640?wx_fmt=png"> 
      </section> 
      <section class="" data-brushtype="text" style="max-width: 100%;font-size: 14px;color: rgb(51, 51, 51);box-sizing: border-box !important;overflow-wrap: break-word !important;"> 
       <span style="max-width: 100%;font-family: 楷体, 楷体_GB2312, SimKai;box-sizing: border-box !important;overflow-wrap: break-word !important;">你点的每个“在看”，我都认真当成了喜欢</span> 
      </section> 
     </section> 
    </section> 
   </section> 
  </section> 
 </section> 
</section>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0d1dbe5a3e5863242418b768d1601633";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
