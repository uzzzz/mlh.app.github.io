<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>python数据可视化seaborn（四）—— 分类数据可视化 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="python数据可视化seaborn（四）—— 分类数据可视化" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="之前的文章关注的是两个变量都是数值变量的情况,当有一个变量是分类变量的时候，我们就需要其他类型的图形来展示分析数据。在seaborn中有多种类型的图形且非常易于上手。 import numpy as np import pandas as pd import matplotlib.pyplot as plt import seaborn as sns %matplotlib inline sns.set(style=&quot;whitegrid&quot;,font_scale=1.4,context=&quot;paper&quot;) # 设置风格、尺度 import warnings warnings.filterwarnings(&#39;ignore&#39;) # 不发出警告 seaborn中，分类图主要分为三个部分： 分类散点图： stripplot(默认，kind = “strip”) swarmplot(kind = “swarm”) 分类分布图： boxplot(kind=“box”) violinplot(kind=“violin”) boxenplot(kind=“boxen”) 分类估计图： pointplot(kind=“point”) barplot(kind=“bar”) countplot(kind=“count”) 以上三种系列分别代表了不同粒度级别的数据。当然，在实际使用的过程中，其实没有必要记住这么多，因为seaborn中的分类系列有统一的图形界面catplot(),只需要这一个函数，就能访问所有分类图像类型。 分类散点图 seaborn.stripplot(x=None, y=None, hue=None, data=None, order=None, hue_order=None, jitter=True, dodge=False, orient=None, color=None, palette=None, size=5, edgecolor=‘gray’, linewidth=0, ax=None, **kwargs) jitter : 是否抖动，True，false or float dodge : 当有hue参数时，是否沿轴分离不同颜色 orient : 图形方向，垂直（“v”）或者水平(“h”) # 1、catplot() 默认情况下，kind=&#39;strip&#39; # 按照不同类别对样本数据进行分布散点图绘制 tips = sns.load_dataset(&quot;tips&quot;) print(tips.head()) # 加载数据 sns.catplot(x=&quot;day&quot;, # x → 设置分组统计字段 y=&quot;total_bill&quot;, # y → 数据分布统计字段 # 这里xy数据对调，将会使得散点图横向分布 data=tips, # data → 对应数据 jitter = True, height=6, #当点数据重合较多时，jitter可以控制点抖动，也可以设置间距如：jitter = 0.1 s = 6, edgecolor = &#39;w&#39;,linewidth=1,marker = &#39;o&#39; , # 设置点的大小、描边颜色或宽度、点样式 ) total_bill tip sex smoker day time size 0 16.99 1.01 Female No Sun Dinner 2 1 10.34 1.66 Male No Sun Dinner 3 2 21.01 3.50 Male No Sun Dinner 3 3 23.68 3.31 Male No Sun Dinner 2 4 24.59 3.61 Female No Sun Dinner 4 # 1、stripplot() # 通过kind=&#39;swarm&#39; 来调整点防止重合 sns.catplot(x=&quot;day&quot;, y=&quot;total_bill&quot;,kind=&#39;swarm&#39;, hue=&#39;sex&#39;,data=tips,height=5,s=5.5) # 通过让点沿轴分布来防止重合，这只使用与较小数据集 # 1、stripplot() # 设置调色盘 sns.catplot(x=&quot;sex&quot;, y=&quot;total_bill&quot;, hue=&quot;day&quot;, data=tips, jitter=True, palette=&quot;Set2&quot;, # 设置调色盘 dodge=True, # 是否拆分 ) # 排序 print(tips[&#39;day&#39;].value_counts()) # 查看day字段的唯一值 sns.catplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, order = [&#39;Sun&#39;,&#39;Sat&#39;]) # order → 筛选类别,控制排序 Sat 87 Sun 76 Thur 62 Fri 19 Name: day, dtype: int64 分类分布图 箱线图 boxplot() seaborn.boxplot(x=None, y=None, hue=None, data=None, order=None, hue_order=None, orient=None, color=None, palette=None, saturation=0.75, width=0.8, dodge=True, fliersize=5, linewidth=None, whis=1.5, notch=False, ax=None, **kwargs) saturation : float,颜色饱和度 fliersize : 异常值标记的大小 whis : float,超出IQR多少比例被视为异常值，默认1.5 notch : 是否用中位数设置凹槽 # 箱线图 catplot(kind=&#39;box&#39;) sns.catplot(x=&#39;day&#39;, y=&#39;total_bill&#39;, data=tips, kind=&#39;box&#39;,linewidth=2, # 线宽 width=0.6, # 箱之间的间隔比例 fliersize=5, # 异常点大小 palette=&#39;hls&#39;, # 调色板 whis=1.5, # 设置IQR notch=True, # 设置是否用中位数做凹槽 order=[&#39;Thur&#39;, &#39;Fri&#39;, &#39;Sat&#39;, &#39;Sun&#39;], #筛选类别 ) # 通过hue参数再分类 # 多种类型图混合 # 绘制箱型图 sns.catplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, kind=&#39;box&#39;,hue = &#39;smoker&#39;,height=6) # 绘制散点图 sns.swarmplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, color =&#39;k&#39;,s= 3,alpha = 0.8) # 添加分类散点图，这里添加散点图要用各自的函数swarmplot() # 不能再用高级端口catplot() 否则就是两个图了 对于数据量较大的数据集，散点图会显的很拥挤，这时我们可以使用boxenplot(),这种图表类似箱线图，既能够展示数据的分布也可以如箱线图展示数据的统计信息 diamonds = sns.load_dataset(&quot;diamonds&quot;) print(diamonds.head(3)) sns.catplot(x=&#39;color&#39;,y=&#39;price&#39;,kind=&#39;boxen&#39;, data=diamonds.sort_values(&quot;color&quot;), height=6) carat cut color clarity depth table price x y z 0 0.23 Ideal E SI2 61.5 55.0 326 3.95 3.98 2.43 1 0.21 Premium E SI1 59.8 61.0 326 3.89 3.84 2.31 2 0.23 Good E VS1 56.9 65.0 327 4.05 4.07 2.31 提琴图 小提琴图将核密度估计和箱线图结合起来 seaborn.violinplot(x=None, y=None, hue=None, data=None, order=None, hue_order=None, bw=‘scott’, cut=2, scale=‘area’, scale_hue=True, gridsize=100, width=0.8, inner=‘box’, split=False, dodge=True, orient=None, linewidth=None, color=None, palette=None, saturation=0.75, ax=None, **kwargs) bw : (“scott”,“silverman”,float),核大小的比例因子，实际效果是越大越平滑。 cut : float,用于将密度扩展到极端数据点之外的距离，设置为0以将小提琴范围限制在观测数据的范围内。 scale : 小提琴图的宽度：area-面积相同，count-按照样本数量决定宽度，width-宽度一样 scale_hue : bool,当有hue时，决定实在分组内还是图上所有小提琴计算缩放比例 gridsize : 和必读估计离散网格中的点数，越高越平滑 inner : （“box”, “quartile”, “point”, “stick”, None），内部显示样式 split : 当有颜色嵌套是，是否分别绘制每侧的小提琴。 # 2、violinplot() # 小提琴图 sns.catplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, kind=&#39;violin&#39;,linewidth = 2, # 线宽 width = 0.8, # 箱之间的间隔比例 height=6,palette = &#39;hls&#39;, # 设置调色板 order = [&#39;Thur&#39;,&#39;Fri&#39;,&#39;Sat&#39;,&#39;Sun&#39;], # 筛选类别 scale = &#39;area&#39;, # 测度小提琴图的宽度： # area-面积相同，count-按照样本数量决定宽度，width-宽度一样 gridsize = 30, # 设置小提琴图边线的平滑度，越高越平滑 inner = &#39;box&#39;, bw = .5 # 控制拟合程度，一般可以不设置 ) # 2、violinplot() # 通过hue参数再分类 sns.catplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, kind=&#39;violin&#39;,hue = &#39;smoker&#39;, palette=&quot;muted&quot;, split=True, # 设置是否拆分小提琴图 inner=&quot;quartile&quot;,height=6) # 2、violinplot() # 结合散点图 sns.catplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, kind=&#39;violin&#39;,palette = &#39;hls&#39;, inner = None,height=6, cut=0 # 设置为0，将图限制在观测数据范围内。 ) # 插入散点图 sns.swarmplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, color=&quot;k&quot;, alpha=.5) 统计图 seaborn.barplot(x=None, y=None, hue=None, data=None, order=None, hue_order=None, estimator=&lt;function mean&gt;, ci=95, n_boot=1000, units=None, orient=None, color=None, palette=None, saturation=0.75, errcolor=’.26’, errwidth=None, capsize=None, dodge=True, ax=None, **kwargs) estimator : 分类箱内使用的统计函数 ci : （float,“sd”,None） units : 变量名称，对变量的每个采样单独绘制，可用于绘制重复数据 errwidth : 误差线宽度 capsize : 误差条帽的宽度 # 1、barplot() # 置信区间：样本均值 + 抽样误差 titanic = sns.load_dataset(&quot;titanic&quot;) # print(titanic.head()) # 加载数据 sns.catplot(x=&quot;sex&quot;, y=&quot;survived&quot;, data=titanic, kind=&#39;bar&#39;,palette = &#39;hls&#39;, hue=&quot;class&quot;, order = [&#39;male&#39;,&#39;female&#39;], # 筛选类别 capsize = 0.05, # 误差线横向延伸宽度 saturation=.8, # 颜色饱和度 errcolor = &#39;gray&#39;,errwidth = 2, # 误差线颜色，宽度 height=6,ci = &#39;sd&#39; # 置信区间误差 → 0-100内值、&#39;sd&#39;、None ) print(titanic.groupby([&#39;sex&#39;,&#39;class&#39;]).mean()[&#39;survived&#39;]) print(titanic.groupby([&#39;sex&#39;,&#39;class&#39;]).std()[&#39;survived&#39;]) # 计算数据 sex class female First 0.968085 Second 0.921053 Third 0.500000 male First 0.368852 Second 0.157407 Third 0.135447 Name: survived, dtype: float64 sex class female First 0.176716 Second 0.271448 Third 0.501745 male First 0.484484 Second 0.365882 Third 0.342694 Name: survived, dtype: float64 # 1、barplot() # 柱状图 - 置信区间估计 # 可以这样子改变风格 sns.catplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, linewidth=2.5,facecolor=(1,1,1,0), kind=&#39;bar&#39;,edgecolor = &#39;k&#39;,) # 1、barplot() crashes = sns.load_dataset(&quot;car_crashes&quot;).sort_values(&quot;total&quot;, ascending=False) print(crashes.head()) # 加载数据 f, ax = plt.subplots(figsize=(10, 15)) # 创建图表 # sns.set_color_codes(&quot;pastel&quot;) sns.barplot(x=&quot;total&quot;, y=&quot;abbrev&quot;, data=crashes, label=&quot;Total&quot;, color=&quot;b&quot;,edgecolor = &#39;w&#39;) # 设置第一个柱状图 # sns.set_color_codes(&quot;muted&quot;) sns.barplot(x=&quot;alcohol&quot;, y=&quot;abbrev&quot;, data=crashes, label=&quot;Alcohol-involved&quot;, color=&quot;y&quot;,edgecolor = &#39;w&#39;) # 设置第二个柱状图 ax.legend(ncol=2, loc=&quot;lower right&quot;) sns.despine(left=True, bottom=True) total speeding alcohol not_distracted no_previous ins_premium \ 40 23.9 9.082 9.799 22.944 19.359 858.97 34 23.9 5.497 10.038 23.661 20.554 688.75 48 23.8 8.092 6.664 23.086 20.706 992.61 3 22.4 4.032 5.824 21.056 21.280 827.34 17 21.4 4.066 4.922 16.692 16.264 872.51 ins_losses abbrev 40 116.29 SC 34 109.72 ND 48 152.56 WV 3 142.39 AR 17 137.13 KY # 2、countplot() # 计数柱状图 sns.catplot(x=&quot;class&quot;, hue=&quot;who&quot;, data=titanic, kind=&#39;count&#39;,palette = &#39;magma&#39;) sns.catplot(y=&quot;class&quot;, hue=&quot;who&quot;, data=titanic, kind=&#39;count&#39;,palette = &#39;magma&#39;) # x/y → 以x或者y轴绘图（横向，竖向） # 用法和barplot相似 # 3、pointplot() sns.catplot(x=&quot;time&quot;, y=&quot;total_bill&quot;, hue = &#39;smoker&#39;,data=tips, kind=&#39;point&#39;,palette = &#39;hls&#39;,height=7, dodge = True, # 设置点是否分开 join = True, # 是否连线 markers=[&quot;o&quot;, &quot;x&quot;], linestyles=[&quot;-&quot;, &quot;--&quot;], # 设置点样式、线型 ) # 计算数据 # # 用法和barplot相似" />
<meta property="og:description" content="之前的文章关注的是两个变量都是数值变量的情况,当有一个变量是分类变量的时候，我们就需要其他类型的图形来展示分析数据。在seaborn中有多种类型的图形且非常易于上手。 import numpy as np import pandas as pd import matplotlib.pyplot as plt import seaborn as sns %matplotlib inline sns.set(style=&quot;whitegrid&quot;,font_scale=1.4,context=&quot;paper&quot;) # 设置风格、尺度 import warnings warnings.filterwarnings(&#39;ignore&#39;) # 不发出警告 seaborn中，分类图主要分为三个部分： 分类散点图： stripplot(默认，kind = “strip”) swarmplot(kind = “swarm”) 分类分布图： boxplot(kind=“box”) violinplot(kind=“violin”) boxenplot(kind=“boxen”) 分类估计图： pointplot(kind=“point”) barplot(kind=“bar”) countplot(kind=“count”) 以上三种系列分别代表了不同粒度级别的数据。当然，在实际使用的过程中，其实没有必要记住这么多，因为seaborn中的分类系列有统一的图形界面catplot(),只需要这一个函数，就能访问所有分类图像类型。 分类散点图 seaborn.stripplot(x=None, y=None, hue=None, data=None, order=None, hue_order=None, jitter=True, dodge=False, orient=None, color=None, palette=None, size=5, edgecolor=‘gray’, linewidth=0, ax=None, **kwargs) jitter : 是否抖动，True，false or float dodge : 当有hue参数时，是否沿轴分离不同颜色 orient : 图形方向，垂直（“v”）或者水平(“h”) # 1、catplot() 默认情况下，kind=&#39;strip&#39; # 按照不同类别对样本数据进行分布散点图绘制 tips = sns.load_dataset(&quot;tips&quot;) print(tips.head()) # 加载数据 sns.catplot(x=&quot;day&quot;, # x → 设置分组统计字段 y=&quot;total_bill&quot;, # y → 数据分布统计字段 # 这里xy数据对调，将会使得散点图横向分布 data=tips, # data → 对应数据 jitter = True, height=6, #当点数据重合较多时，jitter可以控制点抖动，也可以设置间距如：jitter = 0.1 s = 6, edgecolor = &#39;w&#39;,linewidth=1,marker = &#39;o&#39; , # 设置点的大小、描边颜色或宽度、点样式 ) total_bill tip sex smoker day time size 0 16.99 1.01 Female No Sun Dinner 2 1 10.34 1.66 Male No Sun Dinner 3 2 21.01 3.50 Male No Sun Dinner 3 3 23.68 3.31 Male No Sun Dinner 2 4 24.59 3.61 Female No Sun Dinner 4 # 1、stripplot() # 通过kind=&#39;swarm&#39; 来调整点防止重合 sns.catplot(x=&quot;day&quot;, y=&quot;total_bill&quot;,kind=&#39;swarm&#39;, hue=&#39;sex&#39;,data=tips,height=5,s=5.5) # 通过让点沿轴分布来防止重合，这只使用与较小数据集 # 1、stripplot() # 设置调色盘 sns.catplot(x=&quot;sex&quot;, y=&quot;total_bill&quot;, hue=&quot;day&quot;, data=tips, jitter=True, palette=&quot;Set2&quot;, # 设置调色盘 dodge=True, # 是否拆分 ) # 排序 print(tips[&#39;day&#39;].value_counts()) # 查看day字段的唯一值 sns.catplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, order = [&#39;Sun&#39;,&#39;Sat&#39;]) # order → 筛选类别,控制排序 Sat 87 Sun 76 Thur 62 Fri 19 Name: day, dtype: int64 分类分布图 箱线图 boxplot() seaborn.boxplot(x=None, y=None, hue=None, data=None, order=None, hue_order=None, orient=None, color=None, palette=None, saturation=0.75, width=0.8, dodge=True, fliersize=5, linewidth=None, whis=1.5, notch=False, ax=None, **kwargs) saturation : float,颜色饱和度 fliersize : 异常值标记的大小 whis : float,超出IQR多少比例被视为异常值，默认1.5 notch : 是否用中位数设置凹槽 # 箱线图 catplot(kind=&#39;box&#39;) sns.catplot(x=&#39;day&#39;, y=&#39;total_bill&#39;, data=tips, kind=&#39;box&#39;,linewidth=2, # 线宽 width=0.6, # 箱之间的间隔比例 fliersize=5, # 异常点大小 palette=&#39;hls&#39;, # 调色板 whis=1.5, # 设置IQR notch=True, # 设置是否用中位数做凹槽 order=[&#39;Thur&#39;, &#39;Fri&#39;, &#39;Sat&#39;, &#39;Sun&#39;], #筛选类别 ) # 通过hue参数再分类 # 多种类型图混合 # 绘制箱型图 sns.catplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, kind=&#39;box&#39;,hue = &#39;smoker&#39;,height=6) # 绘制散点图 sns.swarmplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, color =&#39;k&#39;,s= 3,alpha = 0.8) # 添加分类散点图，这里添加散点图要用各自的函数swarmplot() # 不能再用高级端口catplot() 否则就是两个图了 对于数据量较大的数据集，散点图会显的很拥挤，这时我们可以使用boxenplot(),这种图表类似箱线图，既能够展示数据的分布也可以如箱线图展示数据的统计信息 diamonds = sns.load_dataset(&quot;diamonds&quot;) print(diamonds.head(3)) sns.catplot(x=&#39;color&#39;,y=&#39;price&#39;,kind=&#39;boxen&#39;, data=diamonds.sort_values(&quot;color&quot;), height=6) carat cut color clarity depth table price x y z 0 0.23 Ideal E SI2 61.5 55.0 326 3.95 3.98 2.43 1 0.21 Premium E SI1 59.8 61.0 326 3.89 3.84 2.31 2 0.23 Good E VS1 56.9 65.0 327 4.05 4.07 2.31 提琴图 小提琴图将核密度估计和箱线图结合起来 seaborn.violinplot(x=None, y=None, hue=None, data=None, order=None, hue_order=None, bw=‘scott’, cut=2, scale=‘area’, scale_hue=True, gridsize=100, width=0.8, inner=‘box’, split=False, dodge=True, orient=None, linewidth=None, color=None, palette=None, saturation=0.75, ax=None, **kwargs) bw : (“scott”,“silverman”,float),核大小的比例因子，实际效果是越大越平滑。 cut : float,用于将密度扩展到极端数据点之外的距离，设置为0以将小提琴范围限制在观测数据的范围内。 scale : 小提琴图的宽度：area-面积相同，count-按照样本数量决定宽度，width-宽度一样 scale_hue : bool,当有hue时，决定实在分组内还是图上所有小提琴计算缩放比例 gridsize : 和必读估计离散网格中的点数，越高越平滑 inner : （“box”, “quartile”, “point”, “stick”, None），内部显示样式 split : 当有颜色嵌套是，是否分别绘制每侧的小提琴。 # 2、violinplot() # 小提琴图 sns.catplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, kind=&#39;violin&#39;,linewidth = 2, # 线宽 width = 0.8, # 箱之间的间隔比例 height=6,palette = &#39;hls&#39;, # 设置调色板 order = [&#39;Thur&#39;,&#39;Fri&#39;,&#39;Sat&#39;,&#39;Sun&#39;], # 筛选类别 scale = &#39;area&#39;, # 测度小提琴图的宽度： # area-面积相同，count-按照样本数量决定宽度，width-宽度一样 gridsize = 30, # 设置小提琴图边线的平滑度，越高越平滑 inner = &#39;box&#39;, bw = .5 # 控制拟合程度，一般可以不设置 ) # 2、violinplot() # 通过hue参数再分类 sns.catplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, kind=&#39;violin&#39;,hue = &#39;smoker&#39;, palette=&quot;muted&quot;, split=True, # 设置是否拆分小提琴图 inner=&quot;quartile&quot;,height=6) # 2、violinplot() # 结合散点图 sns.catplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, kind=&#39;violin&#39;,palette = &#39;hls&#39;, inner = None,height=6, cut=0 # 设置为0，将图限制在观测数据范围内。 ) # 插入散点图 sns.swarmplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, color=&quot;k&quot;, alpha=.5) 统计图 seaborn.barplot(x=None, y=None, hue=None, data=None, order=None, hue_order=None, estimator=&lt;function mean&gt;, ci=95, n_boot=1000, units=None, orient=None, color=None, palette=None, saturation=0.75, errcolor=’.26’, errwidth=None, capsize=None, dodge=True, ax=None, **kwargs) estimator : 分类箱内使用的统计函数 ci : （float,“sd”,None） units : 变量名称，对变量的每个采样单独绘制，可用于绘制重复数据 errwidth : 误差线宽度 capsize : 误差条帽的宽度 # 1、barplot() # 置信区间：样本均值 + 抽样误差 titanic = sns.load_dataset(&quot;titanic&quot;) # print(titanic.head()) # 加载数据 sns.catplot(x=&quot;sex&quot;, y=&quot;survived&quot;, data=titanic, kind=&#39;bar&#39;,palette = &#39;hls&#39;, hue=&quot;class&quot;, order = [&#39;male&#39;,&#39;female&#39;], # 筛选类别 capsize = 0.05, # 误差线横向延伸宽度 saturation=.8, # 颜色饱和度 errcolor = &#39;gray&#39;,errwidth = 2, # 误差线颜色，宽度 height=6,ci = &#39;sd&#39; # 置信区间误差 → 0-100内值、&#39;sd&#39;、None ) print(titanic.groupby([&#39;sex&#39;,&#39;class&#39;]).mean()[&#39;survived&#39;]) print(titanic.groupby([&#39;sex&#39;,&#39;class&#39;]).std()[&#39;survived&#39;]) # 计算数据 sex class female First 0.968085 Second 0.921053 Third 0.500000 male First 0.368852 Second 0.157407 Third 0.135447 Name: survived, dtype: float64 sex class female First 0.176716 Second 0.271448 Third 0.501745 male First 0.484484 Second 0.365882 Third 0.342694 Name: survived, dtype: float64 # 1、barplot() # 柱状图 - 置信区间估计 # 可以这样子改变风格 sns.catplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, linewidth=2.5,facecolor=(1,1,1,0), kind=&#39;bar&#39;,edgecolor = &#39;k&#39;,) # 1、barplot() crashes = sns.load_dataset(&quot;car_crashes&quot;).sort_values(&quot;total&quot;, ascending=False) print(crashes.head()) # 加载数据 f, ax = plt.subplots(figsize=(10, 15)) # 创建图表 # sns.set_color_codes(&quot;pastel&quot;) sns.barplot(x=&quot;total&quot;, y=&quot;abbrev&quot;, data=crashes, label=&quot;Total&quot;, color=&quot;b&quot;,edgecolor = &#39;w&#39;) # 设置第一个柱状图 # sns.set_color_codes(&quot;muted&quot;) sns.barplot(x=&quot;alcohol&quot;, y=&quot;abbrev&quot;, data=crashes, label=&quot;Alcohol-involved&quot;, color=&quot;y&quot;,edgecolor = &#39;w&#39;) # 设置第二个柱状图 ax.legend(ncol=2, loc=&quot;lower right&quot;) sns.despine(left=True, bottom=True) total speeding alcohol not_distracted no_previous ins_premium \ 40 23.9 9.082 9.799 22.944 19.359 858.97 34 23.9 5.497 10.038 23.661 20.554 688.75 48 23.8 8.092 6.664 23.086 20.706 992.61 3 22.4 4.032 5.824 21.056 21.280 827.34 17 21.4 4.066 4.922 16.692 16.264 872.51 ins_losses abbrev 40 116.29 SC 34 109.72 ND 48 152.56 WV 3 142.39 AR 17 137.13 KY # 2、countplot() # 计数柱状图 sns.catplot(x=&quot;class&quot;, hue=&quot;who&quot;, data=titanic, kind=&#39;count&#39;,palette = &#39;magma&#39;) sns.catplot(y=&quot;class&quot;, hue=&quot;who&quot;, data=titanic, kind=&#39;count&#39;,palette = &#39;magma&#39;) # x/y → 以x或者y轴绘图（横向，竖向） # 用法和barplot相似 # 3、pointplot() sns.catplot(x=&quot;time&quot;, y=&quot;total_bill&quot;, hue = &#39;smoker&#39;,data=tips, kind=&#39;point&#39;,palette = &#39;hls&#39;,height=7, dodge = True, # 设置点是否分开 join = True, # 是否连线 markers=[&quot;o&quot;, &quot;x&quot;], linestyles=[&quot;-&quot;, &quot;--&quot;], # 设置点样式、线型 ) # 计算数据 # # 用法和barplot相似" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-04-09T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"之前的文章关注的是两个变量都是数值变量的情况,当有一个变量是分类变量的时候，我们就需要其他类型的图形来展示分析数据。在seaborn中有多种类型的图形且非常易于上手。 import numpy as np import pandas as pd import matplotlib.pyplot as plt import seaborn as sns %matplotlib inline sns.set(style=&quot;whitegrid&quot;,font_scale=1.4,context=&quot;paper&quot;) # 设置风格、尺度 import warnings warnings.filterwarnings(&#39;ignore&#39;) # 不发出警告 seaborn中，分类图主要分为三个部分： 分类散点图： stripplot(默认，kind = “strip”) swarmplot(kind = “swarm”) 分类分布图： boxplot(kind=“box”) violinplot(kind=“violin”) boxenplot(kind=“boxen”) 分类估计图： pointplot(kind=“point”) barplot(kind=“bar”) countplot(kind=“count”) 以上三种系列分别代表了不同粒度级别的数据。当然，在实际使用的过程中，其实没有必要记住这么多，因为seaborn中的分类系列有统一的图形界面catplot(),只需要这一个函数，就能访问所有分类图像类型。 分类散点图 seaborn.stripplot(x=None, y=None, hue=None, data=None, order=None, hue_order=None, jitter=True, dodge=False, orient=None, color=None, palette=None, size=5, edgecolor=‘gray’, linewidth=0, ax=None, **kwargs) jitter : 是否抖动，True，false or float dodge : 当有hue参数时，是否沿轴分离不同颜色 orient : 图形方向，垂直（“v”）或者水平(“h”) # 1、catplot() 默认情况下，kind=&#39;strip&#39; # 按照不同类别对样本数据进行分布散点图绘制 tips = sns.load_dataset(&quot;tips&quot;) print(tips.head()) # 加载数据 sns.catplot(x=&quot;day&quot;, # x → 设置分组统计字段 y=&quot;total_bill&quot;, # y → 数据分布统计字段 # 这里xy数据对调，将会使得散点图横向分布 data=tips, # data → 对应数据 jitter = True, height=6, #当点数据重合较多时，jitter可以控制点抖动，也可以设置间距如：jitter = 0.1 s = 6, edgecolor = &#39;w&#39;,linewidth=1,marker = &#39;o&#39; , # 设置点的大小、描边颜色或宽度、点样式 ) total_bill tip sex smoker day time size 0 16.99 1.01 Female No Sun Dinner 2 1 10.34 1.66 Male No Sun Dinner 3 2 21.01 3.50 Male No Sun Dinner 3 3 23.68 3.31 Male No Sun Dinner 2 4 24.59 3.61 Female No Sun Dinner 4 # 1、stripplot() # 通过kind=&#39;swarm&#39; 来调整点防止重合 sns.catplot(x=&quot;day&quot;, y=&quot;total_bill&quot;,kind=&#39;swarm&#39;, hue=&#39;sex&#39;,data=tips,height=5,s=5.5) # 通过让点沿轴分布来防止重合，这只使用与较小数据集 # 1、stripplot() # 设置调色盘 sns.catplot(x=&quot;sex&quot;, y=&quot;total_bill&quot;, hue=&quot;day&quot;, data=tips, jitter=True, palette=&quot;Set2&quot;, # 设置调色盘 dodge=True, # 是否拆分 ) # 排序 print(tips[&#39;day&#39;].value_counts()) # 查看day字段的唯一值 sns.catplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, order = [&#39;Sun&#39;,&#39;Sat&#39;]) # order → 筛选类别,控制排序 Sat 87 Sun 76 Thur 62 Fri 19 Name: day, dtype: int64 分类分布图 箱线图 boxplot() seaborn.boxplot(x=None, y=None, hue=None, data=None, order=None, hue_order=None, orient=None, color=None, palette=None, saturation=0.75, width=0.8, dodge=True, fliersize=5, linewidth=None, whis=1.5, notch=False, ax=None, **kwargs) saturation : float,颜色饱和度 fliersize : 异常值标记的大小 whis : float,超出IQR多少比例被视为异常值，默认1.5 notch : 是否用中位数设置凹槽 # 箱线图 catplot(kind=&#39;box&#39;) sns.catplot(x=&#39;day&#39;, y=&#39;total_bill&#39;, data=tips, kind=&#39;box&#39;,linewidth=2, # 线宽 width=0.6, # 箱之间的间隔比例 fliersize=5, # 异常点大小 palette=&#39;hls&#39;, # 调色板 whis=1.5, # 设置IQR notch=True, # 设置是否用中位数做凹槽 order=[&#39;Thur&#39;, &#39;Fri&#39;, &#39;Sat&#39;, &#39;Sun&#39;], #筛选类别 ) # 通过hue参数再分类 # 多种类型图混合 # 绘制箱型图 sns.catplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, kind=&#39;box&#39;,hue = &#39;smoker&#39;,height=6) # 绘制散点图 sns.swarmplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, color =&#39;k&#39;,s= 3,alpha = 0.8) # 添加分类散点图，这里添加散点图要用各自的函数swarmplot() # 不能再用高级端口catplot() 否则就是两个图了 对于数据量较大的数据集，散点图会显的很拥挤，这时我们可以使用boxenplot(),这种图表类似箱线图，既能够展示数据的分布也可以如箱线图展示数据的统计信息 diamonds = sns.load_dataset(&quot;diamonds&quot;) print(diamonds.head(3)) sns.catplot(x=&#39;color&#39;,y=&#39;price&#39;,kind=&#39;boxen&#39;, data=diamonds.sort_values(&quot;color&quot;), height=6) carat cut color clarity depth table price x y z 0 0.23 Ideal E SI2 61.5 55.0 326 3.95 3.98 2.43 1 0.21 Premium E SI1 59.8 61.0 326 3.89 3.84 2.31 2 0.23 Good E VS1 56.9 65.0 327 4.05 4.07 2.31 提琴图 小提琴图将核密度估计和箱线图结合起来 seaborn.violinplot(x=None, y=None, hue=None, data=None, order=None, hue_order=None, bw=‘scott’, cut=2, scale=‘area’, scale_hue=True, gridsize=100, width=0.8, inner=‘box’, split=False, dodge=True, orient=None, linewidth=None, color=None, palette=None, saturation=0.75, ax=None, **kwargs) bw : (“scott”,“silverman”,float),核大小的比例因子，实际效果是越大越平滑。 cut : float,用于将密度扩展到极端数据点之外的距离，设置为0以将小提琴范围限制在观测数据的范围内。 scale : 小提琴图的宽度：area-面积相同，count-按照样本数量决定宽度，width-宽度一样 scale_hue : bool,当有hue时，决定实在分组内还是图上所有小提琴计算缩放比例 gridsize : 和必读估计离散网格中的点数，越高越平滑 inner : （“box”, “quartile”, “point”, “stick”, None），内部显示样式 split : 当有颜色嵌套是，是否分别绘制每侧的小提琴。 # 2、violinplot() # 小提琴图 sns.catplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, kind=&#39;violin&#39;,linewidth = 2, # 线宽 width = 0.8, # 箱之间的间隔比例 height=6,palette = &#39;hls&#39;, # 设置调色板 order = [&#39;Thur&#39;,&#39;Fri&#39;,&#39;Sat&#39;,&#39;Sun&#39;], # 筛选类别 scale = &#39;area&#39;, # 测度小提琴图的宽度： # area-面积相同，count-按照样本数量决定宽度，width-宽度一样 gridsize = 30, # 设置小提琴图边线的平滑度，越高越平滑 inner = &#39;box&#39;, bw = .5 # 控制拟合程度，一般可以不设置 ) # 2、violinplot() # 通过hue参数再分类 sns.catplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, kind=&#39;violin&#39;,hue = &#39;smoker&#39;, palette=&quot;muted&quot;, split=True, # 设置是否拆分小提琴图 inner=&quot;quartile&quot;,height=6) # 2、violinplot() # 结合散点图 sns.catplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, kind=&#39;violin&#39;,palette = &#39;hls&#39;, inner = None,height=6, cut=0 # 设置为0，将图限制在观测数据范围内。 ) # 插入散点图 sns.swarmplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, color=&quot;k&quot;, alpha=.5) 统计图 seaborn.barplot(x=None, y=None, hue=None, data=None, order=None, hue_order=None, estimator=&lt;function mean&gt;, ci=95, n_boot=1000, units=None, orient=None, color=None, palette=None, saturation=0.75, errcolor=’.26’, errwidth=None, capsize=None, dodge=True, ax=None, **kwargs) estimator : 分类箱内使用的统计函数 ci : （float,“sd”,None） units : 变量名称，对变量的每个采样单独绘制，可用于绘制重复数据 errwidth : 误差线宽度 capsize : 误差条帽的宽度 # 1、barplot() # 置信区间：样本均值 + 抽样误差 titanic = sns.load_dataset(&quot;titanic&quot;) # print(titanic.head()) # 加载数据 sns.catplot(x=&quot;sex&quot;, y=&quot;survived&quot;, data=titanic, kind=&#39;bar&#39;,palette = &#39;hls&#39;, hue=&quot;class&quot;, order = [&#39;male&#39;,&#39;female&#39;], # 筛选类别 capsize = 0.05, # 误差线横向延伸宽度 saturation=.8, # 颜色饱和度 errcolor = &#39;gray&#39;,errwidth = 2, # 误差线颜色，宽度 height=6,ci = &#39;sd&#39; # 置信区间误差 → 0-100内值、&#39;sd&#39;、None ) print(titanic.groupby([&#39;sex&#39;,&#39;class&#39;]).mean()[&#39;survived&#39;]) print(titanic.groupby([&#39;sex&#39;,&#39;class&#39;]).std()[&#39;survived&#39;]) # 计算数据 sex class female First 0.968085 Second 0.921053 Third 0.500000 male First 0.368852 Second 0.157407 Third 0.135447 Name: survived, dtype: float64 sex class female First 0.176716 Second 0.271448 Third 0.501745 male First 0.484484 Second 0.365882 Third 0.342694 Name: survived, dtype: float64 # 1、barplot() # 柱状图 - 置信区间估计 # 可以这样子改变风格 sns.catplot(x=&quot;day&quot;, y=&quot;total_bill&quot;, data=tips, linewidth=2.5,facecolor=(1,1,1,0), kind=&#39;bar&#39;,edgecolor = &#39;k&#39;,) # 1、barplot() crashes = sns.load_dataset(&quot;car_crashes&quot;).sort_values(&quot;total&quot;, ascending=False) print(crashes.head()) # 加载数据 f, ax = plt.subplots(figsize=(10, 15)) # 创建图表 # sns.set_color_codes(&quot;pastel&quot;) sns.barplot(x=&quot;total&quot;, y=&quot;abbrev&quot;, data=crashes, label=&quot;Total&quot;, color=&quot;b&quot;,edgecolor = &#39;w&#39;) # 设置第一个柱状图 # sns.set_color_codes(&quot;muted&quot;) sns.barplot(x=&quot;alcohol&quot;, y=&quot;abbrev&quot;, data=crashes, label=&quot;Alcohol-involved&quot;, color=&quot;y&quot;,edgecolor = &#39;w&#39;) # 设置第二个柱状图 ax.legend(ncol=2, loc=&quot;lower right&quot;) sns.despine(left=True, bottom=True) total speeding alcohol not_distracted no_previous ins_premium \\ 40 23.9 9.082 9.799 22.944 19.359 858.97 34 23.9 5.497 10.038 23.661 20.554 688.75 48 23.8 8.092 6.664 23.086 20.706 992.61 3 22.4 4.032 5.824 21.056 21.280 827.34 17 21.4 4.066 4.922 16.692 16.264 872.51 ins_losses abbrev 40 116.29 SC 34 109.72 ND 48 152.56 WV 3 142.39 AR 17 137.13 KY # 2、countplot() # 计数柱状图 sns.catplot(x=&quot;class&quot;, hue=&quot;who&quot;, data=titanic, kind=&#39;count&#39;,palette = &#39;magma&#39;) sns.catplot(y=&quot;class&quot;, hue=&quot;who&quot;, data=titanic, kind=&#39;count&#39;,palette = &#39;magma&#39;) # x/y → 以x或者y轴绘图（横向，竖向） # 用法和barplot相似 # 3、pointplot() sns.catplot(x=&quot;time&quot;, y=&quot;total_bill&quot;, hue = &#39;smoker&#39;,data=tips, kind=&#39;point&#39;,palette = &#39;hls&#39;,height=7, dodge = True, # 设置点是否分开 join = True, # 是否连线 markers=[&quot;o&quot;, &quot;x&quot;], linestyles=[&quot;-&quot;, &quot;--&quot;], # 设置点样式、线型 ) # 计算数据 # # 用法和barplot相似","@type":"BlogPosting","url":"/2019/04/09/727796.html","headline":"python数据可视化seaborn（四）—— 分类数据可视化","dateModified":"2019-04-09T00:00:00+08:00","datePublished":"2019-04-09T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/2019/04/09/727796.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-1');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>python数据可视化seaborn（四）—— 分类数据可视化</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div id="content_views" class="markdown_views prism-atom-one-dark"> 
  <!-- flowchart 箭头图标 勿删 --> 
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> 
  <p>之前的文章关注的是两个变量都是<code>数值变量</code>的情况,当有一个变量是分类变量的时候，我们就需要其他类型的图形来展示分析数据。在seaborn中有多种类型的图形且非常易于上手。</p> 
  <pre><code class="prism language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token operator">%</span>matplotlib inline

sns<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">"whitegrid"</span><span class="token punctuation">,</span>font_scale<span class="token operator">=</span><span class="token number">1.4</span><span class="token punctuation">,</span>context<span class="token operator">=</span><span class="token string">"paper"</span><span class="token punctuation">)</span>
<span class="token comment"># 设置风格、尺度</span>
<span class="token keyword">import</span> warnings
warnings<span class="token punctuation">.</span>filterwarnings<span class="token punctuation">(</span><span class="token string">'ignore'</span><span class="token punctuation">)</span> 
<span class="token comment"># 不发出警告</span>
</code></pre> 
  <p>seaborn中，分类图主要分为三个部分：</p> 
  <ul> 
   <li>分类散点图： 
    <ul> 
     <li>stripplot(默认，kind = “strip”)</li> 
     <li>swarmplot(kind = “swarm”)</li> 
    </ul> </li> 
   <li>分类分布图： 
    <ul> 
     <li>boxplot(kind=“box”)</li> 
     <li>violinplot(kind=“violin”)</li> 
     <li>boxenplot(kind=“boxen”)</li> 
    </ul> </li> 
   <li>分类估计图： 
    <ul> 
     <li>pointplot(kind=“point”)</li> 
     <li>barplot(kind=“bar”)</li> 
     <li>countplot(kind=“count”)</li> 
    </ul> </li> 
  </ul> 
  <p>以上三种系列分别代表了不同粒度级别的数据。当然，在实际使用的过程中，其实没有必要记住这么多，因为seaborn中的分类系列有统一的图形界面<code>catplot()</code>,只需要这一个函数，就能访问所有分类图像类型。</p> 
  <h2><a id="_33"></a>分类散点图</h2> 
  <p>seaborn.stripplot(x=None, y=None, hue=None, data=None, order=None, hue_order=None, jitter=True, dodge=False, orient=None, color=None, palette=None, size=5, edgecolor=‘gray’, linewidth=0, ax=None, **kwargs)</p> 
  <ul> 
   <li>jitter : 是否抖动，True，false or float</li> 
   <li>dodge : 当有hue参数时，是否沿轴分离不同颜色</li> 
   <li>orient : 图形方向，垂直（“v”）或者水平(“h”)</li> 
  </ul> 
  <pre><code class="prism language-python"><span class="token comment"># 1、catplot() 默认情况下，kind='strip'</span>
<span class="token comment"># 按照不同类别对样本数据进行分布散点图绘制</span>

tips <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"tips"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>tips<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 加载数据</span>

sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span>          <span class="token comment"># x → 设置分组统计字段</span>
            y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span>   <span class="token comment"># y → 数据分布统计字段</span>
            <span class="token comment"># 这里xy数据对调，将会使得散点图横向分布</span>
            data<span class="token operator">=</span>tips<span class="token punctuation">,</span>        <span class="token comment"># data → 对应数据</span>
            jitter <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span>   
            <span class="token comment">#当点数据重合较多时，jitter可以控制点抖动，也可以设置间距如：jitter = 0.1</span>
            s <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">,</span> edgecolor <span class="token operator">=</span> <span class="token string">'w'</span><span class="token punctuation">,</span>linewidth<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>marker <span class="token operator">=</span> <span class="token string">'o'</span> <span class="token punctuation">,</span> 
            <span class="token comment"># 设置点的大小、描边颜色或宽度、点样式</span>
            <span class="token punctuation">)</span>
</code></pre> 
  <pre><code>   total_bill   tip     sex smoker  day    time  size
0       16.99  1.01  Female     No  Sun  Dinner     2
1       10.34  1.66    Male     No  Sun  Dinner     3
2       21.01  3.50    Male     No  Sun  Dinner     3
3       23.68  3.31    Male     No  Sun  Dinner     2
4       24.59  3.61  Female     No  Sun  Dinner     4
</code></pre> 
  <p><img src="https://blog.uzzz.org.cn/_p?https://img-blog.csdnimg.cn/20190409184408431.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lDRVJPTg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <pre><code class="prism language-python"><span class="token comment"># 1、stripplot()</span>
<span class="token comment"># 通过kind='swarm' 来调整点防止重合</span>

sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span>kind<span class="token operator">=</span><span class="token string">'swarm'</span><span class="token punctuation">,</span>
              hue<span class="token operator">=</span><span class="token string">'sex'</span><span class="token punctuation">,</span>data<span class="token operator">=</span>tips<span class="token punctuation">,</span>height<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span>s<span class="token operator">=</span><span class="token number">5.5</span><span class="token punctuation">)</span>
<span class="token comment"># 通过让点沿轴分布来防止重合，这只使用与较小数据集</span>
</code></pre> 
  <p><img src="https://blog.uzzz.org.cn/_p?https://img-blog.csdnimg.cn/20190409184415430.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lDRVJPTg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <pre><code class="prism language-python"><span class="token comment"># 1、stripplot()</span>
<span class="token comment"># 设置调色盘</span>

sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span>
              data<span class="token operator">=</span>tips<span class="token punctuation">,</span> jitter<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
              palette<span class="token operator">=</span><span class="token string">"Set2"</span><span class="token punctuation">,</span>  <span class="token comment"># 设置调色盘</span>
              dodge<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token comment"># 是否拆分</span>
             <span class="token punctuation">)</span>
</code></pre> 
  <p><img src="https://blog.uzzz.org.cn/_p?https://img-blog.csdnimg.cn/20190409184420342.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lDRVJPTg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <pre><code class="prism language-python"><span class="token comment"># 排序</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>tips<span class="token punctuation">[</span><span class="token string">'day'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 查看day字段的唯一值</span>

sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
              order <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Sun'</span><span class="token punctuation">,</span><span class="token string">'Sat'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># order → 筛选类别,控制排序</span>
</code></pre> 
  <pre><code>Sat     87
Sun     76
Thur    62
Fri     19
Name: day, dtype: int64
</code></pre> 
  <p><img src="https://blog.uzzz.org.cn/_p?https://img-blog.csdnimg.cn/20190409184430628.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lDRVJPTg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <h2><a id="_114"></a>分类分布图</h2> 
  <h3><a id="_boxplot_116"></a>箱线图 boxplot()</h3> 
  <p>seaborn.boxplot(x=None, y=None, hue=None, data=None, order=None, hue_order=None, orient=None, color=None, palette=None, saturation=0.75, width=0.8, dodge=True, fliersize=5, linewidth=None, whis=1.5, notch=False, ax=None, **kwargs)</p> 
  <ul> 
   <li>saturation : float,颜色饱和度</li> 
   <li>fliersize : 异常值标记的大小</li> 
   <li>whis : float,超出IQR多少比例被视为异常值，默认1.5</li> 
   <li>notch : 是否用中位数设置凹槽</li> 
  </ul> 
  <pre><code class="prism language-python"><span class="token comment"># 箱线图 catplot(kind='box')</span>
sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">'day'</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">'total_bill'</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
            kind<span class="token operator">=</span><span class="token string">'box'</span><span class="token punctuation">,</span>linewidth<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>  <span class="token comment"># 线宽</span>
            width<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">,</span>  <span class="token comment"># 箱之间的间隔比例</span>
            fliersize<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span>   <span class="token comment"># 异常点大小</span>
            palette<span class="token operator">=</span><span class="token string">'hls'</span><span class="token punctuation">,</span>  <span class="token comment"># 调色板</span>
            whis<span class="token operator">=</span><span class="token number">1.5</span><span class="token punctuation">,</span>  <span class="token comment"># 设置IQR</span>
            notch<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token comment"># 设置是否用中位数做凹槽</span>
            order<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'Thur'</span><span class="token punctuation">,</span> <span class="token string">'Fri'</span><span class="token punctuation">,</span> <span class="token string">'Sat'</span><span class="token punctuation">,</span> <span class="token string">'Sun'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">#筛选类别</span>
           <span class="token punctuation">)</span>
</code></pre> 
  <p><img src="https://blog.uzzz.org.cn/_p?https://img-blog.csdnimg.cn/20190409184437393.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lDRVJPTg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <pre><code class="prism language-python"><span class="token comment"># 通过hue参数再分类</span>
<span class="token comment"># 多种类型图混合</span>

<span class="token comment"># 绘制箱型图</span>
sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
            kind<span class="token operator">=</span><span class="token string">'box'</span><span class="token punctuation">,</span>hue <span class="token operator">=</span> <span class="token string">'smoker'</span><span class="token punctuation">,</span>height<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span>

<span class="token comment"># 绘制散点图</span>
sns<span class="token punctuation">.</span>swarmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
              color <span class="token operator">=</span><span class="token string">'k'</span><span class="token punctuation">,</span>s<span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span>alpha <span class="token operator">=</span> <span class="token number">0.8</span><span class="token punctuation">)</span>
<span class="token comment"># 添加分类散点图，这里添加散点图要用各自的函数swarmplot()</span>
<span class="token comment"># 不能再用高级端口catplot() 否则就是两个图了</span>
</code></pre> 
  <p><img src="https://blog.uzzz.org.cn/_p?https://img-blog.csdnimg.cn/20190409184441296.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lDRVJPTg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <p>对于数据量较大的数据集，散点图会显的很拥挤，这时我们可以使用<code>boxenplot()</code>,这种图表类似箱线图，既能够展示数据的分布也可以如箱线图展示数据的统计信息</p> 
  <pre><code class="prism language-python">diamonds <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"diamonds"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>diamonds<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">'color'</span><span class="token punctuation">,</span>y<span class="token operator">=</span><span class="token string">'price'</span><span class="token punctuation">,</span>kind<span class="token operator">=</span><span class="token string">'boxen'</span><span class="token punctuation">,</span>
           data<span class="token operator">=</span>diamonds<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span><span class="token string">"color"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
           height<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span>
</code></pre> 
  <pre><code>   carat      cut color clarity  depth  table  price     x     y     z
0   0.23    Ideal     E     SI2   61.5   55.0    326  3.95  3.98  2.43
1   0.21  Premium     E     SI1   59.8   61.0    326  3.89  3.84  2.31
2   0.23     Good     E     VS1   56.9   65.0    327  4.05  4.07  2.31
</code></pre> 
  <p><img src="https://blog.uzzz.org.cn/_p?https://img-blog.csdnimg.cn/2019040918444598.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lDRVJPTg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <h3><a id="_175"></a>提琴图</h3> 
  <p>小提琴图将核密度估计和箱线图结合起来</p> 
  <p>seaborn.violinplot(x=None, y=None, hue=None, data=None, order=None, hue_order=None, bw=‘scott’, cut=2, scale=‘area’, scale_hue=True, gridsize=100, width=0.8, inner=‘box’, split=False, dodge=True, orient=None, linewidth=None, color=None, palette=None, saturation=0.75, ax=None, **kwargs)</p> 
  <ul> 
   <li>bw : (“scott”,“silverman”,float),核大小的比例因子，实际效果是越大越平滑。</li> 
   <li>cut : float,用于将密度扩展到极端数据点之外的距离，设置为0以将小提琴范围限制在观测数据的范围内。</li> 
   <li>scale : 小提琴图的宽度：area-面积相同，count-按照样本数量决定宽度，width-宽度一样</li> 
   <li>scale_hue : bool,当有hue时，决定实在分组内还是图上所有小提琴计算缩放比例</li> 
   <li>gridsize : 和必读估计离散网格中的点数，越高越平滑</li> 
   <li>inner : （“box”, “quartile”, “point”, “stick”, None），内部显示样式</li> 
   <li>split : 当有颜色嵌套是，是否分别绘制每侧的小提琴。</li> 
  </ul> 
  <pre><code class="prism language-python"><span class="token comment"># 2、violinplot()</span>
<span class="token comment"># 小提琴图</span>

sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
            kind<span class="token operator">=</span><span class="token string">'violin'</span><span class="token punctuation">,</span>linewidth <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>   <span class="token comment"># 线宽</span>
            width <span class="token operator">=</span> <span class="token number">0.8</span><span class="token punctuation">,</span>     <span class="token comment"># 箱之间的间隔比例</span>
            height<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span>palette <span class="token operator">=</span> <span class="token string">'hls'</span><span class="token punctuation">,</span> <span class="token comment"># 设置调色板</span>
            order <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Thur'</span><span class="token punctuation">,</span><span class="token string">'Fri'</span><span class="token punctuation">,</span><span class="token string">'Sat'</span><span class="token punctuation">,</span><span class="token string">'Sun'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment"># 筛选类别</span>
            scale <span class="token operator">=</span> <span class="token string">'area'</span><span class="token punctuation">,</span>  
            <span class="token comment"># 测度小提琴图的宽度：</span>
            <span class="token comment"># area-面积相同，count-按照样本数量决定宽度，width-宽度一样</span>
            gridsize <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">,</span>   <span class="token comment"># 设置小提琴图边线的平滑度，越高越平滑</span>
            inner <span class="token operator">=</span> <span class="token string">'box'</span><span class="token punctuation">,</span>   
            bw <span class="token operator">=</span> <span class="token number">.5</span>    <span class="token comment"># 控制拟合程度，一般可以不设置</span>
           <span class="token punctuation">)</span>
</code></pre> 
  <p><img src="https://blog.uzzz.org.cn/_p?https://img-blog.csdnimg.cn/20190409184449448.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lDRVJPTg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <pre><code class="prism language-python"><span class="token comment"># 2、violinplot()</span>
<span class="token comment"># 通过hue参数再分类</span>

sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
            kind<span class="token operator">=</span><span class="token string">'violin'</span><span class="token punctuation">,</span>hue <span class="token operator">=</span> <span class="token string">'smoker'</span><span class="token punctuation">,</span>
            palette<span class="token operator">=</span><span class="token string">"muted"</span><span class="token punctuation">,</span> split<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>  <span class="token comment"># 设置是否拆分小提琴图</span>
            inner<span class="token operator">=</span><span class="token string">"quartile"</span><span class="token punctuation">,</span>height<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span>
</code></pre> 
  <p><img src="https://blog.uzzz.org.cn/_p?https://img-blog.csdnimg.cn/2019040918445424.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lDRVJPTg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <pre><code class="prism language-python"><span class="token comment"># 2、violinplot()</span>
<span class="token comment"># 结合散点图</span>

sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
            kind<span class="token operator">=</span><span class="token string">'violin'</span><span class="token punctuation">,</span>palette <span class="token operator">=</span> <span class="token string">'hls'</span><span class="token punctuation">,</span>
            inner <span class="token operator">=</span> <span class="token boolean">None</span><span class="token punctuation">,</span>height<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span>
            cut<span class="token operator">=</span><span class="token number">0</span>  <span class="token comment"># 设置为0，将图限制在观测数据范围内。</span>
           <span class="token punctuation">)</span>

<span class="token comment"># 插入散点图</span>
sns<span class="token punctuation">.</span>swarmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
              color<span class="token operator">=</span><span class="token string">"k"</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">)</span>

</code></pre> 
  <p><img src="https://blog.uzzz.org.cn/_p?https://img-blog.csdnimg.cn/20190409184504572.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lDRVJPTg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <h2><a id="_240"></a>统计图</h2> 
  <p>seaborn.barplot(x=None, y=None, hue=None, data=None, order=None, hue_order=None, estimator=&lt;function mean&gt;, ci=95, n_boot=1000, units=None, orient=None, color=None, palette=None, saturation=0.75, errcolor=’.26’, errwidth=None, capsize=None, dodge=True, ax=None, **kwargs)</p> 
  <ul> 
   <li>estimator : 分类箱内使用的统计函数</li> 
   <li>ci : （float,“sd”,None）</li> 
   <li>units : 变量名称，对变量的每个采样单独绘制，可用于绘制重复数据</li> 
   <li>errwidth : 误差线宽度</li> 
   <li>capsize : 误差条帽的宽度</li> 
  </ul> 
  <pre><code class="prism language-python"><span class="token comment"># 1、barplot()</span>
<span class="token comment"># 置信区间：样本均值 + 抽样误差</span>
titanic <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"titanic"</span><span class="token punctuation">)</span>
<span class="token comment"># print(titanic.head())</span>
<span class="token comment"># 加载数据</span>

sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"sex"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"survived"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>titanic<span class="token punctuation">,</span>
            kind<span class="token operator">=</span><span class="token string">'bar'</span><span class="token punctuation">,</span>palette <span class="token operator">=</span> <span class="token string">'hls'</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"class"</span><span class="token punctuation">,</span>
            order <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'male'</span><span class="token punctuation">,</span><span class="token string">'female'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment"># 筛选类别</span>
            capsize <span class="token operator">=</span> <span class="token number">0.05</span><span class="token punctuation">,</span>  <span class="token comment"># 误差线横向延伸宽度</span>
            saturation<span class="token operator">=</span><span class="token number">.8</span><span class="token punctuation">,</span>   <span class="token comment"># 颜色饱和度</span>
            errcolor <span class="token operator">=</span> <span class="token string">'gray'</span><span class="token punctuation">,</span>errwidth <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>  <span class="token comment"># 误差线颜色，宽度</span>
            height<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span>ci <span class="token operator">=</span> <span class="token string">'sd'</span>
            <span class="token comment"># 置信区间误差 → 0-100内值、'sd'、None</span>
            <span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>titanic<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'sex'</span><span class="token punctuation">,</span><span class="token string">'class'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'survived'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>titanic<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'sex'</span><span class="token punctuation">,</span><span class="token string">'class'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>std<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'survived'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 计算数据</span>
</code></pre> 
  <pre><code>sex     class 
female  First     0.968085
        Second    0.921053
        Third     0.500000
male    First     0.368852
        Second    0.157407
        Third     0.135447
Name: survived, dtype: float64
sex     class 
female  First     0.176716
        Second    0.271448
        Third     0.501745
male    First     0.484484
        Second    0.365882
        Third     0.342694
Name: survived, dtype: float64
</code></pre> 
  <p><img src="https://blog.uzzz.org.cn/_p?https://img-blog.csdnimg.cn/20190409184512845.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lDRVJPTg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <pre><code class="prism language-python"><span class="token comment"># 1、barplot()</span>
<span class="token comment"># 柱状图 - 置信区间估计</span>
<span class="token comment"># 可以这样子改变风格</span>

sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"day"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
            linewidth<span class="token operator">=</span><span class="token number">2.5</span><span class="token punctuation">,</span>facecolor<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            kind<span class="token operator">=</span><span class="token string">'bar'</span><span class="token punctuation">,</span>edgecolor <span class="token operator">=</span> <span class="token string">'k'</span><span class="token punctuation">,</span><span class="token punctuation">)</span>
</code></pre> 
  <p><img src="https://blog.uzzz.org.cn/_p?https://img-blog.csdnimg.cn/20190409184519891.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lDRVJPTg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <pre><code class="prism language-python"><span class="token comment"># 1、barplot()</span>

crashes <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">"car_crashes"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span><span class="token string">"total"</span><span class="token punctuation">,</span> ascending<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>crashes<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 加载数据</span>

f<span class="token punctuation">,</span> ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 创建图表</span>

<span class="token comment"># sns.set_color_codes("pastel")</span>
sns<span class="token punctuation">.</span>barplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"total"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"abbrev"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>crashes<span class="token punctuation">,</span>
            label<span class="token operator">=</span><span class="token string">"Total"</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"b"</span><span class="token punctuation">,</span>edgecolor <span class="token operator">=</span> <span class="token string">'w'</span><span class="token punctuation">)</span>
<span class="token comment"># 设置第一个柱状图</span>

<span class="token comment"># sns.set_color_codes("muted")</span>
sns<span class="token punctuation">.</span>barplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"alcohol"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"abbrev"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>crashes<span class="token punctuation">,</span>
            label<span class="token operator">=</span><span class="token string">"Alcohol-involved"</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"y"</span><span class="token punctuation">,</span>edgecolor <span class="token operator">=</span> <span class="token string">'w'</span><span class="token punctuation">)</span>
<span class="token comment"># 设置第二个柱状图</span>

ax<span class="token punctuation">.</span>legend<span class="token punctuation">(</span>ncol<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> loc<span class="token operator">=</span><span class="token string">"lower right"</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>despine<span class="token punctuation">(</span>left<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> bottom<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre> 
  <pre><code>    total  speeding  alcohol  not_distracted  no_previous  ins_premium  \
40   23.9     9.082    9.799          22.944       19.359       858.97   
34   23.9     5.497   10.038          23.661       20.554       688.75   
48   23.8     8.092    6.664          23.086       20.706       992.61   
3    22.4     4.032    5.824          21.056       21.280       827.34   
17   21.4     4.066    4.922          16.692       16.264       872.51   

    ins_losses abbrev  
40      116.29     SC  
34      109.72     ND  
48      152.56     WV  
3       142.39     AR  
17      137.13     KY  
</code></pre> 
  <p><img src="https://blog.uzzz.org.cn/_p?https://img-blog.csdnimg.cn/20190409184525767.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lDRVJPTg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <pre><code class="prism language-python"><span class="token comment"># 2、countplot()</span>
<span class="token comment"># 计数柱状图</span>

sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"class"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"who"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>titanic<span class="token punctuation">,</span>
              kind<span class="token operator">=</span><span class="token string">'count'</span><span class="token punctuation">,</span>palette <span class="token operator">=</span> <span class="token string">'magma'</span><span class="token punctuation">)</span>

sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>y<span class="token operator">=</span><span class="token string">"class"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"who"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>titanic<span class="token punctuation">,</span>
            kind<span class="token operator">=</span><span class="token string">'count'</span><span class="token punctuation">,</span>palette <span class="token operator">=</span> <span class="token string">'magma'</span><span class="token punctuation">)</span>  
<span class="token comment"># x/y → 以x或者y轴绘图（横向，竖向）</span>
<span class="token comment"># 用法和barplot相似</span>
</code></pre> 
  <p><img src="https://blog.uzzz.org.cn/_p?https://img-blog.csdnimg.cn/20190409184530175.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lDRVJPTg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <p><img src="https://blog.uzzz.org.cn/_p?https://img-blog.csdnimg.cn/20190409184533712.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lDRVJPTg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <pre><code class="prism language-python"><span class="token comment"># 3、pointplot()</span>

sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"time"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"total_bill"</span><span class="token punctuation">,</span> hue <span class="token operator">=</span> <span class="token string">'smoker'</span><span class="token punctuation">,</span>data<span class="token operator">=</span>tips<span class="token punctuation">,</span>
              kind<span class="token operator">=</span><span class="token string">'point'</span><span class="token punctuation">,</span>palette <span class="token operator">=</span> <span class="token string">'hls'</span><span class="token punctuation">,</span>height<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span>
              dodge <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">,</span>   <span class="token comment"># 设置点是否分开</span>
              join <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">,</span>    <span class="token comment"># 是否连线</span>
              markers<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"o"</span><span class="token punctuation">,</span> <span class="token string">"x"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> linestyles<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"-"</span><span class="token punctuation">,</span> <span class="token string">"--"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment"># 设置点样式、线型</span>
              <span class="token punctuation">)</span>
<span class="token comment"># 计算数据</span>
<span class="token comment"># # 用法和barplot相似</span>
</code></pre> 
  <p><img src="https://blog.uzzz.org.cn/_p?https://img-blog.csdnimg.cn/20190409184537383.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0lDRVJPTg==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
 </div> 
 <link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-258a4616f7.css" rel="stylesheet"> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?ee64533f3c6a7a284cd39a37ee732c8b";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
