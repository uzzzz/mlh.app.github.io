<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Spring Boot 应用容器化之 Docker、Gradle | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Spring Boot 应用容器化之 Docker、Gradle" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="本文演示了如何用 Docker、Gradle 来构建、运行、发布来一个 Spring Boot 应用。 Docker 简介 Docker 是一个 Linux 容器管理工具包，具备“社交”方面，允许用户发布容器的 image (镜像)，并使用别人发布的 image。Docker image 是用于运行容器化进程的方案，在本文中，我们将构建一个简单的 Spring Boot 应用程序。 有关 Docker 的详细介绍，可以移步至 《简述 Docker》 前置条件 JDK 1.8+ Gradle 2.3+ Docker 最新版。有关 Docker 在的安装，可以参阅 《Docker 在 CentOS 下的安装、使用》。 如果你的电脑不是 Linux 系统，最好装个虚拟机，在虚拟机里面装个 Linux ，因为 Docker 的依赖 Linux。 用 Gradle 构建项目 创建目录结构项目的目录结构因符合 Gradle 的约定。 在 *nix 系统下执行 mkdir -p src/main/java/docker_spring_boot ,生产如下结构 : └──&nbsp;src&nbsp;&nbsp;&nbsp;&nbsp;└──&nbsp;main&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└──&nbsp;java&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└──&nbsp;com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└──&nbsp;waylau&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└──&nbsp;docker_spring_boot 创建 Gradle 构建文件 build.gradlebuildscript&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;repositories&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mavenCentral()&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;dependencies&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classpath(&#39;org.springframework.boot:spring-boot-gradle-plugin:1.3.3.RELEASE&#39;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classpath(&#39;se.transmode.gradle:gradle-docker:1.2&#39;)&nbsp;&nbsp;&nbsp;&nbsp;}}apply&nbsp;plugin:&nbsp;&#39;java&#39;apply&nbsp;plugin:&nbsp;&#39;eclipse&#39;apply&nbsp;plugin:&nbsp;&#39;idea&#39;apply&nbsp;plugin:&nbsp;&#39;spring-boot&#39;apply&nbsp;plugin:&nbsp;&#39;docker&#39;group&nbsp;=&nbsp;&#39;gregturn&#39;jar&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;baseName&nbsp;=&nbsp;&#39;docker-spring-boot-gradle&#39;&nbsp;&nbsp;&nbsp;&nbsp;version&nbsp;=&nbsp;&nbsp;&#39;1.0.0&#39;}task&nbsp;buildDocker(type:&nbsp;Docker,&nbsp;dependsOn:&nbsp;build)&nbsp;{&nbsp;&nbsp;push&nbsp;=&nbsp;true&nbsp;&nbsp;applicationName&nbsp;=&nbsp;jar.baseName&nbsp;&nbsp;dockerfile&nbsp;=&nbsp;file(&#39;src/main/docker/Dockerfile&#39;)&nbsp;&nbsp;doFirst&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;copy&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;jar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;into&nbsp;stageDir&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;}}repositories&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;mavenCentral()}sourceCompatibility&nbsp;=&nbsp;1.8targetCompatibility&nbsp;=&nbsp;1.8dependencies&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;testCompile(&quot;org.springframework.boot:spring-boot-starter-test&quot;)}task&nbsp;wrapper(type:&nbsp;Wrapper)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;gradleVersion&nbsp;=&nbsp;&#39;2.3&#39;} Spring Boot gradle plugin 提供了很多方便的功能： 它收集的类路径上所有 jar 文件，并构建成一个单一的、可运行的“über-jar”（德语，相关解释可以移步至 http://stackoverflow.com/questions/11947037/what-is-an-uber-jar），这使得它更方便地执行和传输服务。 编写 Spring Boot 应用 编写一个简单的 Spring Boot 应用 ： src/main/java/com/waylau/docker_spring_boot/Application.java:package&nbsp;com.waylau.docker_spring_boot;import&nbsp;org.springframework.boot.SpringApplication;import&nbsp;org.springframework.boot.autoconfigure.SpringBootApplication;import&nbsp;org.springframework.web.bind.annotation.RequestMapping;import&nbsp;org.springframework.web.bind.annotation.RestController;@SpringBootApplication@RestControllerpublic&nbsp;class&nbsp;Application&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;@RequestMapping(&quot;/&quot;)&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;home()&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&quot;Hello&nbsp;Docker&nbsp;World.&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;&quot;&lt;br&nbsp;/&gt;Welcome&nbsp;to&nbsp;&lt;a&nbsp;href=&#39;http://waylau.com&#39;&gt;waylau.com&lt;/a&gt;&lt;/li&gt;&quot;;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;main(String[]&nbsp;args)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SpringApplication.run(Application.class,&nbsp;args);&nbsp;&nbsp;&nbsp;&nbsp;}} 解释下上面的代码： 类用 @SpringBootApplication @RestController 标识,可用 Spring MVC 来处理 Web 请求。 @RequestMapping 将 / 映射到 home() ，并将”Hello Docker World” 文本作为响应。 main() 方法使用 Spring Boot 的 SpringApplication.run() 方法来启动应用。 运行程序 使用 Gradle编译： gradle&nbsp;build 运行： java&nbsp;-jar&nbsp;build/libs/docker-spring-boot-gradle-1.0.0.jar 访问项目 如果程序正确运行，浏览器访问 http://localhost:8080/，可以看到页面 “Hello Docker World.” 字样。 将项目容器化 Docker 使用 Dockerfile 文件格式来指定 image 层， 创建文件 src/main/docker/Dockerfile: FROM&nbsp;frolvlad/alpine-oraclejdk8:slimVOLUME&nbsp;/tmpADD&nbsp;docker-spring-boot-gradle-1.0.0.jar&nbsp;app.jarENTRYPOINT&nbsp;[&quot;java&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;] 解释下这个配置文件： VOLUME 指定了临时文件目录为/tmp。其效果是在主机 /var/lib/docker 目录下创建了一个临时文件，并链接到容器的/tmp。改步骤是可选的，如果涉及到文件系统的应用就很有必要了。/tmp目录用来持久化到 Docker 数据文件夹，因为 Spring Boot 使用的内嵌 Tomcat 容器默认使用/tmp作为工作目录 项目的 jar 文件作为 “app.jar” 添加到容器的 ENTRYPOINT 执行项目 app.jar。为了缩短 Tomcat 启动时间，添加一个系统属性指向 “/dev/urandom” 作为 Entropy Source 构建 Docker Image 执行构建成为 docker image: gradle&nbsp;build&nbsp;buildDocker 运行运行 Docker Image docker&nbsp;run&nbsp;-p&nbsp;8080:8080&nbsp;-t&nbsp;waylau/docker-spring-boot-gradle[root@waylau&nbsp;spring-boot]#&nbsp;docker&nbsp;run&nbsp;-p&nbsp;8080:8080&nbsp;-t&nbsp;waylau/docker-spring-boot-gradle&nbsp;&nbsp;.&nbsp;&nbsp;&nbsp;____&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__&nbsp;_&nbsp;_&nbsp;/\\&nbsp;/&nbsp;___&#39;_&nbsp;__&nbsp;_&nbsp;_(_)_&nbsp;__&nbsp;&nbsp;__&nbsp;_&nbsp;\&nbsp;\&nbsp;\&nbsp;\(&nbsp;(&nbsp;)\___&nbsp;|&nbsp;&#39;_&nbsp;|&nbsp;&#39;_|&nbsp;|&nbsp;&#39;_&nbsp;\/&nbsp;_`&nbsp;|&nbsp;\&nbsp;\&nbsp;\&nbsp;\&nbsp;\\/&nbsp;&nbsp;___)|&nbsp;|_)|&nbsp;|&nbsp;|&nbsp;|&nbsp;|&nbsp;||&nbsp;(_|&nbsp;|&nbsp;&nbsp;)&nbsp;)&nbsp;)&nbsp;)&nbsp;&nbsp;&#39;&nbsp;&nbsp;|____|&nbsp;.__|_|&nbsp;|_|_|&nbsp;|_\__,&nbsp;|&nbsp;/&nbsp;/&nbsp;/&nbsp;/&nbsp;=========|_|==============|___/=/_/_/_/&nbsp;::&nbsp;Spring&nbsp;Boot&nbsp;::&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(v1.3.3.RELEASE)2016-03-20&nbsp;08:45:51.276&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:51.289&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:51.722&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:54.874&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:57.893&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:57.982&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:57.984&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:58.473&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:58.473&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:59.672&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:59.695&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:59.701&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:59.703&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:59.703&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:00.862&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:01.166&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:01.189&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:01.190&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:01.302&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:01.302&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:01.438&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:01.833&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:02.332&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:02.343&nbsp;&nbsp;INFO&nbsp;1&nbsp; 访问项目 如果程序正确运行，浏览器访问 http://localhost:8080/，可以看到页面 “Hello Docker World.” 字样。 推送 image 到 Docker Hub首先，你在 Docker Hub 要有注册账号，且创建了相应的库； 其次，docker 推送前，先要登录，否则报unauthorized: access to the requested resource is not authorized的错误 执行： docker&nbsp;login 输出为： [root@waylau&nbsp;spring-boot]Username:&nbsp;waylauPassword:&nbsp;Email:&nbsp;waylau521@gmail.comWARNING:&nbsp;login&nbsp;credentials&nbsp;saved&nbsp;in&nbsp;/root/.docker/config.jsonLogin&nbsp;Succeeded 执行推送 docker&nbsp;push&nbsp;waylau/docker-spring-boot-gradle[root@waylau&nbsp;spring-boot]The&nbsp;push&nbsp;refers&nbsp;to&nbsp;a&nbsp;repository&nbsp;[docker.io/waylau/docker-spring-boot-gradle]751d29eef02e:&nbsp;Layer&nbsp;already&nbsp;exists&nbsp;4da3741f39c7:&nbsp;Pushed&nbsp;5f70bf18a086:&nbsp;Layer&nbsp;already&nbsp;exists&nbsp;7e4d0cb13643:&nbsp;Layer&nbsp;already&nbsp;exists&nbsp;8f045733649f:&nbsp;Layer&nbsp;already&nbsp;exists&nbsp;latest:&nbsp;digest:&nbsp;sha256:eb4d5308ba1bb27489d808279e74784bda6761b3574f4298d746abba59b35164&nbsp;size:&nbsp;9415 镜像加速器 Docker Hub 在国外，有时候拉取 Image 极其缓慢，可以使用国内的镜像来实现加速 阿里云 echo&nbsp;&quot;DOCKER_OPTS=\&quot;--registry-mirror=https://yourlocation.mirror.aliyuncs.com\&quot;&quot;&nbsp;|&nbsp;sudo&nbsp;tee&nbsp;-a&nbsp;/etc/default/dockersudo&nbsp;service&nbsp;docker&nbsp;restart 其中 https://yourlocation.mirror.aliyuncs.com 是您在阿里云注册后的专属加速器地址： DaoCloud sudo&nbsp;echo&nbsp;“DOCKER_OPTS=\”\$DOCKER_OPTS&nbsp;–registry-mirror=http:sudo&nbsp;service&nbsp;docker&nbsp;restart其中&nbsp;http://your-id.m.daocloud.io&nbsp;是您在&nbsp;DaoCloud&nbsp;注册后的专属加速器地址： 源码 获取项目源码， https://github.com/waylau/docker-demos 中的 samples/spring-boot-gradle 获取项目镜像， 执行 docker&nbsp;pull&nbsp;waylau/docker-spring-boot-gradle 参考引用 http://spring.io/guides/gs/spring-boot-docker/ https://hub.docker.com/r/waylau/docker-spring-boot-gradle/ 作者：waylau来源：https://waylau.com/docker-spring-boot-gradle/ ▼往期精彩回顾▼ 微服务为什么一定要用docker 使用docker部署spring cloud项目详细步骤 几道和「堆栈、队列」有关的面试算法题 在Spring Boot中格式化JSON日期 使用windows版Docker并在IntelliJ IDEA使用Docker运行Spring Cloud项目 Springboot项目的接口防刷 实体与模型之间的映射,就用Mapstruct Java高级开发必会的50个性能优化的细节（珍藏版） 记下来，spring 装配bean的三种方式！ 厉害！这届码农追星玩出了新花样 Java生成二维码 与 30 家公司过招，得到了这章面试心法 一道让你拍案叫绝的算法题 了解一下Spring中用了哪些设计模式？这样回答面试官才稳 dubbo 面试18问 拜托！面试请不要再问我Spring Cloud底层原理 稳了！Java并发编程71道面试题及答案 【附答案】Java面试2019常考题目汇总（一） 这10道springboot常见面试题你需要了解下 JVM面试题巧用这19条MySQL优化，效率至少提高3倍 长按关注，更多精彩" />
<meta property="og:description" content="本文演示了如何用 Docker、Gradle 来构建、运行、发布来一个 Spring Boot 应用。 Docker 简介 Docker 是一个 Linux 容器管理工具包，具备“社交”方面，允许用户发布容器的 image (镜像)，并使用别人发布的 image。Docker image 是用于运行容器化进程的方案，在本文中，我们将构建一个简单的 Spring Boot 应用程序。 有关 Docker 的详细介绍，可以移步至 《简述 Docker》 前置条件 JDK 1.8+ Gradle 2.3+ Docker 最新版。有关 Docker 在的安装，可以参阅 《Docker 在 CentOS 下的安装、使用》。 如果你的电脑不是 Linux 系统，最好装个虚拟机，在虚拟机里面装个 Linux ，因为 Docker 的依赖 Linux。 用 Gradle 构建项目 创建目录结构项目的目录结构因符合 Gradle 的约定。 在 *nix 系统下执行 mkdir -p src/main/java/docker_spring_boot ,生产如下结构 : └──&nbsp;src&nbsp;&nbsp;&nbsp;&nbsp;└──&nbsp;main&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└──&nbsp;java&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└──&nbsp;com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└──&nbsp;waylau&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└──&nbsp;docker_spring_boot 创建 Gradle 构建文件 build.gradlebuildscript&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;repositories&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mavenCentral()&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;dependencies&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classpath(&#39;org.springframework.boot:spring-boot-gradle-plugin:1.3.3.RELEASE&#39;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classpath(&#39;se.transmode.gradle:gradle-docker:1.2&#39;)&nbsp;&nbsp;&nbsp;&nbsp;}}apply&nbsp;plugin:&nbsp;&#39;java&#39;apply&nbsp;plugin:&nbsp;&#39;eclipse&#39;apply&nbsp;plugin:&nbsp;&#39;idea&#39;apply&nbsp;plugin:&nbsp;&#39;spring-boot&#39;apply&nbsp;plugin:&nbsp;&#39;docker&#39;group&nbsp;=&nbsp;&#39;gregturn&#39;jar&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;baseName&nbsp;=&nbsp;&#39;docker-spring-boot-gradle&#39;&nbsp;&nbsp;&nbsp;&nbsp;version&nbsp;=&nbsp;&nbsp;&#39;1.0.0&#39;}task&nbsp;buildDocker(type:&nbsp;Docker,&nbsp;dependsOn:&nbsp;build)&nbsp;{&nbsp;&nbsp;push&nbsp;=&nbsp;true&nbsp;&nbsp;applicationName&nbsp;=&nbsp;jar.baseName&nbsp;&nbsp;dockerfile&nbsp;=&nbsp;file(&#39;src/main/docker/Dockerfile&#39;)&nbsp;&nbsp;doFirst&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;copy&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;jar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;into&nbsp;stageDir&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;}}repositories&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;mavenCentral()}sourceCompatibility&nbsp;=&nbsp;1.8targetCompatibility&nbsp;=&nbsp;1.8dependencies&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;testCompile(&quot;org.springframework.boot:spring-boot-starter-test&quot;)}task&nbsp;wrapper(type:&nbsp;Wrapper)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;gradleVersion&nbsp;=&nbsp;&#39;2.3&#39;} Spring Boot gradle plugin 提供了很多方便的功能： 它收集的类路径上所有 jar 文件，并构建成一个单一的、可运行的“über-jar”（德语，相关解释可以移步至 http://stackoverflow.com/questions/11947037/what-is-an-uber-jar），这使得它更方便地执行和传输服务。 编写 Spring Boot 应用 编写一个简单的 Spring Boot 应用 ： src/main/java/com/waylau/docker_spring_boot/Application.java:package&nbsp;com.waylau.docker_spring_boot;import&nbsp;org.springframework.boot.SpringApplication;import&nbsp;org.springframework.boot.autoconfigure.SpringBootApplication;import&nbsp;org.springframework.web.bind.annotation.RequestMapping;import&nbsp;org.springframework.web.bind.annotation.RestController;@SpringBootApplication@RestControllerpublic&nbsp;class&nbsp;Application&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;@RequestMapping(&quot;/&quot;)&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;home()&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&quot;Hello&nbsp;Docker&nbsp;World.&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;&quot;&lt;br&nbsp;/&gt;Welcome&nbsp;to&nbsp;&lt;a&nbsp;href=&#39;http://waylau.com&#39;&gt;waylau.com&lt;/a&gt;&lt;/li&gt;&quot;;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;main(String[]&nbsp;args)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SpringApplication.run(Application.class,&nbsp;args);&nbsp;&nbsp;&nbsp;&nbsp;}} 解释下上面的代码： 类用 @SpringBootApplication @RestController 标识,可用 Spring MVC 来处理 Web 请求。 @RequestMapping 将 / 映射到 home() ，并将”Hello Docker World” 文本作为响应。 main() 方法使用 Spring Boot 的 SpringApplication.run() 方法来启动应用。 运行程序 使用 Gradle编译： gradle&nbsp;build 运行： java&nbsp;-jar&nbsp;build/libs/docker-spring-boot-gradle-1.0.0.jar 访问项目 如果程序正确运行，浏览器访问 http://localhost:8080/，可以看到页面 “Hello Docker World.” 字样。 将项目容器化 Docker 使用 Dockerfile 文件格式来指定 image 层， 创建文件 src/main/docker/Dockerfile: FROM&nbsp;frolvlad/alpine-oraclejdk8:slimVOLUME&nbsp;/tmpADD&nbsp;docker-spring-boot-gradle-1.0.0.jar&nbsp;app.jarENTRYPOINT&nbsp;[&quot;java&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;] 解释下这个配置文件： VOLUME 指定了临时文件目录为/tmp。其效果是在主机 /var/lib/docker 目录下创建了一个临时文件，并链接到容器的/tmp。改步骤是可选的，如果涉及到文件系统的应用就很有必要了。/tmp目录用来持久化到 Docker 数据文件夹，因为 Spring Boot 使用的内嵌 Tomcat 容器默认使用/tmp作为工作目录 项目的 jar 文件作为 “app.jar” 添加到容器的 ENTRYPOINT 执行项目 app.jar。为了缩短 Tomcat 启动时间，添加一个系统属性指向 “/dev/urandom” 作为 Entropy Source 构建 Docker Image 执行构建成为 docker image: gradle&nbsp;build&nbsp;buildDocker 运行运行 Docker Image docker&nbsp;run&nbsp;-p&nbsp;8080:8080&nbsp;-t&nbsp;waylau/docker-spring-boot-gradle[root@waylau&nbsp;spring-boot]#&nbsp;docker&nbsp;run&nbsp;-p&nbsp;8080:8080&nbsp;-t&nbsp;waylau/docker-spring-boot-gradle&nbsp;&nbsp;.&nbsp;&nbsp;&nbsp;____&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__&nbsp;_&nbsp;_&nbsp;/\\&nbsp;/&nbsp;___&#39;_&nbsp;__&nbsp;_&nbsp;_(_)_&nbsp;__&nbsp;&nbsp;__&nbsp;_&nbsp;\&nbsp;\&nbsp;\&nbsp;\(&nbsp;(&nbsp;)\___&nbsp;|&nbsp;&#39;_&nbsp;|&nbsp;&#39;_|&nbsp;|&nbsp;&#39;_&nbsp;\/&nbsp;_`&nbsp;|&nbsp;\&nbsp;\&nbsp;\&nbsp;\&nbsp;\\/&nbsp;&nbsp;___)|&nbsp;|_)|&nbsp;|&nbsp;|&nbsp;|&nbsp;|&nbsp;||&nbsp;(_|&nbsp;|&nbsp;&nbsp;)&nbsp;)&nbsp;)&nbsp;)&nbsp;&nbsp;&#39;&nbsp;&nbsp;|____|&nbsp;.__|_|&nbsp;|_|_|&nbsp;|_\__,&nbsp;|&nbsp;/&nbsp;/&nbsp;/&nbsp;/&nbsp;=========|_|==============|___/=/_/_/_/&nbsp;::&nbsp;Spring&nbsp;Boot&nbsp;::&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(v1.3.3.RELEASE)2016-03-20&nbsp;08:45:51.276&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:51.289&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:51.722&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:54.874&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:57.893&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:57.982&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:57.984&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:58.473&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:58.473&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:59.672&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:59.695&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:59.701&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:59.703&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:59.703&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:00.862&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:01.166&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:01.189&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:01.190&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:01.302&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:01.302&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:01.438&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:01.833&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:02.332&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:02.343&nbsp;&nbsp;INFO&nbsp;1&nbsp; 访问项目 如果程序正确运行，浏览器访问 http://localhost:8080/，可以看到页面 “Hello Docker World.” 字样。 推送 image 到 Docker Hub首先，你在 Docker Hub 要有注册账号，且创建了相应的库； 其次，docker 推送前，先要登录，否则报unauthorized: access to the requested resource is not authorized的错误 执行： docker&nbsp;login 输出为： [root@waylau&nbsp;spring-boot]Username:&nbsp;waylauPassword:&nbsp;Email:&nbsp;waylau521@gmail.comWARNING:&nbsp;login&nbsp;credentials&nbsp;saved&nbsp;in&nbsp;/root/.docker/config.jsonLogin&nbsp;Succeeded 执行推送 docker&nbsp;push&nbsp;waylau/docker-spring-boot-gradle[root@waylau&nbsp;spring-boot]The&nbsp;push&nbsp;refers&nbsp;to&nbsp;a&nbsp;repository&nbsp;[docker.io/waylau/docker-spring-boot-gradle]751d29eef02e:&nbsp;Layer&nbsp;already&nbsp;exists&nbsp;4da3741f39c7:&nbsp;Pushed&nbsp;5f70bf18a086:&nbsp;Layer&nbsp;already&nbsp;exists&nbsp;7e4d0cb13643:&nbsp;Layer&nbsp;already&nbsp;exists&nbsp;8f045733649f:&nbsp;Layer&nbsp;already&nbsp;exists&nbsp;latest:&nbsp;digest:&nbsp;sha256:eb4d5308ba1bb27489d808279e74784bda6761b3574f4298d746abba59b35164&nbsp;size:&nbsp;9415 镜像加速器 Docker Hub 在国外，有时候拉取 Image 极其缓慢，可以使用国内的镜像来实现加速 阿里云 echo&nbsp;&quot;DOCKER_OPTS=\&quot;--registry-mirror=https://yourlocation.mirror.aliyuncs.com\&quot;&quot;&nbsp;|&nbsp;sudo&nbsp;tee&nbsp;-a&nbsp;/etc/default/dockersudo&nbsp;service&nbsp;docker&nbsp;restart 其中 https://yourlocation.mirror.aliyuncs.com 是您在阿里云注册后的专属加速器地址： DaoCloud sudo&nbsp;echo&nbsp;“DOCKER_OPTS=\”\$DOCKER_OPTS&nbsp;–registry-mirror=http:sudo&nbsp;service&nbsp;docker&nbsp;restart其中&nbsp;http://your-id.m.daocloud.io&nbsp;是您在&nbsp;DaoCloud&nbsp;注册后的专属加速器地址： 源码 获取项目源码， https://github.com/waylau/docker-demos 中的 samples/spring-boot-gradle 获取项目镜像， 执行 docker&nbsp;pull&nbsp;waylau/docker-spring-boot-gradle 参考引用 http://spring.io/guides/gs/spring-boot-docker/ https://hub.docker.com/r/waylau/docker-spring-boot-gradle/ 作者：waylau来源：https://waylau.com/docker-spring-boot-gradle/ ▼往期精彩回顾▼ 微服务为什么一定要用docker 使用docker部署spring cloud项目详细步骤 几道和「堆栈、队列」有关的面试算法题 在Spring Boot中格式化JSON日期 使用windows版Docker并在IntelliJ IDEA使用Docker运行Spring Cloud项目 Springboot项目的接口防刷 实体与模型之间的映射,就用Mapstruct Java高级开发必会的50个性能优化的细节（珍藏版） 记下来，spring 装配bean的三种方式！ 厉害！这届码农追星玩出了新花样 Java生成二维码 与 30 家公司过招，得到了这章面试心法 一道让你拍案叫绝的算法题 了解一下Spring中用了哪些设计模式？这样回答面试官才稳 dubbo 面试18问 拜托！面试请不要再问我Spring Cloud底层原理 稳了！Java并发编程71道面试题及答案 【附答案】Java面试2019常考题目汇总（一） 这10道springboot常见面试题你需要了解下 JVM面试题巧用这19条MySQL优化，效率至少提高3倍 长按关注，更多精彩" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-04-09T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"本文演示了如何用 Docker、Gradle 来构建、运行、发布来一个 Spring Boot 应用。 Docker 简介 Docker 是一个 Linux 容器管理工具包，具备“社交”方面，允许用户发布容器的 image (镜像)，并使用别人发布的 image。Docker image 是用于运行容器化进程的方案，在本文中，我们将构建一个简单的 Spring Boot 应用程序。 有关 Docker 的详细介绍，可以移步至 《简述 Docker》 前置条件 JDK 1.8+ Gradle 2.3+ Docker 最新版。有关 Docker 在的安装，可以参阅 《Docker 在 CentOS 下的安装、使用》。 如果你的电脑不是 Linux 系统，最好装个虚拟机，在虚拟机里面装个 Linux ，因为 Docker 的依赖 Linux。 用 Gradle 构建项目 创建目录结构项目的目录结构因符合 Gradle 的约定。 在 *nix 系统下执行 mkdir -p src/main/java/docker_spring_boot ,生产如下结构 : └──&nbsp;src&nbsp;&nbsp;&nbsp;&nbsp;└──&nbsp;main&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└──&nbsp;java&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└──&nbsp;com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└──&nbsp;waylau&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└──&nbsp;docker_spring_boot 创建 Gradle 构建文件 build.gradlebuildscript&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;repositories&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mavenCentral()&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;dependencies&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classpath(&#39;org.springframework.boot:spring-boot-gradle-plugin:1.3.3.RELEASE&#39;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classpath(&#39;se.transmode.gradle:gradle-docker:1.2&#39;)&nbsp;&nbsp;&nbsp;&nbsp;}}apply&nbsp;plugin:&nbsp;&#39;java&#39;apply&nbsp;plugin:&nbsp;&#39;eclipse&#39;apply&nbsp;plugin:&nbsp;&#39;idea&#39;apply&nbsp;plugin:&nbsp;&#39;spring-boot&#39;apply&nbsp;plugin:&nbsp;&#39;docker&#39;group&nbsp;=&nbsp;&#39;gregturn&#39;jar&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;baseName&nbsp;=&nbsp;&#39;docker-spring-boot-gradle&#39;&nbsp;&nbsp;&nbsp;&nbsp;version&nbsp;=&nbsp;&nbsp;&#39;1.0.0&#39;}task&nbsp;buildDocker(type:&nbsp;Docker,&nbsp;dependsOn:&nbsp;build)&nbsp;{&nbsp;&nbsp;push&nbsp;=&nbsp;true&nbsp;&nbsp;applicationName&nbsp;=&nbsp;jar.baseName&nbsp;&nbsp;dockerfile&nbsp;=&nbsp;file(&#39;src/main/docker/Dockerfile&#39;)&nbsp;&nbsp;doFirst&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;copy&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;jar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;into&nbsp;stageDir&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;}}repositories&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;mavenCentral()}sourceCompatibility&nbsp;=&nbsp;1.8targetCompatibility&nbsp;=&nbsp;1.8dependencies&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;testCompile(&quot;org.springframework.boot:spring-boot-starter-test&quot;)}task&nbsp;wrapper(type:&nbsp;Wrapper)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;gradleVersion&nbsp;=&nbsp;&#39;2.3&#39;} Spring Boot gradle plugin 提供了很多方便的功能： 它收集的类路径上所有 jar 文件，并构建成一个单一的、可运行的“über-jar”（德语，相关解释可以移步至 http://stackoverflow.com/questions/11947037/what-is-an-uber-jar），这使得它更方便地执行和传输服务。 编写 Spring Boot 应用 编写一个简单的 Spring Boot 应用 ： src/main/java/com/waylau/docker_spring_boot/Application.java:package&nbsp;com.waylau.docker_spring_boot;import&nbsp;org.springframework.boot.SpringApplication;import&nbsp;org.springframework.boot.autoconfigure.SpringBootApplication;import&nbsp;org.springframework.web.bind.annotation.RequestMapping;import&nbsp;org.springframework.web.bind.annotation.RestController;@SpringBootApplication@RestControllerpublic&nbsp;class&nbsp;Application&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;@RequestMapping(&quot;/&quot;)&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;home()&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&quot;Hello&nbsp;Docker&nbsp;World.&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;&quot;&lt;br&nbsp;/&gt;Welcome&nbsp;to&nbsp;&lt;a&nbsp;href=&#39;http://waylau.com&#39;&gt;waylau.com&lt;/a&gt;&lt;/li&gt;&quot;;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;main(String[]&nbsp;args)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SpringApplication.run(Application.class,&nbsp;args);&nbsp;&nbsp;&nbsp;&nbsp;}} 解释下上面的代码： 类用 @SpringBootApplication @RestController 标识,可用 Spring MVC 来处理 Web 请求。 @RequestMapping 将 / 映射到 home() ，并将”Hello Docker World” 文本作为响应。 main() 方法使用 Spring Boot 的 SpringApplication.run() 方法来启动应用。 运行程序 使用 Gradle编译： gradle&nbsp;build 运行： java&nbsp;-jar&nbsp;build/libs/docker-spring-boot-gradle-1.0.0.jar 访问项目 如果程序正确运行，浏览器访问 http://localhost:8080/，可以看到页面 “Hello Docker World.” 字样。 将项目容器化 Docker 使用 Dockerfile 文件格式来指定 image 层， 创建文件 src/main/docker/Dockerfile: FROM&nbsp;frolvlad/alpine-oraclejdk8:slimVOLUME&nbsp;/tmpADD&nbsp;docker-spring-boot-gradle-1.0.0.jar&nbsp;app.jarENTRYPOINT&nbsp;[&quot;java&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;] 解释下这个配置文件： VOLUME 指定了临时文件目录为/tmp。其效果是在主机 /var/lib/docker 目录下创建了一个临时文件，并链接到容器的/tmp。改步骤是可选的，如果涉及到文件系统的应用就很有必要了。/tmp目录用来持久化到 Docker 数据文件夹，因为 Spring Boot 使用的内嵌 Tomcat 容器默认使用/tmp作为工作目录 项目的 jar 文件作为 “app.jar” 添加到容器的 ENTRYPOINT 执行项目 app.jar。为了缩短 Tomcat 启动时间，添加一个系统属性指向 “/dev/urandom” 作为 Entropy Source 构建 Docker Image 执行构建成为 docker image: gradle&nbsp;build&nbsp;buildDocker 运行运行 Docker Image docker&nbsp;run&nbsp;-p&nbsp;8080:8080&nbsp;-t&nbsp;waylau/docker-spring-boot-gradle[root@waylau&nbsp;spring-boot]#&nbsp;docker&nbsp;run&nbsp;-p&nbsp;8080:8080&nbsp;-t&nbsp;waylau/docker-spring-boot-gradle&nbsp;&nbsp;.&nbsp;&nbsp;&nbsp;____&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__&nbsp;_&nbsp;_&nbsp;/\\\\&nbsp;/&nbsp;___&#39;_&nbsp;__&nbsp;_&nbsp;_(_)_&nbsp;__&nbsp;&nbsp;__&nbsp;_&nbsp;\\&nbsp;\\&nbsp;\\&nbsp;\\(&nbsp;(&nbsp;)\\___&nbsp;|&nbsp;&#39;_&nbsp;|&nbsp;&#39;_|&nbsp;|&nbsp;&#39;_&nbsp;\\/&nbsp;_`&nbsp;|&nbsp;\\&nbsp;\\&nbsp;\\&nbsp;\\&nbsp;\\\\/&nbsp;&nbsp;___)|&nbsp;|_)|&nbsp;|&nbsp;|&nbsp;|&nbsp;|&nbsp;||&nbsp;(_|&nbsp;|&nbsp;&nbsp;)&nbsp;)&nbsp;)&nbsp;)&nbsp;&nbsp;&#39;&nbsp;&nbsp;|____|&nbsp;.__|_|&nbsp;|_|_|&nbsp;|_\\__,&nbsp;|&nbsp;/&nbsp;/&nbsp;/&nbsp;/&nbsp;=========|_|==============|___/=/_/_/_/&nbsp;::&nbsp;Spring&nbsp;Boot&nbsp;::&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(v1.3.3.RELEASE)2016-03-20&nbsp;08:45:51.276&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:51.289&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:51.722&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:54.874&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:57.893&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:57.982&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:57.984&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:58.473&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:58.473&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:59.672&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:59.695&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:59.701&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:59.703&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:45:59.703&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:00.862&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:01.166&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:01.189&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:01.190&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:01.302&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:01.302&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:01.438&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:01.833&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:02.332&nbsp;&nbsp;INFO&nbsp;1&nbsp;2016-03-20&nbsp;08:46:02.343&nbsp;&nbsp;INFO&nbsp;1&nbsp; 访问项目 如果程序正确运行，浏览器访问 http://localhost:8080/，可以看到页面 “Hello Docker World.” 字样。 推送 image 到 Docker Hub首先，你在 Docker Hub 要有注册账号，且创建了相应的库； 其次，docker 推送前，先要登录，否则报unauthorized: access to the requested resource is not authorized的错误 执行： docker&nbsp;login 输出为： [root@waylau&nbsp;spring-boot]Username:&nbsp;waylauPassword:&nbsp;Email:&nbsp;waylau521@gmail.comWARNING:&nbsp;login&nbsp;credentials&nbsp;saved&nbsp;in&nbsp;/root/.docker/config.jsonLogin&nbsp;Succeeded 执行推送 docker&nbsp;push&nbsp;waylau/docker-spring-boot-gradle[root@waylau&nbsp;spring-boot]The&nbsp;push&nbsp;refers&nbsp;to&nbsp;a&nbsp;repository&nbsp;[docker.io/waylau/docker-spring-boot-gradle]751d29eef02e:&nbsp;Layer&nbsp;already&nbsp;exists&nbsp;4da3741f39c7:&nbsp;Pushed&nbsp;5f70bf18a086:&nbsp;Layer&nbsp;already&nbsp;exists&nbsp;7e4d0cb13643:&nbsp;Layer&nbsp;already&nbsp;exists&nbsp;8f045733649f:&nbsp;Layer&nbsp;already&nbsp;exists&nbsp;latest:&nbsp;digest:&nbsp;sha256:eb4d5308ba1bb27489d808279e74784bda6761b3574f4298d746abba59b35164&nbsp;size:&nbsp;9415 镜像加速器 Docker Hub 在国外，有时候拉取 Image 极其缓慢，可以使用国内的镜像来实现加速 阿里云 echo&nbsp;&quot;DOCKER_OPTS=\\&quot;--registry-mirror=https://yourlocation.mirror.aliyuncs.com\\&quot;&quot;&nbsp;|&nbsp;sudo&nbsp;tee&nbsp;-a&nbsp;/etc/default/dockersudo&nbsp;service&nbsp;docker&nbsp;restart 其中 https://yourlocation.mirror.aliyuncs.com 是您在阿里云注册后的专属加速器地址： DaoCloud sudo&nbsp;echo&nbsp;“DOCKER_OPTS=\\”\\$DOCKER_OPTS&nbsp;–registry-mirror=http:sudo&nbsp;service&nbsp;docker&nbsp;restart其中&nbsp;http://your-id.m.daocloud.io&nbsp;是您在&nbsp;DaoCloud&nbsp;注册后的专属加速器地址： 源码 获取项目源码， https://github.com/waylau/docker-demos 中的 samples/spring-boot-gradle 获取项目镜像， 执行 docker&nbsp;pull&nbsp;waylau/docker-spring-boot-gradle 参考引用 http://spring.io/guides/gs/spring-boot-docker/ https://hub.docker.com/r/waylau/docker-spring-boot-gradle/ 作者：waylau来源：https://waylau.com/docker-spring-boot-gradle/ ▼往期精彩回顾▼ 微服务为什么一定要用docker 使用docker部署spring cloud项目详细步骤 几道和「堆栈、队列」有关的面试算法题 在Spring Boot中格式化JSON日期 使用windows版Docker并在IntelliJ IDEA使用Docker运行Spring Cloud项目 Springboot项目的接口防刷 实体与模型之间的映射,就用Mapstruct Java高级开发必会的50个性能优化的细节（珍藏版） 记下来，spring 装配bean的三种方式！ 厉害！这届码农追星玩出了新花样 Java生成二维码 与 30 家公司过招，得到了这章面试心法 一道让你拍案叫绝的算法题 了解一下Spring中用了哪些设计模式？这样回答面试官才稳 dubbo 面试18问 拜托！面试请不要再问我Spring Cloud底层原理 稳了！Java并发编程71道面试题及答案 【附答案】Java面试2019常考题目汇总（一） 这10道springboot常见面试题你需要了解下 JVM面试题巧用这19条MySQL优化，效率至少提高3倍 长按关注，更多精彩","@type":"BlogPosting","url":"/2019/04/09/728209.html","headline":"Spring Boot 应用容器化之 Docker、Gradle","dateModified":"2019-04-09T00:00:00+08:00","datePublished":"2019-04-09T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/2019/04/09/728209.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-1');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>Spring Boot 应用容器化之 Docker、Gradle</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="rich_media_content" id="js_content"> 
   <blockquote style="line-height:inherit;font-size:.9em;color:rgb(129,145,152);border-left-width:6px;border-left-color:rgb(220,230,240);background:rgb(242,247,251);">
    <p style="font-size:inherit;color:inherit;line-height:inherit;">本文演示了如何用 Docker、Gradle 来构建、运行、发布来一个 Spring Boot 应用。</p>
   </blockquote>
   <h1 style="color:inherit;line-height:inherit;font-weight:bold;font-size:1.6em;"><span style="font-size:inherit;color:inherit;line-height:inherit;">Docker 简介</span></h1>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">Docker 是一个 Linux 容器管理工具包，具备“社交”方面，允许用户发布容器的 image (镜像)，并使用别人发布的 image。Docker image 是用于运行容器化进程的方案，在本文中，我们将构建一个简单的 Spring Boot 应用程序。</p>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">有关 Docker 的详细介绍，可以移步至 《简述 Docker》</p>
   <h1 style="color:inherit;line-height:inherit;font-weight:bold;font-size:1.6em;"><span style="font-size:inherit;color:inherit;line-height:inherit;">前置条件</span></h1>
   <ul class="list-paddingleft-2">
    <li><p><span style="font-size:inherit;color:inherit;line-height:inherit;">JDK 1.8+</span></p></li>
    <li><p><span style="font-size:inherit;color:inherit;line-height:inherit;">Gradle 2.3+</span></p></li>
    <li><p><span style="font-size:inherit;color:inherit;line-height:inherit;">Docker 最新版。有关 Docker 在的安装，可以参阅 《Docker 在 CentOS 下的安装、使用》。 如果你的电脑不是 Linux 系统，最好装个虚拟机，在虚拟机里面装个 Linux ，因为 Docker 的依赖 Linux。</span></p></li>
   </ul>
   <h1 style="color:inherit;line-height:inherit;font-weight:bold;font-size:1.6em;"><span style="font-size:inherit;color:inherit;line-height:inherit;">用 Gradle 构建项目</span></h1>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">创建目录结构<br>项目的目录结构因符合 Gradle 的约定。</p>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">在 *nix 系统下执行 mkdir -p src/main/java/docker_spring_boot ,生产如下结构 :</p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);">└──&nbsp;src<br>&nbsp;&nbsp;&nbsp;&nbsp;└──&nbsp;main<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└──&nbsp;java<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└──&nbsp;com<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└──&nbsp;waylau<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└──&nbsp;docker_spring_boot<br></code></pre>
   <h1 style="color:inherit;line-height:inherit;font-weight:bold;font-size:1.6em;"><span style="font-size:inherit;color:inherit;line-height:inherit;">创建 Gradle 构建文件</span></h1>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs cs" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);">build.gradle<br><br>buildscript&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;repositories&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mavenCentral()<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;dependencies&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classpath(<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'org.springframework.boot:spring-boot-gradle-plugin:1.3.3.RELEASE'</span>)<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classpath(<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'se.transmode.gradle:gradle-docker:1.2'</span>)<br><br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br><br>apply&nbsp;plugin:&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'java'</span><br>apply&nbsp;plugin:&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'eclipse'</span><br>apply&nbsp;plugin:&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'idea'</span><br>apply&nbsp;plugin:&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'spring-boot'</span><br><br>apply&nbsp;plugin:&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'docker'</span><br><br><br><br><span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">group</span>&nbsp;=&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'gregturn'</span><br><br>jar&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;baseName&nbsp;=&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'docker-spring-boot-gradle'</span><br>&nbsp;&nbsp;&nbsp;&nbsp;version&nbsp;=&nbsp;&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'1.0.0'</span><br>}<br><br><br><span class="hljs-function" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">task&nbsp;<span class="hljs-title" style="font-size:inherit;line-height:inherit;color:rgb(165,218,45);">buildDocker</span>(<span class="hljs-params" style="font-size:inherit;line-height:inherit;color:rgb(255,152,35);">type:&nbsp;Docker,&nbsp;dependsOn:&nbsp;build</span>)&nbsp;</span>{<br>&nbsp;&nbsp;push&nbsp;=&nbsp;<span class="hljs-literal" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">true</span><br>&nbsp;&nbsp;applicationName&nbsp;=&nbsp;jar.baseName<br>&nbsp;&nbsp;dockerfile&nbsp;=&nbsp;file(<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'src/main/docker/Dockerfile'</span>)<br>&nbsp;&nbsp;doFirst&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;copy&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">from</span>&nbsp;jar<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">into</span>&nbsp;stageDir<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;}<br>}<br><br><br>repositories&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;mavenCentral()<br>}<br><br>sourceCompatibility&nbsp;=&nbsp;<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">1.8</span><br>targetCompatibility&nbsp;=&nbsp;<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">1.8</span><br><br>dependencies&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;compile(<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">"org.springframework.boot:spring-boot-starter-web"</span>)&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;testCompile(<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">"org.springframework.boot:spring-boot-starter-test"</span>)<br>}<br><br><span class="hljs-function" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">task&nbsp;<span class="hljs-title" style="font-size:inherit;line-height:inherit;color:rgb(165,218,45);">wrapper</span>(<span class="hljs-params" style="font-size:inherit;line-height:inherit;color:rgb(255,152,35);">type:&nbsp;Wrapper</span>)&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;gradleVersion&nbsp;=&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'2.3'</span><br>}<br></code></pre>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">Spring Boot gradle plugin 提供了很多方便的功能：</p>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">它收集的类路径上所有 jar 文件，并构建成一个单一的、可运行的“über-jar”（德语，相关解释可以移步至 http://stackoverflow.com/questions/11947037/what-is-an-uber-jar），这使得它更方便地执行和传输服务。</p>
   <h1 style="color:inherit;line-height:inherit;font-weight:bold;font-size:1.6em;"><span style="font-size:inherit;color:inherit;line-height:inherit;">编写 Spring Boot 应用</span></h1>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">编写一个简单的 Spring Boot 应用 ：</p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs kotlin" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);">src/main/java/com/waylau/docker_spring_boot/Application.java:<br><br><span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">package</span>&nbsp;com.waylau.docker_spring_boot;<br><br><span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">import</span>&nbsp;org.springframework.boot.SpringApplication;<br><span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">import</span>&nbsp;org.springframework.boot.autoconfigure.SpringBootApplication;<br><span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">import</span>&nbsp;org.springframework.web.bind.<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">annotation</span>.RequestMapping;<br><span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">import</span>&nbsp;org.springframework.web.bind.<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">annotation</span>.RestController;<br><br><br><span class="hljs-meta" style="font-size:inherit;line-height:inherit;color:rgb(91,218,237);">@SpringBootApplication</span><br><span class="hljs-meta" style="font-size:inherit;line-height:inherit;color:rgb(91,218,237);">@RestController</span><br><span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">public</span>&nbsp;<span class="hljs-class" style="font-size:inherit;color:inherit;line-height:inherit;"><span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">class</span>&nbsp;<span class="hljs-title" style="font-size:inherit;line-height:inherit;color:rgb(165,218,45);">Application</span>&nbsp;</span>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="font-size:inherit;line-height:inherit;color:rgb(91,218,237);">@RequestMapping(<span class="hljs-meta-string" style="font-size:inherit;color:inherit;line-height:inherit;">"/"</span>)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">public</span>&nbsp;String&nbsp;home()&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">return</span>&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">"Hello&nbsp;Docker&nbsp;World."</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">"&lt;br&nbsp;/&gt;Welcome&nbsp;to&nbsp;&lt;a&nbsp;href='http://waylau.com'&gt;waylau.com&lt;/a&gt;&lt;/li&gt;"</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">public</span>&nbsp;static&nbsp;void&nbsp;main(String[]&nbsp;args)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SpringApplication.run(Application.<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">class</span>,&nbsp;args);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>}<br></code></pre>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">解释下上面的代码：</p>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">类用 <code style="font-size:inherit;line-height:inherit;margin-left:2px;color:rgb(233,105,0);background:rgb(248,248,248);">@SpringBootApplication</code> <code style="font-size:inherit;line-height:inherit;margin-left:2px;color:rgb(233,105,0);background:rgb(248,248,248);">@RestController</code> 标识,可用 Spring MVC 来处理 Web 请求。</p>
   <p style="font-size:inherit;color:inherit;line-height:inherit;"><code style="font-size:inherit;line-height:inherit;margin-left:2px;color:rgb(233,105,0);background:rgb(248,248,248);">@RequestMapping</code> 将 / 映射到 home() ，并将”Hello Docker World” 文本作为响应。</p>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">main() 方法使用 Spring Boot 的 SpringApplication.run() 方法来启动应用。</p>
   <h1 style="color:inherit;line-height:inherit;font-weight:bold;font-size:1.6em;"><span style="font-size:inherit;color:inherit;line-height:inherit;">运行程序</span></h1>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">使用 Gradle<br>编译：</p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs nginx" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);"><span class="hljs-attribute" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">gradle</span>&nbsp;build<br></code></pre>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">运行：</p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs nginx" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);"><span class="hljs-attribute" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">java</span>&nbsp;-jar&nbsp;build/libs/docker-spring-boot-gradle-<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">1</span>.<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">0</span>.<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">0</span>.jar<br></code></pre>
   <h2 style="color:inherit;line-height:inherit;font-weight:bold;font-size:1.4em;"><span style="font-size:inherit;color:inherit;line-height:inherit;">访问项目</span></h2>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">如果程序正确运行，浏览器访问 http://localhost:8080/，可以看到页面 “Hello Docker World.” 字样。</p>
   <h1 style="color:inherit;line-height:inherit;font-weight:bold;font-size:1.6em;"><span style="font-size:inherit;color:inherit;line-height:inherit;">将项目容器化</span></h1>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">Docker 使用 Dockerfile 文件格式来指定 image 层，</p>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">创建文件 src/main/docker/Dockerfile:</p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs nginx" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);"><span class="hljs-attribute" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">FROM</span>&nbsp;frolvlad/alpine-oraclejdk8:slim<br>VOLUME&nbsp;/tmp<br>ADD&nbsp;docker-spring-boot-gradle-<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">1</span>.<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">0</span>.<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">0</span>.jar&nbsp;app.jar<br>ENTRYPOINT&nbsp;[<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">"java"</span>,<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">"-Djava.security.egd=file:/dev/./urandom"</span>,<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">"-jar"</span>,<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">"/app.jar"</span>]<br></code></pre>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">解释下这个配置文件：</p>
   <blockquote style="line-height:inherit;font-size:.9em;color:rgb(129,145,152);border-left-width:6px;border-left-color:rgb(220,230,240);background:rgb(242,247,251);">
    <p style="font-size:inherit;color:inherit;line-height:inherit;">VOLUME 指定了临时文件目录为/tmp。其效果是在主机 /var/lib/docker 目录下创建了一个临时文件，并链接到容器的/tmp。改步骤是可选的，如果涉及到文件系统的应用就很有必要了。/tmp目录用来持久化到 Docker 数据文件夹，因为 Spring Boot 使用的内嵌 Tomcat 容器默认使用/tmp作为工作目录</p>
   </blockquote>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">项目的 jar 文件作为 “app.jar” 添加到容器的</p>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">ENTRYPOINT 执行项目 app.jar。为了缩短 Tomcat 启动时间，添加一个系统属性指向 “/dev/urandom” 作为 Entropy Source</p>
   <h1 style="color:inherit;line-height:inherit;font-weight:bold;font-size:1.6em;"><span style="font-size:inherit;color:inherit;line-height:inherit;">构建 Docker Image</span></h1>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">执行构建成为 docker image:</p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs nginx" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);"><span class="hljs-attribute" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">gradle</span>&nbsp;build&nbsp;buildDocker<br></code></pre>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">运行<br>运行 Docker Image</p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs ruby" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);">docker&nbsp;run&nbsp;-p&nbsp;<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">8080</span><span class="hljs-symbol" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">:</span><span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">8080</span>&nbsp;-t&nbsp;waylau/docker-spring-boot-gradle<br>[root@waylau&nbsp;spring-boot]<span class="hljs-comment" style="font-size:inherit;line-height:inherit;color:rgb(128,128,128);">#&nbsp;docker&nbsp;run&nbsp;-p&nbsp;8080:8080&nbsp;-t&nbsp;waylau/docker-spring-boot-gradle</span><br><br>&nbsp;&nbsp;.&nbsp;&nbsp;&nbsp;___<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">_</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">_</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">_</span>&nbsp;<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">_</span>&nbsp;<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">_</span><br>&nbsp;/\\&nbsp;/&nbsp;__<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">_</span><span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'_&nbsp;__&nbsp;_&nbsp;_(_)_&nbsp;__&nbsp;&nbsp;__&nbsp;_&nbsp;\&nbsp;\&nbsp;\&nbsp;\<br>(&nbsp;(&nbsp;)\___&nbsp;|&nbsp;'</span><span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">_</span>&nbsp;<span class="hljs-params" style="font-size:inherit;line-height:inherit;color:rgb(255,152,35);">|&nbsp;'_|</span>&nbsp;<span class="hljs-params" style="font-size:inherit;line-height:inherit;color:rgb(255,152,35);">|&nbsp;'_&nbsp;\/&nbsp;_`&nbsp;|</span>&nbsp;\&nbsp;\&nbsp;\&nbsp;\<br>&nbsp;\\/&nbsp;&nbsp;__<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">_</span>)<span class="hljs-params" style="font-size:inherit;line-height:inherit;color:rgb(255,152,35);">|&nbsp;|</span><span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">_</span>)<span class="hljs-params" style="font-size:inherit;line-height:inherit;color:rgb(255,152,35);">|&nbsp;|</span>&nbsp;<span class="hljs-params" style="font-size:inherit;line-height:inherit;color:rgb(255,152,35);">|&nbsp;|</span>&nbsp;<span class="hljs-params" style="font-size:inherit;line-height:inherit;color:rgb(255,152,35);">|&nbsp;|</span><span class="hljs-params" style="font-size:inherit;line-height:inherit;color:rgb(255,152,35);">|&nbsp;(_|</span>&nbsp;<span class="hljs-params" style="font-size:inherit;line-height:inherit;color:rgb(255,152,35);">|&nbsp;&nbsp;)&nbsp;)&nbsp;)&nbsp;)<br>&nbsp;&nbsp;'&nbsp;&nbsp;|</span>___<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">_</span><span class="hljs-params" style="font-size:inherit;line-height:inherit;color:rgb(255,152,35);">|&nbsp;.__|</span><span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">_</span><span class="hljs-params" style="font-size:inherit;line-height:inherit;color:rgb(255,152,35);">|&nbsp;|</span><span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">_</span><span class="hljs-params" style="font-size:inherit;line-height:inherit;color:rgb(255,152,35);">|_|</span>&nbsp;<span class="hljs-params" style="font-size:inherit;line-height:inherit;color:rgb(255,152,35);">|_\__,&nbsp;|</span>&nbsp;/&nbsp;<span class="hljs-regexp" style="font-size:inherit;color:inherit;line-height:inherit;">/&nbsp;/</span>&nbsp;/<br>&nbsp;=========<span class="hljs-params" style="font-size:inherit;line-height:inherit;color:rgb(255,152,35);">|_|</span>==============<span class="hljs-params" style="font-size:inherit;line-height:inherit;color:rgb(255,152,35);">|___/=/_/_/_/<br>&nbsp;::&nbsp;Spring&nbsp;Boot&nbsp;::&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(v1.3.3.RELEASE)<br><br>2016-03-20&nbsp;08:45:51.276&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:45:51.289&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:45:51.722&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:45:54.874&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:45:57.893&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:45:57.982&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:45:57.984&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:45:58.473&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:45:58.473&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:45:59.672&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:45:59.695&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:45:59.701&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:45:59.703&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:45:59.703&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:46:00.862&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:46:01.166&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:46:01.189&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:46:01.190&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:46:01.302&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:46:01.302&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:46:01.438&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:46:01.833&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:46:02.332&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br>2016-03-20&nbsp;08:46:02.343&nbsp;&nbsp;INFO&nbsp;1&nbsp;<br></span></code></pre>
   <h1 style="color:inherit;line-height:inherit;font-weight:bold;font-size:1.6em;"><span style="font-size:inherit;color:inherit;line-height:inherit;">访问项目</span></h1>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">如果程序正确运行，浏览器访问 http://localhost:8080/，可以看到页面 “Hello Docker World.” 字样。</p>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">推送 image 到 Docker Hub<br>首先，你在 Docker Hub 要有注册账号，且创建了相应的库；</p>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">其次，docker 推送前，先要登录，否则报unauthorized: access to the requested resource is not authorized的错误</p>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">执行：</p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs nginx" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);"><span class="hljs-attribute" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">docker</span>&nbsp;login<br></code></pre>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">输出为：</p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs coffeescript" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);">[root@waylau&nbsp;spring-boot]<br>Username:&nbsp;waylau<br>Password:&nbsp;<br>Email:&nbsp;waylau521@gmail.com<br>WARNING:&nbsp;login&nbsp;credentials&nbsp;saved&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">in</span>&nbsp;<span class="hljs-regexp" style="font-size:inherit;color:inherit;line-height:inherit;">/root/</span>.docker/config.json<br>Login&nbsp;Succeeded<br></code></pre>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">执行推送</p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs perl" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);">docker&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">push</span>&nbsp;waylau/docker-spring-boot-gradle<br>[root@waylau&nbsp;spring-boot]<br>The&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">push</span>&nbsp;refers&nbsp;to&nbsp;a&nbsp;repository&nbsp;[docker.io/waylau/docker-spring-boot-gradle]<br><span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">751</span>d29eef02e:&nbsp;Layer&nbsp;already&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">exists</span>&nbsp;<br><span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">4</span>da3741f39c7:&nbsp;Pushed&nbsp;<br><span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">5</span>f70bf18a086:&nbsp;Layer&nbsp;already&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">exists</span>&nbsp;<br><span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">7</span>e4d0cb13643:&nbsp;Layer&nbsp;already&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">exists</span>&nbsp;<br><span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">8</span>f045733649f:&nbsp;Layer&nbsp;already&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">exists</span>&nbsp;<br>latest:&nbsp;digest:&nbsp;sha256:eb4d5308ba1bb27489d808279e74784bda6761b3574f4298d746abba59b35164&nbsp;size:&nbsp;<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">9415</span><br></code></pre>
   <h1 style="color:inherit;line-height:inherit;font-weight:bold;font-size:1.6em;"><span style="font-size:inherit;color:inherit;line-height:inherit;">镜像加速器</span></h1>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">Docker Hub 在国外，有时候拉取 Image 极其缓慢，可以使用国内的镜像来实现加速</p>
   <h2 style="color:inherit;line-height:inherit;font-weight:bold;font-size:1.4em;"><span style="font-size:inherit;color:inherit;line-height:inherit;">阿里云</span></h2>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs php" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);"><span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">echo</span>&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">"DOCKER_OPTS=\"--registry-mirror=https://yourlocation.mirror.aliyuncs.com\""</span>&nbsp;|&nbsp;sudo&nbsp;tee&nbsp;-a&nbsp;/etc/<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">default</span>/docker<br>sudo&nbsp;service&nbsp;docker&nbsp;restart<br></code></pre>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">其中 https://yourlocation.mirror.aliyuncs.com 是您在阿里云注册后的专属加速器地址：</p>
   <h2 style="color:inherit;line-height:inherit;font-weight:bold;font-size:1.4em;"><span style="font-size:inherit;color:inherit;line-height:inherit;">DaoCloud</span></h2>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs php" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);">sudo&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">echo</span>&nbsp;“DOCKER_OPTS=\”\$DOCKER_OPTS&nbsp;–registry-mirror=http:<br>sudo&nbsp;service&nbsp;docker&nbsp;restart<br>其中&nbsp;http:<span class="hljs-comment" style="font-size:inherit;line-height:inherit;color:rgb(128,128,128);">//your-id.m.daocloud.io&nbsp;是您在&nbsp;DaoCloud&nbsp;注册后的专属加速器地址：</span><br></code></pre>
   <h1 style="color:inherit;line-height:inherit;font-weight:bold;font-size:1.6em;"><span style="font-size:inherit;color:inherit;line-height:inherit;">源码</span></h1>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">获取项目源码， https://github.com/waylau/docker-demos 中的 samples/spring-boot-gradle</p>
   <p style="font-size:inherit;color:inherit;line-height:inherit;">获取项目镜像， 执行</p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs nginx" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);"><span class="hljs-attribute" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">docker</span>&nbsp;pull&nbsp;waylau/docker-spring-boot-gradle<br></code></pre>
   <h1 style="color:inherit;line-height:inherit;font-weight:bold;font-size:1.6em;"><span style="font-size:inherit;color:inherit;line-height:inherit;">参考引用</span></h1>
   <ul class="list-paddingleft-2">
    <li><p style="font-size:inherit;color:inherit;line-height:inherit;">http://spring.io/guides/gs/spring-boot-docker/</p></li>
    <li><p style="font-size:inherit;color:inherit;line-height:inherit;">https://hub.docker.com/r/waylau/docker-spring-boot-gradle/</p></li>
   </ul>
   <blockquote style="line-height:inherit;font-size:.9em;color:rgb(129,145,152);border-left-width:6px;border-left-color:rgb(220,230,240);background:rgb(242,247,251);">
    <p style="font-size:inherit;color:inherit;line-height:inherit;">作者：waylau<br>来源：https://waylau.com/docker-spring-boot-gradle/</p>
   </blockquote>
   <p><br></p>▼往期精彩回顾▼
   <p style="font-size:15px;letter-spacing:2px;font-family:'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><a href="http://mp.weixin.qq.com/s?__biz=MzA3ODQ0Mzg2OA==&amp;mid=2649049068&amp;idx=1&amp;sn=530ed5ee346befd2ea6714bece98fd32&amp;chksm=875343dfb024cac90570b76a38b1c4f7585d175a9d2fd184ebaf95c6bdac42c27e8a7ec4d880&amp;scene=21#wechat_redirect" rel="nofollow">微服务为什么一定要用docker</a><br></p>
   <p style="font-size:15px;letter-spacing:2px;font-family:'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><a href="http://mp.weixin.qq.com/s?__biz=MzA3ODQ0Mzg2OA==&amp;mid=2649049182&amp;idx=1&amp;sn=d46bbd5d06a73a4a37dcb0d8da8b389b&amp;chksm=87534c6db024c57b6bbf082bd97fad5bde28ce20f89cf6b3dfe867384d41b458a1e5c4d7382a&amp;scene=21#wechat_redirect" rel="nofollow">使用docker部署spring cloud项目详细步骤</a><br></p>
   <p style="font-size:15px;letter-spacing:2px;font-family:'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><a href="http://mp.weixin.qq.com/s?__biz=MzA3ODQ0Mzg2OA==&amp;mid=2649049182&amp;idx=2&amp;sn=14a35a0d0c7d0b1b7429992ab07e36df&amp;chksm=87534c6db024c57b456573d3ee417b0e1fe759c2f85bed86b368a86ba2c3e85a7137faf7d53a&amp;scene=21#wechat_redirect" rel="nofollow">几道和「堆栈、队列」有关的面试算法题</a><br></p>
   <p style="font-size:15px;letter-spacing:2px;font-family:'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><a href="http://mp.weixin.qq.com/s?__biz=MzA3ODQ0Mzg2OA==&amp;mid=2649049168&amp;idx=1&amp;sn=829ead3661e4725dca062f2021caf7d6&amp;chksm=87534c63b024c575fcdff6f0f9b775b7453c33d1ebf0803ab91c0b4c75dfbc04395c5863ecce&amp;scene=21#wechat_redirect" rel="nofollow">在Spring Boot中格式化JSON日期</a><br></p>
   <p style="font-size:15px;letter-spacing:2px;font-family:'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><a href="http://mp.weixin.qq.com/s?__biz=MzA3ODQ0Mzg2OA==&amp;mid=2649049157&amp;idx=1&amp;sn=5b339f8968c74b51b8ce786f0bb9996a&amp;chksm=87534c76b024c560df685ee2e1a902e5c6f1b92ce5a638dbe82515ccd97fc8045ceca743fb0c&amp;scene=21#wechat_redirect" rel="nofollow">使用windows版Docker并在IntelliJ IDEA使用Docker运行Spring Cloud项目</a><br></p>
   <p style="font-size:15px;letter-spacing:2px;font-family:'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><a href="http://mp.weixin.qq.com/s?__biz=MzA3ODQ0Mzg2OA==&amp;mid=2649049145&amp;idx=2&amp;sn=fa191f98b4d8a3e74cba91b5ce16acbc&amp;chksm=87534c0ab024c51cdb8e14f31df01a49c8c725add2567182ba5ca40481d4fb575bfa7b9b36f9&amp;scene=21#wechat_redirect" rel="nofollow">Springboot项目的接口防刷</a><br></p>
   <p style="font-size:15px;letter-spacing:2px;font-family:'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><a href="http://mp.weixin.qq.com/s?__biz=MzA3ODQ0Mzg2OA==&amp;mid=2649049141&amp;idx=2&amp;sn=005a1392da010954b3db14ead37aad8b&amp;chksm=87534c06b024c51028dfc0773e0f9cb03c132e7424bf7400ecac421b5939677bae53ab71b882&amp;scene=21#wechat_redirect" rel="nofollow">实体与模型之间的映射,就用Mapstruct</a></p>
   <p style="font-size:15px;letter-spacing:2px;font-family:'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><a href="http://mp.weixin.qq.com/s?__biz=MzA3ODQ0Mzg2OA==&amp;mid=2649049132&amp;idx=1&amp;sn=3468c65313a1643fecb00169d7027000&amp;chksm=87534c1fb024c5095beb91ef00ad7b44cd689261609cec8e7da765b5c92bec8175481b4a0634&amp;scene=21#wechat_redirect" rel="nofollow">Java高级开发必会的50个性能优化的细节（珍藏版）</a><br></p>
   <p style="font-size:15px;letter-spacing:2px;font-family:'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><a href="http://mp.weixin.qq.com/s?__biz=MzA3ODQ0Mzg2OA==&amp;mid=2649049114&amp;idx=1&amp;sn=7c8a4325319ee6bc9fd31fc15db90b8f&amp;chksm=87534c29b024c53fcd240f8511ce65a5cf2f4dc233d6b4b771b6cd342f9900a9999913cfa576&amp;scene=21#wechat_redirect" rel="nofollow">记下来，spring 装配bean的三种方式！</a><br></p>
   <p style="font-size:15px;letter-spacing:2px;font-family:'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><a href="http://mp.weixin.qq.com/s?__biz=MzA3ODQ0Mzg2OA==&amp;mid=2649049109&amp;idx=1&amp;sn=33dc89b06119576b269280f476130621&amp;chksm=87534c26b024c530ab58c1d94507a34a209409e0e4f4b54745892a19ce57ab078f215da87ec3&amp;scene=21#wechat_redirect" rel="nofollow">厉害！这届码农追星玩出了新花样</a><br></p>
   <p style="font-size:15px;letter-spacing:2px;font-family:'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><a href="http://mp.weixin.qq.com/s?__biz=MzA3ODQ0Mzg2OA==&amp;mid=2649049065&amp;idx=2&amp;sn=9cb669cad49f5c7bbf49dc59ec54d55c&amp;chksm=875343dab024cacc90dc5e19cecf800087fe9dc7fc79f332bed9187b0a4a0ba2169e5b112d29&amp;scene=21#wechat_redirect" rel="nofollow">Java生成二维码</a><br></p>
   <p style="font-size:15px;letter-spacing:2px;font-family:'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><a href="http://mp.weixin.qq.com/s?__biz=MzA3ODQ0Mzg2OA==&amp;mid=2649049106&amp;idx=1&amp;sn=ac465104982aa3e51b8f5e79815a74a2&amp;chksm=87534c21b024c537f903ad3883fc43d45c487eefa2e92d84400ec6d1d00f8e61b818ade152cd&amp;scene=21#wechat_redirect" rel="nofollow">与 30 家公司过招，得到了这章面试心法</a><br></p>
   <p style="font-size:15px;letter-spacing:2px;font-family:'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><a href="http://mp.weixin.qq.com/s?__biz=MzA3ODQ0Mzg2OA==&amp;mid=2649049096&amp;idx=1&amp;sn=f7bd569c81bef356a16489253cfe5bec&amp;chksm=87534c3bb024c52d4ebab45c45f0edf5a720df0a72e67298f09d9a20d2e9e3f415c2af49a0b5&amp;scene=21#wechat_redirect" rel="nofollow">一道让你拍案叫绝的算法题</a><br></p>
   <p style="font-size:15px;letter-spacing:2px;font-family:'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><a href="http://mp.weixin.qq.com/s?__biz=MzA3ODQ0Mzg2OA==&amp;mid=2649048999&amp;idx=1&amp;sn=ca3efda9a37983d1bd8500f649121e8f&amp;chksm=87534394b024ca826a1f1cdd1256c97fc41b5bce38a72f286fd97019a5a9b0eeb51b2b9b9b88&amp;scene=21#wechat_redirect" rel="nofollow">了解一下Spring中用了哪些设计模式？这样回答面试官才稳</a></p>
   <p style="font-size:15px;letter-spacing:2px;font-family:'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><a href="http://mp.weixin.qq.com/s?__biz=MzA3ODQ0Mzg2OA==&amp;mid=2649049036&amp;idx=1&amp;sn=3b04d1383043cb8f34a51c3bf9bd8235&amp;chksm=875343ffb024cae95c2b7f742a1e62c403c38deeb46cb2ceb6e00fd4ed1bde83d8400d589b97&amp;scene=21#wechat_redirect" rel="nofollow">dubbo 面试18问</a><br></p>
   <p style="font-size:15px;letter-spacing:2px;font-family:'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><a href="http://mp.weixin.qq.com/s?__biz=MzA3ODQ0Mzg2OA==&amp;mid=2649049002&amp;idx=1&amp;sn=fc0428835f97198258c5e670e7e9c16b&amp;chksm=87534399b024ca8fac0d20f8dac0b2da990369820c4acfd635525a641a9292f8428522015692&amp;scene=21#wechat_redirect" rel="nofollow">拜托！面试请不要再问我Spring Cloud底层原理</a><br></p>
   <p style="font-size:15px;letter-spacing:2px;font-family:'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><a href="http://mp.weixin.qq.com/s?__biz=MzA3ODQ0Mzg2OA==&amp;mid=2649048995&amp;idx=1&amp;sn=4edf6f841a9ca77356eba5c2b4388152&amp;chksm=87534390b024ca86ece393afea1d460d337b79b0ac916be12b083d094ad1b333595257ec624d&amp;scene=21#wechat_redirect" rel="nofollow">稳了！Java并发编程71道面试题及答案</a></p>
   <p style="font-size:15px;letter-spacing:2px;font-family:'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><a href="http://mp.weixin.qq.com/s?__biz=MzA3ODQ0Mzg2OA==&amp;mid=2649048987&amp;idx=1&amp;sn=51d695e336a15f4f83a040667329c6e9&amp;chksm=875343a8b024cabe3ca4731992a648f75779f83ad65615d2a6a00fd980c449a285d6b8ad8a83&amp;scene=21#wechat_redirect" rel="nofollow">【附答案】Java面试2019常考题目汇总（一）</a></p>
   <p style="font-size:15px;letter-spacing:2px;font-family:'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><a href="http://mp.weixin.qq.com/s?__biz=MzA3ODQ0Mzg2OA==&amp;mid=2649048975&amp;idx=1&amp;sn=b0eecd92b2d033647713ecd21216acb1&amp;chksm=875343bcb024caaa849ff589131cc4ff6269619fe1094a71554b79a25e14681ea74c93558711&amp;scene=21#wechat_redirect" rel="nofollow">这10道springboot常见面试题你需要了解下</a></p>
   <p style="font-size:15px;letter-spacing:2px;font-family:'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><a href="http://mp.weixin.qq.com/s?__biz=MzA3ODQ0Mzg2OA==&amp;mid=2649048958&amp;idx=2&amp;sn=c27caee93cdbdb67642f603a3a4947de&amp;chksm=8753434db024ca5bc19aded90a12cb7cb7f6220d70974a9034c9b7683f9cfd2a500d55d4e7cb&amp;scene=21#wechat_redirect" rel="nofollow">JVM面试题</a><br><a href="http://mp.weixin.qq.com/s?__biz=MzA3ODQ0Mzg2OA==&amp;mid=2649049010&amp;idx=1&amp;sn=3fbd48429e2d384cc9cfb888460f0dff&amp;chksm=87534381b024ca97a7b03c23f0063759dcd88440fa119fc98223ed41ca5fe157aa640174648a&amp;scene=21#wechat_redirect" rel="nofollow">巧用这19条MySQL优化，效率至少提高3倍</a><br></p>
   <p style="letter-spacing:.544px;font-size:15px;font-family:'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/sG1icpcmhbiaDibCb0MpMDoQ657RBycRPEFCtEL0Ktpiakqt3ibT1qbyEpqZjy8PowShHgthU3OicBUfGe3uFqXYXc5Q/640?wx_fmt=jpeg" alt="640?wx_fmt=jpeg"></p>
   <p style="letter-spacing:.544px;font-size:15px;font-family:'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><span style="color:rgb(0,0,0);"><strong>长按关注，更多精彩</strong></span></p>
  </div> 
 </div> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?ee64533f3c6a7a284cd39a37ee732c8b";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
