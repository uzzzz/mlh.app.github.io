<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>【原创】聊天机器人与自动问答技术 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="【原创】聊天机器人与自动问答技术" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 聊天机器人与自动问答技术 作者：mjs （360电商技术） 引言 最近半年，微软的聊天机器人小冰比较火，有些人对这方面的技术产生了兴趣，恰好之前做过自动问答方面的一些简单工作，这次写一篇应景之作，供IT技术男在坐马桶时打发一会时间。 聊天机器人属于自动问答(Question Answering)的一个方向，对它的研究很大一部分源自于图灵测试。1995年Dr. Richard开发设计了聊天机器人Alice，并于2000年和2001年获得了AI领域的最高荣誉洛伯纳奖。国内也有过一些类型产品，比如2004年曾登录MSN的小i机器人。 但无论是在学术界还是产业界，聊天机器人的方向都不受重视，究其原因，从学术的角度讲，核心技术是自动问答，那大家就直接研究自动问答好了；从产业的角度讲，聊天机器人的实用价值有限，除了尝鲜逗乐，谁会去跟一个机器没完没了的聊天呢。如果聊天机器人能回答有实用价值的问题，那就又回到了自动问答上：你只要回答用户的实际问题就可以了，完全可以不理会诸如“我帅吗”、“去你大爷”这样的问题。 那为什么已经消停近10年的聊天机器人又火了呢，我猜可能是手机用户多，尝鲜逗乐的人基数大，也可能和某个电商公司上市有关，万事万物都有联系，谁知道呢。 说完了历史，我们开始面对枯燥的技术问题。自动问答是指用户以自然语言提问的形式提出信息查询需求，系统依据对问题的分析，从各种数据资源中自动找出准确的答案。从系统功能上讲，自动问答分为开放域自动问答和限定域自动问答。开放域是指不限定问题领域，用户随意提问，系统从海量数据中寻找答案；限定域是指系统事先声明，只能回答某一个领域的问题，其他领域问题无法回答。 开放域和限定域，两者的难度差别，没做过的人也能想象出来。学术界对开放域自动问答研究的比较多，因为他们的输出成果是发论文，所以专选困难的、别人没做出来的事情做。产业界需要解决实际问题，并且要计算回报是否大于付出的成本，所以他们通常面向自己的领域，做限定域自动问答。目前市场上已经有很多限定域对话系统、基于FAQ的问答系统等实际应用。 这里主要从学术角度讲一下开放域自动问答的技术实现。 技术方案 问答系统一般的体系结构 总体来看，一个典型的问答系统一般包含有：问题分析，文档和句段（passage）检索，答案抽取和生成。在该体系结构下，系统接受用户的问题并给出反应的一般过程如下图： 图1&nbsp;开放域问答系统一般的体系结构 通过对用户问题的分析，明确其预期的答案类型以及答案与问题中其它词之间的约束关系，为答案抽取提供约束条件；相关文档检索从海量文档集中检索到包含答案的文档；通过文档句段检索，从相关文档中提取出包含答案的文档块，以进一步减少答案抽取所需处理的内容；而利用问题分析阶段产生的各种约束条件，答案抽取和生成模块从文档句段中提取出答案。 问题分析 问题的分类 对问题的分类有不同的维度，可以单纯根据问题类型分。我之前做过一个工作，对141670个真实问题进行分析，根据问句的形式和提问的内容将问句分为10大类，类型和比列如表1所示。 表1&nbsp;问句类型和比例 类型 实体(Entity) 方式(How) 判断(Judge) 原因(Why) 数字(Number) 比例 32.10% 26.0% 13.72% 7.12% 6.45% 类型 人物(Human) 地点(Location) 时间(Time) 定义(Definition) 其他(Other) 比例 5.63% 2.40% 2.22% 1.32% 2.87% 从答案类型的角度分，可以把问题分为事实型问题、列举型问题、定义型问题和交互型问题，限于篇幅，这里不对每种问题类型举例。 问题分类可看作是特殊的文本分类。相对于文本，问句一般比较简短，可采用的特征较少，但更容易进行深层的语法和语义分析。现有问题分类的方法主要有两基于规则的方法和基于统计机器学习的方法，这里不做展开介绍。 预期答案与问句词之间的关系获取 不同的答案提取算法，需要不同的答案上下文约束条件。在预期答案与问句关键词的关系方面，现有的表示方法有： （1）简单共现关系。如对预期答案的约束条件就是答案与问句关键词之间的共现关系，以及预期答案所属的命名实体类型。 （2） 句法依存关系。把问句表示成预期答案与问句关键词及这些词汇之间的句法依存关系。 （3）浅层语义关系。对问句进行浅层语义分析，将问题表示成核心词与语义角色的集合。 相关文档和文档句段检索 事实型和列举型问题的相关文档检索 为了减少答案抽取所需处理的数据量，需要从海量的文档集中检索出可能包含答案的相关文档。对于问答的检索，需要解决的问题有：检索模型的选择，需要检出的文档数量、查询输入的构造与反馈技术的应用。 检索模型主要有向量空间模型、布尔模型和统计语言模型。Moldovan与Harabagiu的研究表明，布尔模型更适合于问答系统[1,2]，主要是布尔模型更容易构造反馈结构。若检索结果太多，可以增加查询关键词以加强查询条件；若检索结果太少而找不到答案，则可以减少查询关键词。 检出的文档数量上，应该返回尽量多的文档，以确保包含答案的文档在检索结果中。但另一方面，返回太多的检索结果，会导致后续的答案抽取性能下降。原因是返回的结果越多，其中包含的不相关文档也就越多，这反而影响了答案的抽取。 根据问句构造检索的查询输入有很多方法。最简单的是将问句中非停用词作为查询关键词，缺点是，有些不包含关键词的文档却包含答案。因此，需要进行关键词扩展等处理。扩展的方法主要有： （1） 词干提取(stemming)。这个主要适用于英语； （2）伪相关反馈。这个适合数据少的情况，对问答容易产生噪音干扰； （3） 同义词和语义相关词扩展方法。这是最有效，也是使用最多的方法。主要包括基于特定知识库的扩展、基于检索结果的扩展和基于统计机器学习方法的扩展。 事实型和列举型问题的相关文档句段检索 在检索到的相关文档中，进一步把可能包含答案的文档句段提取出来，以减少答案抽取所需处理的内容。这也是目前很多问答系统采用的方法。 （1）句段的切分 进行文档句段检索时，首要的问题是如何将一个文档切成多个句段。有些将相关文档句段定义为一个句子，有些定义为n个句子，还有些定义为一个连续的词序列，序列边界可以在一个句子的中间，有些把一个子话题作为一个句段。 （2）句段检索方法 最简单的是计算句段和问题之间匹配的词个数，将该数目作为句段的排序权值，还有些是计算问题和句段之间的余弦相似度。和相关文档的检索相类似，很多包含答案的句段，并不一定包含问句关键词，这需要用WordNet等同义词资源来对词进行扩展。 （3）句段检索的文档范围 参与TREC评测的问答系统中，大部分都是先从海量数据集中检索出可能包含答案的文档，然后在这少量的文档中进行句段检索。但有一些系统，是直接在整个原始数据集中进行相关句段检索。 定义型问题的相关文档检索 定义型问题的特点是问题中包含很少的限定信息，因而使查询输入构造更困难。如问题“What is the&nbsp;vagus nerve?”，其中的“What”、“is”、“the”三个词都属于检索的停用词，可用的查询关键词只有待定义的目标词“vagus nerve”。但如果只用定义目标作为查询关键词，则检索时会返回太多的文档，使真正包含定义的文档淹没在检索结果中，最终影响了定义信息的抽取。 因此，定义型问题的文档检索需要有查询扩展。显然，这种扩展必须要利用现有的各种知识资源，如舍费尔德大学的Gaizauskas等[3]利用了WordNet、大英百科全书、Web来获取扩展词。扩展时，从WordNet中查找对定义目标词的注释， 从百科全书中查找包含定义目标词的句子，从Web检索包含满足模式的且包含定义目标词的句子，然后从这些注释或者句子中选择关键词作为对定义目标词的扩展。 答案的抽取和生成 在检索出可能包含答案的文档句段之后，需要将满足约束条件的候选答案抽取出来，并对候选答案进行排序或者去重等处理，生成最终的答案返回给用户。 事实型与列举型问题的答案抽取排序 对于简单事实型问题，一般都是采用某个答案抽取方法，从排好序的相关文档句段中抽取出多个候选答案，然后对这些候选答案进行排序，排名第一的被作为最终答案返回。 对于列举型问题，许多研究都是使用和事实型问题相同的答案抽取和排序方法，只是在返回结果时，将排序分值超过一定阈值的多个候选答案作为最终结果。也有研究利用各种在线知识库和网页中的表格来抽取答案。 对已有答案抽取方法进行总结，可以归类为： （1）基于词袋模型的简单匹配 在文档句段中抽取和预期答案类型相一致的命名实体作为候选答案。对答案排序时，可以综合其所在文档句段的排序和在所有文档句段中出现的次数作为排序分值。 （2）基于表层模式匹配 基本思想是，问题的答案和问句关键词之间总有某些特定的表层关系。因此，算法不使用太多深层的语言处理，而是从文档句段中抽取出满足规则模式的候选答案。候选答案的排序要综合考虑所在文档句段的排序分值、规则权值、出现总次数。模式构造方式有手工构造方式和自动学习方式。 （3）基于语法结构比较 基本思想是，如果候选句子中的候选答案与问句词之间的语法结构，和在问题中疑问短语与问句词之间的语法结构能良好匹配，则该候选答案很可能是正确答案。比较方法有：基于语法结构模式的匹配；语法结构的严格匹配； 语法结构的统计匹配 （4）基于海量数据的冗余特性 基本思想就是在海量的文档集中，总会存在和问题描述方式相近的答案句子；而且一般来说，正确答案与问句关键词在检索结果中共现的次数要相对更多。因此，可以不用复杂的语言处理技术，而使用浅层语言技术辅助简单统计方法就可确定答案，同时取得不错的性能。 Web是海量数据的最好实例。从近几年参与TREC问答评测的系统看，几乎都会利用Web，同时会明显提高系统性能。 （5）基于答案的逻辑推理验证 使用逻辑推理进行答案选择和验证的研究主要在LCC公司的Moldovan和Harabagiu所带领的研究组，他们的系统也在历次TREC问答评测中取得了最好的性能。 基本思想是：从相关文档句段中抽取出多个满足问题预期答案类型的命名实体作为候选答案，根据这些候选答案在文档句段和Web上出现的次数等因素对它们进行初始排序；然后，利用逻辑推理的方法验证这些候选答案的正确性，验证正确则为最终答案[4]。 （6）基于多特征的统计机器学习方法 利用特定类型的单一特征总会存在不足。一种方法是将多种特征结合起来，发挥它们在不同条件下各自的优势。 这种类型系统的经典之一是IBM的统计问答系统[5]，用最大熵模型的概率大小来选择答案。特征包括：1）句子特征：问题和候选句间匹配的词和依存弧的分值等；2）实体特征：候选句中是否包含期望的命名实体类型；3）语言特征：候选答案是否是特定动词的主语或宾语等；4）词汇模式特征：候选句是否匹配某种词汇模式；5）候选答案的Web冗余特征。 定义型问题的答案抽取和生成 从现有的系统看，从相关文档中抽取、生成定义包含这几步：1)&nbsp;候选定义句子抽取：从文档中抽取出对目标进行描述、定义的句子；2)候选句子排序：对句子的重要程度进行区分；3)冗余信息去除：去除和已有句子在描述上重复的句子，去除句子中对目标定义无意义的部分；4)定义生成：将没有冗余信息的候选句子组织、综合成流利的定义描述。 （1）候选定义句子抽取与排序 抽取候选定义句子时，许多系统都利用规则来识别句子，而规则的设计都是利用各种特定的表征定义型句子的特征(称为定义型语言构造，definitional linguistic contructs)。这些特征包括：词法-语法表层模式(如“&lt;TARGET&gt;, the $NNP”)；语法解析树的模式；同位语(Appositives)；系动词(Copulas)；定语从句(Relative Clauses)；谓词和动词短语(Predicates and Verb Phrases)。 对候选定义句进行排序时，一般是首先给定义目标构造一个质心向量(centroid vector)，然后依据各个候选句和该质心向量的相似度大小对候选句排序。质心向量中的词来源于全部候选句子，是和定义目标紧密相关、在外部资源（如Web、在线百科全书、知识辞典）中和定义目标经常共现的词。也有系统利用外部资源中的定义，对和外部定义有较高覆盖度的候选句子增加额外的权值。 （2）候选定义句子中冗余信息过滤与去除。 一个是冗余句子过滤，大多是采用多文档文摘中的方法，主要有基于词的句子过滤，和基于n-gram覆盖的句子过滤[6]。另外一个是冗余短语去除。在候选定义句子中，不可避免会有一些与目标定义无关的短语。采用的去除方法主要也是多文档文摘中已有的方法，如用特定的词法-语法特征识别冗余短语，然后将这些短语删除。 交互式问答中的答案抽取与生成 交互式问答的特点就是系统和用户之间有“对话”，这种对话并不只是“用户问”和“系统答”的过程。在交互过程中，一方面，用户输入不仅有特定信息查找的问题，也有属于对话的礼节性语句；另一方面，系统也可以主动提问或者提示，通过协商来明晰用户的真正需求。 聊天机器人是交互式问答的一种主要形式，这个容易理解，大家都熟悉的微软小冰就是聊天机器人。以前的方法主要是模板匹配。如约克大学的Quarteroni等[7]用AIML解释器来实现对话接口管理，对一般礼节性的应答采用模式匹配方法从问/答模式库中选择答案。模式库的建立一方面借助人工设计，另一方面利用模拟试验来获取。 AIML(Artificial Intelligence Markup Language)，是一种基于XML的人工智能标记语言，来源于那个叫Alice的聊天机器人。下面是一个AIML的例子： &lt;category&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;pattern&gt;聊什么呢&lt;/pattern&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;template&gt;一起聊电影好吗&lt;/template&gt; &lt;/category&gt; &lt;category&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;pattern&gt;好&lt;/pattern&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;that&gt;一起聊电影好吗&lt;/that&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;template&gt;那你喜欢什么电影&lt;/template&gt; &lt;/category&gt; &lt;category&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;pattern&gt;好&lt;/pattern&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;template&gt;什么意思&lt;/template&gt; &lt;/category&gt; &nbsp; &nbsp;另外一种就是基于隐式反馈的答案正确性自动评估。即通过用户后续的反应，对输出结果进行自动评估，然后根据评估结果对后续的检索、答案抽取方法进行调整和改进。还有可以通过“建议”和“提示”问题输出答案。在交互过程中，系统在给出答案的同时，也自动给出一些用户在后续可能会提出的问题，则会显著提高用户的满意度。 总结 上面主要对学术界在自动问答领域所做的研究做了一下概述，产业界的相关工作没有涉及，产业界似乎没有人做过开放域自动问答，主要是对某一领域做限定域自动问答，比如针对自己的业务，做基于FAQ的自动问答；或者是针对某一场景做自动语音对话，等等。 但产业界的工作一般不公开，具体是怎么做的，别人也不清楚。另外，我的经验是，产业界通常不会像学术界那样，应用高深的理论和复杂的方法去解决问题，通常是使用简单得不能再简单的方式处理问题，这样做会导致一个结果：虽然做出了一个实用的系统，但是没有什么可说的，或者说出来之后，别人一听就明白了，然后说：“啊，这么简单，你们也没做什么呀”。 就像我之前做过的所谓自动问答：先选出人工事先回答好的问答对存起来，用户提问时，就和问答对的问题做匹配，匹配上了，就返回答案，匹配不上，就去搜索。嗯，就这么简单。 参考文献： [1] &nbsp;&nbsp;Moldovan D., Pasca M., Harabagiu S., and Surdeanu&nbsp;M. Performance issues and error analysis in an open-domain question answering system. ACM Transactions on Information Systems, 2003,&nbsp;21(2):133--154. [2] &nbsp;&nbsp;Harabagiu&nbsp;S., Moldovan&nbsp;D., Pasca&nbsp;M., Mihalcea&nbsp;R., Bunescu&nbsp;R., Girju&nbsp;R., Rus&nbsp;V., and Morarescu&nbsp;P. Falcon: Boosting knowledge for answer engines.&nbsp;In: Proceedings of the Ninth Text REtrieval Conference [3] &nbsp;&nbsp;Gaizauskas R., Greenwood&nbsp;M. A.,&nbsp;Hepple&nbsp;M., Roberts&nbsp;I., Saggion&nbsp;H.&nbsp;and Sargaison&nbsp;M.The University of Sheffield’s TREC 2003 Q&amp;A Experiments. In: Proceedings of the 12th Text Retrieval [4] &nbsp;&nbsp;Harabagiu S., Moldovan D. I., Clark C., Bowden M., Hickl A. and Wang P. Employing Two Question Answering Systems in TREC-2005. In: Proceedings of the 14th Retrieval Conference (TREC 2005).&nbsp;Gaithersburg: NIST Special Publication: 2005. [5] &nbsp;&nbsp;Ittycheriah&nbsp;A., Franz&nbsp;M., and Roukos&nbsp;S. IBM’s&nbsp;statistical question answering system—TREC-10. In:&nbsp;Proceedings of the 10th Text REtrieval Conference&nbsp;(TREC 2001). Gaithersburg,Maryland:&nbsp;NIST Special Publication, 2002. [6] &nbsp;&nbsp;Cui&nbsp;H., Kan&nbsp;M.-Y.&nbsp;and Chua&nbsp;T.-S.&nbsp;Soft Pattern Matching Models for Definitional Question Answering.&nbsp;to appear in ACM Transactions on Information Systems (TOIS).&nbsp;2007.&nbsp;http://www.cuihang.com. [7] &nbsp;&nbsp;Quarteroni&nbsp;S., Manandhar&nbsp;S.. A Chatbot-based Interactive Question Answering System. Proceedings of the 11th Workshop on the Semantics and Pragmatics of Dialogue. Trento, Italy, 2007.&nbsp;83–90. 注： 本文的方法概述主要来自一位做自动问答方向的张姓博士，已经授权本人使用。 本文介绍的方法主要是学术界研究成果，仅供参考，不建议IT男深入研究及尝试。 ------------------------------------------------------------------------------------- 黑夜路人，一个关注开源技术、乐于学习、喜欢分享的程序员 博客：http://blog.csdn.net/heiyeshuwu 微博：http://weibo.com/heiyeluren 微信：heiyeluren2012 &nbsp; 想获取更多IT开源技术相关信息，欢迎关注微信！ 微信二维码扫描快速关注本号码： ​ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 再分享一下我老师大神的人工智能教程吧。零基础！通俗易懂！风趣幽默！还带黄段子！希望你也加入到我们人工智能的队伍中来！https://blog.csdn.net/jiangjunshow" />
<meta property="og:description" content="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 聊天机器人与自动问答技术 作者：mjs （360电商技术） 引言 最近半年，微软的聊天机器人小冰比较火，有些人对这方面的技术产生了兴趣，恰好之前做过自动问答方面的一些简单工作，这次写一篇应景之作，供IT技术男在坐马桶时打发一会时间。 聊天机器人属于自动问答(Question Answering)的一个方向，对它的研究很大一部分源自于图灵测试。1995年Dr. Richard开发设计了聊天机器人Alice，并于2000年和2001年获得了AI领域的最高荣誉洛伯纳奖。国内也有过一些类型产品，比如2004年曾登录MSN的小i机器人。 但无论是在学术界还是产业界，聊天机器人的方向都不受重视，究其原因，从学术的角度讲，核心技术是自动问答，那大家就直接研究自动问答好了；从产业的角度讲，聊天机器人的实用价值有限，除了尝鲜逗乐，谁会去跟一个机器没完没了的聊天呢。如果聊天机器人能回答有实用价值的问题，那就又回到了自动问答上：你只要回答用户的实际问题就可以了，完全可以不理会诸如“我帅吗”、“去你大爷”这样的问题。 那为什么已经消停近10年的聊天机器人又火了呢，我猜可能是手机用户多，尝鲜逗乐的人基数大，也可能和某个电商公司上市有关，万事万物都有联系，谁知道呢。 说完了历史，我们开始面对枯燥的技术问题。自动问答是指用户以自然语言提问的形式提出信息查询需求，系统依据对问题的分析，从各种数据资源中自动找出准确的答案。从系统功能上讲，自动问答分为开放域自动问答和限定域自动问答。开放域是指不限定问题领域，用户随意提问，系统从海量数据中寻找答案；限定域是指系统事先声明，只能回答某一个领域的问题，其他领域问题无法回答。 开放域和限定域，两者的难度差别，没做过的人也能想象出来。学术界对开放域自动问答研究的比较多，因为他们的输出成果是发论文，所以专选困难的、别人没做出来的事情做。产业界需要解决实际问题，并且要计算回报是否大于付出的成本，所以他们通常面向自己的领域，做限定域自动问答。目前市场上已经有很多限定域对话系统、基于FAQ的问答系统等实际应用。 这里主要从学术角度讲一下开放域自动问答的技术实现。 技术方案 问答系统一般的体系结构 总体来看，一个典型的问答系统一般包含有：问题分析，文档和句段（passage）检索，答案抽取和生成。在该体系结构下，系统接受用户的问题并给出反应的一般过程如下图： 图1&nbsp;开放域问答系统一般的体系结构 通过对用户问题的分析，明确其预期的答案类型以及答案与问题中其它词之间的约束关系，为答案抽取提供约束条件；相关文档检索从海量文档集中检索到包含答案的文档；通过文档句段检索，从相关文档中提取出包含答案的文档块，以进一步减少答案抽取所需处理的内容；而利用问题分析阶段产生的各种约束条件，答案抽取和生成模块从文档句段中提取出答案。 问题分析 问题的分类 对问题的分类有不同的维度，可以单纯根据问题类型分。我之前做过一个工作，对141670个真实问题进行分析，根据问句的形式和提问的内容将问句分为10大类，类型和比列如表1所示。 表1&nbsp;问句类型和比例 类型 实体(Entity) 方式(How) 判断(Judge) 原因(Why) 数字(Number) 比例 32.10% 26.0% 13.72% 7.12% 6.45% 类型 人物(Human) 地点(Location) 时间(Time) 定义(Definition) 其他(Other) 比例 5.63% 2.40% 2.22% 1.32% 2.87% 从答案类型的角度分，可以把问题分为事实型问题、列举型问题、定义型问题和交互型问题，限于篇幅，这里不对每种问题类型举例。 问题分类可看作是特殊的文本分类。相对于文本，问句一般比较简短，可采用的特征较少，但更容易进行深层的语法和语义分析。现有问题分类的方法主要有两基于规则的方法和基于统计机器学习的方法，这里不做展开介绍。 预期答案与问句词之间的关系获取 不同的答案提取算法，需要不同的答案上下文约束条件。在预期答案与问句关键词的关系方面，现有的表示方法有： （1）简单共现关系。如对预期答案的约束条件就是答案与问句关键词之间的共现关系，以及预期答案所属的命名实体类型。 （2） 句法依存关系。把问句表示成预期答案与问句关键词及这些词汇之间的句法依存关系。 （3）浅层语义关系。对问句进行浅层语义分析，将问题表示成核心词与语义角色的集合。 相关文档和文档句段检索 事实型和列举型问题的相关文档检索 为了减少答案抽取所需处理的数据量，需要从海量的文档集中检索出可能包含答案的相关文档。对于问答的检索，需要解决的问题有：检索模型的选择，需要检出的文档数量、查询输入的构造与反馈技术的应用。 检索模型主要有向量空间模型、布尔模型和统计语言模型。Moldovan与Harabagiu的研究表明，布尔模型更适合于问答系统[1,2]，主要是布尔模型更容易构造反馈结构。若检索结果太多，可以增加查询关键词以加强查询条件；若检索结果太少而找不到答案，则可以减少查询关键词。 检出的文档数量上，应该返回尽量多的文档，以确保包含答案的文档在检索结果中。但另一方面，返回太多的检索结果，会导致后续的答案抽取性能下降。原因是返回的结果越多，其中包含的不相关文档也就越多，这反而影响了答案的抽取。 根据问句构造检索的查询输入有很多方法。最简单的是将问句中非停用词作为查询关键词，缺点是，有些不包含关键词的文档却包含答案。因此，需要进行关键词扩展等处理。扩展的方法主要有： （1） 词干提取(stemming)。这个主要适用于英语； （2）伪相关反馈。这个适合数据少的情况，对问答容易产生噪音干扰； （3） 同义词和语义相关词扩展方法。这是最有效，也是使用最多的方法。主要包括基于特定知识库的扩展、基于检索结果的扩展和基于统计机器学习方法的扩展。 事实型和列举型问题的相关文档句段检索 在检索到的相关文档中，进一步把可能包含答案的文档句段提取出来，以减少答案抽取所需处理的内容。这也是目前很多问答系统采用的方法。 （1）句段的切分 进行文档句段检索时，首要的问题是如何将一个文档切成多个句段。有些将相关文档句段定义为一个句子，有些定义为n个句子，还有些定义为一个连续的词序列，序列边界可以在一个句子的中间，有些把一个子话题作为一个句段。 （2）句段检索方法 最简单的是计算句段和问题之间匹配的词个数，将该数目作为句段的排序权值，还有些是计算问题和句段之间的余弦相似度。和相关文档的检索相类似，很多包含答案的句段，并不一定包含问句关键词，这需要用WordNet等同义词资源来对词进行扩展。 （3）句段检索的文档范围 参与TREC评测的问答系统中，大部分都是先从海量数据集中检索出可能包含答案的文档，然后在这少量的文档中进行句段检索。但有一些系统，是直接在整个原始数据集中进行相关句段检索。 定义型问题的相关文档检索 定义型问题的特点是问题中包含很少的限定信息，因而使查询输入构造更困难。如问题“What is the&nbsp;vagus nerve?”，其中的“What”、“is”、“the”三个词都属于检索的停用词，可用的查询关键词只有待定义的目标词“vagus nerve”。但如果只用定义目标作为查询关键词，则检索时会返回太多的文档，使真正包含定义的文档淹没在检索结果中，最终影响了定义信息的抽取。 因此，定义型问题的文档检索需要有查询扩展。显然，这种扩展必须要利用现有的各种知识资源，如舍费尔德大学的Gaizauskas等[3]利用了WordNet、大英百科全书、Web来获取扩展词。扩展时，从WordNet中查找对定义目标词的注释， 从百科全书中查找包含定义目标词的句子，从Web检索包含满足模式的且包含定义目标词的句子，然后从这些注释或者句子中选择关键词作为对定义目标词的扩展。 答案的抽取和生成 在检索出可能包含答案的文档句段之后，需要将满足约束条件的候选答案抽取出来，并对候选答案进行排序或者去重等处理，生成最终的答案返回给用户。 事实型与列举型问题的答案抽取排序 对于简单事实型问题，一般都是采用某个答案抽取方法，从排好序的相关文档句段中抽取出多个候选答案，然后对这些候选答案进行排序，排名第一的被作为最终答案返回。 对于列举型问题，许多研究都是使用和事实型问题相同的答案抽取和排序方法，只是在返回结果时，将排序分值超过一定阈值的多个候选答案作为最终结果。也有研究利用各种在线知识库和网页中的表格来抽取答案。 对已有答案抽取方法进行总结，可以归类为： （1）基于词袋模型的简单匹配 在文档句段中抽取和预期答案类型相一致的命名实体作为候选答案。对答案排序时，可以综合其所在文档句段的排序和在所有文档句段中出现的次数作为排序分值。 （2）基于表层模式匹配 基本思想是，问题的答案和问句关键词之间总有某些特定的表层关系。因此，算法不使用太多深层的语言处理，而是从文档句段中抽取出满足规则模式的候选答案。候选答案的排序要综合考虑所在文档句段的排序分值、规则权值、出现总次数。模式构造方式有手工构造方式和自动学习方式。 （3）基于语法结构比较 基本思想是，如果候选句子中的候选答案与问句词之间的语法结构，和在问题中疑问短语与问句词之间的语法结构能良好匹配，则该候选答案很可能是正确答案。比较方法有：基于语法结构模式的匹配；语法结构的严格匹配； 语法结构的统计匹配 （4）基于海量数据的冗余特性 基本思想就是在海量的文档集中，总会存在和问题描述方式相近的答案句子；而且一般来说，正确答案与问句关键词在检索结果中共现的次数要相对更多。因此，可以不用复杂的语言处理技术，而使用浅层语言技术辅助简单统计方法就可确定答案，同时取得不错的性能。 Web是海量数据的最好实例。从近几年参与TREC问答评测的系统看，几乎都会利用Web，同时会明显提高系统性能。 （5）基于答案的逻辑推理验证 使用逻辑推理进行答案选择和验证的研究主要在LCC公司的Moldovan和Harabagiu所带领的研究组，他们的系统也在历次TREC问答评测中取得了最好的性能。 基本思想是：从相关文档句段中抽取出多个满足问题预期答案类型的命名实体作为候选答案，根据这些候选答案在文档句段和Web上出现的次数等因素对它们进行初始排序；然后，利用逻辑推理的方法验证这些候选答案的正确性，验证正确则为最终答案[4]。 （6）基于多特征的统计机器学习方法 利用特定类型的单一特征总会存在不足。一种方法是将多种特征结合起来，发挥它们在不同条件下各自的优势。 这种类型系统的经典之一是IBM的统计问答系统[5]，用最大熵模型的概率大小来选择答案。特征包括：1）句子特征：问题和候选句间匹配的词和依存弧的分值等；2）实体特征：候选句中是否包含期望的命名实体类型；3）语言特征：候选答案是否是特定动词的主语或宾语等；4）词汇模式特征：候选句是否匹配某种词汇模式；5）候选答案的Web冗余特征。 定义型问题的答案抽取和生成 从现有的系统看，从相关文档中抽取、生成定义包含这几步：1)&nbsp;候选定义句子抽取：从文档中抽取出对目标进行描述、定义的句子；2)候选句子排序：对句子的重要程度进行区分；3)冗余信息去除：去除和已有句子在描述上重复的句子，去除句子中对目标定义无意义的部分；4)定义生成：将没有冗余信息的候选句子组织、综合成流利的定义描述。 （1）候选定义句子抽取与排序 抽取候选定义句子时，许多系统都利用规则来识别句子，而规则的设计都是利用各种特定的表征定义型句子的特征(称为定义型语言构造，definitional linguistic contructs)。这些特征包括：词法-语法表层模式(如“&lt;TARGET&gt;, the $NNP”)；语法解析树的模式；同位语(Appositives)；系动词(Copulas)；定语从句(Relative Clauses)；谓词和动词短语(Predicates and Verb Phrases)。 对候选定义句进行排序时，一般是首先给定义目标构造一个质心向量(centroid vector)，然后依据各个候选句和该质心向量的相似度大小对候选句排序。质心向量中的词来源于全部候选句子，是和定义目标紧密相关、在外部资源（如Web、在线百科全书、知识辞典）中和定义目标经常共现的词。也有系统利用外部资源中的定义，对和外部定义有较高覆盖度的候选句子增加额外的权值。 （2）候选定义句子中冗余信息过滤与去除。 一个是冗余句子过滤，大多是采用多文档文摘中的方法，主要有基于词的句子过滤，和基于n-gram覆盖的句子过滤[6]。另外一个是冗余短语去除。在候选定义句子中，不可避免会有一些与目标定义无关的短语。采用的去除方法主要也是多文档文摘中已有的方法，如用特定的词法-语法特征识别冗余短语，然后将这些短语删除。 交互式问答中的答案抽取与生成 交互式问答的特点就是系统和用户之间有“对话”，这种对话并不只是“用户问”和“系统答”的过程。在交互过程中，一方面，用户输入不仅有特定信息查找的问题，也有属于对话的礼节性语句；另一方面，系统也可以主动提问或者提示，通过协商来明晰用户的真正需求。 聊天机器人是交互式问答的一种主要形式，这个容易理解，大家都熟悉的微软小冰就是聊天机器人。以前的方法主要是模板匹配。如约克大学的Quarteroni等[7]用AIML解释器来实现对话接口管理，对一般礼节性的应答采用模式匹配方法从问/答模式库中选择答案。模式库的建立一方面借助人工设计，另一方面利用模拟试验来获取。 AIML(Artificial Intelligence Markup Language)，是一种基于XML的人工智能标记语言，来源于那个叫Alice的聊天机器人。下面是一个AIML的例子： &lt;category&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;pattern&gt;聊什么呢&lt;/pattern&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;template&gt;一起聊电影好吗&lt;/template&gt; &lt;/category&gt; &lt;category&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;pattern&gt;好&lt;/pattern&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;that&gt;一起聊电影好吗&lt;/that&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;template&gt;那你喜欢什么电影&lt;/template&gt; &lt;/category&gt; &lt;category&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;pattern&gt;好&lt;/pattern&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;template&gt;什么意思&lt;/template&gt; &lt;/category&gt; &nbsp; &nbsp;另外一种就是基于隐式反馈的答案正确性自动评估。即通过用户后续的反应，对输出结果进行自动评估，然后根据评估结果对后续的检索、答案抽取方法进行调整和改进。还有可以通过“建议”和“提示”问题输出答案。在交互过程中，系统在给出答案的同时，也自动给出一些用户在后续可能会提出的问题，则会显著提高用户的满意度。 总结 上面主要对学术界在自动问答领域所做的研究做了一下概述，产业界的相关工作没有涉及，产业界似乎没有人做过开放域自动问答，主要是对某一领域做限定域自动问答，比如针对自己的业务，做基于FAQ的自动问答；或者是针对某一场景做自动语音对话，等等。 但产业界的工作一般不公开，具体是怎么做的，别人也不清楚。另外，我的经验是，产业界通常不会像学术界那样，应用高深的理论和复杂的方法去解决问题，通常是使用简单得不能再简单的方式处理问题，这样做会导致一个结果：虽然做出了一个实用的系统，但是没有什么可说的，或者说出来之后，别人一听就明白了，然后说：“啊，这么简单，你们也没做什么呀”。 就像我之前做过的所谓自动问答：先选出人工事先回答好的问答对存起来，用户提问时，就和问答对的问题做匹配，匹配上了，就返回答案，匹配不上，就去搜索。嗯，就这么简单。 参考文献： [1] &nbsp;&nbsp;Moldovan D., Pasca M., Harabagiu S., and Surdeanu&nbsp;M. Performance issues and error analysis in an open-domain question answering system. ACM Transactions on Information Systems, 2003,&nbsp;21(2):133--154. [2] &nbsp;&nbsp;Harabagiu&nbsp;S., Moldovan&nbsp;D., Pasca&nbsp;M., Mihalcea&nbsp;R., Bunescu&nbsp;R., Girju&nbsp;R., Rus&nbsp;V., and Morarescu&nbsp;P. Falcon: Boosting knowledge for answer engines.&nbsp;In: Proceedings of the Ninth Text REtrieval Conference [3] &nbsp;&nbsp;Gaizauskas R., Greenwood&nbsp;M. A.,&nbsp;Hepple&nbsp;M., Roberts&nbsp;I., Saggion&nbsp;H.&nbsp;and Sargaison&nbsp;M.The University of Sheffield’s TREC 2003 Q&amp;A Experiments. In: Proceedings of the 12th Text Retrieval [4] &nbsp;&nbsp;Harabagiu S., Moldovan D. I., Clark C., Bowden M., Hickl A. and Wang P. Employing Two Question Answering Systems in TREC-2005. In: Proceedings of the 14th Retrieval Conference (TREC 2005).&nbsp;Gaithersburg: NIST Special Publication: 2005. [5] &nbsp;&nbsp;Ittycheriah&nbsp;A., Franz&nbsp;M., and Roukos&nbsp;S. IBM’s&nbsp;statistical question answering system—TREC-10. In:&nbsp;Proceedings of the 10th Text REtrieval Conference&nbsp;(TREC 2001). Gaithersburg,Maryland:&nbsp;NIST Special Publication, 2002. [6] &nbsp;&nbsp;Cui&nbsp;H., Kan&nbsp;M.-Y.&nbsp;and Chua&nbsp;T.-S.&nbsp;Soft Pattern Matching Models for Definitional Question Answering.&nbsp;to appear in ACM Transactions on Information Systems (TOIS).&nbsp;2007.&nbsp;http://www.cuihang.com. [7] &nbsp;&nbsp;Quarteroni&nbsp;S., Manandhar&nbsp;S.. A Chatbot-based Interactive Question Answering System. Proceedings of the 11th Workshop on the Semantics and Pragmatics of Dialogue. Trento, Italy, 2007.&nbsp;83–90. 注： 本文的方法概述主要来自一位做自动问答方向的张姓博士，已经授权本人使用。 本文介绍的方法主要是学术界研究成果，仅供参考，不建议IT男深入研究及尝试。 ------------------------------------------------------------------------------------- 黑夜路人，一个关注开源技术、乐于学习、喜欢分享的程序员 博客：http://blog.csdn.net/heiyeshuwu 微博：http://weibo.com/heiyeluren 微信：heiyeluren2012 &nbsp; 想获取更多IT开源技术相关信息，欢迎关注微信！ 微信二维码扫描快速关注本号码： ​ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 再分享一下我老师大神的人工智能教程吧。零基础！通俗易懂！风趣幽默！还带黄段子！希望你也加入到我们人工智能的队伍中来！https://blog.csdn.net/jiangjunshow" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-02-18T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 聊天机器人与自动问答技术 作者：mjs （360电商技术） 引言 最近半年，微软的聊天机器人小冰比较火，有些人对这方面的技术产生了兴趣，恰好之前做过自动问答方面的一些简单工作，这次写一篇应景之作，供IT技术男在坐马桶时打发一会时间。 聊天机器人属于自动问答(Question Answering)的一个方向，对它的研究很大一部分源自于图灵测试。1995年Dr. Richard开发设计了聊天机器人Alice，并于2000年和2001年获得了AI领域的最高荣誉洛伯纳奖。国内也有过一些类型产品，比如2004年曾登录MSN的小i机器人。 但无论是在学术界还是产业界，聊天机器人的方向都不受重视，究其原因，从学术的角度讲，核心技术是自动问答，那大家就直接研究自动问答好了；从产业的角度讲，聊天机器人的实用价值有限，除了尝鲜逗乐，谁会去跟一个机器没完没了的聊天呢。如果聊天机器人能回答有实用价值的问题，那就又回到了自动问答上：你只要回答用户的实际问题就可以了，完全可以不理会诸如“我帅吗”、“去你大爷”这样的问题。 那为什么已经消停近10年的聊天机器人又火了呢，我猜可能是手机用户多，尝鲜逗乐的人基数大，也可能和某个电商公司上市有关，万事万物都有联系，谁知道呢。 说完了历史，我们开始面对枯燥的技术问题。自动问答是指用户以自然语言提问的形式提出信息查询需求，系统依据对问题的分析，从各种数据资源中自动找出准确的答案。从系统功能上讲，自动问答分为开放域自动问答和限定域自动问答。开放域是指不限定问题领域，用户随意提问，系统从海量数据中寻找答案；限定域是指系统事先声明，只能回答某一个领域的问题，其他领域问题无法回答。 开放域和限定域，两者的难度差别，没做过的人也能想象出来。学术界对开放域自动问答研究的比较多，因为他们的输出成果是发论文，所以专选困难的、别人没做出来的事情做。产业界需要解决实际问题，并且要计算回报是否大于付出的成本，所以他们通常面向自己的领域，做限定域自动问答。目前市场上已经有很多限定域对话系统、基于FAQ的问答系统等实际应用。 这里主要从学术角度讲一下开放域自动问答的技术实现。 技术方案 问答系统一般的体系结构 总体来看，一个典型的问答系统一般包含有：问题分析，文档和句段（passage）检索，答案抽取和生成。在该体系结构下，系统接受用户的问题并给出反应的一般过程如下图： 图1&nbsp;开放域问答系统一般的体系结构 通过对用户问题的分析，明确其预期的答案类型以及答案与问题中其它词之间的约束关系，为答案抽取提供约束条件；相关文档检索从海量文档集中检索到包含答案的文档；通过文档句段检索，从相关文档中提取出包含答案的文档块，以进一步减少答案抽取所需处理的内容；而利用问题分析阶段产生的各种约束条件，答案抽取和生成模块从文档句段中提取出答案。 问题分析 问题的分类 对问题的分类有不同的维度，可以单纯根据问题类型分。我之前做过一个工作，对141670个真实问题进行分析，根据问句的形式和提问的内容将问句分为10大类，类型和比列如表1所示。 表1&nbsp;问句类型和比例 类型 实体(Entity) 方式(How) 判断(Judge) 原因(Why) 数字(Number) 比例 32.10% 26.0% 13.72% 7.12% 6.45% 类型 人物(Human) 地点(Location) 时间(Time) 定义(Definition) 其他(Other) 比例 5.63% 2.40% 2.22% 1.32% 2.87% 从答案类型的角度分，可以把问题分为事实型问题、列举型问题、定义型问题和交互型问题，限于篇幅，这里不对每种问题类型举例。 问题分类可看作是特殊的文本分类。相对于文本，问句一般比较简短，可采用的特征较少，但更容易进行深层的语法和语义分析。现有问题分类的方法主要有两基于规则的方法和基于统计机器学习的方法，这里不做展开介绍。 预期答案与问句词之间的关系获取 不同的答案提取算法，需要不同的答案上下文约束条件。在预期答案与问句关键词的关系方面，现有的表示方法有： （1）简单共现关系。如对预期答案的约束条件就是答案与问句关键词之间的共现关系，以及预期答案所属的命名实体类型。 （2） 句法依存关系。把问句表示成预期答案与问句关键词及这些词汇之间的句法依存关系。 （3）浅层语义关系。对问句进行浅层语义分析，将问题表示成核心词与语义角色的集合。 相关文档和文档句段检索 事实型和列举型问题的相关文档检索 为了减少答案抽取所需处理的数据量，需要从海量的文档集中检索出可能包含答案的相关文档。对于问答的检索，需要解决的问题有：检索模型的选择，需要检出的文档数量、查询输入的构造与反馈技术的应用。 检索模型主要有向量空间模型、布尔模型和统计语言模型。Moldovan与Harabagiu的研究表明，布尔模型更适合于问答系统[1,2]，主要是布尔模型更容易构造反馈结构。若检索结果太多，可以增加查询关键词以加强查询条件；若检索结果太少而找不到答案，则可以减少查询关键词。 检出的文档数量上，应该返回尽量多的文档，以确保包含答案的文档在检索结果中。但另一方面，返回太多的检索结果，会导致后续的答案抽取性能下降。原因是返回的结果越多，其中包含的不相关文档也就越多，这反而影响了答案的抽取。 根据问句构造检索的查询输入有很多方法。最简单的是将问句中非停用词作为查询关键词，缺点是，有些不包含关键词的文档却包含答案。因此，需要进行关键词扩展等处理。扩展的方法主要有： （1） 词干提取(stemming)。这个主要适用于英语； （2）伪相关反馈。这个适合数据少的情况，对问答容易产生噪音干扰； （3） 同义词和语义相关词扩展方法。这是最有效，也是使用最多的方法。主要包括基于特定知识库的扩展、基于检索结果的扩展和基于统计机器学习方法的扩展。 事实型和列举型问题的相关文档句段检索 在检索到的相关文档中，进一步把可能包含答案的文档句段提取出来，以减少答案抽取所需处理的内容。这也是目前很多问答系统采用的方法。 （1）句段的切分 进行文档句段检索时，首要的问题是如何将一个文档切成多个句段。有些将相关文档句段定义为一个句子，有些定义为n个句子，还有些定义为一个连续的词序列，序列边界可以在一个句子的中间，有些把一个子话题作为一个句段。 （2）句段检索方法 最简单的是计算句段和问题之间匹配的词个数，将该数目作为句段的排序权值，还有些是计算问题和句段之间的余弦相似度。和相关文档的检索相类似，很多包含答案的句段，并不一定包含问句关键词，这需要用WordNet等同义词资源来对词进行扩展。 （3）句段检索的文档范围 参与TREC评测的问答系统中，大部分都是先从海量数据集中检索出可能包含答案的文档，然后在这少量的文档中进行句段检索。但有一些系统，是直接在整个原始数据集中进行相关句段检索。 定义型问题的相关文档检索 定义型问题的特点是问题中包含很少的限定信息，因而使查询输入构造更困难。如问题“What is the&nbsp;vagus nerve?”，其中的“What”、“is”、“the”三个词都属于检索的停用词，可用的查询关键词只有待定义的目标词“vagus nerve”。但如果只用定义目标作为查询关键词，则检索时会返回太多的文档，使真正包含定义的文档淹没在检索结果中，最终影响了定义信息的抽取。 因此，定义型问题的文档检索需要有查询扩展。显然，这种扩展必须要利用现有的各种知识资源，如舍费尔德大学的Gaizauskas等[3]利用了WordNet、大英百科全书、Web来获取扩展词。扩展时，从WordNet中查找对定义目标词的注释， 从百科全书中查找包含定义目标词的句子，从Web检索包含满足模式的且包含定义目标词的句子，然后从这些注释或者句子中选择关键词作为对定义目标词的扩展。 答案的抽取和生成 在检索出可能包含答案的文档句段之后，需要将满足约束条件的候选答案抽取出来，并对候选答案进行排序或者去重等处理，生成最终的答案返回给用户。 事实型与列举型问题的答案抽取排序 对于简单事实型问题，一般都是采用某个答案抽取方法，从排好序的相关文档句段中抽取出多个候选答案，然后对这些候选答案进行排序，排名第一的被作为最终答案返回。 对于列举型问题，许多研究都是使用和事实型问题相同的答案抽取和排序方法，只是在返回结果时，将排序分值超过一定阈值的多个候选答案作为最终结果。也有研究利用各种在线知识库和网页中的表格来抽取答案。 对已有答案抽取方法进行总结，可以归类为： （1）基于词袋模型的简单匹配 在文档句段中抽取和预期答案类型相一致的命名实体作为候选答案。对答案排序时，可以综合其所在文档句段的排序和在所有文档句段中出现的次数作为排序分值。 （2）基于表层模式匹配 基本思想是，问题的答案和问句关键词之间总有某些特定的表层关系。因此，算法不使用太多深层的语言处理，而是从文档句段中抽取出满足规则模式的候选答案。候选答案的排序要综合考虑所在文档句段的排序分值、规则权值、出现总次数。模式构造方式有手工构造方式和自动学习方式。 （3）基于语法结构比较 基本思想是，如果候选句子中的候选答案与问句词之间的语法结构，和在问题中疑问短语与问句词之间的语法结构能良好匹配，则该候选答案很可能是正确答案。比较方法有：基于语法结构模式的匹配；语法结构的严格匹配； 语法结构的统计匹配 （4）基于海量数据的冗余特性 基本思想就是在海量的文档集中，总会存在和问题描述方式相近的答案句子；而且一般来说，正确答案与问句关键词在检索结果中共现的次数要相对更多。因此，可以不用复杂的语言处理技术，而使用浅层语言技术辅助简单统计方法就可确定答案，同时取得不错的性能。 Web是海量数据的最好实例。从近几年参与TREC问答评测的系统看，几乎都会利用Web，同时会明显提高系统性能。 （5）基于答案的逻辑推理验证 使用逻辑推理进行答案选择和验证的研究主要在LCC公司的Moldovan和Harabagiu所带领的研究组，他们的系统也在历次TREC问答评测中取得了最好的性能。 基本思想是：从相关文档句段中抽取出多个满足问题预期答案类型的命名实体作为候选答案，根据这些候选答案在文档句段和Web上出现的次数等因素对它们进行初始排序；然后，利用逻辑推理的方法验证这些候选答案的正确性，验证正确则为最终答案[4]。 （6）基于多特征的统计机器学习方法 利用特定类型的单一特征总会存在不足。一种方法是将多种特征结合起来，发挥它们在不同条件下各自的优势。 这种类型系统的经典之一是IBM的统计问答系统[5]，用最大熵模型的概率大小来选择答案。特征包括：1）句子特征：问题和候选句间匹配的词和依存弧的分值等；2）实体特征：候选句中是否包含期望的命名实体类型；3）语言特征：候选答案是否是特定动词的主语或宾语等；4）词汇模式特征：候选句是否匹配某种词汇模式；5）候选答案的Web冗余特征。 定义型问题的答案抽取和生成 从现有的系统看，从相关文档中抽取、生成定义包含这几步：1)&nbsp;候选定义句子抽取：从文档中抽取出对目标进行描述、定义的句子；2)候选句子排序：对句子的重要程度进行区分；3)冗余信息去除：去除和已有句子在描述上重复的句子，去除句子中对目标定义无意义的部分；4)定义生成：将没有冗余信息的候选句子组织、综合成流利的定义描述。 （1）候选定义句子抽取与排序 抽取候选定义句子时，许多系统都利用规则来识别句子，而规则的设计都是利用各种特定的表征定义型句子的特征(称为定义型语言构造，definitional linguistic contructs)。这些特征包括：词法-语法表层模式(如“&lt;TARGET&gt;, the $NNP”)；语法解析树的模式；同位语(Appositives)；系动词(Copulas)；定语从句(Relative Clauses)；谓词和动词短语(Predicates and Verb Phrases)。 对候选定义句进行排序时，一般是首先给定义目标构造一个质心向量(centroid vector)，然后依据各个候选句和该质心向量的相似度大小对候选句排序。质心向量中的词来源于全部候选句子，是和定义目标紧密相关、在外部资源（如Web、在线百科全书、知识辞典）中和定义目标经常共现的词。也有系统利用外部资源中的定义，对和外部定义有较高覆盖度的候选句子增加额外的权值。 （2）候选定义句子中冗余信息过滤与去除。 一个是冗余句子过滤，大多是采用多文档文摘中的方法，主要有基于词的句子过滤，和基于n-gram覆盖的句子过滤[6]。另外一个是冗余短语去除。在候选定义句子中，不可避免会有一些与目标定义无关的短语。采用的去除方法主要也是多文档文摘中已有的方法，如用特定的词法-语法特征识别冗余短语，然后将这些短语删除。 交互式问答中的答案抽取与生成 交互式问答的特点就是系统和用户之间有“对话”，这种对话并不只是“用户问”和“系统答”的过程。在交互过程中，一方面，用户输入不仅有特定信息查找的问题，也有属于对话的礼节性语句；另一方面，系统也可以主动提问或者提示，通过协商来明晰用户的真正需求。 聊天机器人是交互式问答的一种主要形式，这个容易理解，大家都熟悉的微软小冰就是聊天机器人。以前的方法主要是模板匹配。如约克大学的Quarteroni等[7]用AIML解释器来实现对话接口管理，对一般礼节性的应答采用模式匹配方法从问/答模式库中选择答案。模式库的建立一方面借助人工设计，另一方面利用模拟试验来获取。 AIML(Artificial Intelligence Markup Language)，是一种基于XML的人工智能标记语言，来源于那个叫Alice的聊天机器人。下面是一个AIML的例子： &lt;category&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;pattern&gt;聊什么呢&lt;/pattern&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;template&gt;一起聊电影好吗&lt;/template&gt; &lt;/category&gt; &lt;category&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;pattern&gt;好&lt;/pattern&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;that&gt;一起聊电影好吗&lt;/that&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;template&gt;那你喜欢什么电影&lt;/template&gt; &lt;/category&gt; &lt;category&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;pattern&gt;好&lt;/pattern&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;template&gt;什么意思&lt;/template&gt; &lt;/category&gt; &nbsp; &nbsp;另外一种就是基于隐式反馈的答案正确性自动评估。即通过用户后续的反应，对输出结果进行自动评估，然后根据评估结果对后续的检索、答案抽取方法进行调整和改进。还有可以通过“建议”和“提示”问题输出答案。在交互过程中，系统在给出答案的同时，也自动给出一些用户在后续可能会提出的问题，则会显著提高用户的满意度。 总结 上面主要对学术界在自动问答领域所做的研究做了一下概述，产业界的相关工作没有涉及，产业界似乎没有人做过开放域自动问答，主要是对某一领域做限定域自动问答，比如针对自己的业务，做基于FAQ的自动问答；或者是针对某一场景做自动语音对话，等等。 但产业界的工作一般不公开，具体是怎么做的，别人也不清楚。另外，我的经验是，产业界通常不会像学术界那样，应用高深的理论和复杂的方法去解决问题，通常是使用简单得不能再简单的方式处理问题，这样做会导致一个结果：虽然做出了一个实用的系统，但是没有什么可说的，或者说出来之后，别人一听就明白了，然后说：“啊，这么简单，你们也没做什么呀”。 就像我之前做过的所谓自动问答：先选出人工事先回答好的问答对存起来，用户提问时，就和问答对的问题做匹配，匹配上了，就返回答案，匹配不上，就去搜索。嗯，就这么简单。 参考文献： [1] &nbsp;&nbsp;Moldovan D., Pasca M., Harabagiu S., and Surdeanu&nbsp;M. Performance issues and error analysis in an open-domain question answering system. ACM Transactions on Information Systems, 2003,&nbsp;21(2):133--154. [2] &nbsp;&nbsp;Harabagiu&nbsp;S., Moldovan&nbsp;D., Pasca&nbsp;M., Mihalcea&nbsp;R., Bunescu&nbsp;R., Girju&nbsp;R., Rus&nbsp;V., and Morarescu&nbsp;P. Falcon: Boosting knowledge for answer engines.&nbsp;In: Proceedings of the Ninth Text REtrieval Conference [3] &nbsp;&nbsp;Gaizauskas R., Greenwood&nbsp;M. A.,&nbsp;Hepple&nbsp;M., Roberts&nbsp;I., Saggion&nbsp;H.&nbsp;and Sargaison&nbsp;M.The University of Sheffield’s TREC 2003 Q&amp;A Experiments. In: Proceedings of the 12th Text Retrieval [4] &nbsp;&nbsp;Harabagiu S., Moldovan D. I., Clark C., Bowden M., Hickl A. and Wang P. Employing Two Question Answering Systems in TREC-2005. In: Proceedings of the 14th Retrieval Conference (TREC 2005).&nbsp;Gaithersburg: NIST Special Publication: 2005. [5] &nbsp;&nbsp;Ittycheriah&nbsp;A., Franz&nbsp;M., and Roukos&nbsp;S. IBM’s&nbsp;statistical question answering system—TREC-10. In:&nbsp;Proceedings of the 10th Text REtrieval Conference&nbsp;(TREC 2001). Gaithersburg,Maryland:&nbsp;NIST Special Publication, 2002. [6] &nbsp;&nbsp;Cui&nbsp;H., Kan&nbsp;M.-Y.&nbsp;and Chua&nbsp;T.-S.&nbsp;Soft Pattern Matching Models for Definitional Question Answering.&nbsp;to appear in ACM Transactions on Information Systems (TOIS).&nbsp;2007.&nbsp;http://www.cuihang.com. [7] &nbsp;&nbsp;Quarteroni&nbsp;S., Manandhar&nbsp;S.. A Chatbot-based Interactive Question Answering System. Proceedings of the 11th Workshop on the Semantics and Pragmatics of Dialogue. Trento, Italy, 2007.&nbsp;83–90. 注： 本文的方法概述主要来自一位做自动问答方向的张姓博士，已经授权本人使用。 本文介绍的方法主要是学术界研究成果，仅供参考，不建议IT男深入研究及尝试。 ------------------------------------------------------------------------------------- 黑夜路人，一个关注开源技术、乐于学习、喜欢分享的程序员 博客：http://blog.csdn.net/heiyeshuwu 微博：http://weibo.com/heiyeluren 微信：heiyeluren2012 &nbsp; 想获取更多IT开源技术相关信息，欢迎关注微信！ 微信二维码扫描快速关注本号码： ​ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 再分享一下我老师大神的人工智能教程吧。零基础！通俗易懂！风趣幽默！还带黄段子！希望你也加入到我们人工智能的队伍中来！https://blog.csdn.net/jiangjunshow","@type":"BlogPosting","url":"/2019/02/18/0e700e2b29b92476088fa857faa82601.html","headline":"【原创】聊天机器人与自动问答技术","dateModified":"2019-02-18T00:00:00+08:00","datePublished":"2019-02-18T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/2019/02/18/0e700e2b29b92476088fa857faa82601.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-1');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>【原创】聊天机器人与自动问答技术</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <div id="content_views" class="markdown_views prism-atom-one-dark"> 
  <!-- flowchart 箭头图标 勿删 --> 
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> 
  <div class="htmledit_views" id="content_views">
   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
   <p><br><br></p>
   <p><span><strong>聊天机器人与自动问答技术</strong></span></p>
   <p><br></p>
   <p><span>作者：mjs （360电商技术）</span></p>
   <p><span><strong></strong></span></p>
   <h1><span><strong><span>引言</span></strong></span></h1>
   <p><span>最近半年，微软的聊天机器人小冰比较火，有些人对这方面的技术产生了兴趣，恰好之前做过自动问答方面的一些简单工作，这次写一篇应景之作，供<span>IT</span>技术男在坐马桶时打发一会时间。</span></p>
   <p><span>聊天机器人属于自动问答</span><span>(Question Answering)</span><span>的一个方向，对它的研究很大一部分源自于图灵测试。</span><span>1995<span>年</span>Dr. Richard<span>开发设计</span></span><span>了聊天机器人</span><span>Alice</span><span>，并</span><span>于2000<span>年和</span>2001<span>年</span></span><span>获得了</span><span>AI</span><span>领域的</span><span>最高荣誉洛伯纳奖</span><span>。国内也有过一些类型产品，比如<span>2004</span>年曾登录<span>MSN</span>的小<span>i</span>机器人。</span></p>
   <p><span>但无论是在学术界还是产业界，聊天机器人的方向都不受重视，究其原因，从学术的角度讲，核心技术是自动问答，那大家就直接研究自动问答好了；从产业的角度讲，聊天机器人的实用价值有限，除了尝鲜逗乐，谁会去跟一个机器没完没了的聊天呢。如果聊天机器人能回答有实用价值的问题，那就又回到了自动问答上：你只要回答用户的实际问题就可以了，完全可以不理会诸如“我帅吗”、“去你大爷”这样的问题。</span></p>
   <p><span>那为什么已经消停近<span>10</span>年的聊天机器人又火了呢，我猜可能是手机用户多，尝鲜逗乐的人基数大，也可能和某个电商公司上市有关，万事万物都有联系，谁知道呢。</span></p>
   <p><span>说完了历史，我们开始面对枯燥的技术问题。自动问答是指用户以自然语言提问的形式提出信息查询需求，系统依据对问题的分析，从各种数据资源中自动找出准确的答案。从系统功能上讲，自动问答分为开放域自动问答和限定域自动问答。开放域是指不限定问题领域，用户随意提问，系统从海量数据中寻找答案；限定域是指系统事先声明，只能回答某一个领域的问题，其他领域问题无法回答。</span></p>
   <p><span>开放域和限定域，两者的难度差别，没做过的人也能想象出来。学术界对开放域自动问答研究的比较多，因为他们的输出成果是发论文，所以专选困难的、别人没做出来的事情做。产业界需要解决实际问题，并且要计算回报是否大于付出的成本，所以他们通常面向自己的领域，做限定域自动问答。目前市场上已经有很多限定域对话系统、基于</span><span>FAQ</span><span>的问答系统等实际应用。</span></p>
   <p><span>这里主要从学术角度讲一下开放域自动问答的技术实现。</span></p>
   <p><span></span></p>
   <p><span><br></span></p>
   <h1><span>技术方案</span></h1>
   <h2><span>问答系统一般的体系结构</span></h2>
   <p><span>总体来看，一个典型的问答系统一般包含有：问题分析，文档和句段（</span><span>passage</span><span>）检索，答案抽取和生成。在该体系结构下，系统接受用户的问题并给出反应的一般过程如下图：</span><span></span></p>
   <p><br><span></span></p>
   <p><span></span></p>
   <p><span><img alt="" src="https://mmbiz.qlogo.cn/mmbiz/wFTDMH6f01H4mZjW705IAksVmIT2gbum5VOogEXZBA9njd1bibeySNXRteTsRlkvqtYTdEXg41UOWb6wY2MlrVA/0"></span></p>
   <p><span></span></p>
   <p><span></span><br></p>
   <p><span>图</span><span>1&nbsp;</span><span>开放域问答系统一般的体系结构</span></p>
   <p><span></span></p>
   <p><span>通过对用户问题的分析，明确其预期的答案类型以及答案与问题中其它词之间的约束关系，为答案抽取提供约束条件；相关文档检索从海量文档集中检索到包含答案的文档；通过文档句段检索，从相关文档中提取出包含答案的文档块，以进一步减少答案抽取所需处理的内容；而利用问题分析阶段产生的各种约束条件，答案抽取和生成模块从文档句段中提取出答案。</span></p>
   <p><span></span></p>
   <p><span><br></span></p>
   <h2><span>问题分析</span></h2>
   <p><span><br></span></p>
   <h3><span>问题的分类</span></h3>
   <p><span>对问题的分类有不同的维度，可以单纯根据问题类型分。我之前做过一个工作，对<span>141670</span>个真实问题进行分析，根据问句的形式和提问的内容将问句分为<span>10</span>大类，类型和比列如表<span>1</span>所示。<br><br></span></p>
   <p><span>表<span>1&nbsp;</span>问句类型和比例</span></p>
   <p><span></span></p>
   <table>
    <tbody>
     <tr>
      <td width="56"><p><span>类型</span></p></td>
      <td width="84"><p><span>实体</span><span>(</span><span>Entity</span><span>)</span></p></td>
      <td width="110"><p><span>方式</span><span>(</span><span>How</span><span>)</span></p></td>
      <td width="86"><p><span>判断</span><span>(</span><span>Judge</span><span>)</span></p></td>
      <td width="114"><p><span>原因</span><span>(</span><span>Why</span><span>)</span></p></td>
      <td width="105"><p><span>数字</span><span>(</span><span>Number</span><span>)</span></p></td>
     </tr>
     <tr>
      <td width="56"><p><span>比例</span></p></td>
      <td width="92"><p><span>32.10%</span></p></td>
      <td width="104"><p><span>26.0%</span></p></td>
      <td width="79"><p><span>13.72%</span></p></td>
      <td width="107"><p><span>7.12%</span></p></td>
      <td width="100"><p><span>6.45%</span></p></td>
     </tr>
     <tr>
      <td width="56"><p><span>类型</span></p></td>
      <td width="92"><p><span>人物</span><span>(</span><span>Human</span><span>)</span></p></td>
      <td width="110"><p><span>地点</span><span>(</span><span>Location</span><span>)</span></p></td>
      <td width="86"><p><span>时间</span><span>(</span><span>Time</span><span>)</span></p></td>
      <td width="114"><p><span>定义</span><span>(</span><span>Definition</span><span>)</span></p></td>
      <td width="105"><p><span>其他</span><span>(</span><span>Other</span><span>)</span></p></td>
     </tr>
     <tr>
      <td width="56"><p><span>比例</span></p></td>
      <td width="92"><p><span>5.63%</span></p></td>
      <td width="110"><p><span>2.40%</span></p></td>
      <td width="86"><p><span>2.22%</span></p></td>
      <td width="114"><p><span>1.32%</span></p></td>
      <td width="105"><p><span>2.87%</span></p></td>
     </tr>
    </tbody>
   </table>
   <p><br></p>
   <p><span>从答案类型的角度分，可以把问题分为事实型问题、列举型问题、定义型问题和交互型问题，限于篇幅，这里不对每种问题类型举例。</span></p>
   <p><span>问题分类可看作是特殊的文本分类。相对于文本，问句一般比较简短，可采用的特征较少，但更容易进行深层的语法和语义分析。现有问题分类的方法主要有两基于规则的方法和基于统计机器学习的方法，这里不做展开介绍。</span></p>
   <p><span><br></span></p>
   <h3><span>预期答案与问句词之间的关系获取</span></h3>
   <p><span>不同的答案提取算法，需要不同的答案上下文约束条件。在预期答案与问句关键词的关系方面，现有的表示方法有：</span></p>
   <p><span>（</span><span>1</span><span>）简单共现关系。如对预期答案的约束条件就是答案与问句关键词之间的共现关系，以及预期答案所属的命名实体类型。</span></p>
   <p><span>（</span><span>2</span><span>） 句法依存关系。把问句表示成预期答案与问句关键词及这些词汇之间的句法依存关系。</span></p>
   <p><span>（</span><span>3</span><span>）浅层语义关系。对问句进行浅层语义分析，将问题表示成核心词与语义角色的集合。</span><span></span></p>
   <p><span></span></p>
   <p><span><br></span></p>
   <h2><span>相关文档和文档句段检索</span></h2>
   <p><span><br></span></p>
   <h3><span>事实型和列举型问题的相关文档检索</span></h3>
   <p><span>为了减少答案抽取所需处理的数据量，需要从海量的文档集中检索出可能包含答案的相关文档。对于问答的检索，需要解决的问题有：检索模型的选择，需要检出的文档数量、查询输入的构造与反馈技术的应用。</span></p>
   <p><span>检索模型主要有向量空间模型、布尔模型和统计语言模型。<span>Moldovan</span>与<span>Harabagiu</span>的研究表明，布尔模型更适合于问答系统</span><span>[1,2]</span><span>，主要是布尔模型更容易构造反馈结构。若检索结果太多，可以增加查询关键词以加强查询条件；若检索结果太少而找不到答案，则可以减少查询关键词。</span></p>
   <p><span>检出的文档数量上，应该返回尽量多的文档，以确保包含答案的文档在检索结果中。但另一方面，返回太多的检索结果，会导致后续的答案抽取性能下降。原因是返回的结果越多，其中包含的不相关文档也就越多，这反而影响了答案的抽取。</span></p>
   <p><span>根据问句构造检索的查询输入有很多方法。最简单的是将问句中非停用词作为查询关键词，缺点是，有些不包含关键词的文档却包含答案。因此，需要进行关键词扩展等处理。扩展的方法主要有：</span></p>
   <p><span>（<span>1</span>） 词干提取<span>(stemming)</span>。这个主要适用于英语；</span></p>
   <p><span>（<span>2</span>）伪相关反馈。这个适合数据少的情况，对问答容易产生噪音干扰；</span></p>
   <p><span>（<span>3</span>） 同义词和语义相关词扩展方法。这是最有效，也是使用最多的方法。主要包括基于特定知识库的扩展、基于检索结果的扩展和基于统计机器学习方法的扩展。</span></p>
   <p><span><br></span></p>
   <h3><span>事实型和列举型问题的相关文档句段检索</span></h3>
   <p><span>在检索到的相关文档中，进一步把可能包含答案的文档句段提取出来，以减少答案抽取所需处理的内容。这也是目前很多问答系统采用的方法。</span></p>
   <p><span>（<span>1</span>）句段的切分</span></p>
   <p><span>进行文档句段检索时，首要的问题是如何将一个文档切成多个句段。有些将相关文档句段定义为一个句子，有些定义为<span>n</span>个句子，还有些定义为一个连续的词序列，序列边界可以在一个句子的中间，有些把一个子话题作为一个句段。</span></p>
   <p><span>（<span>2</span>）句段检索方法</span></p>
   <p><span>最简单的是计算句段和问题之间匹配的词个数，将该数目作为句段的排序权值，还有些是计算问题和句段之间的余弦相似度。和相关文档的检索相类似，很多包含答案的句段，并不一定包含问句关键词，这需要用<span>WordNet</span>等同义词资源来对词进行扩展。</span></p>
   <p><span>（<span>3</span>）句段检索的文档范围</span></p>
   <p><span>参与<span>TREC</span>评测的问答系统中，大部分都是先从海量数据集中检索出可能包含答案的文档，然后在这少量的文档中进行句段检索。但有一些系统，是直接在整个原始数据集中进行相关句段检索。</span></p>
   <p><span><br></span></p>
   <h3><span>定义型问题的相关文档检索</span></h3>
   <p><span>定义型问题的特点是问题中包含很少的限定信息，因而使查询输入构造更困难。如问题</span><span>“</span><span><em>What is the&nbsp;</em></span><span><strong><em>vagus nerve</em></strong></span><span>?</span><span>”</span><span>，其中的</span><span>“</span><span><em>What</em></span><span>”</span><span>、</span><span>“</span><span><em>is</em></span><span>”</span><span>、</span><span>“</span><span><em>the</em></span><span>”</span><span>三个词都属于检索的停用词，可用的查询关键词只有待定义的目标词</span><span>“</span><span><strong><em>vagus nerve</em></strong></span><span>”</span><span>。但如果只用定义目标作为查询关键词，则检索时会返回太多的文档，使真正包含定义的文档淹没在检索结果中，最终影响了定义信息的抽取。</span></p>
   <p><span>因此，定义型问题的文档检索需要有查询扩展。显然，这种扩展必须要利用现有的各种知识资源，如舍费尔德大学的</span><span>Gaizauskas</span><span>等</span><span>[3]</span><span>利用了<span>WordNet</span>、大英百科全书、<span>Web</span>来获取扩展词。扩展时，从<span>WordNet</span>中查找对定义目标词的注释， 从百科全书中查找包含定义目标词的句子，从<span>Web</span>检索包含满足模式的且包含定义目标词的句子，然后从这些注释或者句子中选择关键词作为对定义目标词的扩展。</span></p>
   <p><span><br></span></p>
   <h2><span>答案的抽取和生成</span></h2>
   <p><span>在检索出可能包含答案的文档句段之后，需要将满足约束条件的候选答案抽取出来，并对候选答案进行排序或者去重等处理，生成最终的答案返回给用户。</span></p>
   <p><span><br></span></p>
   <h3><span>事实型与列举型问题的答案抽取排序</span></h3>
   <p><span>对于简单事实型问题，一般都是采用某个答案抽取方法，从排好序的相关文档句段中抽取出多个候选答案，然后对这些候选答案进行排序，排名第一的被作为最终答案返回。</span></p>
   <p><span>对于列举型问题，许多研究都是使用和事实型问题相同的答案抽取和排序方法，只是在返回结果时，将排序分值超过一定阈值的多个候选答案作为最终结果。也有研究利用各种在线知识库和网页中的表格来抽取答案。</span></p>
   <p><span>对已有答案抽取方法进行总结，可以归类为：</span></p>
   <p><span>（<span>1</span>）基于词袋模型的简单匹配</span></p>
   <p><span>在文档句段中抽取和预期答案类型相一致的命名实体作为候选答案。对答案排序时，可以综合其所在文档句段的排序和在所有文档句段中出现的次数作为排序分值。</span></p>
   <p><span>（<span>2</span>）基于表层模式匹配</span></p>
   <p><span>基本思想是，问题的答案和问句关键词之间总有某些特定的表层关系。因此，算法不使用太多深层的语言处理，而是从文档句段中抽取出满足规则模式的候选答案。候选答案的排序要综合考虑所在文档句段的排序分值、规则权值、出现总次数。模式构造方式有手工构造方式和自动学习方式。</span></p>
   <p><span>（<span>3</span>）基于语法结构比较</span></p>
   <p><span>基本思想是，如果候选句子中的候选答案与问句词之间的语法结构，和在问题中疑问短语与问句词之间的语法结构能良好匹配，则该候选答案很可能是正确答案。比较方法有：基于语法结构模式的匹配；语法结构的严格匹配； 语法结构的统计匹配</span></p>
   <p><span>（<span>4</span>）基于海量数据的冗余特性</span></p>
   <p><span>基本思想就是在海量的文档集中，总会存在和问题描述方式相近的答案句子；而且一般来说，正确答案与问句关键词在检索结果中共现的次数要相对更多。因此，可以不用复杂的语言处理技术，而使用浅层语言技术辅助简单统计方法就可确定答案，同时取得不错的性能。</span></p>
   <p><span>Web是海量数据的最好实例。从近几年参与<span>TREC</span>问答评测的系统看，几乎都会利用<span>Web</span>，同时会明显提高系统性能。</span></p>
   <p><span>（<span>5</span>）基于答案的逻辑推理验证</span></p>
   <p><span>使用逻辑推理进行答案选择和验证的研究主要在<span>LCC</span>公司的<span>Moldovan</span>和<span>Harabagiu</span>所带领的研究组，他们的系统也在历次<span>TREC</span>问答评测中取得了最好的性能。</span></p>
   <p><span>基本思想是：从相关文档句段中抽取出多个满足问题预期答案类型的命名实体作为候选答案，根据这些候选答案在文档句段和<span>Web</span>上出现的次数等因素对它们进行初始排序；然后，利用逻辑推理的方法验证这些候选答案的正确性，验证正确则为最终答案</span><span>[4]</span><span>。</span></p>
   <p><span>（<span>6</span>）基于多特征的统计机器学习方法</span></p>
   <p><span>利用特定类型的单一特征总会存在不足。一种方法是将多种特征结合起来，发挥它们在不同条件下各自的优势。</span></p>
   <p><span>这种类型系统的经典之一是<span>IBM</span>的统计问答系统</span><span>[5]</span><span>，用最大熵模型的概率大小来选择答案。特征包括：<span>1</span>）句子特征：问题和候选句间匹配的词和依存弧的分值等；<span>2</span>）实体特征：候选句中是否包含期望的命名实体类型；<span>3</span>）语言特征：候选答案是否是特定动词的主语或宾语等；<span>4</span>）词汇模式特征：候选句是否匹配某种词汇模式；<span>5</span>）候选答案的<span>Web</span>冗余特征。</span></p>
   <p><span><br></span></p>
   <h3><span>定义型问题的答案抽取和生成</span></h3>
   <p><span>从现有的系统看，从相关文档中抽取、生成定义包含这几步：<span>1)&nbsp;</span>候选定义句子抽取：从文档中抽取出对目标进行描述、定义的句子；<span>2)</span>候选句子排序：对句子的重要程度进行区分；<span>3)</span>冗余信息去除：去除和已有句子在描述上重复的句子，去除句子中对目标定义无意义的部分；<span>4)</span>定义生成：将没有冗余信息的候选句子组织、综合成流利的定义描述。</span></p>
   <p><span>（<span>1</span>）候选定义句子抽取与排序</span></p>
   <p><span>抽取候选定义句子时，许多系统都利用规则来识别句子，而规则的设计都是利用各种特定的表征定义型句子的特征<span>(</span>称为定义型语言构造，<span>definitional linguistic contructs)</span>。这些特征包括：词法<span>-</span>语法表层模式<span>(</span>如</span><span>“</span><span>&lt;TARGET&gt;, the $NNP</span><span>”</span><span>)；语法解析树的模式；同位语<span>(Appositives)</span>；系动词<span>(Copulas)</span>；定语从句<span>(Relative Clauses)</span>；谓词和动词短语<span>(Predicates and Verb Phrases)</span>。</span></p>
   <p><span>对候选定义句进行排序时，一般是首先给定义目标构造一个质心向量<span>(centroid vector)</span>，然后依据各个候选句和该质心向量的相似度大小对候选句排序。质心向量中的词来源于全部候选句子，是和定义目标紧密相关、在外部资源（如<span>Web</span>、在线百科全书、知识辞典）中和定义目标经常共现的词。也有系统利用外部资源中的定义，对和外部定义有较高覆盖度的候选句子增加额外的权值。</span></p>
   <p><span>（<span>2</span>）候选定义句子中冗余信息过滤与去除。</span></p>
   <p><span>一个是冗余句子过滤，大多是采用多文档文摘中的方法，主要有基于词的句子过滤，和基于<span>n-gram</span>覆盖的句子过滤</span><span>[6]</span><span>。另外一个是冗余短语去除。在候选定义句子中，不可避免会有一些与目标定义无关的短语。采用的去除方法主要也是多文档文摘中已有的方法，如用特定的词法<span>-</span>语法特征识别冗余短语，然后将这些短语删除。</span></p>
   <p><span><br></span></p>
   <h3><span>交互式问答中的答案抽取与生成</span></h3>
   <p><span>交互式问答的特点就是系统和用户之间有“对话”，这种对话并不只是“用户问”和“系统答”的过程。在交互过程中，一方面，用户输入不仅有特定信息查找的问题，也有属于对话的礼节性语句；另一方面，系统也可以主动提问或者提示，通过协商来明晰用户的真正需求。</span></p>
   <p><span>聊天机器人是交互式问答的一种主要形式，这个容易理解，大家都熟悉的微软小冰就是聊天机器人。以前的方法主要是模板匹配。如约克大学的</span><span>Quarteroni</span><span>等</span><span>[7]</span><span>用<span>AIML</span>解释器来实现对话接口管理，对一般礼节性的应答采用模式匹配方法从问<span>/</span>答模式库中选择答案。模式库的建立一方面借助人工设计，另一方面利用模拟试验来获取。</span></p>
   <p><span>AIML(Artificial Intelligence Markup Language)，是一种基于<span>XML</span>的人工智能标记语言，来源于那个叫<span>Alice</span>的聊天机器人。下面是一个<span>AIML</span>的例子：</span></p>
   <p><span></span></p>
   <blockquote>
    <p><span>&lt;</span><span>category</span><span>&gt;</span></p>
    <p><span>&nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span>pattern</span><span>&gt;</span><span>聊什么呢</span><span>&lt;/</span><span>pattern</span><span>&gt;</span></p>
    <p><span>&nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span>template</span><span>&gt;</span><span>一起聊电影好吗</span><span>&lt;/</span><span>template</span><span>&gt;</span></p>
    <p><span>&lt;/</span><span>category</span><span>&gt;</span></p>
    <p><span>&lt;</span><span>category</span><span>&gt;</span></p>
    <p><span>&nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span>pattern</span><span>&gt;</span><span>好</span><span>&lt;/</span><span>pattern</span><span>&gt;</span></p>
    <p><span>&nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span>that</span><span>&gt;</span><span>一起聊电影好吗</span><span>&lt;/</span><span>that</span><span>&gt;</span></p>
    <p><span>&nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span>template</span><span>&gt;</span><span>那你喜欢什么电影</span><span>&lt;/</span><span>template</span><span>&gt;</span></p>
    <p><span>&lt;/</span><span>category</span><span>&gt;</span></p>
    <p><span>&lt;</span><span>category</span><span>&gt;</span></p>
    <p><span>&nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span>pattern</span><span>&gt;</span><span>好</span><span>&lt;/</span><span>pattern</span><span>&gt;</span></p>
    <p><span>&nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span>template</span><span>&gt;</span><span>什么意思</span><span>&lt;/</span><span>template</span><span>&gt;</span></p>
    <p><span>&lt;/</span><span>category</span><span>&gt;</span></p>
   </blockquote>
   <p><span></span></p>
   <p><span>&nbsp; &nbsp;另外一种就是基于隐式反馈的答案正确性自动评估。即通过用户后续的反应，对输出结果进行自动评估，然后根据评估结果对后续的检索、答案抽取方法进行调整和改进。还有可以通过“建议”和“提示”问题输出答案。在交互过程中，系统在给出答案的同时，也自动给出一些用户在后续可能会提出的问题，则会显著提高用户的满意度。</span></p>
   <p><span><br></span></p>
   <h1><span>总结</span></h1>
   <p><span>上面主要对学术界在自动问答领域所做的研究做了一下概述，产业界的相关工作没有涉及，产业界似乎没有人做过开放域自动问答，主要是对某一领域做限定域自动问答，比如针对自己的业务，做基于<span>FAQ</span>的自动问答；或者是针对某一场景做自动语音对话，等等。</span></p>
   <p><span>但产业界的工作一般不公开，具体是怎么做的，别人也不清楚。另外，我的经验是，产业界通常不会像学术界那样，应用高深的理论和复杂的方法去解决问题，通常是使用简单得不能再简单的方式处理问题，这样做会导致一个结果：虽然做出了一个实用的系统，但是没有什么可说的，或者说出来之后，别人一听就明白了，然后说：“啊，这么简单，你们也没做什么呀”。</span></p>
   <p><span>就像我之前做过的所谓自动问答：先选出人工事先回答好的问答对存起来，用户提问时，就和问答对的问题做匹配，匹配上了，就返回答案，匹配不上，就去搜索。嗯，就这么简单。</span></p>
   <p><span></span></p>
   <p><em><span><strong>参考文献</strong></span><span>：</span></em></p>
   <p><em><span>[1] &nbsp;&nbsp;</span><span>Moldovan D., Pasca M., Harabagiu S., and Surdeanu</span><span>&nbsp;</span><span>M. Performance issues and error analysis in an open-domain question answering system. ACM Transactions on Information Systems, 2003</span><span>,&nbsp;</span><span>21(2):133--154.</span></em></p>
   <p><em><span>[2] &nbsp;&nbsp;</span><span>Harabagiu</span><span>&nbsp;S.</span><span>, Moldovan</span><span>&nbsp;D.</span><span>, Pasca</span><span>&nbsp;M.</span><span>, Mihalcea</span><span>&nbsp;R.</span><span>, Bunescu</span><span>&nbsp;R.</span><span>, Girju</span><span>&nbsp;R.</span><span>, Rus</span><span>&nbsp;V.</span><span>, and Morarescu</span><span>&nbsp;P</span><span>. Falcon: Boosting knowledge for answer engines.&nbsp;</span><span>In: Proceedings of the Ninth Text REtrieval Conference</span></em></p>
   <p><em><span>[3] &nbsp;&nbsp;</span><span>Gaizauskas R</span><span>.</span><span>, Greenwood</span><span>&nbsp;M. A.</span><span>,</span><span>&nbsp;</span><span>Hepple</span><span>&nbsp;M.</span><span>, Roberts</span><span>&nbsp;I.</span><span>, Saggion</span><span>&nbsp;</span><span>H</span><span>.</span><span>&nbsp;and Sargaison</span><span>&nbsp;M</span><span>.The University of Sheffield’s TREC 2003 Q&amp;A Experiments</span><span>. In: Proceedings of the 12th Text R</span><span>e</span><span>trieval</span></em></p>
   <p><em><span>[4] &nbsp;&nbsp;</span><span>Harabagiu S., Moldovan D. I., Clark C., Bowden M., Hickl A. and Wang P. Employing Two Question Answering Systems in TREC-2005. In: Proceedings of the 14th R</span><span>e</span><span>trieval Conference (TREC 2005).&nbsp;</span><span>Gaithersburg</span><span>: NIST Special Publication: 2005.</span></em></p>
   <p><em><span>[5] &nbsp;&nbsp;</span><span>Ittycheriah</span><span>&nbsp;</span><span>A., Franz</span><span>&nbsp;M.</span><span>, and Roukos</span><span>&nbsp;S</span><span>. IBM’s</span><span>&nbsp;</span><span>statistical question answering system—TREC-10. In</span><span>:&nbsp;</span><span>Proceedings of the 10th Text REtrieval Conference</span><span>&nbsp;(TREC 2001)</span><span>. Gaithersburg,</span><span></span><span>Maryland</span><span>:</span><span>&nbsp;</span><span>NIST Special Publication, 2002.</span></em></p>
   <p><em><span>[6] &nbsp;&nbsp;</span><span>Cui</span><span>&nbsp;H.</span><span>, Kan</span><span>&nbsp;M.-Y.</span><span>&nbsp;and Chua</span><span>&nbsp;T.-S.&nbsp;</span><span>Soft Pattern Matching Models for Definitional Question Answering</span><span>.&nbsp;</span><span>to appear in ACM Transactions on Information Systems (TOIS).</span><span>&nbsp;2007.&nbsp;</span><span>http://www.cuihang.com</span><span>.</span></em></p>
   <p><em><span>[7] &nbsp;&nbsp;</span><span>Quarteroni</span><span>&nbsp;S.</span><span>, Manandhar</span><span>&nbsp;S.</span><span>. A Chatbot-based Interactive Question Answering System. Proceedings of the 11th Workshop on the Semantics and Pragmatics of Dialogue. Trento, Italy, 2007.</span><span>&nbsp;</span><span>83–90</span><span>.</span></em></p>
   <p><span></span></p>
   <p><span><em>注：</em></span></p>
   <p><span><em>本文的方法概述主要来自一位做自动问答方向的张姓博士，已经授权本人使用。</em></span></p>
   <p><span><em>本文介绍的方法主要是学术界研究成果，仅供参考，不建议<span>IT</span>男深入研究及尝试。</em></span></p>
   <p><br></p>
   <p><br></p>
   <p>-------------------------------------------------------------------------------------</p>
   <p>黑夜路人，一个关注开源技术、乐于学习、<span>喜欢分享</span>的程序员</p>
   <p><br></p>
   <p><span>博客：</span>http://blog.csdn.net/heiyeshuwu</p>
   <p><span>微博：</span>http://weibo.com/heiyeluren</p>
   <p><span>微信：heiyeluren2012</span> &nbsp;</p>
   <p>想获取更多IT开源技术相关信息，欢迎关注微信！</p>
   <p>微信二维码扫描快速关注本号码：</p>
   <p><img alt="" src="https://mmbiz.qlogo.cn/mmbiz/wFTDMH6f01H4mZjW705IAksVmIT2gbumxy0KVDlofP1vcm0vMgvndHVfK0f7eTzDxmof4KEEYoLNzGXGyen5dA/0">​</p>
   <p><br></p>
   <p><br></p>
   <div>
    <p><br></p>
   </div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  </div>
  <p>再分享一下我老师大神的人工智能教程吧。零基础！通俗易懂！风趣幽默！还带黄段子！希望你也加入到我们人工智能的队伍中来！<a href="https://blog.csdn.net/jiangjunshow/article/details/77338485" rel="nofollow">https://blog.csdn.net/jiangjunshow</a></p> 
 </div> 
 <link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-7b4cdcb592.css" rel="stylesheet"> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?ee64533f3c6a7a284cd39a37ee732c8b";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
