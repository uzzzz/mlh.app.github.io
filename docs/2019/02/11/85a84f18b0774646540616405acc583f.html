<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>ç”¨Pythonå†™ä¸€ä¸ªå‘½ä»¤è¡Œç«è½¦ç¥¨æŸ¥çœ‹å™¨ | æœ‰ç»„ç»‡åœ¨ï¼</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="ç”¨Pythonå†™ä¸€ä¸ªå‘½ä»¤è¡Œç«è½¦ç¥¨æŸ¥çœ‹å™¨" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Linuxç¼–ç¨‹ ç‚¹å‡»å³ä¾§å…³æ³¨ï¼Œå…è´¹å…¥é—¨åˆ°ç²¾é€šï¼ ä½œè€…ä¸¨protream https://www.jianshu.com/p/f411d7e10c41 å½“ä½ æƒ³æŸ¥è¯¢ä¸€ä¸‹ç«è½¦ç¥¨ä¿¡æ¯çš„æ—¶å€™ï¼Œä½ è¿˜åœ¨ä¸Š12306å®˜ç½‘å—ï¼Ÿæˆ–æ˜¯æ‰“å¼€ä½ æ‰‹æœºé‡Œçš„APPï¼Ÿä¸‹é¢è®©æˆ‘ä»¬æ¥ç”¨Pythonå†™ä¸€ä¸ªå‘½ä»¤è¡Œç‰ˆçš„ç«è½¦ç¥¨æŸ¥çœ‹å™¨, åªè¦åœ¨å‘½ä»¤è¡Œæ•²ä¸€è¡Œå‘½ä»¤å°±èƒ½è·å¾—ä½ æƒ³è¦çš„ç«è½¦ç¥¨ä¿¡æ¯ï¼å¦‚æœä½ åˆšæŒæ¡äº†PythonåŸºç¡€ï¼Œè¿™å°†æ˜¯ä¸ªä¸é”™çš„å°ç»ƒä¹ ã€‚ æ¥å£è®¾è®¡ ä¸€ä¸ªåº”ç”¨å†™å‡ºæ¥æœ€ç»ˆæ˜¯è¦ç»™äººä½¿ç”¨çš„ï¼Œå“ªæ€•åªæ˜¯ç»™ä½ è‡ªå·±ä½¿ç”¨ã€‚æ‰€ä»¥ï¼Œé¦–å…ˆåº”è¯¥æƒ³æƒ³ä½ å¸Œæœ›æ€ä¹ˆä½¿ç”¨å®ƒï¼Ÿè®©æˆ‘ä»¬å…ˆç»™è¿™ä¸ªå°åº”ç”¨èµ·ä¸ªåå­—å§ï¼Œæ—¢ç„¶åŠæŸ¥è¯¢ç¥¨åŠ¡ä¿¡æ¯ï¼Œé‚£å°±å«å®ƒticketså¥½äº†ã€‚æˆ‘ä»¬å¸Œæœ›ç”¨æˆ·åªè¦è¾“å…¥å‡ºå‘ç«™ï¼Œåˆ°è¾¾ç«™ä»¥åŠæ—¥æœŸå°±è®©å°±èƒ½è·å¾—æƒ³è¦çš„ä¿¡æ¯ï¼Œæ‰€ä»¥ticketsåº”è¯¥è¿™æ ·è¢«ä½¿ç”¨ï¼š $&nbsp;tickets&nbsp;from&nbsp;to&nbsp;date å¦å¤–ï¼Œç«è½¦æœ‰å„ç§ç±»å‹ï¼Œé«˜é“ã€åŠ¨è½¦ã€ç‰¹å¿«ã€å¿«é€Ÿå’Œç›´è¾¾ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥æä¾›é€‰é¡¹åªæŸ¥è¯¢ç‰¹å®šçš„ä¸€ç§æˆ–å‡ ç§çš„ç«è½¦ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬åº”è¯¥æœ‰ä¸‹é¢è¿™äº›é€‰é¡¹ï¼š -g é«˜é“ -d åŠ¨è½¦ -t ç‰¹å¿« -k å¿«é€Ÿ -z ç›´è¾¾ è¿™å‡ ä¸ªé€‰é¡¹åº”è¯¥èƒ½è¢«ç»„åˆä½¿ç”¨ï¼Œæ‰€ä»¥ï¼Œæœ€ç»ˆæˆ‘ä»¬çš„æ¥å£åº”è¯¥æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š $&nbsp;tickets&nbsp;[-gdtkz]&nbsp;from&nbsp;to&nbsp;date æ¥å£å·²ç»ç¡®å®šå¥½äº†ï¼Œå‰©ä¸‹çš„å°±æ˜¯å®ç°å®ƒäº†ã€‚ å¼€å‘ç¯å¢ƒ å†™Pythonç¨‹åºçš„ä¸€ä¸ªè‰¯å¥½å®è·µæ˜¯ä½¿ç”¨virtualenvè¿™ä¸ªå·¥å…·å»ºä¸€ä¸ªè™šæ‹Ÿçš„ç¯å¢ƒã€‚æˆ‘ä»¬çš„ç¨‹åºä½¿ç”¨Python3å¼€å‘ï¼Œä¸‹é¢åœ¨ä½ çš„å·¥ä½œç›®å½•ä¸‹å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ticketsï¼Œè¿›å»åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼š $&nbsp;virtualenv&nbsp;-p&nbsp;/usr/bin/python3&nbsp;venv é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¿€æ´»å®ƒï¼š $&nbsp;.&nbsp;venv/bin/activate è§£æå‚æ•° Pythonæœ‰å¾ˆå¤šå†™å‘½ä»¤è¡Œåº”ç”¨çš„å·¥å…·ï¼Œå¦‚argparse, docopt, options...è¿™é‡Œï¼Œæˆ‘ä»¬é€‰ç”¨docoptè¿™ä¸ªç®€å•æ˜“ç”¨çš„å·¥å…·ï¼Œæˆ‘ä»¬å…ˆå®‰è£…å®ƒï¼š $&nbsp;pip3&nbsp;install&nbsp;docopt docoptå¯ä»¥æŒ‰æˆ‘ä»¬åœ¨æ–‡æ¡£å­—ç¬¦ä¸²ä¸­å®šä¹‰çš„æ ¼å¼æ¥è§£æå‚æ•°ï¼Œåœ¨tickets.pyä¸­ï¼š #&nbsp;coding:&nbsp;utf-8&quot;&quot;&quot;Train&nbsp;tickets&nbsp;query&nbsp;via&nbsp;command-line.Usage:&nbsp;&nbsp;&nbsp;&nbsp;tickets&nbsp;[-gdtkz]&nbsp;&lt;from&gt;&nbsp;&lt;to&gt;&nbsp;&lt;date&gt;Options:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-h,--help&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ˜¾ç¤ºå¸®åŠ©èœå•&nbsp;&nbsp;&nbsp;&nbsp;-g&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é«˜é“&nbsp;&nbsp;&nbsp;&nbsp;-d&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åŠ¨è½¦&nbsp;&nbsp;&nbsp;&nbsp;-t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç‰¹å¿«&nbsp;&nbsp;&nbsp;&nbsp;-k&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¿«é€Ÿ&nbsp;&nbsp;&nbsp;&nbsp;-z&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç›´è¾¾Example:&nbsp;&nbsp;&nbsp;&nbsp;tickets&nbsp;å—äº¬&nbsp;åŒ—äº¬&nbsp;2016-07-01&nbsp;&nbsp;&nbsp;&nbsp;tickets&nbsp;-dg&nbsp;å—äº¬&nbsp;åŒ—äº¬&nbsp;2016-07-01&quot;&quot;&quot;from&nbsp;docopt&nbsp;import&nbsp;docoptdef&nbsp;cli():&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;command-line&nbsp;interface&quot;&quot;&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arguments&nbsp;=&nbsp;docopt(__doc__)&nbsp;&nbsp;&nbsp;&nbsp;print(arguments)if&nbsp;__name__&nbsp;==&nbsp;&#39;__main__&#39;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cli() ä¸‹é¢æˆ‘ä»¬è¿è¡Œä¸€ä¸‹è¿™ä¸ªç¨‹åºï¼š $&nbsp;python3&nbsp;tickets.py&nbsp;ä¸Šæµ·&nbsp;åŒ—äº¬&nbsp;2016-07-01 æˆ‘ä»¬å¾—åˆ°ä¸‹é¢çš„å‚æ•°è§£æç»“æœï¼š {&#39;-d&#39;:&nbsp;False,&nbsp;&#39;-g&#39;:&nbsp;False,&nbsp;&#39;-k&#39;:&nbsp;False,&nbsp;&#39;-t&#39;:&nbsp;False,&nbsp;&#39;-z&#39;:&nbsp;False,&nbsp;&#39;&lt;date&gt;&#39;:&nbsp;&#39;2016-07-01&#39;,&nbsp;&#39;&lt;from&gt;&#39;:&nbsp;&#39;ä¸Šæµ·&#39;,&nbsp;&#39;&lt;to&gt;&#39;:&nbsp;&#39;åŒ—äº¬&#39;} è·å–æ•°æ® å‚æ•°å·²ç»è§£æå¥½äº†ï¼Œä¸‹é¢å°±æ˜¯å¦‚ä½•è·å–æ•°æ®äº†ï¼Œè¿™ä¹Ÿæ˜¯æœ€ä¸»è¦çš„éƒ¨åˆ†ã€‚é¦–å…ˆæˆ‘ä»¬æ‰“å¼€12306ï¼Œè¿›å…¥ä½™ç¥¨æŸ¥è¯¢é¡µé¢ï¼Œå¦‚æœä½ ä½¿ç”¨chromeï¼Œé‚£ä¹ˆæŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œé€‰ä¸­Networkä¸€æ ï¼Œåœ¨æŸ¥è¯¢æ¡†é’Ÿæˆ‘ä»¬è¾“å…¥ä¸Šæµ·åˆ°åŒ—äº¬ï¼Œæ—¥æœŸ2016-07-01, ç‚¹å‡»æŸ¥è¯¢ï¼Œæˆ‘ä»¬åœ¨è°ƒè¯•å·¥å…·å‘ç°ï¼ŒæŸ¥è¯¢ç³»ç»Ÿå®é™…ä¸Šè¯·æ±‚äº†è¿™ä¸ªURL https://kyfw.12306.cn/otn/lcxxcx/query?purpose_codes=ADULT&amp;queryDate=2016-07-01&amp;from_station=SHH&amp;to_station=BJP å¹¶ä¸”è¿”å›çš„æ˜¯JSONæ ¼å¼çš„æ•°æ®ï¼æ¥ä¸‹æ¥é—®é¢˜å°±ç®€å•äº†ï¼Œæˆ‘ä»¬åªéœ€è¦æ„å»ºè¯·æ±‚URLç„¶åè§£æè¿”å›çš„JSONæ•°æ®å°±å¯ä»¥äº†ã€‚ä½†æ˜¯æˆ‘ä»¬å‘ç°ï¼ŒURLé‡Œé¢from_stationå’Œto_stationå¹¶ä¸æ˜¯æ±‰å­—ï¼Œè€Œæ˜¯ä¸€ä¸ªä»£å·ï¼Œè€Œç”¨æˆ·è¾“å…¥çš„æ˜¯æ±‰å­—ï¼Œæˆ‘ä»¬è¦å¦‚ä½•è·å–ä»£å·å‘¢ï¼Ÿæˆ‘ä»¬æ‰“å¼€ç½‘é¡µæºç çœ‹çœ‹æœ‰æ²¡æœ‰ä»€ä¹ˆå‘ç°ã€‚ å•Šå“ˆï¼æœç„¶ï¼Œæˆ‘ä»¬åœ¨ç½‘é¡µé‡Œé¢æ‰¾åˆ°äº†è¿™ä¸ªé“¾æ¥ï¼šç‚¹æˆ‘, è¿™é‡Œé¢è²Œä¼¼æ˜¯åŒ…å«äº†æ‰€æœ‰è½¦ç«™çš„ä¸­æ–‡åï¼Œæ‹¼éŸ³ï¼Œç®€å†™å’Œä»£å·ç­‰ä¿¡æ¯, æˆ‘ä»¬åœ¨é¡¹ç›®ç›®å½•ä¸‹å°†å®ƒä¿å­˜ä¸ºstations.htmlã€‚ä½†æ˜¯è¿™äº›ä¿¡æ¯æŒ¤åœ¨ä¸€èµ·ï¼Œè€Œæˆ‘ä»¬åªæƒ³è¦ä¸­æ–‡åå’Œå¤§å†™å­—æ¯çš„ä»£å·ä¿¡æ¯ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ BINGO!æ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬å†™ä¸ªå°è„šæœ¬æ¥åŒ¹é…æå–å‡ºæƒ³è¦çš„ä¿¡æ¯å§, åœ¨parse.pyä¸­ï¼š #&nbsp;coding:&nbsp;utf-8import&nbsp;refrom&nbsp;pprint&nbsp;import&nbsp;pprintwith&nbsp;open(&#39;stations.html&#39;,&nbsp;&#39;r&#39;)&nbsp;as&nbsp;f:&nbsp;&nbsp;&nbsp;&nbsp;text&nbsp;=&nbsp;f.read()&nbsp;&nbsp;&nbsp;&nbsp;stations&nbsp;=&nbsp;re.findall(u&#39;([ä¸€-é¾¥]+)|([A-Z]+)&#39;,&nbsp;text)&nbsp;&nbsp;&nbsp;&nbsp;pprint(dict(stations),&nbsp;indent=4) æˆ‘ä»¬è¿è¡Œè¿™ä¸ªè„šæœ¬ï¼Œå®ƒå°†ä»¥å­—å…¸çš„å½¢å¼è¿”å›æ‰€æœ‰è½¦ç«™å’Œå®ƒçš„å¤§å†™å­—æ¯ä»£å·, æˆ‘ä»¬å°†ç»“æœé‡å®šå‘åˆ°stations.pyä¸­ï¼Œ $&nbsp;python3&nbsp;parse.py&nbsp;&gt;&nbsp;stations.py æˆ‘ä»¬ä¸ºè¿™ä¸ªå­—å…¸åŠ åå­—ï¼Œstations, æœ€ç»ˆï¼Œstations.pyæ–‡ä»¶æ˜¯è¿™æ ·çš„ï¼š stations&nbsp;=&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;ä¸€é—´å ¡&#39;:&nbsp;&#39;YJT&#39;,&nbsp;&nbsp;&nbsp;&nbsp;&#39;ä¸€é¢å¡&#39;:&nbsp;&#39;YPB&#39;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;é¾™é•‡&#39;:&nbsp;&#39;LZA&#39;,&nbsp;&nbsp;&nbsp;&nbsp;&#39;é¾™éª¨ç”¸&#39;:&nbsp;&#39;LGM&#39;} ç°åœ¨ï¼Œç”¨æˆ·è¾“å…¥è½¦ç«™çš„ä¸­æ–‡åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ä»è¿™ä¸ªå­—å…¸ä¸­è·å–å®ƒçš„å­—æ¯ä»£ç äº†ï¼š ...from&nbsp;stations&nbsp;import&nbsp;stationsdef&nbsp;cli():&nbsp;&nbsp;&nbsp;&nbsp;arguments&nbsp;=&nbsp;docopt(__doc__)&nbsp;&nbsp;&nbsp;&nbsp;from_staion&nbsp;=&nbsp;stations.get(arguments[&#39;&lt;from&gt;&#39;])&nbsp;&nbsp;&nbsp;&nbsp;to_station&nbsp;=&nbsp;stations.get(arguments[&#39;&lt;to&gt;&#39;])&nbsp;&nbsp;&nbsp;&nbsp;date&nbsp;=&nbsp;arguments[&#39;&lt;date&gt;&#39;]&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;æ„å»ºURL&nbsp;&nbsp;&nbsp;&nbsp;url&nbsp;=&nbsp;&#39;https://kyfw.12306.cn/otn/lcxxcx/query?purpose_codes=ADULT&amp;queryDate={}&amp;from_station={}&amp;to_station={}&#39;.format(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;date,&nbsp;from_staion,&nbsp;to_station) ä¸‡äº‹ä¿±å¤‡ï¼Œä¸‹é¢æˆ‘ä»¬æ¥è¯·æ±‚è¿™ä¸ªURLè·å–æ•°æ®å§ï¼è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨requestsè¿™ä¸ªåº“, å…ˆå®‰è£…å®ƒï¼š $&nbsp;pip3&nbsp;install&nbsp;requests å®ƒæä¾›äº†éå¸¸ç®€å•æ˜“ç”¨çš„æ¥å£ï¼Œ ...import&nbsp;requestsdef&nbsp;cli():&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;æ·»åŠ verify=Falseå‚æ•°,&nbsp;ä¸éªŒè¯è¯ä¹¦&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;requests.get(url,&nbsp;verify=False)&nbsp;&nbsp;&nbsp;&nbsp;print(r.json()) ä»ç»“æœä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œä¸è½¦ç¥¨æœ‰å…³çš„ä¿¡æ¯éœ€è¦è¿›ä¸€æ­¥æå–ï¼š def&nbsp;cli():&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;requsets.get(url);&nbsp;&nbsp;&nbsp;&nbsp;rows&nbsp;=&nbsp;r.json()[&#39;data&#39;][&#39;datas&#39;] æ˜¾ç¤ºç»“æœ æ•°æ®å·²ç»è·å–åˆ°äº†ï¼Œå‰©ä¸‹çš„å°±æ˜¯æå–æˆ‘ä»¬è¦çš„ä¿¡æ¯å¹¶å°†å®ƒæ˜¾ç¤ºå‡ºæ¥ã€‚ prettytableè¿™ä¸ªåº“å¯ä»¥è®©æˆ‘ä»¬å®ƒåƒMySQLæ•°æ®åº“é‚£æ ·æ ¼å¼åŒ–æ˜¾ç¤ºæ•°æ®ã€‚ $&nbsp;pip3&nbsp;install&nbsp;prettytable è¿™æ ·ä½¿ç”¨å®ƒï¼š ...from&nbsp;prettytable&nbsp;import&nbsp;PrettyTabledef&nbsp;cli():&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;headers&nbsp;=&nbsp;&#39;è½¦æ¬¡&nbsp;è½¦ç«™&nbsp;æ—¶é—´&nbsp;å†æ—¶&nbsp;å•†åŠ¡&nbsp;ä¸€ç­‰&nbsp;äºŒç­‰&nbsp;è½¯å§&nbsp;ç¡¬å§&nbsp;è½¯åº§&nbsp;ç¡¬åº§&nbsp;æ— åº§&#39;.split()&nbsp;&nbsp;&nbsp;&nbsp;pt&nbsp;=&nbsp;PrettyTable()&nbsp;&nbsp;&nbsp;&nbsp;pt._set_field_names(headers)&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;row&nbsp;in&nbsp;rows:&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;ä»rowä¸­æ ¹æ®headersè¿‡æ»¤ä¿¡æ¯,&nbsp;ç„¶åè°ƒç”¨pt.add_row()æ·»åŠ åˆ°è¡¨ä¸­&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;print(pt) ç»ƒä¹  ä¸‹é¢ä¸€äº›é—®é¢˜ç•™ç»™å¤§å®¶åšç»ƒä¹ : ä»æ¯ä¸€è¡Œrowä¸­æŒ‰ç…§headersè¿‡æ»¤ä¿¡æ¯ï¼Œå°†ç»“æœæ·»åŠ åˆ°prettytableä¸­ 1.åƒå¼€å§‹çš„å›¾ç‰‡ä¸­é‚£æ ·å°†å‡ºå‘ç«™å’Œåˆ°è¾¾ç«™ï¼Œå‡ºå‘æ—¶é—´å’Œåˆ°è¾¾æ—¶é—´æ˜¾ç¤ºä¸ºä¸€åˆ— 2.æ·»åŠ é¢œè‰²ï¼ˆæç¤ºï¼šä½¿ç”¨colorama, termcorloræˆ–ANSIè½¬ä¹‰å­—ç¬¦ï¼‰ 3.æ·»åŠ å¼‚å¸¸å¤„ç†ï¼Œå¦‚æœç”¨æˆ·è¾“å…¥çš„è½¦ç«™æˆ–æ—¥æœŸæœ‰é”™è¯¯æ€ä¹ˆåŠï¼Ÿå¦‚æœç½‘ç»œå¼‚å¸¸æ€ä¹ˆåŠï¼Ÿ... 4.æ·»åŠ æ›´å¤šçš„æ—¥æœŸæ ¼å¼æ”¯æŒ: æ¯”å¦‚ç”¨æˆ·è¾“å…¥20160701ä¹Ÿå¯ä»¥æŸ¥ 5.æ·»åŠ å‚æ•°æ”¯æŒï¼Œç”¨æˆ·å¯ä»¥æŒ‡å®šç«è½¦ç±»å‹ &nbsp;æ¨èâ†“â†“â†“&nbsp; é•¿ æŒ‰ å…³ æ³¨ ğŸ‘‰ã€16ä¸ªæŠ€æœ¯å…¬ä¼—å·ã€‘éƒ½åœ¨è¿™é‡Œï¼ æ¶µç›–ï¼šç¨‹åºå‘˜å¤§å’–ã€æºç å…±è¯»ã€ç¨‹åºå‘˜å…±è¯»ã€æ•°æ®ç»“æ„ä¸ç®—æ³•ã€é»‘å®¢æŠ€æœ¯å’Œç½‘ç»œå®‰å…¨ã€å¤§æ•°æ®ç§‘æŠ€ã€ç¼–ç¨‹å‰ç«¯ã€Javaã€Pythonã€Webç¼–ç¨‹å¼€å‘ã€Androidã€iOSå¼€å‘ã€Linuxã€æ•°æ®åº“ç ”å‘ã€å¹½é»˜ç¨‹åºå‘˜ç­‰ã€‚ ä¸‡æ°´åƒå±±æ€»æ˜¯æƒ…ï¼Œç‚¹ä¸ª â€œ å¥½çœ‹â€ è¡Œä¸è¡Œ" />
<meta property="og:description" content="Linuxç¼–ç¨‹ ç‚¹å‡»å³ä¾§å…³æ³¨ï¼Œå…è´¹å…¥é—¨åˆ°ç²¾é€šï¼ ä½œè€…ä¸¨protream https://www.jianshu.com/p/f411d7e10c41 å½“ä½ æƒ³æŸ¥è¯¢ä¸€ä¸‹ç«è½¦ç¥¨ä¿¡æ¯çš„æ—¶å€™ï¼Œä½ è¿˜åœ¨ä¸Š12306å®˜ç½‘å—ï¼Ÿæˆ–æ˜¯æ‰“å¼€ä½ æ‰‹æœºé‡Œçš„APPï¼Ÿä¸‹é¢è®©æˆ‘ä»¬æ¥ç”¨Pythonå†™ä¸€ä¸ªå‘½ä»¤è¡Œç‰ˆçš„ç«è½¦ç¥¨æŸ¥çœ‹å™¨, åªè¦åœ¨å‘½ä»¤è¡Œæ•²ä¸€è¡Œå‘½ä»¤å°±èƒ½è·å¾—ä½ æƒ³è¦çš„ç«è½¦ç¥¨ä¿¡æ¯ï¼å¦‚æœä½ åˆšæŒæ¡äº†PythonåŸºç¡€ï¼Œè¿™å°†æ˜¯ä¸ªä¸é”™çš„å°ç»ƒä¹ ã€‚ æ¥å£è®¾è®¡ ä¸€ä¸ªåº”ç”¨å†™å‡ºæ¥æœ€ç»ˆæ˜¯è¦ç»™äººä½¿ç”¨çš„ï¼Œå“ªæ€•åªæ˜¯ç»™ä½ è‡ªå·±ä½¿ç”¨ã€‚æ‰€ä»¥ï¼Œé¦–å…ˆåº”è¯¥æƒ³æƒ³ä½ å¸Œæœ›æ€ä¹ˆä½¿ç”¨å®ƒï¼Ÿè®©æˆ‘ä»¬å…ˆç»™è¿™ä¸ªå°åº”ç”¨èµ·ä¸ªåå­—å§ï¼Œæ—¢ç„¶åŠæŸ¥è¯¢ç¥¨åŠ¡ä¿¡æ¯ï¼Œé‚£å°±å«å®ƒticketså¥½äº†ã€‚æˆ‘ä»¬å¸Œæœ›ç”¨æˆ·åªè¦è¾“å…¥å‡ºå‘ç«™ï¼Œåˆ°è¾¾ç«™ä»¥åŠæ—¥æœŸå°±è®©å°±èƒ½è·å¾—æƒ³è¦çš„ä¿¡æ¯ï¼Œæ‰€ä»¥ticketsåº”è¯¥è¿™æ ·è¢«ä½¿ç”¨ï¼š $&nbsp;tickets&nbsp;from&nbsp;to&nbsp;date å¦å¤–ï¼Œç«è½¦æœ‰å„ç§ç±»å‹ï¼Œé«˜é“ã€åŠ¨è½¦ã€ç‰¹å¿«ã€å¿«é€Ÿå’Œç›´è¾¾ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥æä¾›é€‰é¡¹åªæŸ¥è¯¢ç‰¹å®šçš„ä¸€ç§æˆ–å‡ ç§çš„ç«è½¦ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬åº”è¯¥æœ‰ä¸‹é¢è¿™äº›é€‰é¡¹ï¼š -g é«˜é“ -d åŠ¨è½¦ -t ç‰¹å¿« -k å¿«é€Ÿ -z ç›´è¾¾ è¿™å‡ ä¸ªé€‰é¡¹åº”è¯¥èƒ½è¢«ç»„åˆä½¿ç”¨ï¼Œæ‰€ä»¥ï¼Œæœ€ç»ˆæˆ‘ä»¬çš„æ¥å£åº”è¯¥æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š $&nbsp;tickets&nbsp;[-gdtkz]&nbsp;from&nbsp;to&nbsp;date æ¥å£å·²ç»ç¡®å®šå¥½äº†ï¼Œå‰©ä¸‹çš„å°±æ˜¯å®ç°å®ƒäº†ã€‚ å¼€å‘ç¯å¢ƒ å†™Pythonç¨‹åºçš„ä¸€ä¸ªè‰¯å¥½å®è·µæ˜¯ä½¿ç”¨virtualenvè¿™ä¸ªå·¥å…·å»ºä¸€ä¸ªè™šæ‹Ÿçš„ç¯å¢ƒã€‚æˆ‘ä»¬çš„ç¨‹åºä½¿ç”¨Python3å¼€å‘ï¼Œä¸‹é¢åœ¨ä½ çš„å·¥ä½œç›®å½•ä¸‹å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ticketsï¼Œè¿›å»åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼š $&nbsp;virtualenv&nbsp;-p&nbsp;/usr/bin/python3&nbsp;venv é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¿€æ´»å®ƒï¼š $&nbsp;.&nbsp;venv/bin/activate è§£æå‚æ•° Pythonæœ‰å¾ˆå¤šå†™å‘½ä»¤è¡Œåº”ç”¨çš„å·¥å…·ï¼Œå¦‚argparse, docopt, options...è¿™é‡Œï¼Œæˆ‘ä»¬é€‰ç”¨docoptè¿™ä¸ªç®€å•æ˜“ç”¨çš„å·¥å…·ï¼Œæˆ‘ä»¬å…ˆå®‰è£…å®ƒï¼š $&nbsp;pip3&nbsp;install&nbsp;docopt docoptå¯ä»¥æŒ‰æˆ‘ä»¬åœ¨æ–‡æ¡£å­—ç¬¦ä¸²ä¸­å®šä¹‰çš„æ ¼å¼æ¥è§£æå‚æ•°ï¼Œåœ¨tickets.pyä¸­ï¼š #&nbsp;coding:&nbsp;utf-8&quot;&quot;&quot;Train&nbsp;tickets&nbsp;query&nbsp;via&nbsp;command-line.Usage:&nbsp;&nbsp;&nbsp;&nbsp;tickets&nbsp;[-gdtkz]&nbsp;&lt;from&gt;&nbsp;&lt;to&gt;&nbsp;&lt;date&gt;Options:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-h,--help&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ˜¾ç¤ºå¸®åŠ©èœå•&nbsp;&nbsp;&nbsp;&nbsp;-g&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é«˜é“&nbsp;&nbsp;&nbsp;&nbsp;-d&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åŠ¨è½¦&nbsp;&nbsp;&nbsp;&nbsp;-t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç‰¹å¿«&nbsp;&nbsp;&nbsp;&nbsp;-k&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¿«é€Ÿ&nbsp;&nbsp;&nbsp;&nbsp;-z&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç›´è¾¾Example:&nbsp;&nbsp;&nbsp;&nbsp;tickets&nbsp;å—äº¬&nbsp;åŒ—äº¬&nbsp;2016-07-01&nbsp;&nbsp;&nbsp;&nbsp;tickets&nbsp;-dg&nbsp;å—äº¬&nbsp;åŒ—äº¬&nbsp;2016-07-01&quot;&quot;&quot;from&nbsp;docopt&nbsp;import&nbsp;docoptdef&nbsp;cli():&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;command-line&nbsp;interface&quot;&quot;&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arguments&nbsp;=&nbsp;docopt(__doc__)&nbsp;&nbsp;&nbsp;&nbsp;print(arguments)if&nbsp;__name__&nbsp;==&nbsp;&#39;__main__&#39;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cli() ä¸‹é¢æˆ‘ä»¬è¿è¡Œä¸€ä¸‹è¿™ä¸ªç¨‹åºï¼š $&nbsp;python3&nbsp;tickets.py&nbsp;ä¸Šæµ·&nbsp;åŒ—äº¬&nbsp;2016-07-01 æˆ‘ä»¬å¾—åˆ°ä¸‹é¢çš„å‚æ•°è§£æç»“æœï¼š {&#39;-d&#39;:&nbsp;False,&nbsp;&#39;-g&#39;:&nbsp;False,&nbsp;&#39;-k&#39;:&nbsp;False,&nbsp;&#39;-t&#39;:&nbsp;False,&nbsp;&#39;-z&#39;:&nbsp;False,&nbsp;&#39;&lt;date&gt;&#39;:&nbsp;&#39;2016-07-01&#39;,&nbsp;&#39;&lt;from&gt;&#39;:&nbsp;&#39;ä¸Šæµ·&#39;,&nbsp;&#39;&lt;to&gt;&#39;:&nbsp;&#39;åŒ—äº¬&#39;} è·å–æ•°æ® å‚æ•°å·²ç»è§£æå¥½äº†ï¼Œä¸‹é¢å°±æ˜¯å¦‚ä½•è·å–æ•°æ®äº†ï¼Œè¿™ä¹Ÿæ˜¯æœ€ä¸»è¦çš„éƒ¨åˆ†ã€‚é¦–å…ˆæˆ‘ä»¬æ‰“å¼€12306ï¼Œè¿›å…¥ä½™ç¥¨æŸ¥è¯¢é¡µé¢ï¼Œå¦‚æœä½ ä½¿ç”¨chromeï¼Œé‚£ä¹ˆæŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œé€‰ä¸­Networkä¸€æ ï¼Œåœ¨æŸ¥è¯¢æ¡†é’Ÿæˆ‘ä»¬è¾“å…¥ä¸Šæµ·åˆ°åŒ—äº¬ï¼Œæ—¥æœŸ2016-07-01, ç‚¹å‡»æŸ¥è¯¢ï¼Œæˆ‘ä»¬åœ¨è°ƒè¯•å·¥å…·å‘ç°ï¼ŒæŸ¥è¯¢ç³»ç»Ÿå®é™…ä¸Šè¯·æ±‚äº†è¿™ä¸ªURL https://kyfw.12306.cn/otn/lcxxcx/query?purpose_codes=ADULT&amp;queryDate=2016-07-01&amp;from_station=SHH&amp;to_station=BJP å¹¶ä¸”è¿”å›çš„æ˜¯JSONæ ¼å¼çš„æ•°æ®ï¼æ¥ä¸‹æ¥é—®é¢˜å°±ç®€å•äº†ï¼Œæˆ‘ä»¬åªéœ€è¦æ„å»ºè¯·æ±‚URLç„¶åè§£æè¿”å›çš„JSONæ•°æ®å°±å¯ä»¥äº†ã€‚ä½†æ˜¯æˆ‘ä»¬å‘ç°ï¼ŒURLé‡Œé¢from_stationå’Œto_stationå¹¶ä¸æ˜¯æ±‰å­—ï¼Œè€Œæ˜¯ä¸€ä¸ªä»£å·ï¼Œè€Œç”¨æˆ·è¾“å…¥çš„æ˜¯æ±‰å­—ï¼Œæˆ‘ä»¬è¦å¦‚ä½•è·å–ä»£å·å‘¢ï¼Ÿæˆ‘ä»¬æ‰“å¼€ç½‘é¡µæºç çœ‹çœ‹æœ‰æ²¡æœ‰ä»€ä¹ˆå‘ç°ã€‚ å•Šå“ˆï¼æœç„¶ï¼Œæˆ‘ä»¬åœ¨ç½‘é¡µé‡Œé¢æ‰¾åˆ°äº†è¿™ä¸ªé“¾æ¥ï¼šç‚¹æˆ‘, è¿™é‡Œé¢è²Œä¼¼æ˜¯åŒ…å«äº†æ‰€æœ‰è½¦ç«™çš„ä¸­æ–‡åï¼Œæ‹¼éŸ³ï¼Œç®€å†™å’Œä»£å·ç­‰ä¿¡æ¯, æˆ‘ä»¬åœ¨é¡¹ç›®ç›®å½•ä¸‹å°†å®ƒä¿å­˜ä¸ºstations.htmlã€‚ä½†æ˜¯è¿™äº›ä¿¡æ¯æŒ¤åœ¨ä¸€èµ·ï¼Œè€Œæˆ‘ä»¬åªæƒ³è¦ä¸­æ–‡åå’Œå¤§å†™å­—æ¯çš„ä»£å·ä¿¡æ¯ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ BINGO!æ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬å†™ä¸ªå°è„šæœ¬æ¥åŒ¹é…æå–å‡ºæƒ³è¦çš„ä¿¡æ¯å§, åœ¨parse.pyä¸­ï¼š #&nbsp;coding:&nbsp;utf-8import&nbsp;refrom&nbsp;pprint&nbsp;import&nbsp;pprintwith&nbsp;open(&#39;stations.html&#39;,&nbsp;&#39;r&#39;)&nbsp;as&nbsp;f:&nbsp;&nbsp;&nbsp;&nbsp;text&nbsp;=&nbsp;f.read()&nbsp;&nbsp;&nbsp;&nbsp;stations&nbsp;=&nbsp;re.findall(u&#39;([ä¸€-é¾¥]+)|([A-Z]+)&#39;,&nbsp;text)&nbsp;&nbsp;&nbsp;&nbsp;pprint(dict(stations),&nbsp;indent=4) æˆ‘ä»¬è¿è¡Œè¿™ä¸ªè„šæœ¬ï¼Œå®ƒå°†ä»¥å­—å…¸çš„å½¢å¼è¿”å›æ‰€æœ‰è½¦ç«™å’Œå®ƒçš„å¤§å†™å­—æ¯ä»£å·, æˆ‘ä»¬å°†ç»“æœé‡å®šå‘åˆ°stations.pyä¸­ï¼Œ $&nbsp;python3&nbsp;parse.py&nbsp;&gt;&nbsp;stations.py æˆ‘ä»¬ä¸ºè¿™ä¸ªå­—å…¸åŠ åå­—ï¼Œstations, æœ€ç»ˆï¼Œstations.pyæ–‡ä»¶æ˜¯è¿™æ ·çš„ï¼š stations&nbsp;=&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;ä¸€é—´å ¡&#39;:&nbsp;&#39;YJT&#39;,&nbsp;&nbsp;&nbsp;&nbsp;&#39;ä¸€é¢å¡&#39;:&nbsp;&#39;YPB&#39;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;é¾™é•‡&#39;:&nbsp;&#39;LZA&#39;,&nbsp;&nbsp;&nbsp;&nbsp;&#39;é¾™éª¨ç”¸&#39;:&nbsp;&#39;LGM&#39;} ç°åœ¨ï¼Œç”¨æˆ·è¾“å…¥è½¦ç«™çš„ä¸­æ–‡åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ä»è¿™ä¸ªå­—å…¸ä¸­è·å–å®ƒçš„å­—æ¯ä»£ç äº†ï¼š ...from&nbsp;stations&nbsp;import&nbsp;stationsdef&nbsp;cli():&nbsp;&nbsp;&nbsp;&nbsp;arguments&nbsp;=&nbsp;docopt(__doc__)&nbsp;&nbsp;&nbsp;&nbsp;from_staion&nbsp;=&nbsp;stations.get(arguments[&#39;&lt;from&gt;&#39;])&nbsp;&nbsp;&nbsp;&nbsp;to_station&nbsp;=&nbsp;stations.get(arguments[&#39;&lt;to&gt;&#39;])&nbsp;&nbsp;&nbsp;&nbsp;date&nbsp;=&nbsp;arguments[&#39;&lt;date&gt;&#39;]&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;æ„å»ºURL&nbsp;&nbsp;&nbsp;&nbsp;url&nbsp;=&nbsp;&#39;https://kyfw.12306.cn/otn/lcxxcx/query?purpose_codes=ADULT&amp;queryDate={}&amp;from_station={}&amp;to_station={}&#39;.format(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;date,&nbsp;from_staion,&nbsp;to_station) ä¸‡äº‹ä¿±å¤‡ï¼Œä¸‹é¢æˆ‘ä»¬æ¥è¯·æ±‚è¿™ä¸ªURLè·å–æ•°æ®å§ï¼è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨requestsè¿™ä¸ªåº“, å…ˆå®‰è£…å®ƒï¼š $&nbsp;pip3&nbsp;install&nbsp;requests å®ƒæä¾›äº†éå¸¸ç®€å•æ˜“ç”¨çš„æ¥å£ï¼Œ ...import&nbsp;requestsdef&nbsp;cli():&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;æ·»åŠ verify=Falseå‚æ•°,&nbsp;ä¸éªŒè¯è¯ä¹¦&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;requests.get(url,&nbsp;verify=False)&nbsp;&nbsp;&nbsp;&nbsp;print(r.json()) ä»ç»“æœä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œä¸è½¦ç¥¨æœ‰å…³çš„ä¿¡æ¯éœ€è¦è¿›ä¸€æ­¥æå–ï¼š def&nbsp;cli():&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;requsets.get(url);&nbsp;&nbsp;&nbsp;&nbsp;rows&nbsp;=&nbsp;r.json()[&#39;data&#39;][&#39;datas&#39;] æ˜¾ç¤ºç»“æœ æ•°æ®å·²ç»è·å–åˆ°äº†ï¼Œå‰©ä¸‹çš„å°±æ˜¯æå–æˆ‘ä»¬è¦çš„ä¿¡æ¯å¹¶å°†å®ƒæ˜¾ç¤ºå‡ºæ¥ã€‚ prettytableè¿™ä¸ªåº“å¯ä»¥è®©æˆ‘ä»¬å®ƒåƒMySQLæ•°æ®åº“é‚£æ ·æ ¼å¼åŒ–æ˜¾ç¤ºæ•°æ®ã€‚ $&nbsp;pip3&nbsp;install&nbsp;prettytable è¿™æ ·ä½¿ç”¨å®ƒï¼š ...from&nbsp;prettytable&nbsp;import&nbsp;PrettyTabledef&nbsp;cli():&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;headers&nbsp;=&nbsp;&#39;è½¦æ¬¡&nbsp;è½¦ç«™&nbsp;æ—¶é—´&nbsp;å†æ—¶&nbsp;å•†åŠ¡&nbsp;ä¸€ç­‰&nbsp;äºŒç­‰&nbsp;è½¯å§&nbsp;ç¡¬å§&nbsp;è½¯åº§&nbsp;ç¡¬åº§&nbsp;æ— åº§&#39;.split()&nbsp;&nbsp;&nbsp;&nbsp;pt&nbsp;=&nbsp;PrettyTable()&nbsp;&nbsp;&nbsp;&nbsp;pt._set_field_names(headers)&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;row&nbsp;in&nbsp;rows:&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;ä»rowä¸­æ ¹æ®headersè¿‡æ»¤ä¿¡æ¯,&nbsp;ç„¶åè°ƒç”¨pt.add_row()æ·»åŠ åˆ°è¡¨ä¸­&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;print(pt) ç»ƒä¹  ä¸‹é¢ä¸€äº›é—®é¢˜ç•™ç»™å¤§å®¶åšç»ƒä¹ : ä»æ¯ä¸€è¡Œrowä¸­æŒ‰ç…§headersè¿‡æ»¤ä¿¡æ¯ï¼Œå°†ç»“æœæ·»åŠ åˆ°prettytableä¸­ 1.åƒå¼€å§‹çš„å›¾ç‰‡ä¸­é‚£æ ·å°†å‡ºå‘ç«™å’Œåˆ°è¾¾ç«™ï¼Œå‡ºå‘æ—¶é—´å’Œåˆ°è¾¾æ—¶é—´æ˜¾ç¤ºä¸ºä¸€åˆ— 2.æ·»åŠ é¢œè‰²ï¼ˆæç¤ºï¼šä½¿ç”¨colorama, termcorloræˆ–ANSIè½¬ä¹‰å­—ç¬¦ï¼‰ 3.æ·»åŠ å¼‚å¸¸å¤„ç†ï¼Œå¦‚æœç”¨æˆ·è¾“å…¥çš„è½¦ç«™æˆ–æ—¥æœŸæœ‰é”™è¯¯æ€ä¹ˆåŠï¼Ÿå¦‚æœç½‘ç»œå¼‚å¸¸æ€ä¹ˆåŠï¼Ÿ... 4.æ·»åŠ æ›´å¤šçš„æ—¥æœŸæ ¼å¼æ”¯æŒ: æ¯”å¦‚ç”¨æˆ·è¾“å…¥20160701ä¹Ÿå¯ä»¥æŸ¥ 5.æ·»åŠ å‚æ•°æ”¯æŒï¼Œç”¨æˆ·å¯ä»¥æŒ‡å®šç«è½¦ç±»å‹ &nbsp;æ¨èâ†“â†“â†“&nbsp; é•¿ æŒ‰ å…³ æ³¨ ğŸ‘‰ã€16ä¸ªæŠ€æœ¯å…¬ä¼—å·ã€‘éƒ½åœ¨è¿™é‡Œï¼ æ¶µç›–ï¼šç¨‹åºå‘˜å¤§å’–ã€æºç å…±è¯»ã€ç¨‹åºå‘˜å…±è¯»ã€æ•°æ®ç»“æ„ä¸ç®—æ³•ã€é»‘å®¢æŠ€æœ¯å’Œç½‘ç»œå®‰å…¨ã€å¤§æ•°æ®ç§‘æŠ€ã€ç¼–ç¨‹å‰ç«¯ã€Javaã€Pythonã€Webç¼–ç¨‹å¼€å‘ã€Androidã€iOSå¼€å‘ã€Linuxã€æ•°æ®åº“ç ”å‘ã€å¹½é»˜ç¨‹åºå‘˜ç­‰ã€‚ ä¸‡æ°´åƒå±±æ€»æ˜¯æƒ…ï¼Œç‚¹ä¸ª â€œ å¥½çœ‹â€ è¡Œä¸è¡Œ" />
<meta property="og:site_name" content="æœ‰ç»„ç»‡åœ¨ï¼" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-02-11T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"Linuxç¼–ç¨‹ ç‚¹å‡»å³ä¾§å…³æ³¨ï¼Œå…è´¹å…¥é—¨åˆ°ç²¾é€šï¼ ä½œè€…ä¸¨protream https://www.jianshu.com/p/f411d7e10c41 å½“ä½ æƒ³æŸ¥è¯¢ä¸€ä¸‹ç«è½¦ç¥¨ä¿¡æ¯çš„æ—¶å€™ï¼Œä½ è¿˜åœ¨ä¸Š12306å®˜ç½‘å—ï¼Ÿæˆ–æ˜¯æ‰“å¼€ä½ æ‰‹æœºé‡Œçš„APPï¼Ÿä¸‹é¢è®©æˆ‘ä»¬æ¥ç”¨Pythonå†™ä¸€ä¸ªå‘½ä»¤è¡Œç‰ˆçš„ç«è½¦ç¥¨æŸ¥çœ‹å™¨, åªè¦åœ¨å‘½ä»¤è¡Œæ•²ä¸€è¡Œå‘½ä»¤å°±èƒ½è·å¾—ä½ æƒ³è¦çš„ç«è½¦ç¥¨ä¿¡æ¯ï¼å¦‚æœä½ åˆšæŒæ¡äº†PythonåŸºç¡€ï¼Œè¿™å°†æ˜¯ä¸ªä¸é”™çš„å°ç»ƒä¹ ã€‚ æ¥å£è®¾è®¡ ä¸€ä¸ªåº”ç”¨å†™å‡ºæ¥æœ€ç»ˆæ˜¯è¦ç»™äººä½¿ç”¨çš„ï¼Œå“ªæ€•åªæ˜¯ç»™ä½ è‡ªå·±ä½¿ç”¨ã€‚æ‰€ä»¥ï¼Œé¦–å…ˆåº”è¯¥æƒ³æƒ³ä½ å¸Œæœ›æ€ä¹ˆä½¿ç”¨å®ƒï¼Ÿè®©æˆ‘ä»¬å…ˆç»™è¿™ä¸ªå°åº”ç”¨èµ·ä¸ªåå­—å§ï¼Œæ—¢ç„¶åŠæŸ¥è¯¢ç¥¨åŠ¡ä¿¡æ¯ï¼Œé‚£å°±å«å®ƒticketså¥½äº†ã€‚æˆ‘ä»¬å¸Œæœ›ç”¨æˆ·åªè¦è¾“å…¥å‡ºå‘ç«™ï¼Œåˆ°è¾¾ç«™ä»¥åŠæ—¥æœŸå°±è®©å°±èƒ½è·å¾—æƒ³è¦çš„ä¿¡æ¯ï¼Œæ‰€ä»¥ticketsåº”è¯¥è¿™æ ·è¢«ä½¿ç”¨ï¼š $&nbsp;tickets&nbsp;from&nbsp;to&nbsp;date å¦å¤–ï¼Œç«è½¦æœ‰å„ç§ç±»å‹ï¼Œé«˜é“ã€åŠ¨è½¦ã€ç‰¹å¿«ã€å¿«é€Ÿå’Œç›´è¾¾ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥æä¾›é€‰é¡¹åªæŸ¥è¯¢ç‰¹å®šçš„ä¸€ç§æˆ–å‡ ç§çš„ç«è½¦ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬åº”è¯¥æœ‰ä¸‹é¢è¿™äº›é€‰é¡¹ï¼š -g é«˜é“ -d åŠ¨è½¦ -t ç‰¹å¿« -k å¿«é€Ÿ -z ç›´è¾¾ è¿™å‡ ä¸ªé€‰é¡¹åº”è¯¥èƒ½è¢«ç»„åˆä½¿ç”¨ï¼Œæ‰€ä»¥ï¼Œæœ€ç»ˆæˆ‘ä»¬çš„æ¥å£åº”è¯¥æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š $&nbsp;tickets&nbsp;[-gdtkz]&nbsp;from&nbsp;to&nbsp;date æ¥å£å·²ç»ç¡®å®šå¥½äº†ï¼Œå‰©ä¸‹çš„å°±æ˜¯å®ç°å®ƒäº†ã€‚ å¼€å‘ç¯å¢ƒ å†™Pythonç¨‹åºçš„ä¸€ä¸ªè‰¯å¥½å®è·µæ˜¯ä½¿ç”¨virtualenvè¿™ä¸ªå·¥å…·å»ºä¸€ä¸ªè™šæ‹Ÿçš„ç¯å¢ƒã€‚æˆ‘ä»¬çš„ç¨‹åºä½¿ç”¨Python3å¼€å‘ï¼Œä¸‹é¢åœ¨ä½ çš„å·¥ä½œç›®å½•ä¸‹å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ticketsï¼Œè¿›å»åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼š $&nbsp;virtualenv&nbsp;-p&nbsp;/usr/bin/python3&nbsp;venv é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¿€æ´»å®ƒï¼š $&nbsp;.&nbsp;venv/bin/activate è§£æå‚æ•° Pythonæœ‰å¾ˆå¤šå†™å‘½ä»¤è¡Œåº”ç”¨çš„å·¥å…·ï¼Œå¦‚argparse, docopt, options...è¿™é‡Œï¼Œæˆ‘ä»¬é€‰ç”¨docoptè¿™ä¸ªç®€å•æ˜“ç”¨çš„å·¥å…·ï¼Œæˆ‘ä»¬å…ˆå®‰è£…å®ƒï¼š $&nbsp;pip3&nbsp;install&nbsp;docopt docoptå¯ä»¥æŒ‰æˆ‘ä»¬åœ¨æ–‡æ¡£å­—ç¬¦ä¸²ä¸­å®šä¹‰çš„æ ¼å¼æ¥è§£æå‚æ•°ï¼Œåœ¨tickets.pyä¸­ï¼š #&nbsp;coding:&nbsp;utf-8&quot;&quot;&quot;Train&nbsp;tickets&nbsp;query&nbsp;via&nbsp;command-line.Usage:&nbsp;&nbsp;&nbsp;&nbsp;tickets&nbsp;[-gdtkz]&nbsp;&lt;from&gt;&nbsp;&lt;to&gt;&nbsp;&lt;date&gt;Options:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-h,--help&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ˜¾ç¤ºå¸®åŠ©èœå•&nbsp;&nbsp;&nbsp;&nbsp;-g&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é«˜é“&nbsp;&nbsp;&nbsp;&nbsp;-d&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åŠ¨è½¦&nbsp;&nbsp;&nbsp;&nbsp;-t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç‰¹å¿«&nbsp;&nbsp;&nbsp;&nbsp;-k&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¿«é€Ÿ&nbsp;&nbsp;&nbsp;&nbsp;-z&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç›´è¾¾Example:&nbsp;&nbsp;&nbsp;&nbsp;tickets&nbsp;å—äº¬&nbsp;åŒ—äº¬&nbsp;2016-07-01&nbsp;&nbsp;&nbsp;&nbsp;tickets&nbsp;-dg&nbsp;å—äº¬&nbsp;åŒ—äº¬&nbsp;2016-07-01&quot;&quot;&quot;from&nbsp;docopt&nbsp;import&nbsp;docoptdef&nbsp;cli():&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;command-line&nbsp;interface&quot;&quot;&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arguments&nbsp;=&nbsp;docopt(__doc__)&nbsp;&nbsp;&nbsp;&nbsp;print(arguments)if&nbsp;__name__&nbsp;==&nbsp;&#39;__main__&#39;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cli() ä¸‹é¢æˆ‘ä»¬è¿è¡Œä¸€ä¸‹è¿™ä¸ªç¨‹åºï¼š $&nbsp;python3&nbsp;tickets.py&nbsp;ä¸Šæµ·&nbsp;åŒ—äº¬&nbsp;2016-07-01 æˆ‘ä»¬å¾—åˆ°ä¸‹é¢çš„å‚æ•°è§£æç»“æœï¼š {&#39;-d&#39;:&nbsp;False,&nbsp;&#39;-g&#39;:&nbsp;False,&nbsp;&#39;-k&#39;:&nbsp;False,&nbsp;&#39;-t&#39;:&nbsp;False,&nbsp;&#39;-z&#39;:&nbsp;False,&nbsp;&#39;&lt;date&gt;&#39;:&nbsp;&#39;2016-07-01&#39;,&nbsp;&#39;&lt;from&gt;&#39;:&nbsp;&#39;ä¸Šæµ·&#39;,&nbsp;&#39;&lt;to&gt;&#39;:&nbsp;&#39;åŒ—äº¬&#39;} è·å–æ•°æ® å‚æ•°å·²ç»è§£æå¥½äº†ï¼Œä¸‹é¢å°±æ˜¯å¦‚ä½•è·å–æ•°æ®äº†ï¼Œè¿™ä¹Ÿæ˜¯æœ€ä¸»è¦çš„éƒ¨åˆ†ã€‚é¦–å…ˆæˆ‘ä»¬æ‰“å¼€12306ï¼Œè¿›å…¥ä½™ç¥¨æŸ¥è¯¢é¡µé¢ï¼Œå¦‚æœä½ ä½¿ç”¨chromeï¼Œé‚£ä¹ˆæŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œé€‰ä¸­Networkä¸€æ ï¼Œåœ¨æŸ¥è¯¢æ¡†é’Ÿæˆ‘ä»¬è¾“å…¥ä¸Šæµ·åˆ°åŒ—äº¬ï¼Œæ—¥æœŸ2016-07-01, ç‚¹å‡»æŸ¥è¯¢ï¼Œæˆ‘ä»¬åœ¨è°ƒè¯•å·¥å…·å‘ç°ï¼ŒæŸ¥è¯¢ç³»ç»Ÿå®é™…ä¸Šè¯·æ±‚äº†è¿™ä¸ªURL https://kyfw.12306.cn/otn/lcxxcx/query?purpose_codes=ADULT&amp;queryDate=2016-07-01&amp;from_station=SHH&amp;to_station=BJP å¹¶ä¸”è¿”å›çš„æ˜¯JSONæ ¼å¼çš„æ•°æ®ï¼æ¥ä¸‹æ¥é—®é¢˜å°±ç®€å•äº†ï¼Œæˆ‘ä»¬åªéœ€è¦æ„å»ºè¯·æ±‚URLç„¶åè§£æè¿”å›çš„JSONæ•°æ®å°±å¯ä»¥äº†ã€‚ä½†æ˜¯æˆ‘ä»¬å‘ç°ï¼ŒURLé‡Œé¢from_stationå’Œto_stationå¹¶ä¸æ˜¯æ±‰å­—ï¼Œè€Œæ˜¯ä¸€ä¸ªä»£å·ï¼Œè€Œç”¨æˆ·è¾“å…¥çš„æ˜¯æ±‰å­—ï¼Œæˆ‘ä»¬è¦å¦‚ä½•è·å–ä»£å·å‘¢ï¼Ÿæˆ‘ä»¬æ‰“å¼€ç½‘é¡µæºç çœ‹çœ‹æœ‰æ²¡æœ‰ä»€ä¹ˆå‘ç°ã€‚ å•Šå“ˆï¼æœç„¶ï¼Œæˆ‘ä»¬åœ¨ç½‘é¡µé‡Œé¢æ‰¾åˆ°äº†è¿™ä¸ªé“¾æ¥ï¼šç‚¹æˆ‘, è¿™é‡Œé¢è²Œä¼¼æ˜¯åŒ…å«äº†æ‰€æœ‰è½¦ç«™çš„ä¸­æ–‡åï¼Œæ‹¼éŸ³ï¼Œç®€å†™å’Œä»£å·ç­‰ä¿¡æ¯, æˆ‘ä»¬åœ¨é¡¹ç›®ç›®å½•ä¸‹å°†å®ƒä¿å­˜ä¸ºstations.htmlã€‚ä½†æ˜¯è¿™äº›ä¿¡æ¯æŒ¤åœ¨ä¸€èµ·ï¼Œè€Œæˆ‘ä»¬åªæƒ³è¦ä¸­æ–‡åå’Œå¤§å†™å­—æ¯çš„ä»£å·ä¿¡æ¯ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ BINGO!æ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬å†™ä¸ªå°è„šæœ¬æ¥åŒ¹é…æå–å‡ºæƒ³è¦çš„ä¿¡æ¯å§, åœ¨parse.pyä¸­ï¼š #&nbsp;coding:&nbsp;utf-8import&nbsp;refrom&nbsp;pprint&nbsp;import&nbsp;pprintwith&nbsp;open(&#39;stations.html&#39;,&nbsp;&#39;r&#39;)&nbsp;as&nbsp;f:&nbsp;&nbsp;&nbsp;&nbsp;text&nbsp;=&nbsp;f.read()&nbsp;&nbsp;&nbsp;&nbsp;stations&nbsp;=&nbsp;re.findall(u&#39;([ä¸€-é¾¥]+)|([A-Z]+)&#39;,&nbsp;text)&nbsp;&nbsp;&nbsp;&nbsp;pprint(dict(stations),&nbsp;indent=4) æˆ‘ä»¬è¿è¡Œè¿™ä¸ªè„šæœ¬ï¼Œå®ƒå°†ä»¥å­—å…¸çš„å½¢å¼è¿”å›æ‰€æœ‰è½¦ç«™å’Œå®ƒçš„å¤§å†™å­—æ¯ä»£å·, æˆ‘ä»¬å°†ç»“æœé‡å®šå‘åˆ°stations.pyä¸­ï¼Œ $&nbsp;python3&nbsp;parse.py&nbsp;&gt;&nbsp;stations.py æˆ‘ä»¬ä¸ºè¿™ä¸ªå­—å…¸åŠ åå­—ï¼Œstations, æœ€ç»ˆï¼Œstations.pyæ–‡ä»¶æ˜¯è¿™æ ·çš„ï¼š stations&nbsp;=&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;ä¸€é—´å ¡&#39;:&nbsp;&#39;YJT&#39;,&nbsp;&nbsp;&nbsp;&nbsp;&#39;ä¸€é¢å¡&#39;:&nbsp;&#39;YPB&#39;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;é¾™é•‡&#39;:&nbsp;&#39;LZA&#39;,&nbsp;&nbsp;&nbsp;&nbsp;&#39;é¾™éª¨ç”¸&#39;:&nbsp;&#39;LGM&#39;} ç°åœ¨ï¼Œç”¨æˆ·è¾“å…¥è½¦ç«™çš„ä¸­æ–‡åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ä»è¿™ä¸ªå­—å…¸ä¸­è·å–å®ƒçš„å­—æ¯ä»£ç äº†ï¼š ...from&nbsp;stations&nbsp;import&nbsp;stationsdef&nbsp;cli():&nbsp;&nbsp;&nbsp;&nbsp;arguments&nbsp;=&nbsp;docopt(__doc__)&nbsp;&nbsp;&nbsp;&nbsp;from_staion&nbsp;=&nbsp;stations.get(arguments[&#39;&lt;from&gt;&#39;])&nbsp;&nbsp;&nbsp;&nbsp;to_station&nbsp;=&nbsp;stations.get(arguments[&#39;&lt;to&gt;&#39;])&nbsp;&nbsp;&nbsp;&nbsp;date&nbsp;=&nbsp;arguments[&#39;&lt;date&gt;&#39;]&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;æ„å»ºURL&nbsp;&nbsp;&nbsp;&nbsp;url&nbsp;=&nbsp;&#39;https://kyfw.12306.cn/otn/lcxxcx/query?purpose_codes=ADULT&amp;queryDate={}&amp;from_station={}&amp;to_station={}&#39;.format(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;date,&nbsp;from_staion,&nbsp;to_station) ä¸‡äº‹ä¿±å¤‡ï¼Œä¸‹é¢æˆ‘ä»¬æ¥è¯·æ±‚è¿™ä¸ªURLè·å–æ•°æ®å§ï¼è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨requestsè¿™ä¸ªåº“, å…ˆå®‰è£…å®ƒï¼š $&nbsp;pip3&nbsp;install&nbsp;requests å®ƒæä¾›äº†éå¸¸ç®€å•æ˜“ç”¨çš„æ¥å£ï¼Œ ...import&nbsp;requestsdef&nbsp;cli():&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;æ·»åŠ verify=Falseå‚æ•°,&nbsp;ä¸éªŒè¯è¯ä¹¦&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;requests.get(url,&nbsp;verify=False)&nbsp;&nbsp;&nbsp;&nbsp;print(r.json()) ä»ç»“æœä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œä¸è½¦ç¥¨æœ‰å…³çš„ä¿¡æ¯éœ€è¦è¿›ä¸€æ­¥æå–ï¼š def&nbsp;cli():&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;requsets.get(url);&nbsp;&nbsp;&nbsp;&nbsp;rows&nbsp;=&nbsp;r.json()[&#39;data&#39;][&#39;datas&#39;] æ˜¾ç¤ºç»“æœ æ•°æ®å·²ç»è·å–åˆ°äº†ï¼Œå‰©ä¸‹çš„å°±æ˜¯æå–æˆ‘ä»¬è¦çš„ä¿¡æ¯å¹¶å°†å®ƒæ˜¾ç¤ºå‡ºæ¥ã€‚ prettytableè¿™ä¸ªåº“å¯ä»¥è®©æˆ‘ä»¬å®ƒåƒMySQLæ•°æ®åº“é‚£æ ·æ ¼å¼åŒ–æ˜¾ç¤ºæ•°æ®ã€‚ $&nbsp;pip3&nbsp;install&nbsp;prettytable è¿™æ ·ä½¿ç”¨å®ƒï¼š ...from&nbsp;prettytable&nbsp;import&nbsp;PrettyTabledef&nbsp;cli():&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;headers&nbsp;=&nbsp;&#39;è½¦æ¬¡&nbsp;è½¦ç«™&nbsp;æ—¶é—´&nbsp;å†æ—¶&nbsp;å•†åŠ¡&nbsp;ä¸€ç­‰&nbsp;äºŒç­‰&nbsp;è½¯å§&nbsp;ç¡¬å§&nbsp;è½¯åº§&nbsp;ç¡¬åº§&nbsp;æ— åº§&#39;.split()&nbsp;&nbsp;&nbsp;&nbsp;pt&nbsp;=&nbsp;PrettyTable()&nbsp;&nbsp;&nbsp;&nbsp;pt._set_field_names(headers)&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;row&nbsp;in&nbsp;rows:&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;ä»rowä¸­æ ¹æ®headersè¿‡æ»¤ä¿¡æ¯,&nbsp;ç„¶åè°ƒç”¨pt.add_row()æ·»åŠ åˆ°è¡¨ä¸­&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;print(pt) ç»ƒä¹  ä¸‹é¢ä¸€äº›é—®é¢˜ç•™ç»™å¤§å®¶åšç»ƒä¹ : ä»æ¯ä¸€è¡Œrowä¸­æŒ‰ç…§headersè¿‡æ»¤ä¿¡æ¯ï¼Œå°†ç»“æœæ·»åŠ åˆ°prettytableä¸­ 1.åƒå¼€å§‹çš„å›¾ç‰‡ä¸­é‚£æ ·å°†å‡ºå‘ç«™å’Œåˆ°è¾¾ç«™ï¼Œå‡ºå‘æ—¶é—´å’Œåˆ°è¾¾æ—¶é—´æ˜¾ç¤ºä¸ºä¸€åˆ— 2.æ·»åŠ é¢œè‰²ï¼ˆæç¤ºï¼šä½¿ç”¨colorama, termcorloræˆ–ANSIè½¬ä¹‰å­—ç¬¦ï¼‰ 3.æ·»åŠ å¼‚å¸¸å¤„ç†ï¼Œå¦‚æœç”¨æˆ·è¾“å…¥çš„è½¦ç«™æˆ–æ—¥æœŸæœ‰é”™è¯¯æ€ä¹ˆåŠï¼Ÿå¦‚æœç½‘ç»œå¼‚å¸¸æ€ä¹ˆåŠï¼Ÿ... 4.æ·»åŠ æ›´å¤šçš„æ—¥æœŸæ ¼å¼æ”¯æŒ: æ¯”å¦‚ç”¨æˆ·è¾“å…¥20160701ä¹Ÿå¯ä»¥æŸ¥ 5.æ·»åŠ å‚æ•°æ”¯æŒï¼Œç”¨æˆ·å¯ä»¥æŒ‡å®šç«è½¦ç±»å‹ &nbsp;æ¨èâ†“â†“â†“&nbsp; é•¿ æŒ‰ å…³ æ³¨ ğŸ‘‰ã€16ä¸ªæŠ€æœ¯å…¬ä¼—å·ã€‘éƒ½åœ¨è¿™é‡Œï¼ æ¶µç›–ï¼šç¨‹åºå‘˜å¤§å’–ã€æºç å…±è¯»ã€ç¨‹åºå‘˜å…±è¯»ã€æ•°æ®ç»“æ„ä¸ç®—æ³•ã€é»‘å®¢æŠ€æœ¯å’Œç½‘ç»œå®‰å…¨ã€å¤§æ•°æ®ç§‘æŠ€ã€ç¼–ç¨‹å‰ç«¯ã€Javaã€Pythonã€Webç¼–ç¨‹å¼€å‘ã€Androidã€iOSå¼€å‘ã€Linuxã€æ•°æ®åº“ç ”å‘ã€å¹½é»˜ç¨‹åºå‘˜ç­‰ã€‚ ä¸‡æ°´åƒå±±æ€»æ˜¯æƒ…ï¼Œç‚¹ä¸ª â€œ å¥½çœ‹â€ è¡Œä¸è¡Œ","@type":"BlogPosting","url":"/2019/02/11/85a84f18b0774646540616405acc583f.html","headline":"ç”¨Pythonå†™ä¸€ä¸ªå‘½ä»¤è¡Œç«è½¦ç¥¨æŸ¥çœ‹å™¨","dateModified":"2019-02-11T00:00:00+08:00","datePublished":"2019-02-11T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/2019/02/11/85a84f18b0774646540616405acc583f.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-1');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>ç”¨Pythonå†™ä¸€ä¸ªå‘½ä»¤è¡Œç«è½¦ç¥¨æŸ¥çœ‹å™¨</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>æŸšå­ç¤¾åŒº</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <div class="rich_media_content" id="js_content"> 
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_gif/XUfq62QbuNhyG8Y9IxZUNMLyjv7k7dsq3bia9CRMmdkOM1WyLYEHlib4MFfrqRE97iaUqJ7NwhZEoHu0U8NCXWzsA/640?wx_fmt=gif" alt="640?wx_fmt=gif"></p>
   <p style="min-height:1em;text-align:center;"><a href="https://mp.weixin.qq.com/s?__biz=MzU2MzcxNzgwMg==&amp;mid=2247483650&amp;idx=3&amp;sn=7d8d32410010e2f58a8b0e9b15fa23ec&amp;scene=21#wechat_redirect" rel="nofollow"><span class="js_jump_icon h5_image_link"><img style="letter-spacing:.544px;text-align:justify;color:rgb(62,62,62);width:76px;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/XUfq62QbuNiaFZIbV1icByYIGKRlUcFt6IBMGhWJcyxibORgs6MEmSnJlA3ibibR7ibpudwZAbFZdqISttPaQTBkPPtQ/640?wx_fmt=jpeg" alt="640?wx_fmt=jpeg"></span></a></p>
   <a href="https://mp.weixin.qq.com/s?__biz=MzU2MzcxNzgwMg==&amp;mid=2247483650&amp;idx=3&amp;sn=7d8d32410010e2f58a8b0e9b15fa23ec&amp;scene=21#wechat_redirect" rel="nofollow"><span style="font-family:'å®‹ä½“', SimSun;"><strong><span style="letter-spacing:.544px;color:rgb(31,73,125);"><strong>Linuxç¼–ç¨‹</strong></span></strong></span></a>
   <span style="font-family:'é»‘ä½“', SimHei;"><strong><span style="letter-spacing:.544px;color:rgb(31,73,125);"></span></strong><strong><span style="letter-spacing:.544px;color:rgb(31,73,125);"></span></strong><strong><span style="letter-spacing:.544px;color:rgb(31,73,125);"></span></strong></span>
   <a href="https://mp.weixin.qq.com/s?__biz=MzU2MzcxNzgwMg==&amp;mid=2247483650&amp;idx=3&amp;sn=7d8d32410010e2f58a8b0e9b15fa23ec&amp;scene=21#wechat_redirect" rel="nofollow"><span style="letter-spacing:.544px;color:rgb(165,165,165);font-family:'é»‘ä½“', SimHei;"><span>ç‚¹å‡»å³ä¾§å…³æ³¨ï¼Œå…è´¹å…¥é—¨åˆ°ç²¾é€šï¼</span></span></a>
   <a href="https://mp.weixin.qq.com/s?__biz=MzU2MzcxNzgwMg==&amp;mid=2247483650&amp;idx=3&amp;sn=7d8d32410010e2f58a8b0e9b15fa23ec&amp;scene=21#wechat_redirect" rel="nofollow"><span class="js_jump_icon h5_image_link"><img style="width:56px;" title="1081255447.jpg" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/XUfq62QbuNiaFZIbV1icByYIGKRlUcFt6IldAicZsKdD8KXBZkWQz1eHWULt7Sy2XUdKWbFt8oY6f6nL5deCuF9yg/640?wx_fmt=jpeg" alt="640?wx_fmt=jpeg"></span></a>
   <p><br></p>
   <p style="letter-spacing:1px;"><span style="font-size:14px;color:rgb(136,136,136);">ä½œè€…ä¸¨protream</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:14px;color:rgb(136,136,136);">https://www.jianshu.com/p/f411d7e10c41</span></p>
   <p><br></p>
   <p><img style="border-width:0px;vertical-align:middle;color:rgb(47,47,47);font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;font-size:16px;text-align:center;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz/9xfebl1RVfIsJ8Lslo8vo6MrqL4HAiaTO4I0fFNBWic43enyXX7ibJPM3ia4Iw8NbibTqqDQbQU9n5uicXoL7XtQFicow/640?wx_fmt=other" alt="640?wx_fmt=other"></p>
   <p><br></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">å½“ä½ æƒ³æŸ¥è¯¢ä¸€ä¸‹ç«è½¦ç¥¨ä¿¡æ¯çš„æ—¶å€™ï¼Œä½ è¿˜åœ¨ä¸Š12306å®˜ç½‘å—ï¼Ÿæˆ–æ˜¯æ‰“å¼€ä½ æ‰‹æœºé‡Œçš„APPï¼Ÿä¸‹é¢è®©æˆ‘ä»¬æ¥ç”¨Pythonå†™ä¸€ä¸ªå‘½ä»¤è¡Œç‰ˆçš„ç«è½¦ç¥¨æŸ¥çœ‹å™¨, åªè¦åœ¨å‘½ä»¤è¡Œæ•²</span><span style="font-size:16px;color:rgb(74,74,74);">ä¸€è¡Œå‘½ä»¤å°±èƒ½è·å¾—ä½ æƒ³è¦çš„ç«è½¦ç¥¨ä¿¡æ¯ï¼å¦‚æœä½ åˆšæŒæ¡äº†PythonåŸºç¡€ï¼Œè¿™å°†æ˜¯ä¸ªä¸é”™çš„å°ç»ƒä¹ ã€‚</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <p style="min-height:1em;color:rgb(51,51,51);font-family:'-apple-system-font', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei UI', 'Microsoft YaHei', Arial, sans-serif;font-size:17px;letter-spacing:1px;text-align:center;"><img class="__bg_gif" style="color:rgb(74,74,74);font-size:8px;vertical-align:middle;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_gif/IwiaNBuWUDUw4OUxv50sClowAsFgibBOT8DicW3x9nlUu6buibjSVPyf3vst4EuG4dZOZcB2P62icZnyEMeP8eqoYog/640?wx_fmt=gif" alt="640?wx_fmt=gif"></p>
   <span style="font-family:'å®‹ä½“';color:rgb(0,128,255);font-size:20px;letter-spacing:1px;">æ¥å£è®¾è®¡</span>
   <p><br></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">ä¸€ä¸ªåº”ç”¨å†™å‡ºæ¥æœ€ç»ˆæ˜¯è¦ç»™äººä½¿ç”¨çš„ï¼Œå“ªæ€•åªæ˜¯ç»™ä½ è‡ªå·±ä½¿ç”¨ã€‚æ‰€ä»¥ï¼Œé¦–å…ˆåº”è¯¥æƒ³æƒ³ä½ å¸Œæœ›æ€ä¹ˆä½¿ç”¨å®ƒï¼Ÿè®©æˆ‘ä»¬å…ˆç»™è¿™ä¸ªå°åº”ç”¨èµ·ä¸ªåå­—å§ï¼Œæ—¢ç„¶åŠæŸ¥è¯¢ç¥¨åŠ¡ä¿¡æ¯ï¼Œé‚£å°±å«å®ƒticketså¥½äº†ã€‚æˆ‘ä»¬å¸Œæœ›ç”¨æˆ·åªè¦è¾“å…¥å‡ºå‘ç«™ï¼Œåˆ°è¾¾ç«™ä»¥åŠæ—¥æœŸå°±è®©å°±èƒ½è·å¾—æƒ³è¦çš„ä¿¡æ¯ï¼Œæ‰€ä»¥ticketsåº”è¯¥è¿™æ ·è¢«ä½¿ç”¨ï¼š</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs vbnet" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);">$&nbsp;tickets&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">from</span>&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">to</span>&nbsp;<span class="hljs-built_in" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">date</span><br></code></pre>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">å¦å¤–ï¼Œç«è½¦æœ‰å„ç§ç±»å‹ï¼Œé«˜é“ã€åŠ¨è½¦ã€ç‰¹å¿«ã€å¿«é€Ÿå’Œç›´è¾¾ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ä»¥æä¾›é€‰é¡¹åªæŸ¥è¯¢ç‰¹å®šçš„ä¸€ç§æˆ–å‡ ç§çš„ç«è½¦ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬åº”è¯¥æœ‰ä¸‹é¢è¿™äº›é€‰é¡¹ï¼š</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">-g é«˜é“<br><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">-d åŠ¨è½¦<br><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">-t ç‰¹å¿«<br><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">-k å¿«é€Ÿ<br><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">-z ç›´è¾¾<br><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">è¿™å‡ ä¸ªé€‰é¡¹åº”è¯¥èƒ½è¢«ç»„åˆä½¿ç”¨ï¼Œæ‰€ä»¥ï¼Œæœ€ç»ˆæˆ‘ä»¬çš„æ¥å£åº”è¯¥æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs vbnet" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);">$&nbsp;tickets&nbsp;[-gdtkz]&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">from</span>&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">to</span>&nbsp;<span class="hljs-built_in" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">date</span><br></code></pre>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"></span><br></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">æ¥å£å·²ç»ç¡®å®šå¥½äº†ï¼Œå‰©ä¸‹çš„å°±æ˜¯å®ç°å®ƒäº†ã€‚</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <p style="min-height:1em;color:rgb(51,51,51);font-family:'-apple-system-font', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei UI', 'Microsoft YaHei', Arial, sans-serif;font-size:17px;letter-spacing:1px;text-align:center;"><img class="__bg_gif" style="color:rgb(74,74,74);font-size:8px;vertical-align:middle;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_gif/IwiaNBuWUDUw4OUxv50sClowAsFgibBOT8DicW3x9nlUu6buibjSVPyf3vst4EuG4dZOZcB2P62icZnyEMeP8eqoYog/640?wx_fmt=gif" alt="640?wx_fmt=gif"></p>
   <span style="font-family:'å®‹ä½“';color:rgb(0,128,255);font-size:20px;letter-spacing:1px;">å¼€å‘ç¯å¢ƒ</span>
   <p><br></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">å†™Pythonç¨‹åºçš„ä¸€ä¸ªè‰¯å¥½å®è·µæ˜¯ä½¿ç”¨virtualenvè¿™ä¸ªå·¥å…·å»ºä¸€ä¸ªè™šæ‹Ÿçš„ç¯å¢ƒã€‚æˆ‘ä»¬çš„ç¨‹åºä½¿ç”¨Python3å¼€å‘ï¼Œä¸‹é¢åœ¨ä½ çš„å·¥ä½œç›®å½•ä¸‹å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ticketsï¼Œè¿›å»åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼š</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs php" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);">$&nbsp;virtualenv&nbsp;-p&nbsp;/usr/bin/python3&nbsp;venv<br></code></pre>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"></span><br></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¿€æ´»å®ƒï¼š</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs php" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);">$&nbsp;.&nbsp;venv/bin/activate<br></code></pre>
   <p style="letter-spacing:1px;"><br><span style="font-size:16px;color:rgb(74,74,74);"></span></p>
   <p style="min-height:1em;color:rgb(51,51,51);font-family:'-apple-system-font', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei UI', 'Microsoft YaHei', Arial, sans-serif;font-size:17px;letter-spacing:1px;text-align:center;"><img class="__bg_gif" style="color:rgb(74,74,74);font-size:8px;vertical-align:middle;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_gif/IwiaNBuWUDUw4OUxv50sClowAsFgibBOT8DicW3x9nlUu6buibjSVPyf3vst4EuG4dZOZcB2P62icZnyEMeP8eqoYog/640?wx_fmt=gif" alt="640?wx_fmt=gif"></p>
   <span style="font-family:'å®‹ä½“';color:rgb(0,128,255);font-size:20px;letter-spacing:1px;">è§£æå‚æ•°</span>
   <p><br></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">Pythonæœ‰å¾ˆå¤šå†™å‘½ä»¤è¡Œåº”ç”¨çš„å·¥å…·ï¼Œå¦‚argparse, docopt, options...è¿™é‡Œï¼Œæˆ‘ä»¬é€‰ç”¨docoptè¿™ä¸ªç®€å•æ˜“ç”¨çš„å·¥å…·ï¼Œæˆ‘ä»¬å…ˆå®‰è£…å®ƒï¼š</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs php" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);">$&nbsp;pip3&nbsp;install&nbsp;docopt<br></code></pre>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">docoptå¯ä»¥æŒ‰æˆ‘ä»¬åœ¨æ–‡æ¡£å­—ç¬¦ä¸²ä¸­å®šä¹‰çš„æ ¼å¼æ¥è§£æå‚æ•°ï¼Œåœ¨</span><span style="font-size:16px;color:rgb(111,129,254);">tickets.py</span><span style="font-size:16px;color:rgb(74,74,74);">ä¸­ï¼š<br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs python" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);"><span class="hljs-comment" style="font-size:inherit;line-height:inherit;color:rgb(128,128,128);">#&nbsp;coding:&nbsp;utf-8</span><br><br><span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">"""Train&nbsp;tickets&nbsp;query&nbsp;via&nbsp;command-line.<br><br>Usage:<br>&nbsp;&nbsp;&nbsp;&nbsp;tickets&nbsp;[-gdtkz]&nbsp;&lt;from&gt;&nbsp;&lt;to&gt;&nbsp;&lt;date&gt;<br><br>Options:&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;-h,--help&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ˜¾ç¤ºå¸®åŠ©èœå•<br>&nbsp;&nbsp;&nbsp;&nbsp;-g&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é«˜é“<br>&nbsp;&nbsp;&nbsp;&nbsp;-d&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åŠ¨è½¦<br>&nbsp;&nbsp;&nbsp;&nbsp;-t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç‰¹å¿«<br>&nbsp;&nbsp;&nbsp;&nbsp;-k&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¿«é€Ÿ<br>&nbsp;&nbsp;&nbsp;&nbsp;-z&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç›´è¾¾<br><br>Example:<br>&nbsp;&nbsp;&nbsp;&nbsp;tickets&nbsp;å—äº¬&nbsp;åŒ—äº¬&nbsp;2016-07-01<br>&nbsp;&nbsp;&nbsp;&nbsp;tickets&nbsp;-dg&nbsp;å—äº¬&nbsp;åŒ—äº¬&nbsp;2016-07-01<br>"""</span><br><span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">from</span>&nbsp;docopt&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">import</span>&nbsp;docopt<br><br><span class="hljs-function" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);"><span class="hljs-keyword" style="font-size:inherit;line-height:inherit;">def</span>&nbsp;<span class="hljs-title" style="font-size:inherit;line-height:inherit;color:rgb(165,218,45);">cli</span><span class="hljs-params" style="font-size:inherit;line-height:inherit;color:rgb(255,152,35);">()</span>:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">"""command-line&nbsp;interface"""</span>&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;arguments&nbsp;=&nbsp;docopt(__doc__)<br>&nbsp;&nbsp;&nbsp;&nbsp;print(arguments)<br><br><span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">if</span>&nbsp;__name__&nbsp;==&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'__main__'</span>:&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;cli()<br></code></pre>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">ä¸‹é¢æˆ‘ä»¬è¿è¡Œä¸€ä¸‹è¿™ä¸ªç¨‹åºï¼š</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs php" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);">$&nbsp;python3&nbsp;tickets.py&nbsp;ä¸Šæµ·&nbsp;åŒ—äº¬&nbsp;<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">2016</span><span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">-07</span><span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">-01</span><br></code></pre>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">æˆ‘ä»¬å¾—åˆ°ä¸‹é¢çš„å‚æ•°è§£æç»“æœï¼š</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs php" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);">{<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'-d'</span>:&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">False</span>,&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'-g'</span>:&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">False</span>,&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'-k'</span>:&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">False</span>,&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'-t'</span>:&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">False</span>,&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'-z'</span>:&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">False</span>,&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'&lt;date&gt;'</span>:&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'2016-07-01'</span>,&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'&lt;from&gt;'</span>:&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'ä¸Šæµ·'</span>,&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'&lt;to&gt;'</span>:&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'åŒ—äº¬'</span>}<br></code></pre>
   <p style="min-height:1em;color:rgb(51,51,51);font-family:'-apple-system-font', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei UI', 'Microsoft YaHei', Arial, sans-serif;font-size:17px;letter-spacing:1px;text-align:center;"><br></p>
   <p style="min-height:1em;color:rgb(51,51,51);font-family:'-apple-system-font', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei UI', 'Microsoft YaHei', Arial, sans-serif;font-size:17px;letter-spacing:1px;text-align:center;"><img class="__bg_gif" style="color:rgb(74,74,74);font-size:8px;vertical-align:middle;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_gif/IwiaNBuWUDUw4OUxv50sClowAsFgibBOT8DicW3x9nlUu6buibjSVPyf3vst4EuG4dZOZcB2P62icZnyEMeP8eqoYog/640?wx_fmt=gif" alt="640?wx_fmt=gif"></p>
   <span style="font-family:'å®‹ä½“';color:rgb(0,128,255);font-size:20px;letter-spacing:1px;">è·å–æ•°æ®</span>
   <p><br></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">å‚æ•°å·²ç»è§£æå¥½äº†ï¼Œä¸‹é¢å°±æ˜¯å¦‚ä½•è·å–æ•°æ®äº†ï¼Œè¿™ä¹Ÿæ˜¯æœ€ä¸»è¦çš„éƒ¨åˆ†ã€‚é¦–å…ˆæˆ‘ä»¬æ‰“å¼€</span><span style="font-size:16px;color:rgb(74,74,74);">12306</span><span style="font-size:16px;color:rgb(74,74,74);">ï¼Œè¿›å…¥ä½™ç¥¨æŸ¥è¯¢é¡µé¢ï¼Œå¦‚æœä½ ä½¿ç”¨chromeï¼Œé‚£ä¹ˆæŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œé€‰ä¸­Networkä¸€æ ï¼Œåœ¨æŸ¥è¯¢æ¡†é’Ÿæˆ‘ä»¬è¾“å…¥ä¸Šæµ·åˆ°åŒ—äº¬ï¼Œæ—¥æœŸ2016-07-01, ç‚¹å‡»æŸ¥è¯¢ï¼Œæˆ‘ä»¬åœ¨è°ƒè¯•å·¥å…·å‘ç°ï¼ŒæŸ¥è¯¢ç³»ç»Ÿå®é™…ä¸Šè¯·æ±‚äº†è¿™ä¸ªURL</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs ruby" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);"><span class="hljs-symbol" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">https:</span>/<span class="hljs-regexp" style="font-size:inherit;color:inherit;line-height:inherit;">/kyfw.12306.cn/otn</span><span class="hljs-regexp" style="font-size:inherit;color:inherit;line-height:inherit;">/lcxxcx/query</span>?purpose_codes=ADULT&amp;queryDate=<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">2016</span>-<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">07</span>-<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">01</span>&amp;from_station=SHH&amp;to_station=BJP<br></code></pre>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">å¹¶ä¸”è¿”å›çš„æ˜¯JSONæ ¼å¼çš„æ•°æ®ï¼æ¥ä¸‹æ¥é—®é¢˜å°±ç®€å•äº†ï¼Œæˆ‘ä»¬åªéœ€è¦æ„å»ºè¯·æ±‚URLç„¶åè§£æè¿”å›çš„JSONæ•°æ®å°±å¯ä»¥äº†ã€‚ä½†æ˜¯æˆ‘ä»¬å‘ç°ï¼ŒURLé‡Œé¢</span><span style="font-size:16px;color:rgb(111,129,254);">from_station</span><span style="font-size:16px;color:rgb(74,74,74);">å’Œ</span><span style="font-size:16px;color:rgb(111,129,254);">to_station</span><span style="font-size:16px;color:rgb(74,74,74);">å¹¶ä¸æ˜¯æ±‰å­—ï¼Œè€Œæ˜¯ä¸€ä¸ªä»£å·ï¼Œè€Œç”¨æˆ·è¾“å…¥çš„æ˜¯æ±‰å­—ï¼Œæˆ‘ä»¬è¦å¦‚ä½•è·å–ä»£å·å‘¢ï¼Ÿæˆ‘ä»¬æ‰“å¼€ç½‘é¡µæºç çœ‹çœ‹æœ‰æ²¡æœ‰ä»€ä¹ˆå‘ç°ã€‚</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">å•Šå“ˆï¼æœç„¶ï¼Œæˆ‘ä»¬åœ¨ç½‘é¡µé‡Œé¢æ‰¾åˆ°äº†è¿™ä¸ªé“¾æ¥ï¼šç‚¹æˆ‘, è¿™é‡Œé¢è²Œä¼¼æ˜¯åŒ…å«äº†æ‰€æœ‰è½¦ç«™çš„ä¸­æ–‡åï¼Œæ‹¼éŸ³ï¼Œç®€å†™å’Œä»£å·ç­‰ä¿¡æ¯, æˆ‘ä»¬åœ¨é¡¹ç›®ç›®å½•ä¸‹å°†å®ƒä¿å­˜ä¸º</span><span style="font-size:16px;color:rgb(111,129,254);">stations.html</span><span style="font-size:16px;color:rgb(74,74,74);">ã€‚ä½†æ˜¯è¿™äº›ä¿¡æ¯æŒ¤åœ¨ä¸€èµ·ï¼Œè€Œæˆ‘ä»¬åªæƒ³è¦ä¸­æ–‡åå’Œå¤§å†™å­—æ¯çš„ä»£å·ä¿¡æ¯ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">BINGO!æ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬å†™ä¸ªå°è„šæœ¬æ¥åŒ¹é…æå–å‡ºæƒ³è¦çš„ä¿¡æ¯å§, åœ¨parse.pyä¸­ï¼š</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs python" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);"><span class="hljs-comment" style="font-size:inherit;line-height:inherit;color:rgb(128,128,128);">#&nbsp;coding:&nbsp;utf-8</span><br><span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">import</span>&nbsp;re<br><span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">from</span>&nbsp;pprint&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">import</span>&nbsp;pprint<br><br><span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">with</span>&nbsp;open(<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'stations.html'</span>,&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'r'</span>)&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">as</span>&nbsp;f:<br>&nbsp;&nbsp;&nbsp;&nbsp;text&nbsp;=&nbsp;f.read()<br>&nbsp;&nbsp;&nbsp;&nbsp;stations&nbsp;=&nbsp;re.findall(<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">u'([ä¸€-é¾¥]+)|([A-Z]+)'</span>,&nbsp;text)<br>&nbsp;&nbsp;&nbsp;&nbsp;pprint(dict(stations),&nbsp;indent=<span class="hljs-number" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">4</span>)<br></code></pre>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">æˆ‘ä»¬è¿è¡Œè¿™ä¸ªè„šæœ¬ï¼Œå®ƒå°†ä»¥å­—å…¸çš„å½¢å¼è¿”å›æ‰€æœ‰è½¦ç«™å’Œå®ƒçš„å¤§å†™å­—æ¯ä»£å·, æˆ‘ä»¬å°†ç»“æœé‡å®šå‘åˆ°</span><span style="font-size:16px;color:rgb(111,129,254);">stations.py</span><span style="font-size:16px;color:rgb(74,74,74);">ä¸­ï¼Œ</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs php" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);">$&nbsp;python3&nbsp;parse.py&nbsp;&gt;&nbsp;stations.py<br></code></pre>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">æˆ‘ä»¬ä¸ºè¿™ä¸ªå­—å…¸åŠ åå­—ï¼Œ</span><span style="font-size:16px;color:rgb(111,129,254);">stations</span><span style="font-size:16px;color:rgb(74,74,74);">, æœ€ç»ˆï¼Œ</span><span style="font-size:16px;color:rgb(111,129,254);">stations.py</span><span style="font-size:16px;color:rgb(74,74,74);">æ–‡ä»¶æ˜¯è¿™æ ·çš„ï¼š</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs r" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);">stations&nbsp;=&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'ä¸€é—´å ¡'</span>:&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'YJT'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'ä¸€é¢å¡'</span>:&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'YPB'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">...</span>&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'é¾™é•‡'</span>:&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'LZA'</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'é¾™éª¨ç”¸'</span>:&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'LGM'</span><br>}<br></code></pre>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">ç°åœ¨ï¼Œç”¨æˆ·è¾“å…¥è½¦ç«™çš„ä¸­æ–‡åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ä»è¿™ä¸ªå­—å…¸ä¸­è·å–å®ƒçš„å­—æ¯ä»£ç äº†ï¼š</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs vbnet" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);">...<br><span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">from</span>&nbsp;stations&nbsp;import&nbsp;stations<br><br>def&nbsp;cli():<br>&nbsp;&nbsp;&nbsp;&nbsp;arguments&nbsp;=&nbsp;docopt(__doc__)<br>&nbsp;&nbsp;&nbsp;&nbsp;from_staion&nbsp;=&nbsp;stations.<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">get</span>(arguments[<span class="hljs-comment" style="font-size:inherit;line-height:inherit;color:rgb(128,128,128);">'<span class="hljs-doctag" style="font-size:inherit;color:inherit;line-height:inherit;">&lt;from&gt;</span>'])</span><br>&nbsp;&nbsp;&nbsp;&nbsp;to_station&nbsp;=&nbsp;stations.<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">get</span>(arguments[<span class="hljs-comment" style="font-size:inherit;line-height:inherit;color:rgb(128,128,128);">'<span class="hljs-doctag" style="font-size:inherit;color:inherit;line-height:inherit;">&lt;to&gt;</span>'])</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">date</span>&nbsp;=&nbsp;arguments[<span class="hljs-comment" style="font-size:inherit;line-height:inherit;color:rgb(128,128,128);">'<span class="hljs-doctag" style="font-size:inherit;color:inherit;line-height:inherit;">&lt;date&gt;</span>']</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="font-size:inherit;line-height:inherit;color:rgb(91,218,237);">#&nbsp;æ„å»ºURL</span><br>&nbsp;&nbsp;&nbsp;&nbsp;url&nbsp;=&nbsp;<span class="hljs-comment" style="font-size:inherit;line-height:inherit;color:rgb(128,128,128);">'https://kyfw.12306.cn/otn/lcxxcx/query?purpose_codes=ADULT&amp;queryDate={}&amp;from_station={}&amp;to_station={}'.format(</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">date</span>,&nbsp;from_staion,&nbsp;to_station<br>)<br></code></pre>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">ä¸‡äº‹ä¿±å¤‡ï¼Œä¸‹é¢æˆ‘ä»¬æ¥è¯·æ±‚è¿™ä¸ªURLè·å–æ•°æ®å§ï¼è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨</span><span style="font-size:16px;color:rgb(111,129,254);">requests</span><span style="font-size:16px;color:rgb(74,74,74);">è¿™ä¸ªåº“, å…ˆå®‰è£…å®ƒï¼š</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs php" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);">$&nbsp;pip3&nbsp;install&nbsp;requests<br></code></pre>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">å®ƒæä¾›äº†éå¸¸ç®€å•æ˜“ç”¨çš„æ¥å£ï¼Œ</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs python" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);">...<br><span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">import</span>&nbsp;requests<br><br><span class="hljs-function" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);"><span class="hljs-keyword" style="font-size:inherit;line-height:inherit;">def</span>&nbsp;<span class="hljs-title" style="font-size:inherit;line-height:inherit;color:rgb(165,218,45);">cli</span><span class="hljs-params" style="font-size:inherit;line-height:inherit;color:rgb(255,152,35);">()</span>:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;...<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size:inherit;line-height:inherit;color:rgb(128,128,128);">#&nbsp;æ·»åŠ verify=Falseå‚æ•°,&nbsp;ä¸éªŒè¯è¯ä¹¦</span><br>&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;requests.get(url,&nbsp;verify=<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">False</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;print(r.json())<br></code></pre>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">ä»ç»“æœä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œä¸è½¦ç¥¨æœ‰å…³çš„ä¿¡æ¯éœ€è¦è¿›ä¸€æ­¥æå–ï¼š</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs markdown" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);">def&nbsp;cli():<br>&nbsp;&nbsp;&nbsp;&nbsp;...<br>&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;requsets.get(url);<br>&nbsp;&nbsp;&nbsp;&nbsp;rows&nbsp;=&nbsp;r.json()[<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'data'</span>][<span class="hljs-symbol" style="font-size:inherit;line-height:inherit;color:rgb(174,135,250);">'datas'</span>]<br></code></pre>
   <p style="min-height:1em;color:rgb(51,51,51);font-family:'-apple-system-font', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei UI', 'Microsoft YaHei', Arial, sans-serif;font-size:17px;letter-spacing:1px;text-align:center;"><br></p>
   <p style="min-height:1em;color:rgb(51,51,51);font-family:'-apple-system-font', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei UI', 'Microsoft YaHei', Arial, sans-serif;font-size:17px;letter-spacing:1px;text-align:center;"><img class="__bg_gif" style="color:rgb(74,74,74);font-size:8px;vertical-align:middle;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_gif/IwiaNBuWUDUw4OUxv50sClowAsFgibBOT8DicW3x9nlUu6buibjSVPyf3vst4EuG4dZOZcB2P62icZnyEMeP8eqoYog/640?wx_fmt=gif" alt="640?wx_fmt=gif"></p>
   <span style="font-family:'å®‹ä½“';color:rgb(0,128,255);font-size:20px;letter-spacing:1px;">æ˜¾ç¤ºç»“æœ</span>
   <p><br></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">æ•°æ®å·²ç»è·å–åˆ°äº†ï¼Œå‰©ä¸‹çš„å°±æ˜¯æå–æˆ‘ä»¬è¦çš„ä¿¡æ¯å¹¶å°†å®ƒæ˜¾ç¤ºå‡ºæ¥ã€‚</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(111,129,254);">prettytable</span><span style="font-size:16px;color:rgb(74,74,74);">è¿™ä¸ªåº“å¯ä»¥è®©æˆ‘ä»¬å®ƒåƒMySQLæ•°æ®åº“é‚£æ ·æ ¼å¼åŒ–æ˜¾ç¤ºæ•°æ®ã€‚</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs php" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);">$&nbsp;pip3&nbsp;install&nbsp;prettytable<br></code></pre>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"></span><br></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">è¿™æ ·ä½¿ç”¨å®ƒï¼š</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <pre style="font-size:inherit;color:inherit;line-height:inherit;"><code class="hljs python" style="margin-left:2px;line-height:18px;font-size:14px;letter-spacing:0px;font-family:Consolas, Inconsolata, Courier, monospace;color:rgb(169,183,198);background:rgb(40,43,46);">...<br><span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">from</span>&nbsp;prettytable&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">import</span>&nbsp;PrettyTable<br><br><span class="hljs-function" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);"><span class="hljs-keyword" style="font-size:inherit;line-height:inherit;">def</span>&nbsp;<span class="hljs-title" style="font-size:inherit;line-height:inherit;color:rgb(165,218,45);">cli</span><span class="hljs-params" style="font-size:inherit;line-height:inherit;color:rgb(255,152,35);">()</span>:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;...<br>&nbsp;&nbsp;&nbsp;&nbsp;headers&nbsp;=&nbsp;<span class="hljs-string" style="font-size:inherit;line-height:inherit;color:rgb(238,220,112);">'è½¦æ¬¡&nbsp;è½¦ç«™&nbsp;æ—¶é—´&nbsp;å†æ—¶&nbsp;å•†åŠ¡&nbsp;ä¸€ç­‰&nbsp;äºŒç­‰&nbsp;è½¯å§&nbsp;ç¡¬å§&nbsp;è½¯åº§&nbsp;ç¡¬åº§&nbsp;æ— åº§'</span>.split()<br>&nbsp;&nbsp;&nbsp;&nbsp;pt&nbsp;=&nbsp;PrettyTable()<br>&nbsp;&nbsp;&nbsp;&nbsp;pt._set_field_names(headers)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">for</span>&nbsp;row&nbsp;<span class="hljs-keyword" style="font-size:inherit;line-height:inherit;color:rgb(248,35,117);">in</span>&nbsp;rows:<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size:inherit;line-height:inherit;color:rgb(128,128,128);">#&nbsp;ä»rowä¸­æ ¹æ®headersè¿‡æ»¤ä¿¡æ¯,&nbsp;ç„¶åè°ƒç”¨pt.add_row()æ·»åŠ åˆ°è¡¨ä¸­</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<br>&nbsp;&nbsp;&nbsp;&nbsp;print(pt)<br></code></pre>
   <p style="letter-spacing:1px;"><br><span style="font-size:16px;color:rgb(74,74,74);"></span></p>
   <p style="min-height:1em;color:rgb(51,51,51);font-family:'-apple-system-font', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei UI', 'Microsoft YaHei', Arial, sans-serif;font-size:17px;letter-spacing:1px;text-align:center;"><img class="__bg_gif" style="color:rgb(74,74,74);font-size:8px;vertical-align:middle;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_gif/IwiaNBuWUDUw4OUxv50sClowAsFgibBOT8DicW3x9nlUu6buibjSVPyf3vst4EuG4dZOZcB2P62icZnyEMeP8eqoYog/640?wx_fmt=gif" alt="640?wx_fmt=gif"></p>
   <span style="color:#0080ff;font-family:'å®‹ä½“';">ç»ƒä¹ </span>
   <p><br></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">ä¸‹é¢ä¸€äº›é—®é¢˜ç•™ç»™å¤§å®¶åšç»ƒä¹ :</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">ä»æ¯ä¸€è¡Œ</span><span style="font-size:16px;color:rgb(111,129,254);">row</span><span style="font-size:16px;color:rgb(74,74,74);">ä¸­æŒ‰ç…§</span><span style="font-size:16px;color:rgb(111,129,254);">headers</span><span style="font-size:16px;color:rgb(74,74,74);">è¿‡æ»¤ä¿¡æ¯ï¼Œå°†ç»“æœæ·»åŠ åˆ°prettytableä¸­</span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);"><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">1.åƒå¼€å§‹çš„å›¾ç‰‡ä¸­é‚£æ ·å°†å‡ºå‘ç«™å’Œåˆ°è¾¾ç«™ï¼Œå‡ºå‘æ—¶é—´å’Œåˆ°è¾¾æ—¶é—´æ˜¾ç¤ºä¸ºä¸€åˆ—<br><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">2.æ·»åŠ é¢œè‰²ï¼ˆæç¤ºï¼šä½¿ç”¨colorama, termcorloræˆ–ANSIè½¬ä¹‰å­—ç¬¦ï¼‰<br><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">3.æ·»åŠ å¼‚å¸¸å¤„ç†ï¼Œå¦‚æœç”¨æˆ·è¾“å…¥çš„è½¦ç«™æˆ–æ—¥æœŸæœ‰é”™è¯¯æ€ä¹ˆåŠï¼Ÿå¦‚æœç½‘ç»œå¼‚å¸¸æ€ä¹ˆåŠï¼Ÿ...<br><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">4.æ·»åŠ æ›´å¤šçš„æ—¥æœŸæ ¼å¼æ”¯æŒ: æ¯”å¦‚ç”¨æˆ·è¾“å…¥20160701ä¹Ÿå¯ä»¥æŸ¥<br><br></span></p>
   <p style="letter-spacing:1px;"><span style="font-size:16px;color:rgb(74,74,74);">5.æ·»åŠ å‚æ•°æ”¯æŒï¼Œç”¨æˆ·å¯ä»¥æŒ‡å®šç«è½¦ç±»å‹<br></span></p>
   <p style="text-align:center;letter-spacing:1.5px;"><span style="color:rgb(255,255,255);"><strong><span style="font-size:20px;"><br></span></strong></span></p>
   <p style="text-align:center;letter-spacing:1.5px;"><span style="color:rgb(255,255,255);"><strong><span style="font-size:20px;">&nbsp;æ¨èâ†“â†“â†“&nbsp;</span></strong></span></p>
   <img style="vertical-align:middle;width:313px;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/IwiaNBuWUDUzX3vMCt57DzWD1FUkicYK3C3VObzhyt4YU3rXujLwMXHoHqpB6B72h44DNib9J9jbQHk3giaxAeABWg/640?wx_fmt=png" alt="640?wx_fmt=png">
   <p><strong>é•¿</strong></p>
   <p><strong>æŒ‰</strong></p>
   <p><strong>å…³</strong></p>
   <p><strong>æ³¨</strong></p>
   <p style="letter-spacing:0px;"><strong><span style="font-size:18px;">ğŸ‘‰</span></strong><span style="font-size:17px;"><strong>ã€</strong></span><a href="https://mp.weixin.qq.com/s?__biz=MzUzMDc0NzU4Nw==&amp;mid=2247483768&amp;idx=1&amp;sn=4ef4f1510616baa395c507e32bb439d7&amp;scene=21#wechat_redirect" rel="nofollow" style="text-decoration:underline;color:rgb(255,79,121);font-size:17px;"><span style="color:rgb(255,79,121);font-size:17px;"><strong>16ä¸ªæŠ€æœ¯å…¬ä¼—å·</strong></span></a><span style="font-size:17px;"><strong>ã€‘éƒ½åœ¨è¿™é‡Œï¼</strong></span></p>
   <p><span style="color:rgb(136,136,136);font-size:15px;">æ¶µç›–ï¼šç¨‹åºå‘˜å¤§å’–ã€æºç å…±è¯»ã€ç¨‹åºå‘˜å…±è¯»ã€æ•°æ®ç»“æ„ä¸ç®—æ³•ã€é»‘å®¢æŠ€æœ¯å’Œç½‘ç»œå®‰å…¨ã€å¤§æ•°æ®ç§‘æŠ€ã€ç¼–ç¨‹å‰ç«¯ã€Javaã€Pythonã€Webç¼–ç¨‹å¼€å‘ã€Androidã€iOSå¼€å‘ã€Linuxã€æ•°æ®åº“ç ”å‘ã€å¹½é»˜ç¨‹åºå‘˜ç­‰ã€‚</span></p>
   <img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/ol72Wnba7fLkfGhCjKwHfZOmHMkVTIomtmHARHGo86u52ZIGicxfPPFBQ85dBUWf3trqDHPUuN7E2e26DpvfJdQ/640?wx_fmt=png" alt="640?wx_fmt=png">ä¸‡æ°´åƒå±±æ€»æ˜¯æƒ…ï¼Œç‚¹ä¸ª â€œ
   <strong><span style="color:rgb(0,112,192);">å¥½çœ‹</span></strong>â€ è¡Œä¸è¡Œ
  </div> 
 </div> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- è‡ªå®šä¹‰å¹¿å‘Š -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">æ›´å¤šç²¾å½©å†…å®¹</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">å›é¦–é¡µ</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?ee64533f3c6a7a284cd39a37ee732c8b";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
