<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>EOS DAPPå¼€å‘æ•™ç¨‹ - ç¬¬1éƒ¨åˆ† | æœ‰ç»„ç»‡åœ¨ï¼</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="EOS DAPPå¼€å‘æ•™ç¨‹ - ç¬¬1éƒ¨åˆ†" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="ä¸ºäº†å¸®åŠ©EOSåŒºå—é“¾å¼€å‘ç¤¾åŒºï¼ŒInfinite X Labsçš„å¼€å‘å›¢é˜Ÿå†³å®šè¿è¡Œä¸€ç³»åˆ—ä¸“é—¨ç”¨äºEOSå¼€å‘çš„æ•™ç¨‹ã€‚åœ¨ä¸Šä¸€ä¸ªæ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•è®¾ç½®ç”¨äºæ„å»ºEOS dAppçš„å¼€å‘ç¯å¢ƒã€‚æˆ‘ä»¬å·²ç»å¯åŠ¨äº†æˆ‘ä»¬çš„æœ¬åœ°testnetï¼Œéƒ¨ç½²äº†ä¸€ä¸ªEOSæ™ºèƒ½åˆçº¦Demoå¹¶ä¸ä¹‹è¿›è¡Œäº†äº’åŠ¨ã€‚ä½ å¯ä»¥æ‰¾åˆ°æ‰€æœ‰ä»æˆ‘ä»¬çš„EOS Blockchainå¼€å‘ç³»åˆ—æ•™ç¨‹çš„ç¬¬ä¸€ç¯‡è¿™é‡Œã€‚ ç°åœ¨æ˜¯æ—¶å€™å‡çº§äº†ã€‚å¦‚æœä¸åˆ›å»ºEOS dAppï¼Œå­¦ä¹ å¦‚ä½•æ„å»ºEOS dAppçš„æœ€ä½³æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿè¿™å°±æ˜¯æˆ‘ä»¬è¦åšçš„ã€‚é€šè¿‡å¼€å‘ï¼Œæ‚¨å°†å­¦åˆ°å¾ˆå¤šæ–°ä¸œè¥¿ï¼Œåœ¨è¿™4ä¸ªéƒ¨åˆ†æ•™ç¨‹çš„æœ€åï¼Œæ‚¨å°†èƒ½å¤Ÿåˆ›å»ºæ‚¨çš„dAppã€‚åœ¨ç³»åˆ—çš„æœ€åå°†ä¸ä½ åˆ†äº«ä¸€äº›éå¸¸æœ‰è¶£çš„ä¸œè¥¿ï¼Œä½†å°±ç›®å‰æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªæƒŠå–œğŸ™‚ è¯·æ³¨æ„ï¼ŒEOSIOä»å¤„äºå¼€å‘é˜¶æ®µï¼Œæœªæ¥æŸäº›æ­¥éª¤å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬çš„å›¢é˜Ÿå°†å°½åŠ›ä¿æŒæ•™ç¨‹å§‹ç»ˆæ˜¯æœ€æ–°çš„ã€‚ ä½ å¯ä»¥åœ¨GitHubä¸­æ‰¾åˆ°è¿™ä¸ªéƒ¨åˆ†çš„æ‰€æœ‰æºä»£ç  ä¸Šæ¬¡æ›´æ–° -&nbsp;2018å¹´11æœˆ25æ—¥&nbsp;- æœ¬æ•™ç¨‹ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„EOSIO -&nbsp;v1.4.4è¿›è¡Œäº†æ›´æ–° è®©æˆ‘ä»¬å¼€å§‹å§ï¼ åœ¨æˆ‘ä»¬å¼€å§‹ä½¿ç”¨ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ä¸€ä¸ªæƒ³æ³•ã€‚ä½ çœ‹è¿‡å²è’‚æ–‡æ–¯çš®å°”ä¼¯æ ¼çš„ã€Šå¤´å·ç©å®¶ã€‹ç”µå½±å—ï¼Ÿå¦‚æœçœ‹è¿‡ï¼Œé‚£ä½ å·²ç»çŸ¥é“ç»¿æ´²æ˜¯ä»€ä¹ˆäº†ï¼ä»¤äººå…´å¥‹ï¼Œå¯¹å§ï¼Ÿè®©æˆ‘ä»¬æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬æ˜¯å›¢é˜Ÿçš„ä¸€å‘˜ï¼Œä»–ä»¬å°†æ„å»ºä¸‹ä¸€ä¸ªOasisï¼Œæˆ‘ä»¬çš„ä»»åŠ¡æ˜¯å°†åŒºå—é“¾æŠ€æœ¯é›†æˆåˆ°å…¶ä¸­ï¼Œæˆ–è€…è‡³å°‘è¡¨æ˜å¯ä»¥å®Œæˆã€‚æˆ‘ä»¬è¦åšçš„æ˜¯ä¸€ä¸ªå°å‹dAppï¼Œå®ƒå°†æ‹¥æœ‰ç©å®¶ã€‚æ¯ä¸ªç©å®¶éƒ½å¯ä»¥ç©æ¸¸æˆï¼Œä»–å¯ä»¥ä»ä¸­æ¥æ”¶ç¡¬å¸ã€‚é€šè¿‡ç¡¬å¸ï¼Œä»–å¯ä»¥å»å¸‚åœºè´­ä¹°ç‰©å“ï¼Œè¿™å°†ç»™äºˆä»–åŠ›é‡ï¼Œèƒ½åŠ›ï¼Œå¥åº·å’Œ/æˆ–å‡çº§ã€‚å½“ç„¶è¿˜æœ‰Oasisåˆçº¦ - æˆ‘ä»¬çš„ä¸»è¦èµ·ç‚¹ã€‚ ä½ éœ€è¦ä»€ä¹ˆæ‰èƒ½å¼€å§‹å¼€å‘ ä¸ºäº†èƒ½å¤Ÿå¼€å‘EOS dAppï¼Œæ‚¨éœ€è¦å…·æœ‰C/C++çš„å…ˆå‰èƒŒæ™¯ï¼Œå› ä¸ºè¿™æ˜¯ç”¨äºEOSæ™ºèƒ½åˆçº¦çš„ç¼–ç¨‹è¯­è¨€ C/C++èƒŒæ™¯ -&nbsp;&nbsp;âœ“ ä¸€ä¸ªIDEï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­ç¼–å†™æ™ºèƒ½åˆçº¦ã€‚æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨å¸¦æœ‰C/C++æ‰©å±•çš„VS Codeï¼Œä½†æ‚¨å¯ä»¥é€‰æ‹©æœ€é€‚åˆæ‚¨çš„æ–¹å¼ã€‚**CLion**ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é€‰æ‹© IDE -&nbsp;Visual Studioä»£ç &nbsp;**&nbsp;-&nbsp;âœ“&nbsp;** å½“ç„¶ï¼Œæ‚¨éœ€è¦ä¸€ä¸ªæœ¬åœ°testnetèŠ‚ç‚¹ï¼Œå¦‚æœæ‚¨ä¸çŸ¥é“å¦‚ä½•æ„å»ºä¸€ä¸ªèŠ‚ç‚¹ã€‚**åœ¨æ­¤å¤„**æŸ¥çœ‹æˆ‘ä»¬ä¸Šä¸€ä¸ªæ•™ç¨‹çš„å¸®åŠ©ã€‚ ä¸€ä¸ªæœ‰æ•ˆçš„æœ¬åœ°testnetèŠ‚ç‚¹ -&nbsp;&nbsp;âœ“ è®¾ç½® åœ¨ç¼–å†™æˆ‘ä»¬çš„ç¬¬ä¸€ä»½åˆåŒä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€äº›åœ¨å¼€å‘è¿‡ç¨‹ä¸­éœ€è¦çš„ä¸œè¥¿ã€‚ æ­¥éª¤ï¼ƒ1 - å¯åŠ¨nodeos # è¦é»˜è®¤æƒ…å†µä¸‹å°†åˆçº¦çš„è¾“å‡ºæ‰“å°åˆ°æ§åˆ¶å°ï¼Œè¯·æ·»åŠ ï¼š # --contracts-console nodeos -e -p eosio --plugin eosio::wallet_api_plugin --plugin eosio::chain_api_plugin --plugin eosio::history_api_plugin --contracts-console ç¬¬äºŒæ­¥ - åˆ›å»ºä¸€ä¸ªé’±åŒ… å®ƒå°†å­˜å‚¨æˆ‘ä»¬åœ¨ç­¾ç½²äº¤æ˜“æ—¶å°†ä½¿ç”¨çš„å¯†é’¥ # 1. åˆ›å»ºåä¸ºâ€œoasisâ€çš„æ–°é’±åŒ… cleos wallet create -n oasis # 2. ç”Ÿæˆä¸¤å¯¹å¯†é’¥ï¼ˆä½¿ç”¨å‘½ä»¤ä¸¤æ¬¡ï¼‰ cleos create key # 3. åœ¨é’±åŒ…ä¸­å¯¼å…¥ç”Ÿæˆçš„ç§é’¥ï¼ˆæ‚¨éœ€è¦åœ¨æœ«å°¾æŒ‡å®šé’±åŒ…ï¼‰ # {private_key_1} - è¿™å°†æ˜¯OwnerKey # {private_key_2} - è¿™å°†æ˜¯ActiveKey cleos wallet import --private-key={private_key_1} -n oasis cleos wallet import --private-key={private_key_2} -n oasis # 4. å°†â€œeosioâ€å¸æˆ·çš„ç§é’¥æ·»åŠ åˆ°æ‚¨çš„é’±åŒ…ä¸­ # æ³¨æ„: å¦‚æœæ‚¨æ”¶åˆ°3090003é”™è¯¯: Provided keys, permissions, and delays do not satisfy declared authorizations # æ‚¨å¯èƒ½åº”è¯¥å°†â€œeosioâ€å¸æˆ·çš„ç§é’¥æ·»åŠ åˆ°æ‚¨çš„é’±åŒ…ä¸­ã€‚ cleos wallet import --private-key=5KQwrPbwdL6PhXujxW37FSSQZ1JiwsST4cqQzDeyXtP79zkvFD3 -n oasis æ³¨æ„ï¼šä¸è¦å¿˜è®°ä¿å­˜å¯†é’¥å’Œé’±åŒ…å¯†ç  ç¬¬3æ­¥ - åˆ›å»ºä¸€ä¸ªå¸æˆ· EOS.IOæ™ºèƒ½åˆçº¦åœ¨ä¸€ä¸ªå¸æˆ·ä¸Šè¿è¡Œã€‚å› æ­¤ï¼Œéœ€è¦ä¸€ä¸ªå¸æˆ·æ¥è½¬ç§»æˆ–ä»¥å…¶ä»–æ–¹å¼å°†äº¤æ˜“æ¨é€åˆ°åŒºå—é“¾ã€‚è®©æˆ‘ä»¬å°†æˆ‘ä»¬çš„å¸æˆ·å‘½åä¸ºâ€œ&nbsp;anorak&nbsp;â€ã€‚å¬èµ·æ¥å¾ˆç†Ÿæ‚‰ï¼Ÿ # Create the account using the public keys cleos create account eosio anorak {public_OwnerKey} {public_ActiveKey} # &quot;eosio&quot; is the name of the account who will create the new one # &quot;anorak&quot; is the name of the new account é¡¹ç›®â€™Oasisâ€™ æ˜¯æ—¶å€™å¼€å§‹å¼€å‘æˆ‘ä»¬çš„dAppäº†ï¼åˆ›å»ºåä¸ºOasisçš„é¡¹ç›®æ–‡ä»¶å¤¹ã€‚åœ¨é‡Œé¢æ·»åŠ ä¸¤ä¸ªä¸»è¦çš„å­æ–‡ä»¶å¤¹ -&nbsp;contractså’Œtestsã€‚æ˜¯çš„ï¼Œæˆ‘ä»¬ä¹Ÿè¦ç¼–å†™æµ‹è¯•ã€‚å°†æœ‰å››ä¸ªå­æ–‡ä»¶å¤¹åä¸ºï¼šPlayers, Games, Marketplace, Oasis&nbsp;- åˆ›å»ºå®ƒä»¬ã€‚ Playersæ™ºèƒ½åˆçº¦ Playerså°†æˆä¸ºæˆ‘ä»¬çš„é¦–ä¸ªEOSæ™ºèƒ½åˆçº¦ã€‚æ¯ä¸ªPlayerså°†æ‹¥æœ‰ç”¨æˆ·åï¼Œç­‰çº§ï¼Œå¥åº·ç‚¹ï¼Œèƒ½é‡ç‚¹ï¼Œå¹³è¡¡ï¼Œåº“å­˜ï¼ˆå……æ»¡ç‰©å“ï¼‰å’Œèƒ½åŠ›ã€‚ä»–å°†èƒ½å¤Ÿä»å¸‚åœºè´­ä¹°ç‰©å“ï¼Œè¿™äº›ç‰©å“å°†è¢«æ·»åŠ åˆ°ä»–çš„åº“å­˜ï¼Œå¥åº·ç‚¹ï¼Œèƒ½é‡ç‚¹å’Œ/æˆ–èƒ½åŠ›ä¸­ã€‚ä¸ºäº†è·å¾—é‡‘å¸ï¼Œä»–éœ€è¦ä¸Oasisçš„å…¶ä»–ç©å®¶ä¸€èµ·ç©æ¸¸æˆ åœ¨Playersæ–‡ä»¶å¤¹ä¸­åˆ›å»ºPlayers.hppå’ŒPlayers.cppæ–‡ä»¶ 1.&nbsp;Players.hppæ˜¯å¤´æ–‡ä»¶ï¼ŒåŒ…å«**.cpp**æ–‡ä»¶å¼•ç”¨çš„å˜é‡ï¼Œå¸¸é‡å’Œå‡½æ•°ã€‚ 2.&nbsp;Players.cppæ–‡ä»¶æ˜¯åŒ…å«åˆåŒåŠŸèƒ½çš„æºæ–‡ä»¶ã€‚ è®©æˆ‘ä»¬æ·±å…¥äº†è§£EOSåˆåŒçš„åŸºæœ¬ç»“æ„ Players.hpp #include &lt;eosiolib/eosio.hpp&gt; #include &lt;eosiolib/print.hpp&gt; #include &lt;string&gt; æ³¨æ„ï¼šæˆ‘ä»¬ç°åœ¨åªåœ¨Players.hppä¸­æ·»åŠ ï¼Œå› ä¸ºæˆ‘ä»¬è¿˜ä¸ä¼šåœ¨å…¶ä»–åˆçº¦ä¸­ä½¿ç”¨å®ƒã€‚ Players.cpp åœ¨åˆçº¦å¼€å§‹æ—¶ï¼Œæˆ‘ä»¬è®¾ç½®äº†å¼•å…¥æˆ‘ä»¬å°†è¦ä½¿ç”¨çš„æ‰€æœ‰å†…å®¹ã€‚åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼ŒPlayers.hppå·²ç»æ‹¥æœ‰å®ƒä»¬ï¼Œæ‰€ä»¥å®ƒè¶³ä»¥åœ¨æˆ‘ä»¬çš„åˆçº¦å®ç°ä¸­åªåŒ…å«æ ‡é¢˜ã€‚å¤§å¤šæ•°æ—¶å€™ï¼Œå½“ä½ ä½¿ç”¨æ ‡é¢˜æ—¶ï¼Œä½ ä¼šè¿™æ ·åšã€‚ å°†æ‰€æœ‰å†…å®¹åŒ…è£…åœ¨ä¸€ä¸ªåç§°ç©ºé—´ä¸­æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åšæ³•ï¼Œå› ä¸ºå®ƒåœ¨è¿™é‡Œç”¨Oasisæ˜¾ç¤ºã€‚ å¦‚æœæ‚¨ç†Ÿæ‚‰C++ï¼Œæ‚¨å¯èƒ½çŸ¥é“ä¸ºä»€ä¹ˆåœ¨ç±»å®ç°ä¹‹å‰æˆ‘ä»¬æœ‰ä¸¤ä¸ªusingå­å¥ã€‚å¯¹äºå…¶ä»–äºº - å½“æˆ‘ä»¬æƒ³è¦ä»C++ä¸­çš„eosioå‘½åç©ºé—´è°ƒç”¨ä¸€ä¸ªåŠ¨ä½œæ—¶ï¼Œæˆ‘ä»¬å¿…é¡»è¿™æ ·è°ƒç”¨å®ƒï¼šeosio::some_action()ä»¥é¿å…åœ¨æˆ‘ä»¬ç®€å•çš„åŠ¨ä½œåç§°å‰é¢æ¯æ¬¡æ·»åŠ eosio::ã€‚&nbsp;åœ¨å¼€å¤´æ·»åŠ using namespace eosioã€‚ #include &quot;Players.hpp&quot; namespace Oasis { using namespace eosio; using std::string; class Players : public contract { using contract::contract; public: Players(account_name self):contract(self) {} //@abi action void add(const account_name account, string&amp; username, uint64_t level) { } //@abi action void update(const account_name account, uint64_t level, int64_t healthPoints, int64_t energyPoints) { } //@abi action void getplayer(const account_name account) { } private: //@abi table player i64 struct player { uint64_t account_name; string username; uint64_t level; uint64_t health_points = 1000; uint64_t energy_points = 1000; uint64_t primary_key() const { return account_name; } EOSLIB_SERIALIZE(player, (account_name)(username)(level)(health_points)(energy_points)) }; typedef multi_index&lt;N(player), player&gt; playerIndex; }; EOSIO_ABI(Players, (add)(update)(getplayer)) } è¯¥Playersç±»ç»§æ‰¿äº†â€œcontractâ€æ™ºèƒ½åˆåŒï¼Œå¹¶ä½¿ç”¨å®ƒçš„æ„é€ å‡½æ•°ï¼ˆusing contract::contractï¼‰ã€‚ åœ¨å¼€å‘EOS dAppæ—¶ï¼Œæ‚¨åº”è¯¥çŸ¥é“çš„ä¸€ä»¶é‡è¦äº‹æƒ…æ˜¯æ™ºèƒ½åˆçº¦ä»¥åŠ¨ä½œå’Œå…±äº«å†…å­˜æ•°æ®åº“è®¿é—®çš„å½¢å¼ç›¸äº’é€šä¿¡ã€‚åˆåŒå¯ä»¥è¯»å–å¦ä¸€ä¸ªåˆåŒçš„æ•°æ®åº“çš„çŠ¶æ€ï¼Œåªè¦å®ƒåŒ…å«åœ¨å…·æœ‰å¼‚æ­¥vibeçš„äº‹åŠ¡çš„è¯»å–èŒƒå›´å†…ã€‚è¿™å¯ä»¥é€šè¿‡ä½¿ç”¨ä¸¤ç§é€šä¿¡æ¨¡å¼ä¹‹ä¸€æ¥å®ç° -&nbsp;å†…è”æˆ–å»¶è¿Ÿã€‚æ‚¨å¯ä»¥å°†å®ƒä»¬è§†ä¸ºåŒæ­¥å’Œå¼‚æ­¥ ä»EOS.IOæ–‡æ¡£ï¼š å†…è”&nbsp;- å†…è”ä¿è¯åœ¨å½“å‰äº‹åŠ¡æˆ–å±•å¼€æ—¶æ‰§è¡Œ;&nbsp;æ— è®ºæˆåŠŸä¸å¦ï¼Œéƒ½ä¸ä¼šä¼ è¾¾ä»»ä½•é€šçŸ¥ã€‚Inlineä½¿ç”¨ä¸åŸå§‹äº‹åŠ¡ç›¸åŒçš„èŒƒå›´å’Œæƒé™è¿›è¡Œæ“ä½œ å»¶æœŸ&nbsp;-&nbsp;å»¶æœŸå°†ç”±ç”Ÿäº§è€…é…Œæƒ…å†³å®š;&nbsp;å¯ä»¥ä¼ è¾¾é€šä¿¡ç»“æœï¼Œä¹Ÿå¯ä»¥ç®€å•åœ°è¶…æ—¶ã€‚å»¶æœŸå¯ä»¥è¾¾åˆ°ä¸åŒçš„èŒƒå›´å¹¶æ‰¿æ‹…å‘é€å®ƒä»¬çš„åˆåŒçš„æƒé™ã€‚ åœ¨æˆ‘ä»¬åˆåŒçš„ç±»ä¸»ä½“ä¸­ï¼Œæœ‰ä¸¤ç§ç±»å‹çš„è®¿é—®ä¿®é¥°ç¬¦ - public &amp; privateã€‚åœ¨publicæ˜¯æ„é€ å‡½æ•°å’Œæ‰€æœ‰æ“ä½œã€‚åŠ¨ä½œè¡¨ç¤ºæ™ºèƒ½åˆçº¦ä¸­çš„å•ä¸ªæ“ä½œã€‚åœ¨æˆ‘ä»¬çš„åˆçº¦ä¸­ï¼Œæˆ‘ä»¬æœ‰add, update &amp; getplayerã€‚æˆ‘ä»¬ç¨åä¼šçœ‹ä¸€ä¸‹å®ƒä»¬ã€‚ä¸æ­¤åŒæ—¶ï¼Œæ‚¨åº”è¯¥å·²ç»æ³¨æ„åˆ°åœ¨æ¯æ¬¡æ“ä½œä¹‹å‰æˆ‘ä»¬éƒ½æœ‰â€œ&nbsp;//@abi action&nbsp;â€ã€‚å®ƒæ˜¯eosiocppè„šæœ¬çš„æŒ‡ç¤ºæ ‡å¿—ï¼Œå®ƒå°†ä¸ºæˆ‘ä»¬çš„æ™ºèƒ½åˆçº¦ç”Ÿæˆ**.abi**æ–‡ä»¶ã€‚ åœ¨privateéƒ¨åˆ†ï¼Œæˆ‘ä»¬ä¿ç•™äº†æˆ‘ä»¬ä¸å¸Œæœ›ä»PlayersåˆåŒä¹‹å¤–è®¿é—®çš„æ‰€æœ‰å†…å®¹ã€‚è¿™é‡Œæˆ‘ä»¬æ­£åœ¨åˆå§‹åŒ–multi_indexã€‚å®ƒæ˜¯ä»€ä¹ˆä»¥åŠä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ //@abi table player i64 struct player { uint64_t account_name; string username; uint64_t level; uint64_t health_points = 1000; uint64_t energy_points = 1000; uint64_t primary_key() const { return username; } EOSLIB_SERIALIZE(player, (account_name)(username)(level)(health_points)(energy_points)) }; typedef multi_index&lt;N(player), player&gt; playerIndex; æ­£å¦‚æˆ‘ä»¬æ‰€è¯´ï¼Œä¸€ä¸ªactionä»£è¡¨äº†æ™ºèƒ½åˆçº¦ä¸­çš„å•ä¸€æ“ä½œã€‚æ¯ä¸ªæ“ä½œéƒ½åœ¨å…¶è‡ªå·±çš„ç¯å¢ƒä¸­è¿è¡Œï¼Œç§°ä¸ºæ“ä½œä¸Šä¸‹æ–‡ã€‚ä¸Šä¸‹æ–‡æä¾›äº†æ‰§è¡Œæ“ä½œæ‰€éœ€çš„ä¸€äº›å†…å®¹ã€‚å…¶ä¸­ä¸€ä»¶äº‹æ˜¯actionçš„å·¥ä½œmemoryã€‚è¿™æ˜¯actionä¿æŒå…¶stateçš„åœ°æ–¹ã€‚åœ¨å¤„ç†actionä¹‹å‰ï¼ŒEOSIOä¼šä¸ºæ“ä½œè®¾ç½®ä¸€ä¸ªå¹²å‡€çš„å·¥ä½œmemoryã€‚åœ¨æ–°actionçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œåœ¨æ‰§è¡Œå¦ä¸€ä¸ªæ“ä½œæ—¶å¯èƒ½å·²è®¾ç½®çš„å˜é‡ã€‚åœ¨æ“ä½œä¹‹é—´ä¼ é€’çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯å°†å…¶æŒä¹…åŒ–å¹¶ä»EOSIOæ•°æ®åº“ä¸­æ£€ç´¢å®ƒã€‚ è¿™å¯ä»¥é€šè¿‡å¤šç´¢å¼•å®ç°ï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨EOSIOæ•°æ®åº“ä¸­è¯»å–å’Œä¿®æ”¹æŒä¹…çŠ¶æ€ã€‚ åœ¨æˆ‘ä»¬çš„åˆåŒä¸­ï¼Œæˆ‘ä»¬å·²ç»ä¸ºå¤šç´¢å¼•è¡¨å£°æ˜äº†ä¸€ä¸ªåä¸ºplayerçš„å¯¹è±¡æ¨¡æ¿ã€‚é‡è¦çš„æ˜¯è¦æ³¨æ„ï¼Œå½“æˆ‘ä»¬ä¸ºè¡¨åˆ›å»ºæ¨¡æ¿æ—¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ·»åŠ primary_keyã€‚æˆ‘ä»¬ä½¿ç”¨account_nameï¼Œå› ä¸ºæˆ‘ä»¬æƒ³è¦æ¯ä¸ªå¸æˆ·æ˜¯ä¸€ä¸ªplayerã€‚ æˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªeosiocppè„šæœ¬çš„æŒ‡ç¤ºæ ‡å¿—- â€œ&nbsp;//@abi table player i64&nbsp;â€ã€‚è¿™è¯´æ˜æˆ‘ä»¬è¡¨çš„åç§°æ˜¯playerï¼Œä½¿ç”¨çš„ç´¢å¼•ç±»å‹æ˜¯i64ã€‚ ä¸€æ—¦å¯¹è±¡å‡†å¤‡å°±ç»ªï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä»¥ä¸‹æ¨¡æ¿é”®å…¥æˆ‘ä»¬çš„å¤šç´¢å¼•ï¼š // typedef multi_index&lt;N(table_name), object_template_to_use&gt; multi_index_name; typedef multi_index&lt;N(player), player&gt; playerIndex; æ‚¨å¯èƒ½æƒ³çŸ¥é“EOSLIB_SERIALIZEå’ŒEOSIO_ABIæ˜¯ä»€ä¹ˆã€‚ EOSLIB_SERIALIZE(player, (account_name)(username)(level)(health_points)(energy_points)) EOSIO_ABI(Players, (add)(update)(health)(energy)(getplayer)) è¿™äº›æ˜¯C++å®ã€‚EOSIO_ABIå°è£…äº†applyæ–¹æ³•çš„é€»è¾‘ã€‚applyæ˜¯actionå¤„ç†ç¨‹åºï¼Œå®ƒç›‘å¬æ‰€æœ‰ä¼ å…¥çš„actionå¹¶æ ¹æ®å‡½æ•°ä¸­çš„è§„èŒƒåšå‡ºååº”ã€‚å®çš„ç»“æ„éå¸¸ç®€å•ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç±»å‹ï¼ˆå½“å‰ç±»çš„åç§°ï¼‰ï¼Œä¸‹ä¸€ä¸ªå‚æ•°æ˜¯ä¸‹é¢ç¤ºä¾‹ä¸­åˆ—å‡ºçš„æ‰€æœ‰action // EOSIO_ABI(class_name, (action_1)(action_2)(action_3)...(action_n)) è¯¥EOSLIB_SERIALIZEå®æä¾›äº†åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ–¹æ³•ï¼Œä½¿actionå¯ä»¥åœ¨åˆçº¦å’Œnodeosç³»ç»Ÿä¹‹é—´æ¥å›ä¼ é€’ã€‚ // EOSLIB_SERIALIZE(struct_name, (property_1)(property_2)(property_3)...(property_n)) å®ç°action ç°åœ¨è®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹æ¯ä¸ªactionåŠå…¶å®ç°ã€‚ ç¬¬ä¸€ä¸ªæ˜¯â€œaddâ€ã€‚å®ƒè´Ÿè´£åœ¨Oasisä¸­åˆ›å»ºä¸€ä¸ªæ–°ç©å®¶ã€‚ //@abi action void add(const account_name account, string&amp; username) { /** * We require that only the owner of an account can use this action * or somebody with the account authorization */ require_auth(account); /** * We access the &quot;player&quot; table as creating an object of type &quot;playerIndex&quot; * As parameters we pass code &amp; scope - _self from the parent contract */ playerIndex players(_self, _self); /** * We must verify that the account doesn&#39;t exist yet * If the account is not found the iterator variable should be players.end() */ auto iterator = players.find(account); eosio_assert(iterator == players.end(), &quot;Address for account already exists&quot;); /** * We add the new player in the table * The first argument is the payer of the storage which will store the data */ players.emplace(account, [&amp;](auto&amp; player) { player.account_name = account; player.username = username; player.level = 1; player.health_points = 1000; player.energy_points = 1000; }); } å®ç°actionæœ‰4ä¸ªä¸»è¦å…³é”®ç‚¹ï¼š ç”±äºæˆ‘ä»¬åªå¸Œæœ›å¸æˆ·æ‰€æœ‰è€…æˆ–æ‹¥æœ‰å¸æˆ·æƒé™çš„äººèƒ½å¤Ÿåˆ›å»ºç©å®¶ï¼Œå› æ­¤æˆ‘ä»¬æ·»åŠ äº†å¸æˆ·éªŒè¯æ£€æŸ¥ã€‚ç”±äºrequire_authå‡½æ•°ï¼Œè¿™å¾ˆå®¹æ˜“å®Œæˆã€‚ ä¸ºäº†ä½¿ç”¨åˆ›å»ºçš„è¡¨ -&nbsp;playerï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªâ€œplayerIndexâ€ç±»å‹çš„å¯¹è±¡ã€‚ ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬å¿…é¡»é¦–å…ˆéªŒè¯è¯¥å¸æˆ·æ˜¯å¦å­˜åœ¨ æœ€åï¼Œæ·»åŠ æ–°çš„playerã€‚ä½œä¸ºä»»ä½•æ–°playerï¼Œå®ƒä»1çº§å¼€å§‹ï¼Œæœ€å¤§ç”Ÿå‘½å€¼å’Œèƒ½é‡ç‚¹ç­‰äº1000.è¯·æ³¨æ„ï¼Œemplaceå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°å°†æ˜¯å­˜å‚¨æ•°æ®çš„å­˜å‚¨çš„playerã€‚åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬è®¾ç½®äº†è§¦å‘è¯¥æ“ä½œçš„å½“å‰å¸æˆ·ä½œä¸ºplayerã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±è®¾å®šã€‚ ä¸‹ä¸€ä¸ªactionæ˜¯â€œupdateâ€ã€‚å®ƒè´Ÿè´£æ›´æ–°ç©å®¶çš„ç­‰çº§ï¼Œå¥åº·å’Œèƒ½é‡ç‚¹ã€‚è¯¥å®ç°ä¸â€œaddâ€æ“ä½œéå¸¸ç›¸ä¼¼ï¼Œåªæ˜¯æˆ‘ä»¬æ­£åœ¨ä¿®æ”¹playerçŠ¶æ€ï¼Œè€Œmodifyå‡½æ•°å°†iteratorä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚å¯¹è¯¥iteratoræ‰€æŒ‡å‘çš„å¯¹è±¡è¿›è¡Œæ›´æ–° //@abi action void update(account_name account, uint64_t level, int64_t healthPoints, int64_t energyPoints) { require_auth(account); playerIndex players(_self, _self); auto iterator = players.find(account); eosio_assert(iterator != players.end(), &quot;Address for account not found&quot;); /** * We add the new player in the table * The first argument is the payer of the storage which will store the data */ players.modify(iterator, account, [&amp;](auto&amp; player) { player.level = level; if ((player.health_points - healthPoints) &lt; 0) { player.health_points = 0; } else { player.health_points -= healthPoints; } if ((player.energy_points - energyPoints) &lt; 0) { player.energy_points = 0; } else { player.energy_points -= energyPoints; } }); } æœ€åä¸€ä¸ªactionæ˜¯â€œ&nbsp;getplayer&nbsp;â€ï¼Œæ‰“å°æœ‰å…³playerçš„ä¿¡æ¯ã€‚å®ƒæ²¡æœ‰require_authå‡½æ•°ï¼Œå› ä¸ºä»»ä½•äººéƒ½å¯ä»¥è°ƒç”¨å®ƒã€‚ //@abi action void getplayer(const account_name account) { playerIndex players(_self, _self); auto iterator = players.find(account); eosio_assert(iterator != players.end(), &quot;Address for account not found&quot;); /** * The &quot;get&quot; function returns a constant reference to the object * containing the specified secondary key */ auto currentPlayer = players.get(account); print(&quot;Username: &quot;, currentPlayer.username.c_str(), &quot; Level: &quot;, currentPlayer.level, &quot; Health: &quot;, currentPlayer.health_points, &quot; Energy: &quot;, currentPlayer.energy_points); } ç©å®¶æ™ºèƒ½åˆçº¦éƒ¨ç½² æˆ‘ä»¬ç¡®å®åšäº†å¾ˆå¤šäº‹æƒ…ï¼Œç°åœ¨æ˜¯æ—¶å€™åœ¨åŒºå—é“¾ä¸Šéƒ¨ç½²æˆ‘ä»¬çš„æ™ºèƒ½åˆçº¦äº†ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç”Ÿæˆ.wastå’Œ.abiæ–‡ä»¶ã€‚æˆ‘ä»¬å°†ä½¿ç”¨eosiocppè„šæœ¬æ¥å®Œæˆå®ƒã€‚è½¬åˆ°Playersæ–‡ä»¶å¤¹å¹¶åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š eosiocpp -o Players.wast Players.cpp è¯¥å‘½ä»¤å°†ç”Ÿæˆæˆ‘ä»¬åˆåŒçš„Webç¨‹åºé›†ã€‚ æ¥ä¸‹æ¥ï¼Œå½“æ‚¨åœ¨åŒä¸€ç›®å½•ä¸­æ—¶ï¼Œè¿è¡Œæ­¤å‘½ä»¤ä»¥ç”ŸæˆPlayers.abiã€‚ eosiocpp -g Players.abi Players.cpp ç°åœ¨ï¼Œå½“æˆ‘ä»¬æœ‰Players.wastï¼†Players.abiï¼Œç°åœ¨ä½¿ç”¨å®ƒä»¬æ¥éƒ¨ç½²æˆ‘ä»¬çš„åˆåŒã€‚ # cleos set contract {account} {path_to_contract_folder} {path_to_.wast_file} {path_to_.abi_file} cleos set contract anorak ./contracts/Players ./contracts/Players/Players.wast ./contracts/Players/Players.abi Reading WAST/WASM from ./contracts/Players/Players.wast... Assembling WASM... Publishing contract... executed transaction: 2187a85a5e80cbd2c0e6715b6847c95cbb5da5df7ed1171be87709507678795d 6472 bytes 6582 us # eosio &lt;= eosio::setcode {&quot;account&quot;:&quot;anorak&quot;,&quot;vmtype&quot;:0,&quot;vmversion&quot;:0,&quot;code&quot;:&quot;0061736d010000000182011560037f7e7f0060057f7e7e7... # eosio &lt;= eosio::setabi {&quot;account&quot;:&quot;anorak&quot;,&quot;abi&quot;:&quot;0e656f73696f3a3a6162692f312e300002046974656d0006076974656d5f69640675696e7... æµ‹è¯•æ™ºèƒ½åˆçº¦ çœŸæ£’ï¼æ‚¨å·²ç»éƒ¨ç½²äº†ç¬¬ä¸€ä»½EOSåˆåŒã€‚ç°åœ¨æ˜¯æ—¶å€™æµ‹è¯•æˆ‘ä»¬çš„actionäº†ã€‚æˆ‘ä»¬å…ˆæ·»åŠ ä¸€ä¸ªæ–°ç”¨æˆ·ã€‚æ‚¨å¯ä»¥ä½¿ç”¨push actionå‘½ä»¤è§¦å‘æ“ä½œï¼š # cleos push action {account} {action_name} &#39;{data}&#39; -p {account}@active cleos push action anorak add &#39;[&quot;anorak&quot;,&quot;art3mis&quot;]&#39; -p anorak@active executed transaction: 00ea5aa48e50c33737b253ac24cb6bef3f296399e9a7e61b81044a852bb5c709 112 bytes 3015 us # anorak &lt;= anorak::add {&quot;account&quot;:&quot;anorak&quot;,&quot;username&quot;:&quot;art3mis&quot;} æ³¨æ„ï¼šä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„EOSIOï¼Œæ‚¨åº”è¯¥åœ¨æ¨é€ä»»ä½•æ“ä½œä¹‹å‰å§‹ç»ˆæ·»åŠ æƒé™æ ‡å¿—ã€‚ è®©æˆ‘ä»¬çœ‹çœ‹playeræ˜¯å¦æ˜¯ä½¿ç”¨â€œ&nbsp;getplayer&nbsp;â€æ¥åˆ›å»ºçš„ # cleos push action {account} {action} {data} # account - The account providing the contract to execute # action - The action to execute on the contract # data - The arguments to the contract cleos push action anorak getplayer &#39;[&quot;anorak&quot;]&#39; -p anorak@active executed transaction: 759ba984c4f9216d79fc473757a398ee6248c043ab6596cd8336a08512a4f465 104 bytes 2443 us # anorak &lt;= anorak::getplayer {&quot;account&quot;:&quot;anorak&quot;} &gt;&gt; Username: art3mis Level: 1 Health: 1000 Energy: 1000 ä¸€åˆ‡çœ‹èµ·æ¥éƒ½å¾ˆå®Œç¾ã€‚ ç°åœ¨æˆ‘ä»¬å°†æ›´æ–°æˆ‘ä»¬çš„playerï¼Œå¹¶å°†å†æ¬¡ä½¿ç”¨â€œ&nbsp;getplayer&nbsp;â€actionæ¥æŸ¥çœ‹æˆ‘ä»¬æ˜¯å¦å·²æˆåŠŸï¼š cleos push action anorak update &#39;[&quot;anorak&quot;,4,75,110]&#39; -p anorak@active executed transaction: 905c847178d47ca8a230fdf2ba1c92c42529aeebb118280fdbf9ccb1415992de 128 bytes 748 us # anorak &lt;= anorak::update {&quot;account&quot;:&quot;anorak&quot;,&quot;level&quot;:4,&quot;healthPoints&quot;:75,&quot;energyPoints&quot;:110} cleos push action anorak getplayer &#39;[&quot;anorak&quot;]&#39; -p anorak@active executed transaction: 31bf65b2d69f0977474ddd0332faddf5495cf7050d4ad7d5e678fbd4f7ad4eea 104 bytes 5654 us # anorak &lt;= anorak::getplayer {&quot;account&quot;:&quot;anorak&quot;} &gt;&gt; Username: art3mis Level: 4 Health: 925 Energy: 890 æˆ‘ä»¬çš„æ’­æ”¾å™¨å·²æˆåŠŸæ›´æ–°ã€‚åšå¾—å¥½ï¼ æ‘˜è¦ æˆ‘ä»¬åˆ°æ­¤ä¸ºæ­¢ã€‚æˆ‘ä»¬ä»Šå¤©åšäº†å¾ˆå¤šæ–°äº‹ç‰©ã€‚èŠ±ç‚¹æ—¶é—´äº†è§£æˆ‘ä»¬æ‰€åšçš„ä¸€åˆ‡ï¼Œå¹¶å°è¯•è‡ªå·±åšã€‚ğŸ™‚ åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»ä»‹ç»äº†EOSæ™ºèƒ½åˆçº¦çš„åŸºç¡€çŸ¥è¯†ã€‚åœ¨ä¸‹ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†å†æ¬¡å‡çº§ã€‚æˆ‘ä»¬å°†æ‰©å±•ç©å®¶åˆåŒï¼Œæˆ‘ä»¬å°†åˆ›å»ºå‰©ä½™çš„åˆåŒï¼ˆå¸‚åœºï¼Œç»¿æ´²å’Œä¸€äº›æ¸¸æˆï¼‰ï¼Œç„¶åå»ºç«‹ä»–ä»¬ä¹‹é—´çš„è”ç³»ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¼šæ·»åŠ ä¸€äº›å•å…ƒæµ‹è¯•ã€‚ä¸€æ—¦ä½ å­¦ä¼šäº†åŸºç¡€çŸ¥è¯†ï¼Œè¿™å°†ä¼šå®¹æ˜“å¾—å¤šã€‚ æ£€æŸ¥æœ€ç»ˆç›®çš„-ç«¯EOS DAPPå¼€å‘æ•™ç¨‹-ç¬¬2éƒ¨åˆ†&nbsp;&nbsp;åœ¨è¿™é‡Œã€‚ åŸæ–‡é“¾æ¥" />
<meta property="og:description" content="ä¸ºäº†å¸®åŠ©EOSåŒºå—é“¾å¼€å‘ç¤¾åŒºï¼ŒInfinite X Labsçš„å¼€å‘å›¢é˜Ÿå†³å®šè¿è¡Œä¸€ç³»åˆ—ä¸“é—¨ç”¨äºEOSå¼€å‘çš„æ•™ç¨‹ã€‚åœ¨ä¸Šä¸€ä¸ªæ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•è®¾ç½®ç”¨äºæ„å»ºEOS dAppçš„å¼€å‘ç¯å¢ƒã€‚æˆ‘ä»¬å·²ç»å¯åŠ¨äº†æˆ‘ä»¬çš„æœ¬åœ°testnetï¼Œéƒ¨ç½²äº†ä¸€ä¸ªEOSæ™ºèƒ½åˆçº¦Demoå¹¶ä¸ä¹‹è¿›è¡Œäº†äº’åŠ¨ã€‚ä½ å¯ä»¥æ‰¾åˆ°æ‰€æœ‰ä»æˆ‘ä»¬çš„EOS Blockchainå¼€å‘ç³»åˆ—æ•™ç¨‹çš„ç¬¬ä¸€ç¯‡è¿™é‡Œã€‚ ç°åœ¨æ˜¯æ—¶å€™å‡çº§äº†ã€‚å¦‚æœä¸åˆ›å»ºEOS dAppï¼Œå­¦ä¹ å¦‚ä½•æ„å»ºEOS dAppçš„æœ€ä½³æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿè¿™å°±æ˜¯æˆ‘ä»¬è¦åšçš„ã€‚é€šè¿‡å¼€å‘ï¼Œæ‚¨å°†å­¦åˆ°å¾ˆå¤šæ–°ä¸œè¥¿ï¼Œåœ¨è¿™4ä¸ªéƒ¨åˆ†æ•™ç¨‹çš„æœ€åï¼Œæ‚¨å°†èƒ½å¤Ÿåˆ›å»ºæ‚¨çš„dAppã€‚åœ¨ç³»åˆ—çš„æœ€åå°†ä¸ä½ åˆ†äº«ä¸€äº›éå¸¸æœ‰è¶£çš„ä¸œè¥¿ï¼Œä½†å°±ç›®å‰æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªæƒŠå–œğŸ™‚ è¯·æ³¨æ„ï¼ŒEOSIOä»å¤„äºå¼€å‘é˜¶æ®µï¼Œæœªæ¥æŸäº›æ­¥éª¤å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬çš„å›¢é˜Ÿå°†å°½åŠ›ä¿æŒæ•™ç¨‹å§‹ç»ˆæ˜¯æœ€æ–°çš„ã€‚ ä½ å¯ä»¥åœ¨GitHubä¸­æ‰¾åˆ°è¿™ä¸ªéƒ¨åˆ†çš„æ‰€æœ‰æºä»£ç  ä¸Šæ¬¡æ›´æ–° -&nbsp;2018å¹´11æœˆ25æ—¥&nbsp;- æœ¬æ•™ç¨‹ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„EOSIO -&nbsp;v1.4.4è¿›è¡Œäº†æ›´æ–° è®©æˆ‘ä»¬å¼€å§‹å§ï¼ åœ¨æˆ‘ä»¬å¼€å§‹ä½¿ç”¨ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ä¸€ä¸ªæƒ³æ³•ã€‚ä½ çœ‹è¿‡å²è’‚æ–‡æ–¯çš®å°”ä¼¯æ ¼çš„ã€Šå¤´å·ç©å®¶ã€‹ç”µå½±å—ï¼Ÿå¦‚æœçœ‹è¿‡ï¼Œé‚£ä½ å·²ç»çŸ¥é“ç»¿æ´²æ˜¯ä»€ä¹ˆäº†ï¼ä»¤äººå…´å¥‹ï¼Œå¯¹å§ï¼Ÿè®©æˆ‘ä»¬æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬æ˜¯å›¢é˜Ÿçš„ä¸€å‘˜ï¼Œä»–ä»¬å°†æ„å»ºä¸‹ä¸€ä¸ªOasisï¼Œæˆ‘ä»¬çš„ä»»åŠ¡æ˜¯å°†åŒºå—é“¾æŠ€æœ¯é›†æˆåˆ°å…¶ä¸­ï¼Œæˆ–è€…è‡³å°‘è¡¨æ˜å¯ä»¥å®Œæˆã€‚æˆ‘ä»¬è¦åšçš„æ˜¯ä¸€ä¸ªå°å‹dAppï¼Œå®ƒå°†æ‹¥æœ‰ç©å®¶ã€‚æ¯ä¸ªç©å®¶éƒ½å¯ä»¥ç©æ¸¸æˆï¼Œä»–å¯ä»¥ä»ä¸­æ¥æ”¶ç¡¬å¸ã€‚é€šè¿‡ç¡¬å¸ï¼Œä»–å¯ä»¥å»å¸‚åœºè´­ä¹°ç‰©å“ï¼Œè¿™å°†ç»™äºˆä»–åŠ›é‡ï¼Œèƒ½åŠ›ï¼Œå¥åº·å’Œ/æˆ–å‡çº§ã€‚å½“ç„¶è¿˜æœ‰Oasisåˆçº¦ - æˆ‘ä»¬çš„ä¸»è¦èµ·ç‚¹ã€‚ ä½ éœ€è¦ä»€ä¹ˆæ‰èƒ½å¼€å§‹å¼€å‘ ä¸ºäº†èƒ½å¤Ÿå¼€å‘EOS dAppï¼Œæ‚¨éœ€è¦å…·æœ‰C/C++çš„å…ˆå‰èƒŒæ™¯ï¼Œå› ä¸ºè¿™æ˜¯ç”¨äºEOSæ™ºèƒ½åˆçº¦çš„ç¼–ç¨‹è¯­è¨€ C/C++èƒŒæ™¯ -&nbsp;&nbsp;âœ“ ä¸€ä¸ªIDEï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­ç¼–å†™æ™ºèƒ½åˆçº¦ã€‚æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨å¸¦æœ‰C/C++æ‰©å±•çš„VS Codeï¼Œä½†æ‚¨å¯ä»¥é€‰æ‹©æœ€é€‚åˆæ‚¨çš„æ–¹å¼ã€‚**CLion**ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é€‰æ‹© IDE -&nbsp;Visual Studioä»£ç &nbsp;**&nbsp;-&nbsp;âœ“&nbsp;** å½“ç„¶ï¼Œæ‚¨éœ€è¦ä¸€ä¸ªæœ¬åœ°testnetèŠ‚ç‚¹ï¼Œå¦‚æœæ‚¨ä¸çŸ¥é“å¦‚ä½•æ„å»ºä¸€ä¸ªèŠ‚ç‚¹ã€‚**åœ¨æ­¤å¤„**æŸ¥çœ‹æˆ‘ä»¬ä¸Šä¸€ä¸ªæ•™ç¨‹çš„å¸®åŠ©ã€‚ ä¸€ä¸ªæœ‰æ•ˆçš„æœ¬åœ°testnetèŠ‚ç‚¹ -&nbsp;&nbsp;âœ“ è®¾ç½® åœ¨ç¼–å†™æˆ‘ä»¬çš„ç¬¬ä¸€ä»½åˆåŒä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€äº›åœ¨å¼€å‘è¿‡ç¨‹ä¸­éœ€è¦çš„ä¸œè¥¿ã€‚ æ­¥éª¤ï¼ƒ1 - å¯åŠ¨nodeos # è¦é»˜è®¤æƒ…å†µä¸‹å°†åˆçº¦çš„è¾“å‡ºæ‰“å°åˆ°æ§åˆ¶å°ï¼Œè¯·æ·»åŠ ï¼š # --contracts-console nodeos -e -p eosio --plugin eosio::wallet_api_plugin --plugin eosio::chain_api_plugin --plugin eosio::history_api_plugin --contracts-console ç¬¬äºŒæ­¥ - åˆ›å»ºä¸€ä¸ªé’±åŒ… å®ƒå°†å­˜å‚¨æˆ‘ä»¬åœ¨ç­¾ç½²äº¤æ˜“æ—¶å°†ä½¿ç”¨çš„å¯†é’¥ # 1. åˆ›å»ºåä¸ºâ€œoasisâ€çš„æ–°é’±åŒ… cleos wallet create -n oasis # 2. ç”Ÿæˆä¸¤å¯¹å¯†é’¥ï¼ˆä½¿ç”¨å‘½ä»¤ä¸¤æ¬¡ï¼‰ cleos create key # 3. åœ¨é’±åŒ…ä¸­å¯¼å…¥ç”Ÿæˆçš„ç§é’¥ï¼ˆæ‚¨éœ€è¦åœ¨æœ«å°¾æŒ‡å®šé’±åŒ…ï¼‰ # {private_key_1} - è¿™å°†æ˜¯OwnerKey # {private_key_2} - è¿™å°†æ˜¯ActiveKey cleos wallet import --private-key={private_key_1} -n oasis cleos wallet import --private-key={private_key_2} -n oasis # 4. å°†â€œeosioâ€å¸æˆ·çš„ç§é’¥æ·»åŠ åˆ°æ‚¨çš„é’±åŒ…ä¸­ # æ³¨æ„: å¦‚æœæ‚¨æ”¶åˆ°3090003é”™è¯¯: Provided keys, permissions, and delays do not satisfy declared authorizations # æ‚¨å¯èƒ½åº”è¯¥å°†â€œeosioâ€å¸æˆ·çš„ç§é’¥æ·»åŠ åˆ°æ‚¨çš„é’±åŒ…ä¸­ã€‚ cleos wallet import --private-key=5KQwrPbwdL6PhXujxW37FSSQZ1JiwsST4cqQzDeyXtP79zkvFD3 -n oasis æ³¨æ„ï¼šä¸è¦å¿˜è®°ä¿å­˜å¯†é’¥å’Œé’±åŒ…å¯†ç  ç¬¬3æ­¥ - åˆ›å»ºä¸€ä¸ªå¸æˆ· EOS.IOæ™ºèƒ½åˆçº¦åœ¨ä¸€ä¸ªå¸æˆ·ä¸Šè¿è¡Œã€‚å› æ­¤ï¼Œéœ€è¦ä¸€ä¸ªå¸æˆ·æ¥è½¬ç§»æˆ–ä»¥å…¶ä»–æ–¹å¼å°†äº¤æ˜“æ¨é€åˆ°åŒºå—é“¾ã€‚è®©æˆ‘ä»¬å°†æˆ‘ä»¬çš„å¸æˆ·å‘½åä¸ºâ€œ&nbsp;anorak&nbsp;â€ã€‚å¬èµ·æ¥å¾ˆç†Ÿæ‚‰ï¼Ÿ # Create the account using the public keys cleos create account eosio anorak {public_OwnerKey} {public_ActiveKey} # &quot;eosio&quot; is the name of the account who will create the new one # &quot;anorak&quot; is the name of the new account é¡¹ç›®â€™Oasisâ€™ æ˜¯æ—¶å€™å¼€å§‹å¼€å‘æˆ‘ä»¬çš„dAppäº†ï¼åˆ›å»ºåä¸ºOasisçš„é¡¹ç›®æ–‡ä»¶å¤¹ã€‚åœ¨é‡Œé¢æ·»åŠ ä¸¤ä¸ªä¸»è¦çš„å­æ–‡ä»¶å¤¹ -&nbsp;contractså’Œtestsã€‚æ˜¯çš„ï¼Œæˆ‘ä»¬ä¹Ÿè¦ç¼–å†™æµ‹è¯•ã€‚å°†æœ‰å››ä¸ªå­æ–‡ä»¶å¤¹åä¸ºï¼šPlayers, Games, Marketplace, Oasis&nbsp;- åˆ›å»ºå®ƒä»¬ã€‚ Playersæ™ºèƒ½åˆçº¦ Playerså°†æˆä¸ºæˆ‘ä»¬çš„é¦–ä¸ªEOSæ™ºèƒ½åˆçº¦ã€‚æ¯ä¸ªPlayerså°†æ‹¥æœ‰ç”¨æˆ·åï¼Œç­‰çº§ï¼Œå¥åº·ç‚¹ï¼Œèƒ½é‡ç‚¹ï¼Œå¹³è¡¡ï¼Œåº“å­˜ï¼ˆå……æ»¡ç‰©å“ï¼‰å’Œèƒ½åŠ›ã€‚ä»–å°†èƒ½å¤Ÿä»å¸‚åœºè´­ä¹°ç‰©å“ï¼Œè¿™äº›ç‰©å“å°†è¢«æ·»åŠ åˆ°ä»–çš„åº“å­˜ï¼Œå¥åº·ç‚¹ï¼Œèƒ½é‡ç‚¹å’Œ/æˆ–èƒ½åŠ›ä¸­ã€‚ä¸ºäº†è·å¾—é‡‘å¸ï¼Œä»–éœ€è¦ä¸Oasisçš„å…¶ä»–ç©å®¶ä¸€èµ·ç©æ¸¸æˆ åœ¨Playersæ–‡ä»¶å¤¹ä¸­åˆ›å»ºPlayers.hppå’ŒPlayers.cppæ–‡ä»¶ 1.&nbsp;Players.hppæ˜¯å¤´æ–‡ä»¶ï¼ŒåŒ…å«**.cpp**æ–‡ä»¶å¼•ç”¨çš„å˜é‡ï¼Œå¸¸é‡å’Œå‡½æ•°ã€‚ 2.&nbsp;Players.cppæ–‡ä»¶æ˜¯åŒ…å«åˆåŒåŠŸèƒ½çš„æºæ–‡ä»¶ã€‚ è®©æˆ‘ä»¬æ·±å…¥äº†è§£EOSåˆåŒçš„åŸºæœ¬ç»“æ„ Players.hpp #include &lt;eosiolib/eosio.hpp&gt; #include &lt;eosiolib/print.hpp&gt; #include &lt;string&gt; æ³¨æ„ï¼šæˆ‘ä»¬ç°åœ¨åªåœ¨Players.hppä¸­æ·»åŠ ï¼Œå› ä¸ºæˆ‘ä»¬è¿˜ä¸ä¼šåœ¨å…¶ä»–åˆçº¦ä¸­ä½¿ç”¨å®ƒã€‚ Players.cpp åœ¨åˆçº¦å¼€å§‹æ—¶ï¼Œæˆ‘ä»¬è®¾ç½®äº†å¼•å…¥æˆ‘ä»¬å°†è¦ä½¿ç”¨çš„æ‰€æœ‰å†…å®¹ã€‚åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼ŒPlayers.hppå·²ç»æ‹¥æœ‰å®ƒä»¬ï¼Œæ‰€ä»¥å®ƒè¶³ä»¥åœ¨æˆ‘ä»¬çš„åˆçº¦å®ç°ä¸­åªåŒ…å«æ ‡é¢˜ã€‚å¤§å¤šæ•°æ—¶å€™ï¼Œå½“ä½ ä½¿ç”¨æ ‡é¢˜æ—¶ï¼Œä½ ä¼šè¿™æ ·åšã€‚ å°†æ‰€æœ‰å†…å®¹åŒ…è£…åœ¨ä¸€ä¸ªåç§°ç©ºé—´ä¸­æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åšæ³•ï¼Œå› ä¸ºå®ƒåœ¨è¿™é‡Œç”¨Oasisæ˜¾ç¤ºã€‚ å¦‚æœæ‚¨ç†Ÿæ‚‰C++ï¼Œæ‚¨å¯èƒ½çŸ¥é“ä¸ºä»€ä¹ˆåœ¨ç±»å®ç°ä¹‹å‰æˆ‘ä»¬æœ‰ä¸¤ä¸ªusingå­å¥ã€‚å¯¹äºå…¶ä»–äºº - å½“æˆ‘ä»¬æƒ³è¦ä»C++ä¸­çš„eosioå‘½åç©ºé—´è°ƒç”¨ä¸€ä¸ªåŠ¨ä½œæ—¶ï¼Œæˆ‘ä»¬å¿…é¡»è¿™æ ·è°ƒç”¨å®ƒï¼šeosio::some_action()ä»¥é¿å…åœ¨æˆ‘ä»¬ç®€å•çš„åŠ¨ä½œåç§°å‰é¢æ¯æ¬¡æ·»åŠ eosio::ã€‚&nbsp;åœ¨å¼€å¤´æ·»åŠ using namespace eosioã€‚ #include &quot;Players.hpp&quot; namespace Oasis { using namespace eosio; using std::string; class Players : public contract { using contract::contract; public: Players(account_name self):contract(self) {} //@abi action void add(const account_name account, string&amp; username, uint64_t level) { } //@abi action void update(const account_name account, uint64_t level, int64_t healthPoints, int64_t energyPoints) { } //@abi action void getplayer(const account_name account) { } private: //@abi table player i64 struct player { uint64_t account_name; string username; uint64_t level; uint64_t health_points = 1000; uint64_t energy_points = 1000; uint64_t primary_key() const { return account_name; } EOSLIB_SERIALIZE(player, (account_name)(username)(level)(health_points)(energy_points)) }; typedef multi_index&lt;N(player), player&gt; playerIndex; }; EOSIO_ABI(Players, (add)(update)(getplayer)) } è¯¥Playersç±»ç»§æ‰¿äº†â€œcontractâ€æ™ºèƒ½åˆåŒï¼Œå¹¶ä½¿ç”¨å®ƒçš„æ„é€ å‡½æ•°ï¼ˆusing contract::contractï¼‰ã€‚ åœ¨å¼€å‘EOS dAppæ—¶ï¼Œæ‚¨åº”è¯¥çŸ¥é“çš„ä¸€ä»¶é‡è¦äº‹æƒ…æ˜¯æ™ºèƒ½åˆçº¦ä»¥åŠ¨ä½œå’Œå…±äº«å†…å­˜æ•°æ®åº“è®¿é—®çš„å½¢å¼ç›¸äº’é€šä¿¡ã€‚åˆåŒå¯ä»¥è¯»å–å¦ä¸€ä¸ªåˆåŒçš„æ•°æ®åº“çš„çŠ¶æ€ï¼Œåªè¦å®ƒåŒ…å«åœ¨å…·æœ‰å¼‚æ­¥vibeçš„äº‹åŠ¡çš„è¯»å–èŒƒå›´å†…ã€‚è¿™å¯ä»¥é€šè¿‡ä½¿ç”¨ä¸¤ç§é€šä¿¡æ¨¡å¼ä¹‹ä¸€æ¥å®ç° -&nbsp;å†…è”æˆ–å»¶è¿Ÿã€‚æ‚¨å¯ä»¥å°†å®ƒä»¬è§†ä¸ºåŒæ­¥å’Œå¼‚æ­¥ ä»EOS.IOæ–‡æ¡£ï¼š å†…è”&nbsp;- å†…è”ä¿è¯åœ¨å½“å‰äº‹åŠ¡æˆ–å±•å¼€æ—¶æ‰§è¡Œ;&nbsp;æ— è®ºæˆåŠŸä¸å¦ï¼Œéƒ½ä¸ä¼šä¼ è¾¾ä»»ä½•é€šçŸ¥ã€‚Inlineä½¿ç”¨ä¸åŸå§‹äº‹åŠ¡ç›¸åŒçš„èŒƒå›´å’Œæƒé™è¿›è¡Œæ“ä½œ å»¶æœŸ&nbsp;-&nbsp;å»¶æœŸå°†ç”±ç”Ÿäº§è€…é…Œæƒ…å†³å®š;&nbsp;å¯ä»¥ä¼ è¾¾é€šä¿¡ç»“æœï¼Œä¹Ÿå¯ä»¥ç®€å•åœ°è¶…æ—¶ã€‚å»¶æœŸå¯ä»¥è¾¾åˆ°ä¸åŒçš„èŒƒå›´å¹¶æ‰¿æ‹…å‘é€å®ƒä»¬çš„åˆåŒçš„æƒé™ã€‚ åœ¨æˆ‘ä»¬åˆåŒçš„ç±»ä¸»ä½“ä¸­ï¼Œæœ‰ä¸¤ç§ç±»å‹çš„è®¿é—®ä¿®é¥°ç¬¦ - public &amp; privateã€‚åœ¨publicæ˜¯æ„é€ å‡½æ•°å’Œæ‰€æœ‰æ“ä½œã€‚åŠ¨ä½œè¡¨ç¤ºæ™ºèƒ½åˆçº¦ä¸­çš„å•ä¸ªæ“ä½œã€‚åœ¨æˆ‘ä»¬çš„åˆçº¦ä¸­ï¼Œæˆ‘ä»¬æœ‰add, update &amp; getplayerã€‚æˆ‘ä»¬ç¨åä¼šçœ‹ä¸€ä¸‹å®ƒä»¬ã€‚ä¸æ­¤åŒæ—¶ï¼Œæ‚¨åº”è¯¥å·²ç»æ³¨æ„åˆ°åœ¨æ¯æ¬¡æ“ä½œä¹‹å‰æˆ‘ä»¬éƒ½æœ‰â€œ&nbsp;//@abi action&nbsp;â€ã€‚å®ƒæ˜¯eosiocppè„šæœ¬çš„æŒ‡ç¤ºæ ‡å¿—ï¼Œå®ƒå°†ä¸ºæˆ‘ä»¬çš„æ™ºèƒ½åˆçº¦ç”Ÿæˆ**.abi**æ–‡ä»¶ã€‚ åœ¨privateéƒ¨åˆ†ï¼Œæˆ‘ä»¬ä¿ç•™äº†æˆ‘ä»¬ä¸å¸Œæœ›ä»PlayersåˆåŒä¹‹å¤–è®¿é—®çš„æ‰€æœ‰å†…å®¹ã€‚è¿™é‡Œæˆ‘ä»¬æ­£åœ¨åˆå§‹åŒ–multi_indexã€‚å®ƒæ˜¯ä»€ä¹ˆä»¥åŠä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ //@abi table player i64 struct player { uint64_t account_name; string username; uint64_t level; uint64_t health_points = 1000; uint64_t energy_points = 1000; uint64_t primary_key() const { return username; } EOSLIB_SERIALIZE(player, (account_name)(username)(level)(health_points)(energy_points)) }; typedef multi_index&lt;N(player), player&gt; playerIndex; æ­£å¦‚æˆ‘ä»¬æ‰€è¯´ï¼Œä¸€ä¸ªactionä»£è¡¨äº†æ™ºèƒ½åˆçº¦ä¸­çš„å•ä¸€æ“ä½œã€‚æ¯ä¸ªæ“ä½œéƒ½åœ¨å…¶è‡ªå·±çš„ç¯å¢ƒä¸­è¿è¡Œï¼Œç§°ä¸ºæ“ä½œä¸Šä¸‹æ–‡ã€‚ä¸Šä¸‹æ–‡æä¾›äº†æ‰§è¡Œæ“ä½œæ‰€éœ€çš„ä¸€äº›å†…å®¹ã€‚å…¶ä¸­ä¸€ä»¶äº‹æ˜¯actionçš„å·¥ä½œmemoryã€‚è¿™æ˜¯actionä¿æŒå…¶stateçš„åœ°æ–¹ã€‚åœ¨å¤„ç†actionä¹‹å‰ï¼ŒEOSIOä¼šä¸ºæ“ä½œè®¾ç½®ä¸€ä¸ªå¹²å‡€çš„å·¥ä½œmemoryã€‚åœ¨æ–°actionçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œåœ¨æ‰§è¡Œå¦ä¸€ä¸ªæ“ä½œæ—¶å¯èƒ½å·²è®¾ç½®çš„å˜é‡ã€‚åœ¨æ“ä½œä¹‹é—´ä¼ é€’çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯å°†å…¶æŒä¹…åŒ–å¹¶ä»EOSIOæ•°æ®åº“ä¸­æ£€ç´¢å®ƒã€‚ è¿™å¯ä»¥é€šè¿‡å¤šç´¢å¼•å®ç°ï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨EOSIOæ•°æ®åº“ä¸­è¯»å–å’Œä¿®æ”¹æŒä¹…çŠ¶æ€ã€‚ åœ¨æˆ‘ä»¬çš„åˆåŒä¸­ï¼Œæˆ‘ä»¬å·²ç»ä¸ºå¤šç´¢å¼•è¡¨å£°æ˜äº†ä¸€ä¸ªåä¸ºplayerçš„å¯¹è±¡æ¨¡æ¿ã€‚é‡è¦çš„æ˜¯è¦æ³¨æ„ï¼Œå½“æˆ‘ä»¬ä¸ºè¡¨åˆ›å»ºæ¨¡æ¿æ—¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ·»åŠ primary_keyã€‚æˆ‘ä»¬ä½¿ç”¨account_nameï¼Œå› ä¸ºæˆ‘ä»¬æƒ³è¦æ¯ä¸ªå¸æˆ·æ˜¯ä¸€ä¸ªplayerã€‚ æˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªeosiocppè„šæœ¬çš„æŒ‡ç¤ºæ ‡å¿—- â€œ&nbsp;//@abi table player i64&nbsp;â€ã€‚è¿™è¯´æ˜æˆ‘ä»¬è¡¨çš„åç§°æ˜¯playerï¼Œä½¿ç”¨çš„ç´¢å¼•ç±»å‹æ˜¯i64ã€‚ ä¸€æ—¦å¯¹è±¡å‡†å¤‡å°±ç»ªï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä»¥ä¸‹æ¨¡æ¿é”®å…¥æˆ‘ä»¬çš„å¤šç´¢å¼•ï¼š // typedef multi_index&lt;N(table_name), object_template_to_use&gt; multi_index_name; typedef multi_index&lt;N(player), player&gt; playerIndex; æ‚¨å¯èƒ½æƒ³çŸ¥é“EOSLIB_SERIALIZEå’ŒEOSIO_ABIæ˜¯ä»€ä¹ˆã€‚ EOSLIB_SERIALIZE(player, (account_name)(username)(level)(health_points)(energy_points)) EOSIO_ABI(Players, (add)(update)(health)(energy)(getplayer)) è¿™äº›æ˜¯C++å®ã€‚EOSIO_ABIå°è£…äº†applyæ–¹æ³•çš„é€»è¾‘ã€‚applyæ˜¯actionå¤„ç†ç¨‹åºï¼Œå®ƒç›‘å¬æ‰€æœ‰ä¼ å…¥çš„actionå¹¶æ ¹æ®å‡½æ•°ä¸­çš„è§„èŒƒåšå‡ºååº”ã€‚å®çš„ç»“æ„éå¸¸ç®€å•ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç±»å‹ï¼ˆå½“å‰ç±»çš„åç§°ï¼‰ï¼Œä¸‹ä¸€ä¸ªå‚æ•°æ˜¯ä¸‹é¢ç¤ºä¾‹ä¸­åˆ—å‡ºçš„æ‰€æœ‰action // EOSIO_ABI(class_name, (action_1)(action_2)(action_3)...(action_n)) è¯¥EOSLIB_SERIALIZEå®æä¾›äº†åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ–¹æ³•ï¼Œä½¿actionå¯ä»¥åœ¨åˆçº¦å’Œnodeosç³»ç»Ÿä¹‹é—´æ¥å›ä¼ é€’ã€‚ // EOSLIB_SERIALIZE(struct_name, (property_1)(property_2)(property_3)...(property_n)) å®ç°action ç°åœ¨è®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹æ¯ä¸ªactionåŠå…¶å®ç°ã€‚ ç¬¬ä¸€ä¸ªæ˜¯â€œaddâ€ã€‚å®ƒè´Ÿè´£åœ¨Oasisä¸­åˆ›å»ºä¸€ä¸ªæ–°ç©å®¶ã€‚ //@abi action void add(const account_name account, string&amp; username) { /** * We require that only the owner of an account can use this action * or somebody with the account authorization */ require_auth(account); /** * We access the &quot;player&quot; table as creating an object of type &quot;playerIndex&quot; * As parameters we pass code &amp; scope - _self from the parent contract */ playerIndex players(_self, _self); /** * We must verify that the account doesn&#39;t exist yet * If the account is not found the iterator variable should be players.end() */ auto iterator = players.find(account); eosio_assert(iterator == players.end(), &quot;Address for account already exists&quot;); /** * We add the new player in the table * The first argument is the payer of the storage which will store the data */ players.emplace(account, [&amp;](auto&amp; player) { player.account_name = account; player.username = username; player.level = 1; player.health_points = 1000; player.energy_points = 1000; }); } å®ç°actionæœ‰4ä¸ªä¸»è¦å…³é”®ç‚¹ï¼š ç”±äºæˆ‘ä»¬åªå¸Œæœ›å¸æˆ·æ‰€æœ‰è€…æˆ–æ‹¥æœ‰å¸æˆ·æƒé™çš„äººèƒ½å¤Ÿåˆ›å»ºç©å®¶ï¼Œå› æ­¤æˆ‘ä»¬æ·»åŠ äº†å¸æˆ·éªŒè¯æ£€æŸ¥ã€‚ç”±äºrequire_authå‡½æ•°ï¼Œè¿™å¾ˆå®¹æ˜“å®Œæˆã€‚ ä¸ºäº†ä½¿ç”¨åˆ›å»ºçš„è¡¨ -&nbsp;playerï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªâ€œplayerIndexâ€ç±»å‹çš„å¯¹è±¡ã€‚ ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬å¿…é¡»é¦–å…ˆéªŒè¯è¯¥å¸æˆ·æ˜¯å¦å­˜åœ¨ æœ€åï¼Œæ·»åŠ æ–°çš„playerã€‚ä½œä¸ºä»»ä½•æ–°playerï¼Œå®ƒä»1çº§å¼€å§‹ï¼Œæœ€å¤§ç”Ÿå‘½å€¼å’Œèƒ½é‡ç‚¹ç­‰äº1000.è¯·æ³¨æ„ï¼Œemplaceå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°å°†æ˜¯å­˜å‚¨æ•°æ®çš„å­˜å‚¨çš„playerã€‚åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬è®¾ç½®äº†è§¦å‘è¯¥æ“ä½œçš„å½“å‰å¸æˆ·ä½œä¸ºplayerã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±è®¾å®šã€‚ ä¸‹ä¸€ä¸ªactionæ˜¯â€œupdateâ€ã€‚å®ƒè´Ÿè´£æ›´æ–°ç©å®¶çš„ç­‰çº§ï¼Œå¥åº·å’Œèƒ½é‡ç‚¹ã€‚è¯¥å®ç°ä¸â€œaddâ€æ“ä½œéå¸¸ç›¸ä¼¼ï¼Œåªæ˜¯æˆ‘ä»¬æ­£åœ¨ä¿®æ”¹playerçŠ¶æ€ï¼Œè€Œmodifyå‡½æ•°å°†iteratorä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚å¯¹è¯¥iteratoræ‰€æŒ‡å‘çš„å¯¹è±¡è¿›è¡Œæ›´æ–° //@abi action void update(account_name account, uint64_t level, int64_t healthPoints, int64_t energyPoints) { require_auth(account); playerIndex players(_self, _self); auto iterator = players.find(account); eosio_assert(iterator != players.end(), &quot;Address for account not found&quot;); /** * We add the new player in the table * The first argument is the payer of the storage which will store the data */ players.modify(iterator, account, [&amp;](auto&amp; player) { player.level = level; if ((player.health_points - healthPoints) &lt; 0) { player.health_points = 0; } else { player.health_points -= healthPoints; } if ((player.energy_points - energyPoints) &lt; 0) { player.energy_points = 0; } else { player.energy_points -= energyPoints; } }); } æœ€åä¸€ä¸ªactionæ˜¯â€œ&nbsp;getplayer&nbsp;â€ï¼Œæ‰“å°æœ‰å…³playerçš„ä¿¡æ¯ã€‚å®ƒæ²¡æœ‰require_authå‡½æ•°ï¼Œå› ä¸ºä»»ä½•äººéƒ½å¯ä»¥è°ƒç”¨å®ƒã€‚ //@abi action void getplayer(const account_name account) { playerIndex players(_self, _self); auto iterator = players.find(account); eosio_assert(iterator != players.end(), &quot;Address for account not found&quot;); /** * The &quot;get&quot; function returns a constant reference to the object * containing the specified secondary key */ auto currentPlayer = players.get(account); print(&quot;Username: &quot;, currentPlayer.username.c_str(), &quot; Level: &quot;, currentPlayer.level, &quot; Health: &quot;, currentPlayer.health_points, &quot; Energy: &quot;, currentPlayer.energy_points); } ç©å®¶æ™ºèƒ½åˆçº¦éƒ¨ç½² æˆ‘ä»¬ç¡®å®åšäº†å¾ˆå¤šäº‹æƒ…ï¼Œç°åœ¨æ˜¯æ—¶å€™åœ¨åŒºå—é“¾ä¸Šéƒ¨ç½²æˆ‘ä»¬çš„æ™ºèƒ½åˆçº¦äº†ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç”Ÿæˆ.wastå’Œ.abiæ–‡ä»¶ã€‚æˆ‘ä»¬å°†ä½¿ç”¨eosiocppè„šæœ¬æ¥å®Œæˆå®ƒã€‚è½¬åˆ°Playersæ–‡ä»¶å¤¹å¹¶åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š eosiocpp -o Players.wast Players.cpp è¯¥å‘½ä»¤å°†ç”Ÿæˆæˆ‘ä»¬åˆåŒçš„Webç¨‹åºé›†ã€‚ æ¥ä¸‹æ¥ï¼Œå½“æ‚¨åœ¨åŒä¸€ç›®å½•ä¸­æ—¶ï¼Œè¿è¡Œæ­¤å‘½ä»¤ä»¥ç”ŸæˆPlayers.abiã€‚ eosiocpp -g Players.abi Players.cpp ç°åœ¨ï¼Œå½“æˆ‘ä»¬æœ‰Players.wastï¼†Players.abiï¼Œç°åœ¨ä½¿ç”¨å®ƒä»¬æ¥éƒ¨ç½²æˆ‘ä»¬çš„åˆåŒã€‚ # cleos set contract {account} {path_to_contract_folder} {path_to_.wast_file} {path_to_.abi_file} cleos set contract anorak ./contracts/Players ./contracts/Players/Players.wast ./contracts/Players/Players.abi Reading WAST/WASM from ./contracts/Players/Players.wast... Assembling WASM... Publishing contract... executed transaction: 2187a85a5e80cbd2c0e6715b6847c95cbb5da5df7ed1171be87709507678795d 6472 bytes 6582 us # eosio &lt;= eosio::setcode {&quot;account&quot;:&quot;anorak&quot;,&quot;vmtype&quot;:0,&quot;vmversion&quot;:0,&quot;code&quot;:&quot;0061736d010000000182011560037f7e7f0060057f7e7e7... # eosio &lt;= eosio::setabi {&quot;account&quot;:&quot;anorak&quot;,&quot;abi&quot;:&quot;0e656f73696f3a3a6162692f312e300002046974656d0006076974656d5f69640675696e7... æµ‹è¯•æ™ºèƒ½åˆçº¦ çœŸæ£’ï¼æ‚¨å·²ç»éƒ¨ç½²äº†ç¬¬ä¸€ä»½EOSåˆåŒã€‚ç°åœ¨æ˜¯æ—¶å€™æµ‹è¯•æˆ‘ä»¬çš„actionäº†ã€‚æˆ‘ä»¬å…ˆæ·»åŠ ä¸€ä¸ªæ–°ç”¨æˆ·ã€‚æ‚¨å¯ä»¥ä½¿ç”¨push actionå‘½ä»¤è§¦å‘æ“ä½œï¼š # cleos push action {account} {action_name} &#39;{data}&#39; -p {account}@active cleos push action anorak add &#39;[&quot;anorak&quot;,&quot;art3mis&quot;]&#39; -p anorak@active executed transaction: 00ea5aa48e50c33737b253ac24cb6bef3f296399e9a7e61b81044a852bb5c709 112 bytes 3015 us # anorak &lt;= anorak::add {&quot;account&quot;:&quot;anorak&quot;,&quot;username&quot;:&quot;art3mis&quot;} æ³¨æ„ï¼šä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„EOSIOï¼Œæ‚¨åº”è¯¥åœ¨æ¨é€ä»»ä½•æ“ä½œä¹‹å‰å§‹ç»ˆæ·»åŠ æƒé™æ ‡å¿—ã€‚ è®©æˆ‘ä»¬çœ‹çœ‹playeræ˜¯å¦æ˜¯ä½¿ç”¨â€œ&nbsp;getplayer&nbsp;â€æ¥åˆ›å»ºçš„ # cleos push action {account} {action} {data} # account - The account providing the contract to execute # action - The action to execute on the contract # data - The arguments to the contract cleos push action anorak getplayer &#39;[&quot;anorak&quot;]&#39; -p anorak@active executed transaction: 759ba984c4f9216d79fc473757a398ee6248c043ab6596cd8336a08512a4f465 104 bytes 2443 us # anorak &lt;= anorak::getplayer {&quot;account&quot;:&quot;anorak&quot;} &gt;&gt; Username: art3mis Level: 1 Health: 1000 Energy: 1000 ä¸€åˆ‡çœ‹èµ·æ¥éƒ½å¾ˆå®Œç¾ã€‚ ç°åœ¨æˆ‘ä»¬å°†æ›´æ–°æˆ‘ä»¬çš„playerï¼Œå¹¶å°†å†æ¬¡ä½¿ç”¨â€œ&nbsp;getplayer&nbsp;â€actionæ¥æŸ¥çœ‹æˆ‘ä»¬æ˜¯å¦å·²æˆåŠŸï¼š cleos push action anorak update &#39;[&quot;anorak&quot;,4,75,110]&#39; -p anorak@active executed transaction: 905c847178d47ca8a230fdf2ba1c92c42529aeebb118280fdbf9ccb1415992de 128 bytes 748 us # anorak &lt;= anorak::update {&quot;account&quot;:&quot;anorak&quot;,&quot;level&quot;:4,&quot;healthPoints&quot;:75,&quot;energyPoints&quot;:110} cleos push action anorak getplayer &#39;[&quot;anorak&quot;]&#39; -p anorak@active executed transaction: 31bf65b2d69f0977474ddd0332faddf5495cf7050d4ad7d5e678fbd4f7ad4eea 104 bytes 5654 us # anorak &lt;= anorak::getplayer {&quot;account&quot;:&quot;anorak&quot;} &gt;&gt; Username: art3mis Level: 4 Health: 925 Energy: 890 æˆ‘ä»¬çš„æ’­æ”¾å™¨å·²æˆåŠŸæ›´æ–°ã€‚åšå¾—å¥½ï¼ æ‘˜è¦ æˆ‘ä»¬åˆ°æ­¤ä¸ºæ­¢ã€‚æˆ‘ä»¬ä»Šå¤©åšäº†å¾ˆå¤šæ–°äº‹ç‰©ã€‚èŠ±ç‚¹æ—¶é—´äº†è§£æˆ‘ä»¬æ‰€åšçš„ä¸€åˆ‡ï¼Œå¹¶å°è¯•è‡ªå·±åšã€‚ğŸ™‚ åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»ä»‹ç»äº†EOSæ™ºèƒ½åˆçº¦çš„åŸºç¡€çŸ¥è¯†ã€‚åœ¨ä¸‹ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†å†æ¬¡å‡çº§ã€‚æˆ‘ä»¬å°†æ‰©å±•ç©å®¶åˆåŒï¼Œæˆ‘ä»¬å°†åˆ›å»ºå‰©ä½™çš„åˆåŒï¼ˆå¸‚åœºï¼Œç»¿æ´²å’Œä¸€äº›æ¸¸æˆï¼‰ï¼Œç„¶åå»ºç«‹ä»–ä»¬ä¹‹é—´çš„è”ç³»ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¼šæ·»åŠ ä¸€äº›å•å…ƒæµ‹è¯•ã€‚ä¸€æ—¦ä½ å­¦ä¼šäº†åŸºç¡€çŸ¥è¯†ï¼Œè¿™å°†ä¼šå®¹æ˜“å¾—å¤šã€‚ æ£€æŸ¥æœ€ç»ˆç›®çš„-ç«¯EOS DAPPå¼€å‘æ•™ç¨‹-ç¬¬2éƒ¨åˆ†&nbsp;&nbsp;åœ¨è¿™é‡Œã€‚ åŸæ–‡é“¾æ¥" />
<meta property="og:site_name" content="æœ‰ç»„ç»‡åœ¨ï¼" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-01-05T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"ä¸ºäº†å¸®åŠ©EOSåŒºå—é“¾å¼€å‘ç¤¾åŒºï¼ŒInfinite X Labsçš„å¼€å‘å›¢é˜Ÿå†³å®šè¿è¡Œä¸€ç³»åˆ—ä¸“é—¨ç”¨äºEOSå¼€å‘çš„æ•™ç¨‹ã€‚åœ¨ä¸Šä¸€ä¸ªæ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•è®¾ç½®ç”¨äºæ„å»ºEOS dAppçš„å¼€å‘ç¯å¢ƒã€‚æˆ‘ä»¬å·²ç»å¯åŠ¨äº†æˆ‘ä»¬çš„æœ¬åœ°testnetï¼Œéƒ¨ç½²äº†ä¸€ä¸ªEOSæ™ºèƒ½åˆçº¦Demoå¹¶ä¸ä¹‹è¿›è¡Œäº†äº’åŠ¨ã€‚ä½ å¯ä»¥æ‰¾åˆ°æ‰€æœ‰ä»æˆ‘ä»¬çš„EOS Blockchainå¼€å‘ç³»åˆ—æ•™ç¨‹çš„ç¬¬ä¸€ç¯‡è¿™é‡Œã€‚ ç°åœ¨æ˜¯æ—¶å€™å‡çº§äº†ã€‚å¦‚æœä¸åˆ›å»ºEOS dAppï¼Œå­¦ä¹ å¦‚ä½•æ„å»ºEOS dAppçš„æœ€ä½³æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿè¿™å°±æ˜¯æˆ‘ä»¬è¦åšçš„ã€‚é€šè¿‡å¼€å‘ï¼Œæ‚¨å°†å­¦åˆ°å¾ˆå¤šæ–°ä¸œè¥¿ï¼Œåœ¨è¿™4ä¸ªéƒ¨åˆ†æ•™ç¨‹çš„æœ€åï¼Œæ‚¨å°†èƒ½å¤Ÿåˆ›å»ºæ‚¨çš„dAppã€‚åœ¨ç³»åˆ—çš„æœ€åå°†ä¸ä½ åˆ†äº«ä¸€äº›éå¸¸æœ‰è¶£çš„ä¸œè¥¿ï¼Œä½†å°±ç›®å‰æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªæƒŠå–œğŸ™‚ è¯·æ³¨æ„ï¼ŒEOSIOä»å¤„äºå¼€å‘é˜¶æ®µï¼Œæœªæ¥æŸäº›æ­¥éª¤å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬çš„å›¢é˜Ÿå°†å°½åŠ›ä¿æŒæ•™ç¨‹å§‹ç»ˆæ˜¯æœ€æ–°çš„ã€‚ ä½ å¯ä»¥åœ¨GitHubä¸­æ‰¾åˆ°è¿™ä¸ªéƒ¨åˆ†çš„æ‰€æœ‰æºä»£ç  ä¸Šæ¬¡æ›´æ–° -&nbsp;2018å¹´11æœˆ25æ—¥&nbsp;- æœ¬æ•™ç¨‹ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„EOSIO -&nbsp;v1.4.4è¿›è¡Œäº†æ›´æ–° è®©æˆ‘ä»¬å¼€å§‹å§ï¼ åœ¨æˆ‘ä»¬å¼€å§‹ä½¿ç”¨ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ä¸€ä¸ªæƒ³æ³•ã€‚ä½ çœ‹è¿‡å²è’‚æ–‡æ–¯çš®å°”ä¼¯æ ¼çš„ã€Šå¤´å·ç©å®¶ã€‹ç”µå½±å—ï¼Ÿå¦‚æœçœ‹è¿‡ï¼Œé‚£ä½ å·²ç»çŸ¥é“ç»¿æ´²æ˜¯ä»€ä¹ˆäº†ï¼ä»¤äººå…´å¥‹ï¼Œå¯¹å§ï¼Ÿè®©æˆ‘ä»¬æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬æ˜¯å›¢é˜Ÿçš„ä¸€å‘˜ï¼Œä»–ä»¬å°†æ„å»ºä¸‹ä¸€ä¸ªOasisï¼Œæˆ‘ä»¬çš„ä»»åŠ¡æ˜¯å°†åŒºå—é“¾æŠ€æœ¯é›†æˆåˆ°å…¶ä¸­ï¼Œæˆ–è€…è‡³å°‘è¡¨æ˜å¯ä»¥å®Œæˆã€‚æˆ‘ä»¬è¦åšçš„æ˜¯ä¸€ä¸ªå°å‹dAppï¼Œå®ƒå°†æ‹¥æœ‰ç©å®¶ã€‚æ¯ä¸ªç©å®¶éƒ½å¯ä»¥ç©æ¸¸æˆï¼Œä»–å¯ä»¥ä»ä¸­æ¥æ”¶ç¡¬å¸ã€‚é€šè¿‡ç¡¬å¸ï¼Œä»–å¯ä»¥å»å¸‚åœºè´­ä¹°ç‰©å“ï¼Œè¿™å°†ç»™äºˆä»–åŠ›é‡ï¼Œèƒ½åŠ›ï¼Œå¥åº·å’Œ/æˆ–å‡çº§ã€‚å½“ç„¶è¿˜æœ‰Oasisåˆçº¦ - æˆ‘ä»¬çš„ä¸»è¦èµ·ç‚¹ã€‚ ä½ éœ€è¦ä»€ä¹ˆæ‰èƒ½å¼€å§‹å¼€å‘ ä¸ºäº†èƒ½å¤Ÿå¼€å‘EOS dAppï¼Œæ‚¨éœ€è¦å…·æœ‰C/C++çš„å…ˆå‰èƒŒæ™¯ï¼Œå› ä¸ºè¿™æ˜¯ç”¨äºEOSæ™ºèƒ½åˆçº¦çš„ç¼–ç¨‹è¯­è¨€ C/C++èƒŒæ™¯ -&nbsp;&nbsp;âœ“ ä¸€ä¸ªIDEï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­ç¼–å†™æ™ºèƒ½åˆçº¦ã€‚æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨å¸¦æœ‰C/C++æ‰©å±•çš„VS Codeï¼Œä½†æ‚¨å¯ä»¥é€‰æ‹©æœ€é€‚åˆæ‚¨çš„æ–¹å¼ã€‚**CLion**ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é€‰æ‹© IDE -&nbsp;Visual Studioä»£ç &nbsp;**&nbsp;-&nbsp;âœ“&nbsp;** å½“ç„¶ï¼Œæ‚¨éœ€è¦ä¸€ä¸ªæœ¬åœ°testnetèŠ‚ç‚¹ï¼Œå¦‚æœæ‚¨ä¸çŸ¥é“å¦‚ä½•æ„å»ºä¸€ä¸ªèŠ‚ç‚¹ã€‚**åœ¨æ­¤å¤„**æŸ¥çœ‹æˆ‘ä»¬ä¸Šä¸€ä¸ªæ•™ç¨‹çš„å¸®åŠ©ã€‚ ä¸€ä¸ªæœ‰æ•ˆçš„æœ¬åœ°testnetèŠ‚ç‚¹ -&nbsp;&nbsp;âœ“ è®¾ç½® åœ¨ç¼–å†™æˆ‘ä»¬çš„ç¬¬ä¸€ä»½åˆåŒä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€äº›åœ¨å¼€å‘è¿‡ç¨‹ä¸­éœ€è¦çš„ä¸œè¥¿ã€‚ æ­¥éª¤ï¼ƒ1 - å¯åŠ¨nodeos # è¦é»˜è®¤æƒ…å†µä¸‹å°†åˆçº¦çš„è¾“å‡ºæ‰“å°åˆ°æ§åˆ¶å°ï¼Œè¯·æ·»åŠ ï¼š # --contracts-console nodeos -e -p eosio --plugin eosio::wallet_api_plugin --plugin eosio::chain_api_plugin --plugin eosio::history_api_plugin --contracts-console ç¬¬äºŒæ­¥ - åˆ›å»ºä¸€ä¸ªé’±åŒ… å®ƒå°†å­˜å‚¨æˆ‘ä»¬åœ¨ç­¾ç½²äº¤æ˜“æ—¶å°†ä½¿ç”¨çš„å¯†é’¥ # 1. åˆ›å»ºåä¸ºâ€œoasisâ€çš„æ–°é’±åŒ… cleos wallet create -n oasis # 2. ç”Ÿæˆä¸¤å¯¹å¯†é’¥ï¼ˆä½¿ç”¨å‘½ä»¤ä¸¤æ¬¡ï¼‰ cleos create key # 3. åœ¨é’±åŒ…ä¸­å¯¼å…¥ç”Ÿæˆçš„ç§é’¥ï¼ˆæ‚¨éœ€è¦åœ¨æœ«å°¾æŒ‡å®šé’±åŒ…ï¼‰ # {private_key_1} - è¿™å°†æ˜¯OwnerKey # {private_key_2} - è¿™å°†æ˜¯ActiveKey cleos wallet import --private-key={private_key_1} -n oasis cleos wallet import --private-key={private_key_2} -n oasis # 4. å°†â€œeosioâ€å¸æˆ·çš„ç§é’¥æ·»åŠ åˆ°æ‚¨çš„é’±åŒ…ä¸­ # æ³¨æ„: å¦‚æœæ‚¨æ”¶åˆ°3090003é”™è¯¯: Provided keys, permissions, and delays do not satisfy declared authorizations # æ‚¨å¯èƒ½åº”è¯¥å°†â€œeosioâ€å¸æˆ·çš„ç§é’¥æ·»åŠ åˆ°æ‚¨çš„é’±åŒ…ä¸­ã€‚ cleos wallet import --private-key=5KQwrPbwdL6PhXujxW37FSSQZ1JiwsST4cqQzDeyXtP79zkvFD3 -n oasis æ³¨æ„ï¼šä¸è¦å¿˜è®°ä¿å­˜å¯†é’¥å’Œé’±åŒ…å¯†ç  ç¬¬3æ­¥ - åˆ›å»ºä¸€ä¸ªå¸æˆ· EOS.IOæ™ºèƒ½åˆçº¦åœ¨ä¸€ä¸ªå¸æˆ·ä¸Šè¿è¡Œã€‚å› æ­¤ï¼Œéœ€è¦ä¸€ä¸ªå¸æˆ·æ¥è½¬ç§»æˆ–ä»¥å…¶ä»–æ–¹å¼å°†äº¤æ˜“æ¨é€åˆ°åŒºå—é“¾ã€‚è®©æˆ‘ä»¬å°†æˆ‘ä»¬çš„å¸æˆ·å‘½åä¸ºâ€œ&nbsp;anorak&nbsp;â€ã€‚å¬èµ·æ¥å¾ˆç†Ÿæ‚‰ï¼Ÿ # Create the account using the public keys cleos create account eosio anorak {public_OwnerKey} {public_ActiveKey} # &quot;eosio&quot; is the name of the account who will create the new one # &quot;anorak&quot; is the name of the new account é¡¹ç›®â€™Oasisâ€™ æ˜¯æ—¶å€™å¼€å§‹å¼€å‘æˆ‘ä»¬çš„dAppäº†ï¼åˆ›å»ºåä¸ºOasisçš„é¡¹ç›®æ–‡ä»¶å¤¹ã€‚åœ¨é‡Œé¢æ·»åŠ ä¸¤ä¸ªä¸»è¦çš„å­æ–‡ä»¶å¤¹ -&nbsp;contractså’Œtestsã€‚æ˜¯çš„ï¼Œæˆ‘ä»¬ä¹Ÿè¦ç¼–å†™æµ‹è¯•ã€‚å°†æœ‰å››ä¸ªå­æ–‡ä»¶å¤¹åä¸ºï¼šPlayers, Games, Marketplace, Oasis&nbsp;- åˆ›å»ºå®ƒä»¬ã€‚ Playersæ™ºèƒ½åˆçº¦ Playerså°†æˆä¸ºæˆ‘ä»¬çš„é¦–ä¸ªEOSæ™ºèƒ½åˆçº¦ã€‚æ¯ä¸ªPlayerså°†æ‹¥æœ‰ç”¨æˆ·åï¼Œç­‰çº§ï¼Œå¥åº·ç‚¹ï¼Œèƒ½é‡ç‚¹ï¼Œå¹³è¡¡ï¼Œåº“å­˜ï¼ˆå……æ»¡ç‰©å“ï¼‰å’Œèƒ½åŠ›ã€‚ä»–å°†èƒ½å¤Ÿä»å¸‚åœºè´­ä¹°ç‰©å“ï¼Œè¿™äº›ç‰©å“å°†è¢«æ·»åŠ åˆ°ä»–çš„åº“å­˜ï¼Œå¥åº·ç‚¹ï¼Œèƒ½é‡ç‚¹å’Œ/æˆ–èƒ½åŠ›ä¸­ã€‚ä¸ºäº†è·å¾—é‡‘å¸ï¼Œä»–éœ€è¦ä¸Oasisçš„å…¶ä»–ç©å®¶ä¸€èµ·ç©æ¸¸æˆ åœ¨Playersæ–‡ä»¶å¤¹ä¸­åˆ›å»ºPlayers.hppå’ŒPlayers.cppæ–‡ä»¶ 1.&nbsp;Players.hppæ˜¯å¤´æ–‡ä»¶ï¼ŒåŒ…å«**.cpp**æ–‡ä»¶å¼•ç”¨çš„å˜é‡ï¼Œå¸¸é‡å’Œå‡½æ•°ã€‚ 2.&nbsp;Players.cppæ–‡ä»¶æ˜¯åŒ…å«åˆåŒåŠŸèƒ½çš„æºæ–‡ä»¶ã€‚ è®©æˆ‘ä»¬æ·±å…¥äº†è§£EOSåˆåŒçš„åŸºæœ¬ç»“æ„ Players.hpp #include &lt;eosiolib/eosio.hpp&gt; #include &lt;eosiolib/print.hpp&gt; #include &lt;string&gt; æ³¨æ„ï¼šæˆ‘ä»¬ç°åœ¨åªåœ¨Players.hppä¸­æ·»åŠ ï¼Œå› ä¸ºæˆ‘ä»¬è¿˜ä¸ä¼šåœ¨å…¶ä»–åˆçº¦ä¸­ä½¿ç”¨å®ƒã€‚ Players.cpp åœ¨åˆçº¦å¼€å§‹æ—¶ï¼Œæˆ‘ä»¬è®¾ç½®äº†å¼•å…¥æˆ‘ä»¬å°†è¦ä½¿ç”¨çš„æ‰€æœ‰å†…å®¹ã€‚åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼ŒPlayers.hppå·²ç»æ‹¥æœ‰å®ƒä»¬ï¼Œæ‰€ä»¥å®ƒè¶³ä»¥åœ¨æˆ‘ä»¬çš„åˆçº¦å®ç°ä¸­åªåŒ…å«æ ‡é¢˜ã€‚å¤§å¤šæ•°æ—¶å€™ï¼Œå½“ä½ ä½¿ç”¨æ ‡é¢˜æ—¶ï¼Œä½ ä¼šè¿™æ ·åšã€‚ å°†æ‰€æœ‰å†…å®¹åŒ…è£…åœ¨ä¸€ä¸ªåç§°ç©ºé—´ä¸­æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åšæ³•ï¼Œå› ä¸ºå®ƒåœ¨è¿™é‡Œç”¨Oasisæ˜¾ç¤ºã€‚ å¦‚æœæ‚¨ç†Ÿæ‚‰C++ï¼Œæ‚¨å¯èƒ½çŸ¥é“ä¸ºä»€ä¹ˆåœ¨ç±»å®ç°ä¹‹å‰æˆ‘ä»¬æœ‰ä¸¤ä¸ªusingå­å¥ã€‚å¯¹äºå…¶ä»–äºº - å½“æˆ‘ä»¬æƒ³è¦ä»C++ä¸­çš„eosioå‘½åç©ºé—´è°ƒç”¨ä¸€ä¸ªåŠ¨ä½œæ—¶ï¼Œæˆ‘ä»¬å¿…é¡»è¿™æ ·è°ƒç”¨å®ƒï¼šeosio::some_action()ä»¥é¿å…åœ¨æˆ‘ä»¬ç®€å•çš„åŠ¨ä½œåç§°å‰é¢æ¯æ¬¡æ·»åŠ eosio::ã€‚&nbsp;åœ¨å¼€å¤´æ·»åŠ using namespace eosioã€‚ #include &quot;Players.hpp&quot; namespace Oasis { using namespace eosio; using std::string; class Players : public contract { using contract::contract; public: Players(account_name self):contract(self) {} //@abi action void add(const account_name account, string&amp; username, uint64_t level) { } //@abi action void update(const account_name account, uint64_t level, int64_t healthPoints, int64_t energyPoints) { } //@abi action void getplayer(const account_name account) { } private: //@abi table player i64 struct player { uint64_t account_name; string username; uint64_t level; uint64_t health_points = 1000; uint64_t energy_points = 1000; uint64_t primary_key() const { return account_name; } EOSLIB_SERIALIZE(player, (account_name)(username)(level)(health_points)(energy_points)) }; typedef multi_index&lt;N(player), player&gt; playerIndex; }; EOSIO_ABI(Players, (add)(update)(getplayer)) } è¯¥Playersç±»ç»§æ‰¿äº†â€œcontractâ€æ™ºèƒ½åˆåŒï¼Œå¹¶ä½¿ç”¨å®ƒçš„æ„é€ å‡½æ•°ï¼ˆusing contract::contractï¼‰ã€‚ åœ¨å¼€å‘EOS dAppæ—¶ï¼Œæ‚¨åº”è¯¥çŸ¥é“çš„ä¸€ä»¶é‡è¦äº‹æƒ…æ˜¯æ™ºèƒ½åˆçº¦ä»¥åŠ¨ä½œå’Œå…±äº«å†…å­˜æ•°æ®åº“è®¿é—®çš„å½¢å¼ç›¸äº’é€šä¿¡ã€‚åˆåŒå¯ä»¥è¯»å–å¦ä¸€ä¸ªåˆåŒçš„æ•°æ®åº“çš„çŠ¶æ€ï¼Œåªè¦å®ƒåŒ…å«åœ¨å…·æœ‰å¼‚æ­¥vibeçš„äº‹åŠ¡çš„è¯»å–èŒƒå›´å†…ã€‚è¿™å¯ä»¥é€šè¿‡ä½¿ç”¨ä¸¤ç§é€šä¿¡æ¨¡å¼ä¹‹ä¸€æ¥å®ç° -&nbsp;å†…è”æˆ–å»¶è¿Ÿã€‚æ‚¨å¯ä»¥å°†å®ƒä»¬è§†ä¸ºåŒæ­¥å’Œå¼‚æ­¥ ä»EOS.IOæ–‡æ¡£ï¼š å†…è”&nbsp;- å†…è”ä¿è¯åœ¨å½“å‰äº‹åŠ¡æˆ–å±•å¼€æ—¶æ‰§è¡Œ;&nbsp;æ— è®ºæˆåŠŸä¸å¦ï¼Œéƒ½ä¸ä¼šä¼ è¾¾ä»»ä½•é€šçŸ¥ã€‚Inlineä½¿ç”¨ä¸åŸå§‹äº‹åŠ¡ç›¸åŒçš„èŒƒå›´å’Œæƒé™è¿›è¡Œæ“ä½œ å»¶æœŸ&nbsp;-&nbsp;å»¶æœŸå°†ç”±ç”Ÿäº§è€…é…Œæƒ…å†³å®š;&nbsp;å¯ä»¥ä¼ è¾¾é€šä¿¡ç»“æœï¼Œä¹Ÿå¯ä»¥ç®€å•åœ°è¶…æ—¶ã€‚å»¶æœŸå¯ä»¥è¾¾åˆ°ä¸åŒçš„èŒƒå›´å¹¶æ‰¿æ‹…å‘é€å®ƒä»¬çš„åˆåŒçš„æƒé™ã€‚ åœ¨æˆ‘ä»¬åˆåŒçš„ç±»ä¸»ä½“ä¸­ï¼Œæœ‰ä¸¤ç§ç±»å‹çš„è®¿é—®ä¿®é¥°ç¬¦ - public &amp; privateã€‚åœ¨publicæ˜¯æ„é€ å‡½æ•°å’Œæ‰€æœ‰æ“ä½œã€‚åŠ¨ä½œè¡¨ç¤ºæ™ºèƒ½åˆçº¦ä¸­çš„å•ä¸ªæ“ä½œã€‚åœ¨æˆ‘ä»¬çš„åˆçº¦ä¸­ï¼Œæˆ‘ä»¬æœ‰add, update &amp; getplayerã€‚æˆ‘ä»¬ç¨åä¼šçœ‹ä¸€ä¸‹å®ƒä»¬ã€‚ä¸æ­¤åŒæ—¶ï¼Œæ‚¨åº”è¯¥å·²ç»æ³¨æ„åˆ°åœ¨æ¯æ¬¡æ“ä½œä¹‹å‰æˆ‘ä»¬éƒ½æœ‰â€œ&nbsp;//@abi action&nbsp;â€ã€‚å®ƒæ˜¯eosiocppè„šæœ¬çš„æŒ‡ç¤ºæ ‡å¿—ï¼Œå®ƒå°†ä¸ºæˆ‘ä»¬çš„æ™ºèƒ½åˆçº¦ç”Ÿæˆ**.abi**æ–‡ä»¶ã€‚ åœ¨privateéƒ¨åˆ†ï¼Œæˆ‘ä»¬ä¿ç•™äº†æˆ‘ä»¬ä¸å¸Œæœ›ä»PlayersåˆåŒä¹‹å¤–è®¿é—®çš„æ‰€æœ‰å†…å®¹ã€‚è¿™é‡Œæˆ‘ä»¬æ­£åœ¨åˆå§‹åŒ–multi_indexã€‚å®ƒæ˜¯ä»€ä¹ˆä»¥åŠä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ //@abi table player i64 struct player { uint64_t account_name; string username; uint64_t level; uint64_t health_points = 1000; uint64_t energy_points = 1000; uint64_t primary_key() const { return username; } EOSLIB_SERIALIZE(player, (account_name)(username)(level)(health_points)(energy_points)) }; typedef multi_index&lt;N(player), player&gt; playerIndex; æ­£å¦‚æˆ‘ä»¬æ‰€è¯´ï¼Œä¸€ä¸ªactionä»£è¡¨äº†æ™ºèƒ½åˆçº¦ä¸­çš„å•ä¸€æ“ä½œã€‚æ¯ä¸ªæ“ä½œéƒ½åœ¨å…¶è‡ªå·±çš„ç¯å¢ƒä¸­è¿è¡Œï¼Œç§°ä¸ºæ“ä½œä¸Šä¸‹æ–‡ã€‚ä¸Šä¸‹æ–‡æä¾›äº†æ‰§è¡Œæ“ä½œæ‰€éœ€çš„ä¸€äº›å†…å®¹ã€‚å…¶ä¸­ä¸€ä»¶äº‹æ˜¯actionçš„å·¥ä½œmemoryã€‚è¿™æ˜¯actionä¿æŒå…¶stateçš„åœ°æ–¹ã€‚åœ¨å¤„ç†actionä¹‹å‰ï¼ŒEOSIOä¼šä¸ºæ“ä½œè®¾ç½®ä¸€ä¸ªå¹²å‡€çš„å·¥ä½œmemoryã€‚åœ¨æ–°actionçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œåœ¨æ‰§è¡Œå¦ä¸€ä¸ªæ“ä½œæ—¶å¯èƒ½å·²è®¾ç½®çš„å˜é‡ã€‚åœ¨æ“ä½œä¹‹é—´ä¼ é€’çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯å°†å…¶æŒä¹…åŒ–å¹¶ä»EOSIOæ•°æ®åº“ä¸­æ£€ç´¢å®ƒã€‚ è¿™å¯ä»¥é€šè¿‡å¤šç´¢å¼•å®ç°ï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨EOSIOæ•°æ®åº“ä¸­è¯»å–å’Œä¿®æ”¹æŒä¹…çŠ¶æ€ã€‚ åœ¨æˆ‘ä»¬çš„åˆåŒä¸­ï¼Œæˆ‘ä»¬å·²ç»ä¸ºå¤šç´¢å¼•è¡¨å£°æ˜äº†ä¸€ä¸ªåä¸ºplayerçš„å¯¹è±¡æ¨¡æ¿ã€‚é‡è¦çš„æ˜¯è¦æ³¨æ„ï¼Œå½“æˆ‘ä»¬ä¸ºè¡¨åˆ›å»ºæ¨¡æ¿æ—¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ·»åŠ primary_keyã€‚æˆ‘ä»¬ä½¿ç”¨account_nameï¼Œå› ä¸ºæˆ‘ä»¬æƒ³è¦æ¯ä¸ªå¸æˆ·æ˜¯ä¸€ä¸ªplayerã€‚ æˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªeosiocppè„šæœ¬çš„æŒ‡ç¤ºæ ‡å¿—- â€œ&nbsp;//@abi table player i64&nbsp;â€ã€‚è¿™è¯´æ˜æˆ‘ä»¬è¡¨çš„åç§°æ˜¯playerï¼Œä½¿ç”¨çš„ç´¢å¼•ç±»å‹æ˜¯i64ã€‚ ä¸€æ—¦å¯¹è±¡å‡†å¤‡å°±ç»ªï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä»¥ä¸‹æ¨¡æ¿é”®å…¥æˆ‘ä»¬çš„å¤šç´¢å¼•ï¼š // typedef multi_index&lt;N(table_name), object_template_to_use&gt; multi_index_name; typedef multi_index&lt;N(player), player&gt; playerIndex; æ‚¨å¯èƒ½æƒ³çŸ¥é“EOSLIB_SERIALIZEå’ŒEOSIO_ABIæ˜¯ä»€ä¹ˆã€‚ EOSLIB_SERIALIZE(player, (account_name)(username)(level)(health_points)(energy_points)) EOSIO_ABI(Players, (add)(update)(health)(energy)(getplayer)) è¿™äº›æ˜¯C++å®ã€‚EOSIO_ABIå°è£…äº†applyæ–¹æ³•çš„é€»è¾‘ã€‚applyæ˜¯actionå¤„ç†ç¨‹åºï¼Œå®ƒç›‘å¬æ‰€æœ‰ä¼ å…¥çš„actionå¹¶æ ¹æ®å‡½æ•°ä¸­çš„è§„èŒƒåšå‡ºååº”ã€‚å®çš„ç»“æ„éå¸¸ç®€å•ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç±»å‹ï¼ˆå½“å‰ç±»çš„åç§°ï¼‰ï¼Œä¸‹ä¸€ä¸ªå‚æ•°æ˜¯ä¸‹é¢ç¤ºä¾‹ä¸­åˆ—å‡ºçš„æ‰€æœ‰action // EOSIO_ABI(class_name, (action_1)(action_2)(action_3)...(action_n)) è¯¥EOSLIB_SERIALIZEå®æä¾›äº†åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ–¹æ³•ï¼Œä½¿actionå¯ä»¥åœ¨åˆçº¦å’Œnodeosç³»ç»Ÿä¹‹é—´æ¥å›ä¼ é€’ã€‚ // EOSLIB_SERIALIZE(struct_name, (property_1)(property_2)(property_3)...(property_n)) å®ç°action ç°åœ¨è®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹æ¯ä¸ªactionåŠå…¶å®ç°ã€‚ ç¬¬ä¸€ä¸ªæ˜¯â€œaddâ€ã€‚å®ƒè´Ÿè´£åœ¨Oasisä¸­åˆ›å»ºä¸€ä¸ªæ–°ç©å®¶ã€‚ //@abi action void add(const account_name account, string&amp; username) { /** * We require that only the owner of an account can use this action * or somebody with the account authorization */ require_auth(account); /** * We access the &quot;player&quot; table as creating an object of type &quot;playerIndex&quot; * As parameters we pass code &amp; scope - _self from the parent contract */ playerIndex players(_self, _self); /** * We must verify that the account doesn&#39;t exist yet * If the account is not found the iterator variable should be players.end() */ auto iterator = players.find(account); eosio_assert(iterator == players.end(), &quot;Address for account already exists&quot;); /** * We add the new player in the table * The first argument is the payer of the storage which will store the data */ players.emplace(account, [&amp;](auto&amp; player) { player.account_name = account; player.username = username; player.level = 1; player.health_points = 1000; player.energy_points = 1000; }); } å®ç°actionæœ‰4ä¸ªä¸»è¦å…³é”®ç‚¹ï¼š ç”±äºæˆ‘ä»¬åªå¸Œæœ›å¸æˆ·æ‰€æœ‰è€…æˆ–æ‹¥æœ‰å¸æˆ·æƒé™çš„äººèƒ½å¤Ÿåˆ›å»ºç©å®¶ï¼Œå› æ­¤æˆ‘ä»¬æ·»åŠ äº†å¸æˆ·éªŒè¯æ£€æŸ¥ã€‚ç”±äºrequire_authå‡½æ•°ï¼Œè¿™å¾ˆå®¹æ˜“å®Œæˆã€‚ ä¸ºäº†ä½¿ç”¨åˆ›å»ºçš„è¡¨ -&nbsp;playerï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªâ€œplayerIndexâ€ç±»å‹çš„å¯¹è±¡ã€‚ ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬å¿…é¡»é¦–å…ˆéªŒè¯è¯¥å¸æˆ·æ˜¯å¦å­˜åœ¨ æœ€åï¼Œæ·»åŠ æ–°çš„playerã€‚ä½œä¸ºä»»ä½•æ–°playerï¼Œå®ƒä»1çº§å¼€å§‹ï¼Œæœ€å¤§ç”Ÿå‘½å€¼å’Œèƒ½é‡ç‚¹ç­‰äº1000.è¯·æ³¨æ„ï¼Œemplaceå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°å°†æ˜¯å­˜å‚¨æ•°æ®çš„å­˜å‚¨çš„playerã€‚åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬è®¾ç½®äº†è§¦å‘è¯¥æ“ä½œçš„å½“å‰å¸æˆ·ä½œä¸ºplayerã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±è®¾å®šã€‚ ä¸‹ä¸€ä¸ªactionæ˜¯â€œupdateâ€ã€‚å®ƒè´Ÿè´£æ›´æ–°ç©å®¶çš„ç­‰çº§ï¼Œå¥åº·å’Œèƒ½é‡ç‚¹ã€‚è¯¥å®ç°ä¸â€œaddâ€æ“ä½œéå¸¸ç›¸ä¼¼ï¼Œåªæ˜¯æˆ‘ä»¬æ­£åœ¨ä¿®æ”¹playerçŠ¶æ€ï¼Œè€Œmodifyå‡½æ•°å°†iteratorä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚å¯¹è¯¥iteratoræ‰€æŒ‡å‘çš„å¯¹è±¡è¿›è¡Œæ›´æ–° //@abi action void update(account_name account, uint64_t level, int64_t healthPoints, int64_t energyPoints) { require_auth(account); playerIndex players(_self, _self); auto iterator = players.find(account); eosio_assert(iterator != players.end(), &quot;Address for account not found&quot;); /** * We add the new player in the table * The first argument is the payer of the storage which will store the data */ players.modify(iterator, account, [&amp;](auto&amp; player) { player.level = level; if ((player.health_points - healthPoints) &lt; 0) { player.health_points = 0; } else { player.health_points -= healthPoints; } if ((player.energy_points - energyPoints) &lt; 0) { player.energy_points = 0; } else { player.energy_points -= energyPoints; } }); } æœ€åä¸€ä¸ªactionæ˜¯â€œ&nbsp;getplayer&nbsp;â€ï¼Œæ‰“å°æœ‰å…³playerçš„ä¿¡æ¯ã€‚å®ƒæ²¡æœ‰require_authå‡½æ•°ï¼Œå› ä¸ºä»»ä½•äººéƒ½å¯ä»¥è°ƒç”¨å®ƒã€‚ //@abi action void getplayer(const account_name account) { playerIndex players(_self, _self); auto iterator = players.find(account); eosio_assert(iterator != players.end(), &quot;Address for account not found&quot;); /** * The &quot;get&quot; function returns a constant reference to the object * containing the specified secondary key */ auto currentPlayer = players.get(account); print(&quot;Username: &quot;, currentPlayer.username.c_str(), &quot; Level: &quot;, currentPlayer.level, &quot; Health: &quot;, currentPlayer.health_points, &quot; Energy: &quot;, currentPlayer.energy_points); } ç©å®¶æ™ºèƒ½åˆçº¦éƒ¨ç½² æˆ‘ä»¬ç¡®å®åšäº†å¾ˆå¤šäº‹æƒ…ï¼Œç°åœ¨æ˜¯æ—¶å€™åœ¨åŒºå—é“¾ä¸Šéƒ¨ç½²æˆ‘ä»¬çš„æ™ºèƒ½åˆçº¦äº†ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç”Ÿæˆ.wastå’Œ.abiæ–‡ä»¶ã€‚æˆ‘ä»¬å°†ä½¿ç”¨eosiocppè„šæœ¬æ¥å®Œæˆå®ƒã€‚è½¬åˆ°Playersæ–‡ä»¶å¤¹å¹¶åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š eosiocpp -o Players.wast Players.cpp è¯¥å‘½ä»¤å°†ç”Ÿæˆæˆ‘ä»¬åˆåŒçš„Webç¨‹åºé›†ã€‚ æ¥ä¸‹æ¥ï¼Œå½“æ‚¨åœ¨åŒä¸€ç›®å½•ä¸­æ—¶ï¼Œè¿è¡Œæ­¤å‘½ä»¤ä»¥ç”ŸæˆPlayers.abiã€‚ eosiocpp -g Players.abi Players.cpp ç°åœ¨ï¼Œå½“æˆ‘ä»¬æœ‰Players.wastï¼†Players.abiï¼Œç°åœ¨ä½¿ç”¨å®ƒä»¬æ¥éƒ¨ç½²æˆ‘ä»¬çš„åˆåŒã€‚ # cleos set contract {account} {path_to_contract_folder} {path_to_.wast_file} {path_to_.abi_file} cleos set contract anorak ./contracts/Players ./contracts/Players/Players.wast ./contracts/Players/Players.abi Reading WAST/WASM from ./contracts/Players/Players.wast... Assembling WASM... Publishing contract... executed transaction: 2187a85a5e80cbd2c0e6715b6847c95cbb5da5df7ed1171be87709507678795d 6472 bytes 6582 us # eosio &lt;= eosio::setcode {&quot;account&quot;:&quot;anorak&quot;,&quot;vmtype&quot;:0,&quot;vmversion&quot;:0,&quot;code&quot;:&quot;0061736d010000000182011560037f7e7f0060057f7e7e7... # eosio &lt;= eosio::setabi {&quot;account&quot;:&quot;anorak&quot;,&quot;abi&quot;:&quot;0e656f73696f3a3a6162692f312e300002046974656d0006076974656d5f69640675696e7... æµ‹è¯•æ™ºèƒ½åˆçº¦ çœŸæ£’ï¼æ‚¨å·²ç»éƒ¨ç½²äº†ç¬¬ä¸€ä»½EOSåˆåŒã€‚ç°åœ¨æ˜¯æ—¶å€™æµ‹è¯•æˆ‘ä»¬çš„actionäº†ã€‚æˆ‘ä»¬å…ˆæ·»åŠ ä¸€ä¸ªæ–°ç”¨æˆ·ã€‚æ‚¨å¯ä»¥ä½¿ç”¨push actionå‘½ä»¤è§¦å‘æ“ä½œï¼š # cleos push action {account} {action_name} &#39;{data}&#39; -p {account}@active cleos push action anorak add &#39;[&quot;anorak&quot;,&quot;art3mis&quot;]&#39; -p anorak@active executed transaction: 00ea5aa48e50c33737b253ac24cb6bef3f296399e9a7e61b81044a852bb5c709 112 bytes 3015 us # anorak &lt;= anorak::add {&quot;account&quot;:&quot;anorak&quot;,&quot;username&quot;:&quot;art3mis&quot;} æ³¨æ„ï¼šä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„EOSIOï¼Œæ‚¨åº”è¯¥åœ¨æ¨é€ä»»ä½•æ“ä½œä¹‹å‰å§‹ç»ˆæ·»åŠ æƒé™æ ‡å¿—ã€‚ è®©æˆ‘ä»¬çœ‹çœ‹playeræ˜¯å¦æ˜¯ä½¿ç”¨â€œ&nbsp;getplayer&nbsp;â€æ¥åˆ›å»ºçš„ # cleos push action {account} {action} {data} # account - The account providing the contract to execute # action - The action to execute on the contract # data - The arguments to the contract cleos push action anorak getplayer &#39;[&quot;anorak&quot;]&#39; -p anorak@active executed transaction: 759ba984c4f9216d79fc473757a398ee6248c043ab6596cd8336a08512a4f465 104 bytes 2443 us # anorak &lt;= anorak::getplayer {&quot;account&quot;:&quot;anorak&quot;} &gt;&gt; Username: art3mis Level: 1 Health: 1000 Energy: 1000 ä¸€åˆ‡çœ‹èµ·æ¥éƒ½å¾ˆå®Œç¾ã€‚ ç°åœ¨æˆ‘ä»¬å°†æ›´æ–°æˆ‘ä»¬çš„playerï¼Œå¹¶å°†å†æ¬¡ä½¿ç”¨â€œ&nbsp;getplayer&nbsp;â€actionæ¥æŸ¥çœ‹æˆ‘ä»¬æ˜¯å¦å·²æˆåŠŸï¼š cleos push action anorak update &#39;[&quot;anorak&quot;,4,75,110]&#39; -p anorak@active executed transaction: 905c847178d47ca8a230fdf2ba1c92c42529aeebb118280fdbf9ccb1415992de 128 bytes 748 us # anorak &lt;= anorak::update {&quot;account&quot;:&quot;anorak&quot;,&quot;level&quot;:4,&quot;healthPoints&quot;:75,&quot;energyPoints&quot;:110} cleos push action anorak getplayer &#39;[&quot;anorak&quot;]&#39; -p anorak@active executed transaction: 31bf65b2d69f0977474ddd0332faddf5495cf7050d4ad7d5e678fbd4f7ad4eea 104 bytes 5654 us # anorak &lt;= anorak::getplayer {&quot;account&quot;:&quot;anorak&quot;} &gt;&gt; Username: art3mis Level: 4 Health: 925 Energy: 890 æˆ‘ä»¬çš„æ’­æ”¾å™¨å·²æˆåŠŸæ›´æ–°ã€‚åšå¾—å¥½ï¼ æ‘˜è¦ æˆ‘ä»¬åˆ°æ­¤ä¸ºæ­¢ã€‚æˆ‘ä»¬ä»Šå¤©åšäº†å¾ˆå¤šæ–°äº‹ç‰©ã€‚èŠ±ç‚¹æ—¶é—´äº†è§£æˆ‘ä»¬æ‰€åšçš„ä¸€åˆ‡ï¼Œå¹¶å°è¯•è‡ªå·±åšã€‚ğŸ™‚ åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»ä»‹ç»äº†EOSæ™ºèƒ½åˆçº¦çš„åŸºç¡€çŸ¥è¯†ã€‚åœ¨ä¸‹ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†å†æ¬¡å‡çº§ã€‚æˆ‘ä»¬å°†æ‰©å±•ç©å®¶åˆåŒï¼Œæˆ‘ä»¬å°†åˆ›å»ºå‰©ä½™çš„åˆåŒï¼ˆå¸‚åœºï¼Œç»¿æ´²å’Œä¸€äº›æ¸¸æˆï¼‰ï¼Œç„¶åå»ºç«‹ä»–ä»¬ä¹‹é—´çš„è”ç³»ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¼šæ·»åŠ ä¸€äº›å•å…ƒæµ‹è¯•ã€‚ä¸€æ—¦ä½ å­¦ä¼šäº†åŸºç¡€çŸ¥è¯†ï¼Œè¿™å°†ä¼šå®¹æ˜“å¾—å¤šã€‚ æ£€æŸ¥æœ€ç»ˆç›®çš„-ç«¯EOS DAPPå¼€å‘æ•™ç¨‹-ç¬¬2éƒ¨åˆ†&nbsp;&nbsp;åœ¨è¿™é‡Œã€‚ åŸæ–‡é“¾æ¥","@type":"BlogPosting","url":"/2019/01/05/725b6a33fa3c300caf0ab303c9e60be9.html","headline":"EOS DAPPå¼€å‘æ•™ç¨‹ - ç¬¬1éƒ¨åˆ†","dateModified":"2019-01-05T00:00:00+08:00","datePublished":"2019-01-05T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/2019/01/05/725b6a33fa3c300caf0ab303c9e60be9.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-1');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>EOS DAPPå¼€å‘æ•™ç¨‹ - ç¬¬1éƒ¨åˆ†</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>æŸšå­ç¤¾åŒº</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <div id="content_views" class="markdown_views prism-atom-one-dark"> 
  <!-- flowchart ç®­å¤´å›¾æ ‡ å‹¿åˆ  --> 
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> 
  <p><img src="https://infinitexlabs.com/wp-content/uploads/2018/04/ready_player_one-1500x750.jpg" alt="EOS dAppå¼€å‘æ•™ç¨‹"><br> ä¸ºäº†å¸®åŠ©EOSåŒºå—é“¾å¼€å‘ç¤¾åŒºï¼ŒInfinite X Labsçš„å¼€å‘å›¢é˜Ÿå†³å®šè¿è¡Œä¸€ç³»åˆ—ä¸“é—¨ç”¨äºEOSå¼€å‘çš„æ•™ç¨‹ã€‚åœ¨ä¸Šä¸€ä¸ªæ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•è®¾ç½®ç”¨äºæ„å»ºEOS dAppçš„å¼€å‘ç¯å¢ƒã€‚æˆ‘ä»¬å·²ç»å¯åŠ¨äº†æˆ‘ä»¬çš„æœ¬åœ°testnetï¼Œéƒ¨ç½²äº†ä¸€ä¸ªEOSæ™ºèƒ½åˆçº¦Demoå¹¶ä¸ä¹‹è¿›è¡Œäº†äº’åŠ¨ã€‚ä½ å¯ä»¥æ‰¾åˆ°æ‰€æœ‰ä»æˆ‘ä»¬çš„EOS Blockchainå¼€å‘ç³»åˆ—æ•™ç¨‹çš„ç¬¬ä¸€ç¯‡<a href="https://infinitexlabs.com/first-steps-in-eos-blockchain-development/" rel="nofollow"><strong>è¿™é‡Œ</strong></a>ã€‚</p> 
  <p>ç°åœ¨æ˜¯æ—¶å€™å‡çº§äº†ã€‚å¦‚æœä¸åˆ›å»ºEOS dAppï¼Œå­¦ä¹ å¦‚ä½•æ„å»ºEOS dAppçš„æœ€ä½³æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿè¿™å°±æ˜¯æˆ‘ä»¬è¦åšçš„ã€‚é€šè¿‡å¼€å‘ï¼Œæ‚¨å°†å­¦åˆ°å¾ˆå¤šæ–°ä¸œè¥¿ï¼Œåœ¨è¿™4ä¸ªéƒ¨åˆ†æ•™ç¨‹çš„æœ€åï¼Œæ‚¨å°†èƒ½å¤Ÿåˆ›å»ºæ‚¨çš„dAppã€‚åœ¨ç³»åˆ—çš„æœ€åå°†ä¸ä½ åˆ†äº«ä¸€äº›éå¸¸æœ‰è¶£çš„ä¸œè¥¿ï¼Œä½†å°±ç›®å‰æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªæƒŠå–œğŸ™‚</p> 
  <p><em>è¯·æ³¨æ„ï¼ŒEOSIOä»å¤„äºå¼€å‘é˜¶æ®µï¼Œæœªæ¥æŸäº›æ­¥éª¤å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬çš„å›¢é˜Ÿå°†å°½åŠ›ä¿æŒæ•™ç¨‹å§‹ç»ˆæ˜¯æœ€æ–°çš„ã€‚</em></p> 
  <p><em>ä½ å¯ä»¥åœ¨</em><a href="https://github.com/infiniteXLabs/Oasis" rel="nofollow"><em><strong>GitHub</strong></em></a><em>ä¸­</em><a href="https://github.com/infiniteXLabs/Oasis" rel="nofollow"><em><strong>æ‰¾åˆ°</strong></em></a><em>è¿™ä¸ªéƒ¨åˆ†çš„æ‰€æœ‰æºä»£ç </em><a href="https://github.com/infiniteXLabs/Oasis" rel="nofollow"></a></p> 
  <p>ä¸Šæ¬¡æ›´æ–° -&nbsp;<strong>2018</strong>å¹´<strong>11æœˆ25æ—¥</strong>&nbsp;- æœ¬æ•™ç¨‹ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„EOSIO -&nbsp;<a href="https://github.com/EOSIO/eos/releases/tag/v1.4.4" rel="nofollow">v1.4.4</a>è¿›è¡Œäº†æ›´æ–°<a href="https://github.com/EOSIO/eos/releases/tag/v1.4.4" rel="nofollow"></a></p> 
  <p>è®©æˆ‘ä»¬å¼€å§‹å§ï¼</p> 
  <p>åœ¨æˆ‘ä»¬å¼€å§‹ä½¿ç”¨ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ä¸€ä¸ªæƒ³æ³•ã€‚ä½ çœ‹è¿‡å²è’‚æ–‡æ–¯çš®å°”ä¼¯æ ¼çš„ã€Šå¤´å·ç©å®¶ã€‹ç”µå½±å—ï¼Ÿå¦‚æœçœ‹è¿‡ï¼Œé‚£ä½ å·²ç»çŸ¥é“ç»¿æ´²æ˜¯ä»€ä¹ˆäº†ï¼ä»¤äººå…´å¥‹ï¼Œå¯¹å§ï¼Ÿè®©æˆ‘ä»¬æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬æ˜¯å›¢é˜Ÿçš„ä¸€å‘˜ï¼Œä»–ä»¬å°†æ„å»ºä¸‹ä¸€ä¸ªOasisï¼Œæˆ‘ä»¬çš„ä»»åŠ¡æ˜¯å°†åŒºå—é“¾æŠ€æœ¯é›†æˆåˆ°å…¶ä¸­ï¼Œæˆ–è€…è‡³å°‘è¡¨æ˜å¯ä»¥å®Œæˆã€‚æˆ‘ä»¬è¦åšçš„æ˜¯ä¸€ä¸ªå°å‹dAppï¼Œå®ƒå°†æ‹¥æœ‰ç©å®¶ã€‚æ¯ä¸ªç©å®¶éƒ½å¯ä»¥ç©æ¸¸æˆï¼Œä»–å¯ä»¥ä»ä¸­æ¥æ”¶ç¡¬å¸ã€‚é€šè¿‡ç¡¬å¸ï¼Œä»–å¯ä»¥å»å¸‚åœºè´­ä¹°ç‰©å“ï¼Œè¿™å°†ç»™äºˆä»–åŠ›é‡ï¼Œèƒ½åŠ›ï¼Œå¥åº·å’Œ/æˆ–å‡çº§ã€‚å½“ç„¶è¿˜æœ‰Oasisåˆçº¦ - æˆ‘ä»¬çš„ä¸»è¦èµ·ç‚¹ã€‚</p> 
  <h2><a id="_15"></a>ä½ éœ€è¦ä»€ä¹ˆæ‰èƒ½å¼€å§‹å¼€å‘</h2> 
  <p>ä¸ºäº†èƒ½å¤Ÿå¼€å‘EOS dAppï¼Œæ‚¨éœ€è¦å…·æœ‰C/C++çš„å…ˆå‰èƒŒæ™¯ï¼Œå› ä¸ºè¿™æ˜¯ç”¨äºEOSæ™ºèƒ½åˆçº¦çš„ç¼–ç¨‹è¯­è¨€</p> 
  <ul> 
   <li>C/C++èƒŒæ™¯ -&nbsp;&nbsp;<strong>âœ“</strong></li> 
  </ul> 
  <p>ä¸€ä¸ªIDEï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­ç¼–å†™æ™ºèƒ½åˆçº¦ã€‚æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨å¸¦æœ‰C/C++æ‰©å±•çš„VS Codeï¼Œä½†æ‚¨å¯ä»¥é€‰æ‹©æœ€é€‚åˆæ‚¨çš„æ–¹å¼ã€‚**<a href="https://www.jetbrains.com/clion/" rel="nofollow">CLion</a>**ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é€‰æ‹©</p> 
  <ul> 
   <li>IDE -&nbsp;<strong><a href="https://code.visualstudio.com/" rel="nofollow">Visual Studioä»£ç </a>&nbsp;**&nbsp;-&nbsp;<strong>âœ“</strong></strong>&nbsp;**</li> 
  </ul> 
  <p>å½“ç„¶ï¼Œæ‚¨éœ€è¦ä¸€ä¸ªæœ¬åœ°testnetèŠ‚ç‚¹ï¼Œå¦‚æœæ‚¨ä¸çŸ¥é“å¦‚ä½•æ„å»ºä¸€ä¸ªèŠ‚ç‚¹ã€‚**<a href="https://infinitexlabs.com/first-steps-in-eos-blockchain-development/" rel="nofollow">åœ¨æ­¤å¤„</a>**æŸ¥çœ‹æˆ‘ä»¬ä¸Šä¸€ä¸ªæ•™ç¨‹çš„å¸®åŠ©ã€‚</p> 
  <ul> 
   <li>ä¸€ä¸ªæœ‰æ•ˆçš„æœ¬åœ°testnetèŠ‚ç‚¹ -&nbsp;&nbsp;<strong>âœ“</strong></li> 
  </ul> 
  <h2><a id="_29"></a>è®¾ç½®</h2> 
  <p>åœ¨ç¼–å†™æˆ‘ä»¬çš„ç¬¬ä¸€ä»½åˆåŒä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€äº›åœ¨å¼€å‘è¿‡ç¨‹ä¸­éœ€è¦çš„ä¸œè¥¿ã€‚</p> 
  <h4><a id="1__nodeos_32"></a>æ­¥éª¤ï¼ƒ1 - å¯åŠ¨nodeos</h4> 
  <pre><code># è¦é»˜è®¤æƒ…å†µä¸‹å°†åˆçº¦çš„è¾“å‡ºæ‰“å°åˆ°æ§åˆ¶å°ï¼Œè¯·æ·»åŠ ï¼š
# --contracts-console

nodeos -e -p eosio --plugin eosio::wallet_api_plugin --plugin eosio::chain_api_plugin --plugin eosio::history_api_plugin --contracts-console
</code></pre> 
  <h4><a id="___39"></a>ç¬¬äºŒæ­¥ - åˆ›å»ºä¸€ä¸ªé’±åŒ…</h4> 
  <p>å®ƒå°†å­˜å‚¨æˆ‘ä»¬åœ¨ç­¾ç½²äº¤æ˜“æ—¶å°†ä½¿ç”¨çš„å¯†é’¥</p> 
  <pre><code># 1. åˆ›å»ºåä¸ºâ€œoasisâ€çš„æ–°é’±åŒ…
cleos wallet create -n oasis

# 2. ç”Ÿæˆä¸¤å¯¹å¯†é’¥ï¼ˆä½¿ç”¨å‘½ä»¤ä¸¤æ¬¡ï¼‰
cleos create key

# 3. åœ¨é’±åŒ…ä¸­å¯¼å…¥ç”Ÿæˆçš„ç§é’¥ï¼ˆæ‚¨éœ€è¦åœ¨æœ«å°¾æŒ‡å®šé’±åŒ…ï¼‰
# {private_key_1} - è¿™å°†æ˜¯OwnerKey
# {private_key_2} - è¿™å°†æ˜¯ActiveKey
cleos wallet import --private-key={private_key_1} -n oasis 
cleos wallet import --private-key={private_key_2} -n oasis 

# 4. å°†â€œeosioâ€å¸æˆ·çš„ç§é’¥æ·»åŠ åˆ°æ‚¨çš„é’±åŒ…ä¸­
# æ³¨æ„: å¦‚æœæ‚¨æ”¶åˆ°3090003é”™è¯¯: Provided keys, permissions, and delays do not satisfy declared authorizations
# æ‚¨å¯èƒ½åº”è¯¥å°†â€œeosioâ€å¸æˆ·çš„ç§é’¥æ·»åŠ åˆ°æ‚¨çš„é’±åŒ…ä¸­ã€‚ 
cleos wallet import --private-key=5KQwrPbwdL6PhXujxW37FSSQZ1JiwsST4cqQzDeyXtP79zkvFD3 -n oasis
</code></pre> 
  <p><em>æ³¨æ„ï¼šä¸è¦å¿˜è®°ä¿å­˜å¯†é’¥å’Œé’±åŒ…å¯†ç </em></p> 
  <h4><a id="3___61"></a>ç¬¬3æ­¥ - åˆ›å»ºä¸€ä¸ªå¸æˆ·</h4> 
  <p>EOS.IOæ™ºèƒ½åˆçº¦åœ¨ä¸€ä¸ªå¸æˆ·ä¸Šè¿è¡Œã€‚å› æ­¤ï¼Œéœ€è¦ä¸€ä¸ªå¸æˆ·æ¥è½¬ç§»æˆ–ä»¥å…¶ä»–æ–¹å¼å°†äº¤æ˜“æ¨é€åˆ°åŒºå—é“¾ã€‚è®©æˆ‘ä»¬å°†æˆ‘ä»¬çš„å¸æˆ·å‘½åä¸ºâ€œ&nbsp;<strong>anorak</strong>&nbsp;â€ã€‚å¬èµ·æ¥å¾ˆç†Ÿæ‚‰ï¼Ÿ</p> 
  <pre><code># Create the account using the public keys
cleos create account eosio anorak {public_OwnerKey} {public_ActiveKey}

# "eosio" is the name of the account who will create the new one
# "anorak" is the name of the new account
</code></pre> 
  <h2><a id="Oasis_70"></a>é¡¹ç›®â€™Oasisâ€™</h2> 
  <p>æ˜¯æ—¶å€™å¼€å§‹å¼€å‘æˆ‘ä»¬çš„dAppäº†ï¼åˆ›å»ºåä¸º<strong>Oasis</strong>çš„é¡¹ç›®æ–‡ä»¶å¤¹ã€‚åœ¨é‡Œé¢æ·»åŠ ä¸¤ä¸ªä¸»è¦çš„å­æ–‡ä»¶å¤¹ -&nbsp;<strong>contracts</strong>å’Œ<strong>tests</strong>ã€‚æ˜¯çš„ï¼Œæˆ‘ä»¬ä¹Ÿè¦ç¼–å†™æµ‹è¯•ã€‚å°†æœ‰å››ä¸ªå­æ–‡ä»¶å¤¹åä¸ºï¼š<strong>Players, Games, Marketplace, Oasis</strong>&nbsp;- åˆ›å»ºå®ƒä»¬ã€‚</p> 
  <h4><a id="Players_74"></a>Playersæ™ºèƒ½åˆçº¦</h4> 
  <p>Playerså°†æˆä¸ºæˆ‘ä»¬çš„é¦–ä¸ªEOSæ™ºèƒ½åˆçº¦ã€‚æ¯ä¸ªPlayerså°†æ‹¥æœ‰<em>ç”¨æˆ·åï¼Œç­‰çº§ï¼Œå¥åº·ç‚¹ï¼Œèƒ½é‡ç‚¹ï¼Œå¹³è¡¡ï¼Œåº“å­˜ï¼ˆå……æ»¡ç‰©å“ï¼‰å’Œèƒ½åŠ›</em>ã€‚ä»–å°†èƒ½å¤Ÿä»å¸‚åœºè´­ä¹°ç‰©å“ï¼Œè¿™äº›ç‰©å“å°†è¢«æ·»åŠ åˆ°ä»–çš„åº“å­˜ï¼Œå¥åº·ç‚¹ï¼Œèƒ½é‡ç‚¹å’Œ/æˆ–èƒ½åŠ›ä¸­ã€‚ä¸ºäº†è·å¾—é‡‘å¸ï¼Œä»–éœ€è¦ä¸Oasisçš„å…¶ä»–ç©å®¶ä¸€èµ·ç©æ¸¸æˆ</p> 
  <p>åœ¨Playersæ–‡ä»¶å¤¹ä¸­åˆ›å»º<strong>Players.hpp</strong>å’Œ<strong>Players.cpp</strong>æ–‡ä»¶</p> 
  <p>1.&nbsp;<strong>Players.hpp</strong>æ˜¯å¤´æ–‡ä»¶ï¼ŒåŒ…å«**.cpp**æ–‡ä»¶å¼•ç”¨çš„å˜é‡ï¼Œå¸¸é‡å’Œå‡½æ•°ã€‚</p> 
  <p>2.&nbsp;<strong>Players.cpp</strong>æ–‡ä»¶æ˜¯åŒ…å«åˆåŒåŠŸèƒ½çš„æºæ–‡ä»¶ã€‚</p> 
  <p>è®©æˆ‘ä»¬æ·±å…¥äº†è§£EOSåˆåŒçš„åŸºæœ¬ç»“æ„</p> 
  <h5><a id="Playershpp_86"></a>Players.hpp</h5> 
  <pre><code>#include &lt;eosiolib/eosio.hpp&gt;
#include &lt;eosiolib/print.hpp&gt;
#include &lt;string&gt;
</code></pre> 
  <p><em>æ³¨æ„ï¼šæˆ‘ä»¬ç°åœ¨åªåœ¨Players.hppä¸­æ·»åŠ ï¼Œå› ä¸ºæˆ‘ä»¬è¿˜ä¸ä¼šåœ¨å…¶ä»–åˆçº¦ä¸­ä½¿ç”¨å®ƒã€‚</em></p> 
  <h5><a id="Playerscpp_94"></a>Players.cpp</h5> 
  <p>åœ¨åˆçº¦å¼€å§‹æ—¶ï¼Œæˆ‘ä»¬è®¾ç½®äº†å¼•å…¥æˆ‘ä»¬å°†è¦ä½¿ç”¨çš„æ‰€æœ‰å†…å®¹ã€‚åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œ<strong>Players.hpp</strong>å·²ç»æ‹¥æœ‰å®ƒä»¬ï¼Œæ‰€ä»¥å®ƒè¶³ä»¥åœ¨æˆ‘ä»¬çš„åˆçº¦å®ç°ä¸­åªåŒ…å«æ ‡é¢˜ã€‚å¤§å¤šæ•°æ—¶å€™ï¼Œå½“ä½ ä½¿ç”¨æ ‡é¢˜æ—¶ï¼Œä½ ä¼šè¿™æ ·åšã€‚</p> 
  <p>å°†æ‰€æœ‰å†…å®¹åŒ…è£…åœ¨ä¸€ä¸ªåç§°ç©ºé—´ä¸­æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åšæ³•ï¼Œå› ä¸ºå®ƒåœ¨è¿™é‡Œç”¨Oasisæ˜¾ç¤ºã€‚</p> 
  <p>å¦‚æœæ‚¨ç†Ÿæ‚‰C++ï¼Œæ‚¨å¯èƒ½çŸ¥é“ä¸ºä»€ä¹ˆåœ¨ç±»å®ç°ä¹‹å‰æˆ‘ä»¬æœ‰ä¸¤ä¸ªusingå­å¥ã€‚å¯¹äºå…¶ä»–äºº - å½“æˆ‘ä»¬æƒ³è¦ä»C++ä¸­çš„<strong>eosio</strong>å‘½åç©ºé—´è°ƒç”¨ä¸€ä¸ªåŠ¨ä½œæ—¶ï¼Œæˆ‘ä»¬å¿…é¡»è¿™æ ·è°ƒç”¨å®ƒï¼š<strong>eosio::some_action()<strong>ä»¥é¿å…åœ¨æˆ‘ä»¬ç®€å•çš„åŠ¨ä½œåç§°å‰é¢æ¯æ¬¡æ·»åŠ </strong>eosio::</strong>ã€‚&nbsp;åœ¨å¼€å¤´æ·»åŠ <strong>using namespace eosio</strong>ã€‚</p> 
  <pre><code>#include "Players.hpp"

namespace Oasis {
    using namespace eosio;
    using std::string;

    class Players : public contract {
        using contract::contract;
        
        public:
            Players(account_name self):contract(self) {}

            //@abi action
            void add(const account_name account, string&amp; username, uint64_t level) {
                
            }

            //@abi action
            void update(const account_name account, uint64_t level, int64_t healthPoints, int64_t energyPoints) {

            }

            //@abi action
            void getplayer(const account_name account) {
                
            }

        private:

            //@abi table player i64
            struct player {
                uint64_t account_name;
                string username;
                uint64_t level;
                uint64_t health_points = 1000;
                uint64_t energy_points = 1000;

                uint64_t primary_key() const { return account_name; }

                EOSLIB_SERIALIZE(player, (account_name)(username)(level)(health_points)(energy_points))
            };

            typedef multi_index&lt;N(player), player&gt; playerIndex;
    };

    EOSIO_ABI(Players, (add)(update)(getplayer))
}
</code></pre> 
  <p>è¯¥<strong>Players</strong>ç±»ç»§æ‰¿äº†â€œ<strong>contract</strong>â€æ™ºèƒ½åˆåŒï¼Œå¹¶ä½¿ç”¨å®ƒçš„æ„é€ å‡½æ•°ï¼ˆ<strong>using contract::contract</strong>ï¼‰ã€‚</p> 
  <p>åœ¨å¼€å‘EOS dAppæ—¶ï¼Œæ‚¨åº”è¯¥çŸ¥é“çš„ä¸€ä»¶é‡è¦äº‹æƒ…æ˜¯æ™ºèƒ½åˆçº¦ä»¥åŠ¨ä½œå’Œå…±äº«å†…å­˜æ•°æ®åº“è®¿é—®çš„å½¢å¼ç›¸äº’é€šä¿¡ã€‚åˆåŒå¯ä»¥è¯»å–å¦ä¸€ä¸ªåˆåŒçš„æ•°æ®åº“çš„çŠ¶æ€ï¼Œåªè¦å®ƒåŒ…å«åœ¨å…·æœ‰å¼‚æ­¥vibeçš„äº‹åŠ¡çš„è¯»å–èŒƒå›´å†…ã€‚è¿™å¯ä»¥é€šè¿‡ä½¿ç”¨ä¸¤ç§é€šä¿¡æ¨¡å¼ä¹‹ä¸€æ¥å®ç° -&nbsp;<strong>å†…è”</strong>æˆ–<strong>å»¶è¿Ÿ</strong>ã€‚æ‚¨å¯ä»¥å°†å®ƒä»¬è§†ä¸º<strong>åŒæ­¥</strong>å’Œ<strong>å¼‚æ­¥</strong></p> 
  <p><em>ä»EOS.IOæ–‡æ¡£ï¼š</em></p> 
  <ul> 
   <li><strong>å†…è”</strong>&nbsp;- å†…è”ä¿è¯åœ¨å½“å‰äº‹åŠ¡æˆ–å±•å¼€æ—¶æ‰§è¡Œ;&nbsp;æ— è®ºæˆåŠŸä¸å¦ï¼Œéƒ½ä¸ä¼šä¼ è¾¾ä»»ä½•é€šçŸ¥ã€‚Inlineä½¿ç”¨ä¸åŸå§‹äº‹åŠ¡ç›¸åŒçš„èŒƒå›´å’Œæƒé™è¿›è¡Œæ“ä½œ</li> 
   <li><strong>å»¶æœŸ</strong>&nbsp;-&nbsp;<strong>å»¶æœŸ</strong>å°†ç”±ç”Ÿäº§è€…é…Œæƒ…å†³å®š;&nbsp;å¯ä»¥ä¼ è¾¾é€šä¿¡ç»“æœï¼Œä¹Ÿå¯ä»¥ç®€å•åœ°è¶…æ—¶ã€‚å»¶æœŸå¯ä»¥è¾¾åˆ°ä¸åŒçš„èŒƒå›´å¹¶æ‰¿æ‹…å‘é€å®ƒä»¬çš„åˆåŒçš„æƒé™ã€‚</li> 
  </ul> 
  <p>åœ¨æˆ‘ä»¬åˆåŒçš„ç±»ä¸»ä½“ä¸­ï¼Œæœ‰ä¸¤ç§ç±»å‹çš„è®¿é—®ä¿®é¥°ç¬¦ - public &amp; privateã€‚åœ¨publicæ˜¯æ„é€ å‡½æ•°å’Œæ‰€æœ‰æ“ä½œã€‚åŠ¨ä½œè¡¨ç¤ºæ™ºèƒ½åˆçº¦ä¸­çš„å•ä¸ªæ“ä½œã€‚åœ¨æˆ‘ä»¬çš„åˆçº¦ä¸­ï¼Œæˆ‘ä»¬æœ‰<strong>add, update &amp; getplayer</strong>ã€‚æˆ‘ä»¬ç¨åä¼šçœ‹ä¸€ä¸‹å®ƒä»¬ã€‚ä¸æ­¤åŒæ—¶ï¼Œæ‚¨åº”è¯¥å·²ç»æ³¨æ„åˆ°åœ¨æ¯æ¬¡æ“ä½œä¹‹å‰æˆ‘ä»¬éƒ½æœ‰â€œ&nbsp;<strong>//@abi action</strong>&nbsp;â€ã€‚å®ƒæ˜¯<strong>eosiocpp</strong>è„šæœ¬çš„æŒ‡ç¤ºæ ‡å¿—ï¼Œå®ƒå°†ä¸ºæˆ‘ä»¬çš„æ™ºèƒ½åˆçº¦ç”Ÿæˆ**.abi**æ–‡ä»¶ã€‚</p> 
  <p>åœ¨privateéƒ¨åˆ†ï¼Œæˆ‘ä»¬ä¿ç•™äº†æˆ‘ä»¬ä¸å¸Œæœ›ä»<strong>Players</strong>åˆåŒä¹‹å¤–è®¿é—®çš„æ‰€æœ‰å†…å®¹ã€‚è¿™é‡Œæˆ‘ä»¬æ­£åœ¨åˆå§‹åŒ–multi_indexã€‚å®ƒæ˜¯ä»€ä¹ˆä»¥åŠä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</p> 
  <pre><code>//@abi table player i64
struct player {
  uint64_t account_name;
  string username;
  uint64_t level;
  uint64_t health_points = 1000;
  uint64_t energy_points = 1000;

  uint64_t primary_key() const { return username; }

  EOSLIB_SERIALIZE(player, (account_name)(username)(level)(health_points)(energy_points))
};

typedef multi_index&lt;N(player), player&gt; playerIndex;
</code></pre> 
  <p>æ­£å¦‚æˆ‘ä»¬æ‰€è¯´ï¼Œä¸€ä¸ªactionä»£è¡¨äº†æ™ºèƒ½åˆçº¦ä¸­çš„å•ä¸€æ“ä½œã€‚æ¯ä¸ªæ“ä½œéƒ½åœ¨å…¶è‡ªå·±çš„ç¯å¢ƒä¸­è¿è¡Œï¼Œç§°ä¸ºæ“ä½œä¸Šä¸‹æ–‡ã€‚ä¸Šä¸‹æ–‡æä¾›äº†æ‰§è¡Œæ“ä½œæ‰€éœ€çš„ä¸€äº›å†…å®¹ã€‚å…¶ä¸­ä¸€ä»¶äº‹æ˜¯actionçš„å·¥ä½œmemoryã€‚è¿™æ˜¯actionä¿æŒå…¶stateçš„åœ°æ–¹ã€‚åœ¨å¤„ç†actionä¹‹å‰ï¼ŒEOSIOä¼šä¸ºæ“ä½œè®¾ç½®ä¸€ä¸ªå¹²å‡€çš„å·¥ä½œmemoryã€‚åœ¨æ–°actionçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œåœ¨æ‰§è¡Œå¦ä¸€ä¸ªæ“ä½œæ—¶å¯èƒ½å·²è®¾ç½®çš„å˜é‡ã€‚åœ¨æ“ä½œä¹‹é—´ä¼ é€’çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯å°†å…¶æŒä¹…åŒ–å¹¶ä»EOSIOæ•°æ®åº“ä¸­æ£€ç´¢å®ƒã€‚</p> 
  <p>è¿™å¯ä»¥é€šè¿‡å¤šç´¢å¼•å®ç°ï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨EOSIOæ•°æ®åº“ä¸­è¯»å–å’Œä¿®æ”¹æŒä¹…çŠ¶æ€ã€‚</p> 
  <p>åœ¨æˆ‘ä»¬çš„åˆåŒä¸­ï¼Œæˆ‘ä»¬å·²ç»ä¸ºå¤šç´¢å¼•è¡¨å£°æ˜äº†ä¸€ä¸ªåä¸º<strong>player</strong>çš„å¯¹è±¡æ¨¡æ¿ã€‚é‡è¦çš„æ˜¯è¦æ³¨æ„ï¼Œå½“æˆ‘ä»¬ä¸ºè¡¨åˆ›å»ºæ¨¡æ¿æ—¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ·»åŠ primary_keyã€‚æˆ‘ä»¬ä½¿ç”¨account_nameï¼Œå› ä¸ºæˆ‘ä»¬æƒ³è¦æ¯ä¸ªå¸æˆ·æ˜¯ä¸€ä¸ªplayerã€‚</p> 
  <p>æˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ª<strong>eosiocpp</strong>è„šæœ¬çš„æŒ‡ç¤ºæ ‡å¿—- â€œ&nbsp;<strong>//@abi table player i64</strong>&nbsp;â€ã€‚è¿™è¯´æ˜æˆ‘ä»¬è¡¨çš„åç§°æ˜¯<strong>player</strong>ï¼Œä½¿ç”¨çš„ç´¢å¼•ç±»å‹æ˜¯<strong>i64</strong>ã€‚</p> 
  <p>ä¸€æ—¦å¯¹è±¡å‡†å¤‡å°±ç»ªï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä»¥ä¸‹æ¨¡æ¿é”®å…¥æˆ‘ä»¬çš„å¤šç´¢å¼•ï¼š</p> 
  <pre><code>// typedef multi_index&lt;N(table_name), object_template_to_use&gt; multi_index_name;
typedef multi_index&lt;N(player), player&gt; playerIndex;
</code></pre> 
  <p>æ‚¨å¯èƒ½æƒ³çŸ¥é“<strong>EOSLIB_SERIALIZE</strong>å’Œ<strong>EOSIO_ABI</strong>æ˜¯ä»€ä¹ˆã€‚</p> 
  <pre><code>EOSLIB_SERIALIZE(player, (account_name)(username)(level)(health_points)(energy_points))
  
EOSIO_ABI(Players, (add)(update)(health)(energy)(getplayer))
</code></pre> 
  <p>è¿™äº›æ˜¯C++å®ã€‚<strong>EOSIO_ABI</strong>å°è£…äº†<strong>apply</strong>æ–¹æ³•çš„é€»è¾‘ã€‚<strong>apply</strong>æ˜¯actionå¤„ç†ç¨‹åºï¼Œå®ƒç›‘å¬æ‰€æœ‰ä¼ å…¥çš„actionå¹¶æ ¹æ®å‡½æ•°ä¸­çš„è§„èŒƒåšå‡ºååº”ã€‚å®çš„ç»“æ„éå¸¸ç®€å•ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç±»å‹ï¼ˆå½“å‰ç±»çš„åç§°ï¼‰ï¼Œä¸‹ä¸€ä¸ªå‚æ•°æ˜¯ä¸‹é¢ç¤ºä¾‹ä¸­åˆ—å‡ºçš„æ‰€æœ‰action</p> 
  <pre><code>// EOSIO_ABI(class_name, (action_1)(action_2)(action_3)...(action_n))
</code></pre> 
  <p>è¯¥<strong>EOSLIB_SERIALIZE</strong>å®æä¾›äº†åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ–¹æ³•ï¼Œä½¿actionå¯ä»¥åœ¨åˆçº¦å’Œnodeosç³»ç»Ÿä¹‹é—´æ¥å›ä¼ é€’ã€‚</p> 
  <pre><code>// EOSLIB_SERIALIZE(struct_name, (property_1)(property_2)(property_3)...(property_n))
</code></pre> 
  <h4><a id="action_205"></a>å®ç°action</h4> 
  <p>ç°åœ¨è®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹æ¯ä¸ªactionåŠå…¶å®ç°ã€‚</p> 
  <p>ç¬¬ä¸€ä¸ªæ˜¯â€œ<strong>add</strong>â€ã€‚å®ƒè´Ÿè´£åœ¨Oasisä¸­åˆ›å»ºä¸€ä¸ªæ–°ç©å®¶ã€‚</p> 
  <pre><code>//@abi action
void add(const account_name account, string&amp; username) {
    /**
     * We require that only the owner of an account can use this action
     * or somebody with the account authorization
    */
    require_auth(account);

    /**
     * We access the "player" table as creating an object of type "playerIndex"
     * As parameters we pass code &amp; scope - _self from the parent contract
    */
    playerIndex players(_self, _self);

    /**
     * We must verify that the account doesn't exist yet
     * If the account is not found the iterator variable should be players.end()
    */
    auto iterator = players.find(account);
    eosio_assert(iterator == players.end(), "Address for account already exists");

    /**
     * We add the new player in the table
     * The first argument is the payer of the storage which will store the data
    */
    players.emplace(account, [&amp;](auto&amp; player) {
        player.account_name = account;
        player.username = username;
        player.level = 1;
        player.health_points = 1000;
        player.energy_points = 1000;
    });
}
</code></pre> 
  <p>å®ç°actionæœ‰4ä¸ªä¸»è¦å…³é”®ç‚¹ï¼š</p> 
  <ol> 
   <li>ç”±äºæˆ‘ä»¬åªå¸Œæœ›å¸æˆ·æ‰€æœ‰è€…æˆ–æ‹¥æœ‰å¸æˆ·æƒé™çš„äººèƒ½å¤Ÿåˆ›å»ºç©å®¶ï¼Œå› æ­¤æˆ‘ä»¬æ·»åŠ äº†å¸æˆ·éªŒè¯æ£€æŸ¥ã€‚ç”±äº<strong>require_auth</strong>å‡½æ•°ï¼Œè¿™å¾ˆå®¹æ˜“å®Œæˆã€‚</li> 
   <li>ä¸ºäº†ä½¿ç”¨åˆ›å»ºçš„è¡¨ -&nbsp;<strong>player</strong>ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªâ€œplayerIndexâ€ç±»å‹çš„å¯¹è±¡ã€‚</li> 
   <li>ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬å¿…é¡»é¦–å…ˆéªŒè¯è¯¥å¸æˆ·æ˜¯å¦å­˜åœ¨</li> 
   <li>æœ€åï¼Œæ·»åŠ æ–°çš„playerã€‚ä½œä¸ºä»»ä½•æ–°playerï¼Œå®ƒä»1çº§å¼€å§‹ï¼Œæœ€å¤§ç”Ÿå‘½å€¼å’Œèƒ½é‡ç‚¹ç­‰äº1000.è¯·æ³¨æ„ï¼Œ<strong>emplace</strong>å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°å°†æ˜¯å­˜å‚¨æ•°æ®çš„å­˜å‚¨çš„<strong>player</strong>ã€‚åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬è®¾ç½®äº†è§¦å‘è¯¥æ“ä½œçš„å½“å‰å¸æˆ·ä½œä¸ºplayerã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±è®¾å®šã€‚</li> 
  </ol> 
  <p>ä¸‹ä¸€ä¸ªactionæ˜¯â€œ<strong>update</strong>â€ã€‚å®ƒè´Ÿè´£æ›´æ–°ç©å®¶çš„ç­‰çº§ï¼Œå¥åº·å’Œèƒ½é‡ç‚¹ã€‚è¯¥å®ç°ä¸â€œ<strong>add</strong>â€æ“ä½œéå¸¸ç›¸ä¼¼ï¼Œåªæ˜¯æˆ‘ä»¬æ­£åœ¨ä¿®æ”¹playerçŠ¶æ€ï¼Œè€Œ<strong>modify</strong>å‡½æ•°å°†<strong>iterator</strong>ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚å¯¹è¯¥<strong>iterator</strong>æ‰€æŒ‡å‘çš„å¯¹è±¡è¿›è¡Œæ›´æ–°</p> 
  <pre><code>//@abi action
void update(account_name account, uint64_t level, int64_t healthPoints, int64_t energyPoints) {
    require_auth(account);

    playerIndex players(_self, _self);

    auto iterator = players.find(account);
    eosio_assert(iterator != players.end(), "Address for account not found");

    /**
     * We add the new player in the table
     * The first argument is the payer of the storage which will store the data
    */
    players.modify(iterator, account, [&amp;](auto&amp; player) {
        player.level = level;

        if ((player.health_points - healthPoints) &lt; 0) {
            player.health_points = 0;
        } else {
            player.health_points -= healthPoints;
        }

        if ((player.energy_points - energyPoints) &lt; 0) {
            player.energy_points = 0;
        } else {
            player.energy_points -= energyPoints;
        }
    });
}
</code></pre> 
  <p>æœ€åä¸€ä¸ªactionæ˜¯â€œ&nbsp;<strong>getplayer</strong>&nbsp;â€ï¼Œæ‰“å°æœ‰å…³playerçš„ä¿¡æ¯ã€‚å®ƒæ²¡æœ‰<strong>require_auth</strong>å‡½æ•°ï¼Œå› ä¸ºä»»ä½•äººéƒ½å¯ä»¥è°ƒç”¨å®ƒã€‚</p> 
  <pre><code>//@abi action
void getplayer(const account_name account) {
    playerIndex players(_self, _self);

    auto iterator = players.find(account);
    eosio_assert(iterator != players.end(), "Address for account not found");

    /**
     * The "get" function returns a constant reference to the object
     * containing the specified secondary key
    */
    auto currentPlayer = players.get(account);
    print("Username: ", currentPlayer.username.c_str(), " Level: ", currentPlayer.level, " Health: ", currentPlayer.health_points, " Energy: ", currentPlayer.energy_points);
}
</code></pre> 
  <h4><a id="_300"></a>ç©å®¶æ™ºèƒ½åˆçº¦éƒ¨ç½²</h4> 
  <p>æˆ‘ä»¬ç¡®å®åšäº†å¾ˆå¤šäº‹æƒ…ï¼Œç°åœ¨æ˜¯æ—¶å€™åœ¨åŒºå—é“¾ä¸Šéƒ¨ç½²æˆ‘ä»¬çš„æ™ºèƒ½åˆçº¦äº†ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç”Ÿæˆ.wastå’Œ.abiæ–‡ä»¶ã€‚æˆ‘ä»¬å°†ä½¿ç”¨<strong>eosiocpp</strong>è„šæœ¬æ¥å®Œæˆå®ƒã€‚è½¬åˆ°Playersæ–‡ä»¶å¤¹å¹¶åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p> 
  <pre><code>eosiocpp -o Players.wast Players.cpp
</code></pre> 
  <p>è¯¥å‘½ä»¤å°†ç”Ÿæˆæˆ‘ä»¬åˆåŒçš„Webç¨‹åºé›†ã€‚</p> 
  <p>æ¥ä¸‹æ¥ï¼Œå½“æ‚¨åœ¨åŒä¸€ç›®å½•ä¸­æ—¶ï¼Œè¿è¡Œæ­¤å‘½ä»¤ä»¥ç”ŸæˆPlayers.abiã€‚</p> 
  <pre><code>eosiocpp -g Players.abi Players.cpp
</code></pre> 
  <p>ç°åœ¨ï¼Œå½“æˆ‘ä»¬æœ‰Players.wastï¼†Players.abiï¼Œç°åœ¨ä½¿ç”¨å®ƒä»¬æ¥éƒ¨ç½²æˆ‘ä»¬çš„åˆåŒã€‚</p> 
  <pre><code># cleos set contract {account} {path_to_contract_folder} {path_to_.wast_file} {path_to_.abi_file}

cleos set contract anorak ./contracts/Players ./contracts/Players/Players.wast ./contracts/Players/Players.abi

Reading WAST/WASM from ./contracts/Players/Players.wast...
Assembling WASM...
Publishing contract...
executed transaction: 2187a85a5e80cbd2c0e6715b6847c95cbb5da5df7ed1171be87709507678795d  6472 bytes  6582 us
#         eosio &lt;= eosio::setcode               {"account":"anorak","vmtype":0,"vmversion":0,"code":"0061736d010000000182011560037f7e7f0060057f7e7e7...
#         eosio &lt;= eosio::setabi                {"account":"anorak","abi":"0e656f73696f3a3a6162692f312e300002046974656d0006076974656d5f69640675696e7...
</code></pre> 
  <h4><a id="_325"></a>æµ‹è¯•æ™ºèƒ½åˆçº¦</h4> 
  <p>çœŸæ£’ï¼æ‚¨å·²ç»éƒ¨ç½²äº†ç¬¬ä¸€ä»½EOSåˆåŒã€‚ç°åœ¨æ˜¯æ—¶å€™æµ‹è¯•æˆ‘ä»¬çš„actionäº†ã€‚æˆ‘ä»¬å…ˆæ·»åŠ ä¸€ä¸ªæ–°ç”¨æˆ·ã€‚æ‚¨å¯ä»¥ä½¿ç”¨<strong>push action</strong>å‘½ä»¤è§¦å‘æ“ä½œï¼š</p> 
  <pre><code># cleos push action {account} {action_name} '{data}' -p {account}@active
cleos push action anorak add '["anorak","art3mis"]' -p anorak@active

executed transaction: 00ea5aa48e50c33737b253ac24cb6bef3f296399e9a7e61b81044a852bb5c709  112 bytes  3015 us
#        anorak &lt;= anorak::add                  {"account":"anorak","username":"art3mis"}
</code></pre> 
  <p>æ³¨æ„ï¼šä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„EOSIOï¼Œæ‚¨åº”è¯¥åœ¨æ¨é€ä»»ä½•æ“ä½œä¹‹å‰å§‹ç»ˆæ·»åŠ æƒé™æ ‡å¿—ã€‚</p> 
  <p>è®©æˆ‘ä»¬çœ‹çœ‹playeræ˜¯å¦æ˜¯ä½¿ç”¨â€œ&nbsp;<strong>getplayer</strong>&nbsp;â€æ¥åˆ›å»ºçš„</p> 
  <pre><code># cleos push action {account} {action} {data}
# account - The account providing the contract to execute
# action - The action to execute on the contract
# data - The arguments to the contract
cleos push action anorak getplayer '["anorak"]' -p anorak@active

executed transaction: 759ba984c4f9216d79fc473757a398ee6248c043ab6596cd8336a08512a4f465  104 bytes  2443 us
#        anorak &lt;= anorak::getplayer            {"account":"anorak"}

&gt;&gt; Username: art3mis Level: 1 Health: 1000 Energy: 1000
</code></pre> 
  <p>ä¸€åˆ‡çœ‹èµ·æ¥éƒ½å¾ˆå®Œç¾ã€‚</p> 
  <p>ç°åœ¨æˆ‘ä»¬å°†æ›´æ–°æˆ‘ä»¬çš„playerï¼Œå¹¶å°†å†æ¬¡ä½¿ç”¨â€œ&nbsp;<strong>getplayer</strong>&nbsp;â€actionæ¥æŸ¥çœ‹æˆ‘ä»¬æ˜¯å¦å·²æˆåŠŸï¼š</p> 
  <pre><code>cleos push action anorak update '["anorak",4,75,110]' -p anorak@active

executed transaction: 905c847178d47ca8a230fdf2ba1c92c42529aeebb118280fdbf9ccb1415992de  128 bytes  748 us
#        anorak &lt;= anorak::update               {"account":"anorak","level":4,"healthPoints":75,"energyPoints":110}
</code></pre> 
  <pre><code>cleos push action anorak getplayer '["anorak"]' -p anorak@active
executed transaction: 31bf65b2d69f0977474ddd0332faddf5495cf7050d4ad7d5e678fbd4f7ad4eea  104 bytes  5654 us
#        anorak &lt;= anorak::getplayer            {"account":"anorak"}

&gt;&gt; Username: art3mis Level: 4 Health: 925 Energy: 890
</code></pre> 
  <p>æˆ‘ä»¬çš„æ’­æ”¾å™¨å·²æˆåŠŸæ›´æ–°ã€‚åšå¾—å¥½ï¼</p> 
  <h3><a id="_368"></a>æ‘˜è¦</h3> 
  <p>æˆ‘ä»¬åˆ°æ­¤ä¸ºæ­¢ã€‚æˆ‘ä»¬ä»Šå¤©åšäº†å¾ˆå¤šæ–°äº‹ç‰©ã€‚èŠ±ç‚¹æ—¶é—´äº†è§£æˆ‘ä»¬æ‰€åšçš„ä¸€åˆ‡ï¼Œå¹¶å°è¯•è‡ªå·±åšã€‚ğŸ™‚</p> 
  <p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»ä»‹ç»äº†EOSæ™ºèƒ½åˆçº¦çš„åŸºç¡€çŸ¥è¯†ã€‚åœ¨ä¸‹ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†å†æ¬¡å‡çº§ã€‚æˆ‘ä»¬å°†æ‰©å±•ç©å®¶åˆåŒï¼Œæˆ‘ä»¬å°†åˆ›å»ºå‰©ä½™çš„åˆåŒï¼ˆå¸‚åœºï¼Œç»¿æ´²å’Œä¸€äº›æ¸¸æˆï¼‰ï¼Œç„¶åå»ºç«‹ä»–ä»¬ä¹‹é—´çš„è”ç³»ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¼šæ·»åŠ ä¸€äº›å•å…ƒæµ‹è¯•ã€‚ä¸€æ—¦ä½ å­¦ä¼šäº†åŸºç¡€çŸ¥è¯†ï¼Œè¿™å°†ä¼šå®¹æ˜“å¾—å¤šã€‚</p> 
  <p>æ£€æŸ¥æœ€ç»ˆç›®çš„-ç«¯EOS DAPPå¼€å‘æ•™ç¨‹-ç¬¬2éƒ¨åˆ†&nbsp;&nbsp;<a href="https://infinitexlabs.com/eos-development-tutorial-part-2/" rel="nofollow">åœ¨è¿™é‡Œ</a>ã€‚</p> 
  <p><a href="https://infinitexlabs.com/eos-development-tutorial-part-1/" rel="nofollow">åŸæ–‡é“¾æ¥</a></p> 
 </div> 
 <link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-7b4cdcb592.css" rel="stylesheet"> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- è‡ªå®šä¹‰å¹¿å‘Š -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">æ›´å¤šç²¾å½©å†…å®¹</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">å›é¦–é¡µ</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?ee64533f3c6a7a284cd39a37ee732c8b";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
