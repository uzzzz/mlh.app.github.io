<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>君士坦丁堡硬分叉姗姗来迟，以太坊2.0还要等多久？ | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="君士坦丁堡硬分叉姗姗来迟，以太坊2.0还要等多久？" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="«««&lt; HEAD 版权声明：本文为博主原创文章，未经博主允许不得转载。 https://blog.csdn.net/Blockchain_lemon/article/details/86237751 2019年1月16日，也就是一周后，以太坊君士坦丁堡硬分叉就要来了。 如果你是普通的以太币(ETH)持有者，就无需过于关心这次的君士坦丁堡硬分叉；如果你是以太坊技术爱好者，就有必要认真读一读这篇文章了。 君士坦丁堡硬分叉姗姗来迟，以太坊宁静何时能来？ &nbsp; 在2018年12月7日举行的以太坊核心开发者大会上，君士坦丁堡硬分叉日期终于敲定。此次硬分叉将于北京时间2019年1月16日在以太坊主链 7080000 的区块高度上被激活。 此次将要激活的君士坦丁堡硬分叉，实际上是此前18年10月在以太坊测试网 Ropsten上进行的君士坦丁堡升级，但当时因存在共识问题导致测试网 Ropsten 不可用而一再延后。 此次硬分叉包含了 EIP-145、EIP-1052、EIP-1283、EIP-1014 和 EIP-1234 共5项更新提案，其目的是提高以太坊的运行效率，并移除/推迟难度炸弹。 其中 EIP-1234 提议将拜占庭硬分叉后的出块奖励从 3 ETH 减少到 2 ETH，是本次升级中最受关注、最具争议的君士坦丁堡更新项目。早在2017年10月16日的拜占庭硬分叉中，以太坊核心团队就将出块奖励由 5 ETH 降低至 3 ETH，其目的就是为了促使 PoW 向 PoS 转化。 &nbsp; 以太坊的四个阶段 2015年7月，以太坊创始人 Vitalik Buterin 明确将以太坊网络的开发过程分为四个阶段： Frontier（边境）、Homestead（家园）、Metropolis（大都会）和 Serenity（宁静）。 边境（2015年7月）：以太坊第一次版本发布，允许开发人员对以太坊进行挖矿，并基于以太坊进行 DApp 与工具软件的开发。那时的以太坊只有命令行界面，没有图形界面。 家园（2016年3月）：发布了第一个生产环境版本，对许多协议进行了优化改进，为之后的升级奠定了基础，并且加快了交易速度。普通用户就可以参与以太坊的挖矿。这一阶段的网络是以太坊正式发行的第一个版本。 大都会（2017年10月）：“大都会”阶段就是如今以太坊所处的发展阶段。在这个阶段，以太坊底层协议将发生重大改变，即从 PoW（工作量证明机制）缓慢地向 PoS（权益证明机制）过渡。该阶段分为两个版本，分别命名为拜占庭和君士坦丁堡，将会使得以太坊更轻量、更快速、更安全。 宁静（时间待定）：这个版本将会使用期待已久的PoS共识，其中将会使用Casper共识算法。在这个阶段，矿工对于以太坊来说将不再重要。 以太坊网络升级的主要内容就是其底层协议的变化。君士坦丁堡硬分叉可以看成是对“宁静”阶段的准备。 谈君士坦丁堡硬分叉之前，先做一波科普。如果对此有过了解，可选择跳过这一部分。 &nbsp; 什么是分叉？为什么要分叉？ &nbsp; 先说说什么是分叉。简单来说，分叉是对网络的更新，这与你更新计算机应用程序以使其更安全或具有新功能的方式非常相似。 比如你试图用低版本 Word 打开更高版本的 Word 文档，可能会存在字体显示错误或信息丢失。硬分叉就是如此，向后不兼容。 应用到区块链情景，如果要保证大量去中心化节点可以同时、准确同步信息和拥有相同的新功能，就很有必要遵循相同的规则，即所谓的硬分叉，而不是软分叉。 那么，从概念上讲，什么是软分叉？什么是硬分叉？ 软分叉：当新共识规则发布后，没有升级的节点会因为不知道新共识规则，而会继续生成区块，就会产生临时性分叉。争议也可能导致硬分叉，新链与旧链会同时存在并具有价值，比如 ETC 与 ETH、BTC 与 BCH。 硬分叉：区块链发生永久性分歧，在新共识规则发布后，部分没有升级的节点无法验证已经升级的节点生产的区块，通常硬分叉就会发生。 对于无争议的硬分叉，大多数节点都会停止在旧链上的活动，不会为旧链添加新块。链条自然死亡且代币不再具有价值。 &nbsp; 那么，为什么要分叉呢？ &nbsp; 作为区块链底层开发平台，为了能够让自身区块链网络更好的满足 DApp 开发的需要，以太坊需要不断“升级”，以解决当前网络存在的问题。比如如今困扰以太坊的低 TPS 问题和低扩展性问题。 此次君士坦丁堡硬分叉就是以太坊的“升级”方式。其升级的主要内容就是底层协议的变化，此次君士坦丁堡硬分叉可以看成是对“宁静”阶段的准备。 &nbsp; 君士坦丁堡二三事儿 &nbsp; 什么是君士坦丁堡？ &nbsp; 君士坦丁堡只是以太坊网络更新后的名称。此次更新是无争议的，并且预计每个人都同意在这条新路径上采用以太坊区块链。就像2016年的“家园”和2017年的“拜占庭”，此次硬分叉将导致两个链条，旧链几乎立即死亡。 新的以太坊区块链包括以下5个新的以太坊改进提案（EIP）： &nbsp; EIP 145: 在合约中支持高效的位运算，如同C语言中的&lt;&lt;和&gt;&gt; EIP 1052: 增加一个操作符，用于计算合约代码的Hash值 EIP 1283: 优化存储算法，降低智能合约存储的GAS消耗 EIP 1014: 增加了新的合约地址生成指令，允许根据合约代码推测合约地址 EIP 1234: 将挖矿难度炸弹延迟12个月，将每个区块的挖矿奖励从3ETH降到2ETH 以太坊君士坦丁堡EIP更新详情https://v.qq.com/x/page/c0825zddxfb.html 早前报道普遍猜测，本次升级中以太坊的共识算法将会进入 PoW/PoS 的混合模式，即每100区块中，前99个区块使用PoW共识，而最后一块使用 PoS 共识。基于此，以太坊将可以在公网环境以一个安全系数较低的方式检验基于 PoS 的 Casper 算法，而且可以依赖最后一块的 PoS 共识来有效抵御51%攻击。 而事实上，在君士坦丁堡版本中，共识模块只包含主网使用的 PoW 算法 Ethash，以及测试网 Ropsten 采用的 PoA 算法 Clique，并没有 PoW/PoS 混合共识的支持。而且，本次硬分叉也不会分叉处新的资产。 &nbsp; 和你有什么关系？ &nbsp; 如果你只是以太币持有者，你只需更新钱包就可以了。因为交易所（Coinbase、Kraken、ShapeShift）、钱包（MyCrypto、MetaMask、Trust Wallet）和节点提供商（Infura、Etherscan、Quiknode）都会更新其节点。 如果你本身就是节点，比如你在 Infura 工作或正在使用 Geth 或 Parity，你就需要将软件更新到最新版本。 如果你是普通的区块链爱好者，无需过多关心，因为此次升级不会给你带来任何影响。 &nbsp; 会对以太坊生态产生怎样的影响？ &nbsp; 基本上，将有同量级的 TPS，但如果考虑 EIP-1024 如何优化状态通道，或许能看到一些 layer 2 解决方案逐渐发挥作用。 成本取决于交易数量。一些 EIP 将优化智能合约交互，通过智能合约进行交易的成本会降低。但不能确定是否会出现 「CryptoKitties 事件」，造成网络拥堵，增加交易费用。 在 PoW 机制被取代的过程中，以太坊的挖矿收益会有一个降低的过程。在此过程的作用下，也许能为以太坊带来一波增长。 作为以太坊网络开发路线中的重要环节，君士坦丁堡硬分叉首先将会帮助以太坊网络实现扩容和提高其处理速度，对其性能进一步提升。这对ETH来说无疑是一个积极的信号。2018年12月10日，Vitalik 在推特上也表示，未来基于PoS的区块链分片将提高数千倍的效率。 &nbsp; 在 Vitalik 对以太坊的发展规划中，君士坦丁堡这一环节至关重要。短期来说，此次硬分叉对网络的性能，将在很大程度上解决当前以太坊网络性能不足的问题。长期来说，底层协议的变化将使以太坊发生根本性改变。这种根本性改变带来的直接后果即是以太坊矿工们通过挖矿能获得的 ETH 的减少，促使&nbsp;PoW 向&nbsp;&nbsp;PoS的转变。 &nbsp; &nbsp; 等待宁静 &nbsp; 君士坦丁堡之后，下一个上线版本就是宁静（Serenity），也就是大家常说的以太坊 2.0。 以太坊 2.0 的三大创新是：PoS 共识机制、Sharding（分片） 和 Ewasm 虚拟机。 &nbsp; &nbsp; Casper 是以太坊宁静版的最大特色，也是最大挑战，是需要把以太坊从一个工作量证明的区块链，变成一个权益证明的区块链。这是对基本共识机制的改变，也是以太坊的未来基础。但对于以太坊来说，这个转化涉及社区各方，尤其是矿工的利益，所以挑战非常大。 &nbsp; 以太坊扩容的第二个重要想法是分片。与数据库分片相似，区块链分片可以由一部分节点处理一部分工作。这样，整个系统能处理的总工作量就可以随着节点数增加而增长。分片扩容听上去容易，其实做起来非常难。怎么分片，各个片之间怎么共识？ &nbsp; &nbsp; 如果 Casper 与分片是以太坊 2.0 的前期目标的话，EWASM 虚拟机就是它的后期目标。但 Devcon4 大会上 EWASM 主题的近十个小时的讲座告诉我们， EWASM 离真正上线还很远，在那时还没有一条测试链，甚至写不出一个像样的 “Hello world”，而且路径依赖于 Casper。 此外，PoS 似乎看起来更像是让富人更富的共识机制（参考：富人越富，穷人越穷，我为什么反对PoS），市场是否能等到2021年也不得而知，虽然目标与路径已经有了，但以太坊宁静版的具体实现仍然任重而道远。 以太坊在一步步“抛弃” PoW 机制的同时，将不得不面对来自 PoW 拥护者和收益减少的矿工的反对。数字货币经济学家 Tuur Demeester 2018年12月29日在社交网站上就对以太坊抨击道：以太坊意图由 PoW 向 PoS 的转变将改变系统的经济。实际上 PoW 是比特币最大的创新。V神只是向以太坊的追随者们承诺了一个乌托邦，一个未经证实的未来。 营长不禁要问，以太坊能率先成功吗？ 营长的答案是：可以！因为它有最大、最活跃的开发者社区。 &nbsp; 参考资料： 1）Waiting for Serenity: What Will It&nbsp;Bring? 2）Ethereum Constantinople: Everything You Need To&nbsp;Know 3）以太坊2.0? 亲历3天的Devcon我看到了这样一个以太坊 | 见闻录 4）深夜15连推！V神又在操心区块链技术落地了，这次他又说了啥？ 5）富人越富，穷人越穷，我为什么反对PoS 6）“君士坦丁堡”硬分叉离以太坊2.0还有多远？ 7）行业观察 - 关于此次以太坊升级，你需要知道的一切 &nbsp; 推荐阅读： 2019八大科技趋势，指引你走向技术下一站 1年丢失140亿！你是区块链的受害者吗？|年度安全事件回顾 IPFS 深入浅出：从《黑镜》说起 微软自证开源决心：GitHub&amp;nbsp;私有库免费无限开放！ 同一起点的程序员，有人累到要猝死，有人清闲得要命 GitHub重大好消息：私有仓库可无限制免费创建 Istio调用链埋点原理剖析—是否真的“零修改”分享实录 刚刚！程序员集体荣获2个冠军，这份2018 IT报告还说这些！ &nbsp; ======= 版权声明：本文为博主原创文章，未经博主允许不得转载。 https://blog.csdn.net/Blockchain_lemon/article/details/86237751 2019年1月16日，也就是一周后，以太坊君士坦丁堡硬分叉就要来了。 如果你是普通的以太币(ETH)持有者，就无需过于关心这次的君士坦丁堡硬分叉；如果你是以太坊技术爱好者，就有必要认真读一读这篇文章了。 君士坦丁堡硬分叉姗姗来迟，以太坊宁静何时能来？ &nbsp; 在2018年12月7日举行的以太坊核心开发者大会上，君士坦丁堡硬分叉日期终于敲定。此次硬分叉将于北京时间2019年1月16日在以太坊主链 7080000 的区块高度上被激活。 此次将要激活的君士坦丁堡硬分叉，实际上是此前18年10月在以太坊测试网 Ropsten上进行的君士坦丁堡升级，但当时因存在共识问题导致测试网 Ropsten 不可用而一再延后。 此次硬分叉包含了 EIP-145、EIP-1052、EIP-1283、EIP-1014 和 EIP-1234 共5项更新提案，其目的是提高以太坊的运行效率，并移除/推迟难度炸弹。 其中 EIP-1234 提议将拜占庭硬分叉后的出块奖励从 3 ETH 减少到 2 ETH，是本次升级中最受关注、最具争议的君士坦丁堡更新项目。早在2017年10月16日的拜占庭硬分叉中，以太坊核心团队就将出块奖励由 5 ETH 降低至 3 ETH，其目的就是为了促使 PoW 向 PoS 转化。 &nbsp; 以太坊的四个阶段 2015年7月，以太坊创始人 Vitalik Buterin 明确将以太坊网络的开发过程分为四个阶段： Frontier（边境）、Homestead（家园）、Metropolis（大都会）和 Serenity（宁静）。 边境（2015年7月）：以太坊第一次版本发布，允许开发人员对以太坊进行挖矿，并基于以太坊进行 DApp 与工具软件的开发。那时的以太坊只有命令行界面，没有图形界面。 家园（2016年3月）：发布了第一个生产环境版本，对许多协议进行了优化改进，为之后的升级奠定了基础，并且加快了交易速度。普通用户就可以参与以太坊的挖矿。这一阶段的网络是以太坊正式发行的第一个版本。 大都会（2017年10月）：“大都会”阶段就是如今以太坊所处的发展阶段。在这个阶段，以太坊底层协议将发生重大改变，即从 PoW（工作量证明机制）缓慢地向 PoS（权益证明机制）过渡。该阶段分为两个版本，分别命名为拜占庭和君士坦丁堡，将会使得以太坊更轻量、更快速、更安全。 宁静（时间待定）：这个版本将会使用期待已久的PoS共识，其中将会使用Casper共识算法。在这个阶段，矿工对于以太坊来说将不再重要。 以太坊网络升级的主要内容就是其底层协议的变化。君士坦丁堡硬分叉可以看成是对“宁静”阶段的准备。 谈君士坦丁堡硬分叉之前，先做一波科普。如果对此有过了解，可选择跳过这一部分。 &nbsp; 什么是分叉？为什么要分叉？ &nbsp; 先说说什么是分叉。简单来说，分叉是对网络的更新，这与你更新计算机应用程序以使其更安全或具有新功能的方式非常相似。 比如你试图用低版本 Word 打开更高版本的 Word 文档，可能会存在字体显示错误或信息丢失。硬分叉就是如此，向后不兼容。 应用到区块链情景，如果要保证大量去中心化节点可以同时、准确同步信息和拥有相同的新功能，就很有必要遵循相同的规则，即所谓的硬分叉，而不是软分叉。 那么，从概念上讲，什么是软分叉？什么是硬分叉？ 软分叉：当新共识规则发布后，没有升级的节点会因为不知道新共识规则，而会继续生成区块，就会产生临时性分叉。争议也可能导致硬分叉，新链与旧链会同时存在并具有价值，比如 ETC 与 ETH、BTC 与 BCH。 硬分叉：区块链发生永久性分歧，在新共识规则发布后，部分没有升级的节点无法验证已经升级的节点生产的区块，通常硬分叉就会发生。 对于无争议的硬分叉，大多数节点都会停止在旧链上的活动，不会为旧链添加新块。链条自然死亡且代币不再具有价值。 &nbsp; 那么，为什么要分叉呢？ &nbsp; 作为区块链底层开发平台，为了能够让自身区块链网络更好的满足 DApp 开发的需要，以太坊需要不断“升级”，以解决当前网络存在的问题。比如如今困扰以太坊的低 TPS 问题和低扩展性问题。 此次君士坦丁堡硬分叉就是以太坊的“升级”方式。其升级的主要内容就是底层协议的变化，此次君士坦丁堡硬分叉可以看成是对“宁静”阶段的准备。 &nbsp; 君士坦丁堡二三事儿 &nbsp; 什么是君士坦丁堡？ &nbsp; 君士坦丁堡只是以太坊网络更新后的名称。此次更新是无争议的，并且预计每个人都同意在这条新路径上采用以太坊区块链。就像2016年的“家园”和2017年的“拜占庭”，此次硬分叉将导致两个链条，旧链几乎立即死亡。 新的以太坊区块链包括以下5个新的以太坊改进提案（EIP）： &nbsp; EIP 145: 在合约中支持高效的位运算，如同C语言中的&lt;&lt;和&gt;&gt; EIP 1052: 增加一个操作符，用于计算合约代码的Hash值 EIP 1283: 优化存储算法，降低智能合约存储的GAS消耗 EIP 1014: 增加了新的合约地址生成指令，允许根据合约代码推测合约地址 EIP 1234: 将挖矿难度炸弹延迟12个月，将每个区块的挖矿奖励从3ETH降到2ETH 以太坊君士坦丁堡EIP更新详情https://v.qq.com/x/page/c0825zddxfb.html 早前报道普遍猜测，本次升级中以太坊的共识算法将会进入 PoW/PoS 的混合模式，即每100区块中，前99个区块使用PoW共识，而最后一块使用 PoS 共识。基于此，以太坊将可以在公网环境以一个安全系数较低的方式检验基于 PoS 的 Casper 算法，而且可以依赖最后一块的 PoS 共识来有效抵御51%攻击。 而事实上，在君士坦丁堡版本中，共识模块只包含主网使用的 PoW 算法 Ethash，以及测试网 Ropsten 采用的 PoA 算法 Clique，并没有 PoW/PoS 混合共识的支持。而且，本次硬分叉也不会分叉处新的资产。 &nbsp; 和你有什么关系？ &nbsp; 如果你只是以太币持有者，你只需更新钱包就可以了。因为交易所（Coinbase、Kraken、ShapeShift）、钱包（MyCrypto、MetaMask、Trust Wallet）和节点提供商（Infura、Etherscan、Quiknode）都会更新其节点。 如果你本身就是节点，比如你在 Infura 工作或正在使用 Geth 或 Parity，你就需要将软件更新到最新版本。 如果你是普通的区块链爱好者，无需过多关心，因为此次升级不会给你带来任何影响。 &nbsp; 会对以太坊生态产生怎样的影响？ &nbsp; 基本上，将有同量级的 TPS，但如果考虑 EIP-1024 如何优化状态通道，或许能看到一些 layer 2 解决方案逐渐发挥作用。 成本取决于交易数量。一些 EIP 将优化智能合约交互，通过智能合约进行交易的成本会降低。但不能确定是否会出现 「CryptoKitties 事件」，造成网络拥堵，增加交易费用。 在 PoW 机制被取代的过程中，以太坊的挖矿收益会有一个降低的过程。在此过程的作用下，也许能为以太坊带来一波增长。 作为以太坊网络开发路线中的重要环节，君士坦丁堡硬分叉首先将会帮助以太坊网络实现扩容和提高其处理速度，对其性能进一步提升。这对ETH来说无疑是一个积极的信号。2018年12月10日，Vitalik 在推特上也表示，未来基于PoS的区块链分片将提高数千倍的效率。 &nbsp; 在 Vitalik 对以太坊的发展规划中，君士坦丁堡这一环节至关重要。短期来说，此次硬分叉对网络的性能，将在很大程度上解决当前以太坊网络性能不足的问题。长期来说，底层协议的变化将使以太坊发生根本性改变。这种根本性改变带来的直接后果即是以太坊矿工们通过挖矿能获得的 ETH 的减少，促使&nbsp;PoW 向&nbsp;&nbsp;PoS的转变。 &nbsp; &nbsp; 等待宁静 &nbsp; 君士坦丁堡之后，下一个上线版本就是宁静（Serenity），也就是大家常说的以太坊 2.0。 以太坊 2.0 的三大创新是：PoS 共识机制、Sharding（分片） 和 Ewasm 虚拟机。 &nbsp; &nbsp; Casper 是以太坊宁静版的最大特色，也是最大挑战，是需要把以太坊从一个工作量证明的区块链，变成一个权益证明的区块链。这是对基本共识机制的改变，也是以太坊的未来基础。但对于以太坊来说，这个转化涉及社区各方，尤其是矿工的利益，所以挑战非常大。 &nbsp; 以太坊扩容的第二个重要想法是分片。与数据库分片相似，区块链分片可以由一部分节点处理一部分工作。这样，整个系统能处理的总工作量就可以随着节点数增加而增长。分片扩容听上去容易，其实做起来非常难。怎么分片，各个片之间怎么共识？ &nbsp; &nbsp; 如果 Casper 与分片是以太坊 2.0 的前期目标的话，EWASM 虚拟机就是它的后期目标。但 Devcon4 大会上 EWASM 主题的近十个小时的讲座告诉我们， EWASM 离真正上线还很远，在那时还没有一条测试链，甚至写不出一个像样的 “Hello world”，而且路径依赖于 Casper。 此外，PoS 似乎看起来更像是让富人更富的共识机制（参考：富人越富，穷人越穷，我为什么反对PoS），市场是否能等到2021年也不得而知，虽然目标与路径已经有了，但以太坊宁静版的具体实现仍然任重而道远。 以太坊在一步步“抛弃” PoW 机制的同时，将不得不面对来自 PoW 拥护者和收益减少的矿工的反对。数字货币经济学家 Tuur Demeester 2018年12月29日在社交网站上就对以太坊抨击道：以太坊意图由 PoW 向 PoS 的转变将改变系统的经济。实际上 PoW 是比特币最大的创新。V神只是向以太坊的追随者们承诺了一个乌托邦，一个未经证实的未来。 营长不禁要问，以太坊能率先成功吗？ 营长的答案是：可以！因为它有最大、最活跃的开发者社区。 &nbsp; 参考资料： 1）Waiting for Serenity: What Will It&nbsp;Bring? 2）Ethereum Constantinople: Everything You Need To&nbsp;Know 3）以太坊2.0? 亲历3天的Devcon我看到了这样一个以太坊 | 见闻录 4）深夜15连推！V神又在操心区块链技术落地了，这次他又说了啥？ 5）富人越富，穷人越穷，我为什么反对PoS 6）“君士坦丁堡”硬分叉离以太坊2.0还有多远？ 7）行业观察 - 关于此次以太坊升级，你需要知道的一切 &nbsp; 推荐阅读： 2019八大科技趋势，指引你走向技术下一站 1年丢失140亿！你是区块链的受害者吗？|年度安全事件回顾 IPFS 深入浅出：从《黑镜》说起 微软自证开源决心：GitHub&amp;nbsp;私有库免费无限开放！ 同一起点的程序员，有人累到要猝死，有人清闲得要命 GitHub重大好消息：私有仓库可无限制免费创建 Istio调用链埋点原理剖析—是否真的“零修改”分享实录 刚刚！程序员集体荣获2个冠军，这份2018 IT报告还说这些！ &nbsp; 5f1856f7d88666e63d7c6ff2a34f81b057c941b5" />
<meta property="og:description" content="«««&lt; HEAD 版权声明：本文为博主原创文章，未经博主允许不得转载。 https://blog.csdn.net/Blockchain_lemon/article/details/86237751 2019年1月16日，也就是一周后，以太坊君士坦丁堡硬分叉就要来了。 如果你是普通的以太币(ETH)持有者，就无需过于关心这次的君士坦丁堡硬分叉；如果你是以太坊技术爱好者，就有必要认真读一读这篇文章了。 君士坦丁堡硬分叉姗姗来迟，以太坊宁静何时能来？ &nbsp; 在2018年12月7日举行的以太坊核心开发者大会上，君士坦丁堡硬分叉日期终于敲定。此次硬分叉将于北京时间2019年1月16日在以太坊主链 7080000 的区块高度上被激活。 此次将要激活的君士坦丁堡硬分叉，实际上是此前18年10月在以太坊测试网 Ropsten上进行的君士坦丁堡升级，但当时因存在共识问题导致测试网 Ropsten 不可用而一再延后。 此次硬分叉包含了 EIP-145、EIP-1052、EIP-1283、EIP-1014 和 EIP-1234 共5项更新提案，其目的是提高以太坊的运行效率，并移除/推迟难度炸弹。 其中 EIP-1234 提议将拜占庭硬分叉后的出块奖励从 3 ETH 减少到 2 ETH，是本次升级中最受关注、最具争议的君士坦丁堡更新项目。早在2017年10月16日的拜占庭硬分叉中，以太坊核心团队就将出块奖励由 5 ETH 降低至 3 ETH，其目的就是为了促使 PoW 向 PoS 转化。 &nbsp; 以太坊的四个阶段 2015年7月，以太坊创始人 Vitalik Buterin 明确将以太坊网络的开发过程分为四个阶段： Frontier（边境）、Homestead（家园）、Metropolis（大都会）和 Serenity（宁静）。 边境（2015年7月）：以太坊第一次版本发布，允许开发人员对以太坊进行挖矿，并基于以太坊进行 DApp 与工具软件的开发。那时的以太坊只有命令行界面，没有图形界面。 家园（2016年3月）：发布了第一个生产环境版本，对许多协议进行了优化改进，为之后的升级奠定了基础，并且加快了交易速度。普通用户就可以参与以太坊的挖矿。这一阶段的网络是以太坊正式发行的第一个版本。 大都会（2017年10月）：“大都会”阶段就是如今以太坊所处的发展阶段。在这个阶段，以太坊底层协议将发生重大改变，即从 PoW（工作量证明机制）缓慢地向 PoS（权益证明机制）过渡。该阶段分为两个版本，分别命名为拜占庭和君士坦丁堡，将会使得以太坊更轻量、更快速、更安全。 宁静（时间待定）：这个版本将会使用期待已久的PoS共识，其中将会使用Casper共识算法。在这个阶段，矿工对于以太坊来说将不再重要。 以太坊网络升级的主要内容就是其底层协议的变化。君士坦丁堡硬分叉可以看成是对“宁静”阶段的准备。 谈君士坦丁堡硬分叉之前，先做一波科普。如果对此有过了解，可选择跳过这一部分。 &nbsp; 什么是分叉？为什么要分叉？ &nbsp; 先说说什么是分叉。简单来说，分叉是对网络的更新，这与你更新计算机应用程序以使其更安全或具有新功能的方式非常相似。 比如你试图用低版本 Word 打开更高版本的 Word 文档，可能会存在字体显示错误或信息丢失。硬分叉就是如此，向后不兼容。 应用到区块链情景，如果要保证大量去中心化节点可以同时、准确同步信息和拥有相同的新功能，就很有必要遵循相同的规则，即所谓的硬分叉，而不是软分叉。 那么，从概念上讲，什么是软分叉？什么是硬分叉？ 软分叉：当新共识规则发布后，没有升级的节点会因为不知道新共识规则，而会继续生成区块，就会产生临时性分叉。争议也可能导致硬分叉，新链与旧链会同时存在并具有价值，比如 ETC 与 ETH、BTC 与 BCH。 硬分叉：区块链发生永久性分歧，在新共识规则发布后，部分没有升级的节点无法验证已经升级的节点生产的区块，通常硬分叉就会发生。 对于无争议的硬分叉，大多数节点都会停止在旧链上的活动，不会为旧链添加新块。链条自然死亡且代币不再具有价值。 &nbsp; 那么，为什么要分叉呢？ &nbsp; 作为区块链底层开发平台，为了能够让自身区块链网络更好的满足 DApp 开发的需要，以太坊需要不断“升级”，以解决当前网络存在的问题。比如如今困扰以太坊的低 TPS 问题和低扩展性问题。 此次君士坦丁堡硬分叉就是以太坊的“升级”方式。其升级的主要内容就是底层协议的变化，此次君士坦丁堡硬分叉可以看成是对“宁静”阶段的准备。 &nbsp; 君士坦丁堡二三事儿 &nbsp; 什么是君士坦丁堡？ &nbsp; 君士坦丁堡只是以太坊网络更新后的名称。此次更新是无争议的，并且预计每个人都同意在这条新路径上采用以太坊区块链。就像2016年的“家园”和2017年的“拜占庭”，此次硬分叉将导致两个链条，旧链几乎立即死亡。 新的以太坊区块链包括以下5个新的以太坊改进提案（EIP）： &nbsp; EIP 145: 在合约中支持高效的位运算，如同C语言中的&lt;&lt;和&gt;&gt; EIP 1052: 增加一个操作符，用于计算合约代码的Hash值 EIP 1283: 优化存储算法，降低智能合约存储的GAS消耗 EIP 1014: 增加了新的合约地址生成指令，允许根据合约代码推测合约地址 EIP 1234: 将挖矿难度炸弹延迟12个月，将每个区块的挖矿奖励从3ETH降到2ETH 以太坊君士坦丁堡EIP更新详情https://v.qq.com/x/page/c0825zddxfb.html 早前报道普遍猜测，本次升级中以太坊的共识算法将会进入 PoW/PoS 的混合模式，即每100区块中，前99个区块使用PoW共识，而最后一块使用 PoS 共识。基于此，以太坊将可以在公网环境以一个安全系数较低的方式检验基于 PoS 的 Casper 算法，而且可以依赖最后一块的 PoS 共识来有效抵御51%攻击。 而事实上，在君士坦丁堡版本中，共识模块只包含主网使用的 PoW 算法 Ethash，以及测试网 Ropsten 采用的 PoA 算法 Clique，并没有 PoW/PoS 混合共识的支持。而且，本次硬分叉也不会分叉处新的资产。 &nbsp; 和你有什么关系？ &nbsp; 如果你只是以太币持有者，你只需更新钱包就可以了。因为交易所（Coinbase、Kraken、ShapeShift）、钱包（MyCrypto、MetaMask、Trust Wallet）和节点提供商（Infura、Etherscan、Quiknode）都会更新其节点。 如果你本身就是节点，比如你在 Infura 工作或正在使用 Geth 或 Parity，你就需要将软件更新到最新版本。 如果你是普通的区块链爱好者，无需过多关心，因为此次升级不会给你带来任何影响。 &nbsp; 会对以太坊生态产生怎样的影响？ &nbsp; 基本上，将有同量级的 TPS，但如果考虑 EIP-1024 如何优化状态通道，或许能看到一些 layer 2 解决方案逐渐发挥作用。 成本取决于交易数量。一些 EIP 将优化智能合约交互，通过智能合约进行交易的成本会降低。但不能确定是否会出现 「CryptoKitties 事件」，造成网络拥堵，增加交易费用。 在 PoW 机制被取代的过程中，以太坊的挖矿收益会有一个降低的过程。在此过程的作用下，也许能为以太坊带来一波增长。 作为以太坊网络开发路线中的重要环节，君士坦丁堡硬分叉首先将会帮助以太坊网络实现扩容和提高其处理速度，对其性能进一步提升。这对ETH来说无疑是一个积极的信号。2018年12月10日，Vitalik 在推特上也表示，未来基于PoS的区块链分片将提高数千倍的效率。 &nbsp; 在 Vitalik 对以太坊的发展规划中，君士坦丁堡这一环节至关重要。短期来说，此次硬分叉对网络的性能，将在很大程度上解决当前以太坊网络性能不足的问题。长期来说，底层协议的变化将使以太坊发生根本性改变。这种根本性改变带来的直接后果即是以太坊矿工们通过挖矿能获得的 ETH 的减少，促使&nbsp;PoW 向&nbsp;&nbsp;PoS的转变。 &nbsp; &nbsp; 等待宁静 &nbsp; 君士坦丁堡之后，下一个上线版本就是宁静（Serenity），也就是大家常说的以太坊 2.0。 以太坊 2.0 的三大创新是：PoS 共识机制、Sharding（分片） 和 Ewasm 虚拟机。 &nbsp; &nbsp; Casper 是以太坊宁静版的最大特色，也是最大挑战，是需要把以太坊从一个工作量证明的区块链，变成一个权益证明的区块链。这是对基本共识机制的改变，也是以太坊的未来基础。但对于以太坊来说，这个转化涉及社区各方，尤其是矿工的利益，所以挑战非常大。 &nbsp; 以太坊扩容的第二个重要想法是分片。与数据库分片相似，区块链分片可以由一部分节点处理一部分工作。这样，整个系统能处理的总工作量就可以随着节点数增加而增长。分片扩容听上去容易，其实做起来非常难。怎么分片，各个片之间怎么共识？ &nbsp; &nbsp; 如果 Casper 与分片是以太坊 2.0 的前期目标的话，EWASM 虚拟机就是它的后期目标。但 Devcon4 大会上 EWASM 主题的近十个小时的讲座告诉我们， EWASM 离真正上线还很远，在那时还没有一条测试链，甚至写不出一个像样的 “Hello world”，而且路径依赖于 Casper。 此外，PoS 似乎看起来更像是让富人更富的共识机制（参考：富人越富，穷人越穷，我为什么反对PoS），市场是否能等到2021年也不得而知，虽然目标与路径已经有了，但以太坊宁静版的具体实现仍然任重而道远。 以太坊在一步步“抛弃” PoW 机制的同时，将不得不面对来自 PoW 拥护者和收益减少的矿工的反对。数字货币经济学家 Tuur Demeester 2018年12月29日在社交网站上就对以太坊抨击道：以太坊意图由 PoW 向 PoS 的转变将改变系统的经济。实际上 PoW 是比特币最大的创新。V神只是向以太坊的追随者们承诺了一个乌托邦，一个未经证实的未来。 营长不禁要问，以太坊能率先成功吗？ 营长的答案是：可以！因为它有最大、最活跃的开发者社区。 &nbsp; 参考资料： 1）Waiting for Serenity: What Will It&nbsp;Bring? 2）Ethereum Constantinople: Everything You Need To&nbsp;Know 3）以太坊2.0? 亲历3天的Devcon我看到了这样一个以太坊 | 见闻录 4）深夜15连推！V神又在操心区块链技术落地了，这次他又说了啥？ 5）富人越富，穷人越穷，我为什么反对PoS 6）“君士坦丁堡”硬分叉离以太坊2.0还有多远？ 7）行业观察 - 关于此次以太坊升级，你需要知道的一切 &nbsp; 推荐阅读： 2019八大科技趋势，指引你走向技术下一站 1年丢失140亿！你是区块链的受害者吗？|年度安全事件回顾 IPFS 深入浅出：从《黑镜》说起 微软自证开源决心：GitHub&amp;nbsp;私有库免费无限开放！ 同一起点的程序员，有人累到要猝死，有人清闲得要命 GitHub重大好消息：私有仓库可无限制免费创建 Istio调用链埋点原理剖析—是否真的“零修改”分享实录 刚刚！程序员集体荣获2个冠军，这份2018 IT报告还说这些！ &nbsp; ======= 版权声明：本文为博主原创文章，未经博主允许不得转载。 https://blog.csdn.net/Blockchain_lemon/article/details/86237751 2019年1月16日，也就是一周后，以太坊君士坦丁堡硬分叉就要来了。 如果你是普通的以太币(ETH)持有者，就无需过于关心这次的君士坦丁堡硬分叉；如果你是以太坊技术爱好者，就有必要认真读一读这篇文章了。 君士坦丁堡硬分叉姗姗来迟，以太坊宁静何时能来？ &nbsp; 在2018年12月7日举行的以太坊核心开发者大会上，君士坦丁堡硬分叉日期终于敲定。此次硬分叉将于北京时间2019年1月16日在以太坊主链 7080000 的区块高度上被激活。 此次将要激活的君士坦丁堡硬分叉，实际上是此前18年10月在以太坊测试网 Ropsten上进行的君士坦丁堡升级，但当时因存在共识问题导致测试网 Ropsten 不可用而一再延后。 此次硬分叉包含了 EIP-145、EIP-1052、EIP-1283、EIP-1014 和 EIP-1234 共5项更新提案，其目的是提高以太坊的运行效率，并移除/推迟难度炸弹。 其中 EIP-1234 提议将拜占庭硬分叉后的出块奖励从 3 ETH 减少到 2 ETH，是本次升级中最受关注、最具争议的君士坦丁堡更新项目。早在2017年10月16日的拜占庭硬分叉中，以太坊核心团队就将出块奖励由 5 ETH 降低至 3 ETH，其目的就是为了促使 PoW 向 PoS 转化。 &nbsp; 以太坊的四个阶段 2015年7月，以太坊创始人 Vitalik Buterin 明确将以太坊网络的开发过程分为四个阶段： Frontier（边境）、Homestead（家园）、Metropolis（大都会）和 Serenity（宁静）。 边境（2015年7月）：以太坊第一次版本发布，允许开发人员对以太坊进行挖矿，并基于以太坊进行 DApp 与工具软件的开发。那时的以太坊只有命令行界面，没有图形界面。 家园（2016年3月）：发布了第一个生产环境版本，对许多协议进行了优化改进，为之后的升级奠定了基础，并且加快了交易速度。普通用户就可以参与以太坊的挖矿。这一阶段的网络是以太坊正式发行的第一个版本。 大都会（2017年10月）：“大都会”阶段就是如今以太坊所处的发展阶段。在这个阶段，以太坊底层协议将发生重大改变，即从 PoW（工作量证明机制）缓慢地向 PoS（权益证明机制）过渡。该阶段分为两个版本，分别命名为拜占庭和君士坦丁堡，将会使得以太坊更轻量、更快速、更安全。 宁静（时间待定）：这个版本将会使用期待已久的PoS共识，其中将会使用Casper共识算法。在这个阶段，矿工对于以太坊来说将不再重要。 以太坊网络升级的主要内容就是其底层协议的变化。君士坦丁堡硬分叉可以看成是对“宁静”阶段的准备。 谈君士坦丁堡硬分叉之前，先做一波科普。如果对此有过了解，可选择跳过这一部分。 &nbsp; 什么是分叉？为什么要分叉？ &nbsp; 先说说什么是分叉。简单来说，分叉是对网络的更新，这与你更新计算机应用程序以使其更安全或具有新功能的方式非常相似。 比如你试图用低版本 Word 打开更高版本的 Word 文档，可能会存在字体显示错误或信息丢失。硬分叉就是如此，向后不兼容。 应用到区块链情景，如果要保证大量去中心化节点可以同时、准确同步信息和拥有相同的新功能，就很有必要遵循相同的规则，即所谓的硬分叉，而不是软分叉。 那么，从概念上讲，什么是软分叉？什么是硬分叉？ 软分叉：当新共识规则发布后，没有升级的节点会因为不知道新共识规则，而会继续生成区块，就会产生临时性分叉。争议也可能导致硬分叉，新链与旧链会同时存在并具有价值，比如 ETC 与 ETH、BTC 与 BCH。 硬分叉：区块链发生永久性分歧，在新共识规则发布后，部分没有升级的节点无法验证已经升级的节点生产的区块，通常硬分叉就会发生。 对于无争议的硬分叉，大多数节点都会停止在旧链上的活动，不会为旧链添加新块。链条自然死亡且代币不再具有价值。 &nbsp; 那么，为什么要分叉呢？ &nbsp; 作为区块链底层开发平台，为了能够让自身区块链网络更好的满足 DApp 开发的需要，以太坊需要不断“升级”，以解决当前网络存在的问题。比如如今困扰以太坊的低 TPS 问题和低扩展性问题。 此次君士坦丁堡硬分叉就是以太坊的“升级”方式。其升级的主要内容就是底层协议的变化，此次君士坦丁堡硬分叉可以看成是对“宁静”阶段的准备。 &nbsp; 君士坦丁堡二三事儿 &nbsp; 什么是君士坦丁堡？ &nbsp; 君士坦丁堡只是以太坊网络更新后的名称。此次更新是无争议的，并且预计每个人都同意在这条新路径上采用以太坊区块链。就像2016年的“家园”和2017年的“拜占庭”，此次硬分叉将导致两个链条，旧链几乎立即死亡。 新的以太坊区块链包括以下5个新的以太坊改进提案（EIP）： &nbsp; EIP 145: 在合约中支持高效的位运算，如同C语言中的&lt;&lt;和&gt;&gt; EIP 1052: 增加一个操作符，用于计算合约代码的Hash值 EIP 1283: 优化存储算法，降低智能合约存储的GAS消耗 EIP 1014: 增加了新的合约地址生成指令，允许根据合约代码推测合约地址 EIP 1234: 将挖矿难度炸弹延迟12个月，将每个区块的挖矿奖励从3ETH降到2ETH 以太坊君士坦丁堡EIP更新详情https://v.qq.com/x/page/c0825zddxfb.html 早前报道普遍猜测，本次升级中以太坊的共识算法将会进入 PoW/PoS 的混合模式，即每100区块中，前99个区块使用PoW共识，而最后一块使用 PoS 共识。基于此，以太坊将可以在公网环境以一个安全系数较低的方式检验基于 PoS 的 Casper 算法，而且可以依赖最后一块的 PoS 共识来有效抵御51%攻击。 而事实上，在君士坦丁堡版本中，共识模块只包含主网使用的 PoW 算法 Ethash，以及测试网 Ropsten 采用的 PoA 算法 Clique，并没有 PoW/PoS 混合共识的支持。而且，本次硬分叉也不会分叉处新的资产。 &nbsp; 和你有什么关系？ &nbsp; 如果你只是以太币持有者，你只需更新钱包就可以了。因为交易所（Coinbase、Kraken、ShapeShift）、钱包（MyCrypto、MetaMask、Trust Wallet）和节点提供商（Infura、Etherscan、Quiknode）都会更新其节点。 如果你本身就是节点，比如你在 Infura 工作或正在使用 Geth 或 Parity，你就需要将软件更新到最新版本。 如果你是普通的区块链爱好者，无需过多关心，因为此次升级不会给你带来任何影响。 &nbsp; 会对以太坊生态产生怎样的影响？ &nbsp; 基本上，将有同量级的 TPS，但如果考虑 EIP-1024 如何优化状态通道，或许能看到一些 layer 2 解决方案逐渐发挥作用。 成本取决于交易数量。一些 EIP 将优化智能合约交互，通过智能合约进行交易的成本会降低。但不能确定是否会出现 「CryptoKitties 事件」，造成网络拥堵，增加交易费用。 在 PoW 机制被取代的过程中，以太坊的挖矿收益会有一个降低的过程。在此过程的作用下，也许能为以太坊带来一波增长。 作为以太坊网络开发路线中的重要环节，君士坦丁堡硬分叉首先将会帮助以太坊网络实现扩容和提高其处理速度，对其性能进一步提升。这对ETH来说无疑是一个积极的信号。2018年12月10日，Vitalik 在推特上也表示，未来基于PoS的区块链分片将提高数千倍的效率。 &nbsp; 在 Vitalik 对以太坊的发展规划中，君士坦丁堡这一环节至关重要。短期来说，此次硬分叉对网络的性能，将在很大程度上解决当前以太坊网络性能不足的问题。长期来说，底层协议的变化将使以太坊发生根本性改变。这种根本性改变带来的直接后果即是以太坊矿工们通过挖矿能获得的 ETH 的减少，促使&nbsp;PoW 向&nbsp;&nbsp;PoS的转变。 &nbsp; &nbsp; 等待宁静 &nbsp; 君士坦丁堡之后，下一个上线版本就是宁静（Serenity），也就是大家常说的以太坊 2.0。 以太坊 2.0 的三大创新是：PoS 共识机制、Sharding（分片） 和 Ewasm 虚拟机。 &nbsp; &nbsp; Casper 是以太坊宁静版的最大特色，也是最大挑战，是需要把以太坊从一个工作量证明的区块链，变成一个权益证明的区块链。这是对基本共识机制的改变，也是以太坊的未来基础。但对于以太坊来说，这个转化涉及社区各方，尤其是矿工的利益，所以挑战非常大。 &nbsp; 以太坊扩容的第二个重要想法是分片。与数据库分片相似，区块链分片可以由一部分节点处理一部分工作。这样，整个系统能处理的总工作量就可以随着节点数增加而增长。分片扩容听上去容易，其实做起来非常难。怎么分片，各个片之间怎么共识？ &nbsp; &nbsp; 如果 Casper 与分片是以太坊 2.0 的前期目标的话，EWASM 虚拟机就是它的后期目标。但 Devcon4 大会上 EWASM 主题的近十个小时的讲座告诉我们， EWASM 离真正上线还很远，在那时还没有一条测试链，甚至写不出一个像样的 “Hello world”，而且路径依赖于 Casper。 此外，PoS 似乎看起来更像是让富人更富的共识机制（参考：富人越富，穷人越穷，我为什么反对PoS），市场是否能等到2021年也不得而知，虽然目标与路径已经有了，但以太坊宁静版的具体实现仍然任重而道远。 以太坊在一步步“抛弃” PoW 机制的同时，将不得不面对来自 PoW 拥护者和收益减少的矿工的反对。数字货币经济学家 Tuur Demeester 2018年12月29日在社交网站上就对以太坊抨击道：以太坊意图由 PoW 向 PoS 的转变将改变系统的经济。实际上 PoW 是比特币最大的创新。V神只是向以太坊的追随者们承诺了一个乌托邦，一个未经证实的未来。 营长不禁要问，以太坊能率先成功吗？ 营长的答案是：可以！因为它有最大、最活跃的开发者社区。 &nbsp; 参考资料： 1）Waiting for Serenity: What Will It&nbsp;Bring? 2）Ethereum Constantinople: Everything You Need To&nbsp;Know 3）以太坊2.0? 亲历3天的Devcon我看到了这样一个以太坊 | 见闻录 4）深夜15连推！V神又在操心区块链技术落地了，这次他又说了啥？ 5）富人越富，穷人越穷，我为什么反对PoS 6）“君士坦丁堡”硬分叉离以太坊2.0还有多远？ 7）行业观察 - 关于此次以太坊升级，你需要知道的一切 &nbsp; 推荐阅读： 2019八大科技趋势，指引你走向技术下一站 1年丢失140亿！你是区块链的受害者吗？|年度安全事件回顾 IPFS 深入浅出：从《黑镜》说起 微软自证开源决心：GitHub&amp;nbsp;私有库免费无限开放！ 同一起点的程序员，有人累到要猝死，有人清闲得要命 GitHub重大好消息：私有仓库可无限制免费创建 Istio调用链埋点原理剖析—是否真的“零修改”分享实录 刚刚！程序员集体荣获2个冠军，这份2018 IT报告还说这些！ &nbsp; 5f1856f7d88666e63d7c6ff2a34f81b057c941b5" />
<link rel="canonical" href="https://mlh.app/2019/01/10/57aec26b39909a5a7629e934122df011.html" />
<meta property="og:url" content="https://mlh.app/2019/01/10/57aec26b39909a5a7629e934122df011.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-01-10T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"«««&lt; HEAD 版权声明：本文为博主原创文章，未经博主允许不得转载。 https://blog.csdn.net/Blockchain_lemon/article/details/86237751 2019年1月16日，也就是一周后，以太坊君士坦丁堡硬分叉就要来了。 如果你是普通的以太币(ETH)持有者，就无需过于关心这次的君士坦丁堡硬分叉；如果你是以太坊技术爱好者，就有必要认真读一读这篇文章了。 君士坦丁堡硬分叉姗姗来迟，以太坊宁静何时能来？ &nbsp; 在2018年12月7日举行的以太坊核心开发者大会上，君士坦丁堡硬分叉日期终于敲定。此次硬分叉将于北京时间2019年1月16日在以太坊主链 7080000 的区块高度上被激活。 此次将要激活的君士坦丁堡硬分叉，实际上是此前18年10月在以太坊测试网 Ropsten上进行的君士坦丁堡升级，但当时因存在共识问题导致测试网 Ropsten 不可用而一再延后。 此次硬分叉包含了 EIP-145、EIP-1052、EIP-1283、EIP-1014 和 EIP-1234 共5项更新提案，其目的是提高以太坊的运行效率，并移除/推迟难度炸弹。 其中 EIP-1234 提议将拜占庭硬分叉后的出块奖励从 3 ETH 减少到 2 ETH，是本次升级中最受关注、最具争议的君士坦丁堡更新项目。早在2017年10月16日的拜占庭硬分叉中，以太坊核心团队就将出块奖励由 5 ETH 降低至 3 ETH，其目的就是为了促使 PoW 向 PoS 转化。 &nbsp; 以太坊的四个阶段 2015年7月，以太坊创始人 Vitalik Buterin 明确将以太坊网络的开发过程分为四个阶段： Frontier（边境）、Homestead（家园）、Metropolis（大都会）和 Serenity（宁静）。 边境（2015年7月）：以太坊第一次版本发布，允许开发人员对以太坊进行挖矿，并基于以太坊进行 DApp 与工具软件的开发。那时的以太坊只有命令行界面，没有图形界面。 家园（2016年3月）：发布了第一个生产环境版本，对许多协议进行了优化改进，为之后的升级奠定了基础，并且加快了交易速度。普通用户就可以参与以太坊的挖矿。这一阶段的网络是以太坊正式发行的第一个版本。 大都会（2017年10月）：“大都会”阶段就是如今以太坊所处的发展阶段。在这个阶段，以太坊底层协议将发生重大改变，即从 PoW（工作量证明机制）缓慢地向 PoS（权益证明机制）过渡。该阶段分为两个版本，分别命名为拜占庭和君士坦丁堡，将会使得以太坊更轻量、更快速、更安全。 宁静（时间待定）：这个版本将会使用期待已久的PoS共识，其中将会使用Casper共识算法。在这个阶段，矿工对于以太坊来说将不再重要。 以太坊网络升级的主要内容就是其底层协议的变化。君士坦丁堡硬分叉可以看成是对“宁静”阶段的准备。 谈君士坦丁堡硬分叉之前，先做一波科普。如果对此有过了解，可选择跳过这一部分。 &nbsp; 什么是分叉？为什么要分叉？ &nbsp; 先说说什么是分叉。简单来说，分叉是对网络的更新，这与你更新计算机应用程序以使其更安全或具有新功能的方式非常相似。 比如你试图用低版本 Word 打开更高版本的 Word 文档，可能会存在字体显示错误或信息丢失。硬分叉就是如此，向后不兼容。 应用到区块链情景，如果要保证大量去中心化节点可以同时、准确同步信息和拥有相同的新功能，就很有必要遵循相同的规则，即所谓的硬分叉，而不是软分叉。 那么，从概念上讲，什么是软分叉？什么是硬分叉？ 软分叉：当新共识规则发布后，没有升级的节点会因为不知道新共识规则，而会继续生成区块，就会产生临时性分叉。争议也可能导致硬分叉，新链与旧链会同时存在并具有价值，比如 ETC 与 ETH、BTC 与 BCH。 硬分叉：区块链发生永久性分歧，在新共识规则发布后，部分没有升级的节点无法验证已经升级的节点生产的区块，通常硬分叉就会发生。 对于无争议的硬分叉，大多数节点都会停止在旧链上的活动，不会为旧链添加新块。链条自然死亡且代币不再具有价值。 &nbsp; 那么，为什么要分叉呢？ &nbsp; 作为区块链底层开发平台，为了能够让自身区块链网络更好的满足 DApp 开发的需要，以太坊需要不断“升级”，以解决当前网络存在的问题。比如如今困扰以太坊的低 TPS 问题和低扩展性问题。 此次君士坦丁堡硬分叉就是以太坊的“升级”方式。其升级的主要内容就是底层协议的变化，此次君士坦丁堡硬分叉可以看成是对“宁静”阶段的准备。 &nbsp; 君士坦丁堡二三事儿 &nbsp; 什么是君士坦丁堡？ &nbsp; 君士坦丁堡只是以太坊网络更新后的名称。此次更新是无争议的，并且预计每个人都同意在这条新路径上采用以太坊区块链。就像2016年的“家园”和2017年的“拜占庭”，此次硬分叉将导致两个链条，旧链几乎立即死亡。 新的以太坊区块链包括以下5个新的以太坊改进提案（EIP）： &nbsp; EIP 145: 在合约中支持高效的位运算，如同C语言中的&lt;&lt;和&gt;&gt; EIP 1052: 增加一个操作符，用于计算合约代码的Hash值 EIP 1283: 优化存储算法，降低智能合约存储的GAS消耗 EIP 1014: 增加了新的合约地址生成指令，允许根据合约代码推测合约地址 EIP 1234: 将挖矿难度炸弹延迟12个月，将每个区块的挖矿奖励从3ETH降到2ETH 以太坊君士坦丁堡EIP更新详情https://v.qq.com/x/page/c0825zddxfb.html 早前报道普遍猜测，本次升级中以太坊的共识算法将会进入 PoW/PoS 的混合模式，即每100区块中，前99个区块使用PoW共识，而最后一块使用 PoS 共识。基于此，以太坊将可以在公网环境以一个安全系数较低的方式检验基于 PoS 的 Casper 算法，而且可以依赖最后一块的 PoS 共识来有效抵御51%攻击。 而事实上，在君士坦丁堡版本中，共识模块只包含主网使用的 PoW 算法 Ethash，以及测试网 Ropsten 采用的 PoA 算法 Clique，并没有 PoW/PoS 混合共识的支持。而且，本次硬分叉也不会分叉处新的资产。 &nbsp; 和你有什么关系？ &nbsp; 如果你只是以太币持有者，你只需更新钱包就可以了。因为交易所（Coinbase、Kraken、ShapeShift）、钱包（MyCrypto、MetaMask、Trust Wallet）和节点提供商（Infura、Etherscan、Quiknode）都会更新其节点。 如果你本身就是节点，比如你在 Infura 工作或正在使用 Geth 或 Parity，你就需要将软件更新到最新版本。 如果你是普通的区块链爱好者，无需过多关心，因为此次升级不会给你带来任何影响。 &nbsp; 会对以太坊生态产生怎样的影响？ &nbsp; 基本上，将有同量级的 TPS，但如果考虑 EIP-1024 如何优化状态通道，或许能看到一些 layer 2 解决方案逐渐发挥作用。 成本取决于交易数量。一些 EIP 将优化智能合约交互，通过智能合约进行交易的成本会降低。但不能确定是否会出现 「CryptoKitties 事件」，造成网络拥堵，增加交易费用。 在 PoW 机制被取代的过程中，以太坊的挖矿收益会有一个降低的过程。在此过程的作用下，也许能为以太坊带来一波增长。 作为以太坊网络开发路线中的重要环节，君士坦丁堡硬分叉首先将会帮助以太坊网络实现扩容和提高其处理速度，对其性能进一步提升。这对ETH来说无疑是一个积极的信号。2018年12月10日，Vitalik 在推特上也表示，未来基于PoS的区块链分片将提高数千倍的效率。 &nbsp; 在 Vitalik 对以太坊的发展规划中，君士坦丁堡这一环节至关重要。短期来说，此次硬分叉对网络的性能，将在很大程度上解决当前以太坊网络性能不足的问题。长期来说，底层协议的变化将使以太坊发生根本性改变。这种根本性改变带来的直接后果即是以太坊矿工们通过挖矿能获得的 ETH 的减少，促使&nbsp;PoW 向&nbsp;&nbsp;PoS的转变。 &nbsp; &nbsp; 等待宁静 &nbsp; 君士坦丁堡之后，下一个上线版本就是宁静（Serenity），也就是大家常说的以太坊 2.0。 以太坊 2.0 的三大创新是：PoS 共识机制、Sharding（分片） 和 Ewasm 虚拟机。 &nbsp; &nbsp; Casper 是以太坊宁静版的最大特色，也是最大挑战，是需要把以太坊从一个工作量证明的区块链，变成一个权益证明的区块链。这是对基本共识机制的改变，也是以太坊的未来基础。但对于以太坊来说，这个转化涉及社区各方，尤其是矿工的利益，所以挑战非常大。 &nbsp; 以太坊扩容的第二个重要想法是分片。与数据库分片相似，区块链分片可以由一部分节点处理一部分工作。这样，整个系统能处理的总工作量就可以随着节点数增加而增长。分片扩容听上去容易，其实做起来非常难。怎么分片，各个片之间怎么共识？ &nbsp; &nbsp; 如果 Casper 与分片是以太坊 2.0 的前期目标的话，EWASM 虚拟机就是它的后期目标。但 Devcon4 大会上 EWASM 主题的近十个小时的讲座告诉我们， EWASM 离真正上线还很远，在那时还没有一条测试链，甚至写不出一个像样的 “Hello world”，而且路径依赖于 Casper。 此外，PoS 似乎看起来更像是让富人更富的共识机制（参考：富人越富，穷人越穷，我为什么反对PoS），市场是否能等到2021年也不得而知，虽然目标与路径已经有了，但以太坊宁静版的具体实现仍然任重而道远。 以太坊在一步步“抛弃” PoW 机制的同时，将不得不面对来自 PoW 拥护者和收益减少的矿工的反对。数字货币经济学家 Tuur Demeester 2018年12月29日在社交网站上就对以太坊抨击道：以太坊意图由 PoW 向 PoS 的转变将改变系统的经济。实际上 PoW 是比特币最大的创新。V神只是向以太坊的追随者们承诺了一个乌托邦，一个未经证实的未来。 营长不禁要问，以太坊能率先成功吗？ 营长的答案是：可以！因为它有最大、最活跃的开发者社区。 &nbsp; 参考资料： 1）Waiting for Serenity: What Will It&nbsp;Bring? 2）Ethereum Constantinople: Everything You Need To&nbsp;Know 3）以太坊2.0? 亲历3天的Devcon我看到了这样一个以太坊 | 见闻录 4）深夜15连推！V神又在操心区块链技术落地了，这次他又说了啥？ 5）富人越富，穷人越穷，我为什么反对PoS 6）“君士坦丁堡”硬分叉离以太坊2.0还有多远？ 7）行业观察 - 关于此次以太坊升级，你需要知道的一切 &nbsp; 推荐阅读： 2019八大科技趋势，指引你走向技术下一站 1年丢失140亿！你是区块链的受害者吗？|年度安全事件回顾 IPFS 深入浅出：从《黑镜》说起 微软自证开源决心：GitHub&amp;nbsp;私有库免费无限开放！ 同一起点的程序员，有人累到要猝死，有人清闲得要命 GitHub重大好消息：私有仓库可无限制免费创建 Istio调用链埋点原理剖析—是否真的“零修改”分享实录 刚刚！程序员集体荣获2个冠军，这份2018 IT报告还说这些！ &nbsp; ======= 版权声明：本文为博主原创文章，未经博主允许不得转载。 https://blog.csdn.net/Blockchain_lemon/article/details/86237751 2019年1月16日，也就是一周后，以太坊君士坦丁堡硬分叉就要来了。 如果你是普通的以太币(ETH)持有者，就无需过于关心这次的君士坦丁堡硬分叉；如果你是以太坊技术爱好者，就有必要认真读一读这篇文章了。 君士坦丁堡硬分叉姗姗来迟，以太坊宁静何时能来？ &nbsp; 在2018年12月7日举行的以太坊核心开发者大会上，君士坦丁堡硬分叉日期终于敲定。此次硬分叉将于北京时间2019年1月16日在以太坊主链 7080000 的区块高度上被激活。 此次将要激活的君士坦丁堡硬分叉，实际上是此前18年10月在以太坊测试网 Ropsten上进行的君士坦丁堡升级，但当时因存在共识问题导致测试网 Ropsten 不可用而一再延后。 此次硬分叉包含了 EIP-145、EIP-1052、EIP-1283、EIP-1014 和 EIP-1234 共5项更新提案，其目的是提高以太坊的运行效率，并移除/推迟难度炸弹。 其中 EIP-1234 提议将拜占庭硬分叉后的出块奖励从 3 ETH 减少到 2 ETH，是本次升级中最受关注、最具争议的君士坦丁堡更新项目。早在2017年10月16日的拜占庭硬分叉中，以太坊核心团队就将出块奖励由 5 ETH 降低至 3 ETH，其目的就是为了促使 PoW 向 PoS 转化。 &nbsp; 以太坊的四个阶段 2015年7月，以太坊创始人 Vitalik Buterin 明确将以太坊网络的开发过程分为四个阶段： Frontier（边境）、Homestead（家园）、Metropolis（大都会）和 Serenity（宁静）。 边境（2015年7月）：以太坊第一次版本发布，允许开发人员对以太坊进行挖矿，并基于以太坊进行 DApp 与工具软件的开发。那时的以太坊只有命令行界面，没有图形界面。 家园（2016年3月）：发布了第一个生产环境版本，对许多协议进行了优化改进，为之后的升级奠定了基础，并且加快了交易速度。普通用户就可以参与以太坊的挖矿。这一阶段的网络是以太坊正式发行的第一个版本。 大都会（2017年10月）：“大都会”阶段就是如今以太坊所处的发展阶段。在这个阶段，以太坊底层协议将发生重大改变，即从 PoW（工作量证明机制）缓慢地向 PoS（权益证明机制）过渡。该阶段分为两个版本，分别命名为拜占庭和君士坦丁堡，将会使得以太坊更轻量、更快速、更安全。 宁静（时间待定）：这个版本将会使用期待已久的PoS共识，其中将会使用Casper共识算法。在这个阶段，矿工对于以太坊来说将不再重要。 以太坊网络升级的主要内容就是其底层协议的变化。君士坦丁堡硬分叉可以看成是对“宁静”阶段的准备。 谈君士坦丁堡硬分叉之前，先做一波科普。如果对此有过了解，可选择跳过这一部分。 &nbsp; 什么是分叉？为什么要分叉？ &nbsp; 先说说什么是分叉。简单来说，分叉是对网络的更新，这与你更新计算机应用程序以使其更安全或具有新功能的方式非常相似。 比如你试图用低版本 Word 打开更高版本的 Word 文档，可能会存在字体显示错误或信息丢失。硬分叉就是如此，向后不兼容。 应用到区块链情景，如果要保证大量去中心化节点可以同时、准确同步信息和拥有相同的新功能，就很有必要遵循相同的规则，即所谓的硬分叉，而不是软分叉。 那么，从概念上讲，什么是软分叉？什么是硬分叉？ 软分叉：当新共识规则发布后，没有升级的节点会因为不知道新共识规则，而会继续生成区块，就会产生临时性分叉。争议也可能导致硬分叉，新链与旧链会同时存在并具有价值，比如 ETC 与 ETH、BTC 与 BCH。 硬分叉：区块链发生永久性分歧，在新共识规则发布后，部分没有升级的节点无法验证已经升级的节点生产的区块，通常硬分叉就会发生。 对于无争议的硬分叉，大多数节点都会停止在旧链上的活动，不会为旧链添加新块。链条自然死亡且代币不再具有价值。 &nbsp; 那么，为什么要分叉呢？ &nbsp; 作为区块链底层开发平台，为了能够让自身区块链网络更好的满足 DApp 开发的需要，以太坊需要不断“升级”，以解决当前网络存在的问题。比如如今困扰以太坊的低 TPS 问题和低扩展性问题。 此次君士坦丁堡硬分叉就是以太坊的“升级”方式。其升级的主要内容就是底层协议的变化，此次君士坦丁堡硬分叉可以看成是对“宁静”阶段的准备。 &nbsp; 君士坦丁堡二三事儿 &nbsp; 什么是君士坦丁堡？ &nbsp; 君士坦丁堡只是以太坊网络更新后的名称。此次更新是无争议的，并且预计每个人都同意在这条新路径上采用以太坊区块链。就像2016年的“家园”和2017年的“拜占庭”，此次硬分叉将导致两个链条，旧链几乎立即死亡。 新的以太坊区块链包括以下5个新的以太坊改进提案（EIP）： &nbsp; EIP 145: 在合约中支持高效的位运算，如同C语言中的&lt;&lt;和&gt;&gt; EIP 1052: 增加一个操作符，用于计算合约代码的Hash值 EIP 1283: 优化存储算法，降低智能合约存储的GAS消耗 EIP 1014: 增加了新的合约地址生成指令，允许根据合约代码推测合约地址 EIP 1234: 将挖矿难度炸弹延迟12个月，将每个区块的挖矿奖励从3ETH降到2ETH 以太坊君士坦丁堡EIP更新详情https://v.qq.com/x/page/c0825zddxfb.html 早前报道普遍猜测，本次升级中以太坊的共识算法将会进入 PoW/PoS 的混合模式，即每100区块中，前99个区块使用PoW共识，而最后一块使用 PoS 共识。基于此，以太坊将可以在公网环境以一个安全系数较低的方式检验基于 PoS 的 Casper 算法，而且可以依赖最后一块的 PoS 共识来有效抵御51%攻击。 而事实上，在君士坦丁堡版本中，共识模块只包含主网使用的 PoW 算法 Ethash，以及测试网 Ropsten 采用的 PoA 算法 Clique，并没有 PoW/PoS 混合共识的支持。而且，本次硬分叉也不会分叉处新的资产。 &nbsp; 和你有什么关系？ &nbsp; 如果你只是以太币持有者，你只需更新钱包就可以了。因为交易所（Coinbase、Kraken、ShapeShift）、钱包（MyCrypto、MetaMask、Trust Wallet）和节点提供商（Infura、Etherscan、Quiknode）都会更新其节点。 如果你本身就是节点，比如你在 Infura 工作或正在使用 Geth 或 Parity，你就需要将软件更新到最新版本。 如果你是普通的区块链爱好者，无需过多关心，因为此次升级不会给你带来任何影响。 &nbsp; 会对以太坊生态产生怎样的影响？ &nbsp; 基本上，将有同量级的 TPS，但如果考虑 EIP-1024 如何优化状态通道，或许能看到一些 layer 2 解决方案逐渐发挥作用。 成本取决于交易数量。一些 EIP 将优化智能合约交互，通过智能合约进行交易的成本会降低。但不能确定是否会出现 「CryptoKitties 事件」，造成网络拥堵，增加交易费用。 在 PoW 机制被取代的过程中，以太坊的挖矿收益会有一个降低的过程。在此过程的作用下，也许能为以太坊带来一波增长。 作为以太坊网络开发路线中的重要环节，君士坦丁堡硬分叉首先将会帮助以太坊网络实现扩容和提高其处理速度，对其性能进一步提升。这对ETH来说无疑是一个积极的信号。2018年12月10日，Vitalik 在推特上也表示，未来基于PoS的区块链分片将提高数千倍的效率。 &nbsp; 在 Vitalik 对以太坊的发展规划中，君士坦丁堡这一环节至关重要。短期来说，此次硬分叉对网络的性能，将在很大程度上解决当前以太坊网络性能不足的问题。长期来说，底层协议的变化将使以太坊发生根本性改变。这种根本性改变带来的直接后果即是以太坊矿工们通过挖矿能获得的 ETH 的减少，促使&nbsp;PoW 向&nbsp;&nbsp;PoS的转变。 &nbsp; &nbsp; 等待宁静 &nbsp; 君士坦丁堡之后，下一个上线版本就是宁静（Serenity），也就是大家常说的以太坊 2.0。 以太坊 2.0 的三大创新是：PoS 共识机制、Sharding（分片） 和 Ewasm 虚拟机。 &nbsp; &nbsp; Casper 是以太坊宁静版的最大特色，也是最大挑战，是需要把以太坊从一个工作量证明的区块链，变成一个权益证明的区块链。这是对基本共识机制的改变，也是以太坊的未来基础。但对于以太坊来说，这个转化涉及社区各方，尤其是矿工的利益，所以挑战非常大。 &nbsp; 以太坊扩容的第二个重要想法是分片。与数据库分片相似，区块链分片可以由一部分节点处理一部分工作。这样，整个系统能处理的总工作量就可以随着节点数增加而增长。分片扩容听上去容易，其实做起来非常难。怎么分片，各个片之间怎么共识？ &nbsp; &nbsp; 如果 Casper 与分片是以太坊 2.0 的前期目标的话，EWASM 虚拟机就是它的后期目标。但 Devcon4 大会上 EWASM 主题的近十个小时的讲座告诉我们， EWASM 离真正上线还很远，在那时还没有一条测试链，甚至写不出一个像样的 “Hello world”，而且路径依赖于 Casper。 此外，PoS 似乎看起来更像是让富人更富的共识机制（参考：富人越富，穷人越穷，我为什么反对PoS），市场是否能等到2021年也不得而知，虽然目标与路径已经有了，但以太坊宁静版的具体实现仍然任重而道远。 以太坊在一步步“抛弃” PoW 机制的同时，将不得不面对来自 PoW 拥护者和收益减少的矿工的反对。数字货币经济学家 Tuur Demeester 2018年12月29日在社交网站上就对以太坊抨击道：以太坊意图由 PoW 向 PoS 的转变将改变系统的经济。实际上 PoW 是比特币最大的创新。V神只是向以太坊的追随者们承诺了一个乌托邦，一个未经证实的未来。 营长不禁要问，以太坊能率先成功吗？ 营长的答案是：可以！因为它有最大、最活跃的开发者社区。 &nbsp; 参考资料： 1）Waiting for Serenity: What Will It&nbsp;Bring? 2）Ethereum Constantinople: Everything You Need To&nbsp;Know 3）以太坊2.0? 亲历3天的Devcon我看到了这样一个以太坊 | 见闻录 4）深夜15连推！V神又在操心区块链技术落地了，这次他又说了啥？ 5）富人越富，穷人越穷，我为什么反对PoS 6）“君士坦丁堡”硬分叉离以太坊2.0还有多远？ 7）行业观察 - 关于此次以太坊升级，你需要知道的一切 &nbsp; 推荐阅读： 2019八大科技趋势，指引你走向技术下一站 1年丢失140亿！你是区块链的受害者吗？|年度安全事件回顾 IPFS 深入浅出：从《黑镜》说起 微软自证开源决心：GitHub&amp;nbsp;私有库免费无限开放！ 同一起点的程序员，有人累到要猝死，有人清闲得要命 GitHub重大好消息：私有仓库可无限制免费创建 Istio调用链埋点原理剖析—是否真的“零修改”分享实录 刚刚！程序员集体荣获2个冠军，这份2018 IT报告还说这些！ &nbsp; 5f1856f7d88666e63d7c6ff2a34f81b057c941b5","@type":"BlogPosting","url":"https://mlh.app/2019/01/10/57aec26b39909a5a7629e934122df011.html","headline":"君士坦丁堡硬分叉姗姗来迟，以太坊2.0还要等多久？","dateModified":"2019-01-10T00:00:00+08:00","datePublished":"2019-01-10T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2019/01/10/57aec26b39909a5a7629e934122df011.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>君士坦丁堡硬分叉姗姗来迟，以太坊2.0还要等多久？</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <<<<<<< HEAD
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <div class="article-copyright">
   版权声明：本文为博主原创文章，未经博主允许不得转载。 https://blog.csdn.net/Blockchain_lemon/article/details/86237751 
 </div> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-db05db230f.css"> 
 <div class="htmledit_views" id="content_views"> 
  <blockquote> 
   <p>2019年1月16日，也就是一周后，以太坊君士坦丁堡硬分叉就要来了。</p> 
   <p>如果你是普通的以太币(ETH)持有者，就无需过于关心这次的君士坦丁堡硬分叉；如果你是以太坊技术爱好者，就有必要认真读一读这篇文章了。</p> 
   <p>君士坦丁堡硬分叉姗姗来迟，以太坊宁静何时能来？</p> 
  </blockquote> 
  <p>&nbsp;</p> 
  <p>在2018年12月7日举行的以太坊核心开发者大会上，君士坦丁堡硬分叉日期终于敲定。此次硬分叉将于北京时间2019年1月16日在以太坊主链 7080000 的区块高度上被激活。</p> 
  <p>此次将要激活的君士坦丁堡硬分叉，实际上是此前18年10月在以太坊测试网 Ropsten上进行的君士坦丁堡升级，但当时因存在共识问题导致测试网 Ropsten 不可用而一再延后。</p> 
  <p>此次硬分叉包含了 EIP-145、EIP-1052、EIP-1283、EIP-1014 和 EIP-1234 共5项更新提案，其目的是提高以太坊的运行效率，并移除/推迟难度炸弹。</p> 
  <p>其中 EIP-1234 提议将拜占庭硬分叉后的出块奖励从 3 ETH 减少到 2 ETH，是本次升级中最受关注、最具争议的君士坦丁堡更新项目。早在2017年10月16日的拜占庭硬分叉中，以太坊核心团队就将出块奖励由 5 ETH 降低至 3 ETH，其目的就是为了促使 PoW 向 PoS 转化。</p> 
  <p>&nbsp;</p> 
  <h3><strong>以太坊的四个阶段</strong></h3> 
  <p>2015年7月，以太坊创始人 Vitalik Buterin 明确将以太坊网络的开发过程分为四个阶段： Frontier（边境）、Homestead（家园）、Metropolis（大都会）和 Serenity（宁静）。</p> 
  <ul>
   <li> <p>边境（2015年7月）：以太坊第一次版本发布，允许开发人员对以太坊进行挖矿，并基于以太坊进行 DApp 与工具软件的开发。那时的以太坊只有命令行界面，没有图形界面。</p> </li> 
   <li> <p>家园（2016年3月）：发布了第一个生产环境版本，对许多协议进行了优化改进，为之后的升级奠定了基础，并且加快了交易速度。普通用户就可以参与以太坊的挖矿。这一阶段的网络是以太坊正式发行的第一个版本。</p> </li> 
   <li> <p>大都会（2017年10月）：“大都会”阶段就是如今以太坊所处的发展阶段。在这个阶段，以太坊底层协议将发生重大改变，即从 PoW（工作量证明机制）缓慢地向 PoS（权益证明机制）过渡。该阶段分为两个版本，分别命名为拜占庭和君士坦丁堡，将会使得以太坊更轻量、更快速、更安全。</p> </li> 
   <li> <p>宁静（时间待定）：这个版本将会使用期待已久的PoS共识，其中将会使用Casper共识算法。在这个阶段，矿工对于以太坊来说将不再重要。</p> </li> 
  </ul>
  <p>以太坊网络升级的主要内容就是其底层协议的变化。君士坦丁堡硬分叉可以看成是对“宁静”阶段的准备。</p> 
  <p><em>谈君士坦丁堡硬分叉之前，先做一波科普。如果对此有过了解，可选择跳过这一部分。</em></p> 
  <h2>&nbsp;</h2> 
  <h3><strong>什么是分叉？为什么要分叉？</strong></h3> 
  <p>&nbsp;</p> 
  <p><strong>先说说什么是分叉。</strong>简单来说，分叉是对网络的更新，这与你更新计算机应用程序以使其更安全或具有新功能的方式非常相似。</p> 
  <p>比如你试图用低版本 Word 打开更高版本的 Word 文档，可能会存在字体显示错误或信息丢失。硬分叉就是如此，向后不兼容。</p> 
  <p>应用到区块链情景，如果要保证大量去中心化节点可以同时、准确同步信息和拥有相同的新功能，就很有必要遵循相同的规则，即所谓的硬分叉，而不是软分叉。</p> 
  <p><strong>那么，从概念上讲，什么是软分叉？什么是硬分叉？</strong></p> 
  <p><img alt="" class="has" height="260" src="https://img-blog.csdnimg.cn/20190110160526423.png" width="669"></p> 
  <p>软分叉：当新共识规则发布后，没有升级的节点会因为不知道新共识规则，而会继续生成区块，就会产生临时性分叉。争议也可能导致硬分叉，新链与旧链会同时存在并具有价值，比如 ETC 与 ETH、BTC 与 BCH。</p> 
  <p><img alt="" class="has" height="297" src="https://img-blog.csdnimg.cn/2019011016054436.png" width="671"></p> 
  <p>硬分叉：区块链发生永久性分歧，在新共识规则发布后，部分没有升级的节点无法验证已经升级的节点生产的区块，通常硬分叉就会发生。</p> 
  <p>对于无争议的硬分叉，大多数节点都会停止在旧链上的活动，不会为旧链添加新块。链条自然死亡且代币不再具有价值。</p> 
  <p>&nbsp;</p> 
  <h3><strong>那么，为什么要分叉呢？</strong></h3> 
  <p>&nbsp;</p> 
  <p>作为区块链底层开发平台，为了能够让自身区块链网络更好的满足 DApp 开发的需要，以太坊需要不断“升级”，以解决当前网络存在的问题。比如如今困扰以太坊的低 TPS 问题和低扩展性问题。</p> 
  <p>此次君士坦丁堡硬分叉就是以太坊的“升级”方式。其升级的主要内容就是底层协议的变化，此次君士坦丁堡硬分叉可以看成是对“宁静”阶段的准备。</p> 
  <p>&nbsp;</p> 
  <h3><strong>君士坦丁堡二三事儿</strong></h3> 
  <p>&nbsp;</p> 
  <h3><strong>什么是君士坦丁堡？</strong></h3> 
  <p>&nbsp;</p> 
  <p>君士坦丁堡只是以太坊网络更新后的名称。此次更新是无争议的，并且预计每个人都同意在这条新路径上采用以太坊区块链。就像2016年的“家园”和2017年的“拜占庭”，此次硬分叉将导致两个链条，旧链几乎立即死亡。</p> 
  <p><img alt="" class="has" height="371" src="https://img-blog.csdnimg.cn/20190110160604187.png" width="303"></p> 
  <p>新的以太坊区块链包括以下5个新的以太坊改进提案（EIP）：</p> 
  <p>&nbsp;</p> 
  <p>EIP 145: 在合约中支持高效的位运算，如同C语言中的&lt;&lt;和&gt;&gt;</p> 
  <p>EIP 1052: 增加一个操作符，用于计算合约代码的Hash值</p> 
  <p>EIP 1283: 优化存储算法，降低智能合约存储的GAS消耗</p> 
  <p>EIP 1014: 增加了新的合约地址生成指令，允许根据合约代码推测合约地址</p> 
  <p>EIP 1234: 将挖矿难度炸弹延迟12个月，将每个区块的挖矿奖励从3ETH降到2ETH</p> 
  <p>以太坊君士坦丁堡EIP更新详情<a href="https://v.qq.com/x/page/c0825zddxfb.html" rel="nofollow">https://v.qq.com/x/page/c0825zddxfb.html</a></p> 
  <p>早前报道普遍猜测，本次升级中以太坊的共识算法将会进入 PoW/PoS 的混合模式，即每100区块中，前99个区块使用PoW共识，而最后一块使用 PoS 共识。基于此，以太坊将可以在公网环境以一个安全系数较低的方式检验基于 PoS 的 Casper 算法，而且可以依赖最后一块的 PoS 共识来有效抵御51%攻击。</p> 
  <p>而事实上，在君士坦丁堡版本中，共识模块只包含主网使用的 PoW 算法 Ethash，以及测试网 Ropsten 采用的 PoA 算法 Clique，并没有 PoW/PoS 混合共识的支持。而且，本次硬分叉也不会分叉处新的资产。</p> 
  <p>&nbsp;</p> 
  <h3><strong>和你有什么关系？</strong></h3> 
  <p>&nbsp;</p> 
  <p>如果你只是以太币持有者，你只需更新钱包就可以了。因为<strong>交易所</strong>（Coinbase、Kraken、ShapeShift）、<strong>钱包</strong>（MyCrypto、MetaMask、Trust Wallet）和<strong>节点提供商</strong>（Infura、Etherscan、Quiknode）都会更新其节点。</p> 
  <p>如果你本身就是节点，比如你在 Infura 工作或正在使用 Geth 或 Parity，你就需要将软件更新到最新版本。</p> 
  <p>如果你是普通的区块链爱好者，无需过多关心，因为此次升级不会给你带来任何影响。</p> 
  <p>&nbsp;</p> 
  <h3><strong>会对以太坊生态产生怎样的影响？</strong></h3> 
  <p>&nbsp;</p> 
  <p>基本上，将有同量级的 TPS，但如果考虑 EIP-1024 如何优化状态通道，或许能看到一些 layer 2 解决方案逐渐发挥作用。</p> 
  <p>成本取决于交易数量。一些 EIP 将优化智能合约交互，通过智能合约进行交易的成本会降低。但不能确定是否会出现 「CryptoKitties 事件」，造成网络拥堵，增加交易费用。</p> 
  <p>在 PoW 机制被取代的过程中，以太坊的挖矿收益会有一个降低的过程。在此过程的作用下，也许能为以太坊带来一波增长。</p> 
  <p>作为以太坊网络开发路线中的重要环节，君士坦丁堡硬分叉首先将会帮助以太坊网络实现扩容和提高其处理速度，对其性能进一步提升。这对ETH来说无疑是一个积极的信号。2018年12月10日，Vitalik 在推特上也表示，未来基于PoS的区块链分片将提高数千倍的效率。</p> 
  <p>&nbsp;</p> 
  <p><img alt="" class="has" height="384" src="https://img-blog.csdnimg.cn/20190110160813351.png" width="515"></p> 
  <p>在 Vitalik 对以太坊的发展规划中，君士坦丁堡这一环节至关重要。短期来说，此次硬分叉对网络的性能，将在很大程度上解决当前以太坊网络性能不足的问题。长期来说，底层协议的变化将使以太坊发生根本性改变。这种根本性改变带来的直接后果即是以太坊矿工们通过挖矿能获得的 ETH 的减少，促使&nbsp;PoW 向&nbsp;&nbsp;PoS的转变。</p> 
  <p>&nbsp;</p> 
  <p>&nbsp;</p> 
  <h3><strong>等待宁静</strong></h3> 
  <p>&nbsp;</p> 
  <p>君士坦丁堡之后，下一个上线版本就是宁静（Serenity），也就是大家常说的以太坊 2.0。</p> 
  <p>以太坊 2.0 的三大创新是：PoS 共识机制、Sharding（分片） 和 Ewasm 虚拟机。</p> 
  <p>&nbsp;</p> 
  <p><img alt="" class="has" height="282" src="https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9k1GWWLzXqm6BUp50ia8O6ETMCO7GjWSgOibeGYUia4A8KmyR0JNro0UXC990FEicLzSicbdlZPLyibXYibA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" width="500"></p> 
  <p>&nbsp;</p> 
  <p>Casper 是以太坊宁静版的最大特色，也是最大挑战，是需要把以太坊从一个工作量证明的区块链，变成一个权益证明的区块链。这是对基本共识机制的改变，也是以太坊的未来基础。但对于以太坊来说，这个转化涉及社区各方，尤其是矿工的利益，所以挑战非常大。</p> 
  <p>&nbsp;</p> 
  <p>以太坊扩容的第二个重要想法是分片。与数据库分片相似，区块链分片可以由一部分节点处理一部分工作。这样，整个系统能处理的总工作量就可以随着节点数增加而增长。分片扩容听上去容易，其实做起来非常难。怎么分片，各个片之间怎么共识？</p> 
  <p>&nbsp;</p> 
  <p><img alt="" class="has" height="451" src="https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9k1GWWLzXqm6BUp50ia8O6ET4AHu0RvX9iagaoTxBiaCrauyIeJFY1iaYwmEBHbXMdlX9ibL6alxFqGdTA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" width="800"></p> 
  <p>&nbsp;</p> 
  <p>如果 Casper 与分片是以太坊 2.0 的前期目标的话，EWASM 虚拟机就是它的后期目标。但 Devcon4 大会上 EWASM 主题的近十个小时的讲座告诉我们， EWASM 离真正上线还很远，在那时还没有一条测试链，甚至写不出一个像样的 “Hello world”，而且路径依赖于 Casper。</p> 
  <p>此外，PoS 似乎看起来更像是让富人更富的共识机制（参考：<a target="_blank" href="https://blog.csdn.net/Blockchain_lemon/article/details/83189705" rel="nofollow">富人越富，穷人越穷，我为什么反对PoS</a>），市场是否能等到2021年也不得而知，虽然目标与路径已经有了，但以太坊宁静版的具体实现仍然任重而道远。</p> 
  <p>以太坊在一步步“抛弃” PoW 机制的同时，将不得不面对来自 PoW 拥护者和收益减少的矿工的反对。数字货币经济学家 Tuur Demeester 2018年12月29日在社交网站上就对以太坊抨击道：以太坊意图由 PoW 向 PoS 的转变将改变系统的经济。实际上 PoW 是比特币最大的创新。V神只是向以太坊的追随者们承诺了一个乌托邦，一个未经证实的未来。</p> 
  <p>营长不禁要问，以太坊能率先成功吗？</p> 
  <p>营长的答案是：<strong>可以！因为它有最大、最活跃的开发者社区。</strong></p> 
  <h3>&nbsp;</h3> 
  <p><strong>参考资料：</strong></p> 
  <p>1）Waiting for Serenity: What Will It&nbsp;Bring?</p> 
  <p>2）Ethereum Constantinople: Everything You Need To&nbsp;Know</p> 
  <p>3）以太坊2.0? 亲历3天的Devcon我看到了这样一个以太坊 | 见闻录</p> 
  <p>4）深夜15连推！V神又在操心区块链技术落地了，这次他又说了啥？</p> 
  <p>5）富人越富，穷人越穷，我为什么反对PoS</p> 
  <p>6）“君士坦丁堡”硬分叉离以太坊2.0还有多远？</p> 
  <p>7）行业观察 - 关于此次以太坊升级，你需要知道的一切</p> 
  <p>&nbsp;</p> 
  <p><strong>推荐阅读：</strong></p> 
  <ul>
   <li> <p><a href="http://mp.weixin.qq.com/s?__biz=MzU2MTE1NDk2Mg==&amp;mid=2247491582&amp;idx=1&amp;sn=3d2d17f826b1a1f86c30d77a2780a43e&amp;chksm=fc7c4103cb0bc8156272185096099dcff7ad32057a635fdc1f15426b90f369d5cb26f01bef5e&amp;scene=21#wechat_redirect" rel="nofollow">2019八大科技趋势，指引你走向技术下一站</a></p> </li> 
   <li> <p><a href="http://mp.weixin.qq.com/s?__biz=MzU2MTE1NDk2Mg==&amp;mid=2247491559&amp;idx=1&amp;sn=0cd95439a70805b09c19e4d832d3ee25&amp;chksm=fc7c411acb0bc80c13c7292566a841a7327b306f3a8494df650e811b39c9d5b2dbb677b54571&amp;scene=21#wechat_redirect" rel="nofollow">1年丢失140亿！你是区块链的受害者吗？|年度安全事件回顾</a></p> </li> 
   <li> <p><a target="_blank" href="https://blog.csdn.net/Blockchain_lemon/article/details/85960445" rel="nofollow">IPFS 深入浅出：从《黑镜》说起</a></p> </li> 
   <li> <p><a href="http://mp.weixin.qq.com/s?__biz=MjM5MjAwODM4MA==&amp;mid=2650711991&amp;idx=1&amp;sn=171a5c91c1b1b4fe8cd315f61080ee54&amp;chksm=bea6d66489d15f724bcf9e8645fe5f310408c1f10bda56e003d4d42d9ea04988b6e99fdfe525&amp;scene=21#wechat_redirect" rel="nofollow">微软自证开源决心：GitHub&amp;nbsp;私有库免费无限开放！</a></p> </li> 
   <li> <p><a href="http://mp.weixin.qq.com/s?__biz=MzA5MzY4NTQwMA==&amp;mid=2651008063&amp;idx=4&amp;sn=13f8ff1a3acb487b59b976e7e1b80947&amp;chksm=8bad9fc8bcda16deacaf58cf78b52210a4660869369dff49cac712e54d8ee43cd57fc630f7ea&amp;scene=21#wechat_redirect" rel="nofollow">同一起点的程序员，有人累到要猝死，有人清闲得要命</a></p> </li> 
   <li> <p><a href="http://mp.weixin.qq.com/s?__biz=MzI0ODcxODk5OA==&amp;mid=2247501012&amp;idx=3&amp;sn=f8efd1612a07f1ccdf354ca414bfcb3f&amp;chksm=e99ef72ddee97e3b3e3fc09e9000613a9699c65eab6e49b07773f7334876f7669bc3fadde353&amp;scene=21#wechat_redirect" rel="nofollow">GitHub重大好消息：私有仓库可无限制免费创建</a></p> </li> 
   <li> <p><a href="http://mp.weixin.qq.com/s?__biz=MzA3MjY1MTQwNQ==&amp;mid=2649825542&amp;idx=2&amp;sn=b363a8bc35896492bcf0a5d5144c17ea&amp;chksm=871e86e4b0690ff2c98b8f5e2c4d59cb68d963755ac7ab7e9d3455dbc47502de5d879a3bd236&amp;scene=21#wechat_redirect" rel="nofollow">Istio调用链埋点原理剖析—是否真的“零修改”分享实录</a></p> </li> 
   <li> <p><a href="http://mp.weixin.qq.com/s?__biz=MzA5MjcxNjc2Ng==&amp;mid=2650559285&amp;idx=1&amp;sn=acd0d1fa166d7db7eabc03bdfd6330ae&amp;chksm=88601884bf1791921ecf71c809627439067f26910bbdbc0e342518940a6aabe9988b10d23fd9&amp;scene=21#wechat_redirect" rel="nofollow">刚刚！程序员集体荣获2个冠军，这份2018 IT报告还说这些！</a></p> </li> 
  </ul>
  <p>&nbsp;</p> 
 </div> 
</div>
=======
<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <div class="article-copyright">
   版权声明：本文为博主原创文章，未经博主允许不得转载。 https://blog.csdn.net/Blockchain_lemon/article/details/86237751 
 </div> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <blockquote> 
   <p>2019年1月16日，也就是一周后，以太坊君士坦丁堡硬分叉就要来了。</p> 
   <p>如果你是普通的以太币(ETH)持有者，就无需过于关心这次的君士坦丁堡硬分叉；如果你是以太坊技术爱好者，就有必要认真读一读这篇文章了。</p> 
   <p>君士坦丁堡硬分叉姗姗来迟，以太坊宁静何时能来？</p> 
  </blockquote> 
  <p>&nbsp;</p> 
  <p>在2018年12月7日举行的以太坊核心开发者大会上，君士坦丁堡硬分叉日期终于敲定。此次硬分叉将于北京时间2019年1月16日在以太坊主链 7080000 的区块高度上被激活。</p> 
  <p>此次将要激活的君士坦丁堡硬分叉，实际上是此前18年10月在以太坊测试网 Ropsten上进行的君士坦丁堡升级，但当时因存在共识问题导致测试网 Ropsten 不可用而一再延后。</p> 
  <p>此次硬分叉包含了 EIP-145、EIP-1052、EIP-1283、EIP-1014 和 EIP-1234 共5项更新提案，其目的是提高以太坊的运行效率，并移除/推迟难度炸弹。</p> 
  <p>其中 EIP-1234 提议将拜占庭硬分叉后的出块奖励从 3 ETH 减少到 2 ETH，是本次升级中最受关注、最具争议的君士坦丁堡更新项目。早在2017年10月16日的拜占庭硬分叉中，以太坊核心团队就将出块奖励由 5 ETH 降低至 3 ETH，其目的就是为了促使 PoW 向 PoS 转化。</p> 
  <p>&nbsp;</p> 
  <h3><strong>以太坊的四个阶段</strong></h3> 
  <p>2015年7月，以太坊创始人 Vitalik Buterin 明确将以太坊网络的开发过程分为四个阶段： Frontier（边境）、Homestead（家园）、Metropolis（大都会）和 Serenity（宁静）。</p> 
  <ul>
   <li> <p>边境（2015年7月）：以太坊第一次版本发布，允许开发人员对以太坊进行挖矿，并基于以太坊进行 DApp 与工具软件的开发。那时的以太坊只有命令行界面，没有图形界面。</p> </li> 
   <li> <p>家园（2016年3月）：发布了第一个生产环境版本，对许多协议进行了优化改进，为之后的升级奠定了基础，并且加快了交易速度。普通用户就可以参与以太坊的挖矿。这一阶段的网络是以太坊正式发行的第一个版本。</p> </li> 
   <li> <p>大都会（2017年10月）：“大都会”阶段就是如今以太坊所处的发展阶段。在这个阶段，以太坊底层协议将发生重大改变，即从 PoW（工作量证明机制）缓慢地向 PoS（权益证明机制）过渡。该阶段分为两个版本，分别命名为拜占庭和君士坦丁堡，将会使得以太坊更轻量、更快速、更安全。</p> </li> 
   <li> <p>宁静（时间待定）：这个版本将会使用期待已久的PoS共识，其中将会使用Casper共识算法。在这个阶段，矿工对于以太坊来说将不再重要。</p> </li> 
  </ul>
  <p>以太坊网络升级的主要内容就是其底层协议的变化。君士坦丁堡硬分叉可以看成是对“宁静”阶段的准备。</p> 
  <p><em>谈君士坦丁堡硬分叉之前，先做一波科普。如果对此有过了解，可选择跳过这一部分。</em></p> 
  <h2>&nbsp;</h2> 
  <h3><strong>什么是分叉？为什么要分叉？</strong></h3> 
  <p>&nbsp;</p> 
  <p><strong>先说说什么是分叉。</strong>简单来说，分叉是对网络的更新，这与你更新计算机应用程序以使其更安全或具有新功能的方式非常相似。</p> 
  <p>比如你试图用低版本 Word 打开更高版本的 Word 文档，可能会存在字体显示错误或信息丢失。硬分叉就是如此，向后不兼容。</p> 
  <p>应用到区块链情景，如果要保证大量去中心化节点可以同时、准确同步信息和拥有相同的新功能，就很有必要遵循相同的规则，即所谓的硬分叉，而不是软分叉。</p> 
  <p><strong>那么，从概念上讲，什么是软分叉？什么是硬分叉？</strong></p> 
  <p><img alt="" class="has" height="260" src="https://blog.uzzz.org/_p?https://img-blog.csdnimg.cn/20190110160526423.png" width="669"></p> 
  <p>软分叉：当新共识规则发布后，没有升级的节点会因为不知道新共识规则，而会继续生成区块，就会产生临时性分叉。争议也可能导致硬分叉，新链与旧链会同时存在并具有价值，比如 ETC 与 ETH、BTC 与 BCH。</p> 
  <p><img alt="" class="has" height="297" src="https://blog.uzzz.org/_p?https://img-blog.csdnimg.cn/2019011016054436.png" width="671"></p> 
  <p>硬分叉：区块链发生永久性分歧，在新共识规则发布后，部分没有升级的节点无法验证已经升级的节点生产的区块，通常硬分叉就会发生。</p> 
  <p>对于无争议的硬分叉，大多数节点都会停止在旧链上的活动，不会为旧链添加新块。链条自然死亡且代币不再具有价值。</p> 
  <p>&nbsp;</p> 
  <h3><strong>那么，为什么要分叉呢？</strong></h3> 
  <p>&nbsp;</p> 
  <p>作为区块链底层开发平台，为了能够让自身区块链网络更好的满足 DApp 开发的需要，以太坊需要不断“升级”，以解决当前网络存在的问题。比如如今困扰以太坊的低 TPS 问题和低扩展性问题。</p> 
  <p>此次君士坦丁堡硬分叉就是以太坊的“升级”方式。其升级的主要内容就是底层协议的变化，此次君士坦丁堡硬分叉可以看成是对“宁静”阶段的准备。</p> 
  <p>&nbsp;</p> 
  <h3><strong>君士坦丁堡二三事儿</strong></h3> 
  <p>&nbsp;</p> 
  <h3><strong>什么是君士坦丁堡？</strong></h3> 
  <p>&nbsp;</p> 
  <p>君士坦丁堡只是以太坊网络更新后的名称。此次更新是无争议的，并且预计每个人都同意在这条新路径上采用以太坊区块链。就像2016年的“家园”和2017年的“拜占庭”，此次硬分叉将导致两个链条，旧链几乎立即死亡。</p> 
  <p><img alt="" class="has" height="371" src="https://blog.uzzz.org/_p?https://img-blog.csdnimg.cn/20190110160604187.png" width="303"></p> 
  <p>新的以太坊区块链包括以下5个新的以太坊改进提案（EIP）：</p> 
  <p>&nbsp;</p> 
  <p>EIP 145: 在合约中支持高效的位运算，如同C语言中的&lt;&lt;和&gt;&gt;</p> 
  <p>EIP 1052: 增加一个操作符，用于计算合约代码的Hash值</p> 
  <p>EIP 1283: 优化存储算法，降低智能合约存储的GAS消耗</p> 
  <p>EIP 1014: 增加了新的合约地址生成指令，允许根据合约代码推测合约地址</p> 
  <p>EIP 1234: 将挖矿难度炸弹延迟12个月，将每个区块的挖矿奖励从3ETH降到2ETH</p> 
  <p>以太坊君士坦丁堡EIP更新详情<a href="https://v.qq.com/x/page/c0825zddxfb.html" rel="nofollow">https://v.qq.com/x/page/c0825zddxfb.html</a></p> 
  <p>早前报道普遍猜测，本次升级中以太坊的共识算法将会进入 PoW/PoS 的混合模式，即每100区块中，前99个区块使用PoW共识，而最后一块使用 PoS 共识。基于此，以太坊将可以在公网环境以一个安全系数较低的方式检验基于 PoS 的 Casper 算法，而且可以依赖最后一块的 PoS 共识来有效抵御51%攻击。</p> 
  <p>而事实上，在君士坦丁堡版本中，共识模块只包含主网使用的 PoW 算法 Ethash，以及测试网 Ropsten 采用的 PoA 算法 Clique，并没有 PoW/PoS 混合共识的支持。而且，本次硬分叉也不会分叉处新的资产。</p> 
  <p>&nbsp;</p> 
  <h3><strong>和你有什么关系？</strong></h3> 
  <p>&nbsp;</p> 
  <p>如果你只是以太币持有者，你只需更新钱包就可以了。因为<strong>交易所</strong>（Coinbase、Kraken、ShapeShift）、<strong>钱包</strong>（MyCrypto、MetaMask、Trust Wallet）和<strong>节点提供商</strong>（Infura、Etherscan、Quiknode）都会更新其节点。</p> 
  <p>如果你本身就是节点，比如你在 Infura 工作或正在使用 Geth 或 Parity，你就需要将软件更新到最新版本。</p> 
  <p>如果你是普通的区块链爱好者，无需过多关心，因为此次升级不会给你带来任何影响。</p> 
  <p>&nbsp;</p> 
  <h3><strong>会对以太坊生态产生怎样的影响？</strong></h3> 
  <p>&nbsp;</p> 
  <p>基本上，将有同量级的 TPS，但如果考虑 EIP-1024 如何优化状态通道，或许能看到一些 layer 2 解决方案逐渐发挥作用。</p> 
  <p>成本取决于交易数量。一些 EIP 将优化智能合约交互，通过智能合约进行交易的成本会降低。但不能确定是否会出现 「CryptoKitties 事件」，造成网络拥堵，增加交易费用。</p> 
  <p>在 PoW 机制被取代的过程中，以太坊的挖矿收益会有一个降低的过程。在此过程的作用下，也许能为以太坊带来一波增长。</p> 
  <p>作为以太坊网络开发路线中的重要环节，君士坦丁堡硬分叉首先将会帮助以太坊网络实现扩容和提高其处理速度，对其性能进一步提升。这对ETH来说无疑是一个积极的信号。2018年12月10日，Vitalik 在推特上也表示，未来基于PoS的区块链分片将提高数千倍的效率。</p> 
  <p>&nbsp;</p> 
  <p><img alt="" class="has" height="384" src="https://blog.uzzz.org/_p?https://img-blog.csdnimg.cn/20190110160813351.png" width="515"></p> 
  <p>在 Vitalik 对以太坊的发展规划中，君士坦丁堡这一环节至关重要。短期来说，此次硬分叉对网络的性能，将在很大程度上解决当前以太坊网络性能不足的问题。长期来说，底层协议的变化将使以太坊发生根本性改变。这种根本性改变带来的直接后果即是以太坊矿工们通过挖矿能获得的 ETH 的减少，促使&nbsp;PoW 向&nbsp;&nbsp;PoS的转变。</p> 
  <p>&nbsp;</p> 
  <p>&nbsp;</p> 
  <h3><strong>等待宁静</strong></h3> 
  <p>&nbsp;</p> 
  <p>君士坦丁堡之后，下一个上线版本就是宁静（Serenity），也就是大家常说的以太坊 2.0。</p> 
  <p>以太坊 2.0 的三大创新是：PoS 共识机制、Sharding（分片） 和 Ewasm 虚拟机。</p> 
  <p>&nbsp;</p> 
  <p><img alt="" class="has" height="282" src="https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9k1GWWLzXqm6BUp50ia8O6ETMCO7GjWSgOibeGYUia4A8KmyR0JNro0UXC990FEicLzSicbdlZPLyibXYibA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" width="500"></p> 
  <p>&nbsp;</p> 
  <p>Casper 是以太坊宁静版的最大特色，也是最大挑战，是需要把以太坊从一个工作量证明的区块链，变成一个权益证明的区块链。这是对基本共识机制的改变，也是以太坊的未来基础。但对于以太坊来说，这个转化涉及社区各方，尤其是矿工的利益，所以挑战非常大。</p> 
  <p>&nbsp;</p> 
  <p>以太坊扩容的第二个重要想法是分片。与数据库分片相似，区块链分片可以由一部分节点处理一部分工作。这样，整个系统能处理的总工作量就可以随着节点数增加而增长。分片扩容听上去容易，其实做起来非常难。怎么分片，各个片之间怎么共识？</p> 
  <p>&nbsp;</p> 
  <p><img alt="" class="has" height="451" src="https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9k1GWWLzXqm6BUp50ia8O6ET4AHu0RvX9iagaoTxBiaCrauyIeJFY1iaYwmEBHbXMdlX9ibL6alxFqGdTA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" width="800"></p> 
  <p>&nbsp;</p> 
  <p>如果 Casper 与分片是以太坊 2.0 的前期目标的话，EWASM 虚拟机就是它的后期目标。但 Devcon4 大会上 EWASM 主题的近十个小时的讲座告诉我们， EWASM 离真正上线还很远，在那时还没有一条测试链，甚至写不出一个像样的 “Hello world”，而且路径依赖于 Casper。</p> 
  <p>此外，PoS 似乎看起来更像是让富人更富的共识机制（参考：<a target="_blank" href="https://blog.csdn.net/Blockchain_lemon/article/details/83189705" rel="nofollow">富人越富，穷人越穷，我为什么反对PoS</a>），市场是否能等到2021年也不得而知，虽然目标与路径已经有了，但以太坊宁静版的具体实现仍然任重而道远。</p> 
  <p>以太坊在一步步“抛弃” PoW 机制的同时，将不得不面对来自 PoW 拥护者和收益减少的矿工的反对。数字货币经济学家 Tuur Demeester 2018年12月29日在社交网站上就对以太坊抨击道：以太坊意图由 PoW 向 PoS 的转变将改变系统的经济。实际上 PoW 是比特币最大的创新。V神只是向以太坊的追随者们承诺了一个乌托邦，一个未经证实的未来。</p> 
  <p>营长不禁要问，以太坊能率先成功吗？</p> 
  <p>营长的答案是：<strong>可以！因为它有最大、最活跃的开发者社区。</strong></p> 
  <h3>&nbsp;</h3> 
  <p><strong>参考资料：</strong></p> 
  <p>1）Waiting for Serenity: What Will It&nbsp;Bring?</p> 
  <p>2）Ethereum Constantinople: Everything You Need To&nbsp;Know</p> 
  <p>3）以太坊2.0? 亲历3天的Devcon我看到了这样一个以太坊 | 见闻录</p> 
  <p>4）深夜15连推！V神又在操心区块链技术落地了，这次他又说了啥？</p> 
  <p>5）富人越富，穷人越穷，我为什么反对PoS</p> 
  <p>6）“君士坦丁堡”硬分叉离以太坊2.0还有多远？</p> 
  <p>7）行业观察 - 关于此次以太坊升级，你需要知道的一切</p> 
  <p>&nbsp;</p> 
  <p><strong>推荐阅读：</strong></p> 
  <ul>
   <li> <p><a href="http://mp.weixin.qq.com/s?__biz=MzU2MTE1NDk2Mg==&amp;mid=2247491582&amp;idx=1&amp;sn=3d2d17f826b1a1f86c30d77a2780a43e&amp;chksm=fc7c4103cb0bc8156272185096099dcff7ad32057a635fdc1f15426b90f369d5cb26f01bef5e&amp;scene=21#wechat_redirect" rel="nofollow">2019八大科技趋势，指引你走向技术下一站</a></p> </li> 
   <li> <p><a href="http://mp.weixin.qq.com/s?__biz=MzU2MTE1NDk2Mg==&amp;mid=2247491559&amp;idx=1&amp;sn=0cd95439a70805b09c19e4d832d3ee25&amp;chksm=fc7c411acb0bc80c13c7292566a841a7327b306f3a8494df650e811b39c9d5b2dbb677b54571&amp;scene=21#wechat_redirect" rel="nofollow">1年丢失140亿！你是区块链的受害者吗？|年度安全事件回顾</a></p> </li> 
   <li> <p><a target="_blank" href="https://blog.csdn.net/Blockchain_lemon/article/details/85960445" rel="nofollow">IPFS 深入浅出：从《黑镜》说起</a></p> </li> 
   <li> <p><a href="http://mp.weixin.qq.com/s?__biz=MjM5MjAwODM4MA==&amp;mid=2650711991&amp;idx=1&amp;sn=171a5c91c1b1b4fe8cd315f61080ee54&amp;chksm=bea6d66489d15f724bcf9e8645fe5f310408c1f10bda56e003d4d42d9ea04988b6e99fdfe525&amp;scene=21#wechat_redirect" rel="nofollow">微软自证开源决心：GitHub&amp;nbsp;私有库免费无限开放！</a></p> </li> 
   <li> <p><a href="http://mp.weixin.qq.com/s?__biz=MzA5MzY4NTQwMA==&amp;mid=2651008063&amp;idx=4&amp;sn=13f8ff1a3acb487b59b976e7e1b80947&amp;chksm=8bad9fc8bcda16deacaf58cf78b52210a4660869369dff49cac712e54d8ee43cd57fc630f7ea&amp;scene=21#wechat_redirect" rel="nofollow">同一起点的程序员，有人累到要猝死，有人清闲得要命</a></p> </li> 
   <li> <p><a href="http://mp.weixin.qq.com/s?__biz=MzI0ODcxODk5OA==&amp;mid=2247501012&amp;idx=3&amp;sn=f8efd1612a07f1ccdf354ca414bfcb3f&amp;chksm=e99ef72ddee97e3b3e3fc09e9000613a9699c65eab6e49b07773f7334876f7669bc3fadde353&amp;scene=21#wechat_redirect" rel="nofollow">GitHub重大好消息：私有仓库可无限制免费创建</a></p> </li> 
   <li> <p><a href="http://mp.weixin.qq.com/s?__biz=MzA3MjY1MTQwNQ==&amp;mid=2649825542&amp;idx=2&amp;sn=b363a8bc35896492bcf0a5d5144c17ea&amp;chksm=871e86e4b0690ff2c98b8f5e2c4d59cb68d963755ac7ab7e9d3455dbc47502de5d879a3bd236&amp;scene=21#wechat_redirect" rel="nofollow">Istio调用链埋点原理剖析—是否真的“零修改”分享实录</a></p> </li> 
   <li> <p><a href="http://mp.weixin.qq.com/s?__biz=MzA5MjcxNjc2Ng==&amp;mid=2650559285&amp;idx=1&amp;sn=acd0d1fa166d7db7eabc03bdfd6330ae&amp;chksm=88601884bf1791921ecf71c809627439067f26910bbdbc0e342518940a6aabe9988b10d23fd9&amp;scene=21#wechat_redirect" rel="nofollow">刚刚！程序员集体荣获2个冠军，这份2018 IT报告还说这些！</a></p> </li> 
  </ul>
  <p>&nbsp;</p> 
 </div> 
</div>
>>>>>>> 5f1856f7d88666e63d7c6ff2a34f81b057c941b5


	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0d1dbe5a3e5863242418b768d1601633";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
