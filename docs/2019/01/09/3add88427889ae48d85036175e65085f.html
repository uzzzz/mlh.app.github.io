<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>【深度学习】卷积神经网络CNN | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="【深度学习】卷积神经网络CNN" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="版权声明：本文为博主原创文章，未经博主允许不得转载。 https://blog.csdn.net/Hemk340200600/article/details/86141314 文章目录 1.卷积神经网络 1.1Convolution 卷积 1.2 Max Pooling最大池化 1.3 Flatten 2.理解深度学习 1.卷积神经网络 1.1Convolution 卷积   卷积核里面的数字是被学出来的。卷积核的大小是认为规定的，以 3 × 3 3\times3 3×3的卷积核为例， [ 1 − 1 − 1 − 1 1 − 1 − 1 − 1 1 ] , [ − 1 1 − 1 − 1 1 − 1 − 1 1 − 1 ] , . . . \begin{bmatrix} 1 &amp;amp; -1 &amp;amp; -1 \\ -1 &amp;amp; 1 &amp;amp; -1 \\ -1 &amp;amp; -1 &amp;amp; 1 \end{bmatrix}, \begin{bmatrix} -1 &amp;amp; 1 &amp;amp; -1 \\ -1 &amp;amp; 1 &amp;amp; -1 \\ -1 &amp;amp; 1 &amp;amp; -1 \end{bmatrix},... ⎣⎡​1−1−1​−11−1​−1−11​⎦⎤​,⎣⎡​−1−1−1​111​−1−1−1​⎦⎤​,...   卷积步骤：对一张拥有 28 × 28 28\times28 28×28像素的图片来说，首先将卷积核放在左上角，跟对应像素位置的值做內积得到一个值。然后向右滑动1个stride（滑动的步长称为stride），继续计算內积。当一行计算完之后，卷积核移动到下一行（移动stride步）的行首，重复以上步骤。最后可以将整张图片的像素用卷积得到的值来表示。   当我们使用n个不同的卷积核时，我们可以得到n组新的值，这时得到的东西称之为Feature Map。我们可以把它想象为一组新的图片，只不过比原来的图片要小，并且原始图片上被卷积核卷过的区域都用n个新的特征值来表示。   可以这样来考虑卷积后的到的特征，对于图片 [ 1 0 0 0 0 1 0 0 0 0 1 0 1 0 1 1 ] \begin{bmatrix} 1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 1 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 1 &amp;amp; 0 \\ 1 &amp;amp; 0 &amp;amp; 1 &amp;amp; 1\end{bmatrix} ⎣⎢⎢⎡​1001​0100​0011​0001​⎦⎥⎥⎤​，我们使用卷积核 [ 1 − 1 − 1 − 1 1 − 1 − 1 − 1 1 ] \begin{bmatrix} 1 &amp;amp; -1 &amp;amp; -1 \\ -1 &amp;amp; 1 &amp;amp; -1 \\ -1 &amp;amp; -1 &amp;amp; 1 \end{bmatrix} ⎣⎡​1−1−1​−11−1​−1−11​⎦⎤​对其进行卷积，对于左上角 3 × 3 3\times3 3×3的区域，其计算公式为 1 × 1 − 1 × 0 − 1 × 0 − 1 × 0 + 1 × 1 − 1 × 0 − 1 × 0 − 1 × 0 + 1 × 1 = 3 1\times1-1\times0-1\times0-1\times0+1\times1-1\times0-1\times0-1\times0+1\times1=3 1×1−1×0−1×0−1×0+1×1−1×0−1×0−1×0+1×1=3。可以发现3这个输出，其实是以[1,0,0,0,1,0,0,0,1]为输入，[1,-1,-1,-1,1,-1,-1,-1,1]权重得到的输出，如果看成是神经网络的形式，其实相当于以卷积区域的值为输入，卷积核作为权重，得到一个输出3。因此卷积后得到的feature map其实是由一个全连接神经网络得到的结果。而由于卷积核是固定不变的，在卷积过程中，我们使用到的卷积也是不变的，因此对于这个全连接神经网络，得到的每个输出，它们的输入对应的权重都是不变，即 权重共享，这使得需要学习的参数量大大减少。 1.2 Max Pooling最大池化   将卷积得到的feature矩阵，比如我们卷积后得到 [ 3 − 1 − 3 − 1 − 3 1 0 − 3 − 3 − 3 0 1 3 − 2 − 2 − 1 ] \begin{bmatrix} 3 &amp;amp; -1 &amp;amp; -3 &amp;amp; -1 \\ -3 &amp;amp; 1 &amp;amp; 0 &amp;amp; -3 \\ -3 &amp;amp; -3 &amp;amp; 0 &amp;amp; 1 \\ 3 &amp;amp; -2 &amp;amp; -2 &amp;amp; -1\end{bmatrix} ⎣⎢⎢⎡​3−3−33​−11−3−2​−300−2​−1−31−1​⎦⎥⎥⎤​，对于Max Pooling来说，它会将这个矩阵分成四块，每一块取其中最大值作为代表值，得到 [ 3 0 3 1 ] \begin{bmatrix} 3 &amp;amp; 0 \\ 3 &amp;amp; 1 \end{bmatrix} [33​01​]，与Max Pooling相对应的，还有Average Pooling平均池化。每次不取最大的，而是取其平均值作为代表。进行池化操作后，我们得到一张新的图片，可以对其重复进行卷积，池化操作，直到其变成我们想要的大小为止。 1.3 Flatten   将上面步骤最后得到的结果拉直，用于后续的全连接层的输入，最终得到整个模型的结果，比如判断一张图片是猫还是狗，到此为止，整个CNN的部分就介绍完了。 2.理解深度学习   理论上我们只需要一层hidden层就可以学到任何的非线性函数，为什么需要多层呢？并且实际上也很有用？   从上面这组实验数据不难发现，当一个参数数量差不多的“高瘦”的模型和“矮胖”的模型相比，“高瘦”模型，也就是深度学习模型的效果更好，并且在只有一层hidden layer的情况下增加神经元数量到16k的数目也不能获得比深度学习更好的效果。   在软件体系架构里面，有一个很重要的步骤就是模块化。比如，当我们需要对一组数据做一次排序，我们通常是将排序封装成一个方法，这样下次需要排序时就只要调用这个方法，而不需要再重新写一次排序。   深度学习其实也是在做类似模块化的步骤。对于一张图片，我们要将其判断出是长发男生，长发女生，短发男生，短发女生四个类型，如果我们直接训练一层hidden layer，恰好其中长发男生的样本很少，那最终学出来的模型不会很好。而如果我们先判断图片中是男生还是女生，是长发还是短发，再将这两个结果组合，最终得到比较好的效果。因为长发和短发的样本是比较均匀的，男生和女生的样本也是比较均匀的，它可以学到一个比较好的基本分类器来判断这两种情况，再由后面的hidden layer进行组合。而在深度学习中，前面的hidden layer就是较为底层的模块，后面的hidden layer使用前一个hidden layer作为模块来构建分类器。" />
<meta property="og:description" content="版权声明：本文为博主原创文章，未经博主允许不得转载。 https://blog.csdn.net/Hemk340200600/article/details/86141314 文章目录 1.卷积神经网络 1.1Convolution 卷积 1.2 Max Pooling最大池化 1.3 Flatten 2.理解深度学习 1.卷积神经网络 1.1Convolution 卷积   卷积核里面的数字是被学出来的。卷积核的大小是认为规定的，以 3 × 3 3\times3 3×3的卷积核为例， [ 1 − 1 − 1 − 1 1 − 1 − 1 − 1 1 ] , [ − 1 1 − 1 − 1 1 − 1 − 1 1 − 1 ] , . . . \begin{bmatrix} 1 &amp;amp; -1 &amp;amp; -1 \\ -1 &amp;amp; 1 &amp;amp; -1 \\ -1 &amp;amp; -1 &amp;amp; 1 \end{bmatrix}, \begin{bmatrix} -1 &amp;amp; 1 &amp;amp; -1 \\ -1 &amp;amp; 1 &amp;amp; -1 \\ -1 &amp;amp; 1 &amp;amp; -1 \end{bmatrix},... ⎣⎡​1−1−1​−11−1​−1−11​⎦⎤​,⎣⎡​−1−1−1​111​−1−1−1​⎦⎤​,...   卷积步骤：对一张拥有 28 × 28 28\times28 28×28像素的图片来说，首先将卷积核放在左上角，跟对应像素位置的值做內积得到一个值。然后向右滑动1个stride（滑动的步长称为stride），继续计算內积。当一行计算完之后，卷积核移动到下一行（移动stride步）的行首，重复以上步骤。最后可以将整张图片的像素用卷积得到的值来表示。   当我们使用n个不同的卷积核时，我们可以得到n组新的值，这时得到的东西称之为Feature Map。我们可以把它想象为一组新的图片，只不过比原来的图片要小，并且原始图片上被卷积核卷过的区域都用n个新的特征值来表示。   可以这样来考虑卷积后的到的特征，对于图片 [ 1 0 0 0 0 1 0 0 0 0 1 0 1 0 1 1 ] \begin{bmatrix} 1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 1 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 1 &amp;amp; 0 \\ 1 &amp;amp; 0 &amp;amp; 1 &amp;amp; 1\end{bmatrix} ⎣⎢⎢⎡​1001​0100​0011​0001​⎦⎥⎥⎤​，我们使用卷积核 [ 1 − 1 − 1 − 1 1 − 1 − 1 − 1 1 ] \begin{bmatrix} 1 &amp;amp; -1 &amp;amp; -1 \\ -1 &amp;amp; 1 &amp;amp; -1 \\ -1 &amp;amp; -1 &amp;amp; 1 \end{bmatrix} ⎣⎡​1−1−1​−11−1​−1−11​⎦⎤​对其进行卷积，对于左上角 3 × 3 3\times3 3×3的区域，其计算公式为 1 × 1 − 1 × 0 − 1 × 0 − 1 × 0 + 1 × 1 − 1 × 0 − 1 × 0 − 1 × 0 + 1 × 1 = 3 1\times1-1\times0-1\times0-1\times0+1\times1-1\times0-1\times0-1\times0+1\times1=3 1×1−1×0−1×0−1×0+1×1−1×0−1×0−1×0+1×1=3。可以发现3这个输出，其实是以[1,0,0,0,1,0,0,0,1]为输入，[1,-1,-1,-1,1,-1,-1,-1,1]权重得到的输出，如果看成是神经网络的形式，其实相当于以卷积区域的值为输入，卷积核作为权重，得到一个输出3。因此卷积后得到的feature map其实是由一个全连接神经网络得到的结果。而由于卷积核是固定不变的，在卷积过程中，我们使用到的卷积也是不变的，因此对于这个全连接神经网络，得到的每个输出，它们的输入对应的权重都是不变，即 权重共享，这使得需要学习的参数量大大减少。 1.2 Max Pooling最大池化   将卷积得到的feature矩阵，比如我们卷积后得到 [ 3 − 1 − 3 − 1 − 3 1 0 − 3 − 3 − 3 0 1 3 − 2 − 2 − 1 ] \begin{bmatrix} 3 &amp;amp; -1 &amp;amp; -3 &amp;amp; -1 \\ -3 &amp;amp; 1 &amp;amp; 0 &amp;amp; -3 \\ -3 &amp;amp; -3 &amp;amp; 0 &amp;amp; 1 \\ 3 &amp;amp; -2 &amp;amp; -2 &amp;amp; -1\end{bmatrix} ⎣⎢⎢⎡​3−3−33​−11−3−2​−300−2​−1−31−1​⎦⎥⎥⎤​，对于Max Pooling来说，它会将这个矩阵分成四块，每一块取其中最大值作为代表值，得到 [ 3 0 3 1 ] \begin{bmatrix} 3 &amp;amp; 0 \\ 3 &amp;amp; 1 \end{bmatrix} [33​01​]，与Max Pooling相对应的，还有Average Pooling平均池化。每次不取最大的，而是取其平均值作为代表。进行池化操作后，我们得到一张新的图片，可以对其重复进行卷积，池化操作，直到其变成我们想要的大小为止。 1.3 Flatten   将上面步骤最后得到的结果拉直，用于后续的全连接层的输入，最终得到整个模型的结果，比如判断一张图片是猫还是狗，到此为止，整个CNN的部分就介绍完了。 2.理解深度学习   理论上我们只需要一层hidden层就可以学到任何的非线性函数，为什么需要多层呢？并且实际上也很有用？   从上面这组实验数据不难发现，当一个参数数量差不多的“高瘦”的模型和“矮胖”的模型相比，“高瘦”模型，也就是深度学习模型的效果更好，并且在只有一层hidden layer的情况下增加神经元数量到16k的数目也不能获得比深度学习更好的效果。   在软件体系架构里面，有一个很重要的步骤就是模块化。比如，当我们需要对一组数据做一次排序，我们通常是将排序封装成一个方法，这样下次需要排序时就只要调用这个方法，而不需要再重新写一次排序。   深度学习其实也是在做类似模块化的步骤。对于一张图片，我们要将其判断出是长发男生，长发女生，短发男生，短发女生四个类型，如果我们直接训练一层hidden layer，恰好其中长发男生的样本很少，那最终学出来的模型不会很好。而如果我们先判断图片中是男生还是女生，是长发还是短发，再将这两个结果组合，最终得到比较好的效果。因为长发和短发的样本是比较均匀的，男生和女生的样本也是比较均匀的，它可以学到一个比较好的基本分类器来判断这两种情况，再由后面的hidden layer进行组合。而在深度学习中，前面的hidden layer就是较为底层的模块，后面的hidden layer使用前一个hidden layer作为模块来构建分类器。" />
<link rel="canonical" href="https://mlh.app/2019/01/09/3add88427889ae48d85036175e65085f.html" />
<meta property="og:url" content="https://mlh.app/2019/01/09/3add88427889ae48d85036175e65085f.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-01-09T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"版权声明：本文为博主原创文章，未经博主允许不得转载。 https://blog.csdn.net/Hemk340200600/article/details/86141314 文章目录 1.卷积神经网络 1.1Convolution 卷积 1.2 Max Pooling最大池化 1.3 Flatten 2.理解深度学习 1.卷积神经网络 1.1Convolution 卷积   卷积核里面的数字是被学出来的。卷积核的大小是认为规定的，以 3 × 3 3\\times3 3×3的卷积核为例， [ 1 − 1 − 1 − 1 1 − 1 − 1 − 1 1 ] , [ − 1 1 − 1 − 1 1 − 1 − 1 1 − 1 ] , . . . \\begin{bmatrix} 1 &amp;amp; -1 &amp;amp; -1 \\\\ -1 &amp;amp; 1 &amp;amp; -1 \\\\ -1 &amp;amp; -1 &amp;amp; 1 \\end{bmatrix}, \\begin{bmatrix} -1 &amp;amp; 1 &amp;amp; -1 \\\\ -1 &amp;amp; 1 &amp;amp; -1 \\\\ -1 &amp;amp; 1 &amp;amp; -1 \\end{bmatrix},... ⎣⎡​1−1−1​−11−1​−1−11​⎦⎤​,⎣⎡​−1−1−1​111​−1−1−1​⎦⎤​,...   卷积步骤：对一张拥有 28 × 28 28\\times28 28×28像素的图片来说，首先将卷积核放在左上角，跟对应像素位置的值做內积得到一个值。然后向右滑动1个stride（滑动的步长称为stride），继续计算內积。当一行计算完之后，卷积核移动到下一行（移动stride步）的行首，重复以上步骤。最后可以将整张图片的像素用卷积得到的值来表示。   当我们使用n个不同的卷积核时，我们可以得到n组新的值，这时得到的东西称之为Feature Map。我们可以把它想象为一组新的图片，只不过比原来的图片要小，并且原始图片上被卷积核卷过的区域都用n个新的特征值来表示。   可以这样来考虑卷积后的到的特征，对于图片 [ 1 0 0 0 0 1 0 0 0 0 1 0 1 0 1 1 ] \\begin{bmatrix} 1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0 \\\\ 0 &amp;amp; 1 &amp;amp; 0 &amp;amp; 0 \\\\ 0 &amp;amp; 0 &amp;amp; 1 &amp;amp; 0 \\\\ 1 &amp;amp; 0 &amp;amp; 1 &amp;amp; 1\\end{bmatrix} ⎣⎢⎢⎡​1001​0100​0011​0001​⎦⎥⎥⎤​，我们使用卷积核 [ 1 − 1 − 1 − 1 1 − 1 − 1 − 1 1 ] \\begin{bmatrix} 1 &amp;amp; -1 &amp;amp; -1 \\\\ -1 &amp;amp; 1 &amp;amp; -1 \\\\ -1 &amp;amp; -1 &amp;amp; 1 \\end{bmatrix} ⎣⎡​1−1−1​−11−1​−1−11​⎦⎤​对其进行卷积，对于左上角 3 × 3 3\\times3 3×3的区域，其计算公式为 1 × 1 − 1 × 0 − 1 × 0 − 1 × 0 + 1 × 1 − 1 × 0 − 1 × 0 − 1 × 0 + 1 × 1 = 3 1\\times1-1\\times0-1\\times0-1\\times0+1\\times1-1\\times0-1\\times0-1\\times0+1\\times1=3 1×1−1×0−1×0−1×0+1×1−1×0−1×0−1×0+1×1=3。可以发现3这个输出，其实是以[1,0,0,0,1,0,0,0,1]为输入，[1,-1,-1,-1,1,-1,-1,-1,1]权重得到的输出，如果看成是神经网络的形式，其实相当于以卷积区域的值为输入，卷积核作为权重，得到一个输出3。因此卷积后得到的feature map其实是由一个全连接神经网络得到的结果。而由于卷积核是固定不变的，在卷积过程中，我们使用到的卷积也是不变的，因此对于这个全连接神经网络，得到的每个输出，它们的输入对应的权重都是不变，即 权重共享，这使得需要学习的参数量大大减少。 1.2 Max Pooling最大池化   将卷积得到的feature矩阵，比如我们卷积后得到 [ 3 − 1 − 3 − 1 − 3 1 0 − 3 − 3 − 3 0 1 3 − 2 − 2 − 1 ] \\begin{bmatrix} 3 &amp;amp; -1 &amp;amp; -3 &amp;amp; -1 \\\\ -3 &amp;amp; 1 &amp;amp; 0 &amp;amp; -3 \\\\ -3 &amp;amp; -3 &amp;amp; 0 &amp;amp; 1 \\\\ 3 &amp;amp; -2 &amp;amp; -2 &amp;amp; -1\\end{bmatrix} ⎣⎢⎢⎡​3−3−33​−11−3−2​−300−2​−1−31−1​⎦⎥⎥⎤​，对于Max Pooling来说，它会将这个矩阵分成四块，每一块取其中最大值作为代表值，得到 [ 3 0 3 1 ] \\begin{bmatrix} 3 &amp;amp; 0 \\\\ 3 &amp;amp; 1 \\end{bmatrix} [33​01​]，与Max Pooling相对应的，还有Average Pooling平均池化。每次不取最大的，而是取其平均值作为代表。进行池化操作后，我们得到一张新的图片，可以对其重复进行卷积，池化操作，直到其变成我们想要的大小为止。 1.3 Flatten   将上面步骤最后得到的结果拉直，用于后续的全连接层的输入，最终得到整个模型的结果，比如判断一张图片是猫还是狗，到此为止，整个CNN的部分就介绍完了。 2.理解深度学习   理论上我们只需要一层hidden层就可以学到任何的非线性函数，为什么需要多层呢？并且实际上也很有用？   从上面这组实验数据不难发现，当一个参数数量差不多的“高瘦”的模型和“矮胖”的模型相比，“高瘦”模型，也就是深度学习模型的效果更好，并且在只有一层hidden layer的情况下增加神经元数量到16k的数目也不能获得比深度学习更好的效果。   在软件体系架构里面，有一个很重要的步骤就是模块化。比如，当我们需要对一组数据做一次排序，我们通常是将排序封装成一个方法，这样下次需要排序时就只要调用这个方法，而不需要再重新写一次排序。   深度学习其实也是在做类似模块化的步骤。对于一张图片，我们要将其判断出是长发男生，长发女生，短发男生，短发女生四个类型，如果我们直接训练一层hidden layer，恰好其中长发男生的样本很少，那最终学出来的模型不会很好。而如果我们先判断图片中是男生还是女生，是长发还是短发，再将这两个结果组合，最终得到比较好的效果。因为长发和短发的样本是比较均匀的，男生和女生的样本也是比较均匀的，它可以学到一个比较好的基本分类器来判断这两种情况，再由后面的hidden layer进行组合。而在深度学习中，前面的hidden layer就是较为底层的模块，后面的hidden layer使用前一个hidden layer作为模块来构建分类器。","@type":"BlogPosting","url":"https://mlh.app/2019/01/09/3add88427889ae48d85036175e65085f.html","headline":"【深度学习】卷积神经网络CNN","dateModified":"2019-01-09T00:00:00+08:00","datePublished":"2019-01-09T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2019/01/09/3add88427889ae48d85036175e65085f.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>【深度学习】卷积神经网络CNN</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <div class="article-copyright">
   版权声明：本文为博主原创文章，未经博主允许不得转载。 https://blog.csdn.net/Hemk340200600/article/details/86141314 
 </div> 
 <div id="content_views" class="markdown_views prism-atom-one-dark"> 
  <!-- flowchart 箭头图标 勿删 --> 
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> 
  <p></p>
  <div class="toc">
   <h3>文章目录</h3>
   <ul>
    <li><a href="#1_2" rel="nofollow">1.卷积神经网络</a></li>
    <ul>
     <li><a href="#11Convolution__3" rel="nofollow">1.1Convolution 卷积</a></li>
     <li><a href="#12_Max_Pooling_13" rel="nofollow">1.2 Max Pooling最大池化</a></li>
     <li><a href="#13_Flatten_16" rel="nofollow">1.3 Flatten</a></li>
    </ul>
    <li><a href="#2_21" rel="nofollow">2.理解深度学习</a></li>
   </ul>
  </div>
  <p></p> 
  <h1><a id="1_2"></a>1.卷积神经网络</h1> 
  <h2><a id="11Convolution__3"></a>1.1Convolution 卷积</h2> 
  <p>  <strong>卷积核</strong>里面的数字是被学出来的。卷积核的大小是认为规定的，以<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mn>
          3
         </mn>
         <mo>
          ×
         </mo>
         <mn>
          3
         </mn>
        </mrow>
        <annotation encoding="application/x-tex">
         3\times3
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">3</span></span></span></span></span>的卷积核为例，<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml">
       <math>
        <semantics>
         <mrow>
          <mrow>
           <mo fence="true">
            [
           </mo>
           <mtable>
            <mtr>
             <mtd>
              <mstyle scriptlevel="0" displaystyle="false">
               <mn>
                1
               </mn>
              </mstyle>
             </mtd>
             <mtd>
              <mstyle scriptlevel="0" displaystyle="false">
               <mrow>
                <mo>
                 −
                </mo>
                <mn>
                 1
                </mn>
               </mrow>
              </mstyle>
             </mtd>
             <mtd>
              <mstyle scriptlevel="0" displaystyle="false">
               <mrow>
                <mo>
                 −
                </mo>
                <mn>
                 1
                </mn>
               </mrow>
              </mstyle>
             </mtd>
            </mtr>
            <mtr>
             <mtd>
              <mstyle scriptlevel="0" displaystyle="false">
               <mrow>
                <mo>
                 −
                </mo>
                <mn>
                 1
                </mn>
               </mrow>
              </mstyle>
             </mtd>
             <mtd>
              <mstyle scriptlevel="0" displaystyle="false">
               <mn>
                1
               </mn>
              </mstyle>
             </mtd>
             <mtd>
              <mstyle scriptlevel="0" displaystyle="false">
               <mrow>
                <mo>
                 −
                </mo>
                <mn>
                 1
                </mn>
               </mrow>
              </mstyle>
             </mtd>
            </mtr>
            <mtr>
             <mtd>
              <mstyle scriptlevel="0" displaystyle="false">
               <mrow>
                <mo>
                 −
                </mo>
                <mn>
                 1
                </mn>
               </mrow>
              </mstyle>
             </mtd>
             <mtd>
              <mstyle scriptlevel="0" displaystyle="false">
               <mrow>
                <mo>
                 −
                </mo>
                <mn>
                 1
                </mn>
               </mrow>
              </mstyle>
             </mtd>
             <mtd>
              <mstyle scriptlevel="0" displaystyle="false">
               <mn>
                1
               </mn>
              </mstyle>
             </mtd>
            </mtr>
           </mtable>
           <mo fence="true">
            ]
           </mo>
          </mrow>
          <mo separator="true">
           ,
          </mo>
          <mrow>
           <mo fence="true">
            [
           </mo>
           <mtable>
            <mtr>
             <mtd>
              <mstyle scriptlevel="0" displaystyle="false">
               <mrow>
                <mo>
                 −
                </mo>
                <mn>
                 1
                </mn>
               </mrow>
              </mstyle>
             </mtd>
             <mtd>
              <mstyle scriptlevel="0" displaystyle="false">
               <mn>
                1
               </mn>
              </mstyle>
             </mtd>
             <mtd>
              <mstyle scriptlevel="0" displaystyle="false">
               <mrow>
                <mo>
                 −
                </mo>
                <mn>
                 1
                </mn>
               </mrow>
              </mstyle>
             </mtd>
            </mtr>
            <mtr>
             <mtd>
              <mstyle scriptlevel="0" displaystyle="false">
               <mrow>
                <mo>
                 −
                </mo>
                <mn>
                 1
                </mn>
               </mrow>
              </mstyle>
             </mtd>
             <mtd>
              <mstyle scriptlevel="0" displaystyle="false">
               <mn>
                1
               </mn>
              </mstyle>
             </mtd>
             <mtd>
              <mstyle scriptlevel="0" displaystyle="false">
               <mrow>
                <mo>
                 −
                </mo>
                <mn>
                 1
                </mn>
               </mrow>
              </mstyle>
             </mtd>
            </mtr>
            <mtr>
             <mtd>
              <mstyle scriptlevel="0" displaystyle="false">
               <mrow>
                <mo>
                 −
                </mo>
                <mn>
                 1
                </mn>
               </mrow>
              </mstyle>
             </mtd>
             <mtd>
              <mstyle scriptlevel="0" displaystyle="false">
               <mn>
                1
               </mn>
              </mstyle>
             </mtd>
             <mtd>
              <mstyle scriptlevel="0" displaystyle="false">
               <mrow>
                <mo>
                 −
                </mo>
                <mn>
                 1
                </mn>
               </mrow>
              </mstyle>
             </mtd>
            </mtr>
           </mtable>
           <mo fence="true">
            ]
           </mo>
          </mrow>
          <mo separator="true">
           ,
          </mo>
          <mi mathvariant="normal">
           .
          </mi>
          <mi mathvariant="normal">
           .
          </mi>
          <mi mathvariant="normal">
           .
          </mi>
         </mrow>
         <annotation encoding="application/x-tex">
           \begin{bmatrix} 1 &amp;amp; -1 &amp;amp; -1 \\ -1 &amp;amp; 1 &amp;amp; -1 \\ -1 &amp;amp; -1 &amp;amp; 1 \end{bmatrix}, \begin{bmatrix} -1 &amp;amp; 1 &amp;amp; -1 \\ -1 &amp;amp; 1 &amp;amp; -1 \\ -1 &amp;amp; 1 &amp;amp; -1 \end{bmatrix},... 
         </annotation>
        </semantics>
       </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 3.60004em; vertical-align: -1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.05002em;"><span class="" style="top: -2.25em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎣</span></span></span><span class="" style="top: -4.05002em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.55002em;"><span class=""></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.05em;"><span class="" style="top: -4.21em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span><span class="" style="top: -3.01em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span class="" style="top: -1.81em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.55em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.05em;"><span class="" style="top: -4.21em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span class="" style="top: -3.01em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span><span class="" style="top: -1.81em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.55em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.05em;"><span class="" style="top: -4.21em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span class="" style="top: -3.01em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span class="" style="top: -1.81em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.55em;"><span class=""></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.05002em;"><span class="" style="top: -2.25em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎦</span></span></span><span class="" style="top: -4.05002em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.55002em;"><span class=""></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.05002em;"><span class="" style="top: -2.25em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎣</span></span></span><span class="" style="top: -4.05002em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.55002em;"><span class=""></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.05em;"><span class="" style="top: -4.21em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span class="" style="top: -3.01em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span class="" style="top: -1.81em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.55em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.05em;"><span class="" style="top: -4.21em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span><span class="" style="top: -3.01em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span><span class="" style="top: -1.81em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.55em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.05em;"><span class="" style="top: -4.21em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span class="" style="top: -3.01em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span class="" style="top: -1.81em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.55em;"><span class=""></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.05002em;"><span class="" style="top: -2.25em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎦</span></span></span><span class="" style="top: -4.05002em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.55002em;"><span class=""></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span></span></span></span><br>   <strong>卷积步骤</strong>：对一张拥有<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mn>
          28
         </mn>
         <mo>
          ×
         </mo>
         <mn>
          28
         </mn>
        </mrow>
        <annotation encoding="application/x-tex">
         28\times28
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">2</span><span class="mord">8</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span><span class="mord">8</span></span></span></span></span>像素的图片来说，首先将卷积核放在左上角，跟对应像素位置的值做內积得到一个值。然后向右滑动1个stride（滑动的步长称为<strong>stride</strong>），继续计算內积。当一行计算完之后，卷积核移动到下一行（移动stride步）的行首，重复以上步骤。最后可以将整张图片的像素用卷积得到的值来表示。<br>   当我们使用n个不同的卷积核时，我们可以得到n组新的值，这时得到的东西称之为Feature Map。我们可以把它想象为一组新的图片，只不过比原来的图片要小，并且原始图片上被卷积核卷过的区域都用n个新的特征值来表示。<br>   可以这样来考虑卷积后的到的特征，对于图片<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mo fence="true">
          [
         </mo>
         <mtable>
          <mtr>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              1
             </mn>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              0
             </mn>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              0
             </mn>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              0
             </mn>
            </mstyle>
           </mtd>
          </mtr>
          <mtr>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              0
             </mn>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              1
             </mn>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              0
             </mn>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              0
             </mn>
            </mstyle>
           </mtd>
          </mtr>
          <mtr>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              0
             </mn>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              0
             </mn>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              1
             </mn>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              0
             </mn>
            </mstyle>
           </mtd>
          </mtr>
          <mtr>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              1
             </mn>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              0
             </mn>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              1
             </mn>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              1
             </mn>
            </mstyle>
           </mtd>
          </mtr>
         </mtable>
         <mo fence="true">
          ]
         </mo>
        </mrow>
        <annotation encoding="application/x-tex">
         \begin{bmatrix} 1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 1 &amp;amp; 0 &amp;amp; 0 \\ 0 &amp;amp; 0 &amp;amp; 1 &amp;amp; 0 \\ 1 &amp;amp; 0 &amp;amp; 1 &amp;amp; 1\end{bmatrix}
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 4.80204em; vertical-align: -2.15003em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.65201em;"><span class="" style="top: -1.64999em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎣</span></span></span><span class="" style="top: -2.80499em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎢</span></span></span><span class="" style="top: -3.40599em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎢</span></span></span><span class="" style="top: -4.65201em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 2.15003em;"><span class=""></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.65em;"><span class="" style="top: -4.81em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span><span class="" style="top: -3.61em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">0</span></span></span><span class="" style="top: -2.41em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">0</span></span></span><span class="" style="top: -1.21em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 2.15em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.65em;"><span class="" style="top: -4.81em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">0</span></span></span><span class="" style="top: -3.61em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span><span class="" style="top: -2.41em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">0</span></span></span><span class="" style="top: -1.21em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 2.15em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.65em;"><span class="" style="top: -4.81em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">0</span></span></span><span class="" style="top: -3.61em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">0</span></span></span><span class="" style="top: -2.41em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span><span class="" style="top: -1.21em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 2.15em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.65em;"><span class="" style="top: -4.81em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">0</span></span></span><span class="" style="top: -3.61em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">0</span></span></span><span class="" style="top: -2.41em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">0</span></span></span><span class="" style="top: -1.21em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 2.15em;"><span class=""></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.65201em;"><span class="" style="top: -1.64999em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎦</span></span></span><span class="" style="top: -2.80499em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎥</span></span></span><span class="" style="top: -3.40599em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎥</span></span></span><span class="" style="top: -4.65201em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 2.15003em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span>，我们使用卷积核<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mo fence="true">
          [
         </mo>
         <mtable>
          <mtr>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              1
             </mn>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mrow>
              <mo>
               −
              </mo>
              <mn>
               1
              </mn>
             </mrow>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mrow>
              <mo>
               −
              </mo>
              <mn>
               1
              </mn>
             </mrow>
            </mstyle>
           </mtd>
          </mtr>
          <mtr>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mrow>
              <mo>
               −
              </mo>
              <mn>
               1
              </mn>
             </mrow>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              1
             </mn>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mrow>
              <mo>
               −
              </mo>
              <mn>
               1
              </mn>
             </mrow>
            </mstyle>
           </mtd>
          </mtr>
          <mtr>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mrow>
              <mo>
               −
              </mo>
              <mn>
               1
              </mn>
             </mrow>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mrow>
              <mo>
               −
              </mo>
              <mn>
               1
              </mn>
             </mrow>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              1
             </mn>
            </mstyle>
           </mtd>
          </mtr>
         </mtable>
         <mo fence="true">
          ]
         </mo>
        </mrow>
        <annotation encoding="application/x-tex">
         \begin{bmatrix} 1 &amp;amp; -1 &amp;amp; -1 \\ -1 &amp;amp; 1 &amp;amp; -1 \\ -1 &amp;amp; -1 &amp;amp; 1 \end{bmatrix}
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 3.60004em; vertical-align: -1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.05002em;"><span class="" style="top: -2.25em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎣</span></span></span><span class="" style="top: -4.05002em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.55002em;"><span class=""></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.05em;"><span class="" style="top: -4.21em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span><span class="" style="top: -3.01em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span class="" style="top: -1.81em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.55em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.05em;"><span class="" style="top: -4.21em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span class="" style="top: -3.01em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span><span class="" style="top: -1.81em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.55em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.05em;"><span class="" style="top: -4.21em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span class="" style="top: -3.01em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span class="" style="top: -1.81em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.55em;"><span class=""></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.05002em;"><span class="" style="top: -2.25em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎦</span></span></span><span class="" style="top: -4.05002em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.55002em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span>对其进行卷积，对于左上角<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mn>
          3
         </mn>
         <mo>
          ×
         </mo>
         <mn>
          3
         </mn>
        </mrow>
        <annotation encoding="application/x-tex">
         3\times3
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">3</span></span></span></span></span>的区域，其计算公式为<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mn>
          1
         </mn>
         <mo>
          ×
         </mo>
         <mn>
          1
         </mn>
         <mo>
          −
         </mo>
         <mn>
          1
         </mn>
         <mo>
          ×
         </mo>
         <mn>
          0
         </mn>
         <mo>
          −
         </mo>
         <mn>
          1
         </mn>
         <mo>
          ×
         </mo>
         <mn>
          0
         </mn>
         <mo>
          −
         </mo>
         <mn>
          1
         </mn>
         <mo>
          ×
         </mo>
         <mn>
          0
         </mn>
         <mo>
          +
         </mo>
         <mn>
          1
         </mn>
         <mo>
          ×
         </mo>
         <mn>
          1
         </mn>
         <mo>
          −
         </mo>
         <mn>
          1
         </mn>
         <mo>
          ×
         </mo>
         <mn>
          0
         </mn>
         <mo>
          −
         </mo>
         <mn>
          1
         </mn>
         <mo>
          ×
         </mo>
         <mn>
          0
         </mn>
         <mo>
          −
         </mo>
         <mn>
          1
         </mn>
         <mo>
          ×
         </mo>
         <mn>
          0
         </mn>
         <mo>
          +
         </mo>
         <mn>
          1
         </mn>
         <mo>
          ×
         </mo>
         <mn>
          1
         </mn>
         <mo>
          =
         </mo>
         <mn>
          3
         </mn>
        </mrow>
        <annotation encoding="application/x-tex">
         1\times1-1\times0-1\times0-1\times0+1\times1-1\times0-1\times0-1\times0+1\times1=3
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">3</span></span></span></span></span>。可以发现3这个输出，其实是以[1,0,0,0,1,0,0,0,1]为输入，[1,-1,-1,-1,1,-1,-1,-1,1]权重得到的输出，如果看成是神经网络的形式，其实相当于以卷积区域的值为输入，卷积核作为权重，得到一个输出3。因此卷积后得到的feature map其实是由一个全连接神经网络得到的结果。而由于卷积核是固定不变的，在卷积过程中，我们使用到的卷积也是不变的，因此对于这个全连接神经网络，得到的每个输出，它们的输入对应的权重都是不变，即 <strong>权重共享</strong>，这使得需要学习的参数量大大减少。</p> 
  <h2><a id="12_Max_Pooling_13"></a>1.2 Max Pooling最大池化</h2> 
  <p>  将卷积得到的feature矩阵，比如我们卷积后得到<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mo fence="true">
          [
         </mo>
         <mtable>
          <mtr>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              3
             </mn>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mrow>
              <mo>
               −
              </mo>
              <mn>
               1
              </mn>
             </mrow>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mrow>
              <mo>
               −
              </mo>
              <mn>
               3
              </mn>
             </mrow>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mrow>
              <mo>
               −
              </mo>
              <mn>
               1
              </mn>
             </mrow>
            </mstyle>
           </mtd>
          </mtr>
          <mtr>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mrow>
              <mo>
               −
              </mo>
              <mn>
               3
              </mn>
             </mrow>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              1
             </mn>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              0
             </mn>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mrow>
              <mo>
               −
              </mo>
              <mn>
               3
              </mn>
             </mrow>
            </mstyle>
           </mtd>
          </mtr>
          <mtr>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mrow>
              <mo>
               −
              </mo>
              <mn>
               3
              </mn>
             </mrow>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mrow>
              <mo>
               −
              </mo>
              <mn>
               3
              </mn>
             </mrow>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              0
             </mn>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              1
             </mn>
            </mstyle>
           </mtd>
          </mtr>
          <mtr>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              3
             </mn>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mrow>
              <mo>
               −
              </mo>
              <mn>
               2
              </mn>
             </mrow>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mrow>
              <mo>
               −
              </mo>
              <mn>
               2
              </mn>
             </mrow>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mrow>
              <mo>
               −
              </mo>
              <mn>
               1
              </mn>
             </mrow>
            </mstyle>
           </mtd>
          </mtr>
         </mtable>
         <mo fence="true">
          ]
         </mo>
        </mrow>
        <annotation encoding="application/x-tex">
         \begin{bmatrix} 3 &amp;amp; -1 &amp;amp; -3 &amp;amp; -1 \\ -3 &amp;amp; 1 &amp;amp; 0 &amp;amp; -3 \\ -3 &amp;amp; -3 &amp;amp; 0 &amp;amp; 1 \\ 3 &amp;amp; -2 &amp;amp; -2 &amp;amp; -1\end{bmatrix}
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 4.80204em; vertical-align: -2.15003em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.65201em;"><span class="" style="top: -1.64999em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎣</span></span></span><span class="" style="top: -2.80499em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎢</span></span></span><span class="" style="top: -3.40599em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎢</span></span></span><span class="" style="top: -4.65201em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 2.15003em;"><span class=""></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.65em;"><span class="" style="top: -4.81em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">3</span></span></span><span class="" style="top: -3.61em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">3</span></span></span><span class="" style="top: -2.41em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">3</span></span></span><span class="" style="top: -1.21em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 2.15em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.65em;"><span class="" style="top: -4.81em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span class="" style="top: -3.61em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span><span class="" style="top: -2.41em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">3</span></span></span><span class="" style="top: -1.21em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 2.15em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.65em;"><span class="" style="top: -4.81em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">3</span></span></span><span class="" style="top: -3.61em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">0</span></span></span><span class="" style="top: -2.41em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">0</span></span></span><span class="" style="top: -1.21em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 2.15em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.65em;"><span class="" style="top: -4.81em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span class="" style="top: -3.61em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">3</span></span></span><span class="" style="top: -2.41em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span><span class="" style="top: -1.21em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 2.15em;"><span class=""></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.65201em;"><span class="" style="top: -1.64999em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎦</span></span></span><span class="" style="top: -2.80499em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎥</span></span></span><span class="" style="top: -3.40599em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎥</span></span></span><span class="" style="top: -4.65201em;"><span class="pstrut" style="height: 3.155em;"></span><span class="delimsizinginner delim-size4"><span class="">⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 2.15003em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span>，对于Max Pooling来说，它会将这个矩阵分成四块，每一块取其中最大值作为代表值，得到<span class="katex--inline"><span class="katex"><span class="katex-mathml">
      <math>
       <semantics>
        <mrow>
         <mo fence="true">
          [
         </mo>
         <mtable>
          <mtr>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              3
             </mn>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              0
             </mn>
            </mstyle>
           </mtd>
          </mtr>
          <mtr>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              3
             </mn>
            </mstyle>
           </mtd>
           <mtd>
            <mstyle scriptlevel="0" displaystyle="false">
             <mn>
              1
             </mn>
            </mstyle>
           </mtd>
          </mtr>
         </mtable>
         <mo fence="true">
          ]
         </mo>
        </mrow>
        <annotation encoding="application/x-tex">
         \begin{bmatrix} 3 &amp;amp; 0 \\ 3 &amp;amp; 1 \end{bmatrix}
        </annotation>
       </semantics>
      </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 2.40003em; vertical-align: -0.95003em;"></span><span class="minner"><span class="mopen delimcenter" style="top: 0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.45em;"><span class="" style="top: -3.61em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">3</span></span></span><span class="" style="top: -2.41em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.95em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="arraycolsep" style="width: 0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.45em;"><span class="" style="top: -3.61em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">0</span></span></span><span class="" style="top: -2.41em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.95em;"><span class=""></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top: 0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span>，与Max Pooling相对应的，还有Average Pooling平均池化。每次不取最大的，而是取其平均值作为代表。进行池化操作后，我们得到一张新的图片，可以对其重复进行卷积，池化操作，直到其变成我们想要的大小为止。</p> 
  <h2><a id="13_Flatten_16"></a>1.3 Flatten</h2> 
  <p>  将上面步骤最后得到的结果拉直，用于后续的全连接层的输入，最终得到整个模型的结果，比如判断一张图片是猫还是狗，到此为止，整个CNN的部分就介绍完了。</p> 
  <p><img src="https://blog.uzzz.org.cn/_p?https://img-blog.csdnimg.cn/20190109151502843.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0hlbWszNDAyMDA2MDA=,size_16,color_FFFFFF,t_70" alt="CNN图解"></p> 
  <h1><a id="2_21"></a>2.理解深度学习</h1> 
  <p>  理论上我们只需要一层hidden层就可以学到任何的非线性函数，为什么需要多层呢？并且实际上也很有用？<br> <img src="https://blog.uzzz.org.cn/_p?https://img-blog.csdnimg.cn/20190109152323980.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0hlbWszNDAyMDA2MDA=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <p>  从上面这组实验数据不难发现，当一个参数数量差不多的“高瘦”的模型和“矮胖”的模型相比，“高瘦”模型，也就是深度学习模型的效果更好，并且在只有一层hidden layer的情况下增加神经元数量到16k的数目也不能获得比深度学习更好的效果。<br>   在软件体系架构里面，有一个很重要的步骤就是<strong>模块化</strong>。比如，当我们需要对一组数据做一次排序，我们通常是将排序封装成一个方法，这样下次需要排序时就只要调用这个方法，而不需要再重新写一次排序。<br> <img src="https://blog.uzzz.org.cn/_p?https://img-blog.csdnimg.cn/20190109153809460.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0hlbWszNDAyMDA2MDA=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> 
  <p>  深度学习其实也是在做类似模块化的步骤。对于一张图片，我们要将其判断出是长发男生，长发女生，短发男生，短发女生四个类型，如果我们直接训练一层hidden layer，恰好其中长发男生的样本很少，那最终学出来的模型不会很好。而如果我们先判断图片中是男生还是女生，是长发还是短发，再将这两个结果组合，最终得到比较好的效果。因为长发和短发的样本是比较均匀的，男生和女生的样本也是比较均匀的，它可以学到一个比较好的基本分类器来判断这两种情况，再由后面的hidden layer进行组合。而在深度学习中，前面的hidden layer就是较为底层的模块，后面的hidden layer使用前一个hidden layer作为模块来构建分类器。</p> 
 </div> 
 <link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-7b4cdcb592.css" rel="stylesheet"> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0d1dbe5a3e5863242418b768d1601633";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
