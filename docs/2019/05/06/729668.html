<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>面试一线互联网大厂？那这道题目你必须得会！ | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="面试一线互联网大厂？那这道题目你必须得会！" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="作者 |&nbsp;中华石杉 责编 | 伍杏玲 本文经授权转载自石杉的架构笔记&nbsp;&nbsp; 这篇文章简单给大家来聊一个互联网大厂的Java面试题：如果让你设计一个消息中间件，你会怎么做？ 这是面试官在考察一个高级以上的Java工程师的系统设计能力。 给你一个平时大家都常用的一个消息中间件作为命题，让你现场开放式发挥，立马开动脑筋说说如果让你来设计这么一个消息中间件。 让你从整体架构、核心流程、数据结构等各个层面来考虑，你会如何完成这个设计？ 其实任何一个面试官都应该知道，如果一个人没有真的做过消息中间件开发的话，是不太可能在短时间内，瞬间给出一套特别靠谱的架构设计方案的。 但是用这个题目作为一个开放式命题，他最大的好处，就是可以尽可能的挖掘出一个候选人的较为真实的系统设计的能力和功底。 为什么这么说呢？ 因为如果面试的时候很多东西都是一些常见的技术问题，比如说： 消息中间件如何保证数据不丢失？ 聊聊Elasticsearch的架构原理以及性能优化？ 你们公司的微服务架构整体如何设计的？ 这些问题相对来说都是比较固定的一些问题。 所谓固定的问题，就是只要你花费时间去学习了相关的技术，或者是在自己所在的公司确实有过一些落地的经验，通常来说就能回答出这些问题。 但是这些问题都不够开放，如果两个候选人都同样具备常规问题的回答能力，那么此时通过一道有深度的开放式问题，就可以把几个人里迅速拉开差距，找出来到底谁的技术功底更加深厚，谁的架构设计能力更加强。 那么本文就从各个角度来引导大家去思考一下，假如让你回答这个问题，你可以从哪些方面入手来现场做一些考虑和回答？ 生产消费模型以及核心数据结构 首先第一个点，消息中间件本身要做的就是可以允许有人来生产消息，还可以允许有人来消费这个消息。 那么这里要考虑的第一个点，就是消息中间件自己本身的核心数据结构。 也就是说，如果有人生产了消息，你作为一个消息中间件，应该如何存储这个数据？ 你会存储在内存里呢？还是存储在磁盘文件里呢？或者两者都同时共存？ 可以先允许数据写入内存作为一个缓冲，然后每隔几秒再把数据刷入磁盘文件中？数据刷入磁盘文件之后，这个磁盘文件有多少个？ 总不能搞一个磁盘文件来存放所有的数据吧？那么按照什么样的规则对磁盘文件做一个拆分？ 数据写入磁盘文件之后，是不是要有相应的一些Metadata来标识这个数据的具体信息？比如这个数据的Offset偏移量，或者是一个内置的唯一ID？ 接着现在数据是被存储在磁盘文件里了，那么此时你如何把数据投递到下游的消费者里去呢？ 你的消费模型是什么样的？比如说一个Queue里的数据，是会均匀分配给消费者的各个实例呢？还是会怎么做呢？ 建议大家可以去研究Kafka底层的文件存储原理，那是非常经典的高性能高并发消息中间件存储架构的实现。 可以参考一下RabbitMQ和Kafka的官网，研究一下不同中间件的消费模型是怎么做的。 支撑TB级数据写入的分布式架构 接着考虑第二个大的问题，消息中间件肯定会遇到每天TB级海量数据高并发高吞吐写入的场景。那么消息中间件的架构如何支撑呢？ 这里就要考虑一下，数据是不是要分布式的存储？ 比如说假如一天写入几百TB的数据，那不可能都放在一台机器上吧？所以数据的分布式存储是不是你要考虑的另外一个很重要的问题？ 是不是要考虑把一个大的数据集合做分片存储，比如说分成N片数据，每个数据分片放在一台机器上，这样就可以充分利用多台机器的资源来承载TB级的大量数据了。 此外还需要考虑，数据分片是不是要可以支撑扩容？ 比如一开始设置的分片数量是10个，存在10台机器上。结果现在发现10台机器都扛不住了，需要扩容到20个分片，放在20台机器上才可以。 是不是要支持数据分片的扩容以及自动数据负载均衡迁移？也就是10个分片的数据自动均匀分配给扩容后的20个分片。 所以这种分布式以及可伸缩的架构，是另外一个非常核心的点。 我个人同样比较建议大家研究一下Kafka在这块的架构设计，非常的优秀，采用了Partition的概念实现数据分片，支持分布式的数据存储，而且还支持动态扩容。 数据宕机场景下的高可用架构 大家此时就要考虑另外一个问题了，就是一旦数据分布式存储之后，那么每台机器上都有一部分数据。 万一这台机器宕机了呢？那么数据是不是就丢失了？ 所以高可用的架构就必须考虑到了。 一般分布式系统实现高可用架构，都是采用多副本冗余机制。 也就是说一份数据在多台机器上都搞一个副本，这样任何一台机器宕机了，数据肯定不会丢失，你还可以继续使用其他机器上的副本数据来支持生产和消费。 同样建议大家，研究一下Kafka的多副本冗余机制，他的每个Partition数据分片都是有多个副本的，任何一台机器宕机，丢失一个数据分片，还有其他机器上的副本分片在，可以支持数据不丢失。 支持数据不丢失的ACK机制 最后再考虑一个问题，消息中间件肯定是要支持数据绝对不丢失的吧？ 那么你必须要支持生产端和消费端的ACK机制，在这里你必须考虑两块ACK机制，一个是生产端，一旦投递了消息，必须要求他将数据比如写入多个副本之后，才返回一个ACK回调响应。 否则要是一直没收到ACK的话，就需要重发一条消息过去，保证生产投递成功。 另外一个是消费端，一旦消费处理成功一条消息了，必须返回一个ACK给消息中间件，然后消息中间件才能删除这条消息。 否则一旦消费者宕机，就必须重发这条消息给其他的消费者实例，保证消息一定会被处理成功。 这块如果大家不清楚，建议一定重看之前的系列文章，我们基于RabbitMQ来阐述的这个数据不丢失的全链路ACK机制。 这种开放式面试题，牵扯了大量的底层细节和架构思想，非常区分不同人的技术水平。如果你简单回答，就本文涉及到的一些东西简单说一说，基本也能过关。 但是如果你想技压群雄，就必须要根据本文每个部分提示的东西，真的去对各种MQ中间件的底层源码进行深入的研究，然后才能在回答这个问题的时候，展现出“碾压其他人”的技术功底和架构实力。 祝你面试成功！ 作者简介：中华石杉，十余年BAT架构经验，倾囊相授。 公众号：石杉的架构笔记（id:shishan100） 【END】 作为码一代，想教码二代却无从下手： 听说少儿编程很火，可它有哪些好处呢？ 孩子多大开始学习比较好呢？又该如何学习呢？ 最新的编程教育政策又有哪些呢？ 下面给大家介绍CSDN新成员：极客宝宝（ID：geek_baby） 戳他了解更多↓↓↓ &nbsp;热 文&nbsp;推 荐&nbsp; ☞工作 10 年，月薪过万者不足三成，程序员却笑了！ ☞红帽取代 Oracle，接管 OpenJDK 8 和 OpenJDK 11 | 极客头条 ☞44 岁的微软下一步是什么？ ☞天才程序员：25 岁进贝尔实验室，32 岁创建信息论 ☞&nbsp;扎心！工作 10 年，月薪过万者不足三成，程序员却笑了 ☞6张图告诉你, 区块链的未来在哪里 ☞我们应聘BAT等互联网公司，关于Spring到底需要掌握什么？ ☞如何确定最佳训练数据集规模？6 大必备“锦囊”全给你了 | 技术头条 ☞&nbsp;她说：为啥程序员都特想要机械键盘？这答案我服！ System.out.println(&quot;点个在看吧！&quot;);console.log(&quot;点个在看吧！&quot;);print(&quot;点个在看吧！&quot;);printf(&quot;点个在看吧！\n&quot;);cout&nbsp;&lt;&lt;&nbsp;&quot;点个在看吧！&quot;&nbsp;&lt;&lt;&nbsp;endl;Console.WriteLine(&quot;点个在看吧！&quot;);Response.Write(&quot;点个在看吧！&quot;);alert(&quot;点个在看吧！&quot;)echo &quot;点个在看吧！&quot; 你点的每个“在看”，我都认真当成了喜欢" />
<meta property="og:description" content="作者 |&nbsp;中华石杉 责编 | 伍杏玲 本文经授权转载自石杉的架构笔记&nbsp;&nbsp; 这篇文章简单给大家来聊一个互联网大厂的Java面试题：如果让你设计一个消息中间件，你会怎么做？ 这是面试官在考察一个高级以上的Java工程师的系统设计能力。 给你一个平时大家都常用的一个消息中间件作为命题，让你现场开放式发挥，立马开动脑筋说说如果让你来设计这么一个消息中间件。 让你从整体架构、核心流程、数据结构等各个层面来考虑，你会如何完成这个设计？ 其实任何一个面试官都应该知道，如果一个人没有真的做过消息中间件开发的话，是不太可能在短时间内，瞬间给出一套特别靠谱的架构设计方案的。 但是用这个题目作为一个开放式命题，他最大的好处，就是可以尽可能的挖掘出一个候选人的较为真实的系统设计的能力和功底。 为什么这么说呢？ 因为如果面试的时候很多东西都是一些常见的技术问题，比如说： 消息中间件如何保证数据不丢失？ 聊聊Elasticsearch的架构原理以及性能优化？ 你们公司的微服务架构整体如何设计的？ 这些问题相对来说都是比较固定的一些问题。 所谓固定的问题，就是只要你花费时间去学习了相关的技术，或者是在自己所在的公司确实有过一些落地的经验，通常来说就能回答出这些问题。 但是这些问题都不够开放，如果两个候选人都同样具备常规问题的回答能力，那么此时通过一道有深度的开放式问题，就可以把几个人里迅速拉开差距，找出来到底谁的技术功底更加深厚，谁的架构设计能力更加强。 那么本文就从各个角度来引导大家去思考一下，假如让你回答这个问题，你可以从哪些方面入手来现场做一些考虑和回答？ 生产消费模型以及核心数据结构 首先第一个点，消息中间件本身要做的就是可以允许有人来生产消息，还可以允许有人来消费这个消息。 那么这里要考虑的第一个点，就是消息中间件自己本身的核心数据结构。 也就是说，如果有人生产了消息，你作为一个消息中间件，应该如何存储这个数据？ 你会存储在内存里呢？还是存储在磁盘文件里呢？或者两者都同时共存？ 可以先允许数据写入内存作为一个缓冲，然后每隔几秒再把数据刷入磁盘文件中？数据刷入磁盘文件之后，这个磁盘文件有多少个？ 总不能搞一个磁盘文件来存放所有的数据吧？那么按照什么样的规则对磁盘文件做一个拆分？ 数据写入磁盘文件之后，是不是要有相应的一些Metadata来标识这个数据的具体信息？比如这个数据的Offset偏移量，或者是一个内置的唯一ID？ 接着现在数据是被存储在磁盘文件里了，那么此时你如何把数据投递到下游的消费者里去呢？ 你的消费模型是什么样的？比如说一个Queue里的数据，是会均匀分配给消费者的各个实例呢？还是会怎么做呢？ 建议大家可以去研究Kafka底层的文件存储原理，那是非常经典的高性能高并发消息中间件存储架构的实现。 可以参考一下RabbitMQ和Kafka的官网，研究一下不同中间件的消费模型是怎么做的。 支撑TB级数据写入的分布式架构 接着考虑第二个大的问题，消息中间件肯定会遇到每天TB级海量数据高并发高吞吐写入的场景。那么消息中间件的架构如何支撑呢？ 这里就要考虑一下，数据是不是要分布式的存储？ 比如说假如一天写入几百TB的数据，那不可能都放在一台机器上吧？所以数据的分布式存储是不是你要考虑的另外一个很重要的问题？ 是不是要考虑把一个大的数据集合做分片存储，比如说分成N片数据，每个数据分片放在一台机器上，这样就可以充分利用多台机器的资源来承载TB级的大量数据了。 此外还需要考虑，数据分片是不是要可以支撑扩容？ 比如一开始设置的分片数量是10个，存在10台机器上。结果现在发现10台机器都扛不住了，需要扩容到20个分片，放在20台机器上才可以。 是不是要支持数据分片的扩容以及自动数据负载均衡迁移？也就是10个分片的数据自动均匀分配给扩容后的20个分片。 所以这种分布式以及可伸缩的架构，是另外一个非常核心的点。 我个人同样比较建议大家研究一下Kafka在这块的架构设计，非常的优秀，采用了Partition的概念实现数据分片，支持分布式的数据存储，而且还支持动态扩容。 数据宕机场景下的高可用架构 大家此时就要考虑另外一个问题了，就是一旦数据分布式存储之后，那么每台机器上都有一部分数据。 万一这台机器宕机了呢？那么数据是不是就丢失了？ 所以高可用的架构就必须考虑到了。 一般分布式系统实现高可用架构，都是采用多副本冗余机制。 也就是说一份数据在多台机器上都搞一个副本，这样任何一台机器宕机了，数据肯定不会丢失，你还可以继续使用其他机器上的副本数据来支持生产和消费。 同样建议大家，研究一下Kafka的多副本冗余机制，他的每个Partition数据分片都是有多个副本的，任何一台机器宕机，丢失一个数据分片，还有其他机器上的副本分片在，可以支持数据不丢失。 支持数据不丢失的ACK机制 最后再考虑一个问题，消息中间件肯定是要支持数据绝对不丢失的吧？ 那么你必须要支持生产端和消费端的ACK机制，在这里你必须考虑两块ACK机制，一个是生产端，一旦投递了消息，必须要求他将数据比如写入多个副本之后，才返回一个ACK回调响应。 否则要是一直没收到ACK的话，就需要重发一条消息过去，保证生产投递成功。 另外一个是消费端，一旦消费处理成功一条消息了，必须返回一个ACK给消息中间件，然后消息中间件才能删除这条消息。 否则一旦消费者宕机，就必须重发这条消息给其他的消费者实例，保证消息一定会被处理成功。 这块如果大家不清楚，建议一定重看之前的系列文章，我们基于RabbitMQ来阐述的这个数据不丢失的全链路ACK机制。 这种开放式面试题，牵扯了大量的底层细节和架构思想，非常区分不同人的技术水平。如果你简单回答，就本文涉及到的一些东西简单说一说，基本也能过关。 但是如果你想技压群雄，就必须要根据本文每个部分提示的东西，真的去对各种MQ中间件的底层源码进行深入的研究，然后才能在回答这个问题的时候，展现出“碾压其他人”的技术功底和架构实力。 祝你面试成功！ 作者简介：中华石杉，十余年BAT架构经验，倾囊相授。 公众号：石杉的架构笔记（id:shishan100） 【END】 作为码一代，想教码二代却无从下手： 听说少儿编程很火，可它有哪些好处呢？ 孩子多大开始学习比较好呢？又该如何学习呢？ 最新的编程教育政策又有哪些呢？ 下面给大家介绍CSDN新成员：极客宝宝（ID：geek_baby） 戳他了解更多↓↓↓ &nbsp;热 文&nbsp;推 荐&nbsp; ☞工作 10 年，月薪过万者不足三成，程序员却笑了！ ☞红帽取代 Oracle，接管 OpenJDK 8 和 OpenJDK 11 | 极客头条 ☞44 岁的微软下一步是什么？ ☞天才程序员：25 岁进贝尔实验室，32 岁创建信息论 ☞&nbsp;扎心！工作 10 年，月薪过万者不足三成，程序员却笑了 ☞6张图告诉你, 区块链的未来在哪里 ☞我们应聘BAT等互联网公司，关于Spring到底需要掌握什么？ ☞如何确定最佳训练数据集规模？6 大必备“锦囊”全给你了 | 技术头条 ☞&nbsp;她说：为啥程序员都特想要机械键盘？这答案我服！ System.out.println(&quot;点个在看吧！&quot;);console.log(&quot;点个在看吧！&quot;);print(&quot;点个在看吧！&quot;);printf(&quot;点个在看吧！\n&quot;);cout&nbsp;&lt;&lt;&nbsp;&quot;点个在看吧！&quot;&nbsp;&lt;&lt;&nbsp;endl;Console.WriteLine(&quot;点个在看吧！&quot;);Response.Write(&quot;点个在看吧！&quot;);alert(&quot;点个在看吧！&quot;)echo &quot;点个在看吧！&quot; 你点的每个“在看”，我都认真当成了喜欢" />
<link rel="canonical" href="https://mlh.app/2019/05/06/729668.html" />
<meta property="og:url" content="https://mlh.app/2019/05/06/729668.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-05-06T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"作者 |&nbsp;中华石杉 责编 | 伍杏玲 本文经授权转载自石杉的架构笔记&nbsp;&nbsp; 这篇文章简单给大家来聊一个互联网大厂的Java面试题：如果让你设计一个消息中间件，你会怎么做？ 这是面试官在考察一个高级以上的Java工程师的系统设计能力。 给你一个平时大家都常用的一个消息中间件作为命题，让你现场开放式发挥，立马开动脑筋说说如果让你来设计这么一个消息中间件。 让你从整体架构、核心流程、数据结构等各个层面来考虑，你会如何完成这个设计？ 其实任何一个面试官都应该知道，如果一个人没有真的做过消息中间件开发的话，是不太可能在短时间内，瞬间给出一套特别靠谱的架构设计方案的。 但是用这个题目作为一个开放式命题，他最大的好处，就是可以尽可能的挖掘出一个候选人的较为真实的系统设计的能力和功底。 为什么这么说呢？ 因为如果面试的时候很多东西都是一些常见的技术问题，比如说： 消息中间件如何保证数据不丢失？ 聊聊Elasticsearch的架构原理以及性能优化？ 你们公司的微服务架构整体如何设计的？ 这些问题相对来说都是比较固定的一些问题。 所谓固定的问题，就是只要你花费时间去学习了相关的技术，或者是在自己所在的公司确实有过一些落地的经验，通常来说就能回答出这些问题。 但是这些问题都不够开放，如果两个候选人都同样具备常规问题的回答能力，那么此时通过一道有深度的开放式问题，就可以把几个人里迅速拉开差距，找出来到底谁的技术功底更加深厚，谁的架构设计能力更加强。 那么本文就从各个角度来引导大家去思考一下，假如让你回答这个问题，你可以从哪些方面入手来现场做一些考虑和回答？ 生产消费模型以及核心数据结构 首先第一个点，消息中间件本身要做的就是可以允许有人来生产消息，还可以允许有人来消费这个消息。 那么这里要考虑的第一个点，就是消息中间件自己本身的核心数据结构。 也就是说，如果有人生产了消息，你作为一个消息中间件，应该如何存储这个数据？ 你会存储在内存里呢？还是存储在磁盘文件里呢？或者两者都同时共存？ 可以先允许数据写入内存作为一个缓冲，然后每隔几秒再把数据刷入磁盘文件中？数据刷入磁盘文件之后，这个磁盘文件有多少个？ 总不能搞一个磁盘文件来存放所有的数据吧？那么按照什么样的规则对磁盘文件做一个拆分？ 数据写入磁盘文件之后，是不是要有相应的一些Metadata来标识这个数据的具体信息？比如这个数据的Offset偏移量，或者是一个内置的唯一ID？ 接着现在数据是被存储在磁盘文件里了，那么此时你如何把数据投递到下游的消费者里去呢？ 你的消费模型是什么样的？比如说一个Queue里的数据，是会均匀分配给消费者的各个实例呢？还是会怎么做呢？ 建议大家可以去研究Kafka底层的文件存储原理，那是非常经典的高性能高并发消息中间件存储架构的实现。 可以参考一下RabbitMQ和Kafka的官网，研究一下不同中间件的消费模型是怎么做的。 支撑TB级数据写入的分布式架构 接着考虑第二个大的问题，消息中间件肯定会遇到每天TB级海量数据高并发高吞吐写入的场景。那么消息中间件的架构如何支撑呢？ 这里就要考虑一下，数据是不是要分布式的存储？ 比如说假如一天写入几百TB的数据，那不可能都放在一台机器上吧？所以数据的分布式存储是不是你要考虑的另外一个很重要的问题？ 是不是要考虑把一个大的数据集合做分片存储，比如说分成N片数据，每个数据分片放在一台机器上，这样就可以充分利用多台机器的资源来承载TB级的大量数据了。 此外还需要考虑，数据分片是不是要可以支撑扩容？ 比如一开始设置的分片数量是10个，存在10台机器上。结果现在发现10台机器都扛不住了，需要扩容到20个分片，放在20台机器上才可以。 是不是要支持数据分片的扩容以及自动数据负载均衡迁移？也就是10个分片的数据自动均匀分配给扩容后的20个分片。 所以这种分布式以及可伸缩的架构，是另外一个非常核心的点。 我个人同样比较建议大家研究一下Kafka在这块的架构设计，非常的优秀，采用了Partition的概念实现数据分片，支持分布式的数据存储，而且还支持动态扩容。 数据宕机场景下的高可用架构 大家此时就要考虑另外一个问题了，就是一旦数据分布式存储之后，那么每台机器上都有一部分数据。 万一这台机器宕机了呢？那么数据是不是就丢失了？ 所以高可用的架构就必须考虑到了。 一般分布式系统实现高可用架构，都是采用多副本冗余机制。 也就是说一份数据在多台机器上都搞一个副本，这样任何一台机器宕机了，数据肯定不会丢失，你还可以继续使用其他机器上的副本数据来支持生产和消费。 同样建议大家，研究一下Kafka的多副本冗余机制，他的每个Partition数据分片都是有多个副本的，任何一台机器宕机，丢失一个数据分片，还有其他机器上的副本分片在，可以支持数据不丢失。 支持数据不丢失的ACK机制 最后再考虑一个问题，消息中间件肯定是要支持数据绝对不丢失的吧？ 那么你必须要支持生产端和消费端的ACK机制，在这里你必须考虑两块ACK机制，一个是生产端，一旦投递了消息，必须要求他将数据比如写入多个副本之后，才返回一个ACK回调响应。 否则要是一直没收到ACK的话，就需要重发一条消息过去，保证生产投递成功。 另外一个是消费端，一旦消费处理成功一条消息了，必须返回一个ACK给消息中间件，然后消息中间件才能删除这条消息。 否则一旦消费者宕机，就必须重发这条消息给其他的消费者实例，保证消息一定会被处理成功。 这块如果大家不清楚，建议一定重看之前的系列文章，我们基于RabbitMQ来阐述的这个数据不丢失的全链路ACK机制。 这种开放式面试题，牵扯了大量的底层细节和架构思想，非常区分不同人的技术水平。如果你简单回答，就本文涉及到的一些东西简单说一说，基本也能过关。 但是如果你想技压群雄，就必须要根据本文每个部分提示的东西，真的去对各种MQ中间件的底层源码进行深入的研究，然后才能在回答这个问题的时候，展现出“碾压其他人”的技术功底和架构实力。 祝你面试成功！ 作者简介：中华石杉，十余年BAT架构经验，倾囊相授。 公众号：石杉的架构笔记（id:shishan100） 【END】 作为码一代，想教码二代却无从下手： 听说少儿编程很火，可它有哪些好处呢？ 孩子多大开始学习比较好呢？又该如何学习呢？ 最新的编程教育政策又有哪些呢？ 下面给大家介绍CSDN新成员：极客宝宝（ID：geek_baby） 戳他了解更多↓↓↓ &nbsp;热 文&nbsp;推 荐&nbsp; ☞工作 10 年，月薪过万者不足三成，程序员却笑了！ ☞红帽取代 Oracle，接管 OpenJDK 8 和 OpenJDK 11 | 极客头条 ☞44 岁的微软下一步是什么？ ☞天才程序员：25 岁进贝尔实验室，32 岁创建信息论 ☞&nbsp;扎心！工作 10 年，月薪过万者不足三成，程序员却笑了 ☞6张图告诉你, 区块链的未来在哪里 ☞我们应聘BAT等互联网公司，关于Spring到底需要掌握什么？ ☞如何确定最佳训练数据集规模？6 大必备“锦囊”全给你了 | 技术头条 ☞&nbsp;她说：为啥程序员都特想要机械键盘？这答案我服！ System.out.println(&quot;点个在看吧！&quot;);console.log(&quot;点个在看吧！&quot;);print(&quot;点个在看吧！&quot;);printf(&quot;点个在看吧！\\n&quot;);cout&nbsp;&lt;&lt;&nbsp;&quot;点个在看吧！&quot;&nbsp;&lt;&lt;&nbsp;endl;Console.WriteLine(&quot;点个在看吧！&quot;);Response.Write(&quot;点个在看吧！&quot;);alert(&quot;点个在看吧！&quot;)echo &quot;点个在看吧！&quot; 你点的每个“在看”，我都认真当成了喜欢","@type":"BlogPosting","url":"https://mlh.app/2019/05/06/729668.html","headline":"面试一线互联网大厂？那这道题目你必须得会！","dateModified":"2019-05-06T00:00:00+08:00","datePublished":"2019-05-06T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2019/05/06/729668.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>面试一线互联网大厂？那这道题目你必须得会！</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <p style="font-variant-numeric: normal;font-variant-east-asian: normal;letter-spacing: 0.544px;line-height: 27.2px;white-space: normal;widows: 1;text-align: center;background-color: rgb(255, 255, 255);"><img class="__bg_gif" data-copyright="0" data-cropselx1="0" data-cropselx2="556" data-cropsely1="0" data-cropsely2="87" data-ratio="0.15644171779141106" data-src="https://mmbiz.qpic.cn/mmbiz_gif/Pn4Sm0RsAujHRSdcX3IznHduusnhVrSgibxlHEaKkBO8A7UcDdDzAnMIA2ZLfuoUKKJrwSA8HPTejcSLotzprZw/640?wx_fmt=gif" data-type="gif" data-w="652" style="width: 556px;visibility: visible !important;height: 87px;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_gif/Pn4Sm0RsAujHRSdcX3IznHduusnhVrSgibxlHEaKkBO8A7UcDdDzAnMIA2ZLfuoUKKJrwSA8HPTejcSLotzprZw/640?wx_fmt=gif"><br></p> 
<section class="" data-tools-id="47339" style="font-variant-numeric: normal;font-variant-east-asian: normal;letter-spacing: 0.544px;line-height: 27.2px;white-space: normal;widows: 1;background-color: rgb(255, 255, 255);"> 
 <section data-width="100%"> 
  <section> 
   <p style="text-align: center;"><img class="" data-copyright="0" data-ratio="0.66625" data-s="300,640" data-type="jpeg" data-w="800" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/1hReHaqafafjQ9PgLjqUPqFVADbLB0U5JbU8aGKlmpuvRsDQmZcicCDmz6qPJoeWUSD7sMAxjbJ4Rpicug0mXUvg/640?wx_fmt=jpeg" style="width: 677px !important;visibility: visible !important;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_jpg/1hReHaqafafjQ9PgLjqUPqFVADbLB0U5JbU8aGKlmpuvRsDQmZcicCDmz6qPJoeWUSD7sMAxjbJ4Rpicug0mXUvg/640?wx_fmt=jpeg"></p> 
   <p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;text-align: right;letter-spacing: 1px;line-height: 1.75em;"><span style="font-size: 15px;color: rgb(136, 136, 136);">作者 |&nbsp;中华石杉</span></p> 
   <p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;text-align: right;letter-spacing: 1px;line-height: normal;"><span style="font-size: 15px;color: rgb(136, 136, 136);">责编 | 伍杏玲</span></p> 
   <p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;line-height: 1.75em;letter-spacing: 1px;text-align: right;"><span style="color: rgb(136, 136, 136);font-size: 15px;">本文经授权转载自石杉的架构笔记</span><span style="font-size: 15px;text-align: justify;">&nbsp;&nbsp;</span></p> 
  </section> 
 </section> 
</section> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">这篇文章简单给大家来聊一个互联网大厂的Java面试题：如果让你设计一个消息中间件，你会怎么做？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">这是面试官在考察一个高级以上的Java工程师的系统设计能力。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">给你一个平时大家都常用的一个消息中间件作为命题，让你现场开放式发挥，立马开动脑筋说说如果让你来设计这么一个消息中间件。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">让你从整体架构、核心流程、数据结构等各个层面来考虑，你会如何完成这个设计？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">其实任何一个面试官都应该知道，如果一个人没有真的做过消息中间件开发的话，是不太可能在短时间内，瞬间给出一套特别靠谱的架构设计方案的。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">但是用这个题目作为一个开放式命题，他最大的好处，就是可以尽可能的挖掘出一个候选人的较为真实的系统设计的能力和功底。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">为什么这么说呢？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">因为如果面试的时候很多东西都是一些常见的技术问题，比如说：</span></p> 
<ul class=" list-paddingleft-2" style="margin-left: 8px;margin-right: 8px;"> 
 <li><p style="margin-bottom: 15px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">消息中间件如何保证数据不丢失？</span></p></li> 
 <li><p style="margin-bottom: 15px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">聊聊Elasticsearch的架构原理以及性能优化？</span></p></li> 
 <li><p style="margin-bottom: 15px;line-height: 1.75em;letter-spacing: 1px;"><span style="font-size: 15px;">你们公司的微服务架构整体如何设计的？</span></p></li> 
</ul> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">这些问题相对来说都是比较固定的一些问题。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">所谓固定的问题，就是只要你花费时间去学习了相关的技术，或者是在自己所在的公司确实有过一些落地的经验，通常来说就能回答出这些问题。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">但是这些问题都不够开放，如果两个候选人都同样具备常规问题的回答能力，那么此时通过一道有深度的开放式问题，就可以把几个人里迅速拉开差距，找出来到底谁的技术功底更加深厚，谁的架构设计能力更加强。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">那么本文就从各个角度来引导大家去思考一下，假如让你回答这个问题，你可以从哪些方面入手来现场做一些考虑和回答？</span></p> 
<p style="font-variant-numeric: normal;font-variant-east-asian: normal;letter-spacing: 0.544px;line-height: 27.2px;white-space: normal;widows: 1;background-color: rgb(255, 255, 255);"><br></p> 
<p style="text-align: center;"><img class="rich_pages" data-copyright="0" data-ratio="0.1625" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhSvZMAt2zKcxGQN3l1NV4LXSAriayI15u06ibNNlXzIcor2tTtgJBKFxkIicJ8tiaRKRaictbrQEssdSg/640?wx_fmt=png" data-type="png" data-w="160" style="" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhSvZMAt2zKcxGQN3l1NV4LXSAriayI15u06ibNNlXzIcor2tTtgJBKFxkIicJ8tiaRKRaictbrQEssdSg/640?wx_fmt=png"></p> 
<section class="" style="font-variant-numeric: normal;font-variant-east-asian: normal;letter-spacing: 0.544px;line-height: 27.2px;white-space: normal;widows: 1;background-color: rgb(255, 255, 255);"> 
 <p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;text-align: center;line-height: 1.75em;letter-spacing: 1px;"><strong><span style="font-size: 18px;">生产消费模型以及核心数据结构</span></strong></p> 
</section> 
<p style="margin-bottom: 15px;font-variant-numeric: normal;font-variant-east-asian: normal;letter-spacing: 0.544px;line-height: 27.2px;white-space: normal;widows: 1;background-color: rgb(255, 255, 255);"><br></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">首先第一个点，消息中间件本身要做的就是可以允许有人来生产消息，还可以允许有人来消费这个消息。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">那么这里要考虑的第一个点，就是消息中间件自己本身的核心数据结构。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">也就是说，如果有人生产了消息，你作为一个消息中间件，应该如何存储这个数据？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">你会存储在内存里呢？还是存储在磁盘文件里呢？或者两者都同时共存？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">可以先允许数据写入内存作为一个缓冲，然后每隔几秒再把数据刷入磁盘文件中？数据刷入磁盘文件之后，这个磁盘文件有多少个？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">总不能搞一个磁盘文件来存放所有的数据吧？那么按照什么样的规则对磁盘文件做一个拆分？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">数据写入磁盘文件之后，是不是要有相应的一些Metadata来标识这个数据的具体信息？比如这个数据的Offset偏移量，或者是一个内置的唯一ID？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">接着现在数据是被存储在磁盘文件里了，那么此时你如何把数据投递到下游的消费者里去呢？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">你的消费模型是什么样的？比如说一个Queue里的数据，是会均匀分配给消费者的各个实例呢？还是会怎么做呢？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">建议大家可以去研究Kafka底层的文件存储原理，那是非常经典的高性能高并发消息中间件存储架构的实现。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">可以参考一下RabbitMQ和Kafka的官网，研究一下不同中间件的消费模型是怎么做的。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;text-align: center;background-color: rgb(255, 255, 255);"><img class="" data-croporisrc="https://mmbiz.qpic.cn/mmbiz_png/1J6IbIcPCLbibftOu6Z3083WGmib6Ar2Lhfhh2iccG8iceKn3gpOG7ibzMm79RwyaiczzibAVwNHmjTHLUnSuGSAAlDTQ/?wx_fmt=png" data-cropx1="0" data-cropx2="528" data-cropy1="0" data-cropy2="286" data-ratio="0.5416666666666666" data-type="jpeg" data-w="528" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/1hReHaqafaf7rXD2dKgjRI8rTA4icnFyCIdcJ2vicEp0lzINktZApWkQ5qDewLMQ62v89Yxnee18YJIreJ9ibsP2A/640?wx_fmt=jpeg" style="width: 528px !important;visibility: visible !important;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_jpg/1hReHaqafaf7rXD2dKgjRI8rTA4icnFyCIdcJ2vicEp0lzINktZApWkQ5qDewLMQ62v89Yxnee18YJIreJ9ibsP2A/640?wx_fmt=jpeg"></p> 
<p style="margin-bottom: 15px;font-variant-numeric: normal;font-variant-east-asian: normal;letter-spacing: 0.544px;line-height: 27.2px;white-space: normal;widows: 1;background-color: rgb(255, 255, 255);"><br></p> 
<p style="text-align: center;"><img class="rich_pages" data-copyright="0" data-ratio="0.1625" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhSvZMAt2zKcxGQN3l1NV4LwYnW1VvkaHWiaL6W1Mr1yiaNLQpxwhyqice9F1yJzMHticssPX515qyvog/640?wx_fmt=png" data-type="png" data-w="160" style="" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhSvZMAt2zKcxGQN3l1NV4LwYnW1VvkaHWiaL6W1Mr1yiaNLQpxwhyqice9F1yJzMHticssPX515qyvog/640?wx_fmt=png"></p> 
<section class="" style="font-variant-numeric: normal;font-variant-east-asian: normal;letter-spacing: 0.544px;line-height: 27.2px;white-space: normal;widows: 1;background-color: rgb(255, 255, 255);"> 
 <p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;text-align: center;line-height: 1.75em;letter-spacing: 1px;"><strong><span style="font-size: 18px;">支撑TB级数据写入的分布式架构</span></strong></p> 
</section> 
<p style="margin-bottom: 15px;font-variant-numeric: normal;font-variant-east-asian: normal;letter-spacing: 0.544px;line-height: 27.2px;white-space: normal;widows: 1;background-color: rgb(255, 255, 255);"><br></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">接着考虑第二个大的问题，消息中间件肯定会遇到每天TB级海量数据高并发高吞吐写入的场景。那么消息中间件的架构如何支撑呢？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">这里就要考虑一下，数据是不是要分布式的存储？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">比如说假如一天写入几百TB的数据，那不可能都放在一台机器上吧？所以数据的分布式存储是不是你要考虑的另外一个很重要的问题？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">是不是要考虑把一个大的数据集合做分片存储，比如说分成N片数据，每个数据分片放在一台机器上，这样就可以充分利用多台机器的资源来承载TB级的大量数据了。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">此外还需要考虑，数据分片是不是要可以支撑扩容？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">比如一开始设置的分片数量是10个，存在10台机器上。结果现在发现10台机器都扛不住了，需要扩容到20个分片，放在20台机器上才可以。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">是不是要支持数据分片的扩容以及自动数据负载均衡迁移？也就是10个分片的数据自动均匀分配给扩容后的20个分片。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">所以这种分布式以及可伸缩的架构，是另外一个非常核心的点。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">我个人同样比较建议大家研究一下Kafka在这块的架构设计，非常的优秀，采用了Partition的概念实现数据分片，支持分布式的数据存储，而且还支持动态扩容。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;text-align: center;background-color: rgb(255, 255, 255);"><img class="" data-croporisrc="https://mmbiz.qpic.cn/mmbiz_png/1J6IbIcPCLbibftOu6Z3083WGmib6Ar2LhqkynxcMiaDRmYibK9ZmLoqWHuruDnL76fWBNibWPfNJx5BWbBad2dle4A/?wx_fmt=png" data-cropx1="0" data-cropx2="546" data-cropy1="0" data-cropy2="441" data-ratio="0.8076923076923077" data-type="jpeg" data-w="546" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/1hReHaqafaf7rXD2dKgjRI8rTA4icnFyCfvG198OhLQicUloXExeH3QMsdUzF9JPtzM3vCibvavAeQ6D8dCLfNnPw/640?wx_fmt=jpeg" style="width: 546px !important;visibility: visible !important;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_jpg/1hReHaqafaf7rXD2dKgjRI8rTA4icnFyCfvG198OhLQicUloXExeH3QMsdUzF9JPtzM3vCibvavAeQ6D8dCLfNnPw/640?wx_fmt=jpeg"></p> 
<p style="font-variant-numeric: normal;font-variant-east-asian: normal;letter-spacing: 0.544px;line-height: 27.2px;white-space: normal;widows: 1;background-color: rgb(255, 255, 255);"><br></p> 
<p style="text-align: center;"><img class="rich_pages" data-copyright="0" data-ratio="0.1625" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhSvZMAt2zKcxGQN3l1NV4Lb4ybNEVGnaAvEDwENKzW27LUKFDGZPKcBneWwTaTpaJyG2C3em7libQ/640?wx_fmt=png" data-type="png" data-w="160" style="" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhSvZMAt2zKcxGQN3l1NV4Lb4ybNEVGnaAvEDwENKzW27LUKFDGZPKcBneWwTaTpaJyG2C3em7libQ/640?wx_fmt=png"></p> 
<section class="" style="font-variant-numeric: normal;font-variant-east-asian: normal;letter-spacing: 0.544px;line-height: 27.2px;white-space: normal;widows: 1;background-color: rgb(255, 255, 255);"> 
 <p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;text-align: center;line-height: 1.75em;letter-spacing: 1px;"><strong><span style="font-size: 18px;">数据宕机场景下的高可用架构</span></strong></p> 
</section> 
<p style="margin-bottom: 15px;font-variant-numeric: normal;font-variant-east-asian: normal;letter-spacing: 0.544px;line-height: 27.2px;white-space: normal;widows: 1;background-color: rgb(255, 255, 255);"><br></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">大家此时就要考虑另外一个问题了，就是一旦数据分布式存储之后，那么每台机器上都有一部分数据。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">万一这台机器宕机了呢？那么数据是不是就丢失了？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">所以高可用的架构就必须考虑到了。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">一般分布式系统实现高可用架构，都是采用<strong>多副本冗余机制</strong>。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">也就是说一份数据在多台机器上都搞一个副本，这样任何一台机器宕机了，数据肯定不会丢失，你还可以继续使用其他机器上的副本数据来支持生产和消费。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">同样建议大家，研究一下Kafka的多副本冗余机制，他的每个Partition数据分片都是有多个副本的，任何一台机器宕机，丢失一个数据分片，还有其他机器上的副本分片在，可以支持数据不丢失。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;text-align: center;background-color: rgb(255, 255, 255);"><img class="" data-croporisrc="https://mmbiz.qpic.cn/mmbiz_png/1J6IbIcPCLbibftOu6Z3083WGmib6Ar2LhAoaH6VEX90U7S56FYYxkgQZFbrLibaNzCJ9nxYTxL2Xw7DpQgK40wwg/?wx_fmt=png" data-cropx1="0" data-cropx2="649" data-cropy1="0" data-cropy2="447.5862068965517" data-ratio="0.6887519260400616" data-type="jpeg" data-w="649" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/1hReHaqafaf7rXD2dKgjRI8rTA4icnFyCnSL0feGePtuUI12JKy5yiboWbHNX9pAja1aXsCQxAOqZgbBqNVnLJDQ/640?wx_fmt=jpeg" style="width: 638px !important;visibility: visible !important;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_jpg/1hReHaqafaf7rXD2dKgjRI8rTA4icnFyCnSL0feGePtuUI12JKy5yiboWbHNX9pAja1aXsCQxAOqZgbBqNVnLJDQ/640?wx_fmt=jpeg"></p> 
<p style="margin-bottom: 15px;font-variant-numeric: normal;font-variant-east-asian: normal;letter-spacing: 0.544px;line-height: 27.2px;white-space: normal;widows: 1;background-color: rgb(255, 255, 255);"><br></p> 
<p style="text-align: center;"><img class="rich_pages" data-copyright="0" data-ratio="0.1625" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhSvZMAt2zKcxGQN3l1NV4LLqyf6BY4rMfY2LsU81MibFjicKDLjMjib5R23h8uo6GtGDY8OufWJfpEw/640?wx_fmt=png" data-type="png" data-w="160" style="" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhSvZMAt2zKcxGQN3l1NV4LLqyf6BY4rMfY2LsU81MibFjicKDLjMjib5R23h8uo6GtGDY8OufWJfpEw/640?wx_fmt=png"></p> 
<section class="" style="font-variant-numeric: normal;font-variant-east-asian: normal;letter-spacing: 0.544px;line-height: 27.2px;white-space: normal;widows: 1;background-color: rgb(255, 255, 255);"> 
 <p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;text-align: center;line-height: 1.75em;letter-spacing: 1px;"><strong><span style="font-size: 18px;">支持数据不丢失的ACK机制</span></strong></p> 
</section> 
<p style="font-variant-numeric: normal;font-variant-east-asian: normal;letter-spacing: 0.544px;line-height: 27.2px;white-space: normal;widows: 1;background-color: rgb(255, 255, 255);"><br></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">最后再考虑一个问题，消息中间件肯定是要支持数据绝对不丢失的吧？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">那么你必须要支持生产端和消费端的ACK机制，</span><span style="font-size: 15px;">在这里你必须考虑两块ACK机制，一个是生产端，一旦投递了消息，必须要求他将数据比如写入多个副本之后，才返回一个ACK回调响应。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">否则要是一直没收到ACK的话，就需要重发一条消息过去，保证生产投递成功。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">另外一个是消费端，一旦消费处理成功一条消息了，必须返回一个ACK给消息中间件，然后消息中间件才能删除这条消息。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">否则一旦消费者宕机，就必须重发这条消息给其他的消费者实例，保证消息一定会被处理成功。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">这块如果大家不清楚，建议一定重看之前的系列文章，我们基于RabbitMQ来阐述的这个数据不丢失的全链路ACK机制。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;text-align: center;background-color: rgb(255, 255, 255);"><img class="" data-croporisrc="https://mmbiz.qpic.cn/mmbiz_png/1J6IbIcPCLbibftOu6Z3083WGmib6Ar2Lhxas1JWhbT8x2cn7yEIrdebfy5Rp1P9yW9vGHyliaDQoK2YnsRSHjV6Q/?wx_fmt=png" data-cropx1="0" data-cropx2="639.9999999999999" data-cropy1="0" data-cropy2="445.39184952978064" data-ratio="0.6953125" data-type="jpeg" data-w="640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/1hReHaqafaf7rXD2dKgjRI8rTA4icnFyCiaNu2cecjIo8UHofwmFccoAEx5Mu5h0fvp5O1BurfZ0dOX8cia8mdfJA/640?wx_fmt=jpeg" style="width: 638px !important;visibility: visible !important;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_jpg/1hReHaqafaf7rXD2dKgjRI8rTA4icnFyCiaNu2cecjIo8UHofwmFccoAEx5Mu5h0fvp5O1BurfZ0dOX8cia8mdfJA/640?wx_fmt=jpeg"></p> 
<p style="font-variant-numeric: normal;font-variant-east-asian: normal;letter-spacing: 0.544px;line-height: 27.2px;white-space: normal;widows: 1;background-color: rgb(255, 255, 255);"><br></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">这种开放式面试题，牵扯了大量的底层细节和架构思想，非常区分不同人的技术水平。如果你简单回答，就本文涉及到的一些东西简单说一说，基本也能过关。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">但是如果你想技压群雄，就必须要根据本文每个部分提示的东西，真的去对各种MQ中间件的底层源码进行深入的研究，然后才能在回答这个问题的时候，展现出“碾压其他人”的技术功底和架构实力。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;font-variant-numeric: normal;font-variant-east-asian: normal;white-space: normal;widows: 1;line-height: 1.75em;letter-spacing: 1px;background-color: rgb(255, 255, 255);"><span style="font-size: 15px;">祝你面试成功！</span></p> 
<blockquote style="color: rgba(0, 0, 0, 0.498);font-variant-numeric: normal;font-variant-east-asian: normal;letter-spacing: 0.544px;white-space: normal;widows: 1;background-color: rgb(255, 255, 255);"> 
 <p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;line-height: 1.75em;letter-spacing: 1px;"><span style="color: rgb(136, 136, 136);">作者简介：中华石杉，十余年BAT架构经验，倾囊相授。</span></p> 
 <p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;line-height: 1.75em;letter-spacing: 1px;"><span style="color: rgb(136, 136, 136);">公众号：石杉的架构笔记（id:shishan100）</span></p> 
</blockquote> 
<p style="white-space: normal;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);text-align: center;"><span style="font-size: 14px;color: rgb(136, 136, 136);">【END】</span></p> 
<p style="text-align: center;margin-left: 8px;margin-right: 8px;margin-bottom: 15px;"><img class="rich_pages" data-copyright="0" data-ratio="0.5482233502538071" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/Pn4Sm0RsAuha00icpm13kvibNc1ebfcQjpgySe2fkicMtiaqgjmTjGspENfMVYJx6URDTibSr3uAEQ867w9ajGwicwag/640?wx_fmt=jpeg" data-type="jpeg" data-w="591" style="" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_jpg/Pn4Sm0RsAuha00icpm13kvibNc1ebfcQjpgySe2fkicMtiaqgjmTjGspENfMVYJx6URDTibSr3uAEQ867w9ajGwicwag/640?wx_fmt=jpeg"></p> 
<p style="white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;margin-left: 8px;margin-right: 8px;margin-bottom: 15px;"><span style="font-size: 15px;">作为码一代，想教码二代却无从下手：</span><br></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;"><span style="font-size: 15px;">听说少儿编程很火，可它有哪些好处呢？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;"><span style="font-size: 15px;">孩子多大开始学习比较好呢？又该如何学习呢？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;"><span style="font-size: 15px;">最新的编程教育政策又有哪些呢？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;"><span style="font-size: 15px;">下面给大家介绍CSDN新成员：<strong>极客宝宝（ID：</strong><strong>geek_baby）</strong></span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;background-color: rgb(255, 255, 255);text-align: center;letter-spacing: 1px;line-height: normal;"><strong><span style="font-size: 14px;color: rgb(0, 82, 255);">戳他了解更多↓↓↓</span></strong><br></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;background-color: rgb(255, 255, 255);text-align: center;line-height: 1.75em;letter-spacing: 1px;"><img class="rich_pages " data-copyright="0" data-cropselx1="180" data-cropselx2="438" data-cropsely1="0" data-cropsely2="258" data-ratio="0.3697916666666667" data-s="300,640" data-type="jpeg" data-w="960" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/Pn4Sm0RsAuh1bcXNq238J3vRKyXya05vbbgCLnCbTPs0mGuVrLHntraYT5MIPrhkqQCmnqobLOf7nkWPh5j6vw/640?wx_fmt=jpeg" style="visibility: visible !important;width: 618px !important;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_jpg/Pn4Sm0RsAuh1bcXNq238J3vRKyXya05vbbgCLnCbTPs0mGuVrLHntraYT5MIPrhkqQCmnqobLOf7nkWPh5j6vw/640?wx_fmt=jpeg"></p> 
<p style="margin-right: 8px;margin-bottom: 10px;margin-left: 8px;white-space: normal;background-color: rgb(255, 255, 255);text-align: center;letter-spacing: 1px;line-height: normal;"><span style="background-color: rgb(0, 82, 255);"><strong style="color: rgb(255, 255, 255);font-size: 15px;"><strong>&nbsp;热 文</strong>&nbsp;推 荐&nbsp;</strong></span></p> 
<p style="margin-right: 8px;margin-bottom: 10px;margin-left: 8px;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;"><span style="font-size: 14px;color: rgb(0, 82, 255);">☞</span><a href="http://mp.weixin.qq.com/s?__biz=MjM5MjAwODM4MA==&amp;mid=2650719459&amp;idx=1&amp;sn=217d9877d34efbae12173849785f5c83&amp;chksm=bea6b53089d13c267ca062391449e230a18653a23a43e5a0af2cd15ea7aa704354153722271e&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><span style="font-size: 14px;color: rgb(0, 82, 255);">工作 10 年，月薪过万者不足三成，程序员却笑了！</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 10px;margin-left: 8px;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;"><span style="font-size: 14px;color: rgb(0, 82, 255);">☞</span><a href="http://mp.weixin.qq.com/s?__biz=MjM5MjAwODM4MA==&amp;mid=2650719459&amp;idx=2&amp;sn=ee3130e19ead463a7052eb3a6b53be34&amp;chksm=bea6b53089d13c2698dbb31b6f7e8e1453e0512ba9a58d7a4bf64a32ab6655600879040c62d4&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><span style="font-size: 14px;color: rgb(0, 82, 255);">红帽取代 Oracle，接管 OpenJDK 8 和 OpenJDK 11 | 极客头条</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 10px;margin-left: 8px;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;"><span style="font-size: 14px;color: rgb(0, 82, 255);">☞</span><a href="http://mp.weixin.qq.com/s?__biz=MjM5MjAwODM4MA==&amp;mid=2650719459&amp;idx=3&amp;sn=6cb988d2ab33e41c6e1bf85161dc4be6&amp;chksm=bea6b53089d13c26944cae9b54d6d53eece313c5276e63a901d920156fa03cc45eb8aa67ce34&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><span style="font-size: 14px;color: rgb(0, 82, 255);">44 岁的微软下一步是什么？</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;"><span style="color: rgb(0, 82, 255);font-size: 14px;">☞</span><a href="http://mp.weixin.qq.com/s?__biz=Mzg3MDA4NDkxMQ==&amp;mid=2247483906&amp;idx=1&amp;sn=028974f5b9a583116b453ea947113916&amp;chksm=ce927a42f9e5f354515bea6a993a29d8358602ba87db2f0ad480d01b4fa80503cf1b679ca39f&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><span style="font-size: 14px;color: rgb(0, 82, 255);">天才程序员：25 岁进贝尔实验室，32 岁创建信息论</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;"><span style="color: rgb(0, 82, 255);font-size: 14px;">☞&nbsp;</span><a href="http://mp.weixin.qq.com/s?__biz=MzA5MzY4NTQwMA==&amp;mid=2651010694&amp;idx=1&amp;sn=2961fbd0a2c64aab2fb9029e3087886b&amp;chksm=8bad8571bcda0c6728507245c9ef8d31513b9c9ba2b0569f63e5d9a30f8650110d2a49df7132&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><span style="font-size: 14px;color: rgb(0, 82, 255);">扎心！工作 10 年，月薪过万者不足三成，程序员却笑了</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;"><span style="font-size: 14px;color: rgb(0, 82, 255);">☞</span><a href="http://mp.weixin.qq.com/s?__biz=MzU2MTE1NDk2Mg==&amp;mid=2247494910&amp;idx=1&amp;sn=b5de3589f59b15a4e5a2f203d4fd87d2&amp;chksm=fc7fb203cb083b15f1764c3da56a3a93298248469ccbb4652b119598e61c1748997b223c8636&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><span style="font-size: 14px;color: rgb(0, 82, 255);">6张图告诉你, 区块链的未来在哪里</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;"><span style="font-size: 14px;color: rgb(0, 82, 255);">☞</span><a href="http://mp.weixin.qq.com/s?__biz=MzA3MjY1MTQwNQ==&amp;mid=2649827523&amp;idx=2&amp;sn=27f4a1910fc8c352b2cc87a00fe6a3df&amp;chksm=871e8f21b06906370895d2776392b5cea29da2197eec2f63b7681c614ed2fd5bc93a36838fd7&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><span style="font-size: 14px;color: rgb(0, 82, 255);">我们应聘BAT等互联网公司，关于Spring到底需要掌握什么？</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;"><span style="font-size: 14px;color: rgb(0, 82, 255);">☞</span><a href="http://mp.weixin.qq.com/s?__biz=MzI0ODcxODk5OA==&amp;mid=2247504786&amp;idx=1&amp;sn=7eb90f5189c22a76ba0d63cff3c0a69f&amp;chksm=e99ee06bdee9697d3c88a257907bc4e139caa03c2604a634b7378e7b5daabb58d0e4a93ebf76&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><span style="font-size: 14px;color: rgb(0, 82, 255);">如何确定最佳训练数据集规模？6 大必备“锦囊”全给你了 | 技术头条</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;"><span style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);color: rgb(0, 82, 255);font-size: 14px;">☞&nbsp;</span><a href="http://mp.weixin.qq.com/s?__biz=MzA5MjcxNjc2Ng==&amp;mid=2650559816&amp;idx=1&amp;sn=380cfd3d18fb987c0073bf1b8289155a&amp;chksm=88601ef9bf1797ef9e671113fdeed0dac0e1750691de9c6a594dd46706f72aeafa9028b57fe5&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><span style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);font-size: 14px;color: rgb(0, 82, 255);">她说：为啥程序员都特想要机械键盘？这答案我服！</span></a></p> 
<section style="white-space: normal;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);"> 
 <section class="" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;"> 
  <pre style="font-size: inherit;color: inherit;line-height: inherit;"><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;padding: 0.5em;font-size: 14px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;background: rgb(34, 34, 34);color: rgb(170, 170, 170);line-height: 1.75em;letter-spacing: 1px;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;">System.out.println(<span class="" style="font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);overflow-wrap: inherit !important;word-break: inherit !important;">"点个在看吧！"</span>);<br>console.log(<span class="" style="font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);overflow-wrap: inherit !important;word-break: inherit !important;">"点个在看吧！"</span>);<br><span class="" style="font-size: inherit;line-height: inherit;color: rgb(50, 170, 238);overflow-wrap: inherit !important;word-break: inherit !important;">print</span>(<span class="" style="font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);overflow-wrap: inherit !important;word-break: inherit !important;">"点个在看吧！"</span>);<br><span class="" style="font-size: inherit;line-height: inherit;color: rgb(50, 170, 238);overflow-wrap: inherit !important;word-break: inherit !important;">printf</span>(<span class="" style="font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);overflow-wrap: inherit !important;word-break: inherit !important;">"点个在看吧！\n"</span>);<br>cout&nbsp;&lt;&lt;&nbsp;<span class="" style="font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);overflow-wrap: inherit !important;word-break: inherit !important;">"点个在看吧！"</span>&nbsp;&lt;&lt;&nbsp;endl;<br>Console.WriteLine(<span class="" style="font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);overflow-wrap: inherit !important;word-break: inherit !important;">"点个在看吧！"</span>);<br>Response.Write(<span class="" style="font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);overflow-wrap: inherit !important;word-break: inherit !important;">"点个在看吧！"</span>);<br><span style="font-variant-numeric: normal;line-height: 24.5px;widows: 1;">alert(</span><span style="font-variant-numeric: normal;line-height: 24.5px;widows: 1;color: rgb(255, 204, 51);">"点个在看吧！"</span><span style="font-variant-numeric: normal;line-height: 24.5px;widows: 1;">)</span><br style="font-variant-numeric: normal;line-height: 24.5px;widows: 1;"><span class="" style="font-size: inherit;font-variant-numeric: normal;line-height: inherit;widows: 1;color: rgb(50, 170, 238);overflow-wrap: inherit !important;word-break: inherit !important;">echo </span><span style="font-variant-numeric: normal;line-height: 24.5px;widows: 1;color: rgb(255, 204, 51);">"点个在看吧！"</span></p></pre> 
 </section> 
</section> 
<section class="" data-tools="135编辑器" data-id="94250" style="white-space: normal;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-width: 0px;border-style: none;border-color: initial;"> 
 <section class="" data-tools="135编辑器" data-id="91842" style="border-width: 0px;border-style: none;border-color: initial;text-align: right;"> 
  <section style="display: inline-block;clear: both;"> 
   <section class="" data-brushtype="text" style="padding: 18px 15px 20px 10px;color: rgb(86, 146, 214);background-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhpplm16ibb8iaib7RoGQ5iaHEdy66AHd7QqL7A2s5icSBE0aw4iaKOKPnXGYxQPhG7VMpbbYV6VJprSh7w/640?wx_fmt=png&quot;);background-repeat: no-repeat;text-align: center;background-size: 100% 100%;font-size: 16px;letter-spacing: 1.5px;"> 
    <section style="display: flex;justify-content: center;align-items: center;"> 
     <section style="margin-left: 2px;width: 20px;"> 
      <img class="" data-ratio="0.8936170212765957" data-type="png" data-w="47" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhpplm16ibb8iaib7RoGQ5iaHEdvAd0o9e1LlUGA2k0Yib222agOxzweXhahA9GuzJcGBg0dA4DzlibxRqw/640?wx_fmt=png" style="margin-bottom: -6px;visibility: visible !important;width: 20px !important;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhpplm16ibb8iaib7RoGQ5iaHEdvAd0o9e1LlUGA2k0Yib222agOxzweXhahA9GuzJcGBg0dA4DzlibxRqw/640?wx_fmt=png"> 
     </section> 
     <section class="" data-brushtype="text" style="font-size: 14px;color: rgb(51, 51, 51);text-align: right;"> 
      <span style="font-family: 楷体, 楷体_GB2312, SimKai;">你点的每个“在看”，我都认真当成了喜欢</span> 
     </section> 
    </section> 
   </section> 
  </section> 
 </section> 
</section>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0d1dbe5a3e5863242418b768d1601633";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
