<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Python 分析 9 万条数据告诉你复仇者联盟谁才是绝对 C 位！ | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Python 分析 9 万条数据告诉你复仇者联盟谁才是绝对 C 位！" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="作者 | 罗昭成 责编 | 唐小引 出品 | CSDN（ID：CSDNnews） 《复联 4》国内上映第十天，程序员的江湖里开始流传这样一个故事，即： 漫威宇宙，其实就讲了一件事情。整个宇宙就好比一个项目组。其中有一群叫作美国队长、钢铁侠、惊奇队长、浩克、索尔等人在维护这个项目，兢兢业业的维护整个项目。 某一天，出现了一个天才程序员，叫灭霸。当他加入到这家公司的时候，他意识到，这个项目已经非常庞大，仅仅是编译，就要几个小时。运行起来负重累累。而服务器资源又非常的有限，老板又不给预算买新机器，如果一直继续这么开发下去，这个项目迟早要出现 P0 事故。于是，他下定决定要把这个项目全面优化，使用用面向对象思想，提取重复代码，业务拆分，算法优化等手段，彻底优化，目标是代码量减少 50%。 美国队长带领的项目组叫复仇者联盟，发现了灭霸程序员的想法后，阻止并警告灭霸说：不要轻易去改老代码！！很容易出 bug 的，代码能跑就行！！ —— 以上来自知乎@郭启军 https://www.zhihu.com/question/321428495/answer/663671132 那么，作为一个写程序员的电影，我们怎么不能用数据来分析一下，喜欢漫威宇宙的观众对《复联 4》的评价呢？ 抓取数据 业界朋友们，在电影分析中，使用猫眼的数据比较多。在本文中，笔者也使用了猫眼的接口来获取数据，方便处理，数据量也比较多。 有关接口，大家可以自己去猫眼的网站上看，也可以使用如下地址： http://m.maoyan.com/mmdb/comments/movie/248172.json?_v_=yes&amp;offset=20&amp;startTime=2019-04-24%2002:56:46 在 Python 中，使用 Request 可以很方便地发送请求，拿到接口返回的 JSON 数据，来看代码： def&nbsp;getMoveinfo(url):&nbsp;&nbsp;&nbsp;&nbsp;session&nbsp;=&nbsp;requests.Session()&nbsp;&nbsp;&nbsp;&nbsp;headers&nbsp;=&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;User-Agent&quot;:&nbsp;&quot;Mozilla/5.0&quot;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Accept&quot;:&nbsp;&quot;text/html,application/xhtml+xml&quot;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Cookie&quot;:&nbsp;&quot;_lxsdk_cuid=&quot;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;session.get(url,&nbsp;headers=headers)&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response.status_code&nbsp;==&nbsp;200:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response.text&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None 请求返回的是一个 JSON 数据，拿到我们想要的评论原始数据，并将数据存储在数据库中： def&nbsp;saveItem(dbName,&nbsp;moveId,&nbsp;id,&nbsp;originalData)&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;conn&nbsp;=&nbsp;sqlite3.connect(dbName)&nbsp;&nbsp;&nbsp;&nbsp;conn.text_factory=str&nbsp;&nbsp;&nbsp;&nbsp;cursor&nbsp;=&nbsp;conn.cursor()&nbsp;&nbsp;&nbsp;&nbsp;ins=&quot;INSERT&nbsp;OR&nbsp;REPLACE&nbsp;INTO&nbsp;comments&nbsp;values&nbsp;(?,?,?)&quot;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;=&nbsp;(id,&nbsp;originalData,&nbsp;moveId)&nbsp;&nbsp;&nbsp;&nbsp;cursor.execute(ins,v)&nbsp;&nbsp;&nbsp;&nbsp;cursor.close()&nbsp;&nbsp;&nbsp;&nbsp;conn.commit()&nbsp;&nbsp;&nbsp;&nbsp;conn.close() 经过大概两个小时，终于从猫眼爬取了大约 9 万条数据。数据库文件已经超过了 100M 了。 数据清洗 因为在上面抓取下来的数据，直接进行了原数据的存储，没有进行数据的解析处理。接口中包含了很多数据，有用户信息、评论信息等。本次分析，只使用了部分数据，所以需要将用到的相关数据清洗出来： def&nbsp;convert(dbName):&nbsp;&nbsp;&nbsp;&nbsp;conn&nbsp;=&nbsp;sqlite3.connect(dbName)&nbsp;&nbsp;&nbsp;&nbsp;conn.text_factory&nbsp;=&nbsp;str&nbsp;&nbsp;&nbsp;&nbsp;cursor&nbsp;=&nbsp;conn.cursor()&nbsp;&nbsp;&nbsp;&nbsp;cursor.execute(&quot;select&nbsp;*&nbsp;from&nbsp;comments&quot;)&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;=&nbsp;cursor.fetchall()&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;commentItem&nbsp;=&nbsp;json.loads(item[1])&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;movieId&nbsp;=&nbsp;item[2]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;insertItem(dbName,&nbsp;movieId,&nbsp;commentItem)&nbsp;&nbsp;&nbsp;&nbsp;cursor.close()&nbsp;&nbsp;&nbsp;&nbsp;conn.commit()&nbsp;&nbsp;&nbsp;&nbsp;conn.close()def&nbsp;insertItem(dbName,&nbsp;movieId,&nbsp;&nbsp;item):&nbsp;&nbsp;&nbsp;&nbsp;conn&nbsp;=&nbsp;sqlite3.connect(dbName)&nbsp;&nbsp;&nbsp;&nbsp;conn.text_factory&nbsp;=&nbsp;str&nbsp;&nbsp;&nbsp;&nbsp;cursor&nbsp;=&nbsp;conn.cursor()&nbsp;&nbsp;&nbsp;&nbsp;sql&nbsp;=&nbsp;&#39;&#39;&#39;&nbsp;&nbsp;&nbsp;&nbsp;INSERT&nbsp;OR&nbsp;REPLACE&nbsp;INTO&nbsp;convertData&nbsp;values(?,?,?,?,?,?,?,?,?)&nbsp;&nbsp;&nbsp;&nbsp;&#39;&#39;&#39;&nbsp;&nbsp;&nbsp;&nbsp;values&nbsp;=&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;id&quot;),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;movieId,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;userId&quot;),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;nickName&quot;),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;score&quot;),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;content&quot;),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;cityName&quot;),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;vipType&quot;),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;startTime&quot;))&nbsp;&nbsp;&nbsp;&nbsp;cursor.execute(sql,&nbsp;values)&nbsp;&nbsp;&nbsp;&nbsp;cursor.close()&nbsp;&nbsp;&nbsp;&nbsp;conn.commit()&nbsp;&nbsp;&nbsp;&nbsp;conn.close() 通过 JSON 库将原始数据解析出来，将我们需要的信息存储到新的数据表中。 数据分析 因为没有任何一个平台能够拿到用户的购票数据，我们只能从评论的数据中，以小见大，从这些数据中，分析出一些走势。 在评论数据中，我们能看到评论用户所在的城市。将数据所在的位置解析，划分到各对应的行政省，可以看到每个省评论数量，见下图（颜色越红，用户评论数量越多）： 城市 从图中可以看到， 上海、广州、四川用户的数量显然要比其他城市的用户数量要多得多。再来看一下代码： data&nbsp;=&nbsp;pd.read_sql(&quot;select&nbsp;*&nbsp;from&nbsp;convertData&quot;,&nbsp;conn)&nbsp;&nbsp;&nbsp;&nbsp;city&nbsp;=&nbsp;data.groupby([&#39;cityName&#39;])&nbsp;&nbsp;&nbsp;&nbsp;city_com&nbsp;=&nbsp;city[&#39;score&#39;].agg([&#39;mean&#39;,&#39;count&#39;])&nbsp;&nbsp;&nbsp;&nbsp;city_com.reset_index(inplace=True)&nbsp;&nbsp;&nbsp;&nbsp;fo&nbsp;=&nbsp;open(&quot;citys.json&quot;,&#39;r&#39;)&nbsp;&nbsp;&nbsp;&nbsp;citys_info&nbsp;=&nbsp;fo.readlines()&nbsp;&nbsp;&nbsp;&nbsp;citysJson&nbsp;=&nbsp;json.loads(str(citys_info[0]))&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;city_com&nbsp;&nbsp;&nbsp;&nbsp;data_map_all&nbsp;=&nbsp;[(getRealName(city_com[&#39;cityName&#39;][i],&nbsp;citysJson),city_com[&#39;count&#39;][i])&nbsp;for&nbsp;i&nbsp;in&nbsp;range(0,city_com.shape[0])]&nbsp;&nbsp;&nbsp;&nbsp;data_map_list&nbsp;=&nbsp;{}&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;data_map_all:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;data_map_list.has_key(item[0]):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;data_map_list[item[0]]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;+=&nbsp;item[1]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_map_list[item[0]]&nbsp;=&nbsp;value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_map_list[item[0]]&nbsp;=&nbsp;item[1]&nbsp;&nbsp;&nbsp;&nbsp;data_map&nbsp;=&nbsp;[(realKeys(key),&nbsp;data_map_list[key]&nbsp;)&nbsp;for&nbsp;key&nbsp;in&nbsp;data_map_list.keys()] 漫威电影一直深受中国朋友们喜欢的高分电影。豆瓣评分 8.7 分，那我们的评论用户中，又是一个什么样的趋势呢？见下图： 评分数 从图中可以看到，评 5 分的数量远高于其他评分，可见中国的观众朋友确实喜欢漫威的科幻电影。 复联从 1 开始便是漫威宇宙各路超级英雄的集结，到现在的第 4 部，更是全英雄的汇聚。那么，在这之中，哪位英雄人物更受观众欢迎？先看代码： attr&nbsp;=&nbsp;[&quot;灭霸&quot;,&quot;美国队长&quot;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;钢铁侠&quot;,&nbsp;&quot;浩克&quot;,&nbsp;&quot;奇异博士&quot;,&nbsp;&nbsp;&quot;蜘蛛侠&quot;,&nbsp;&quot;索尔&quot;&nbsp;,&quot;黑寡妇&quot;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;鹰眼&quot;,&nbsp;&quot;惊奇队长&quot;,&nbsp;&quot;幻视&quot;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;猩红女巫&quot;,&quot;蚁人&quot;,&nbsp;&quot;古一法师&quot;]alias&nbsp;=&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&quot;灭霸&quot;:&nbsp;[&quot;灭霸&quot;,&nbsp;&quot;Thanos&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;美国队长&quot;:&nbsp;[&quot;美国队长&quot;,&nbsp;&quot;美队&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;浩克&quot;:&nbsp;[&quot;浩克&quot;,&nbsp;&quot;绿巨人&quot;,&nbsp;&quot;班纳&quot;,&nbsp;&quot;HULK&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;奇异博士&quot;:&nbsp;[&quot;奇异博士&quot;,&nbsp;&quot;医生&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;钢铁侠&quot;:&nbsp;[&quot;钢铁侠&quot;,&nbsp;&quot;stark&quot;,&nbsp;&quot;斯塔克&quot;,&nbsp;&quot;托尼&quot;,&nbsp;&quot;史塔克&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;蜘蛛侠&quot;:&nbsp;[&quot;蜘蛛侠&quot;,&quot;蜘蛛&quot;,&quot;彼得&quot;,&nbsp;&quot;荷兰弟&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;索尔&quot;:[&quot;索尔&quot;,&nbsp;&quot;雷神&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;黑寡妇&quot;:&nbsp;[&quot;黑寡妇&quot;,&nbsp;&quot;寡姐&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;鹰眼&quot;:[&quot;鹰眼&quot;,&quot;克林顿&quot;,&quot;巴顿&quot;,&quot;克林特&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;惊奇队长&quot;:[&quot;惊奇队长&quot;,&quot;卡罗尔&quot;,&nbsp;&quot;惊奇&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;星云&quot;:[&quot;星云&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;猩红女巫&quot;:&nbsp;[&quot;猩红女巫&quot;,&nbsp;&quot;绯红女巫&quot;,&nbsp;&quot;旺达&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;蚁人&quot;:[&quot;蚁人&quot;,&nbsp;&quot;蚁侠&quot;,&nbsp;&quot;Ant&quot;,&nbsp;&quot;AntMan&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;古一法师&quot;:&nbsp;[&quot;古一&quot;,&nbsp;&quot;古一法师&quot;,&nbsp;&quot;法师&quot;]}v1&nbsp;=&nbsp;[getCommentCount(getAlias(alias,&nbsp;attr[i]))&nbsp;for&nbsp;i&nbsp;in&nbsp;range(0,&nbsp;len(attr))]bar&nbsp;=&nbsp;Bar(&quot;Hiro&quot;)bar.add(&quot;count&quot;,attr,v1,is_stack=True,xaxis_rotate=30,yaxix_min=4.2,&nbsp;&nbsp;&nbsp;&nbsp;xaxis_interval=0,is_splitline_show=True)bar.render(&quot;html/hiro_count.html&quot;) 运行结果如下图，可以看到钢铁侠钢铁侠是实至名归的 C 位，不仅电影在电影中是，在评论区仍然也是实至名归的 C 位，甚至于远超美队、寡姐和雷神： 英雄评论次数 从以上观众分布和评分的数据可以看到，这一部剧，观众朋友还是非常地喜欢。前面，从猫眼拿到了观众的评论数据。现在，笔者将通过 Jieba 把评论进行分词，然后通过 Wordcloud 制作词云，来看看，观众朋友们对《复联》的整体评价： 词云分析 可以看到，灭霸和钢铁侠出现的词频比其他英雄要高很多。这是否表示，这部剧的主角就是他们两个呢？ 细心的朋友应该发现了，钢铁侠、灭霸的数量在词云和评论数量里面不一致。原因在于，评论数量就按评论条数来统计的，而词云中，使用的是词频，同一条评论中，多次出现会多次统计。所以，灭霸出现的次数居然高于了钢铁侠。 最后，再来分析一下钢铁侠与灭霸的情感分析，先上代码： def&nbsp;emotionParser(name):&nbsp;&nbsp;&nbsp;&nbsp;conn&nbsp;=&nbsp;conn&nbsp;=&nbsp;sqlite3.connect(&quot;end.db&quot;)&nbsp;&nbsp;&nbsp;&nbsp;conn.text_factory&nbsp;=&nbsp;str&nbsp;&nbsp;&nbsp;&nbsp;cursor&nbsp;=&nbsp;conn.cursor()&nbsp;&nbsp;&nbsp;&nbsp;likeStr&nbsp;=&nbsp;&quot;like&nbsp;\&quot;%&quot;&nbsp;+&nbsp;name&nbsp;+&nbsp;&quot;%\&quot;&quot;&nbsp;&nbsp;&nbsp;&nbsp;cursor.execute(&quot;select&nbsp;content&nbsp;from&nbsp;convertData&nbsp;where&nbsp;content&nbsp;&quot;&nbsp;+&nbsp;likeStr)&nbsp;&nbsp;&nbsp;&nbsp;values&nbsp;=&nbsp;cursor.fetchall()&nbsp;&nbsp;&nbsp;&nbsp;sentimentslist&nbsp;=&nbsp;[]&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;values:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sentimentslist.append(SnowNLP(item[0].decode(&quot;utf-8&quot;)).sentiments)&nbsp;&nbsp;&nbsp;&nbsp;plt.hist(sentimentslist,&nbsp;bins=np.arange(0,&nbsp;1,&nbsp;0.01),&nbsp;facecolor=&quot;#4F8CD6&quot;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plt.xlabel(&quot;Sentiments&nbsp;Probability&quot;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plt.ylabel(&quot;Quantity&quot;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plt.title(&quot;Analysis&nbsp;of&nbsp;Sentiments&nbsp;for&nbsp;&quot;&nbsp;+&nbsp;name)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plt.show()&nbsp;&nbsp;&nbsp;&nbsp;cursor.close()&nbsp;&nbsp;&nbsp;&nbsp;conn.close() 此处，使用 SnowNLP 来进行情感分析。 情感分析，又称为意见挖掘、倾向性分析等。简单而言，是对带有情感色彩的主观性文本进行分析、处理、归纳和推理的过程。 灭霸 钢铁侠 从图中看到， 钢铁侠的正向情感要比灭霸的正向情感要高，反派角色就是容易被人抗拒。 最最后，从《银河护卫队》时期穿越而来的灭霸在最后分钟变成了粉末消散而去，这也给我们程序员一个警钟： 重构代码，改善设计，降低系统复杂度，这样做很好。但是，一定要保证系统的稳定运行，不留安全隐患，不然，早晚会丢掉自己的工作。 【END】 作为码一代，想教码二代却无从下手： 听说少儿编程很火，可它有哪些好处呢？ 孩子多大开始学习比较好呢？又该如何学习呢？ 最新的编程教育政策又有哪些呢？ 下面给大家介绍CSDN新成员：极客宝宝（ID：geek_baby） 戳他了解更多↓↓↓ &nbsp;热 文&nbsp;推 荐&nbsp; ☞阿里要拆分“大中台”模式？王欣马桶 MT 更名“好记”；苹果支付高通 47 亿美元和解金 | 极客头条 ☞反垃圾江湖风云纪事 | 技术头条 ☞微软发布 VS Code Remote，开启远程开发新时代！ ☞真の硬核粉丝！小学生也参加杨超越杯，作品优秀！ ☞&nbsp;阿里半跪过，任正非差点跳楼，京东被骗光钱：成年人的生活哪有容易二字？ ☞不改变比特币, 如何扩容? ☞强推！盘点阿里巴巴 15 款开发者工具 | 程序员硬核评测 ☞17篇论文入选CVPR 2019，百度AI都在关注什么？（附论文地址） ☞ 她说：为啥程序员都特想要机械键盘？这答案我服！ System.out.println(&quot;点个在看吧！&quot;);console.log(&quot;点个在看吧！&quot;);print(&quot;点个在看吧！&quot;);printf(&quot;点个在看吧！\n&quot;);cout&nbsp;&lt;&lt;&nbsp;&quot;点个在看吧！&quot;&nbsp;&lt;&lt;&nbsp;endl;Console.WriteLine(&quot;点个在看吧！&quot;);Response.Write(&quot;点个在看吧！&quot;);alert(&quot;点个在看吧！&quot;)echo &quot;点个在看吧！&quot; 点击阅读原文，输入关键词，即可搜索您想要的 CSDN 文章。 你点的每个“在看”，我都认真当成了喜欢" />
<meta property="og:description" content="作者 | 罗昭成 责编 | 唐小引 出品 | CSDN（ID：CSDNnews） 《复联 4》国内上映第十天，程序员的江湖里开始流传这样一个故事，即： 漫威宇宙，其实就讲了一件事情。整个宇宙就好比一个项目组。其中有一群叫作美国队长、钢铁侠、惊奇队长、浩克、索尔等人在维护这个项目，兢兢业业的维护整个项目。 某一天，出现了一个天才程序员，叫灭霸。当他加入到这家公司的时候，他意识到，这个项目已经非常庞大，仅仅是编译，就要几个小时。运行起来负重累累。而服务器资源又非常的有限，老板又不给预算买新机器，如果一直继续这么开发下去，这个项目迟早要出现 P0 事故。于是，他下定决定要把这个项目全面优化，使用用面向对象思想，提取重复代码，业务拆分，算法优化等手段，彻底优化，目标是代码量减少 50%。 美国队长带领的项目组叫复仇者联盟，发现了灭霸程序员的想法后，阻止并警告灭霸说：不要轻易去改老代码！！很容易出 bug 的，代码能跑就行！！ —— 以上来自知乎@郭启军 https://www.zhihu.com/question/321428495/answer/663671132 那么，作为一个写程序员的电影，我们怎么不能用数据来分析一下，喜欢漫威宇宙的观众对《复联 4》的评价呢？ 抓取数据 业界朋友们，在电影分析中，使用猫眼的数据比较多。在本文中，笔者也使用了猫眼的接口来获取数据，方便处理，数据量也比较多。 有关接口，大家可以自己去猫眼的网站上看，也可以使用如下地址： http://m.maoyan.com/mmdb/comments/movie/248172.json?_v_=yes&amp;offset=20&amp;startTime=2019-04-24%2002:56:46 在 Python 中，使用 Request 可以很方便地发送请求，拿到接口返回的 JSON 数据，来看代码： def&nbsp;getMoveinfo(url):&nbsp;&nbsp;&nbsp;&nbsp;session&nbsp;=&nbsp;requests.Session()&nbsp;&nbsp;&nbsp;&nbsp;headers&nbsp;=&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;User-Agent&quot;:&nbsp;&quot;Mozilla/5.0&quot;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Accept&quot;:&nbsp;&quot;text/html,application/xhtml+xml&quot;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Cookie&quot;:&nbsp;&quot;_lxsdk_cuid=&quot;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;session.get(url,&nbsp;headers=headers)&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response.status_code&nbsp;==&nbsp;200:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response.text&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None 请求返回的是一个 JSON 数据，拿到我们想要的评论原始数据，并将数据存储在数据库中： def&nbsp;saveItem(dbName,&nbsp;moveId,&nbsp;id,&nbsp;originalData)&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;conn&nbsp;=&nbsp;sqlite3.connect(dbName)&nbsp;&nbsp;&nbsp;&nbsp;conn.text_factory=str&nbsp;&nbsp;&nbsp;&nbsp;cursor&nbsp;=&nbsp;conn.cursor()&nbsp;&nbsp;&nbsp;&nbsp;ins=&quot;INSERT&nbsp;OR&nbsp;REPLACE&nbsp;INTO&nbsp;comments&nbsp;values&nbsp;(?,?,?)&quot;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;=&nbsp;(id,&nbsp;originalData,&nbsp;moveId)&nbsp;&nbsp;&nbsp;&nbsp;cursor.execute(ins,v)&nbsp;&nbsp;&nbsp;&nbsp;cursor.close()&nbsp;&nbsp;&nbsp;&nbsp;conn.commit()&nbsp;&nbsp;&nbsp;&nbsp;conn.close() 经过大概两个小时，终于从猫眼爬取了大约 9 万条数据。数据库文件已经超过了 100M 了。 数据清洗 因为在上面抓取下来的数据，直接进行了原数据的存储，没有进行数据的解析处理。接口中包含了很多数据，有用户信息、评论信息等。本次分析，只使用了部分数据，所以需要将用到的相关数据清洗出来： def&nbsp;convert(dbName):&nbsp;&nbsp;&nbsp;&nbsp;conn&nbsp;=&nbsp;sqlite3.connect(dbName)&nbsp;&nbsp;&nbsp;&nbsp;conn.text_factory&nbsp;=&nbsp;str&nbsp;&nbsp;&nbsp;&nbsp;cursor&nbsp;=&nbsp;conn.cursor()&nbsp;&nbsp;&nbsp;&nbsp;cursor.execute(&quot;select&nbsp;*&nbsp;from&nbsp;comments&quot;)&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;=&nbsp;cursor.fetchall()&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;commentItem&nbsp;=&nbsp;json.loads(item[1])&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;movieId&nbsp;=&nbsp;item[2]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;insertItem(dbName,&nbsp;movieId,&nbsp;commentItem)&nbsp;&nbsp;&nbsp;&nbsp;cursor.close()&nbsp;&nbsp;&nbsp;&nbsp;conn.commit()&nbsp;&nbsp;&nbsp;&nbsp;conn.close()def&nbsp;insertItem(dbName,&nbsp;movieId,&nbsp;&nbsp;item):&nbsp;&nbsp;&nbsp;&nbsp;conn&nbsp;=&nbsp;sqlite3.connect(dbName)&nbsp;&nbsp;&nbsp;&nbsp;conn.text_factory&nbsp;=&nbsp;str&nbsp;&nbsp;&nbsp;&nbsp;cursor&nbsp;=&nbsp;conn.cursor()&nbsp;&nbsp;&nbsp;&nbsp;sql&nbsp;=&nbsp;&#39;&#39;&#39;&nbsp;&nbsp;&nbsp;&nbsp;INSERT&nbsp;OR&nbsp;REPLACE&nbsp;INTO&nbsp;convertData&nbsp;values(?,?,?,?,?,?,?,?,?)&nbsp;&nbsp;&nbsp;&nbsp;&#39;&#39;&#39;&nbsp;&nbsp;&nbsp;&nbsp;values&nbsp;=&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;id&quot;),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;movieId,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;userId&quot;),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;nickName&quot;),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;score&quot;),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;content&quot;),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;cityName&quot;),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;vipType&quot;),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;startTime&quot;))&nbsp;&nbsp;&nbsp;&nbsp;cursor.execute(sql,&nbsp;values)&nbsp;&nbsp;&nbsp;&nbsp;cursor.close()&nbsp;&nbsp;&nbsp;&nbsp;conn.commit()&nbsp;&nbsp;&nbsp;&nbsp;conn.close() 通过 JSON 库将原始数据解析出来，将我们需要的信息存储到新的数据表中。 数据分析 因为没有任何一个平台能够拿到用户的购票数据，我们只能从评论的数据中，以小见大，从这些数据中，分析出一些走势。 在评论数据中，我们能看到评论用户所在的城市。将数据所在的位置解析，划分到各对应的行政省，可以看到每个省评论数量，见下图（颜色越红，用户评论数量越多）： 城市 从图中可以看到， 上海、广州、四川用户的数量显然要比其他城市的用户数量要多得多。再来看一下代码： data&nbsp;=&nbsp;pd.read_sql(&quot;select&nbsp;*&nbsp;from&nbsp;convertData&quot;,&nbsp;conn)&nbsp;&nbsp;&nbsp;&nbsp;city&nbsp;=&nbsp;data.groupby([&#39;cityName&#39;])&nbsp;&nbsp;&nbsp;&nbsp;city_com&nbsp;=&nbsp;city[&#39;score&#39;].agg([&#39;mean&#39;,&#39;count&#39;])&nbsp;&nbsp;&nbsp;&nbsp;city_com.reset_index(inplace=True)&nbsp;&nbsp;&nbsp;&nbsp;fo&nbsp;=&nbsp;open(&quot;citys.json&quot;,&#39;r&#39;)&nbsp;&nbsp;&nbsp;&nbsp;citys_info&nbsp;=&nbsp;fo.readlines()&nbsp;&nbsp;&nbsp;&nbsp;citysJson&nbsp;=&nbsp;json.loads(str(citys_info[0]))&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;city_com&nbsp;&nbsp;&nbsp;&nbsp;data_map_all&nbsp;=&nbsp;[(getRealName(city_com[&#39;cityName&#39;][i],&nbsp;citysJson),city_com[&#39;count&#39;][i])&nbsp;for&nbsp;i&nbsp;in&nbsp;range(0,city_com.shape[0])]&nbsp;&nbsp;&nbsp;&nbsp;data_map_list&nbsp;=&nbsp;{}&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;data_map_all:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;data_map_list.has_key(item[0]):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;data_map_list[item[0]]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;+=&nbsp;item[1]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_map_list[item[0]]&nbsp;=&nbsp;value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_map_list[item[0]]&nbsp;=&nbsp;item[1]&nbsp;&nbsp;&nbsp;&nbsp;data_map&nbsp;=&nbsp;[(realKeys(key),&nbsp;data_map_list[key]&nbsp;)&nbsp;for&nbsp;key&nbsp;in&nbsp;data_map_list.keys()] 漫威电影一直深受中国朋友们喜欢的高分电影。豆瓣评分 8.7 分，那我们的评论用户中，又是一个什么样的趋势呢？见下图： 评分数 从图中可以看到，评 5 分的数量远高于其他评分，可见中国的观众朋友确实喜欢漫威的科幻电影。 复联从 1 开始便是漫威宇宙各路超级英雄的集结，到现在的第 4 部，更是全英雄的汇聚。那么，在这之中，哪位英雄人物更受观众欢迎？先看代码： attr&nbsp;=&nbsp;[&quot;灭霸&quot;,&quot;美国队长&quot;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;钢铁侠&quot;,&nbsp;&quot;浩克&quot;,&nbsp;&quot;奇异博士&quot;,&nbsp;&nbsp;&quot;蜘蛛侠&quot;,&nbsp;&quot;索尔&quot;&nbsp;,&quot;黑寡妇&quot;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;鹰眼&quot;,&nbsp;&quot;惊奇队长&quot;,&nbsp;&quot;幻视&quot;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;猩红女巫&quot;,&quot;蚁人&quot;,&nbsp;&quot;古一法师&quot;]alias&nbsp;=&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&quot;灭霸&quot;:&nbsp;[&quot;灭霸&quot;,&nbsp;&quot;Thanos&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;美国队长&quot;:&nbsp;[&quot;美国队长&quot;,&nbsp;&quot;美队&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;浩克&quot;:&nbsp;[&quot;浩克&quot;,&nbsp;&quot;绿巨人&quot;,&nbsp;&quot;班纳&quot;,&nbsp;&quot;HULK&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;奇异博士&quot;:&nbsp;[&quot;奇异博士&quot;,&nbsp;&quot;医生&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;钢铁侠&quot;:&nbsp;[&quot;钢铁侠&quot;,&nbsp;&quot;stark&quot;,&nbsp;&quot;斯塔克&quot;,&nbsp;&quot;托尼&quot;,&nbsp;&quot;史塔克&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;蜘蛛侠&quot;:&nbsp;[&quot;蜘蛛侠&quot;,&quot;蜘蛛&quot;,&quot;彼得&quot;,&nbsp;&quot;荷兰弟&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;索尔&quot;:[&quot;索尔&quot;,&nbsp;&quot;雷神&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;黑寡妇&quot;:&nbsp;[&quot;黑寡妇&quot;,&nbsp;&quot;寡姐&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;鹰眼&quot;:[&quot;鹰眼&quot;,&quot;克林顿&quot;,&quot;巴顿&quot;,&quot;克林特&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;惊奇队长&quot;:[&quot;惊奇队长&quot;,&quot;卡罗尔&quot;,&nbsp;&quot;惊奇&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;星云&quot;:[&quot;星云&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;猩红女巫&quot;:&nbsp;[&quot;猩红女巫&quot;,&nbsp;&quot;绯红女巫&quot;,&nbsp;&quot;旺达&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;蚁人&quot;:[&quot;蚁人&quot;,&nbsp;&quot;蚁侠&quot;,&nbsp;&quot;Ant&quot;,&nbsp;&quot;AntMan&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;古一法师&quot;:&nbsp;[&quot;古一&quot;,&nbsp;&quot;古一法师&quot;,&nbsp;&quot;法师&quot;]}v1&nbsp;=&nbsp;[getCommentCount(getAlias(alias,&nbsp;attr[i]))&nbsp;for&nbsp;i&nbsp;in&nbsp;range(0,&nbsp;len(attr))]bar&nbsp;=&nbsp;Bar(&quot;Hiro&quot;)bar.add(&quot;count&quot;,attr,v1,is_stack=True,xaxis_rotate=30,yaxix_min=4.2,&nbsp;&nbsp;&nbsp;&nbsp;xaxis_interval=0,is_splitline_show=True)bar.render(&quot;html/hiro_count.html&quot;) 运行结果如下图，可以看到钢铁侠钢铁侠是实至名归的 C 位，不仅电影在电影中是，在评论区仍然也是实至名归的 C 位，甚至于远超美队、寡姐和雷神： 英雄评论次数 从以上观众分布和评分的数据可以看到，这一部剧，观众朋友还是非常地喜欢。前面，从猫眼拿到了观众的评论数据。现在，笔者将通过 Jieba 把评论进行分词，然后通过 Wordcloud 制作词云，来看看，观众朋友们对《复联》的整体评价： 词云分析 可以看到，灭霸和钢铁侠出现的词频比其他英雄要高很多。这是否表示，这部剧的主角就是他们两个呢？ 细心的朋友应该发现了，钢铁侠、灭霸的数量在词云和评论数量里面不一致。原因在于，评论数量就按评论条数来统计的，而词云中，使用的是词频，同一条评论中，多次出现会多次统计。所以，灭霸出现的次数居然高于了钢铁侠。 最后，再来分析一下钢铁侠与灭霸的情感分析，先上代码： def&nbsp;emotionParser(name):&nbsp;&nbsp;&nbsp;&nbsp;conn&nbsp;=&nbsp;conn&nbsp;=&nbsp;sqlite3.connect(&quot;end.db&quot;)&nbsp;&nbsp;&nbsp;&nbsp;conn.text_factory&nbsp;=&nbsp;str&nbsp;&nbsp;&nbsp;&nbsp;cursor&nbsp;=&nbsp;conn.cursor()&nbsp;&nbsp;&nbsp;&nbsp;likeStr&nbsp;=&nbsp;&quot;like&nbsp;\&quot;%&quot;&nbsp;+&nbsp;name&nbsp;+&nbsp;&quot;%\&quot;&quot;&nbsp;&nbsp;&nbsp;&nbsp;cursor.execute(&quot;select&nbsp;content&nbsp;from&nbsp;convertData&nbsp;where&nbsp;content&nbsp;&quot;&nbsp;+&nbsp;likeStr)&nbsp;&nbsp;&nbsp;&nbsp;values&nbsp;=&nbsp;cursor.fetchall()&nbsp;&nbsp;&nbsp;&nbsp;sentimentslist&nbsp;=&nbsp;[]&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;values:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sentimentslist.append(SnowNLP(item[0].decode(&quot;utf-8&quot;)).sentiments)&nbsp;&nbsp;&nbsp;&nbsp;plt.hist(sentimentslist,&nbsp;bins=np.arange(0,&nbsp;1,&nbsp;0.01),&nbsp;facecolor=&quot;#4F8CD6&quot;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plt.xlabel(&quot;Sentiments&nbsp;Probability&quot;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plt.ylabel(&quot;Quantity&quot;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plt.title(&quot;Analysis&nbsp;of&nbsp;Sentiments&nbsp;for&nbsp;&quot;&nbsp;+&nbsp;name)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plt.show()&nbsp;&nbsp;&nbsp;&nbsp;cursor.close()&nbsp;&nbsp;&nbsp;&nbsp;conn.close() 此处，使用 SnowNLP 来进行情感分析。 情感分析，又称为意见挖掘、倾向性分析等。简单而言，是对带有情感色彩的主观性文本进行分析、处理、归纳和推理的过程。 灭霸 钢铁侠 从图中看到， 钢铁侠的正向情感要比灭霸的正向情感要高，反派角色就是容易被人抗拒。 最最后，从《银河护卫队》时期穿越而来的灭霸在最后分钟变成了粉末消散而去，这也给我们程序员一个警钟： 重构代码，改善设计，降低系统复杂度，这样做很好。但是，一定要保证系统的稳定运行，不留安全隐患，不然，早晚会丢掉自己的工作。 【END】 作为码一代，想教码二代却无从下手： 听说少儿编程很火，可它有哪些好处呢？ 孩子多大开始学习比较好呢？又该如何学习呢？ 最新的编程教育政策又有哪些呢？ 下面给大家介绍CSDN新成员：极客宝宝（ID：geek_baby） 戳他了解更多↓↓↓ &nbsp;热 文&nbsp;推 荐&nbsp; ☞阿里要拆分“大中台”模式？王欣马桶 MT 更名“好记”；苹果支付高通 47 亿美元和解金 | 极客头条 ☞反垃圾江湖风云纪事 | 技术头条 ☞微软发布 VS Code Remote，开启远程开发新时代！ ☞真の硬核粉丝！小学生也参加杨超越杯，作品优秀！ ☞&nbsp;阿里半跪过，任正非差点跳楼，京东被骗光钱：成年人的生活哪有容易二字？ ☞不改变比特币, 如何扩容? ☞强推！盘点阿里巴巴 15 款开发者工具 | 程序员硬核评测 ☞17篇论文入选CVPR 2019，百度AI都在关注什么？（附论文地址） ☞ 她说：为啥程序员都特想要机械键盘？这答案我服！ System.out.println(&quot;点个在看吧！&quot;);console.log(&quot;点个在看吧！&quot;);print(&quot;点个在看吧！&quot;);printf(&quot;点个在看吧！\n&quot;);cout&nbsp;&lt;&lt;&nbsp;&quot;点个在看吧！&quot;&nbsp;&lt;&lt;&nbsp;endl;Console.WriteLine(&quot;点个在看吧！&quot;);Response.Write(&quot;点个在看吧！&quot;);alert(&quot;点个在看吧！&quot;)echo &quot;点个在看吧！&quot; 点击阅读原文，输入关键词，即可搜索您想要的 CSDN 文章。 你点的每个“在看”，我都认真当成了喜欢" />
<link rel="canonical" href="https://mlh.app/2019/05/06/729678.html" />
<meta property="og:url" content="https://mlh.app/2019/05/06/729678.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-05-06T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"作者 | 罗昭成 责编 | 唐小引 出品 | CSDN（ID：CSDNnews） 《复联 4》国内上映第十天，程序员的江湖里开始流传这样一个故事，即： 漫威宇宙，其实就讲了一件事情。整个宇宙就好比一个项目组。其中有一群叫作美国队长、钢铁侠、惊奇队长、浩克、索尔等人在维护这个项目，兢兢业业的维护整个项目。 某一天，出现了一个天才程序员，叫灭霸。当他加入到这家公司的时候，他意识到，这个项目已经非常庞大，仅仅是编译，就要几个小时。运行起来负重累累。而服务器资源又非常的有限，老板又不给预算买新机器，如果一直继续这么开发下去，这个项目迟早要出现 P0 事故。于是，他下定决定要把这个项目全面优化，使用用面向对象思想，提取重复代码，业务拆分，算法优化等手段，彻底优化，目标是代码量减少 50%。 美国队长带领的项目组叫复仇者联盟，发现了灭霸程序员的想法后，阻止并警告灭霸说：不要轻易去改老代码！！很容易出 bug 的，代码能跑就行！！ —— 以上来自知乎@郭启军 https://www.zhihu.com/question/321428495/answer/663671132 那么，作为一个写程序员的电影，我们怎么不能用数据来分析一下，喜欢漫威宇宙的观众对《复联 4》的评价呢？ 抓取数据 业界朋友们，在电影分析中，使用猫眼的数据比较多。在本文中，笔者也使用了猫眼的接口来获取数据，方便处理，数据量也比较多。 有关接口，大家可以自己去猫眼的网站上看，也可以使用如下地址： http://m.maoyan.com/mmdb/comments/movie/248172.json?_v_=yes&amp;offset=20&amp;startTime=2019-04-24%2002:56:46 在 Python 中，使用 Request 可以很方便地发送请求，拿到接口返回的 JSON 数据，来看代码： def&nbsp;getMoveinfo(url):&nbsp;&nbsp;&nbsp;&nbsp;session&nbsp;=&nbsp;requests.Session()&nbsp;&nbsp;&nbsp;&nbsp;headers&nbsp;=&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;User-Agent&quot;:&nbsp;&quot;Mozilla/5.0&quot;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Accept&quot;:&nbsp;&quot;text/html,application/xhtml+xml&quot;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Cookie&quot;:&nbsp;&quot;_lxsdk_cuid=&quot;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;session.get(url,&nbsp;headers=headers)&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response.status_code&nbsp;==&nbsp;200:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response.text&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None 请求返回的是一个 JSON 数据，拿到我们想要的评论原始数据，并将数据存储在数据库中： def&nbsp;saveItem(dbName,&nbsp;moveId,&nbsp;id,&nbsp;originalData)&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;conn&nbsp;=&nbsp;sqlite3.connect(dbName)&nbsp;&nbsp;&nbsp;&nbsp;conn.text_factory=str&nbsp;&nbsp;&nbsp;&nbsp;cursor&nbsp;=&nbsp;conn.cursor()&nbsp;&nbsp;&nbsp;&nbsp;ins=&quot;INSERT&nbsp;OR&nbsp;REPLACE&nbsp;INTO&nbsp;comments&nbsp;values&nbsp;(?,?,?)&quot;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;=&nbsp;(id,&nbsp;originalData,&nbsp;moveId)&nbsp;&nbsp;&nbsp;&nbsp;cursor.execute(ins,v)&nbsp;&nbsp;&nbsp;&nbsp;cursor.close()&nbsp;&nbsp;&nbsp;&nbsp;conn.commit()&nbsp;&nbsp;&nbsp;&nbsp;conn.close() 经过大概两个小时，终于从猫眼爬取了大约 9 万条数据。数据库文件已经超过了 100M 了。 数据清洗 因为在上面抓取下来的数据，直接进行了原数据的存储，没有进行数据的解析处理。接口中包含了很多数据，有用户信息、评论信息等。本次分析，只使用了部分数据，所以需要将用到的相关数据清洗出来： def&nbsp;convert(dbName):&nbsp;&nbsp;&nbsp;&nbsp;conn&nbsp;=&nbsp;sqlite3.connect(dbName)&nbsp;&nbsp;&nbsp;&nbsp;conn.text_factory&nbsp;=&nbsp;str&nbsp;&nbsp;&nbsp;&nbsp;cursor&nbsp;=&nbsp;conn.cursor()&nbsp;&nbsp;&nbsp;&nbsp;cursor.execute(&quot;select&nbsp;*&nbsp;from&nbsp;comments&quot;)&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;=&nbsp;cursor.fetchall()&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;data:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;commentItem&nbsp;=&nbsp;json.loads(item[1])&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;movieId&nbsp;=&nbsp;item[2]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;insertItem(dbName,&nbsp;movieId,&nbsp;commentItem)&nbsp;&nbsp;&nbsp;&nbsp;cursor.close()&nbsp;&nbsp;&nbsp;&nbsp;conn.commit()&nbsp;&nbsp;&nbsp;&nbsp;conn.close()def&nbsp;insertItem(dbName,&nbsp;movieId,&nbsp;&nbsp;item):&nbsp;&nbsp;&nbsp;&nbsp;conn&nbsp;=&nbsp;sqlite3.connect(dbName)&nbsp;&nbsp;&nbsp;&nbsp;conn.text_factory&nbsp;=&nbsp;str&nbsp;&nbsp;&nbsp;&nbsp;cursor&nbsp;=&nbsp;conn.cursor()&nbsp;&nbsp;&nbsp;&nbsp;sql&nbsp;=&nbsp;&#39;&#39;&#39;&nbsp;&nbsp;&nbsp;&nbsp;INSERT&nbsp;OR&nbsp;REPLACE&nbsp;INTO&nbsp;convertData&nbsp;values(?,?,?,?,?,?,?,?,?)&nbsp;&nbsp;&nbsp;&nbsp;&#39;&#39;&#39;&nbsp;&nbsp;&nbsp;&nbsp;values&nbsp;=&nbsp;(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;id&quot;),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;movieId,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;userId&quot;),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;nickName&quot;),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;score&quot;),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;content&quot;),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;cityName&quot;),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;vipType&quot;),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;&quot;startTime&quot;))&nbsp;&nbsp;&nbsp;&nbsp;cursor.execute(sql,&nbsp;values)&nbsp;&nbsp;&nbsp;&nbsp;cursor.close()&nbsp;&nbsp;&nbsp;&nbsp;conn.commit()&nbsp;&nbsp;&nbsp;&nbsp;conn.close() 通过 JSON 库将原始数据解析出来，将我们需要的信息存储到新的数据表中。 数据分析 因为没有任何一个平台能够拿到用户的购票数据，我们只能从评论的数据中，以小见大，从这些数据中，分析出一些走势。 在评论数据中，我们能看到评论用户所在的城市。将数据所在的位置解析，划分到各对应的行政省，可以看到每个省评论数量，见下图（颜色越红，用户评论数量越多）： 城市 从图中可以看到， 上海、广州、四川用户的数量显然要比其他城市的用户数量要多得多。再来看一下代码： data&nbsp;=&nbsp;pd.read_sql(&quot;select&nbsp;*&nbsp;from&nbsp;convertData&quot;,&nbsp;conn)&nbsp;&nbsp;&nbsp;&nbsp;city&nbsp;=&nbsp;data.groupby([&#39;cityName&#39;])&nbsp;&nbsp;&nbsp;&nbsp;city_com&nbsp;=&nbsp;city[&#39;score&#39;].agg([&#39;mean&#39;,&#39;count&#39;])&nbsp;&nbsp;&nbsp;&nbsp;city_com.reset_index(inplace=True)&nbsp;&nbsp;&nbsp;&nbsp;fo&nbsp;=&nbsp;open(&quot;citys.json&quot;,&#39;r&#39;)&nbsp;&nbsp;&nbsp;&nbsp;citys_info&nbsp;=&nbsp;fo.readlines()&nbsp;&nbsp;&nbsp;&nbsp;citysJson&nbsp;=&nbsp;json.loads(str(citys_info[0]))&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;city_com&nbsp;&nbsp;&nbsp;&nbsp;data_map_all&nbsp;=&nbsp;[(getRealName(city_com[&#39;cityName&#39;][i],&nbsp;citysJson),city_com[&#39;count&#39;][i])&nbsp;for&nbsp;i&nbsp;in&nbsp;range(0,city_com.shape[0])]&nbsp;&nbsp;&nbsp;&nbsp;data_map_list&nbsp;=&nbsp;{}&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;data_map_all:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;data_map_list.has_key(item[0]):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;data_map_list[item[0]]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;+=&nbsp;item[1]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_map_list[item[0]]&nbsp;=&nbsp;value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_map_list[item[0]]&nbsp;=&nbsp;item[1]&nbsp;&nbsp;&nbsp;&nbsp;data_map&nbsp;=&nbsp;[(realKeys(key),&nbsp;data_map_list[key]&nbsp;)&nbsp;for&nbsp;key&nbsp;in&nbsp;data_map_list.keys()] 漫威电影一直深受中国朋友们喜欢的高分电影。豆瓣评分 8.7 分，那我们的评论用户中，又是一个什么样的趋势呢？见下图： 评分数 从图中可以看到，评 5 分的数量远高于其他评分，可见中国的观众朋友确实喜欢漫威的科幻电影。 复联从 1 开始便是漫威宇宙各路超级英雄的集结，到现在的第 4 部，更是全英雄的汇聚。那么，在这之中，哪位英雄人物更受观众欢迎？先看代码： attr&nbsp;=&nbsp;[&quot;灭霸&quot;,&quot;美国队长&quot;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;钢铁侠&quot;,&nbsp;&quot;浩克&quot;,&nbsp;&quot;奇异博士&quot;,&nbsp;&nbsp;&quot;蜘蛛侠&quot;,&nbsp;&quot;索尔&quot;&nbsp;,&quot;黑寡妇&quot;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;鹰眼&quot;,&nbsp;&quot;惊奇队长&quot;,&nbsp;&quot;幻视&quot;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;猩红女巫&quot;,&quot;蚁人&quot;,&nbsp;&quot;古一法师&quot;]alias&nbsp;=&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&quot;灭霸&quot;:&nbsp;[&quot;灭霸&quot;,&nbsp;&quot;Thanos&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;美国队长&quot;:&nbsp;[&quot;美国队长&quot;,&nbsp;&quot;美队&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;浩克&quot;:&nbsp;[&quot;浩克&quot;,&nbsp;&quot;绿巨人&quot;,&nbsp;&quot;班纳&quot;,&nbsp;&quot;HULK&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;奇异博士&quot;:&nbsp;[&quot;奇异博士&quot;,&nbsp;&quot;医生&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;钢铁侠&quot;:&nbsp;[&quot;钢铁侠&quot;,&nbsp;&quot;stark&quot;,&nbsp;&quot;斯塔克&quot;,&nbsp;&quot;托尼&quot;,&nbsp;&quot;史塔克&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;蜘蛛侠&quot;:&nbsp;[&quot;蜘蛛侠&quot;,&quot;蜘蛛&quot;,&quot;彼得&quot;,&nbsp;&quot;荷兰弟&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;索尔&quot;:[&quot;索尔&quot;,&nbsp;&quot;雷神&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;黑寡妇&quot;:&nbsp;[&quot;黑寡妇&quot;,&nbsp;&quot;寡姐&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;鹰眼&quot;:[&quot;鹰眼&quot;,&quot;克林顿&quot;,&quot;巴顿&quot;,&quot;克林特&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;惊奇队长&quot;:[&quot;惊奇队长&quot;,&quot;卡罗尔&quot;,&nbsp;&quot;惊奇&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;星云&quot;:[&quot;星云&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;猩红女巫&quot;:&nbsp;[&quot;猩红女巫&quot;,&nbsp;&quot;绯红女巫&quot;,&nbsp;&quot;旺达&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;蚁人&quot;:[&quot;蚁人&quot;,&nbsp;&quot;蚁侠&quot;,&nbsp;&quot;Ant&quot;,&nbsp;&quot;AntMan&quot;],&nbsp;&nbsp;&nbsp;&nbsp;&quot;古一法师&quot;:&nbsp;[&quot;古一&quot;,&nbsp;&quot;古一法师&quot;,&nbsp;&quot;法师&quot;]}v1&nbsp;=&nbsp;[getCommentCount(getAlias(alias,&nbsp;attr[i]))&nbsp;for&nbsp;i&nbsp;in&nbsp;range(0,&nbsp;len(attr))]bar&nbsp;=&nbsp;Bar(&quot;Hiro&quot;)bar.add(&quot;count&quot;,attr,v1,is_stack=True,xaxis_rotate=30,yaxix_min=4.2,&nbsp;&nbsp;&nbsp;&nbsp;xaxis_interval=0,is_splitline_show=True)bar.render(&quot;html/hiro_count.html&quot;) 运行结果如下图，可以看到钢铁侠钢铁侠是实至名归的 C 位，不仅电影在电影中是，在评论区仍然也是实至名归的 C 位，甚至于远超美队、寡姐和雷神： 英雄评论次数 从以上观众分布和评分的数据可以看到，这一部剧，观众朋友还是非常地喜欢。前面，从猫眼拿到了观众的评论数据。现在，笔者将通过 Jieba 把评论进行分词，然后通过 Wordcloud 制作词云，来看看，观众朋友们对《复联》的整体评价： 词云分析 可以看到，灭霸和钢铁侠出现的词频比其他英雄要高很多。这是否表示，这部剧的主角就是他们两个呢？ 细心的朋友应该发现了，钢铁侠、灭霸的数量在词云和评论数量里面不一致。原因在于，评论数量就按评论条数来统计的，而词云中，使用的是词频，同一条评论中，多次出现会多次统计。所以，灭霸出现的次数居然高于了钢铁侠。 最后，再来分析一下钢铁侠与灭霸的情感分析，先上代码： def&nbsp;emotionParser(name):&nbsp;&nbsp;&nbsp;&nbsp;conn&nbsp;=&nbsp;conn&nbsp;=&nbsp;sqlite3.connect(&quot;end.db&quot;)&nbsp;&nbsp;&nbsp;&nbsp;conn.text_factory&nbsp;=&nbsp;str&nbsp;&nbsp;&nbsp;&nbsp;cursor&nbsp;=&nbsp;conn.cursor()&nbsp;&nbsp;&nbsp;&nbsp;likeStr&nbsp;=&nbsp;&quot;like&nbsp;\\&quot;%&quot;&nbsp;+&nbsp;name&nbsp;+&nbsp;&quot;%\\&quot;&quot;&nbsp;&nbsp;&nbsp;&nbsp;cursor.execute(&quot;select&nbsp;content&nbsp;from&nbsp;convertData&nbsp;where&nbsp;content&nbsp;&quot;&nbsp;+&nbsp;likeStr)&nbsp;&nbsp;&nbsp;&nbsp;values&nbsp;=&nbsp;cursor.fetchall()&nbsp;&nbsp;&nbsp;&nbsp;sentimentslist&nbsp;=&nbsp;[]&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;values:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sentimentslist.append(SnowNLP(item[0].decode(&quot;utf-8&quot;)).sentiments)&nbsp;&nbsp;&nbsp;&nbsp;plt.hist(sentimentslist,&nbsp;bins=np.arange(0,&nbsp;1,&nbsp;0.01),&nbsp;facecolor=&quot;#4F8CD6&quot;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plt.xlabel(&quot;Sentiments&nbsp;Probability&quot;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plt.ylabel(&quot;Quantity&quot;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plt.title(&quot;Analysis&nbsp;of&nbsp;Sentiments&nbsp;for&nbsp;&quot;&nbsp;+&nbsp;name)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plt.show()&nbsp;&nbsp;&nbsp;&nbsp;cursor.close()&nbsp;&nbsp;&nbsp;&nbsp;conn.close() 此处，使用 SnowNLP 来进行情感分析。 情感分析，又称为意见挖掘、倾向性分析等。简单而言，是对带有情感色彩的主观性文本进行分析、处理、归纳和推理的过程。 灭霸 钢铁侠 从图中看到， 钢铁侠的正向情感要比灭霸的正向情感要高，反派角色就是容易被人抗拒。 最最后，从《银河护卫队》时期穿越而来的灭霸在最后分钟变成了粉末消散而去，这也给我们程序员一个警钟： 重构代码，改善设计，降低系统复杂度，这样做很好。但是，一定要保证系统的稳定运行，不留安全隐患，不然，早晚会丢掉自己的工作。 【END】 作为码一代，想教码二代却无从下手： 听说少儿编程很火，可它有哪些好处呢？ 孩子多大开始学习比较好呢？又该如何学习呢？ 最新的编程教育政策又有哪些呢？ 下面给大家介绍CSDN新成员：极客宝宝（ID：geek_baby） 戳他了解更多↓↓↓ &nbsp;热 文&nbsp;推 荐&nbsp; ☞阿里要拆分“大中台”模式？王欣马桶 MT 更名“好记”；苹果支付高通 47 亿美元和解金 | 极客头条 ☞反垃圾江湖风云纪事 | 技术头条 ☞微软发布 VS Code Remote，开启远程开发新时代！ ☞真の硬核粉丝！小学生也参加杨超越杯，作品优秀！ ☞&nbsp;阿里半跪过，任正非差点跳楼，京东被骗光钱：成年人的生活哪有容易二字？ ☞不改变比特币, 如何扩容? ☞强推！盘点阿里巴巴 15 款开发者工具 | 程序员硬核评测 ☞17篇论文入选CVPR 2019，百度AI都在关注什么？（附论文地址） ☞ 她说：为啥程序员都特想要机械键盘？这答案我服！ System.out.println(&quot;点个在看吧！&quot;);console.log(&quot;点个在看吧！&quot;);print(&quot;点个在看吧！&quot;);printf(&quot;点个在看吧！\\n&quot;);cout&nbsp;&lt;&lt;&nbsp;&quot;点个在看吧！&quot;&nbsp;&lt;&lt;&nbsp;endl;Console.WriteLine(&quot;点个在看吧！&quot;);Response.Write(&quot;点个在看吧！&quot;);alert(&quot;点个在看吧！&quot;)echo &quot;点个在看吧！&quot; 点击阅读原文，输入关键词，即可搜索您想要的 CSDN 文章。 你点的每个“在看”，我都认真当成了喜欢","@type":"BlogPosting","url":"https://mlh.app/2019/05/06/729678.html","headline":"Python 分析 9 万条数据告诉你复仇者联盟谁才是绝对 C 位！","dateModified":"2019-05-06T00:00:00+08:00","datePublished":"2019-05-06T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2019/05/06/729678.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>Python&nbsp;分析&nbsp;9&nbsp;万条数据告诉你复仇者联盟谁才是绝对&nbsp;C&nbsp;位！</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);text-align: center;line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><img class="__bg_gif " data-copyright="0" data-ratio="0.15644171779141106" data-type="gif" data-w="652" data-src="https://mmbiz.qpic.cn/mmbiz_gif/Pn4Sm0RsAug5zOzy32A3RIVhRwowK5ogg1hJ631uGyu9zOMKfTddDnSrsxicbCQNm59Qeo3lDYCvF70I9ibGvA9g/640?wx_fmt=gif" style="box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible !important;width: 652px !important;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_gif/Pn4Sm0RsAug5zOzy32A3RIVhRwowK5ogg1hJ631uGyu9zOMKfTddDnSrsxicbCQNm59Qeo3lDYCvF70I9ibGvA9g/640?wx_fmt=gif"></p> 
<p style="text-align: center;"><img class="rich_pages" data-copyright="0" data-ratio="0.43125" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/Pn4Sm0RsAuhugdZWEIPl1CYUjp9VicibD5NT0pRay3A607ebNeicFvJNMMxTZ0tmsTohv6HU1iaF85hYIKAA4ib7ia9g/640?wx_fmt=jpeg" data-type="jpeg" data-w="1280" style="" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_jpg/Pn4Sm0RsAuhugdZWEIPl1CYUjp9VicibD5NT0pRay3A607ebNeicFvJNMMxTZ0tmsTohv6HU1iaF85hYIKAA4ib7ia9g/640?wx_fmt=jpeg"></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;text-align: right;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(136, 136, 136);box-sizing: border-box !important;overflow-wrap: break-word !important;">作者 | 罗昭成</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;text-align: right;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(136, 136, 136);box-sizing: border-box !important;overflow-wrap: break-word !important;">责编 | 唐小引<br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"></span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;text-align: right;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(136, 136, 136);box-sizing: border-box !important;overflow-wrap: break-word !important;">出品 | CSDN（ID：CSDNnews）</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">《复联 4》国内上映第十天，程序员的江湖里开始流传这样一个故事，即：</span></p> 
<section powered-by="xiumi.us" style="white-space: normal;max-width: 100%;box-sizing: border-box;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);overflow-wrap: break-word !important;"> 
 <section style="margin-top: 10px;margin-bottom: 10px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;"> 
  <section style="padding: 10px;max-width: 100%;box-sizing: border-box;display: inline-block;width: 677px;border-width: 1px;border-style: solid;border-color: transparent;background-color: rgb(248, 248, 248);box-shadow: rgb(0, 0, 0) 0px 0px 0px;overflow-wrap: break-word !important;"> 
   <section powered-by="xiumi.us" style="max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;"> 
    <section style="max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;"> 
     <section style="padding-right: 25px;padding-left: 25px;max-width: 100%;box-sizing: border-box;line-height: 1.9;font-size: 14px;color: rgb(138, 137, 137);letter-spacing: 1px;overflow-wrap: break-word !important;"> 
      <p style="max-width: 100%;box-sizing: border-box;min-height: 1em;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">漫威宇宙，其实就讲了一件事情。整个宇宙就好比一个项目组。其中有一群叫作美国队长、钢铁侠、惊奇队长、浩克、索尔等人在维护这个项目，兢兢业业的维护整个项目。</span></p> 
      <p style="max-width: 100%;box-sizing: border-box;min-height: 1em;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p> 
      <p style="max-width: 100%;box-sizing: border-box;min-height: 1em;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">某一天，出现了一个天才程序员，叫灭霸。当他加入到这家公司的时候，他意识到，这个项目已经非常庞大，仅仅是编译，就要几个小时。运行起来负重累累。而服务器资源又非常的有限，老板又不给预算买新机器，如果一直继续这么开发下去，这个项目迟早要出现 P0 事故。于是，他下定决定要把这个项目全面优化，使用用面向对象思想，提取重复代码，业务拆分，算法优化等手段，彻底优化，目标是代码量减少 50%。</span></p> 
      <p style="max-width: 100%;box-sizing: border-box;min-height: 1em;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p> 
      <p style="max-width: 100%;box-sizing: border-box;min-height: 1em;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">美国队长带领的项目组叫复仇者联盟，发现了灭霸程序员的想法后，阻止并警告灭霸说：不要轻易去改老代码！！很容易出 bug 的，代码能跑就行！！</span></p> 
      <p style="max-width: 100%;box-sizing: border-box;min-height: 1em;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p> 
      <p style="max-width: 100%;box-sizing: border-box;min-height: 1em;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">—— 以上来自知乎@郭启军</span></p> 
      <p style="max-width: 100%;box-sizing: border-box;min-height: 1em;overflow-wrap: break-word !important;text-align: left;"><span style="max-width: 100%;font-size: 14px;box-sizing: border-box !important;overflow-wrap: break-word !important;">https://www.zhihu.com/question/321428495/answer/663671132</span></p> 
     </section> 
    </section> 
   </section> 
  </section> 
 </section> 
</section> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">那么，作为一个写程序员的电影，我们怎么不能用数据来分析一下，喜欢漫威宇宙的观众对《复联 4》的评价呢？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p> 
<p style="text-align: center;"><strong><img class="rich_pages" data-copyright="0" data-ratio="0.1625" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhzGbHK1kg8LtrlfLZaLaRRFCpuC4UboJhcO9Bm3KFt3picbagjYNXpaxq2vnToD3rIl68L6mVrQpQ/640?wx_fmt=png" data-type="png" data-w="160" style="" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhzGbHK1kg8LtrlfLZaLaRRFCpuC4UboJhcO9Bm3KFt3picbagjYNXpaxq2vnToD3rIl68L6mVrQpQ/640?wx_fmt=png"></strong></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;text-align: center;"><strong><span style="max-width: 100%;font-size: 18px;box-sizing: border-box !important;overflow-wrap: break-word !important;">抓取数据</span></strong></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">业界朋友们，在电影分析中，使用猫眼的数据比较多。在本文中，笔者也使用了猫眼的接口来获取数据，方便处理，数据量也比较多。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">有关接口，大家可以自己去猫眼的网站上看，也可以使用如下地址：</span></p> 
<section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"> 
 <pre style="font-size: inherit;color: inherit;line-height: inherit;"><code class="json language-json hljs" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;">http://m.maoyan.com/mmdb/comments/movie/<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">248172.</span>json?_v_=yes&amp;offset=<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">20</span>&amp;startTime=<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">2019-04-24</span>%<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">2002</span>:<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">56</span>:<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">46</span></code></pre> 
</section> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">在 Python 中，使用 Request 可以很方便地发送请求，拿到接口返回的 JSON 数据，来看代码：</span></p> 
<section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"> 
 <pre style="font-size: inherit;color: inherit;line-height: inherit;"><code class="python language-python hljs" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-function" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;overflow-wrap: inherit !important;word-break: inherit !important;">def</span>&nbsp;<span class="hljs-title" style="font-size: inherit;line-height: inherit;color: rgb(165, 218, 45);overflow-wrap: inherit !important;word-break: inherit !important;">getMoveinfo</span><span class="hljs-params" style="font-size: inherit;line-height: inherit;color: rgb(255, 152, 35);overflow-wrap: inherit !important;word-break: inherit !important;">(url)</span>:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;session&nbsp;=&nbsp;requests.Session()<br>&nbsp;&nbsp;&nbsp;&nbsp;headers&nbsp;=&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"User-Agent"</span>:&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"Mozilla/5.0"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"Accept"</span>:&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"text/html,application/xhtml+xml"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"Cookie"</span>:&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"_lxsdk_cuid="</span><br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;session.get(url,&nbsp;headers=headers)<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;">if</span>&nbsp;response.status_code&nbsp;==&nbsp;<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">200</span>:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;">return</span>&nbsp;response.text<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;">return</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;">None</span></code></pre> 
</section> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">请求返回的是一个 JSON 数据，拿到我们想要的评论原始数据，并将数据存储在数据库中：</span></p> 
<section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"> 
 <pre style="font-size: inherit;color: inherit;line-height: inherit;"><code class="python language-python hljs" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-function" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;overflow-wrap: inherit !important;word-break: inherit !important;">def</span>&nbsp;<span class="hljs-title" style="font-size: inherit;line-height: inherit;color: rgb(165, 218, 45);overflow-wrap: inherit !important;word-break: inherit !important;">saveItem</span><span class="hljs-params" style="font-size: inherit;line-height: inherit;color: rgb(255, 152, 35);overflow-wrap: inherit !important;word-break: inherit !important;">(dbName,&nbsp;moveId,&nbsp;id,&nbsp;originalData)</span>&nbsp;:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;conn&nbsp;=&nbsp;sqlite3.connect(dbName)<br>&nbsp;&nbsp;&nbsp;&nbsp;conn.text_factory=str<br>&nbsp;&nbsp;&nbsp;&nbsp;cursor&nbsp;=&nbsp;conn.cursor()<br>&nbsp;&nbsp;&nbsp;&nbsp;ins=<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"INSERT&nbsp;OR&nbsp;REPLACE&nbsp;INTO&nbsp;comments&nbsp;values&nbsp;(?,?,?)"</span><br>&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;=&nbsp;(id,&nbsp;originalData,&nbsp;moveId)<br>&nbsp;&nbsp;&nbsp;&nbsp;cursor.execute(ins,v)<br>&nbsp;&nbsp;&nbsp;&nbsp;cursor.close()<br>&nbsp;&nbsp;&nbsp;&nbsp;conn.commit()<br>&nbsp;&nbsp;&nbsp;&nbsp;conn.close()</code></pre> 
</section> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">经过大概两个小时，终于从猫眼爬取了大约 9 万条数据。数据库文件已经超过了 100M 了。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p> 
<p style="text-align: center;"><strong><img class="rich_pages" data-copyright="0" data-ratio="0.1625" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhzGbHK1kg8LtrlfLZaLaRRSwIGDrNvhDVRTQOXpZibAW5eIkDB1Ug3E1wxtRj0mxD3DlRV8TXx6Iw/640?wx_fmt=png" data-type="png" data-w="160" style="" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhzGbHK1kg8LtrlfLZaLaRRSwIGDrNvhDVRTQOXpZibAW5eIkDB1Ug3E1wxtRj0mxD3DlRV8TXx6Iw/640?wx_fmt=png"></strong></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;text-align: center;"><strong><span style="max-width: 100%;font-size: 18px;box-sizing: border-box !important;overflow-wrap: break-word !important;">数据清洗</span></strong></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">因为在上面抓取下来的数据，直接进行了原数据的存储，没有进行数据的解析处理。接口中包含了很多数据，有用户信息、评论信息等。本次分析，只使用了部分数据，所以需要将用到的相关数据清洗出来：</span></p> 
<section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"> 
 <pre style="font-size: inherit;color: inherit;line-height: inherit;"><code class="python language-python hljs" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-function" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;overflow-wrap: inherit !important;word-break: inherit !important;">def</span>&nbsp;<span class="hljs-title" style="font-size: inherit;line-height: inherit;color: rgb(165, 218, 45);overflow-wrap: inherit !important;word-break: inherit !important;">convert</span><span class="hljs-params" style="font-size: inherit;line-height: inherit;color: rgb(255, 152, 35);overflow-wrap: inherit !important;word-break: inherit !important;">(dbName)</span>:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;conn&nbsp;=&nbsp;sqlite3.connect(dbName)<br>&nbsp;&nbsp;&nbsp;&nbsp;conn.text_factory&nbsp;=&nbsp;str<br>&nbsp;&nbsp;&nbsp;&nbsp;cursor&nbsp;=&nbsp;conn.cursor()<br>&nbsp;&nbsp;&nbsp;&nbsp;cursor.execute(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"select&nbsp;*&nbsp;from&nbsp;comments"</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;=&nbsp;cursor.fetchall()<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;">for</span>&nbsp;item&nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;">in</span>&nbsp;data:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;commentItem&nbsp;=&nbsp;json.loads(item[<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">1</span>])<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;movieId&nbsp;=&nbsp;item[<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">2</span>]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;insertItem(dbName,&nbsp;movieId,&nbsp;commentItem)<br>&nbsp;&nbsp;&nbsp;&nbsp;cursor.close()<br>&nbsp;&nbsp;&nbsp;&nbsp;conn.commit()<br>&nbsp;&nbsp;&nbsp;&nbsp;conn.close()<br><br><span class="hljs-function" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;overflow-wrap: inherit !important;word-break: inherit !important;">def</span>&nbsp;<span class="hljs-title" style="font-size: inherit;line-height: inherit;color: rgb(165, 218, 45);overflow-wrap: inherit !important;word-break: inherit !important;">insertItem</span><span class="hljs-params" style="font-size: inherit;line-height: inherit;color: rgb(255, 152, 35);overflow-wrap: inherit !important;word-break: inherit !important;">(dbName,&nbsp;movieId,&nbsp;&nbsp;item)</span>:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;conn&nbsp;=&nbsp;sqlite3.connect(dbName)<br>&nbsp;&nbsp;&nbsp;&nbsp;conn.text_factory&nbsp;=&nbsp;str<br>&nbsp;&nbsp;&nbsp;&nbsp;cursor&nbsp;=&nbsp;conn.cursor()<br>&nbsp;&nbsp;&nbsp;&nbsp;sql&nbsp;=&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">'''<br>&nbsp;&nbsp;&nbsp;&nbsp;INSERT&nbsp;OR&nbsp;REPLACE&nbsp;INTO&nbsp;convertData&nbsp;values(?,?,?,?,?,?,?,?,?)<br>&nbsp;&nbsp;&nbsp;&nbsp;'''</span><br>&nbsp;&nbsp;&nbsp;&nbsp;values&nbsp;=&nbsp;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"id"</span>),&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;movieId,&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"userId"</span>),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"nickName"</span>),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"score"</span>),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"content"</span>),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"cityName"</span>),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"vipType"</span>),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getValue(item,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"startTime"</span>))<br>&nbsp;&nbsp;&nbsp;&nbsp;cursor.execute(sql,&nbsp;values)<br>&nbsp;&nbsp;&nbsp;&nbsp;cursor.close()<br>&nbsp;&nbsp;&nbsp;&nbsp;conn.commit()<br>&nbsp;&nbsp;&nbsp;&nbsp;conn.close()</code></pre> 
</section> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">通过 JSON 库将原始数据解析出来，将我们需要的信息存储到新的数据表中。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 
  <mpcpc js_editor_cpcad="" class="js_cpc_area res_iframe cpc_iframe" src="/cgi-bin/readtemplate?t=tmpl/cpc_tmpl#1556849319636" data-category_id_list="1|15|16|17|36|37|39|41|42|43|44|47|48|7|8" data-id="1556849319636"></mpcpc></span></p> 
<p style="text-align: center;"><strong><img class="rich_pages" data-copyright="0" data-ratio="0.1625" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhzGbHK1kg8LtrlfLZaLaRR1egUapOLlzTibNHKa2HtxQgl0MHiblDkJlCqaPN3NVMIxkjV2U2ouELw/640?wx_fmt=png" data-type="png" data-w="160" style="" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhzGbHK1kg8LtrlfLZaLaRR1egUapOLlzTibNHKa2HtxQgl0MHiblDkJlCqaPN3NVMIxkjV2U2ouELw/640?wx_fmt=png"></strong></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;text-align: center;"><strong><span style="max-width: 100%;font-size: 18px;box-sizing: border-box !important;overflow-wrap: break-word !important;">数据分析</span></strong></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><br></span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">因为没有任何一个平台能够拿到用户的购票数据，我们只能从评论的数据中，以小见大，从这些数据中，分析出一些走势。 在评论数据中，我们能看到评论用户所在的城市。将数据所在的位置解析，划分到各对应的行政省，可以看到每个省评论数量，见下图（</span><span style="max-width: 100%;font-size: 15px;color: rgb(136, 136, 136);box-sizing: border-box !important;overflow-wrap: break-word !important;">颜色越红，用户评论数量越多</span><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">）：</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><img class="" data-ratio="0.695" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhugdZWEIPl1CYUjp9VicibD5KoNMZccDjUtkp4u2riartPaocEZXHIdoKvWDzIKMezFh7lAIJqo0vOA/640?wx_fmt=png" data-type="png" data-w="2000" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhugdZWEIPl1CYUjp9VicibD5KoNMZccDjUtkp4u2riartPaocEZXHIdoKvWDzIKMezFh7lAIJqo0vOA/640?wx_fmt=png"></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;color: rgb(136, 136, 136);font-size: 14px;box-sizing: border-box !important;overflow-wrap: break-word !important;">城市</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">从图中可以看到， 上海、广州、四川用户的数量显然要比其他城市的用户数量要多得多。再来看一下代码：</span></p> 
<section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"> 
 <pre style="font-size: inherit;color: inherit;line-height: inherit;"><code class="python language-python hljs" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;">data&nbsp;=&nbsp;pd.read_sql(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"select&nbsp;*&nbsp;from&nbsp;convertData"</span>,&nbsp;conn)<br>&nbsp;&nbsp;&nbsp;&nbsp;city&nbsp;=&nbsp;data.groupby([<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">'cityName'</span>])<br>&nbsp;&nbsp;&nbsp;&nbsp;city_com&nbsp;=&nbsp;city[<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">'score'</span>].agg([<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">'mean'</span>,<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">'count'</span>])<br>&nbsp;&nbsp;&nbsp;&nbsp;city_com.reset_index(inplace=<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;">True</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;fo&nbsp;=&nbsp;open(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"citys.json"</span>,<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">'r'</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;citys_info&nbsp;=&nbsp;fo.readlines()<br>&nbsp;&nbsp;&nbsp;&nbsp;citysJson&nbsp;=&nbsp;json.loads(str(citys_info[<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">0</span>]))<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;">print</span>&nbsp;city_com<br>&nbsp;&nbsp;&nbsp;&nbsp;data_map_all&nbsp;=&nbsp;[(getRealName(city_com[<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">'cityName'</span>][i],&nbsp;citysJson),city_com[<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">'count'</span>][i])&nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;">for</span>&nbsp;i&nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;">in</span>&nbsp;range(<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">0</span>,city_com.shape[<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">0</span>])]<br>&nbsp;&nbsp;&nbsp;&nbsp;data_map_list&nbsp;=&nbsp;{}<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;">for</span>&nbsp;item&nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;">in</span>&nbsp;data_map_all:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;">if</span>&nbsp;data_map_list.has_key(item[<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">0</span>]):<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;data_map_list[item[<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">0</span>]]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;+=&nbsp;item[<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">1</span>]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_map_list[item[<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">0</span>]]&nbsp;=&nbsp;value<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;">else</span>:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_map_list[item[<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">0</span>]]&nbsp;=&nbsp;item[<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">1</span>]<br>&nbsp;&nbsp;&nbsp;&nbsp;data_map&nbsp;=&nbsp;[(realKeys(key),&nbsp;data_map_list[key]&nbsp;)&nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;">for</span>&nbsp;key&nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;">in</span>&nbsp;data_map_list.keys()]</code></pre> 
</section> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">漫威电影一直深受中国朋友们喜欢的高分电影。豆瓣评分 8.7 分，那我们的评论用户中，又是一个什么样的趋势呢？见下图：</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;color: rgb(136, 136, 136);font-size: 14px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><img class="" data-ratio="0.45490716180371354" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhugdZWEIPl1CYUjp9VicibD5090BUTyAuwpJbwUnS9P7lLK3P6ptIGJLVy0V5xjlKYTa4iaLVrkdtAw/640?wx_fmt=png" data-type="png" data-w="1508" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhugdZWEIPl1CYUjp9VicibD5090BUTyAuwpJbwUnS9P7lLK3P6ptIGJLVy0V5xjlKYTa4iaLVrkdtAw/640?wx_fmt=png"></span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;color: rgb(136, 136, 136);font-size: 14px;box-sizing: border-box !important;overflow-wrap: break-word !important;">评分数</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">从图中可以看到，评 5 分的数量远高于其他评分，可见中国的观众朋友确实喜欢漫威的科幻电影。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">复联从 1 开始便是漫威宇宙各路超级英雄的集结，到现在的第 4 部，更是全英雄的汇聚。那么，在这之中，哪位英雄人物更受观众欢迎？先看代码：</span></p> 
<section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"> 
 <pre style="font-size: inherit;color: inherit;line-height: inherit;"><code class="python language-python hljs" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;">attr&nbsp;=&nbsp;[<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"灭霸"</span>,<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"美国队长"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"钢铁侠"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"浩克"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"奇异博士"</span>,&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"蜘蛛侠"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"索尔"</span>&nbsp;,<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"黑寡妇"</span>,&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"鹰眼"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"惊奇队长"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"幻视"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"猩红女巫"</span>,<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"蚁人"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"古一法师"</span>]<br><br>alias&nbsp;=&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"灭霸"</span>:&nbsp;[<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"灭霸"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"Thanos"</span>],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"美国队长"</span>:&nbsp;[<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"美国队长"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"美队"</span>],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"浩克"</span>:&nbsp;[<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"浩克"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"绿巨人"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"班纳"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"HULK"</span>],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"奇异博士"</span>:&nbsp;[<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"奇异博士"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"医生"</span>],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"钢铁侠"</span>:&nbsp;[<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"钢铁侠"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"stark"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"斯塔克"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"托尼"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"史塔克"</span>],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"蜘蛛侠"</span>:&nbsp;[<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"蜘蛛侠"</span>,<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"蜘蛛"</span>,<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"彼得"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"荷兰弟"</span>],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"索尔"</span>:[<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"索尔"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"雷神"</span>],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"黑寡妇"</span>:&nbsp;[<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"黑寡妇"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"寡姐"</span>],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"鹰眼"</span>:[<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"鹰眼"</span>,<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"克林顿"</span>,<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"巴顿"</span>,<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"克林特"</span>],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"惊奇队长"</span>:[<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"惊奇队长"</span>,<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"卡罗尔"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"惊奇"</span>],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"星云"</span>:[<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"星云"</span>],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"猩红女巫"</span>:&nbsp;[<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"猩红女巫"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"绯红女巫"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"旺达"</span>],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"蚁人"</span>:[<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"蚁人"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"蚁侠"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"Ant"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"AntMan"</span>],<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"古一法师"</span>:&nbsp;[<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"古一"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"古一法师"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"法师"</span>]<br>}<br>v1&nbsp;=&nbsp;[getCommentCount(getAlias(alias,&nbsp;attr[i]))&nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;">for</span>&nbsp;i&nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;">in</span>&nbsp;range(<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">0</span>,&nbsp;len(attr))]<br>bar&nbsp;=&nbsp;Bar(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"Hiro"</span>)<br>bar.add(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"count"</span>,attr,v1,is_stack=<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;">True</span>,xaxis_rotate=<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">30</span>,yaxix_min=<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">4.2</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;xaxis_interval=<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">0</span>,is_splitline_show=<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;">True</span>)<br>bar.render(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"html/hiro_count.html"</span>)</code></pre> 
</section> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">运行结果如下图，可以看到钢铁侠钢铁侠是实至名归的 C 位，不仅电影在电影中是，在评论区仍然也是实至名归的 C 位，甚至于远超美队、寡姐和雷神：</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(136, 136, 136);box-sizing: border-box !important;overflow-wrap: break-word !important;"><img class="" data-ratio="0.4951590594744122" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhugdZWEIPl1CYUjp9VicibD5nP7aJ8w3DslSWsYcgN8LKBhgrkSzXAVPngUdmZZ8ZJwAcyFS0kibVoQ/640?wx_fmt=png" data-type="png" data-w="1446" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhugdZWEIPl1CYUjp9VicibD5nP7aJ8w3DslSWsYcgN8LKBhgrkSzXAVPngUdmZZ8ZJwAcyFS0kibVoQ/640?wx_fmt=png"></span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(136, 136, 136);box-sizing: border-box !important;overflow-wrap: break-word !important;">英雄评论次数</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">从以上观众分布和评分的数据可以看到，这一部剧，观众朋友还是非常地喜欢。前面，从猫眼拿到了观众的评论数据。现在，笔者将通过 Jieba 把评论进行分词，然后通过 Wordcloud 制作词云，来看看，观众朋友们对《复联》的整体评价：</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(136, 136, 136);box-sizing: border-box !important;overflow-wrap: break-word !important;"><img class="" data-ratio="0.5625" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhugdZWEIPl1CYUjp9VicibD5KpHpYY8sDBgViahC0gu6lMO22XYMxQNnklokhJTIXpibjXdRwfdkHzag/640?wx_fmt=png" data-type="png" data-w="1280" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhugdZWEIPl1CYUjp9VicibD5KpHpYY8sDBgViahC0gu6lMO22XYMxQNnklokhJTIXpibjXdRwfdkHzag/640?wx_fmt=png"></span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(136, 136, 136);box-sizing: border-box !important;overflow-wrap: break-word !important;">词云分析</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">可以看到，灭霸和钢铁侠出现的词频比其他英雄要高很多。这是否表示，这部剧的主角就是他们两个呢？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">细心的朋友应该发现了，钢铁侠、灭霸的数量在词云和评论数量里面不一致。原因在于，评论数量就按评论条数来统计的，而词云中，使用的是词频，同一条评论中，多次出现会多次统计。所以，灭霸出现的次数居然高于了钢铁侠。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">最后，再来分析一下钢铁侠与灭霸的情感分析，先上代码：</span></p> 
<section class="output_wrapper" style="font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"> 
 <pre style="font-size: inherit;color: inherit;line-height: inherit;"><code class="python language-python hljs" style="margin-right: 2px;margin-left: 2px;line-height: 18px;font-size: 14px;letter-spacing: 0px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;color: rgb(169, 183, 198);background: rgb(40, 43, 46);padding: 0.5em;display: block !important;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;"><span class="hljs-function" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit;line-height: inherit;overflow-wrap: inherit !important;word-break: inherit !important;">def</span>&nbsp;<span class="hljs-title" style="font-size: inherit;line-height: inherit;color: rgb(165, 218, 45);overflow-wrap: inherit !important;word-break: inherit !important;">emotionParser</span><span class="hljs-params" style="font-size: inherit;line-height: inherit;color: rgb(255, 152, 35);overflow-wrap: inherit !important;word-break: inherit !important;">(name)</span>:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;conn&nbsp;=&nbsp;conn&nbsp;=&nbsp;sqlite3.connect(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"end.db"</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;conn.text_factory&nbsp;=&nbsp;str<br>&nbsp;&nbsp;&nbsp;&nbsp;cursor&nbsp;=&nbsp;conn.cursor()<br>&nbsp;&nbsp;&nbsp;&nbsp;likeStr&nbsp;=&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"like&nbsp;\"%"</span>&nbsp;+&nbsp;name&nbsp;+&nbsp;<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"%\""</span><br>&nbsp;&nbsp;&nbsp;&nbsp;cursor.execute(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"select&nbsp;content&nbsp;from&nbsp;convertData&nbsp;where&nbsp;content&nbsp;"</span>&nbsp;+&nbsp;likeStr)<br>&nbsp;&nbsp;&nbsp;&nbsp;values&nbsp;=&nbsp;cursor.fetchall()<br>&nbsp;&nbsp;&nbsp;&nbsp;sentimentslist&nbsp;=&nbsp;[]<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;">for</span>&nbsp;item&nbsp;<span class="hljs-keyword" style="font-size: inherit;line-height: inherit;color: rgb(248, 35, 117);overflow-wrap: inherit !important;word-break: inherit !important;">in</span>&nbsp;values:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sentimentslist.append(SnowNLP(item[<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">0</span>].decode(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"utf-8"</span>)).sentiments)<br>&nbsp;&nbsp;&nbsp;&nbsp;plt.hist(sentimentslist,&nbsp;bins=np.arange(<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">0</span>,&nbsp;<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">1</span>,&nbsp;<span class="hljs-number" style="font-size: inherit;line-height: inherit;color: rgb(174, 135, 250);overflow-wrap: inherit !important;word-break: inherit !important;">0.01</span>),&nbsp;facecolor=<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"#4F8CD6"</span>)&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;plt.xlabel(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"Sentiments&nbsp;Probability"</span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;plt.ylabel(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"Quantity"</span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;plt.title(<span class="hljs-string" style="font-size: inherit;line-height: inherit;color: rgb(238, 220, 112);overflow-wrap: inherit !important;word-break: inherit !important;">"Analysis&nbsp;of&nbsp;Sentiments&nbsp;for&nbsp;"</span>&nbsp;+&nbsp;name)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;plt.show()<br>&nbsp;&nbsp;&nbsp;&nbsp;cursor.close()<br>&nbsp;&nbsp;&nbsp;&nbsp;conn.close()</code></pre> 
</section> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">此处，使用 SnowNLP 来进行情感分析。</span></p> 
<blockquote class="js_blockquote_wrap" data-type="2" data-url="" data-author-name="" data-content-utf8-length="56" data-source-title=""> 
 <section class="js_blockquote_digest"> 
  <p style="line-height: 1.75em;"><span style="letter-spacing: 1px;">情感分析，又称为意见挖掘、倾向性分析等。简单而言，是对带有情感色彩的主观性文本进行分析、处理、归纳和推理的过程。</span></p> 
 </section> 
</blockquote> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(136, 136, 136);box-sizing: border-box !important;overflow-wrap: break-word !important;"><img class="" data-ratio="0.7836456558773425" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhugdZWEIPl1CYUjp9VicibD5djmOfkvBJEYib4G0rl9whBkKmIlibd4bmDdRPYt8FCnzYzA05CmXc7Zw/640?wx_fmt=png" data-type="png" data-w="1174" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhugdZWEIPl1CYUjp9VicibD5djmOfkvBJEYib4G0rl9whBkKmIlibd4bmDdRPYt8FCnzYzA05CmXc7Zw/640?wx_fmt=png"></span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(136, 136, 136);box-sizing: border-box !important;overflow-wrap: break-word !important;">灭霸</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(136, 136, 136);box-sizing: border-box !important;overflow-wrap: break-word !important;"><img class="" data-ratio="0.7804054054054054" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhugdZWEIPl1CYUjp9VicibD5kRgfP2eNoPQMhLBeDn2earWBO1dDdDQSXoj5fzNdiaTPZla3BlUe47w/640?wx_fmt=png" data-type="png" data-w="1184" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhugdZWEIPl1CYUjp9VicibD5kRgfP2eNoPQMhLBeDn2earWBO1dDdDQSXoj5fzNdiaTPZla3BlUe47w/640?wx_fmt=png"></span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(136, 136, 136);box-sizing: border-box !important;overflow-wrap: break-word !important;">钢铁侠</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">从图中看到， 钢铁侠的正向情感要比灭霸的正向情感要高，反派角色就是容易被人抗拒。</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">最最后，从《银河护卫队》时期穿越而来的灭霸在最后分钟变成了粉末消散而去，这也给我们程序员一个警钟：</span></p> 
<section powered-by="xiumi.us" style="max-width: 100%;box-sizing: border-box;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);overflow-wrap: break-word !important;"> 
 <section style="margin-top: 10px;margin-bottom: 10px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;"> 
  <section style="padding: 10px;max-width: 100%;box-sizing: border-box;display: inline-block;width: 677px;border-width: 1px;border-style: solid;border-color: transparent;background-color: rgb(248, 248, 248);box-shadow: rgb(0, 0, 0) 0px 0px 0px;overflow-wrap: break-word !important;"> 
   <section powered-by="xiumi.us" style="max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;"> 
    <section style="max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;"> 
     <section style="padding-right: 25px;padding-left: 25px;max-width: 100%;box-sizing: border-box;line-height: 1.9;font-size: 14px;color: rgb(138, 137, 137);letter-spacing: 1px;overflow-wrap: break-word !important;"> 
      <p style="max-width: 100%;box-sizing: border-box;min-height: 1em;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">重构代码，改善设计，降低系统复杂度，这样做很好。但是，一定要保证系统的稳定运行，不留安全隐患，不然，早晚会丢掉自己的工作。</span></p> 
     </section> 
    </section> 
   </section> 
  </section> 
 </section> 
</section> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(136, 136, 136);box-sizing: border-box !important;overflow-wrap: break-word !important;">【END】</span><br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"></p> 
<p style="max-width: 100%;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);text-align: center;box-sizing: border-box !important;overflow-wrap: break-word !important;"><img class="rich_pages " data-copyright="0" data-ratio="0.5482233502538071" data-s="300,640" data-type="jpeg" data-w="591" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/Pn4Sm0RsAuhugdZWEIPl1CYUjp9VicibD5oO6ht1jyFdQPIvcXcZfPLhiaC0QX1dQ4VNbT9ib15tjgt0aVPsgTgBKA/640?wx_fmt=jpeg" style="box-sizing: border-box !important;overflow-wrap: break-word !important;width: 591px !important;visibility: visible !important;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_jpg/Pn4Sm0RsAuhugdZWEIPl1CYUjp9VicibD5oO6ht1jyFdQPIvcXcZfPLhiaC0QX1dQ4VNbT9ib15tjgt0aVPsgTgBKA/640?wx_fmt=jpeg"></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;box-sizing: border-box !important;overflow-wrap: break-word !important;">作为码一代，想教码二代却无从下手：</span><br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">听说少儿编程很火，可它有哪些好处呢？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">孩子多大开始学习比较好呢？又该如何学习呢？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">最新的编程教育政策又有哪些呢？</span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;text-align: center;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;">下面给大家介绍CSDN新成员：<strong style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">极客宝宝（ID：</strong><strong style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">geek_baby）</strong></span></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);text-align: center;letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">戳他了解更多↓↓↓</span></strong><br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);text-align: center;line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><img class="rich_pages " data-copyright="0" data-cropselx1="180" data-cropselx2="438" data-cropsely1="0" data-cropsely2="258" data-ratio="0.3697916666666667" data-s="300,640" data-type="jpeg" data-w="960" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/Pn4Sm0RsAuh1bcXNq238J3vRKyXya05vbbgCLnCbTPs0mGuVrLHntraYT5MIPrhkqQCmnqobLOf7nkWPh5j6vw/640?wx_fmt=jpeg" style="box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible !important;width: 618px !important;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_jpg/Pn4Sm0RsAuh1bcXNq238J3vRKyXya05vbbgCLnCbTPs0mGuVrLHntraYT5MIPrhkqQCmnqobLOf7nkWPh5j6vw/640?wx_fmt=jpeg"></p> 
<p style="margin-right: 8px;margin-bottom: 10px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);text-align: center;letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;background-color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong style="max-width: 100%;color: rgb(255, 255, 255);font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">&nbsp;热 文</strong>&nbsp;推 荐&nbsp;</strong></span></p> 
<p style="margin-right: 8px;margin-bottom: 10px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5MjAwODM4MA==&amp;mid=2650719435&amp;idx=1&amp;sn=68b3afbd07945b904e5fd630c154e8b6&amp;chksm=bea6b51889d13c0eeecd20973a4113ef35a82abe5f8767e5307a443a0378d617573db3e1fdf2&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2"><span style="max-width: 100%;font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">☞阿里要拆分“大中台”模式？王欣马桶 MT 更名“好记”；苹果支付高通 47 亿美元和解金 | 极客头条</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 10px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5MjAwODM4MA==&amp;mid=2650719435&amp;idx=2&amp;sn=f12958e41d3f5d4d5df7be1d4bedbade&amp;chksm=bea6b51889d13c0e849259609ad3fb0e2f7c6914bfad9a763b9fa3a10183a5878ac2c1fa4ccd&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2"><span style="max-width: 100%;font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">☞反垃圾江湖风云纪事 | 技术头条</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 10px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5MjAwODM4MA==&amp;mid=2650719435&amp;idx=3&amp;sn=b9532f1d5deea423324a23d9cb15a78a&amp;chksm=bea6b51889d13c0e2580ca65cef7acf262163a8f5d620d15dbee3e09153d16bbd55fbe9105c3&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="11" data-linktype="2"><span style="max-width: 100%;font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">☞微软发布 VS Code Remote，开启远程开发新时代！</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><a href="http://mp.weixin.qq.com/s?__biz=Mzg3MDA4NDkxMQ==&amp;mid=2247483904&amp;idx=1&amp;sn=5d88b481d29ca5d54907335a8c06227b&amp;chksm=ce927a40f9e5f35660b8545c4f28bd738f37b5beba1430d8887ea752be8717dd0af05cbf585f&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="11" data-linktype="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;color: rgb(0, 82, 255);font-size: 14px;box-sizing: border-box !important;overflow-wrap: break-word !important;">☞真の硬核粉丝！小学生也参加杨超越杯，作品优秀！</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><a href="http://mp.weixin.qq.com/s?__biz=MzA5MzY4NTQwMA==&amp;mid=2651010624&amp;idx=1&amp;sn=853393082a5351fbbe7afca580455638&amp;chksm=8bad85b7bcda0ca1e0ff8527e4e50d6db5b3b89ee767997740c96464b3af8a988645e2dc9741&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="11" data-linktype="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;color: rgb(0, 82, 255);font-size: 14px;box-sizing: border-box !important;overflow-wrap: break-word !important;">☞&nbsp;阿里半跪过，任正非差点跳楼，京东被骗光钱：成年人的生活哪有容易二字？</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><a href="http://mp.weixin.qq.com/s?__biz=MzU2MTE1NDk2Mg==&amp;mid=2247494869&amp;idx=1&amp;sn=4da72b4b5788cdd9eb86c7a2f119489a&amp;chksm=fc7fb228cb083b3e99d3f53faa38c00bffc4ff41c39fd15b2d72338b9438fea7aba87b2189ac&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="11" data-linktype="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">☞不改变比特币, 如何扩容?</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><a href="http://mp.weixin.qq.com/s?__biz=MzA3MjY1MTQwNQ==&amp;mid=2649827474&amp;idx=1&amp;sn=39aeb96028947b55e6d2e2d34f3eeb90&amp;chksm=871e8f70b0690666a24e308d78f91f450a7e7be17576d17da53b3edf1892e7f149c3f490c3cb&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">☞强推！盘点阿里巴巴 15 款开发者工具 | 程序员硬核评测</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><a href="http://mp.weixin.qq.com/s?__biz=MzI0ODcxODk5OA==&amp;mid=2247504711&amp;idx=1&amp;sn=f14c3997bb6e7b08cd01a4a3529d8e38&amp;chksm=e99ee0bedee969a8e7d63113319eeb4f814626ee45a86bb8bcad3f7ae6544b1a4e0d73a8dfb9&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 14px;color: rgb(0, 82, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;">☞17篇论文入选CVPR 2019，百度AI都在关注什么？（附论文地址）</span></a></p> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><a href="http://mp.weixin.qq.com/s?__biz=MzA5MjcxNjc2Ng==&amp;mid=2650559816&amp;idx=1&amp;sn=380cfd3d18fb987c0073bf1b8289155a&amp;chksm=88601ef9bf1797ef9e671113fdeed0dac0e1750691de9c6a594dd46706f72aeafa9028b57fe5&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;color: rgb(0, 82, 255);font-size: 14px;box-sizing: border-box !important;overflow-wrap: break-word !important;">☞ 她说：为啥程序员都特想要机械键盘？这答案我服！</span></a></p> 
<p style="max-width: 100%;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"></p> 
<section style="max-width: 100%;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"> 
 <section class="" style="max-width: 100%;font-size: 16px;color: rgb(62, 62, 62);line-height: 1.6;letter-spacing: 0px;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 
  <pre style="max-width: 100%;font-size: inherit;color: inherit;line-height: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;"><p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;padding: 0.5em;max-width: 100%;min-height: 1em;font-size: 14px;font-family: Consolas, Inconsolata, Courier, monospace;border-radius: 0px;background: rgb(34, 34, 34);color: rgb(170, 170, 170);line-height: 1.75em;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: normal !important;word-break: normal !important;overflow: auto !important;">System.out.println(<span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">"点个在看吧！"</span>);<br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">console.log(<span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！"</span>);<br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(50, 170, 238);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">print</span>(<span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！"</span>);<br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(50, 170, 238);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">printf</span>(<span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！\n"</span>);<br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">cout&nbsp;&lt;&lt;&nbsp;<span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！"</span>&nbsp;&lt;&lt;&nbsp;endl;<br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">Console.WriteLine(<span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！"</span>);<br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">Response.Write(<span class="" style="max-width: 100%;font-size: inherit;line-height: inherit;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！"</span>);<br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-variant-numeric: normal;line-height: 24.5px;widows: 1;box-sizing: border-box !important;overflow-wrap: break-word !important;">alert(</span><span style="max-width: 100%;font-variant-numeric: normal;line-height: 24.5px;widows: 1;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: break-word !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！"</span><span style="max-width: 100%;font-variant-numeric: normal;line-height: 24.5px;widows: 1;box-sizing: border-box !important;overflow-wrap: break-word !important;">)</span><br style="max-width: 100%;font-variant-numeric: normal;line-height: 24.5px;widows: 1;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span class="" style="max-width: 100%;font-size: inherit;font-variant-numeric: normal;line-height: inherit;widows: 1;color: rgb(50, 170, 238);box-sizing: border-box !important;overflow-wrap: inherit !important;word-break: inherit !important;">echo </span><span style="max-width: 100%;font-variant-numeric: normal;line-height: 24.5px;widows: 1;color: rgb(255, 204, 51);box-sizing: border-box !important;overflow-wrap: break-word !important;">"点个<span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">在</span>看吧！"</span></p></pre> 
 </section> 
</section> 
<p style="margin-right: 8px;margin-bottom: 15px;margin-left: 8px;max-width: 100%;min-height: 1em;white-space: normal;background-color: rgb(255, 255, 255);letter-spacing: 1px;line-height: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;"><img border="0" class="__bg_gif" data-ratio="0.8" data-type="gif" data-w="200" height="" title="" width="45" data-src="https://mmbiz.qpic.cn/mmbiz_gif/Pn4Sm0RsAujr9dOtwUGfl03zJzLBRXbZs8g1RcNcLr7qm5qEy419tofZ8dq1sIW75xZwq2K4zIzcTtaDOy4OTg/640?wx_fmt=gif" style="box-sizing: border-box;letter-spacing: 0.544px;text-align: left;font-family: 微软雅黑;font-size: 16px;vertical-align: middle;overflow-wrap: break-word !important;visibility: visible !important;width: 45px !important;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_gif/Pn4Sm0RsAujr9dOtwUGfl03zJzLBRXbZs8g1RcNcLr7qm5qEy419tofZ8dq1sIW75xZwq2K4zIzcTtaDOy4OTg/640?wx_fmt=gif"><strong style="max-width: 100%;letter-spacing: 0.544px;text-align: left;color: rgb(55, 55, 93);font-family: 微软雅黑;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong style="max-width: 100%;font-family: -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;letter-spacing: 1px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;widows: 1;box-sizing: border-box !important;overflow-wrap: break-word !important;">点击阅读原文，输入关键词，即可搜索您想要的 CSDN 文章。</span></strong></strong></p> 
<section class="" data-tools="135编辑器" data-id="94250" style="max-width: 100%;box-sizing: border-box;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);border-width: 0px;border-style: none;border-color: initial;overflow-wrap: break-word !important;"> 
 <section class="" data-tools="135编辑器" data-id="91842" style="max-width: 100%;box-sizing: border-box;border-width: 0px;border-style: none;border-color: initial;text-align: right;overflow-wrap: break-word !important;"> 
  <section style="max-width: 100%;display: inline-block;clear: both;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 
   <section class="" data-brushtype="text" style="padding: 18px 15px 20px 10px;max-width: 100%;box-sizing: border-box;color: rgb(86, 146, 214);background-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhpplm16ibb8iaib7RoGQ5iaHEdy66AHd7QqL7A2s5icSBE0aw4iaKOKPnXGYxQPhG7VMpbbYV6VJprSh7w/640?wx_fmt=png&quot;);background-repeat: no-repeat;text-align: center;background-size: 100% 100%;font-size: 16px;letter-spacing: 1.5px;overflow-wrap: break-word !important;"> 
    <section style="max-width: 100%;display: flex;justify-content: center;align-items: center;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 
     <section style="margin-left: 2px;max-width: 100%;width: 20px;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 
      <img class="" data-ratio="0.8936170212765957" data-type="png" data-w="47" data-src="https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhpplm16ibb8iaib7RoGQ5iaHEdvAd0o9e1LlUGA2k0Yib222agOxzweXhahA9GuzJcGBg0dA4DzlibxRqw/640?wx_fmt=png" style="margin-bottom: -6px;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible !important;width: 20px !important;" src="https://uzshare.com/_p?https://mmbiz.qpic.cn/mmbiz_png/Pn4Sm0RsAuhpplm16ibb8iaib7RoGQ5iaHEdvAd0o9e1LlUGA2k0Yib222agOxzweXhahA9GuzJcGBg0dA4DzlibxRqw/640?wx_fmt=png"> 
     </section> 
     <section class="" data-brushtype="text" style="max-width: 100%;font-size: 14px;color: rgb(51, 51, 51);text-align: right;box-sizing: border-box !important;overflow-wrap: break-word !important;"> 
      <span style="max-width: 100%;font-family: 楷体, 楷体_GB2312, SimKai;box-sizing: border-box !important;overflow-wrap: break-word !important;">你点的每个“在看”，我都认真当成了喜欢</span> 
     </section> 
    </section> 
   </section> 
  </section> 
 </section> 
</section>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0d1dbe5a3e5863242418b768d1601633";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
