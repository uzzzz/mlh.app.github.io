<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>kolla ansible各组件作用 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="kolla ansible各组件作用" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Aodh&nbsp; ceilometer进行了大量优化，其中变化比较大的就是 数据的采样、 采样的数据存储 、告警功能 这3个特性的分离 将这3个特性独立成3个项目，其中 数据的采样由 ceilometer负责，采样的数据存储由gnocchi负责，告警功能由 aodh负责 计费项目组合ceilometer、gnocchi、aodh、panko项目的稳步并进 Barbican 是为包含云服务在内的任何环境提供密钥管理功能。 Barbican能够存储的“秘密”包括： 密钥。包括对称算法中的密钥、非对称算法中的私钥（包括公钥）、数字签名的密钥等。其底层通过plugin设计支持不同的软、硬件（HSM）。 证书。通过plugin的方式提供证书的颁发、验证等功能。此功能将在Pike版本废弃。 二进制数据。 Barbican通过stevedore实现功能的插件式扩展。按照功能划分，Barbican有三种： crypto。用来加密待存储的信息。后端支持simple_crypto和HSM。simple_crypto的主密钥保存在barbican的配置文件中，因此安全风险极大。 secretstore。可以生成和保存密钥，根据支持的插件不同，可以生成不同类型的密钥，包括对称/非对称。当前支持的插件有dogtag和kmip。 certificate。后端支持snakeoil、symantec和dogtag。 Bifrost Bifrost 是一套 Ansible 工具，它可以在一套已知的硬件上通过 Ironic 上自动部署一个基本的镜像。它为一次性操作系统提供了模块化的实用程序，并且尽可能地减少了操作。整个过程被分为三个步骤： 安装：通过下载和建立机器镜像来准备本地环境，然后安装和配置必要的服务。 注册：输入定制化的硬件清单文件，用 Ironic 注册硬件列表，配置之前下载好的镜像 部署：指导 Ironic 将操作系统部署到每个机器上 Blazar Blazar 是 OpenStack 的资源预留项目，通过 Blazar 用户可以让 OpenStack 在 “租约（leased）” 期内预留出特定的资源以供使用。 预留的资源类型： 虚拟预留资源：Nova Instances、Cinder Volumes、Neutron Networks 物理预留资源：Compute Host（full hosts with specific characteristics of RAM, CPU, etc） 应用场景: 为尖峰负载准备资源 将租约作为计量结算单元 优化能源消耗 申请专用资源 Ceilometer Celiometer是OpenStack的计量与监控组件，官方的正式名称为OpenStack Telemetry，用来获取和保存计量与监控的各种测量值，并根据测量值进行报警。同时这些保存下来的测量值也可以被第三方系统获取，用来做更进一步的分析、处理或展示。 计量与监控是公有云运营的一个重要环节，计量是为了获取系统中用户对各种资源的使用情况，监控是为了确保资源处于健康的状态。 Cinder 块存储服务，提供相应的块存储，简单来说，就是虚拟出一块磁盘，可以挂载到相应的虚拟机之上，不受文件系统等因素影响，对虚拟机来说，这个操作就像是新加了一块硬盘，可以完成对磁盘的任何操作，包括挂载，卸载，格式化，转换文件系统等等操作，大多应用于虚拟机空间不足的情况下的空间扩容等等 CloudKitty 可以完成虚拟机实例(compute)、云硬盘(volume)、镜像(image)、网络进出流量(network.bw.in, network.bw.out)、浮动IP(network.floating)的计费 包括计费服务的对象获取（Tenant Fetcher）、计费数据源的收集（Collector）、计费引擎（Rating）的实现，计费费用数据的存储（Storage） Congress Congress是一个基于异构云环境的策略声明、监控、实施、审计的框架（policy-as-a-service）。Congress从云中不同的服务获取数据，输入到con gress的策略引擎，从而验证云中的各服务状态是否按照设置的策略运行 Congress的功能 监控云中的策略冲突（monitoring the cloud for policy violations） 预防策略冲突（preventing violations before they occur） 矫正策略冲突（correcting violations after they occur） Cyborg 随着机器学习和机器视觉的快速发展，用户对GPU的需求也日益剧增。截止目前，大多数用户仍会选择带有GPU的裸机服务器。然而，这同时意味着用户需要承担由配置此类设备所带来的管理性成本。如今，用户将能够使用vGPU驱动的虚拟机，并利用这部分资源运行人工智能相关的Workload。 随着OpenStack社区对AI和边缘计算的布局，而加速计算在边缘比在数据中心更为普遍，所以这又会加强OpenStack的地位，因此OpenStack在第17个版本迎来了Cyborg项目。 Cyborg项目起源于NFV acceleration management以及ETSI NFV-IFA 004 document，和OPNFV DPACC项目。Cyborg（以前称为Nomad）是用于管理硬件和软件加速资源（如 GPU、FPGA、CryptoCards和DPDK / SPDK）的框架，在Queens发布中首次亮相。特别是对于有 NFV workload的运营商，计算加速已经成为云虚拟机的必备功能。通过Cyborg，运维者可以列出、识别和发现加速器，连接和分离加速器实例，安装和卸载驱动。它也可以单独使用或与Nova或Ironic结合使用。Cyborg可以通过Nova计算控制器或Ironic裸机控制器来配置和取消配置这些设备。 在加速器方面，Nova计算控制器现在可以将Workload部署到Nvidia和Intel的虚拟化GPU（AMD GPU正在开发）。加速器可用于图形处理的场景（如虚拟桌面和工作站），还可以应用于集群上的通过虚拟化GPU以运行HPC或AI Workload的场景。 Cyborg API---应该支持有关加速器的基本操作，API支持以下接口： attach：连接现有的物理加速器或创建新的虚拟加速器，然后分配给虚拟机 detach：分离现有物理加速器或释放虚拟机的虚拟加速器 list：列出所有附加的加速器 update：修改加速器（状态或设备本身） admin：CRUD操作无关的某些配置 Cyborg Agent---Cyborg agent将存在于计算主机以及可能使用加速器的其他主机上，agent具体的作用： 检查硬件以找到加速器 管理安装驱动程序，依赖关系和卸载驱动 将实例连接到加速器 向Cyborg服务器报告有关可用加速器，状态和利用率的数据 硬件发现：每隔数秒就会扫描实例的加速器和现有加速器的使用级别，并将这些信息通过心跳消息报告给Cyborg服务器，以帮助管理调度加速器 硬件管理：Ansible将用于管理每个加速器的配置文件和加速器的Driver。install和uninstall特定的ansible playbook适配Cyborg所支持的硬件。在管理的硬件上进行的配置更改将通过运行不同配置的playbook作为底层实现。 实例连接：一旦产生一个实例需要连接到主机上的特定加速器，Cyborg服务器将向Cyborg agent发送消息。由于不同加速器之间的连接方法不同，因此agent需要不同的driver提供连接功能。 Cyborg-Conductor---Cyborg-db的数据库查询更新操作都需要通过向Cyborg-conductor服务发送RPC请求来实现，conductor负责数据库的访问权限控制，避免直接访问数据库。 openstack-Cyborg-generic-driver功能： 识别和发现附加的加速器后端列出在后端运行的服务 将加速器附加到通用后端 从通用后端分离加速器。 列出附加到通用后端的加速器。 修改附加到通用后端的加速器。 Quata---cyborg resource quota，Cyborg的配额管理用于在构建虚拟机时管理用户或项目对加速器的访问。目前，项目或用户可能拥有无限数量的加速资源，应该有一个限制，限制是可配置的。 Designate 提供了DNSaaS（DNS即服务）的功能，其目标就是要赋予OpenStack提供这种云域名系统的能力，云服务商可以使用Designate就能够很容易建造一个云域名管理系统来托管租户的公有域名。 ，引入了pool manager机制，对DNS服务器进行池化管理。同时通过MiniDNS进行DNS区域和资源记录同步 Freezer Freezer是一套开源的备份软件，它能帮助你自动的进行数据备份和还原动作。 目前Freezer已正式引入OpenStack，从事数据备份，是OpenStack社区中一个官方项目，旨在为OpenStack提供数据备份环境的解决方案 参考网址: https://blog.csdn.net/zhongbeida_xue/article/details/78458849 Glance 镜像服务,用来注册、登陆和检索虚拟机镜像 Heat 是OpenStack提供的自动编排功能的组件，基于描述性的模板，来编排复合云应用程序。 Heat向开发人员和系统管理员提供了一种简便地创建和管理一批相关的OpenStack资源的方法，并通过有序且可预测的方式对其进行资源配置和更新。 用户可以使用Heat的示例模板或自己创建模板来描述OpenStack资源以及应用程序运行时所需的任何相关依赖项或运行时参数。 当设置完成后，可通过按授权控制、可预测的方式修改和更新OpenStack资源。 用户可以通过OpenStack管理控制台、Heat命令行工具或 API对模板及其相关的资源集进行设置和更新。 Horizon 提供页面支持 Ironic OpenStack的裸金属服务Ironic支持物理机的添加，删除，电源管理及安装部署，让硬件基础设施资源分钟级快速交付成为可能。另外，还可以自定义RAID。更令人兴奋的是，还可以通过支持多租户，让裸金属与VPC内的虚拟机互通。 Karbor Karbor(原名Smaug)是一个OpenStack中提供应用数据保护服务的项目，让各个厂商的数据保护软件通过标准接口接入OpenStack，为OpenStack提供增强的备份、复制、迁移等数据保护即服务(Data Protection as a Service)能力，Karbor致力于解决虚拟机备份难、无标准备份的接口的现状 Keystone 是OpenStack框架中负责管理身份验证、服务规则和服务令牌功能的模块。 Kuryr Kuryr项目在OpenStackbigtent下,目的是将容器网络与openstackNeutron对接。Kuryr给人的第一印象是:这又是一个在Neutron框架下的项目,能够通过Neutron统一的北向接口来控制容器网络的SDN项目。但是实际上,Kuryr是将Neutron作为南向接口,来与容器网络对接 Magnum Mangum现在应该是OpenStack里边比较热门的一个和Docker集成的新项目。Magnum是一个新的专门针对Container的一个新项目，用来向用户提供容器服务 Manila File Share Service，文件共享即服务。是OpenStack大帐篷模式下的子项目之一，用来提供云上的文件共享，支持CIFS协议和NFS协议。 Mistral WorkFlow as a service。 典型的用户用例包括云平台的任务计划服务（Cloud Cron），任务调度（Task Scheduling）， 复杂的运行时间长的业务流程服务 Monasca Monasca为OpenStack提供监控即服务。它具有可扩展性、容错性，集成Keystone支持多租户，你可以按照你喜欢的任何采样频率将指标植入。你可以将其嵌入到现有的OpenStack发行版上，它将收集日志和指标，不仅适用于你的控制平面，还适用于租户工作负载。 Murano murano是OpenStack的Application Catalog服务，推崇AaaS(Anything-as-a-Service)的概念，通过统一的框架和API实现应用程序快速部署和应用程序生命周期管理的功能，降低应用程序对底层平台(OpenStack层和虚拟化层)的依赖。 Neutron Nova Octavia openstack octavia 是 openstack lbaas的支持的一种后台程序，提供为虚拟机流量的负载均衡。实质是类似于trove，调用 nove 以及neutron的api生成一台安装好haproxy和keepalived软件的虚拟机，并连接到目标网路。octavia共有4个组件 housekeeping,worker,api,health-manager，octavia agent。api作用就不详细说了。worker：主要作用是和nova，neutron等组件通信，用于虚拟机调度以及把对于虚拟机操作的指令下发给octavia agent。housekeeping：查看octavia/controller/housekeeping/house_keeping.py得知其三个功能点：SpareAmphora,DatabaseCleanup,CertRotation。依次是清理虚拟机的池子，清理过期数据库，更新证书。health-manager：检查虚拟机状态，和虚拟机中的octavia agent通信，来更新各个组件的状态。octavia agent 位于虚拟机内部：对下是接受指令操作下层的haproxy软件，对上是和health-manager通信汇报各种情况 Panko Panko主要提供事件存储服务 Rally Tempest用来作为 Openstack的功能测试框架,而 Rally则通常主要用作性能测试与分析的工具 Sahara 大数据服务 Searchlight Searchlight的目的是优化搜索的能力和性能,为不同的OpenStack云服务提供用户查询 Senlin 为OpenStack云提供集群服务（Cluster as a Service） 把OpenStack中同类对象的集合称为集群（Cluster）。集群由节点（node）组成。同一集群内的每个节点都是用相同的Profile创建出来的。注意，这里的节点和集群都是抽象对象（Object），具体是什么可通过插件（Plugins）进行定制和扩展。比如，早期的Senlin版本中，node只支持Nova Server（即Nova创建的VM）和Heat Stack（即通过Heat部署的包含计算存储和网络的一系列资源）。今年新增加对docker的支持，即node可以是一个Container。后续可能还会增加对裸机的管理，基于Ironic来实现。 除Profile可扩展外，对集群和节点进行管理的策略（Policy）也支持扩展（同样基于Plugins机制）。目前Senlin项目中已经支持的策略主要包括：部署（包括region级和zone级）、删除、扩容、负载均衡、健康管理等。具体如下图所示： Solum Murano是一个App Store（应用存储）服务，而Solum可以将开发的应用程序App发布到Murano中 Swift 对象存储服务，提供相应的对象存储，简单来说，就是虚拟出一块磁盘空间，可以在这个空间当中存放文件，也仅仅只能存放文件，不能进行格式化，转换文件系统，大多应用于云磁盘/文件 存储节点包含最少两个网络接口 Tacker OpenStack中 NFV编排和VNF 的管理 Tacker主要有以下模块与功能： VNF Manger 为用户提供VNF Catalog。VNF Catalog存储着由最终用户上传的VNF descriptor（描述符？）。 对NFV实例进行基本的生命周期管理 有利于VNF的初始配置 NFV编排 提供基于端到端部署的 VNFs 平台模板 提供了横跨 VIMs 编排 VNFs灵活性 Tacker通常需要TOSCA模板作为输入 VNF管理器以编排 VNFs。TOSCA模板构成 VNF descriptor和网络服务descriptor，目前 Tacker 仅支持VNF descriptor。 Tacker的Health Monitoring （健康监测） 当前版本的Tacker的监测是去Ping 运行NFV的虚机IP，Tacker的开发者将为下一代的监测框架努力，包括： 即插即用的驱动程序来监测虚机 提高对更多事件和行为的监测驱动可用性 当Tracker无法到达虚机时，将自动重启 Tempest Tempest 是一个旨在为云计算平台 OpenStack提供集成测试 Trove Openstack Trove是openstack为用户提供的数据库即服务(DBaaS)。所谓DBaaS，即trove既具有数据库管理的功能，又具有云计算的优势。使用trove，用户可以： &quot;按需&quot;获得数据库服务器 配置所获得的数据库服务器或者数据库服务器集群 对数据库服务器或者数据库服务器集群进行自动化管理 根据数据库的负载让数据库服务器集群动态伸缩 Vitrage Vitrage是openstack里面提供根因分析(RCA)服务的组件。 用来组织、分析和扩展openstack的告警和事件，对问题产生的根本原因进行推导，为系统产生推导后的告警或者设置推导后的状态。 功能简介： 1.物理-虚拟实体映射 2.推导告警和状态（例如：基于系统分析后产生告警或者修改状态，而不是直接监控） 3.对告警、事件进行根因分析 4.Horizon显示 Watcher Watcher是OpenStack中提资源优化服务组件 Watcher提供一个完整的优化循环链：从度量接收器，到优化处理器和操作计划应用程序。Watcher的目标在于提供一个强大的框架，可以实现广泛的云优化目标，包括减少数据中心运营成本，通过智能虚拟机迁移提高系统性能，提高能源效率等。此外，Watcher可供用户定制丰富的资源优化目标与策略算法 Zun Zun是Openstack中提供容器管理服务的组件，Zun的目标是提供统一的Openstack API用于启动和管理容器，支持多种容器技术。Zun原来称为Higgins，后改名为Zun。Zun计划支持多种容器技术，Docker，Rkt，clear container等，目前只支持Docker。OpenStack Queens版本发布，由于容器社区的火热，一项值得关注的补充则为“Zun”，它在OpenStack项目中负责提供容器服务，旨在通过与Neutron、Cinder、Keystone以及其它核心OpenStack服务相集成以实现容器的快速普及。通过这种方式，OpenStack的原有网络、存储以及身份验证工具将全部适用于容器体系，从而确保容器能够满足安全与合规性要求。" />
<meta property="og:description" content="Aodh&nbsp; ceilometer进行了大量优化，其中变化比较大的就是 数据的采样、 采样的数据存储 、告警功能 这3个特性的分离 将这3个特性独立成3个项目，其中 数据的采样由 ceilometer负责，采样的数据存储由gnocchi负责，告警功能由 aodh负责 计费项目组合ceilometer、gnocchi、aodh、panko项目的稳步并进 Barbican 是为包含云服务在内的任何环境提供密钥管理功能。 Barbican能够存储的“秘密”包括： 密钥。包括对称算法中的密钥、非对称算法中的私钥（包括公钥）、数字签名的密钥等。其底层通过plugin设计支持不同的软、硬件（HSM）。 证书。通过plugin的方式提供证书的颁发、验证等功能。此功能将在Pike版本废弃。 二进制数据。 Barbican通过stevedore实现功能的插件式扩展。按照功能划分，Barbican有三种： crypto。用来加密待存储的信息。后端支持simple_crypto和HSM。simple_crypto的主密钥保存在barbican的配置文件中，因此安全风险极大。 secretstore。可以生成和保存密钥，根据支持的插件不同，可以生成不同类型的密钥，包括对称/非对称。当前支持的插件有dogtag和kmip。 certificate。后端支持snakeoil、symantec和dogtag。 Bifrost Bifrost 是一套 Ansible 工具，它可以在一套已知的硬件上通过 Ironic 上自动部署一个基本的镜像。它为一次性操作系统提供了模块化的实用程序，并且尽可能地减少了操作。整个过程被分为三个步骤： 安装：通过下载和建立机器镜像来准备本地环境，然后安装和配置必要的服务。 注册：输入定制化的硬件清单文件，用 Ironic 注册硬件列表，配置之前下载好的镜像 部署：指导 Ironic 将操作系统部署到每个机器上 Blazar Blazar 是 OpenStack 的资源预留项目，通过 Blazar 用户可以让 OpenStack 在 “租约（leased）” 期内预留出特定的资源以供使用。 预留的资源类型： 虚拟预留资源：Nova Instances、Cinder Volumes、Neutron Networks 物理预留资源：Compute Host（full hosts with specific characteristics of RAM, CPU, etc） 应用场景: 为尖峰负载准备资源 将租约作为计量结算单元 优化能源消耗 申请专用资源 Ceilometer Celiometer是OpenStack的计量与监控组件，官方的正式名称为OpenStack Telemetry，用来获取和保存计量与监控的各种测量值，并根据测量值进行报警。同时这些保存下来的测量值也可以被第三方系统获取，用来做更进一步的分析、处理或展示。 计量与监控是公有云运营的一个重要环节，计量是为了获取系统中用户对各种资源的使用情况，监控是为了确保资源处于健康的状态。 Cinder 块存储服务，提供相应的块存储，简单来说，就是虚拟出一块磁盘，可以挂载到相应的虚拟机之上，不受文件系统等因素影响，对虚拟机来说，这个操作就像是新加了一块硬盘，可以完成对磁盘的任何操作，包括挂载，卸载，格式化，转换文件系统等等操作，大多应用于虚拟机空间不足的情况下的空间扩容等等 CloudKitty 可以完成虚拟机实例(compute)、云硬盘(volume)、镜像(image)、网络进出流量(network.bw.in, network.bw.out)、浮动IP(network.floating)的计费 包括计费服务的对象获取（Tenant Fetcher）、计费数据源的收集（Collector）、计费引擎（Rating）的实现，计费费用数据的存储（Storage） Congress Congress是一个基于异构云环境的策略声明、监控、实施、审计的框架（policy-as-a-service）。Congress从云中不同的服务获取数据，输入到con gress的策略引擎，从而验证云中的各服务状态是否按照设置的策略运行 Congress的功能 监控云中的策略冲突（monitoring the cloud for policy violations） 预防策略冲突（preventing violations before they occur） 矫正策略冲突（correcting violations after they occur） Cyborg 随着机器学习和机器视觉的快速发展，用户对GPU的需求也日益剧增。截止目前，大多数用户仍会选择带有GPU的裸机服务器。然而，这同时意味着用户需要承担由配置此类设备所带来的管理性成本。如今，用户将能够使用vGPU驱动的虚拟机，并利用这部分资源运行人工智能相关的Workload。 随着OpenStack社区对AI和边缘计算的布局，而加速计算在边缘比在数据中心更为普遍，所以这又会加强OpenStack的地位，因此OpenStack在第17个版本迎来了Cyborg项目。 Cyborg项目起源于NFV acceleration management以及ETSI NFV-IFA 004 document，和OPNFV DPACC项目。Cyborg（以前称为Nomad）是用于管理硬件和软件加速资源（如 GPU、FPGA、CryptoCards和DPDK / SPDK）的框架，在Queens发布中首次亮相。特别是对于有 NFV workload的运营商，计算加速已经成为云虚拟机的必备功能。通过Cyborg，运维者可以列出、识别和发现加速器，连接和分离加速器实例，安装和卸载驱动。它也可以单独使用或与Nova或Ironic结合使用。Cyborg可以通过Nova计算控制器或Ironic裸机控制器来配置和取消配置这些设备。 在加速器方面，Nova计算控制器现在可以将Workload部署到Nvidia和Intel的虚拟化GPU（AMD GPU正在开发）。加速器可用于图形处理的场景（如虚拟桌面和工作站），还可以应用于集群上的通过虚拟化GPU以运行HPC或AI Workload的场景。 Cyborg API---应该支持有关加速器的基本操作，API支持以下接口： attach：连接现有的物理加速器或创建新的虚拟加速器，然后分配给虚拟机 detach：分离现有物理加速器或释放虚拟机的虚拟加速器 list：列出所有附加的加速器 update：修改加速器（状态或设备本身） admin：CRUD操作无关的某些配置 Cyborg Agent---Cyborg agent将存在于计算主机以及可能使用加速器的其他主机上，agent具体的作用： 检查硬件以找到加速器 管理安装驱动程序，依赖关系和卸载驱动 将实例连接到加速器 向Cyborg服务器报告有关可用加速器，状态和利用率的数据 硬件发现：每隔数秒就会扫描实例的加速器和现有加速器的使用级别，并将这些信息通过心跳消息报告给Cyborg服务器，以帮助管理调度加速器 硬件管理：Ansible将用于管理每个加速器的配置文件和加速器的Driver。install和uninstall特定的ansible playbook适配Cyborg所支持的硬件。在管理的硬件上进行的配置更改将通过运行不同配置的playbook作为底层实现。 实例连接：一旦产生一个实例需要连接到主机上的特定加速器，Cyborg服务器将向Cyborg agent发送消息。由于不同加速器之间的连接方法不同，因此agent需要不同的driver提供连接功能。 Cyborg-Conductor---Cyborg-db的数据库查询更新操作都需要通过向Cyborg-conductor服务发送RPC请求来实现，conductor负责数据库的访问权限控制，避免直接访问数据库。 openstack-Cyborg-generic-driver功能： 识别和发现附加的加速器后端列出在后端运行的服务 将加速器附加到通用后端 从通用后端分离加速器。 列出附加到通用后端的加速器。 修改附加到通用后端的加速器。 Quata---cyborg resource quota，Cyborg的配额管理用于在构建虚拟机时管理用户或项目对加速器的访问。目前，项目或用户可能拥有无限数量的加速资源，应该有一个限制，限制是可配置的。 Designate 提供了DNSaaS（DNS即服务）的功能，其目标就是要赋予OpenStack提供这种云域名系统的能力，云服务商可以使用Designate就能够很容易建造一个云域名管理系统来托管租户的公有域名。 ，引入了pool manager机制，对DNS服务器进行池化管理。同时通过MiniDNS进行DNS区域和资源记录同步 Freezer Freezer是一套开源的备份软件，它能帮助你自动的进行数据备份和还原动作。 目前Freezer已正式引入OpenStack，从事数据备份，是OpenStack社区中一个官方项目，旨在为OpenStack提供数据备份环境的解决方案 参考网址: https://blog.csdn.net/zhongbeida_xue/article/details/78458849 Glance 镜像服务,用来注册、登陆和检索虚拟机镜像 Heat 是OpenStack提供的自动编排功能的组件，基于描述性的模板，来编排复合云应用程序。 Heat向开发人员和系统管理员提供了一种简便地创建和管理一批相关的OpenStack资源的方法，并通过有序且可预测的方式对其进行资源配置和更新。 用户可以使用Heat的示例模板或自己创建模板来描述OpenStack资源以及应用程序运行时所需的任何相关依赖项或运行时参数。 当设置完成后，可通过按授权控制、可预测的方式修改和更新OpenStack资源。 用户可以通过OpenStack管理控制台、Heat命令行工具或 API对模板及其相关的资源集进行设置和更新。 Horizon 提供页面支持 Ironic OpenStack的裸金属服务Ironic支持物理机的添加，删除，电源管理及安装部署，让硬件基础设施资源分钟级快速交付成为可能。另外，还可以自定义RAID。更令人兴奋的是，还可以通过支持多租户，让裸金属与VPC内的虚拟机互通。 Karbor Karbor(原名Smaug)是一个OpenStack中提供应用数据保护服务的项目，让各个厂商的数据保护软件通过标准接口接入OpenStack，为OpenStack提供增强的备份、复制、迁移等数据保护即服务(Data Protection as a Service)能力，Karbor致力于解决虚拟机备份难、无标准备份的接口的现状 Keystone 是OpenStack框架中负责管理身份验证、服务规则和服务令牌功能的模块。 Kuryr Kuryr项目在OpenStackbigtent下,目的是将容器网络与openstackNeutron对接。Kuryr给人的第一印象是:这又是一个在Neutron框架下的项目,能够通过Neutron统一的北向接口来控制容器网络的SDN项目。但是实际上,Kuryr是将Neutron作为南向接口,来与容器网络对接 Magnum Mangum现在应该是OpenStack里边比较热门的一个和Docker集成的新项目。Magnum是一个新的专门针对Container的一个新项目，用来向用户提供容器服务 Manila File Share Service，文件共享即服务。是OpenStack大帐篷模式下的子项目之一，用来提供云上的文件共享，支持CIFS协议和NFS协议。 Mistral WorkFlow as a service。 典型的用户用例包括云平台的任务计划服务（Cloud Cron），任务调度（Task Scheduling）， 复杂的运行时间长的业务流程服务 Monasca Monasca为OpenStack提供监控即服务。它具有可扩展性、容错性，集成Keystone支持多租户，你可以按照你喜欢的任何采样频率将指标植入。你可以将其嵌入到现有的OpenStack发行版上，它将收集日志和指标，不仅适用于你的控制平面，还适用于租户工作负载。 Murano murano是OpenStack的Application Catalog服务，推崇AaaS(Anything-as-a-Service)的概念，通过统一的框架和API实现应用程序快速部署和应用程序生命周期管理的功能，降低应用程序对底层平台(OpenStack层和虚拟化层)的依赖。 Neutron Nova Octavia openstack octavia 是 openstack lbaas的支持的一种后台程序，提供为虚拟机流量的负载均衡。实质是类似于trove，调用 nove 以及neutron的api生成一台安装好haproxy和keepalived软件的虚拟机，并连接到目标网路。octavia共有4个组件 housekeeping,worker,api,health-manager，octavia agent。api作用就不详细说了。worker：主要作用是和nova，neutron等组件通信，用于虚拟机调度以及把对于虚拟机操作的指令下发给octavia agent。housekeeping：查看octavia/controller/housekeeping/house_keeping.py得知其三个功能点：SpareAmphora,DatabaseCleanup,CertRotation。依次是清理虚拟机的池子，清理过期数据库，更新证书。health-manager：检查虚拟机状态，和虚拟机中的octavia agent通信，来更新各个组件的状态。octavia agent 位于虚拟机内部：对下是接受指令操作下层的haproxy软件，对上是和health-manager通信汇报各种情况 Panko Panko主要提供事件存储服务 Rally Tempest用来作为 Openstack的功能测试框架,而 Rally则通常主要用作性能测试与分析的工具 Sahara 大数据服务 Searchlight Searchlight的目的是优化搜索的能力和性能,为不同的OpenStack云服务提供用户查询 Senlin 为OpenStack云提供集群服务（Cluster as a Service） 把OpenStack中同类对象的集合称为集群（Cluster）。集群由节点（node）组成。同一集群内的每个节点都是用相同的Profile创建出来的。注意，这里的节点和集群都是抽象对象（Object），具体是什么可通过插件（Plugins）进行定制和扩展。比如，早期的Senlin版本中，node只支持Nova Server（即Nova创建的VM）和Heat Stack（即通过Heat部署的包含计算存储和网络的一系列资源）。今年新增加对docker的支持，即node可以是一个Container。后续可能还会增加对裸机的管理，基于Ironic来实现。 除Profile可扩展外，对集群和节点进行管理的策略（Policy）也支持扩展（同样基于Plugins机制）。目前Senlin项目中已经支持的策略主要包括：部署（包括region级和zone级）、删除、扩容、负载均衡、健康管理等。具体如下图所示： Solum Murano是一个App Store（应用存储）服务，而Solum可以将开发的应用程序App发布到Murano中 Swift 对象存储服务，提供相应的对象存储，简单来说，就是虚拟出一块磁盘空间，可以在这个空间当中存放文件，也仅仅只能存放文件，不能进行格式化，转换文件系统，大多应用于云磁盘/文件 存储节点包含最少两个网络接口 Tacker OpenStack中 NFV编排和VNF 的管理 Tacker主要有以下模块与功能： VNF Manger 为用户提供VNF Catalog。VNF Catalog存储着由最终用户上传的VNF descriptor（描述符？）。 对NFV实例进行基本的生命周期管理 有利于VNF的初始配置 NFV编排 提供基于端到端部署的 VNFs 平台模板 提供了横跨 VIMs 编排 VNFs灵活性 Tacker通常需要TOSCA模板作为输入 VNF管理器以编排 VNFs。TOSCA模板构成 VNF descriptor和网络服务descriptor，目前 Tacker 仅支持VNF descriptor。 Tacker的Health Monitoring （健康监测） 当前版本的Tacker的监测是去Ping 运行NFV的虚机IP，Tacker的开发者将为下一代的监测框架努力，包括： 即插即用的驱动程序来监测虚机 提高对更多事件和行为的监测驱动可用性 当Tracker无法到达虚机时，将自动重启 Tempest Tempest 是一个旨在为云计算平台 OpenStack提供集成测试 Trove Openstack Trove是openstack为用户提供的数据库即服务(DBaaS)。所谓DBaaS，即trove既具有数据库管理的功能，又具有云计算的优势。使用trove，用户可以： &quot;按需&quot;获得数据库服务器 配置所获得的数据库服务器或者数据库服务器集群 对数据库服务器或者数据库服务器集群进行自动化管理 根据数据库的负载让数据库服务器集群动态伸缩 Vitrage Vitrage是openstack里面提供根因分析(RCA)服务的组件。 用来组织、分析和扩展openstack的告警和事件，对问题产生的根本原因进行推导，为系统产生推导后的告警或者设置推导后的状态。 功能简介： 1.物理-虚拟实体映射 2.推导告警和状态（例如：基于系统分析后产生告警或者修改状态，而不是直接监控） 3.对告警、事件进行根因分析 4.Horizon显示 Watcher Watcher是OpenStack中提资源优化服务组件 Watcher提供一个完整的优化循环链：从度量接收器，到优化处理器和操作计划应用程序。Watcher的目标在于提供一个强大的框架，可以实现广泛的云优化目标，包括减少数据中心运营成本，通过智能虚拟机迁移提高系统性能，提高能源效率等。此外，Watcher可供用户定制丰富的资源优化目标与策略算法 Zun Zun是Openstack中提供容器管理服务的组件，Zun的目标是提供统一的Openstack API用于启动和管理容器，支持多种容器技术。Zun原来称为Higgins，后改名为Zun。Zun计划支持多种容器技术，Docker，Rkt，clear container等，目前只支持Docker。OpenStack Queens版本发布，由于容器社区的火热，一项值得关注的补充则为“Zun”，它在OpenStack项目中负责提供容器服务，旨在通过与Neutron、Cinder、Keystone以及其它核心OpenStack服务相集成以实现容器的快速普及。通过这种方式，OpenStack的原有网络、存储以及身份验证工具将全部适用于容器体系，从而确保容器能够满足安全与合规性要求。" />
<link rel="canonical" href="https://mlh.app/2019/05/04/729856.html" />
<meta property="og:url" content="https://mlh.app/2019/05/04/729856.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-05-04T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"Aodh&nbsp; ceilometer进行了大量优化，其中变化比较大的就是 数据的采样、 采样的数据存储 、告警功能 这3个特性的分离 将这3个特性独立成3个项目，其中 数据的采样由 ceilometer负责，采样的数据存储由gnocchi负责，告警功能由 aodh负责 计费项目组合ceilometer、gnocchi、aodh、panko项目的稳步并进 Barbican 是为包含云服务在内的任何环境提供密钥管理功能。 Barbican能够存储的“秘密”包括： 密钥。包括对称算法中的密钥、非对称算法中的私钥（包括公钥）、数字签名的密钥等。其底层通过plugin设计支持不同的软、硬件（HSM）。 证书。通过plugin的方式提供证书的颁发、验证等功能。此功能将在Pike版本废弃。 二进制数据。 Barbican通过stevedore实现功能的插件式扩展。按照功能划分，Barbican有三种： crypto。用来加密待存储的信息。后端支持simple_crypto和HSM。simple_crypto的主密钥保存在barbican的配置文件中，因此安全风险极大。 secretstore。可以生成和保存密钥，根据支持的插件不同，可以生成不同类型的密钥，包括对称/非对称。当前支持的插件有dogtag和kmip。 certificate。后端支持snakeoil、symantec和dogtag。 Bifrost Bifrost 是一套 Ansible 工具，它可以在一套已知的硬件上通过 Ironic 上自动部署一个基本的镜像。它为一次性操作系统提供了模块化的实用程序，并且尽可能地减少了操作。整个过程被分为三个步骤： 安装：通过下载和建立机器镜像来准备本地环境，然后安装和配置必要的服务。 注册：输入定制化的硬件清单文件，用 Ironic 注册硬件列表，配置之前下载好的镜像 部署：指导 Ironic 将操作系统部署到每个机器上 Blazar Blazar 是 OpenStack 的资源预留项目，通过 Blazar 用户可以让 OpenStack 在 “租约（leased）” 期内预留出特定的资源以供使用。 预留的资源类型： 虚拟预留资源：Nova Instances、Cinder Volumes、Neutron Networks 物理预留资源：Compute Host（full hosts with specific characteristics of RAM, CPU, etc） 应用场景: 为尖峰负载准备资源 将租约作为计量结算单元 优化能源消耗 申请专用资源 Ceilometer Celiometer是OpenStack的计量与监控组件，官方的正式名称为OpenStack Telemetry，用来获取和保存计量与监控的各种测量值，并根据测量值进行报警。同时这些保存下来的测量值也可以被第三方系统获取，用来做更进一步的分析、处理或展示。 计量与监控是公有云运营的一个重要环节，计量是为了获取系统中用户对各种资源的使用情况，监控是为了确保资源处于健康的状态。 Cinder 块存储服务，提供相应的块存储，简单来说，就是虚拟出一块磁盘，可以挂载到相应的虚拟机之上，不受文件系统等因素影响，对虚拟机来说，这个操作就像是新加了一块硬盘，可以完成对磁盘的任何操作，包括挂载，卸载，格式化，转换文件系统等等操作，大多应用于虚拟机空间不足的情况下的空间扩容等等 CloudKitty 可以完成虚拟机实例(compute)、云硬盘(volume)、镜像(image)、网络进出流量(network.bw.in, network.bw.out)、浮动IP(network.floating)的计费 包括计费服务的对象获取（Tenant Fetcher）、计费数据源的收集（Collector）、计费引擎（Rating）的实现，计费费用数据的存储（Storage） Congress Congress是一个基于异构云环境的策略声明、监控、实施、审计的框架（policy-as-a-service）。Congress从云中不同的服务获取数据，输入到con gress的策略引擎，从而验证云中的各服务状态是否按照设置的策略运行 Congress的功能 监控云中的策略冲突（monitoring the cloud for policy violations） 预防策略冲突（preventing violations before they occur） 矫正策略冲突（correcting violations after they occur） Cyborg 随着机器学习和机器视觉的快速发展，用户对GPU的需求也日益剧增。截止目前，大多数用户仍会选择带有GPU的裸机服务器。然而，这同时意味着用户需要承担由配置此类设备所带来的管理性成本。如今，用户将能够使用vGPU驱动的虚拟机，并利用这部分资源运行人工智能相关的Workload。 随着OpenStack社区对AI和边缘计算的布局，而加速计算在边缘比在数据中心更为普遍，所以这又会加强OpenStack的地位，因此OpenStack在第17个版本迎来了Cyborg项目。 Cyborg项目起源于NFV acceleration management以及ETSI NFV-IFA 004 document，和OPNFV DPACC项目。Cyborg（以前称为Nomad）是用于管理硬件和软件加速资源（如 GPU、FPGA、CryptoCards和DPDK / SPDK）的框架，在Queens发布中首次亮相。特别是对于有 NFV workload的运营商，计算加速已经成为云虚拟机的必备功能。通过Cyborg，运维者可以列出、识别和发现加速器，连接和分离加速器实例，安装和卸载驱动。它也可以单独使用或与Nova或Ironic结合使用。Cyborg可以通过Nova计算控制器或Ironic裸机控制器来配置和取消配置这些设备。 在加速器方面，Nova计算控制器现在可以将Workload部署到Nvidia和Intel的虚拟化GPU（AMD GPU正在开发）。加速器可用于图形处理的场景（如虚拟桌面和工作站），还可以应用于集群上的通过虚拟化GPU以运行HPC或AI Workload的场景。 Cyborg API---应该支持有关加速器的基本操作，API支持以下接口： attach：连接现有的物理加速器或创建新的虚拟加速器，然后分配给虚拟机 detach：分离现有物理加速器或释放虚拟机的虚拟加速器 list：列出所有附加的加速器 update：修改加速器（状态或设备本身） admin：CRUD操作无关的某些配置 Cyborg Agent---Cyborg agent将存在于计算主机以及可能使用加速器的其他主机上，agent具体的作用： 检查硬件以找到加速器 管理安装驱动程序，依赖关系和卸载驱动 将实例连接到加速器 向Cyborg服务器报告有关可用加速器，状态和利用率的数据 硬件发现：每隔数秒就会扫描实例的加速器和现有加速器的使用级别，并将这些信息通过心跳消息报告给Cyborg服务器，以帮助管理调度加速器 硬件管理：Ansible将用于管理每个加速器的配置文件和加速器的Driver。install和uninstall特定的ansible playbook适配Cyborg所支持的硬件。在管理的硬件上进行的配置更改将通过运行不同配置的playbook作为底层实现。 实例连接：一旦产生一个实例需要连接到主机上的特定加速器，Cyborg服务器将向Cyborg agent发送消息。由于不同加速器之间的连接方法不同，因此agent需要不同的driver提供连接功能。 Cyborg-Conductor---Cyborg-db的数据库查询更新操作都需要通过向Cyborg-conductor服务发送RPC请求来实现，conductor负责数据库的访问权限控制，避免直接访问数据库。 openstack-Cyborg-generic-driver功能： 识别和发现附加的加速器后端列出在后端运行的服务 将加速器附加到通用后端 从通用后端分离加速器。 列出附加到通用后端的加速器。 修改附加到通用后端的加速器。 Quata---cyborg resource quota，Cyborg的配额管理用于在构建虚拟机时管理用户或项目对加速器的访问。目前，项目或用户可能拥有无限数量的加速资源，应该有一个限制，限制是可配置的。 Designate 提供了DNSaaS（DNS即服务）的功能，其目标就是要赋予OpenStack提供这种云域名系统的能力，云服务商可以使用Designate就能够很容易建造一个云域名管理系统来托管租户的公有域名。 ，引入了pool manager机制，对DNS服务器进行池化管理。同时通过MiniDNS进行DNS区域和资源记录同步 Freezer Freezer是一套开源的备份软件，它能帮助你自动的进行数据备份和还原动作。 目前Freezer已正式引入OpenStack，从事数据备份，是OpenStack社区中一个官方项目，旨在为OpenStack提供数据备份环境的解决方案 参考网址: https://blog.csdn.net/zhongbeida_xue/article/details/78458849 Glance 镜像服务,用来注册、登陆和检索虚拟机镜像 Heat 是OpenStack提供的自动编排功能的组件，基于描述性的模板，来编排复合云应用程序。 Heat向开发人员和系统管理员提供了一种简便地创建和管理一批相关的OpenStack资源的方法，并通过有序且可预测的方式对其进行资源配置和更新。 用户可以使用Heat的示例模板或自己创建模板来描述OpenStack资源以及应用程序运行时所需的任何相关依赖项或运行时参数。 当设置完成后，可通过按授权控制、可预测的方式修改和更新OpenStack资源。 用户可以通过OpenStack管理控制台、Heat命令行工具或 API对模板及其相关的资源集进行设置和更新。 Horizon 提供页面支持 Ironic OpenStack的裸金属服务Ironic支持物理机的添加，删除，电源管理及安装部署，让硬件基础设施资源分钟级快速交付成为可能。另外，还可以自定义RAID。更令人兴奋的是，还可以通过支持多租户，让裸金属与VPC内的虚拟机互通。 Karbor Karbor(原名Smaug)是一个OpenStack中提供应用数据保护服务的项目，让各个厂商的数据保护软件通过标准接口接入OpenStack，为OpenStack提供增强的备份、复制、迁移等数据保护即服务(Data Protection as a Service)能力，Karbor致力于解决虚拟机备份难、无标准备份的接口的现状 Keystone 是OpenStack框架中负责管理身份验证、服务规则和服务令牌功能的模块。 Kuryr Kuryr项目在OpenStackbigtent下,目的是将容器网络与openstackNeutron对接。Kuryr给人的第一印象是:这又是一个在Neutron框架下的项目,能够通过Neutron统一的北向接口来控制容器网络的SDN项目。但是实际上,Kuryr是将Neutron作为南向接口,来与容器网络对接 Magnum Mangum现在应该是OpenStack里边比较热门的一个和Docker集成的新项目。Magnum是一个新的专门针对Container的一个新项目，用来向用户提供容器服务 Manila File Share Service，文件共享即服务。是OpenStack大帐篷模式下的子项目之一，用来提供云上的文件共享，支持CIFS协议和NFS协议。 Mistral WorkFlow as a service。 典型的用户用例包括云平台的任务计划服务（Cloud Cron），任务调度（Task Scheduling）， 复杂的运行时间长的业务流程服务 Monasca Monasca为OpenStack提供监控即服务。它具有可扩展性、容错性，集成Keystone支持多租户，你可以按照你喜欢的任何采样频率将指标植入。你可以将其嵌入到现有的OpenStack发行版上，它将收集日志和指标，不仅适用于你的控制平面，还适用于租户工作负载。 Murano murano是OpenStack的Application Catalog服务，推崇AaaS(Anything-as-a-Service)的概念，通过统一的框架和API实现应用程序快速部署和应用程序生命周期管理的功能，降低应用程序对底层平台(OpenStack层和虚拟化层)的依赖。 Neutron Nova Octavia openstack octavia 是 openstack lbaas的支持的一种后台程序，提供为虚拟机流量的负载均衡。实质是类似于trove，调用 nove 以及neutron的api生成一台安装好haproxy和keepalived软件的虚拟机，并连接到目标网路。octavia共有4个组件 housekeeping,worker,api,health-manager，octavia agent。api作用就不详细说了。worker：主要作用是和nova，neutron等组件通信，用于虚拟机调度以及把对于虚拟机操作的指令下发给octavia agent。housekeeping：查看octavia/controller/housekeeping/house_keeping.py得知其三个功能点：SpareAmphora,DatabaseCleanup,CertRotation。依次是清理虚拟机的池子，清理过期数据库，更新证书。health-manager：检查虚拟机状态，和虚拟机中的octavia agent通信，来更新各个组件的状态。octavia agent 位于虚拟机内部：对下是接受指令操作下层的haproxy软件，对上是和health-manager通信汇报各种情况 Panko Panko主要提供事件存储服务 Rally Tempest用来作为 Openstack的功能测试框架,而 Rally则通常主要用作性能测试与分析的工具 Sahara 大数据服务 Searchlight Searchlight的目的是优化搜索的能力和性能,为不同的OpenStack云服务提供用户查询 Senlin 为OpenStack云提供集群服务（Cluster as a Service） 把OpenStack中同类对象的集合称为集群（Cluster）。集群由节点（node）组成。同一集群内的每个节点都是用相同的Profile创建出来的。注意，这里的节点和集群都是抽象对象（Object），具体是什么可通过插件（Plugins）进行定制和扩展。比如，早期的Senlin版本中，node只支持Nova Server（即Nova创建的VM）和Heat Stack（即通过Heat部署的包含计算存储和网络的一系列资源）。今年新增加对docker的支持，即node可以是一个Container。后续可能还会增加对裸机的管理，基于Ironic来实现。 除Profile可扩展外，对集群和节点进行管理的策略（Policy）也支持扩展（同样基于Plugins机制）。目前Senlin项目中已经支持的策略主要包括：部署（包括region级和zone级）、删除、扩容、负载均衡、健康管理等。具体如下图所示： Solum Murano是一个App Store（应用存储）服务，而Solum可以将开发的应用程序App发布到Murano中 Swift 对象存储服务，提供相应的对象存储，简单来说，就是虚拟出一块磁盘空间，可以在这个空间当中存放文件，也仅仅只能存放文件，不能进行格式化，转换文件系统，大多应用于云磁盘/文件 存储节点包含最少两个网络接口 Tacker OpenStack中 NFV编排和VNF 的管理 Tacker主要有以下模块与功能： VNF Manger 为用户提供VNF Catalog。VNF Catalog存储着由最终用户上传的VNF descriptor（描述符？）。 对NFV实例进行基本的生命周期管理 有利于VNF的初始配置 NFV编排 提供基于端到端部署的 VNFs 平台模板 提供了横跨 VIMs 编排 VNFs灵活性 Tacker通常需要TOSCA模板作为输入 VNF管理器以编排 VNFs。TOSCA模板构成 VNF descriptor和网络服务descriptor，目前 Tacker 仅支持VNF descriptor。 Tacker的Health Monitoring （健康监测） 当前版本的Tacker的监测是去Ping 运行NFV的虚机IP，Tacker的开发者将为下一代的监测框架努力，包括： 即插即用的驱动程序来监测虚机 提高对更多事件和行为的监测驱动可用性 当Tracker无法到达虚机时，将自动重启 Tempest Tempest 是一个旨在为云计算平台 OpenStack提供集成测试 Trove Openstack Trove是openstack为用户提供的数据库即服务(DBaaS)。所谓DBaaS，即trove既具有数据库管理的功能，又具有云计算的优势。使用trove，用户可以： &quot;按需&quot;获得数据库服务器 配置所获得的数据库服务器或者数据库服务器集群 对数据库服务器或者数据库服务器集群进行自动化管理 根据数据库的负载让数据库服务器集群动态伸缩 Vitrage Vitrage是openstack里面提供根因分析(RCA)服务的组件。 用来组织、分析和扩展openstack的告警和事件，对问题产生的根本原因进行推导，为系统产生推导后的告警或者设置推导后的状态。 功能简介： 1.物理-虚拟实体映射 2.推导告警和状态（例如：基于系统分析后产生告警或者修改状态，而不是直接监控） 3.对告警、事件进行根因分析 4.Horizon显示 Watcher Watcher是OpenStack中提资源优化服务组件 Watcher提供一个完整的优化循环链：从度量接收器，到优化处理器和操作计划应用程序。Watcher的目标在于提供一个强大的框架，可以实现广泛的云优化目标，包括减少数据中心运营成本，通过智能虚拟机迁移提高系统性能，提高能源效率等。此外，Watcher可供用户定制丰富的资源优化目标与策略算法 Zun Zun是Openstack中提供容器管理服务的组件，Zun的目标是提供统一的Openstack API用于启动和管理容器，支持多种容器技术。Zun原来称为Higgins，后改名为Zun。Zun计划支持多种容器技术，Docker，Rkt，clear container等，目前只支持Docker。OpenStack Queens版本发布，由于容器社区的火热，一项值得关注的补充则为“Zun”，它在OpenStack项目中负责提供容器服务，旨在通过与Neutron、Cinder、Keystone以及其它核心OpenStack服务相集成以实现容器的快速普及。通过这种方式，OpenStack的原有网络、存储以及身份验证工具将全部适用于容器体系，从而确保容器能够满足安全与合规性要求。","@type":"BlogPosting","url":"https://mlh.app/2019/05/04/729856.html","headline":"kolla ansible各组件作用","dateModified":"2019-05-04T00:00:00+08:00","datePublished":"2019-05-04T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2019/05/04/729856.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>kolla ansible各组件作用</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f57960eb32.css"> 
 <div class="htmledit_views" id="content_views"> 
  <pre>
<u><em><span style="color:#f33b45;"><strong>Aodh&nbsp; </strong></span></em></u>
ceilometer进行了大量优化，其中变化比较大的就是 数据的采样、 采样的数据存储 、告警功能 这3个特性的分离
将这3个特性独立成3个项目，其中 数据的采样由 ceilometer负责，采样的数据存储由gnocchi负责，告警功能由 aodh负责
计费项目组合ceilometer、gnocchi、aodh、panko项目的稳步并进

<u><span style="color:#f33b45;"><em><strong>Barbican</strong></em></span></u>
是为包含云服务在内的任何环境提供密钥管理功能。
Barbican能够存储的“秘密”包括：
密钥。包括对称算法中的密钥、非对称算法中的私钥（包括公钥）、数字签名的密钥等。其底层通过plugin设计支持不同的软、硬件（HSM）。
证书。通过plugin的方式提供证书的颁发、验证等功能。此功能将在Pike版本废弃。
二进制数据。</pre> 
  <pre>
Barbican通过stevedore实现功能的插件式扩展。按照功能划分，Barbican有三种：
crypto。用来加密待存储的信息。后端支持simple_crypto和HSM。simple_crypto的主密钥保存在barbican的配置文件中，因此安全风险极大。
secretstore。可以生成和保存密钥，根据支持的插件不同，可以生成不同类型的密钥，包括对称/非对称。当前支持的插件有dogtag和kmip。
certificate。后端支持snakeoil、symantec和dogtag。

<span style="color:#f33b45;"><u><em><strong>Bifrost</strong></em></u></span></pre> 
  <pre>
Bifrost 是一套 Ansible 工具，它可以在一套已知的硬件上通过 Ironic 上自动部署一个基本的镜像。它为一次性操作系统提供了模块化的实用程序，并且尽可能地减少了操作。整个过程被分为三个步骤：
安装：通过下载和建立机器镜像来准备本地环境，然后安装和配置必要的服务。
注册：输入定制化的硬件清单文件，用 Ironic 注册硬件列表，配置之前下载好的镜像
部署：指导 Ironic 将操作系统部署到每个机器上
</pre> 
  <pre>
<span style="color:#f33b45;"><u><em><strong>Blazar</strong></em></u></span>
Blazar 是 OpenStack 的资源预留项目，通过 Blazar 用户可以让 OpenStack 在 “租约（leased）” 期内预留出特定的资源以供使用。
预留的资源类型：
虚拟预留资源：Nova Instances、Cinder Volumes、Neutron Networks
物理预留资源：Compute Host（full hosts with specific characteristics of RAM, CPU, etc）
应用场景:
为尖峰负载准备资源
将租约作为计量结算单元
优化能源消耗
申请专用资源
</pre> 
  <pre>
<span style="color:#f33b45;"><u><em><strong>Ceilometer</strong></em></u></span>
Celiometer是OpenStack的计量与监控组件，官方的正式名称为OpenStack Telemetry，用来获取和保存计量与监控的各种测量值，并根据测量值进行报警。同时这些保存下来的测量值也可以被第三方系统获取，用来做更进一步的分析、处理或展示。
计量与监控是公有云运营的一个重要环节，计量是为了获取系统中用户对各种资源的使用情况，监控是为了确保资源处于健康的状态。

<span style="color:#f33b45;"><u><em><strong>Cinder</strong></em></u></span>
块存储服务，提供相应的块存储，简单来说，就是虚拟出一块磁盘，可以挂载到相应的虚拟机之上，不受文件系统等因素影响，对虚拟机来说，这个操作就像是新加了一块硬盘，可以完成对磁盘的任何操作，包括挂载，卸载，格式化，转换文件系统等等操作，大多应用于虚拟机空间不足的情况下的空间扩容等等

<span style="color:#f33b45;"><u><em><strong>CloudKitty</strong></em></u></span>
可以完成虚拟机实例(compute)、云硬盘(volume)、镜像(image)、网络进出流量(network.bw.in, network.bw.out)、浮动IP(network.floating)的计费
包括计费服务的对象获取（Tenant Fetcher）、计费数据源的收集（Collector）、计费引擎（Rating）的实现，计费费用数据的存储（Storage）

<span style="color:#f33b45;"><u><em><strong>Congress</strong></em></u></span>
Congress是一个基于异构云环境的策略声明、监控、实施、审计的框架（policy-as-a-service）。Congress从云中不同的服务获取数据，输入到con
gress的策略引擎，从而验证云中的各服务状态是否按照设置的策略运行
Congress的功能
监控云中的策略冲突（monitoring the cloud for policy violations）
预防策略冲突（preventing violations before they occur）
矫正策略冲突（correcting violations after they occur）

<span style="color:#f33b45;"><u><em><strong>Cyborg</strong></em></u></span>
随着机器学习和机器视觉的快速发展，用户对GPU的需求也日益剧增。截止目前，大多数用户仍会选择带有GPU的裸机服务器。然而，这同时意味着用户需要承担由配置此类设备所带来的管理性成本。如今，用户将能够使用vGPU驱动的虚拟机，并利用这部分资源运行人工智能相关的Workload。
随着OpenStack社区对AI和边缘计算的布局，而加速计算在边缘比在数据中心更为普遍，所以这又会加强OpenStack的地位，因此OpenStack在第17个版本迎来了Cyborg项目。

Cyborg项目起源于NFV acceleration management以及ETSI NFV-IFA 004 document，和OPNFV DPACC项目。Cyborg（以前称为Nomad）是用于管理硬件和软件加速资源（如 GPU、FPGA、CryptoCards和DPDK / SPDK）的框架，在Queens发布中首次亮相。特别是对于有 NFV workload的运营商，计算加速已经成为云虚拟机的必备功能。通过Cyborg，运维者可以列出、识别和发现加速器，连接和分离加速器实例，安装和卸载驱动。它也可以单独使用或与Nova或Ironic结合使用。Cyborg可以通过Nova计算控制器或Ironic裸机控制器来配置和取消配置这些设备。

在加速器方面，Nova计算控制器现在可以将Workload部署到Nvidia和Intel的虚拟化GPU（AMD GPU正在开发）。加速器可用于图形处理的场景（如虚拟桌面和工作站），还可以应用于集群上的通过虚拟化GPU以运行HPC或AI Workload的场景。
Cyborg API---应该支持有关加速器的基本操作，API支持以下接口：
attach：连接现有的物理加速器或创建新的虚拟加速器，然后分配给虚拟机
detach：分离现有物理加速器或释放虚拟机的虚拟加速器
list：列出所有附加的加速器
update：修改加速器（状态或设备本身）
admin：CRUD操作无关的某些配置
Cyborg Agent---Cyborg agent将存在于计算主机以及可能使用加速器的其他主机上，agent具体的作用：
检查硬件以找到加速器
管理安装驱动程序，依赖关系和卸载驱动
将实例连接到加速器
向Cyborg服务器报告有关可用加速器，状态和利用率的数据
硬件发现：每隔数秒就会扫描实例的加速器和现有加速器的使用级别，并将这些信息通过心跳消息报告给Cyborg服务器，以帮助管理调度加速器
硬件管理：Ansible将用于管理每个加速器的配置文件和加速器的Driver。install和uninstall特定的ansible playbook适配Cyborg所支持的硬件。在管理的硬件上进行的配置更改将通过运行不同配置的playbook作为底层实现。

实例连接：一旦产生一个实例需要连接到主机上的特定加速器，Cyborg服务器将向Cyborg agent发送消息。由于不同加速器之间的连接方法不同，因此agent需要不同的driver提供连接功能。</pre> 
  <pre>
Cyborg-Conductor---Cyborg-db的数据库查询更新操作都需要通过向Cyborg-conductor服务发送RPC请求来实现，conductor负责数据库的访问权限控制，避免直接访问数据库。
</pre> 
  <pre>
openstack-Cyborg-generic-driver功能：
识别和发现附加的加速器后端列出在后端运行的服务
将加速器附加到通用后端
从通用后端分离加速器。
列出附加到通用后端的加速器。
修改附加到通用后端的加速器。
Quata---cyborg resource quota，Cyborg的配额管理用于在构建虚拟机时管理用户或项目对加速器的访问。目前，项目或用户可能拥有无限数量的加速资源，应该有一个限制，限制是可配置的。

<span style="color:#f33b45;"><u><em><strong>Designate</strong></em></u></span>
提供了DNSaaS（DNS即服务）的功能，其目标就是要赋予OpenStack提供这种云域名系统的能力，云服务商可以使用Designate就能够很容易建造一个云域名管理系统来托管租户的公有域名。
，引入了pool manager机制，对DNS服务器进行池化管理。同时通过MiniDNS进行DNS区域和资源记录同步

<span style="color:#f33b45;"><u><em><strong>Freezer</strong></em></u></span></pre> 
  <pre>
Freezer是一套开源的备份软件，它能帮助你自动的进行数据备份和还原动作。
目前Freezer已正式引入OpenStack，从事数据备份，是OpenStack社区中一个官方项目，旨在为OpenStack提供数据备份环境的解决方案
参考网址: https://blog.csdn.net/zhongbeida_xue/article/details/78458849</pre> 
  <pre>
<span style="color:#f33b45;"><u><em><strong>Glance</strong></em></u></span>
镜像服务,用来注册、登陆和检索虚拟机镜像
</pre> 
  <pre>
<span style="color:#f33b45;"><em><u><strong>Heat</strong></u></em></span></pre> 
  <pre>
是OpenStack提供的自动编排功能的组件，基于描述性的模板，来编排复合云应用程序。
Heat向开发人员和系统管理员提供了一种简便地创建和管理一批相关的OpenStack资源的方法，并通过有序且可预测的方式对其进行资源配置和更新。
用户可以使用Heat的示例模板或自己创建模板来描述OpenStack资源以及应用程序运行时所需的任何相关依赖项或运行时参数。
当设置完成后，可通过按授权控制、可预测的方式修改和更新OpenStack资源。
用户可以通过OpenStack管理控制台、Heat命令行工具或 API对模板及其相关的资源集进行设置和更新。

<span style="color:#f33b45;"><u><em><strong>Horizon</strong></em></u></span>
提供页面支持

<span style="color:#f33b45;"><u><strong><em>Ironic</em></strong></u></span>
OpenStack的裸金属服务Ironic支持物理机的添加，删除，电源管理及安装部署，让硬件基础设施资源分钟级快速交付成为可能。另外，还可以自定义RAID。更令人兴奋的是，还可以通过支持多租户，让裸金属与VPC内的虚拟机互通。

<span style="color:#f33b45;"><u><em><strong>Karbor</strong></em></u></span>
Karbor(原名Smaug)是一个OpenStack中提供应用数据保护服务的项目，让各个厂商的数据保护软件通过标准接口接入OpenStack，为OpenStack提供增强的备份、复制、迁移等数据保护即服务(Data Protection as a Service)能力，Karbor致力于解决虚拟机备份难、无标准备份的接口的现状

<strong><em><u><span style="color:#f33b45;">Keystone</span></u></em></strong>
是OpenStack框架中负责管理身份验证、服务规则和服务令牌功能的模块。

<span style="color:#f33b45;"><u><em><strong>Kuryr</strong></em></u></span>
Kuryr项目在OpenStackbigtent下,目的是将容器网络与openstackNeutron对接。Kuryr给人的第一印象是:这又是一个在Neutron框架下的项目,能够通过Neutron统一的北向接口来控制容器网络的SDN项目。但是实际上,Kuryr是将Neutron作为南向接口,来与容器网络对接

<span style="color:#f33b45;"><u><em><strong>Magnum</strong></em></u></span>
Mangum现在应该是OpenStack里边比较热门的一个和Docker集成的新项目。Magnum是一个新的专门针对Container的一个新项目，用来向用户提供容器服务</pre> 
  <pre>
<span style="color:#f33b45;"><u><em><strong>Manila</strong></em></u></span>
File Share Service，文件共享即服务。是OpenStack大帐篷模式下的子项目之一，用来提供云上的文件共享，支持CIFS协议和NFS协议。

<span style="color:#f33b45;"><u><em><strong>Mistral</strong></em></u></span>
WorkFlow as a service。 典型的用户用例包括云平台的任务计划服务（Cloud Cron），任务调度（Task Scheduling）， 复杂的运行时间长的业务流程服务

<span style="color:#f33b45;"><u><strong>Monasca</strong></u></span>
Monasca为OpenStack提供监控即服务。它具有可扩展性、容错性，集成Keystone支持多租户，你可以按照你喜欢的任何采样频率将指标植入。你可以将其嵌入到现有的OpenStack发行版上，它将收集日志和指标，不仅适用于你的控制平面，还适用于租户工作负载。

<span style="color:#f33b45;"><u><em><strong>Murano</strong></em></u></span>
murano是OpenStack的Application Catalog服务，推崇AaaS(Anything-as-a-Service)的概念，通过统一的框架和API实现应用程序快速部署和应用程序生命周期管理的功能，降低应用程序对底层平台(OpenStack层和虚拟化层)的依赖。

<span style="color:#f33b45;"><u><em><strong>Neutron Nova</strong></em></u></span>

<span style="color:#f33b45;"><strong><u><em>Octavia</em></u></strong></span>
openstack octavia 是 openstack lbaas的支持的一种后台程序，提供为虚拟机流量的负载均衡。实质是类似于trove，调用 nove 以及neutron的api生成一台安装好haproxy和keepalived软件的虚拟机，并连接到目标网路。octavia共有4个组件 housekeeping,worker,api,health-manager，octavia agent。api作用就不详细说了。worker：主要作用是和nova，neutron等组件通信，用于虚拟机调度以及把对于虚拟机操作的指令下发给octavia agent。housekeeping：查看octavia/controller/housekeeping/house_keeping.py得知其三个功能点：SpareAmphora,DatabaseCleanup,CertRotation。依次是清理虚拟机的池子，清理过期数据库，更新证书。health-manager：检查虚拟机状态，和虚拟机中的octavia agent通信，来更新各个组件的状态。octavia agent 位于虚拟机内部：对下是接受指令操作下层的haproxy软件，对上是和health-manager通信汇报各种情况

<span style="color:#f33b45;"><u><em><strong>Panko</strong></em></u></span>
Panko主要提供事件存储服务

<span style="color:#f33b45;"><u><em><strong>Rally</strong></em></u></span>
Tempest用来作为 Openstack的功能测试框架,而 Rally则通常主要用作性能测试与分析的工具

<span style="color:#f33b45;"><u><em><strong>Sahara</strong></em></u></span>
大数据服务

<span style="color:#f33b45;"><u><em><strong>Searchlight</strong></em></u></span>
Searchlight的目的是优化搜索的能力和性能,为不同的OpenStack云服务提供用户查询

<span style="color:#f33b45;"><u><em><strong>Senlin</strong></em></u></span>
为OpenStack云提供集群服务（Cluster as a Service）
把OpenStack中同类对象的集合称为集群（Cluster）。集群由节点（node）组成。同一集群内的每个节点都是用相同的Profile创建出来的。注意，这里的节点和集群都是抽象对象（Object），具体是什么可通过插件（Plugins）进行定制和扩展。比如，早期的Senlin版本中，node只支持Nova Server（即Nova创建的VM）和Heat Stack（即通过Heat部署的包含计算存储和网络的一系列资源）。今年新增加对docker的支持，即node可以是一个Container。后续可能还会增加对裸机的管理，基于Ironic来实现。
除Profile可扩展外，对集群和节点进行管理的策略（Policy）也支持扩展（同样基于Plugins机制）。目前Senlin项目中已经支持的策略主要包括：部署（包括region级和zone级）、删除、扩容、负载均衡、健康管理等。具体如下图所示：

<span style="color:#f33b45;"><u><em><strong>Solum</strong></em></u></span>
Murano是一个App Store（应用存储）服务，而Solum可以将开发的应用程序App发布到Murano中

<strong><em><u><span style="color:#f33b45;">Swift</span></u></em></strong>
对象存储服务，提供相应的对象存储，简单来说，就是虚拟出一块磁盘空间，可以在这个空间当中存放文件，也仅仅只能存放文件，不能进行格式化，转换文件系统，大多应用于云磁盘/文件
存储节点包含最少两个网络接口

<span style="color:#f33b45;"><u><em><strong>Tacker</strong></em></u></span>
OpenStack中 NFV编排和VNF 的管理
Tacker主要有以下模块与功能：
VNF Manger
为用户提供VNF Catalog。VNF Catalog存储着由最终用户上传的VNF descriptor（描述符？）。
对NFV实例进行基本的生命周期管理
有利于VNF的初始配置

<span style="color:#f33b45;"><u><em><strong>NFV编排</strong></em></u></span>
提供基于端到端部署的 VNFs 平台模板
提供了横跨 VIMs 编排 VNFs灵活性
Tacker通常需要TOSCA模板作为输入 VNF管理器以编排 VNFs。TOSCA模板构成 VNF descriptor和网络服务descriptor，目前 Tacker 仅支持VNF descriptor。

Tacker的Health Monitoring （健康监测）
当前版本的Tacker的监测是去Ping 运行NFV的虚机IP，Tacker的开发者将为下一代的监测框架努力，包括：
即插即用的驱动程序来监测虚机
提高对更多事件和行为的监测驱动可用性
当Tracker无法到达虚机时，将自动重启

<span style="color:#f33b45;"><u><em><strong>Tempest</strong></em></u></span>
Tempest 是一个旨在为云计算平台 OpenStack提供集成测试

<span style="color:#f33b45;"><u><em><strong>Trove</strong></em></u></span>
Openstack Trove是openstack为用户提供的数据库即服务(DBaaS)。所谓DBaaS，即trove既具有数据库管理的功能，又具有云计算的优势。使用trove，用户可以：
"按需"获得数据库服务器
配置所获得的数据库服务器或者数据库服务器集群
对数据库服务器或者数据库服务器集群进行自动化管理
根据数据库的负载让数据库服务器集群动态伸缩

<span style="color:#f33b45;"><u><em><strong>Vitrage</strong></em></u></span>
Vitrage是openstack里面提供根因分析(RCA)服务的组件。
用来组织、分析和扩展openstack的告警和事件，对问题产生的根本原因进行推导，为系统产生推导后的告警或者设置推导后的状态。
功能简介：
1.物理-虚拟实体映射
2.推导告警和状态（例如：基于系统分析后产生告警或者修改状态，而不是直接监控）
3.对告警、事件进行根因分析
4.Horizon显示

<span style="color:#f33b45;"><u><em><strong>Watcher</strong></em></u></span>
Watcher是OpenStack中提资源优化服务组件
Watcher提供一个完整的优化循环链：从度量接收器，到优化处理器和操作计划应用程序。Watcher的目标在于提供一个强大的框架，可以实现广泛的云优化目标，包括减少数据中心运营成本，通过智能虚拟机迁移提高系统性能，提高能源效率等。此外，Watcher可供用户定制丰富的资源优化目标与策略算法

<span style="color:#f33b45;"><u><em><strong>Zun</strong></em></u></span>
Zun是Openstack中提供容器管理服务的组件，Zun的目标是提供统一的Openstack API用于启动和管理容器，支持多种容器技术。Zun原来称为Higgins，后改名为Zun。Zun计划支持多种容器技术，Docker，Rkt，clear container等，目前只支持Docker。OpenStack Queens版本发布，由于容器社区的火热，一项值得关注的补充则为“Zun”，它在OpenStack项目中负责提供容器服务，旨在通过与Neutron、Cinder、Keystone以及其它核心OpenStack服务相集成以实现容器的快速普及。通过这种方式，OpenStack的原有网络、存储以及身份验证工具将全部适用于容器体系，从而确保容器能够满足安全与合规性要求。
</pre> 
 </div> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?aee162ba0c05d8e682055e28ff964fa2";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
