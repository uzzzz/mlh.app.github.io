<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>模拟银行账户转账系统（简单模拟） | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="模拟银行账户转账系统（简单模拟）" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="本人刚刚接触java，此篇博客仅供初学者浏览，不喜勿喷，若有写的不好的地方欢迎大家指教； *模拟银行账户转账系统： 有A,B两个银行账户，初始金额都为1000元，A,B随机向对方转账，转账金额不得大于账户余额，账户余额为0，无法进行交易，要求用图形界面显示，下方有两个按钮为“交易开始”，“清屏”，当按下“交易开始”后，此按钮变为”结束交易“，当按下结束交易，结束交易，并把交易记录保存在ab.txt中；强调内容 public class MyFrame extends JFrame implements ActionListener { private JPanel contentPane; private JTextArea textArea1; private JTextArea textArea2; private JButton button1; private JButton button2; private MyBankA ma; private MyBankB mb; private StringBuilder sb1; private StringBuilder sb2; private int amoney=1000; private int bmoney=1000; private FileWriter fw; /** * Launch the application. */ public static void main(String[] args) { EventQueue.invokeLater(new Runnable() { public void run() { try { MyFrame frame = new MyFrame(); frame.setVisible(true); } catch (Exception e) { e.printStackTrace(); } } }); } /** * Create the frame. */ public MyFrame() { setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); setBounds(100, 100, 1200, 750); contentPane = new JPanel(); contentPane.setForeground(Color.ORANGE); contentPane.setBackground(Color.BLUE); contentPane.setBorder(new EmptyBorder(5, 5, 5, 5)); setContentPane(contentPane); contentPane.setLayout(null); JPanel panel_1 = new JPanel(); panel_1.setBackground(Color.BLUE); panel_1.setBounds(0, 30, 1200, 639); contentPane.add(panel_1); panel_1.setLayout(null); JScrollPane scrollPane = new JScrollPane(); scrollPane.setBounds(50, 0, 500, 640); panel_1.add(scrollPane); textArea1 = new JTextArea(); scrollPane.setViewportView(textArea1); textArea1.setBackground(Color.BLACK); textArea1.setForeground(Color.GREEN); JScrollPane scrollPane_1 = new JScrollPane(); scrollPane_1.setBounds(650, 1, 500, 640); panel_1.add(scrollPane_1); textArea2 = new JTextArea(); scrollPane_1.setViewportView(textArea2); textArea2.setBackground(Color.BLACK); textArea2.setForeground(Color.YELLOW); JPanel panel_2 = new JPanel(); panel_2.setBackground(Color.BLUE); panel_2.setBounds(2, 667, 1189, 58); contentPane.add(panel_2); panel_2.setLayout(null); button1= new JButton(&quot;开始交易&quot;); button1.setBounds(923, 16, 101, 25); panel_2.add(button1); button1.setForeground(Color.MAGENTA); button2 = new JButton(&quot;清空&quot;); button2.setBounds(1024, 16, 117, 25); panel_2.add(button2); button2.setForeground(Color.RED); button2.addActionListener(this); button1.addActionListener(this); JLabel lblB = new JLabel(&quot;中国工商银行账户&quot;); lblB.setBackground(Color.GREEN); lblB.setForeground(Color.RED); lblB.setBounds(700, 0, 200, 31); contentPane.add(lblB); JLabel lblA = new JLabel(&quot;中国交通银行账户&quot;); lblA.setBackground(Color.GREEN); lblA.setForeground(Color.RED); lblA.setBounds(85, 8, 200, 15); contentPane.add(lblA); } @Override public void actionPerformed(ActionEvent e) { if(e.getActionCommand().equals(&quot;开始交易&quot;)) { button1.setText(&quot;结束交易&quot;); sb1=new StringBuilder(); sb2=new StringBuilder(); ma=new MyBankA(textArea1,amoney,sb1); mb=new MyBankB(textArea2,bmoney,sb2); ma.start(); new Thread(mb).start(); } else if(e.getActionCommand().equals(&quot;结束交易&quot;)) { ma.seta(); mb.setb(); button1.setText(&quot;开始交易&quot;); try { fw=new FileWriter(&quot;ab.txt&quot;); fw.write(sb1.toString()+sb2.toString()); } catch (IOException e1) { // TODO Auto-generated catch block e1.printStackTrace(); } finally{ try { fw.close(); } catch (IOException e1) { // TODO Auto-generated catch block e1.printStackTrace(); } } } else { sb1.delete(0, sb1.length()); sb2.delete(0, sb2.length()); textArea1.setText(&quot;&quot;); textArea2.setText(&quot;&quot;); } } } public class MyBankA extends Thread { public static int amoney; private int aleft; private int achange; private int atotal; private JTextArea jta1; private Random ra=new Random(); private boolean flag=true; private int anum=0; private StringBuilder sb1; public MyBankA(JTextArea jta1,int amoney,StringBuilder sb1) { this.jta1=jta1; this.amoney=amoney; this.sb1=sb1; } public void seta() { flag=false; } public/* synchronized */void run() { while(flag){ try { Thread.sleep(500); } catch (InterruptedException e) { // TODO Auto-generated catch block e.printStackTrace(); } achange=ra.nextInt(amoney+1); int i=amoney-achange; if(i==0) { sb1.append(&quot;======余额为0，无法完成交易======&quot;); sb1.append(&quot;\n&quot;); } sb1.append(&quot;*****************第&quot;+(++anum)+&quot;次交易&quot;+Thread.currentThread()+&quot;****************&quot;+&quot;\n&quot;); sb1.append(&quot;(1)账户A向B账户转账,当前剩余&quot;+String.valueOf(amoney)+&quot;\n&quot;); sb1.append(&quot;(2)交易金额为&quot;+String.valueOf(achange)+&quot;\n&quot;+&quot;(3)还剩余&quot;+String.valueOf(i)); sb1.append(&quot;\n&quot;); amoney=amoney-achange; MyBankB.bmoney=MyBankB.bmoney+achange; jta1.setText(sb1.toString()); System.out.println(&quot;aaaaa&quot;); } } } public class MyBankB implements Runnable { public static int bmoney; private int bleft; private int bchange; private int btotal; private Random rb=new Random(); private StringBuilder sb2; private JTextArea jta2; private boolean flagb=true; private int bnum=0; public MyBankB(JTextArea jta2,int bmoney,StringBuilder sb2) { this.jta2=jta2; this.bmoney=bmoney; this.sb2=sb2; } public void setb() { flagb=false; } public/* synchronized */void run() { while(flagb){ try { Thread.sleep(500); } catch (InterruptedException e) { // TODO Auto-generated catch block e.printStackTrace(); } bchange=rb.nextInt(bmoney+1); int i1=bmoney-bchange; if(i1==0) { sb2.append(&quot;======余额为0，无法完成交易======&quot;); sb2.append(&quot;\n&quot;); } sb2.append(&quot;*****************第&quot;+(++bnum)+&quot;次交易&quot;+Thread.currentThread()+&quot;****************&quot;+&quot;\n&quot;); sb2.append(&quot;(1)账户B向A账户转账,当前剩余&quot;+String.valueOf(bmoney)+&quot;\n&quot;); sb2.append(&quot;(2)交易金额为&quot;+String.valueOf(bchange)+&quot;\n&quot;+&quot;(3)还剩余&quot;+String.valueOf(i1)); sb2.append(&quot;\n&quot;); bmoney=bmoney-bchange; MyBankA.amoney=MyBankA.amoney+bchange; jta2.setText(sb2.toString()); System.out.println(&quot;bbbbbbbbbbbbbbbbbbbbbb&quot;); } } } 阅读更多" />
<meta property="og:description" content="本人刚刚接触java，此篇博客仅供初学者浏览，不喜勿喷，若有写的不好的地方欢迎大家指教； *模拟银行账户转账系统： 有A,B两个银行账户，初始金额都为1000元，A,B随机向对方转账，转账金额不得大于账户余额，账户余额为0，无法进行交易，要求用图形界面显示，下方有两个按钮为“交易开始”，“清屏”，当按下“交易开始”后，此按钮变为”结束交易“，当按下结束交易，结束交易，并把交易记录保存在ab.txt中；强调内容 public class MyFrame extends JFrame implements ActionListener { private JPanel contentPane; private JTextArea textArea1; private JTextArea textArea2; private JButton button1; private JButton button2; private MyBankA ma; private MyBankB mb; private StringBuilder sb1; private StringBuilder sb2; private int amoney=1000; private int bmoney=1000; private FileWriter fw; /** * Launch the application. */ public static void main(String[] args) { EventQueue.invokeLater(new Runnable() { public void run() { try { MyFrame frame = new MyFrame(); frame.setVisible(true); } catch (Exception e) { e.printStackTrace(); } } }); } /** * Create the frame. */ public MyFrame() { setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); setBounds(100, 100, 1200, 750); contentPane = new JPanel(); contentPane.setForeground(Color.ORANGE); contentPane.setBackground(Color.BLUE); contentPane.setBorder(new EmptyBorder(5, 5, 5, 5)); setContentPane(contentPane); contentPane.setLayout(null); JPanel panel_1 = new JPanel(); panel_1.setBackground(Color.BLUE); panel_1.setBounds(0, 30, 1200, 639); contentPane.add(panel_1); panel_1.setLayout(null); JScrollPane scrollPane = new JScrollPane(); scrollPane.setBounds(50, 0, 500, 640); panel_1.add(scrollPane); textArea1 = new JTextArea(); scrollPane.setViewportView(textArea1); textArea1.setBackground(Color.BLACK); textArea1.setForeground(Color.GREEN); JScrollPane scrollPane_1 = new JScrollPane(); scrollPane_1.setBounds(650, 1, 500, 640); panel_1.add(scrollPane_1); textArea2 = new JTextArea(); scrollPane_1.setViewportView(textArea2); textArea2.setBackground(Color.BLACK); textArea2.setForeground(Color.YELLOW); JPanel panel_2 = new JPanel(); panel_2.setBackground(Color.BLUE); panel_2.setBounds(2, 667, 1189, 58); contentPane.add(panel_2); panel_2.setLayout(null); button1= new JButton(&quot;开始交易&quot;); button1.setBounds(923, 16, 101, 25); panel_2.add(button1); button1.setForeground(Color.MAGENTA); button2 = new JButton(&quot;清空&quot;); button2.setBounds(1024, 16, 117, 25); panel_2.add(button2); button2.setForeground(Color.RED); button2.addActionListener(this); button1.addActionListener(this); JLabel lblB = new JLabel(&quot;中国工商银行账户&quot;); lblB.setBackground(Color.GREEN); lblB.setForeground(Color.RED); lblB.setBounds(700, 0, 200, 31); contentPane.add(lblB); JLabel lblA = new JLabel(&quot;中国交通银行账户&quot;); lblA.setBackground(Color.GREEN); lblA.setForeground(Color.RED); lblA.setBounds(85, 8, 200, 15); contentPane.add(lblA); } @Override public void actionPerformed(ActionEvent e) { if(e.getActionCommand().equals(&quot;开始交易&quot;)) { button1.setText(&quot;结束交易&quot;); sb1=new StringBuilder(); sb2=new StringBuilder(); ma=new MyBankA(textArea1,amoney,sb1); mb=new MyBankB(textArea2,bmoney,sb2); ma.start(); new Thread(mb).start(); } else if(e.getActionCommand().equals(&quot;结束交易&quot;)) { ma.seta(); mb.setb(); button1.setText(&quot;开始交易&quot;); try { fw=new FileWriter(&quot;ab.txt&quot;); fw.write(sb1.toString()+sb2.toString()); } catch (IOException e1) { // TODO Auto-generated catch block e1.printStackTrace(); } finally{ try { fw.close(); } catch (IOException e1) { // TODO Auto-generated catch block e1.printStackTrace(); } } } else { sb1.delete(0, sb1.length()); sb2.delete(0, sb2.length()); textArea1.setText(&quot;&quot;); textArea2.setText(&quot;&quot;); } } } public class MyBankA extends Thread { public static int amoney; private int aleft; private int achange; private int atotal; private JTextArea jta1; private Random ra=new Random(); private boolean flag=true; private int anum=0; private StringBuilder sb1; public MyBankA(JTextArea jta1,int amoney,StringBuilder sb1) { this.jta1=jta1; this.amoney=amoney; this.sb1=sb1; } public void seta() { flag=false; } public/* synchronized */void run() { while(flag){ try { Thread.sleep(500); } catch (InterruptedException e) { // TODO Auto-generated catch block e.printStackTrace(); } achange=ra.nextInt(amoney+1); int i=amoney-achange; if(i==0) { sb1.append(&quot;======余额为0，无法完成交易======&quot;); sb1.append(&quot;\n&quot;); } sb1.append(&quot;*****************第&quot;+(++anum)+&quot;次交易&quot;+Thread.currentThread()+&quot;****************&quot;+&quot;\n&quot;); sb1.append(&quot;(1)账户A向B账户转账,当前剩余&quot;+String.valueOf(amoney)+&quot;\n&quot;); sb1.append(&quot;(2)交易金额为&quot;+String.valueOf(achange)+&quot;\n&quot;+&quot;(3)还剩余&quot;+String.valueOf(i)); sb1.append(&quot;\n&quot;); amoney=amoney-achange; MyBankB.bmoney=MyBankB.bmoney+achange; jta1.setText(sb1.toString()); System.out.println(&quot;aaaaa&quot;); } } } public class MyBankB implements Runnable { public static int bmoney; private int bleft; private int bchange; private int btotal; private Random rb=new Random(); private StringBuilder sb2; private JTextArea jta2; private boolean flagb=true; private int bnum=0; public MyBankB(JTextArea jta2,int bmoney,StringBuilder sb2) { this.jta2=jta2; this.bmoney=bmoney; this.sb2=sb2; } public void setb() { flagb=false; } public/* synchronized */void run() { while(flagb){ try { Thread.sleep(500); } catch (InterruptedException e) { // TODO Auto-generated catch block e.printStackTrace(); } bchange=rb.nextInt(bmoney+1); int i1=bmoney-bchange; if(i1==0) { sb2.append(&quot;======余额为0，无法完成交易======&quot;); sb2.append(&quot;\n&quot;); } sb2.append(&quot;*****************第&quot;+(++bnum)+&quot;次交易&quot;+Thread.currentThread()+&quot;****************&quot;+&quot;\n&quot;); sb2.append(&quot;(1)账户B向A账户转账,当前剩余&quot;+String.valueOf(bmoney)+&quot;\n&quot;); sb2.append(&quot;(2)交易金额为&quot;+String.valueOf(bchange)+&quot;\n&quot;+&quot;(3)还剩余&quot;+String.valueOf(i1)); sb2.append(&quot;\n&quot;); bmoney=bmoney-bchange; MyBankA.amoney=MyBankA.amoney+bchange; jta2.setText(sb2.toString()); System.out.println(&quot;bbbbbbbbbbbbbbbbbbbbbb&quot;); } } } 阅读更多" />
<link rel="canonical" href="https://mlh.app/2015/03/15/24f391eed58dae0cf37da29c77ba51f6.html" />
<meta property="og:url" content="https://mlh.app/2015/03/15/24f391eed58dae0cf37da29c77ba51f6.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-03-15T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"本人刚刚接触java，此篇博客仅供初学者浏览，不喜勿喷，若有写的不好的地方欢迎大家指教； *模拟银行账户转账系统： 有A,B两个银行账户，初始金额都为1000元，A,B随机向对方转账，转账金额不得大于账户余额，账户余额为0，无法进行交易，要求用图形界面显示，下方有两个按钮为“交易开始”，“清屏”，当按下“交易开始”后，此按钮变为”结束交易“，当按下结束交易，结束交易，并把交易记录保存在ab.txt中；强调内容 public class MyFrame extends JFrame implements ActionListener { private JPanel contentPane; private JTextArea textArea1; private JTextArea textArea2; private JButton button1; private JButton button2; private MyBankA ma; private MyBankB mb; private StringBuilder sb1; private StringBuilder sb2; private int amoney=1000; private int bmoney=1000; private FileWriter fw; /** * Launch the application. */ public static void main(String[] args) { EventQueue.invokeLater(new Runnable() { public void run() { try { MyFrame frame = new MyFrame(); frame.setVisible(true); } catch (Exception e) { e.printStackTrace(); } } }); } /** * Create the frame. */ public MyFrame() { setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); setBounds(100, 100, 1200, 750); contentPane = new JPanel(); contentPane.setForeground(Color.ORANGE); contentPane.setBackground(Color.BLUE); contentPane.setBorder(new EmptyBorder(5, 5, 5, 5)); setContentPane(contentPane); contentPane.setLayout(null); JPanel panel_1 = new JPanel(); panel_1.setBackground(Color.BLUE); panel_1.setBounds(0, 30, 1200, 639); contentPane.add(panel_1); panel_1.setLayout(null); JScrollPane scrollPane = new JScrollPane(); scrollPane.setBounds(50, 0, 500, 640); panel_1.add(scrollPane); textArea1 = new JTextArea(); scrollPane.setViewportView(textArea1); textArea1.setBackground(Color.BLACK); textArea1.setForeground(Color.GREEN); JScrollPane scrollPane_1 = new JScrollPane(); scrollPane_1.setBounds(650, 1, 500, 640); panel_1.add(scrollPane_1); textArea2 = new JTextArea(); scrollPane_1.setViewportView(textArea2); textArea2.setBackground(Color.BLACK); textArea2.setForeground(Color.YELLOW); JPanel panel_2 = new JPanel(); panel_2.setBackground(Color.BLUE); panel_2.setBounds(2, 667, 1189, 58); contentPane.add(panel_2); panel_2.setLayout(null); button1= new JButton(&quot;开始交易&quot;); button1.setBounds(923, 16, 101, 25); panel_2.add(button1); button1.setForeground(Color.MAGENTA); button2 = new JButton(&quot;清空&quot;); button2.setBounds(1024, 16, 117, 25); panel_2.add(button2); button2.setForeground(Color.RED); button2.addActionListener(this); button1.addActionListener(this); JLabel lblB = new JLabel(&quot;中国工商银行账户&quot;); lblB.setBackground(Color.GREEN); lblB.setForeground(Color.RED); lblB.setBounds(700, 0, 200, 31); contentPane.add(lblB); JLabel lblA = new JLabel(&quot;中国交通银行账户&quot;); lblA.setBackground(Color.GREEN); lblA.setForeground(Color.RED); lblA.setBounds(85, 8, 200, 15); contentPane.add(lblA); } @Override public void actionPerformed(ActionEvent e) { if(e.getActionCommand().equals(&quot;开始交易&quot;)) { button1.setText(&quot;结束交易&quot;); sb1=new StringBuilder(); sb2=new StringBuilder(); ma=new MyBankA(textArea1,amoney,sb1); mb=new MyBankB(textArea2,bmoney,sb2); ma.start(); new Thread(mb).start(); } else if(e.getActionCommand().equals(&quot;结束交易&quot;)) { ma.seta(); mb.setb(); button1.setText(&quot;开始交易&quot;); try { fw=new FileWriter(&quot;ab.txt&quot;); fw.write(sb1.toString()+sb2.toString()); } catch (IOException e1) { // TODO Auto-generated catch block e1.printStackTrace(); } finally{ try { fw.close(); } catch (IOException e1) { // TODO Auto-generated catch block e1.printStackTrace(); } } } else { sb1.delete(0, sb1.length()); sb2.delete(0, sb2.length()); textArea1.setText(&quot;&quot;); textArea2.setText(&quot;&quot;); } } } public class MyBankA extends Thread { public static int amoney; private int aleft; private int achange; private int atotal; private JTextArea jta1; private Random ra=new Random(); private boolean flag=true; private int anum=0; private StringBuilder sb1; public MyBankA(JTextArea jta1,int amoney,StringBuilder sb1) { this.jta1=jta1; this.amoney=amoney; this.sb1=sb1; } public void seta() { flag=false; } public/* synchronized */void run() { while(flag){ try { Thread.sleep(500); } catch (InterruptedException e) { // TODO Auto-generated catch block e.printStackTrace(); } achange=ra.nextInt(amoney+1); int i=amoney-achange; if(i==0) { sb1.append(&quot;======余额为0，无法完成交易======&quot;); sb1.append(&quot;\\n&quot;); } sb1.append(&quot;*****************第&quot;+(++anum)+&quot;次交易&quot;+Thread.currentThread()+&quot;****************&quot;+&quot;\\n&quot;); sb1.append(&quot;(1)账户A向B账户转账,当前剩余&quot;+String.valueOf(amoney)+&quot;\\n&quot;); sb1.append(&quot;(2)交易金额为&quot;+String.valueOf(achange)+&quot;\\n&quot;+&quot;(3)还剩余&quot;+String.valueOf(i)); sb1.append(&quot;\\n&quot;); amoney=amoney-achange; MyBankB.bmoney=MyBankB.bmoney+achange; jta1.setText(sb1.toString()); System.out.println(&quot;aaaaa&quot;); } } } public class MyBankB implements Runnable { public static int bmoney; private int bleft; private int bchange; private int btotal; private Random rb=new Random(); private StringBuilder sb2; private JTextArea jta2; private boolean flagb=true; private int bnum=0; public MyBankB(JTextArea jta2,int bmoney,StringBuilder sb2) { this.jta2=jta2; this.bmoney=bmoney; this.sb2=sb2; } public void setb() { flagb=false; } public/* synchronized */void run() { while(flagb){ try { Thread.sleep(500); } catch (InterruptedException e) { // TODO Auto-generated catch block e.printStackTrace(); } bchange=rb.nextInt(bmoney+1); int i1=bmoney-bchange; if(i1==0) { sb2.append(&quot;======余额为0，无法完成交易======&quot;); sb2.append(&quot;\\n&quot;); } sb2.append(&quot;*****************第&quot;+(++bnum)+&quot;次交易&quot;+Thread.currentThread()+&quot;****************&quot;+&quot;\\n&quot;); sb2.append(&quot;(1)账户B向A账户转账,当前剩余&quot;+String.valueOf(bmoney)+&quot;\\n&quot;); sb2.append(&quot;(2)交易金额为&quot;+String.valueOf(bchange)+&quot;\\n&quot;+&quot;(3)还剩余&quot;+String.valueOf(i1)); sb2.append(&quot;\\n&quot;); bmoney=bmoney-bchange; MyBankA.amoney=MyBankA.amoney+bchange; jta2.setText(sb2.toString()); System.out.println(&quot;bbbbbbbbbbbbbbbbbbbbbb&quot;); } } } 阅读更多","@type":"BlogPosting","url":"https://mlh.app/2015/03/15/24f391eed58dae0cf37da29c77ba51f6.html","headline":"模拟银行账户转账系统（简单模拟）","dateModified":"2015-03-15T00:00:00+08:00","datePublished":"2015-03-15T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2015/03/15/24f391eed58dae0cf37da29c77ba51f6.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>模拟银行账户转账系统（简单模拟）</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <div class="markdown_views"> 
  <p><strong>本人刚刚接触java，此篇博客仅供初学者浏览，不喜勿喷，若有写的不好的地方欢迎大家指教；</strong> <br> <em>*</em>模拟银行账户转账系统： <br> 有A,B两个银行账户，初始金额都为1000元，A,B随机向对方转账，转账金额不得大于账户余额，账户余额为0，无法进行交易，要求用图形界面显示，下方有两个按钮为“交易开始”，“清屏”，当按下“交易开始”后，此按钮变为”结束交易“，当按下结束交易，结束交易，并把交易记录保存在ab.txt中；<strong><em>强调内容</em></strong></p> 
  <pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyFrame</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">JFrame</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">ActionListener</span> {</span>

    <span class="hljs-keyword">private</span> JPanel contentPane;
    <span class="hljs-keyword">private</span> JTextArea textArea1;
    <span class="hljs-keyword">private</span> JTextArea textArea2;
    <span class="hljs-keyword">private</span> JButton button1;
    <span class="hljs-keyword">private</span> JButton button2;
    <span class="hljs-keyword">private</span> MyBankA ma;
    <span class="hljs-keyword">private</span> MyBankB mb;
    <span class="hljs-keyword">private</span> StringBuilder sb1;
    <span class="hljs-keyword">private</span> StringBuilder sb2;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> amoney=<span class="hljs-number">1000</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> bmoney=<span class="hljs-number">1000</span>;
    <span class="hljs-keyword">private</span> FileWriter fw;
    <span class="hljs-javadoc">/** * Launch the application. */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(String[] args)
    {
        EventQueue.invokeLater(<span class="hljs-keyword">new</span> Runnable()
        {
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span>()
            {
                <span class="hljs-keyword">try</span>
                {
                    MyFrame frame = <span class="hljs-keyword">new</span> MyFrame();
                    frame.setVisible(<span class="hljs-keyword">true</span>);
                }
                <span class="hljs-keyword">catch</span> (Exception e)
                {
                    e.printStackTrace();
                }
            }
        });
    }

    <span class="hljs-javadoc">/** * Create the frame. */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title">MyFrame</span>()
    {
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setBounds(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">1200</span>, <span class="hljs-number">750</span>);
        contentPane = <span class="hljs-keyword">new</span> JPanel();
        contentPane.setForeground(Color.ORANGE);
        contentPane.setBackground(Color.BLUE);
        contentPane.setBorder(<span class="hljs-keyword">new</span> EmptyBorder(<span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>));
        setContentPane(contentPane);
        contentPane.setLayout(<span class="hljs-keyword">null</span>);

        JPanel panel_1 = <span class="hljs-keyword">new</span> JPanel();
        panel_1.setBackground(Color.BLUE);
        panel_1.setBounds(<span class="hljs-number">0</span>, <span class="hljs-number">30</span>, <span class="hljs-number">1200</span>, <span class="hljs-number">639</span>);
        contentPane.add(panel_1);
        panel_1.setLayout(<span class="hljs-keyword">null</span>);


        JScrollPane scrollPane = <span class="hljs-keyword">new</span> JScrollPane();
        scrollPane.setBounds(<span class="hljs-number">50</span>, <span class="hljs-number">0</span>, <span class="hljs-number">500</span>, <span class="hljs-number">640</span>);
        panel_1.add(scrollPane);

       textArea1 = <span class="hljs-keyword">new</span> JTextArea();
       scrollPane.setViewportView(textArea1);
       textArea1.setBackground(Color.BLACK);
       textArea1.setForeground(Color.GREEN);

        JScrollPane scrollPane_1 = <span class="hljs-keyword">new</span> JScrollPane();
        scrollPane_1.setBounds(<span class="hljs-number">650</span>, <span class="hljs-number">1</span>, <span class="hljs-number">500</span>, <span class="hljs-number">640</span>);
        panel_1.add(scrollPane_1);


        textArea2 = <span class="hljs-keyword">new</span> JTextArea();
        scrollPane_1.setViewportView(textArea2);
        textArea2.setBackground(Color.BLACK);
        textArea2.setForeground(Color.YELLOW);

        JPanel panel_2 = <span class="hljs-keyword">new</span> JPanel();
        panel_2.setBackground(Color.BLUE);
        panel_2.setBounds(<span class="hljs-number">2</span>, <span class="hljs-number">667</span>, <span class="hljs-number">1189</span>, <span class="hljs-number">58</span>);
        contentPane.add(panel_2);
        panel_2.setLayout(<span class="hljs-keyword">null</span>);

        button1= <span class="hljs-keyword">new</span> JButton(<span class="hljs-string">"开始交易"</span>);
        button1.setBounds(<span class="hljs-number">923</span>, <span class="hljs-number">16</span>, <span class="hljs-number">101</span>, <span class="hljs-number">25</span>);
        panel_2.add(button1);
        button1.setForeground(Color.MAGENTA);

        button2 = <span class="hljs-keyword">new</span> JButton(<span class="hljs-string">"清空"</span>);
        button2.setBounds(<span class="hljs-number">1024</span>, <span class="hljs-number">16</span>, <span class="hljs-number">117</span>, <span class="hljs-number">25</span>);
        panel_2.add(button2);
        button2.setForeground(Color.RED);
        button2.addActionListener(<span class="hljs-keyword">this</span>);
        button1.addActionListener(<span class="hljs-keyword">this</span>);

        JLabel lblB = <span class="hljs-keyword">new</span> JLabel(<span class="hljs-string">"中国工商银行账户"</span>);
        lblB.setBackground(Color.GREEN);
        lblB.setForeground(Color.RED);
        lblB.setBounds(<span class="hljs-number">700</span>, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>, <span class="hljs-number">31</span>);
        contentPane.add(lblB);

        JLabel lblA = <span class="hljs-keyword">new</span> JLabel(<span class="hljs-string">"中国交通银行账户"</span>);
        lblA.setBackground(Color.GREEN);
        lblA.setForeground(Color.RED);
        lblA.setBounds(<span class="hljs-number">85</span>, <span class="hljs-number">8</span>, <span class="hljs-number">200</span>, <span class="hljs-number">15</span>);
        contentPane.add(lblA);


    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">actionPerformed</span>(ActionEvent e)
    {

      <span class="hljs-keyword">if</span>(e.getActionCommand().equals(<span class="hljs-string">"开始交易"</span>))
      {
          button1.setText(<span class="hljs-string">"结束交易"</span>);
          sb1=<span class="hljs-keyword">new</span> StringBuilder();
          sb2=<span class="hljs-keyword">new</span> StringBuilder();
          ma=<span class="hljs-keyword">new</span> MyBankA(textArea1,amoney,sb1);
          mb=<span class="hljs-keyword">new</span> MyBankB(textArea2,bmoney,sb2);
          ma.start();
          <span class="hljs-keyword">new</span> Thread(mb).start();

      }
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e.getActionCommand().equals(<span class="hljs-string">"结束交易"</span>))
      {
          ma.seta();
          mb.setb();
          button1.setText(<span class="hljs-string">"开始交易"</span>);

              <span class="hljs-keyword">try</span> {
                fw=<span class="hljs-keyword">new</span> FileWriter(<span class="hljs-string">"ab.txt"</span>);
                fw.write(sb1.toString()+sb2.toString());
            } <span class="hljs-keyword">catch</span> (IOException e1) {
                <span class="hljs-comment">// TODO Auto-generated catch block</span>
                e1.printStackTrace();
            }


               <span class="hljs-keyword">finally</span>{       
                  <span class="hljs-keyword">try</span> {
                    fw.close();
                } <span class="hljs-keyword">catch</span> (IOException e1) {
                    <span class="hljs-comment">// TODO Auto-generated catch block</span>
                    e1.printStackTrace();
                }

               }

      }

      <span class="hljs-keyword">else</span>
      {
          sb1.delete(<span class="hljs-number">0</span>, sb1.length());
          sb2.delete(<span class="hljs-number">0</span>, sb2.length());
          textArea1.setText(<span class="hljs-string">""</span>);
          textArea2.setText(<span class="hljs-string">""</span>);
      }
    }
}
</code></pre> 
  <pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBankA</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Thread</span> {</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> amoney;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> aleft;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> achange;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> atotal;
    <span class="hljs-keyword">private</span> JTextArea jta1;
    <span class="hljs-keyword">private</span> Random ra=<span class="hljs-keyword">new</span> Random();
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">boolean</span> flag=<span class="hljs-keyword">true</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> anum=<span class="hljs-number">0</span>;

    <span class="hljs-keyword">private</span> StringBuilder sb1;
    <span class="hljs-keyword">public</span> <span class="hljs-title">MyBankA</span>(JTextArea jta1,<span class="hljs-keyword">int</span> amoney,StringBuilder sb1)
    {
        <span class="hljs-keyword">this</span>.jta1=jta1;
        <span class="hljs-keyword">this</span>.amoney=amoney;
        <span class="hljs-keyword">this</span>.sb1=sb1;
    }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">seta</span>()
    {
    flag=<span class="hljs-keyword">false</span>; 
    }
    <span class="hljs-keyword">public</span>/* <span class="hljs-keyword">synchronized</span> */<span class="hljs-keyword">void</span> <span class="hljs-title">run</span>()
    { 
    <span class="hljs-keyword">while</span>(flag){
        <span class="hljs-keyword">try</span> {
            Thread.sleep(<span class="hljs-number">500</span>);
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            <span class="hljs-comment">// TODO Auto-generated catch block</span>
            e.printStackTrace();
        }
        achange=ra.nextInt(amoney+<span class="hljs-number">1</span>);
          <span class="hljs-keyword">int</span> i=amoney-achange;
          <span class="hljs-keyword">if</span>(i==<span class="hljs-number">0</span>)
            {
                sb1.append(<span class="hljs-string">"======余额为0，无法完成交易======"</span>);
                sb1.append(<span class="hljs-string">"\n"</span>);
            }
          sb1.append(<span class="hljs-string">"*****************第"</span>+(++anum)+<span class="hljs-string">"次交易"</span>+Thread.currentThread()+<span class="hljs-string">"****************"</span>+<span class="hljs-string">"\n"</span>);
          sb1.append(<span class="hljs-string">"(1)账户A向B账户转账,当前剩余"</span>+String.valueOf(amoney)+<span class="hljs-string">"\n"</span>);
          sb1.append(<span class="hljs-string">"(2)交易金额为"</span>+String.valueOf(achange)+<span class="hljs-string">"\n"</span>+<span class="hljs-string">"(3)还剩余"</span>+String.valueOf(i));
          sb1.append(<span class="hljs-string">"\n"</span>);
          amoney=amoney-achange;
          MyBankB.bmoney=MyBankB.bmoney+achange;
          jta1.setText(sb1.toString());
          System.out.println(<span class="hljs-string">"aaaaa"</span>);
    }
    }

}</code></pre> 
  <pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBankB</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Runnable</span> {</span>

<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> bmoney;
<span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> bleft;
<span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> bchange;
<span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> btotal;
<span class="hljs-keyword">private</span> Random rb=<span class="hljs-keyword">new</span> Random();
<span class="hljs-keyword">private</span> StringBuilder sb2;
<span class="hljs-keyword">private</span> JTextArea jta2;
<span class="hljs-keyword">private</span> <span class="hljs-keyword">boolean</span> flagb=<span class="hljs-keyword">true</span>;
<span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> bnum=<span class="hljs-number">0</span>;
<span class="hljs-keyword">public</span> <span class="hljs-title">MyBankB</span>(JTextArea jta2,<span class="hljs-keyword">int</span> bmoney,StringBuilder sb2)
{
    <span class="hljs-keyword">this</span>.jta2=jta2;
    <span class="hljs-keyword">this</span>.bmoney=bmoney;
    <span class="hljs-keyword">this</span>.sb2=sb2;
}
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setb</span>()
{
    flagb=<span class="hljs-keyword">false</span>;
    }
<span class="hljs-keyword">public</span>/* <span class="hljs-keyword">synchronized</span> */<span class="hljs-keyword">void</span> <span class="hljs-title">run</span>() {
    <span class="hljs-keyword">while</span>(flagb){
                <span class="hljs-keyword">try</span> {
                    Thread.sleep(<span class="hljs-number">500</span>);
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    <span class="hljs-comment">// TODO Auto-generated catch block</span>
                    e.printStackTrace();
                }
                bchange=rb.nextInt(bmoney+<span class="hljs-number">1</span>);
                <span class="hljs-keyword">int</span> i1=bmoney-bchange;
                <span class="hljs-keyword">if</span>(i1==<span class="hljs-number">0</span>)
                {
                    sb2.append(<span class="hljs-string">"======余额为0，无法完成交易======"</span>);
                    sb2.append(<span class="hljs-string">"\n"</span>);
                }
               sb2.append(<span class="hljs-string">"*****************第"</span>+(++bnum)+<span class="hljs-string">"次交易"</span>+Thread.currentThread()+<span class="hljs-string">"****************"</span>+<span class="hljs-string">"\n"</span>);
                sb2.append(<span class="hljs-string">"(1)账户B向A账户转账,当前剩余"</span>+String.valueOf(bmoney)+<span class="hljs-string">"\n"</span>);
                 sb2.append(<span class="hljs-string">"(2)交易金额为"</span>+String.valueOf(bchange)+<span class="hljs-string">"\n"</span>+<span class="hljs-string">"(3)还剩余"</span>+String.valueOf(i1));
                sb2.append(<span class="hljs-string">"\n"</span>);
                bmoney=bmoney-bchange;
                MyBankA.amoney=MyBankA.amoney+bchange;
                jta2.setText(sb2.toString());
                System.out.println(<span class="hljs-string">"bbbbbbbbbbbbbbbbbbbbbb"</span>);
            }
    }
}</code></pre> 
  <p><img title="" alt="" src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20150317212111576"> <br> <img title="" alt="" src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20150317212259493"></p> 
 </div> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/markdown_views-ea0013b516.css"> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/mcp1490644562/article/details/44276175,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/mcp1490644562/article/details/44276175,&quot;}">阅读更多</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0d1dbe5a3e5863242418b768d1601633";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
