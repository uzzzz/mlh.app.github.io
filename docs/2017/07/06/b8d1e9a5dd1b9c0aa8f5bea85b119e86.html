<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>区块链不同机器的节点相互连接 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="区块链不同机器的节点相互连接" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="1节点所在的机器，相互之间可以互联互通 2它们有相同的创世纪文件 3 有相同的networkid 一 第一个节点创建 root@i-67u87x1c:/home/ubuntu# mkdir private-geth root@i-67u87x1c:/home/ubuntu# cd private-geth/ root@i-67u87x1c:/home/ubuntu/private-geth# vim genesis.json { &quot;config&quot;: { &quot;chainId&quot;: 15, &quot;homesteadBlock&quot;: 0, &quot;eip155Block&quot;: 0, &quot;eip158Block&quot;: 0 }, &quot;coinbase&quot; : &quot;0x0000000000000000000000000000000000000000&quot;, &quot;difficulty&quot; : &quot;0x40000&quot;, &quot;extraData&quot; : &quot;&quot;, &quot;gasLimit&quot; : &quot;0xffffffff&quot;, &quot;nonce&quot; : &quot;0x0000000000000042&quot;, &quot;mixhash&quot; : &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;parentHash&quot; : &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;timestamp&quot; : &quot;0x00&quot;, &quot;alloc&quot;: { } } 初始化创始块 root@i-67u87x1c:/home/ubuntu/private-geth# geth --datadir ./data/00 init genesis.json WARN [07-06|14:38:34] No etherbase set and no accounts found as default INFO [07-06|14:38:34] Allocated cache and file handles database=/home/ubuntu/private-geth/data/00/geth/chaindata cache=16 handles=16 INFO [07-06|14:38:34] Writing custom genesis block INFO [07-06|14:38:34] Successfully wrote genesis state database=chaindata hash=a0e580鈥5e82e INFO [07-06|14:38:34] Allocated cache and file handles database=/home/ubuntu/private-geth/data/00/geth/lightchaindata cache=16 handles=16 INFO [07-06|14:38:34] Writing custom genesis block INFO [07-06|14:38:34] Successfully wrote genesis state database=lightchaindata 进入geth后面连接节点 root@i-67u87x1c:/home/ubuntu/private-geth# geth --datadir ./data/00 --networkid 314590 --ipcdisable --port 632 --rpcport 8156 --bootnodes &quot;enode://96f7a95a8c5e7a1f911142d87ce53ae882568be0435016e4803a6d410a9ecc7a69322cee8efbe8499ec7c737c377793182cab8869a076389c6b47626df00450b@192.168.0.4:61910&quot; console WARN [07-06|14:43:54] No etherbase set and no accounts found as default INFO [07-06|14:43:54] Starting peer-to-peer node instance=Geth/v1.6.6-stable-10a45cb5/linux-amd64/go1.8.1 INFO [07-06|14:43:54] Allocated cache and file handles database=/home/ubuntu/private-geth/data/00/geth/chaindata cache=128 handles=1024 INFO [07-06|14:43:54] Initialised chain configuration config=&quot;{ChainID: 15 Homestead: 0 DAO: &lt;nil&gt; DAOSupport: false EIP150: &lt;nil&gt; EIP155: 0 EIP158: 0 Metropolis: &lt;nil&gt; Engine: unknown}&quot; INFO [07-06|14:43:54] Disk storage enabled for ethash caches dir=/home/ubuntu/private-geth/data/00/geth/ethash count=3 INFO [07-06|14:43:54] Disk storage enabled for ethash DAGs dir=/root/.ethash count=2 INFO [07-06|14:43:54] Initialising Ethereum protocol versions=&quot;[63 62]&quot; network=314590 INFO [07-06|14:43:54] Loaded most recent local header number=0 hash=a0e580鈥5e82e td=262144 INFO [07-06|14:43:54] Loaded most recent local full block number=0 hash=a0e580鈥5e82e td=262144 INFO [07-06|14:43:54] Loaded most recent local fast block number=0 hash=a0e580鈥5e82e td=262144 INFO [07-06|14:43:54] Starting P2P networking INFO [07-06|14:43:57] UDP listener up self=enode://ca2dd7e49417097f68292c19e4af9a8311223ce9153559f68d0cb618fb961fcf615ded9c90b635c26d0cdff8aa5ee58e2bbf83949df31e841bab03f451f636ec@[::]:632 INFO [07-06|14:43:57] RLPx listener up self=enode://ca2dd7e49417097f68292c19e4af9a8311223ce9153559f68d0cb618fb961fcf615ded9c90b635c26d0cdff8aa5ee58e2bbf83949df31e841bab03f451f636ec@[::]:632 Welcome to the Geth JavaScript console! instance: Geth/v1.6.6-stable-10a45cb5/linux-amd64/go1.8.1 modules: admin:1.0 debug:1.0 eth:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0 &gt; eth.blockNumber 0 &gt; admin.nodeInfo { enode: &quot;enode://ca2dd7e49417097f68292c19e4af9a8311223ce9153559f68d0cb618fb961fcf615ded9c90b635c26d0cdff8aa5ee58e2bbf83949df31e841bab03f451f636ec@[::]:632&quot;, id: &quot;ca2dd7e49417097f68292c19e4af9a8311223ce9153559f68d0cb618fb961fcf615ded9c90b635c26d0cdff8aa5ee58e2bbf83949df31e841bab03f451f636ec&quot;, ip: &quot;::&quot;, listenAddr: &quot;[::]:632&quot;, name: &quot;Geth/v1.6.6-stable-10a45cb5/linux-amd64/go1.8.1&quot;, ports: { discovery: 632, listener: 632 }, protocols: { eth: { difficulty: 262144, genesis: &quot;0xa0e580c6769ac3dd80894b2a256164a76b796839d2eb7f799ef6b9850ea5e82e&quot;, head: &quot;0xa0e580c6769ac3dd80894b2a256164a76b796839d2eb7f799ef6b9850ea5e82e&quot;, network: 314590 } } } root@i-67u87x1c:/home/ubuntu# ip addr 1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever 2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000 link/ether 52:54:37:78:15:bb brd ff:ff:ff:ff:ff:ff inet 192.168.0.3/24 brd 192.168.0.255 scope global eth0 valid_lft forever preferred_lft forever inet6 fe80::5054:37ff:fe78:15bb/64 scope link valid_lft forever preferred_lft forever 二 另外一台电脑 创建相同的创始块 root@i-kectp1zd:/home/ubuntu/private-geth# root@i-kectp1zd:/home/ubuntu/private-geth# geth --datadir ./data/00 init genesis.json WARN [07-06|15:26:39] No etherbase set and no accounts found as default INFO [07-06|15:26:39] Allocated cache and file handles database=/home/ubuntu/private-geth/data/00/geth/chaindata cache=16 handles=16 INFO [07-06|15:26:39] Writing custom genesis block INFO [07-06|15:26:39] Successfully wrote genesis state database=chaindata hash=a0e580鈥5e82e INFO [07-06|15:26:39] Allocated cache and file handles database=/home/ubuntu/private-geth/data/00/geth/lightchaindata cache=16 handles=16 INFO [07-06|15:26:39] Writing custom genesis block INFO [07-06|15:26:39] Successfully wrote genesis state database=lightchaindata hash=a0e580鈥5e82e 进入geth root@i-kectp1zd:/home/ubuntu/private-geth# geth --datadir ./data --networkid 314590 --ipcdisable --port 3456 --rpcport 78 --bootnodes &quot;enode://ca2dd7e49417097f68292c19e4af9a8311223ce9153559f68d0cb618fb961fcf615ded9c90b635c26d0cdff8aa5ee58e2bbf83949df31e841bab03f451f636ec@192.168.0.3:632&quot; console WARN [07-06|15:30:31] No etherbase set and no accounts found as default INFO [07-06|15:30:31] Starting peer-to-peer node instance=Geth/v1.6.6-stable-10a45cb5/linux-amd64/go1.8.1 INFO [07-06|15:30:31] Allocated cache and file handles database=/home/ubuntu/private-geth/data/geth/chaindata cache=128 handles=1024 INFO [07-06|15:30:31] Writing default main-net genesis block INFO [07-06|15:30:31] Initialised chain configuration config=&quot;{ChainID: 1 Homestead: 1150000 DAO: 1920000 DAOSupport: true EIP150: 2463000 EIP155: 2675000 EIP158: 2675000 Metropolis: 9223372036854775807 Engine: ethash}&quot; INFO [07-06|15:30:31] Disk storage enabled for ethash caches dir=/home/ubuntu/private-geth/data/geth/ethash count=3 INFO [07-06|15:30:31] Disk storage enabled for ethash DAGs dir=/root/.ethash count=2 WARN [07-06|15:30:31] Upgrading db log bloom bins INFO [07-06|15:30:31] Bloom-bin upgrade completed elapsed=123.418碌s INFO [07-06|15:30:31] Initialising Ethereum protocol versions=&quot;[63 62]&quot; network=314590 INFO [07-06|15:30:31] Loaded most recent local header number=0 hash=d4e567鈥b8fa3 td=17179869184 INFO [07-06|15:30:31] Loaded most recent local full block number=0 hash=d4e567鈥b8fa3 td=17179869184 INFO [07-06|15:30:31] Loaded most recent local fast block number=0 hash=d4e567鈥b8fa3 td=17179869184 INFO [07-06|15:30:31] Starting P2P networking INFO [07-06|15:30:33] UDP listener up self=enode://a22e7a8f502521ac685df1f001c59a06549b5292a42728e08ac3ca3f15603c75a0680f47ced4a736eab047335a0d2331e91ccb483591a83ecae57181878a7e07@[::]:3456 INFO [07-06|15:30:33] RLPx listener up self=enode://a22e7a8f502521ac685df1f001c59a06549b5292a42728e08ac3ca3f15603c75a0680f47ced4a736eab047335a0d2331e91ccb483591a83ecae57181878a7e07@[::]:3456 Welcome to the Geth JavaScript console! instance: Geth/v1.6.6-stable-10a45cb5/linux-amd64/go1.8.1 modules: admin:1.0 debug:1.0 eth:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0 &gt; &gt; personal.newAccount function github.com/ethereum/go-ethereum/console.(*bridge).NewAccount-fm() &gt; personal.newAccount() 镜像制作新的电脑 root@i-0mu8dg3p:/home/ubuntu# mkdir private-gethyi root@i-0mu8dg3p:/home/ubuntu# cd private-gethyi root@i-0mu8dg3p:/home/ubuntu/private-gethyi# vim genesis.json { &quot;config&quot;: { &quot;chainId&quot;: 15, &quot;homesteadBlock&quot;: 0, &quot;eip155Block&quot;: 0, &quot;eip158Block&quot;: 0 }, &quot;coinbase&quot; : &quot;0x0000000000000000000000000000000000000000&quot;, &quot;difficulty&quot; : &quot;0x40000&quot;, &quot;extraData&quot; : &quot;&quot;, &quot;gasLimit&quot; : &quot;0xffffffff&quot;, &quot;nonce&quot; : &quot;0x0000000000000042&quot;, &quot;mixhash&quot; : &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;parentHash&quot; : &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;timestamp&quot; : &quot;0x00&quot;, &quot;alloc&quot;: { } } root@i-0mu8dg3p:/home/ubuntu/private-gethyi# geth --datadir ./data/00 init genesis.json WARN [07-06|16:47:03] No etherbase set and no accounts found as default INFO [07-06|16:47:03] Allocated cache and file handles database=/home/ubuntu/private-gethyi/data/00/geth/chaindata cache=16 handles=16 INFO [07-06|16:47:03] Writing custom genesis block INFO [07-06|16:47:03] Successfully wrote genesis state database=chaindata hash=a0e580鈥5e82e INFO [07-06|16:47:03] Allocated cache and file handles database=/home/ubuntu/private-gethyi/data/00/geth/lightchaindata cache=16 handles=16 INFO [07-06|16:47:03] Writing custom genesis block INFO [07-06|16:47:03] Successfully wrote genesis state database=lightchaindata root@i-0mu8dg3p:/home/ubuntu/private-gethyi# geth --datadir ./data/00 --networkid 314590 --ipcdisable --port 123 --rpcport 456 --bootnodes &quot;enode://96f7a95a8c5e7a1f911142d87ce53ae882568be0435016e4803a6d410a9ecc7a69322cee8efbe8499ec7c737c377793182cab8869a076389c6b47626df00450b@192.168.0.4:61910&quot; console &gt; miner.start() INFO [07-06|17:05:47] Updated mining threads threads=0 INFO [07-06|17:05:47] Transaction pool price threshold updated price=18000000000 null &gt; INFO [07-06|17:05:47] Starting mining operation INFO [07-06|17:05:47] Commit new mining work number=1 txs=0 uncles=0 elapsed=180.94碌s INFO [07-06|17:21:25] Successfully sealed new block number=1 hash=0b386b鈥dfce1 INFO [07-06|17:21:25] 馃敤 mined potential block number=1 hash=0b386b鈥dfce1 INFO [07-06|17:21:25] Commit new mining work number=2 txs=0 uncles=0 elapsed=3.832ms INFO [07-06|17:24:43] Successfully sealed new block number=2 hash=6ff261鈥2e306 INFO [07-06|17:24:43] 馃敤 mined potential block number=2 hash=6ff261鈥2e306 INFO [07-06|17:24:43] Commit new mining work number=3 txs=0 uncles=0 elapsed=683.976碌s INFO [07-06|17:27:11] Successfully sealed new block number=3 hash=92983c鈥222ab INFO [07-06|17:27:11] 馃敤 mined potential block number=3 hash=92983c鈥222ab INFO [07-06|17:27:11] Commit new mining work number=4 txs=0 uncles=0 elapsed=704.935碌s INFO [07-06|17:34:06] Successfully sealed new block number=4 hash=a0272f鈥88970 INFO [07-06|17:34:06] 馃敤 mined potential block number=4 hash=a0272f鈥88970 INFO [07-06|17:34:06] Commit new mining work number=5 txs=0 uncles=0 elapsed=618.806碌s INFO [07-06|17:45:42] Successfully sealed new block number=5 hash=0880e3鈥9a7d3 INFO [07-06|17:45:42] 馃敤 mined potential block number=5 hash=0880e3鈥9a7d3 INFO [07-06|17:45:42] Commit new mining work number=6 txs=0 uncles=0 elapsed=504.843碌s &gt; &gt; &gt; &gt; miner.stop() true &gt; &gt; &gt; eth.blockNumber 5 admin.addPeer(&quot;enode://96f7a95a8c5e7a1f911142d87ce53ae882568be0435016e4803a6d410a9ecc7a69322cee8efbe8499ec7c737c377793182cab8869a076389c6b47626df00450b@192.168.0.4:61910&quot;) &gt; admin.nodeInfo { enode: &quot;enode://c49ec7069c76c6414b2debc6e0f27d3774cc54133681a28c7283b9b822851f21aee710d91ef7ccf10861d9c8cb6fce8b8189ac71441d051353ce9c10bdaf7892@[::]:123&quot;, id: &quot;c49ec7069c76c6414b2debc6e0f27d3774cc54133681a28c7283b9b822851f21aee710d91ef7ccf10861d9c8cb6fce8b8189ac71441d051353ce9c10bdaf7892&quot;, ip: &quot;::&quot;, listenAddr: &quot;[::]:123&quot;, name: &quot;Geth/v1.6.6-stable-10a45cb5/linux-amd64/go1.8.1&quot;, ports: { discovery: 123, listener: 123 }, protocols: { eth: { difficulty: 1451162, genesis: &quot;0xa0e580c6769ac3dd80894b2a256164a76b796839d2eb7f799ef6b9850ea5e82e&quot;, head: &quot;0x0880e3e3f21e5601661aeb01fc8589a46d6efe5ef31adebb5f7f9679d7e9a7d3&quot;, network: 314590 } } } 阅读更多" />
<meta property="og:description" content="1节点所在的机器，相互之间可以互联互通 2它们有相同的创世纪文件 3 有相同的networkid 一 第一个节点创建 root@i-67u87x1c:/home/ubuntu# mkdir private-geth root@i-67u87x1c:/home/ubuntu# cd private-geth/ root@i-67u87x1c:/home/ubuntu/private-geth# vim genesis.json { &quot;config&quot;: { &quot;chainId&quot;: 15, &quot;homesteadBlock&quot;: 0, &quot;eip155Block&quot;: 0, &quot;eip158Block&quot;: 0 }, &quot;coinbase&quot; : &quot;0x0000000000000000000000000000000000000000&quot;, &quot;difficulty&quot; : &quot;0x40000&quot;, &quot;extraData&quot; : &quot;&quot;, &quot;gasLimit&quot; : &quot;0xffffffff&quot;, &quot;nonce&quot; : &quot;0x0000000000000042&quot;, &quot;mixhash&quot; : &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;parentHash&quot; : &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;timestamp&quot; : &quot;0x00&quot;, &quot;alloc&quot;: { } } 初始化创始块 root@i-67u87x1c:/home/ubuntu/private-geth# geth --datadir ./data/00 init genesis.json WARN [07-06|14:38:34] No etherbase set and no accounts found as default INFO [07-06|14:38:34] Allocated cache and file handles database=/home/ubuntu/private-geth/data/00/geth/chaindata cache=16 handles=16 INFO [07-06|14:38:34] Writing custom genesis block INFO [07-06|14:38:34] Successfully wrote genesis state database=chaindata hash=a0e580鈥5e82e INFO [07-06|14:38:34] Allocated cache and file handles database=/home/ubuntu/private-geth/data/00/geth/lightchaindata cache=16 handles=16 INFO [07-06|14:38:34] Writing custom genesis block INFO [07-06|14:38:34] Successfully wrote genesis state database=lightchaindata 进入geth后面连接节点 root@i-67u87x1c:/home/ubuntu/private-geth# geth --datadir ./data/00 --networkid 314590 --ipcdisable --port 632 --rpcport 8156 --bootnodes &quot;enode://96f7a95a8c5e7a1f911142d87ce53ae882568be0435016e4803a6d410a9ecc7a69322cee8efbe8499ec7c737c377793182cab8869a076389c6b47626df00450b@192.168.0.4:61910&quot; console WARN [07-06|14:43:54] No etherbase set and no accounts found as default INFO [07-06|14:43:54] Starting peer-to-peer node instance=Geth/v1.6.6-stable-10a45cb5/linux-amd64/go1.8.1 INFO [07-06|14:43:54] Allocated cache and file handles database=/home/ubuntu/private-geth/data/00/geth/chaindata cache=128 handles=1024 INFO [07-06|14:43:54] Initialised chain configuration config=&quot;{ChainID: 15 Homestead: 0 DAO: &lt;nil&gt; DAOSupport: false EIP150: &lt;nil&gt; EIP155: 0 EIP158: 0 Metropolis: &lt;nil&gt; Engine: unknown}&quot; INFO [07-06|14:43:54] Disk storage enabled for ethash caches dir=/home/ubuntu/private-geth/data/00/geth/ethash count=3 INFO [07-06|14:43:54] Disk storage enabled for ethash DAGs dir=/root/.ethash count=2 INFO [07-06|14:43:54] Initialising Ethereum protocol versions=&quot;[63 62]&quot; network=314590 INFO [07-06|14:43:54] Loaded most recent local header number=0 hash=a0e580鈥5e82e td=262144 INFO [07-06|14:43:54] Loaded most recent local full block number=0 hash=a0e580鈥5e82e td=262144 INFO [07-06|14:43:54] Loaded most recent local fast block number=0 hash=a0e580鈥5e82e td=262144 INFO [07-06|14:43:54] Starting P2P networking INFO [07-06|14:43:57] UDP listener up self=enode://ca2dd7e49417097f68292c19e4af9a8311223ce9153559f68d0cb618fb961fcf615ded9c90b635c26d0cdff8aa5ee58e2bbf83949df31e841bab03f451f636ec@[::]:632 INFO [07-06|14:43:57] RLPx listener up self=enode://ca2dd7e49417097f68292c19e4af9a8311223ce9153559f68d0cb618fb961fcf615ded9c90b635c26d0cdff8aa5ee58e2bbf83949df31e841bab03f451f636ec@[::]:632 Welcome to the Geth JavaScript console! instance: Geth/v1.6.6-stable-10a45cb5/linux-amd64/go1.8.1 modules: admin:1.0 debug:1.0 eth:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0 &gt; eth.blockNumber 0 &gt; admin.nodeInfo { enode: &quot;enode://ca2dd7e49417097f68292c19e4af9a8311223ce9153559f68d0cb618fb961fcf615ded9c90b635c26d0cdff8aa5ee58e2bbf83949df31e841bab03f451f636ec@[::]:632&quot;, id: &quot;ca2dd7e49417097f68292c19e4af9a8311223ce9153559f68d0cb618fb961fcf615ded9c90b635c26d0cdff8aa5ee58e2bbf83949df31e841bab03f451f636ec&quot;, ip: &quot;::&quot;, listenAddr: &quot;[::]:632&quot;, name: &quot;Geth/v1.6.6-stable-10a45cb5/linux-amd64/go1.8.1&quot;, ports: { discovery: 632, listener: 632 }, protocols: { eth: { difficulty: 262144, genesis: &quot;0xa0e580c6769ac3dd80894b2a256164a76b796839d2eb7f799ef6b9850ea5e82e&quot;, head: &quot;0xa0e580c6769ac3dd80894b2a256164a76b796839d2eb7f799ef6b9850ea5e82e&quot;, network: 314590 } } } root@i-67u87x1c:/home/ubuntu# ip addr 1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever 2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000 link/ether 52:54:37:78:15:bb brd ff:ff:ff:ff:ff:ff inet 192.168.0.3/24 brd 192.168.0.255 scope global eth0 valid_lft forever preferred_lft forever inet6 fe80::5054:37ff:fe78:15bb/64 scope link valid_lft forever preferred_lft forever 二 另外一台电脑 创建相同的创始块 root@i-kectp1zd:/home/ubuntu/private-geth# root@i-kectp1zd:/home/ubuntu/private-geth# geth --datadir ./data/00 init genesis.json WARN [07-06|15:26:39] No etherbase set and no accounts found as default INFO [07-06|15:26:39] Allocated cache and file handles database=/home/ubuntu/private-geth/data/00/geth/chaindata cache=16 handles=16 INFO [07-06|15:26:39] Writing custom genesis block INFO [07-06|15:26:39] Successfully wrote genesis state database=chaindata hash=a0e580鈥5e82e INFO [07-06|15:26:39] Allocated cache and file handles database=/home/ubuntu/private-geth/data/00/geth/lightchaindata cache=16 handles=16 INFO [07-06|15:26:39] Writing custom genesis block INFO [07-06|15:26:39] Successfully wrote genesis state database=lightchaindata hash=a0e580鈥5e82e 进入geth root@i-kectp1zd:/home/ubuntu/private-geth# geth --datadir ./data --networkid 314590 --ipcdisable --port 3456 --rpcport 78 --bootnodes &quot;enode://ca2dd7e49417097f68292c19e4af9a8311223ce9153559f68d0cb618fb961fcf615ded9c90b635c26d0cdff8aa5ee58e2bbf83949df31e841bab03f451f636ec@192.168.0.3:632&quot; console WARN [07-06|15:30:31] No etherbase set and no accounts found as default INFO [07-06|15:30:31] Starting peer-to-peer node instance=Geth/v1.6.6-stable-10a45cb5/linux-amd64/go1.8.1 INFO [07-06|15:30:31] Allocated cache and file handles database=/home/ubuntu/private-geth/data/geth/chaindata cache=128 handles=1024 INFO [07-06|15:30:31] Writing default main-net genesis block INFO [07-06|15:30:31] Initialised chain configuration config=&quot;{ChainID: 1 Homestead: 1150000 DAO: 1920000 DAOSupport: true EIP150: 2463000 EIP155: 2675000 EIP158: 2675000 Metropolis: 9223372036854775807 Engine: ethash}&quot; INFO [07-06|15:30:31] Disk storage enabled for ethash caches dir=/home/ubuntu/private-geth/data/geth/ethash count=3 INFO [07-06|15:30:31] Disk storage enabled for ethash DAGs dir=/root/.ethash count=2 WARN [07-06|15:30:31] Upgrading db log bloom bins INFO [07-06|15:30:31] Bloom-bin upgrade completed elapsed=123.418碌s INFO [07-06|15:30:31] Initialising Ethereum protocol versions=&quot;[63 62]&quot; network=314590 INFO [07-06|15:30:31] Loaded most recent local header number=0 hash=d4e567鈥b8fa3 td=17179869184 INFO [07-06|15:30:31] Loaded most recent local full block number=0 hash=d4e567鈥b8fa3 td=17179869184 INFO [07-06|15:30:31] Loaded most recent local fast block number=0 hash=d4e567鈥b8fa3 td=17179869184 INFO [07-06|15:30:31] Starting P2P networking INFO [07-06|15:30:33] UDP listener up self=enode://a22e7a8f502521ac685df1f001c59a06549b5292a42728e08ac3ca3f15603c75a0680f47ced4a736eab047335a0d2331e91ccb483591a83ecae57181878a7e07@[::]:3456 INFO [07-06|15:30:33] RLPx listener up self=enode://a22e7a8f502521ac685df1f001c59a06549b5292a42728e08ac3ca3f15603c75a0680f47ced4a736eab047335a0d2331e91ccb483591a83ecae57181878a7e07@[::]:3456 Welcome to the Geth JavaScript console! instance: Geth/v1.6.6-stable-10a45cb5/linux-amd64/go1.8.1 modules: admin:1.0 debug:1.0 eth:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0 &gt; &gt; personal.newAccount function github.com/ethereum/go-ethereum/console.(*bridge).NewAccount-fm() &gt; personal.newAccount() 镜像制作新的电脑 root@i-0mu8dg3p:/home/ubuntu# mkdir private-gethyi root@i-0mu8dg3p:/home/ubuntu# cd private-gethyi root@i-0mu8dg3p:/home/ubuntu/private-gethyi# vim genesis.json { &quot;config&quot;: { &quot;chainId&quot;: 15, &quot;homesteadBlock&quot;: 0, &quot;eip155Block&quot;: 0, &quot;eip158Block&quot;: 0 }, &quot;coinbase&quot; : &quot;0x0000000000000000000000000000000000000000&quot;, &quot;difficulty&quot; : &quot;0x40000&quot;, &quot;extraData&quot; : &quot;&quot;, &quot;gasLimit&quot; : &quot;0xffffffff&quot;, &quot;nonce&quot; : &quot;0x0000000000000042&quot;, &quot;mixhash&quot; : &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;parentHash&quot; : &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;timestamp&quot; : &quot;0x00&quot;, &quot;alloc&quot;: { } } root@i-0mu8dg3p:/home/ubuntu/private-gethyi# geth --datadir ./data/00 init genesis.json WARN [07-06|16:47:03] No etherbase set and no accounts found as default INFO [07-06|16:47:03] Allocated cache and file handles database=/home/ubuntu/private-gethyi/data/00/geth/chaindata cache=16 handles=16 INFO [07-06|16:47:03] Writing custom genesis block INFO [07-06|16:47:03] Successfully wrote genesis state database=chaindata hash=a0e580鈥5e82e INFO [07-06|16:47:03] Allocated cache and file handles database=/home/ubuntu/private-gethyi/data/00/geth/lightchaindata cache=16 handles=16 INFO [07-06|16:47:03] Writing custom genesis block INFO [07-06|16:47:03] Successfully wrote genesis state database=lightchaindata root@i-0mu8dg3p:/home/ubuntu/private-gethyi# geth --datadir ./data/00 --networkid 314590 --ipcdisable --port 123 --rpcport 456 --bootnodes &quot;enode://96f7a95a8c5e7a1f911142d87ce53ae882568be0435016e4803a6d410a9ecc7a69322cee8efbe8499ec7c737c377793182cab8869a076389c6b47626df00450b@192.168.0.4:61910&quot; console &gt; miner.start() INFO [07-06|17:05:47] Updated mining threads threads=0 INFO [07-06|17:05:47] Transaction pool price threshold updated price=18000000000 null &gt; INFO [07-06|17:05:47] Starting mining operation INFO [07-06|17:05:47] Commit new mining work number=1 txs=0 uncles=0 elapsed=180.94碌s INFO [07-06|17:21:25] Successfully sealed new block number=1 hash=0b386b鈥dfce1 INFO [07-06|17:21:25] 馃敤 mined potential block number=1 hash=0b386b鈥dfce1 INFO [07-06|17:21:25] Commit new mining work number=2 txs=0 uncles=0 elapsed=3.832ms INFO [07-06|17:24:43] Successfully sealed new block number=2 hash=6ff261鈥2e306 INFO [07-06|17:24:43] 馃敤 mined potential block number=2 hash=6ff261鈥2e306 INFO [07-06|17:24:43] Commit new mining work number=3 txs=0 uncles=0 elapsed=683.976碌s INFO [07-06|17:27:11] Successfully sealed new block number=3 hash=92983c鈥222ab INFO [07-06|17:27:11] 馃敤 mined potential block number=3 hash=92983c鈥222ab INFO [07-06|17:27:11] Commit new mining work number=4 txs=0 uncles=0 elapsed=704.935碌s INFO [07-06|17:34:06] Successfully sealed new block number=4 hash=a0272f鈥88970 INFO [07-06|17:34:06] 馃敤 mined potential block number=4 hash=a0272f鈥88970 INFO [07-06|17:34:06] Commit new mining work number=5 txs=0 uncles=0 elapsed=618.806碌s INFO [07-06|17:45:42] Successfully sealed new block number=5 hash=0880e3鈥9a7d3 INFO [07-06|17:45:42] 馃敤 mined potential block number=5 hash=0880e3鈥9a7d3 INFO [07-06|17:45:42] Commit new mining work number=6 txs=0 uncles=0 elapsed=504.843碌s &gt; &gt; &gt; &gt; miner.stop() true &gt; &gt; &gt; eth.blockNumber 5 admin.addPeer(&quot;enode://96f7a95a8c5e7a1f911142d87ce53ae882568be0435016e4803a6d410a9ecc7a69322cee8efbe8499ec7c737c377793182cab8869a076389c6b47626df00450b@192.168.0.4:61910&quot;) &gt; admin.nodeInfo { enode: &quot;enode://c49ec7069c76c6414b2debc6e0f27d3774cc54133681a28c7283b9b822851f21aee710d91ef7ccf10861d9c8cb6fce8b8189ac71441d051353ce9c10bdaf7892@[::]:123&quot;, id: &quot;c49ec7069c76c6414b2debc6e0f27d3774cc54133681a28c7283b9b822851f21aee710d91ef7ccf10861d9c8cb6fce8b8189ac71441d051353ce9c10bdaf7892&quot;, ip: &quot;::&quot;, listenAddr: &quot;[::]:123&quot;, name: &quot;Geth/v1.6.6-stable-10a45cb5/linux-amd64/go1.8.1&quot;, ports: { discovery: 123, listener: 123 }, protocols: { eth: { difficulty: 1451162, genesis: &quot;0xa0e580c6769ac3dd80894b2a256164a76b796839d2eb7f799ef6b9850ea5e82e&quot;, head: &quot;0x0880e3e3f21e5601661aeb01fc8589a46d6efe5ef31adebb5f7f9679d7e9a7d3&quot;, network: 314590 } } } 阅读更多" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-07-06T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"1节点所在的机器，相互之间可以互联互通 2它们有相同的创世纪文件 3 有相同的networkid 一 第一个节点创建 root@i-67u87x1c:/home/ubuntu# mkdir private-geth root@i-67u87x1c:/home/ubuntu# cd private-geth/ root@i-67u87x1c:/home/ubuntu/private-geth# vim genesis.json { &quot;config&quot;: { &quot;chainId&quot;: 15, &quot;homesteadBlock&quot;: 0, &quot;eip155Block&quot;: 0, &quot;eip158Block&quot;: 0 }, &quot;coinbase&quot; : &quot;0x0000000000000000000000000000000000000000&quot;, &quot;difficulty&quot; : &quot;0x40000&quot;, &quot;extraData&quot; : &quot;&quot;, &quot;gasLimit&quot; : &quot;0xffffffff&quot;, &quot;nonce&quot; : &quot;0x0000000000000042&quot;, &quot;mixhash&quot; : &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;parentHash&quot; : &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;timestamp&quot; : &quot;0x00&quot;, &quot;alloc&quot;: { } } 初始化创始块 root@i-67u87x1c:/home/ubuntu/private-geth# geth --datadir ./data/00 init genesis.json WARN [07-06|14:38:34] No etherbase set and no accounts found as default INFO [07-06|14:38:34] Allocated cache and file handles database=/home/ubuntu/private-geth/data/00/geth/chaindata cache=16 handles=16 INFO [07-06|14:38:34] Writing custom genesis block INFO [07-06|14:38:34] Successfully wrote genesis state database=chaindata hash=a0e580鈥5e82e INFO [07-06|14:38:34] Allocated cache and file handles database=/home/ubuntu/private-geth/data/00/geth/lightchaindata cache=16 handles=16 INFO [07-06|14:38:34] Writing custom genesis block INFO [07-06|14:38:34] Successfully wrote genesis state database=lightchaindata 进入geth后面连接节点 root@i-67u87x1c:/home/ubuntu/private-geth# geth --datadir ./data/00 --networkid 314590 --ipcdisable --port 632 --rpcport 8156 --bootnodes &quot;enode://96f7a95a8c5e7a1f911142d87ce53ae882568be0435016e4803a6d410a9ecc7a69322cee8efbe8499ec7c737c377793182cab8869a076389c6b47626df00450b@192.168.0.4:61910&quot; console WARN [07-06|14:43:54] No etherbase set and no accounts found as default INFO [07-06|14:43:54] Starting peer-to-peer node instance=Geth/v1.6.6-stable-10a45cb5/linux-amd64/go1.8.1 INFO [07-06|14:43:54] Allocated cache and file handles database=/home/ubuntu/private-geth/data/00/geth/chaindata cache=128 handles=1024 INFO [07-06|14:43:54] Initialised chain configuration config=&quot;{ChainID: 15 Homestead: 0 DAO: &lt;nil&gt; DAOSupport: false EIP150: &lt;nil&gt; EIP155: 0 EIP158: 0 Metropolis: &lt;nil&gt; Engine: unknown}&quot; INFO [07-06|14:43:54] Disk storage enabled for ethash caches dir=/home/ubuntu/private-geth/data/00/geth/ethash count=3 INFO [07-06|14:43:54] Disk storage enabled for ethash DAGs dir=/root/.ethash count=2 INFO [07-06|14:43:54] Initialising Ethereum protocol versions=&quot;[63 62]&quot; network=314590 INFO [07-06|14:43:54] Loaded most recent local header number=0 hash=a0e580鈥5e82e td=262144 INFO [07-06|14:43:54] Loaded most recent local full block number=0 hash=a0e580鈥5e82e td=262144 INFO [07-06|14:43:54] Loaded most recent local fast block number=0 hash=a0e580鈥5e82e td=262144 INFO [07-06|14:43:54] Starting P2P networking INFO [07-06|14:43:57] UDP listener up self=enode://ca2dd7e49417097f68292c19e4af9a8311223ce9153559f68d0cb618fb961fcf615ded9c90b635c26d0cdff8aa5ee58e2bbf83949df31e841bab03f451f636ec@[::]:632 INFO [07-06|14:43:57] RLPx listener up self=enode://ca2dd7e49417097f68292c19e4af9a8311223ce9153559f68d0cb618fb961fcf615ded9c90b635c26d0cdff8aa5ee58e2bbf83949df31e841bab03f451f636ec@[::]:632 Welcome to the Geth JavaScript console! instance: Geth/v1.6.6-stable-10a45cb5/linux-amd64/go1.8.1 modules: admin:1.0 debug:1.0 eth:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0 &gt; eth.blockNumber 0 &gt; admin.nodeInfo { enode: &quot;enode://ca2dd7e49417097f68292c19e4af9a8311223ce9153559f68d0cb618fb961fcf615ded9c90b635c26d0cdff8aa5ee58e2bbf83949df31e841bab03f451f636ec@[::]:632&quot;, id: &quot;ca2dd7e49417097f68292c19e4af9a8311223ce9153559f68d0cb618fb961fcf615ded9c90b635c26d0cdff8aa5ee58e2bbf83949df31e841bab03f451f636ec&quot;, ip: &quot;::&quot;, listenAddr: &quot;[::]:632&quot;, name: &quot;Geth/v1.6.6-stable-10a45cb5/linux-amd64/go1.8.1&quot;, ports: { discovery: 632, listener: 632 }, protocols: { eth: { difficulty: 262144, genesis: &quot;0xa0e580c6769ac3dd80894b2a256164a76b796839d2eb7f799ef6b9850ea5e82e&quot;, head: &quot;0xa0e580c6769ac3dd80894b2a256164a76b796839d2eb7f799ef6b9850ea5e82e&quot;, network: 314590 } } } root@i-67u87x1c:/home/ubuntu# ip addr 1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever 2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000 link/ether 52:54:37:78:15:bb brd ff:ff:ff:ff:ff:ff inet 192.168.0.3/24 brd 192.168.0.255 scope global eth0 valid_lft forever preferred_lft forever inet6 fe80::5054:37ff:fe78:15bb/64 scope link valid_lft forever preferred_lft forever 二 另外一台电脑 创建相同的创始块 root@i-kectp1zd:/home/ubuntu/private-geth# root@i-kectp1zd:/home/ubuntu/private-geth# geth --datadir ./data/00 init genesis.json WARN [07-06|15:26:39] No etherbase set and no accounts found as default INFO [07-06|15:26:39] Allocated cache and file handles database=/home/ubuntu/private-geth/data/00/geth/chaindata cache=16 handles=16 INFO [07-06|15:26:39] Writing custom genesis block INFO [07-06|15:26:39] Successfully wrote genesis state database=chaindata hash=a0e580鈥5e82e INFO [07-06|15:26:39] Allocated cache and file handles database=/home/ubuntu/private-geth/data/00/geth/lightchaindata cache=16 handles=16 INFO [07-06|15:26:39] Writing custom genesis block INFO [07-06|15:26:39] Successfully wrote genesis state database=lightchaindata hash=a0e580鈥5e82e 进入geth root@i-kectp1zd:/home/ubuntu/private-geth# geth --datadir ./data --networkid 314590 --ipcdisable --port 3456 --rpcport 78 --bootnodes &quot;enode://ca2dd7e49417097f68292c19e4af9a8311223ce9153559f68d0cb618fb961fcf615ded9c90b635c26d0cdff8aa5ee58e2bbf83949df31e841bab03f451f636ec@192.168.0.3:632&quot; console WARN [07-06|15:30:31] No etherbase set and no accounts found as default INFO [07-06|15:30:31] Starting peer-to-peer node instance=Geth/v1.6.6-stable-10a45cb5/linux-amd64/go1.8.1 INFO [07-06|15:30:31] Allocated cache and file handles database=/home/ubuntu/private-geth/data/geth/chaindata cache=128 handles=1024 INFO [07-06|15:30:31] Writing default main-net genesis block INFO [07-06|15:30:31] Initialised chain configuration config=&quot;{ChainID: 1 Homestead: 1150000 DAO: 1920000 DAOSupport: true EIP150: 2463000 EIP155: 2675000 EIP158: 2675000 Metropolis: 9223372036854775807 Engine: ethash}&quot; INFO [07-06|15:30:31] Disk storage enabled for ethash caches dir=/home/ubuntu/private-geth/data/geth/ethash count=3 INFO [07-06|15:30:31] Disk storage enabled for ethash DAGs dir=/root/.ethash count=2 WARN [07-06|15:30:31] Upgrading db log bloom bins INFO [07-06|15:30:31] Bloom-bin upgrade completed elapsed=123.418碌s INFO [07-06|15:30:31] Initialising Ethereum protocol versions=&quot;[63 62]&quot; network=314590 INFO [07-06|15:30:31] Loaded most recent local header number=0 hash=d4e567鈥b8fa3 td=17179869184 INFO [07-06|15:30:31] Loaded most recent local full block number=0 hash=d4e567鈥b8fa3 td=17179869184 INFO [07-06|15:30:31] Loaded most recent local fast block number=0 hash=d4e567鈥b8fa3 td=17179869184 INFO [07-06|15:30:31] Starting P2P networking INFO [07-06|15:30:33] UDP listener up self=enode://a22e7a8f502521ac685df1f001c59a06549b5292a42728e08ac3ca3f15603c75a0680f47ced4a736eab047335a0d2331e91ccb483591a83ecae57181878a7e07@[::]:3456 INFO [07-06|15:30:33] RLPx listener up self=enode://a22e7a8f502521ac685df1f001c59a06549b5292a42728e08ac3ca3f15603c75a0680f47ced4a736eab047335a0d2331e91ccb483591a83ecae57181878a7e07@[::]:3456 Welcome to the Geth JavaScript console! instance: Geth/v1.6.6-stable-10a45cb5/linux-amd64/go1.8.1 modules: admin:1.0 debug:1.0 eth:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0 &gt; &gt; personal.newAccount function github.com/ethereum/go-ethereum/console.(*bridge).NewAccount-fm() &gt; personal.newAccount() 镜像制作新的电脑 root@i-0mu8dg3p:/home/ubuntu# mkdir private-gethyi root@i-0mu8dg3p:/home/ubuntu# cd private-gethyi root@i-0mu8dg3p:/home/ubuntu/private-gethyi# vim genesis.json { &quot;config&quot;: { &quot;chainId&quot;: 15, &quot;homesteadBlock&quot;: 0, &quot;eip155Block&quot;: 0, &quot;eip158Block&quot;: 0 }, &quot;coinbase&quot; : &quot;0x0000000000000000000000000000000000000000&quot;, &quot;difficulty&quot; : &quot;0x40000&quot;, &quot;extraData&quot; : &quot;&quot;, &quot;gasLimit&quot; : &quot;0xffffffff&quot;, &quot;nonce&quot; : &quot;0x0000000000000042&quot;, &quot;mixhash&quot; : &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;parentHash&quot; : &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;timestamp&quot; : &quot;0x00&quot;, &quot;alloc&quot;: { } } root@i-0mu8dg3p:/home/ubuntu/private-gethyi# geth --datadir ./data/00 init genesis.json WARN [07-06|16:47:03] No etherbase set and no accounts found as default INFO [07-06|16:47:03] Allocated cache and file handles database=/home/ubuntu/private-gethyi/data/00/geth/chaindata cache=16 handles=16 INFO [07-06|16:47:03] Writing custom genesis block INFO [07-06|16:47:03] Successfully wrote genesis state database=chaindata hash=a0e580鈥5e82e INFO [07-06|16:47:03] Allocated cache and file handles database=/home/ubuntu/private-gethyi/data/00/geth/lightchaindata cache=16 handles=16 INFO [07-06|16:47:03] Writing custom genesis block INFO [07-06|16:47:03] Successfully wrote genesis state database=lightchaindata root@i-0mu8dg3p:/home/ubuntu/private-gethyi# geth --datadir ./data/00 --networkid 314590 --ipcdisable --port 123 --rpcport 456 --bootnodes &quot;enode://96f7a95a8c5e7a1f911142d87ce53ae882568be0435016e4803a6d410a9ecc7a69322cee8efbe8499ec7c737c377793182cab8869a076389c6b47626df00450b@192.168.0.4:61910&quot; console &gt; miner.start() INFO [07-06|17:05:47] Updated mining threads threads=0 INFO [07-06|17:05:47] Transaction pool price threshold updated price=18000000000 null &gt; INFO [07-06|17:05:47] Starting mining operation INFO [07-06|17:05:47] Commit new mining work number=1 txs=0 uncles=0 elapsed=180.94碌s INFO [07-06|17:21:25] Successfully sealed new block number=1 hash=0b386b鈥dfce1 INFO [07-06|17:21:25] 馃敤 mined potential block number=1 hash=0b386b鈥dfce1 INFO [07-06|17:21:25] Commit new mining work number=2 txs=0 uncles=0 elapsed=3.832ms INFO [07-06|17:24:43] Successfully sealed new block number=2 hash=6ff261鈥2e306 INFO [07-06|17:24:43] 馃敤 mined potential block number=2 hash=6ff261鈥2e306 INFO [07-06|17:24:43] Commit new mining work number=3 txs=0 uncles=0 elapsed=683.976碌s INFO [07-06|17:27:11] Successfully sealed new block number=3 hash=92983c鈥222ab INFO [07-06|17:27:11] 馃敤 mined potential block number=3 hash=92983c鈥222ab INFO [07-06|17:27:11] Commit new mining work number=4 txs=0 uncles=0 elapsed=704.935碌s INFO [07-06|17:34:06] Successfully sealed new block number=4 hash=a0272f鈥88970 INFO [07-06|17:34:06] 馃敤 mined potential block number=4 hash=a0272f鈥88970 INFO [07-06|17:34:06] Commit new mining work number=5 txs=0 uncles=0 elapsed=618.806碌s INFO [07-06|17:45:42] Successfully sealed new block number=5 hash=0880e3鈥9a7d3 INFO [07-06|17:45:42] 馃敤 mined potential block number=5 hash=0880e3鈥9a7d3 INFO [07-06|17:45:42] Commit new mining work number=6 txs=0 uncles=0 elapsed=504.843碌s &gt; &gt; &gt; &gt; miner.stop() true &gt; &gt; &gt; eth.blockNumber 5 admin.addPeer(&quot;enode://96f7a95a8c5e7a1f911142d87ce53ae882568be0435016e4803a6d410a9ecc7a69322cee8efbe8499ec7c737c377793182cab8869a076389c6b47626df00450b@192.168.0.4:61910&quot;) &gt; admin.nodeInfo { enode: &quot;enode://c49ec7069c76c6414b2debc6e0f27d3774cc54133681a28c7283b9b822851f21aee710d91ef7ccf10861d9c8cb6fce8b8189ac71441d051353ce9c10bdaf7892@[::]:123&quot;, id: &quot;c49ec7069c76c6414b2debc6e0f27d3774cc54133681a28c7283b9b822851f21aee710d91ef7ccf10861d9c8cb6fce8b8189ac71441d051353ce9c10bdaf7892&quot;, ip: &quot;::&quot;, listenAddr: &quot;[::]:123&quot;, name: &quot;Geth/v1.6.6-stable-10a45cb5/linux-amd64/go1.8.1&quot;, ports: { discovery: 123, listener: 123 }, protocols: { eth: { difficulty: 1451162, genesis: &quot;0xa0e580c6769ac3dd80894b2a256164a76b796839d2eb7f799ef6b9850ea5e82e&quot;, head: &quot;0x0880e3e3f21e5601661aeb01fc8589a46d6efe5ef31adebb5f7f9679d7e9a7d3&quot;, network: 314590 } } } 阅读更多","@type":"BlogPosting","url":"/2017/07/06/b8d1e9a5dd1b9c0aa8f5bea85b119e86.html","headline":"区块链不同机器的节点相互连接","dateModified":"2017-07-06T00:00:00+08:00","datePublished":"2017-07-06T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/2017/07/06/b8d1e9a5dd1b9c0aa8f5bea85b119e86.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-1');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>区块链不同机器的节点相互连接</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <div class="markdown_views"> 
  <p>1节点所在的机器，相互之间可以互联互通 <br> 2它们有相同的创世纪文件 <br> 3 有相同的networkid</p> 
  <p>一 第一个节点创建</p> 
  <pre class="prettyprint"><code class=" hljs livecodeserver">root@i-<span class="hljs-number">67</span>u87x1c:/home/ubuntu<span class="hljs-comment"># mkdir private-geth</span>
root@i-<span class="hljs-number">67</span>u87x1c:/home/ubuntu<span class="hljs-comment"># cd private-geth/</span>
root@i-<span class="hljs-number">67</span>u87x1c:/home/ubuntu/<span class="hljs-keyword">private</span>-geth<span class="hljs-comment"># vim genesis.json</span>

{
   <span class="hljs-string">"config"</span>: {
        <span class="hljs-string">"chainId"</span>: <span class="hljs-number">15</span>,
        <span class="hljs-string">"homesteadBlock"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-string">"eip155Block"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-string">"eip158Block"</span>: <span class="hljs-number">0</span>
    },
    <span class="hljs-string">"coinbase"</span> : <span class="hljs-string">"0x0000000000000000000000000000000000000000"</span>,
    <span class="hljs-string">"difficulty"</span> : <span class="hljs-string">"0x40000"</span>,
    <span class="hljs-string">"extraData"</span> : <span class="hljs-string">""</span>,
    <span class="hljs-string">"gasLimit"</span> : <span class="hljs-string">"0xffffffff"</span>,
    <span class="hljs-string">"nonce"</span> : <span class="hljs-string">"0x0000000000000042"</span>,
    <span class="hljs-string">"mixhash"</span> : <span class="hljs-string">"0x0000000000000000000000000000000000000000000000000000000000000000"</span>,
    <span class="hljs-string">"parentHash"</span> : <span class="hljs-string">"0x0000000000000000000000000000000000000000000000000000000000000000"</span>,
    <span class="hljs-string">"timestamp"</span> : <span class="hljs-string">"0x00"</span>,
    <span class="hljs-string">"alloc"</span>: { }
}

初始化创始块
root@i-<span class="hljs-number">67</span>u87x1c:/home/ubuntu/<span class="hljs-keyword">private</span>-geth<span class="hljs-comment"># geth --datadir ./data/00 init genesis.json</span>
WARN [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">14</span>:<span class="hljs-number">38</span>:<span class="hljs-number">34</span>] No etherbase <span class="hljs-built_in">set</span> <span class="hljs-operator">and</span> no accounts found <span class="hljs-keyword">as</span> default 
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">14</span>:<span class="hljs-number">38</span>:<span class="hljs-number">34</span>] Allocated cache <span class="hljs-operator">and</span> <span class="hljs-built_in">file</span> handles         database=/home/ubuntu/<span class="hljs-keyword">private</span>-geth/data/<span class="hljs-number">00</span>/geth/chaindata cache=<span class="hljs-number">16</span> handles=<span class="hljs-number">16</span>
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">14</span>:<span class="hljs-number">38</span>:<span class="hljs-number">34</span>] Writing custom genesis block 
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">14</span>:<span class="hljs-number">38</span>:<span class="hljs-number">34</span>] Successfully wrote genesis state         database=chaindata                                        hash=a0e580鈥<span class="hljs-number">5e82</span>e
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">14</span>:<span class="hljs-number">38</span>:<span class="hljs-number">34</span>] Allocated cache <span class="hljs-operator">and</span> <span class="hljs-built_in">file</span> handles         database=/home/ubuntu/<span class="hljs-keyword">private</span>-geth/data/<span class="hljs-number">00</span>/geth/lightchaindata cache=<span class="hljs-number">16</span> handles=<span class="hljs-number">16</span>
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">14</span>:<span class="hljs-number">38</span>:<span class="hljs-number">34</span>] Writing custom genesis block 
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">14</span>:<span class="hljs-number">38</span>:<span class="hljs-number">34</span>] Successfully wrote genesis state         database=lightchaindata    
</code></pre> 
  <p>进入geth后面连接节点</p> 
  <pre class="prettyprint"><code class=" hljs livecodeserver">
root@i-<span class="hljs-number">67</span>u87x1c:/home/ubuntu/<span class="hljs-keyword">private</span>-geth<span class="hljs-comment"># geth --datadir ./data/00 --networkid 314590 --ipcdisable --port 632 --rpcport 8156 --bootnodes "enode://96f7a95a8c5e7a1f911142d87ce53ae882568be0435016e4803a6d410a9ecc7a69322cee8efbe8499ec7c737c377793182cab8869a076389c6b47626df00450b@192.168.0.4:61910" console</span>
WARN [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">14</span>:<span class="hljs-number">43</span>:<span class="hljs-number">54</span>] No etherbase <span class="hljs-built_in">set</span> <span class="hljs-operator">and</span> no accounts found <span class="hljs-keyword">as</span> default 
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">14</span>:<span class="hljs-number">43</span>:<span class="hljs-number">54</span>] Starting peer-<span class="hljs-built_in">to</span>-peer node               instance=Geth/v1<span class="hljs-number">.6</span><span class="hljs-number">.6</span>-stable-<span class="hljs-number">10</span>a45cb5/linux-amd64/go1<span class="hljs-number">.8</span><span class="hljs-number">.1</span>
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">14</span>:<span class="hljs-number">43</span>:<span class="hljs-number">54</span>] Allocated cache <span class="hljs-operator">and</span> <span class="hljs-built_in">file</span> handles         database=/home/ubuntu/<span class="hljs-keyword">private</span>-geth/data/<span class="hljs-number">00</span>/geth/chaindata cache=<span class="hljs-number">128</span> handles=<span class="hljs-number">1024</span>
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">14</span>:<span class="hljs-number">43</span>:<span class="hljs-number">54</span>] Initialised chain configuration          config=<span class="hljs-string">"{ChainID: 15 Homestead: 0 DAO: &lt;nil&gt; DAOSupport: false EIP150: &lt;nil&gt; EIP155: 0 EIP158: 0 Metropolis: &lt;nil&gt; Engine: unknown}"</span>
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">14</span>:<span class="hljs-number">43</span>:<span class="hljs-number">54</span>] Disk storage enabled <span class="hljs-keyword">for</span> ethash caches   dir=/home/ubuntu/<span class="hljs-keyword">private</span>-geth/data/<span class="hljs-number">00</span>/geth/ethash count=<span class="hljs-number">3</span>
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">14</span>:<span class="hljs-number">43</span>:<span class="hljs-number">54</span>] Disk storage enabled <span class="hljs-keyword">for</span> ethash DAGs     dir=/root/.ethash                                 count=<span class="hljs-number">2</span>
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">14</span>:<span class="hljs-number">43</span>:<span class="hljs-number">54</span>] Initialising Ethereum protocol           versions=<span class="hljs-string">"[63 62]"</span> network=<span class="hljs-number">314590</span>
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">14</span>:<span class="hljs-number">43</span>:<span class="hljs-number">54</span>] Loaded most recent <span class="hljs-built_in">local</span> header          <span class="hljs-built_in">number</span>=<span class="hljs-number">0</span> hash=a0e580鈥<span class="hljs-number">5e82</span>e td=<span class="hljs-number">262144</span>
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">14</span>:<span class="hljs-number">43</span>:<span class="hljs-number">54</span>] Loaded most recent <span class="hljs-built_in">local</span> full block      <span class="hljs-built_in">number</span>=<span class="hljs-number">0</span> hash=a0e580鈥<span class="hljs-number">5e82</span>e td=<span class="hljs-number">262144</span>
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">14</span>:<span class="hljs-number">43</span>:<span class="hljs-number">54</span>] Loaded most recent <span class="hljs-built_in">local</span> fast block      <span class="hljs-built_in">number</span>=<span class="hljs-number">0</span> hash=a0e580鈥<span class="hljs-number">5e82</span>e td=<span class="hljs-number">262144</span>
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">14</span>:<span class="hljs-number">43</span>:<span class="hljs-number">54</span>] Starting P2P networking 
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">14</span>:<span class="hljs-number">43</span>:<span class="hljs-number">57</span>] UDP listener up                          self=enode://ca2dd7e49417097f68292c19e4af9a8311223ce9153559f68d0cb618fb961fcf615ded9c90b635c26d0cdff8aa5ee58e2bbf83949df31e841bab03f451f636ec@[::]:<span class="hljs-number">632</span>
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">14</span>:<span class="hljs-number">43</span>:<span class="hljs-number">57</span>] RLPx listener up                         self=enode://ca2dd7e49417097f68292c19e4af9a8311223ce9153559f68d0cb618fb961fcf615ded9c90b635c26d0cdff8aa5ee58e2bbf83949df31e841bab03f451f636ec@[::]:<span class="hljs-number">632</span>
Welcome <span class="hljs-built_in">to</span> <span class="hljs-operator">the</span> Geth JavaScript console!

instance: Geth/v1<span class="hljs-number">.6</span><span class="hljs-number">.6</span>-stable-<span class="hljs-number">10</span>a45cb5/linux-amd64/go1<span class="hljs-number">.8</span><span class="hljs-number">.1</span>
 modules: admin:<span class="hljs-number">1.0</span> debug:<span class="hljs-number">1.0</span> eth:<span class="hljs-number">1.0</span> miner:<span class="hljs-number">1.0</span> net:<span class="hljs-number">1.0</span> personal:<span class="hljs-number">1.0</span> rpc:<span class="hljs-number">1.0</span> txpool:<span class="hljs-number">1.0</span> web3:<span class="hljs-number">1.0</span>

&gt; eth.blockNumber
<span class="hljs-number">0</span>


&gt;  admin.nodeInfo
{
  enode: <span class="hljs-string">"enode://ca2dd7e49417097f68292c19e4af9a8311223ce9153559f68d0cb618fb961fcf615ded9c90b635c26d0cdff8aa5ee58e2bbf83949df31e841bab03f451f636ec@[::]:632"</span>,
  id: <span class="hljs-string">"ca2dd7e49417097f68292c19e4af9a8311223ce9153559f68d0cb618fb961fcf615ded9c90b635c26d0cdff8aa5ee58e2bbf83949df31e841bab03f451f636ec"</span>,
  ip: <span class="hljs-string">"::"</span>,
  listenAddr: <span class="hljs-string">"[::]:632"</span>,
  name: <span class="hljs-string">"Geth/v1.6.6-stable-10a45cb5/linux-amd64/go1.8.1"</span>,
  ports: {
    discovery: <span class="hljs-number">632</span>,
    listener: <span class="hljs-number">632</span>
  },
  protocols: {
    eth: {
      difficulty: <span class="hljs-number">262144</span>,
      genesis: <span class="hljs-string">"0xa0e580c6769ac3dd80894b2a256164a76b796839d2eb7f799ef6b9850ea5e82e"</span>,
      head: <span class="hljs-string">"0xa0e580c6769ac3dd80894b2a256164a76b796839d2eb7f799ef6b9850ea5e82e"</span>,
      network: <span class="hljs-number">314590</span>
    }
  }
}

root@i-<span class="hljs-number">67</span>u87x1c:/home/ubuntu<span class="hljs-comment"># ip addr</span>
<span class="hljs-number">1</span>: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu <span class="hljs-number">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class="hljs-number">1</span>
    link/loopback <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> brd <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>
    inet <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>/<span class="hljs-number">8</span> scope host lo
       valid_lft <span class="hljs-keyword">forever</span> preferred_lft <span class="hljs-keyword">forever</span>
    inet6 ::<span class="hljs-number">1</span>/<span class="hljs-number">128</span> scope host 
       valid_lft <span class="hljs-keyword">forever</span> preferred_lft <span class="hljs-keyword">forever</span>
<span class="hljs-number">2</span>: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="hljs-number">1500</span> qdisc pfifo_fast state UP group default qlen <span class="hljs-number">1000</span>
    link/ether <span class="hljs-number">52</span>:<span class="hljs-number">54</span>:<span class="hljs-number">37</span>:<span class="hljs-number">78</span>:<span class="hljs-number">15</span>:bb brd ff:ff:ff:ff:ff:ff
    inet <span class="hljs-number">192.168</span><span class="hljs-number">.0</span><span class="hljs-number">.3</span>/<span class="hljs-number">24</span> brd <span class="hljs-number">192.168</span><span class="hljs-number">.0</span><span class="hljs-number">.255</span> scope <span class="hljs-built_in">global</span> eth0
       valid_lft <span class="hljs-keyword">forever</span> preferred_lft <span class="hljs-keyword">forever</span>
    inet6 fe80::<span class="hljs-number">5054</span>:<span class="hljs-number">37</span>ff:fe78:<span class="hljs-number">15</span>bb/<span class="hljs-number">64</span> scope link 
       valid_lft <span class="hljs-keyword">forever</span> preferred_lft <span class="hljs-keyword">forever</span></code></pre> 
  <p>二 另外一台电脑 </p> 
  <pre class="prettyprint"><code class=" hljs vbnet">创建相同的创始块
root@i-kectp1zd:/home/ubuntu/<span class="hljs-keyword">private</span>-geth<span class="hljs-preprocessor"># </span>
root@i-kectp1zd:/home/ubuntu/<span class="hljs-keyword">private</span>-geth<span class="hljs-preprocessor"># geth --datadir ./data/00 init genesis.json</span>
WARN [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">15</span>:<span class="hljs-number">26</span>:<span class="hljs-number">39</span>] No etherbase <span class="hljs-keyword">set</span> <span class="hljs-keyword">and</span> no accounts found <span class="hljs-keyword">as</span> <span class="hljs-keyword">default</span> 
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">15</span>:<span class="hljs-number">26</span>:<span class="hljs-number">39</span>] Allocated cache <span class="hljs-keyword">and</span> file <span class="hljs-keyword">handles</span>         database=/home/ubuntu/<span class="hljs-keyword">private</span>-geth/data/<span class="hljs-number">00</span>/geth/chaindata cache=<span class="hljs-number">16</span> <span class="hljs-keyword">handles</span>=<span class="hljs-number">16</span>
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">15</span>:<span class="hljs-number">26</span>:<span class="hljs-number">39</span>] Writing <span class="hljs-keyword">custom</span> genesis block 
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">15</span>:<span class="hljs-number">26</span>:<span class="hljs-number">39</span>] Successfully wrote genesis state         database=chaindata                                        hash=a0e580鈥<span class="hljs-number">5e82</span>e
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">15</span>:<span class="hljs-number">26</span>:<span class="hljs-number">39</span>] Allocated cache <span class="hljs-keyword">and</span> file <span class="hljs-keyword">handles</span>         database=/home/ubuntu/<span class="hljs-keyword">private</span>-geth/data/<span class="hljs-number">00</span>/geth/lightchaindata cache=<span class="hljs-number">16</span> <span class="hljs-keyword">handles</span>=<span class="hljs-number">16</span>
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">15</span>:<span class="hljs-number">26</span>:<span class="hljs-number">39</span>] Writing <span class="hljs-keyword">custom</span> genesis block 
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">15</span>:<span class="hljs-number">26</span>:<span class="hljs-number">39</span>] Successfully wrote genesis state         database=lightchaindata                                        hash=a0e580鈥<span class="hljs-number">5e82</span>e



</code></pre> 
  <p>进入geth</p> 
  <pre class="prettyprint"><code class=" hljs sql">
root@i-kectp1zd:/home/ubuntu/private-geth# geth <span class="hljs-comment">--datadir ./data --networkid 314590 --ipcdisable --port 3456 --rpcport 78 --bootnodes "enode://ca2dd7e49417097f68292c19e4af9a8311223ce9153559f68d0cb618fb961fcf615ded9c90b635c26d0cdff8aa5ee58e2bbf83949df31e841bab03f451f636ec@192.168.0.3:632" console</span>
WARN [07-06|15:30:31] No etherbase <span class="hljs-operator"><span class="hljs-keyword">set</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">no</span> accounts <span class="hljs-keyword">found</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">default</span> INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">15</span>:<span class="hljs-number">30</span>:<span class="hljs-number">31</span>] Starting peer-<span class="hljs-keyword">to</span>-peer node instance=Geth/v1<span class="hljs-number">.6</span><span class="hljs-number">.6</span>-stable-<span class="hljs-number">10</span>a45cb5/linux-amd64/go1<span class="hljs-number">.8</span><span class="hljs-number">.1</span> INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">15</span>:<span class="hljs-number">30</span>:<span class="hljs-number">31</span>] Allocated cache <span class="hljs-keyword">and</span> file handles <span class="hljs-keyword">database</span>=/home/ubuntu/private-geth/data/geth/chaindata cache=<span class="hljs-number">128</span> handles=<span class="hljs-number">1024</span> INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">15</span>:<span class="hljs-number">30</span>:<span class="hljs-number">31</span>] Writing <span class="hljs-keyword">default</span> main-net genesis block INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">15</span>:<span class="hljs-number">30</span>:<span class="hljs-number">31</span>] Initialised chain configuration config=<span class="hljs-string">"{ChainID: 1 Homestead: 1150000 DAO: 1920000 DAOSupport: true EIP150: 2463000 EIP155: 2675000 EIP158: 2675000 Metropolis: 9223372036854775807 Engine: ethash}"</span> INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">15</span>:<span class="hljs-number">30</span>:<span class="hljs-number">31</span>] Disk storage enabled <span class="hljs-keyword">for</span> ethash caches dir=/home/ubuntu/private-geth/data/geth/ethash <span class="hljs-aggregate">count</span>=<span class="hljs-number">3</span> INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">15</span>:<span class="hljs-number">30</span>:<span class="hljs-number">31</span>] Disk storage enabled <span class="hljs-keyword">for</span> ethash DAGs dir=/root/.ethash <span class="hljs-aggregate">count</span>=<span class="hljs-number">2</span> WARN [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">15</span>:<span class="hljs-number">30</span>:<span class="hljs-number">31</span>] Upgrading db log bloom bins INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">15</span>:<span class="hljs-number">30</span>:<span class="hljs-number">31</span>] Bloom-bin upgrade completed elapsed=<span class="hljs-number">123.418</span>碌s INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">15</span>:<span class="hljs-number">30</span>:<span class="hljs-number">31</span>] Initialising Ethereum protocol versions=<span class="hljs-string">"[63 62]"</span> network=<span class="hljs-number">314590</span> INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">15</span>:<span class="hljs-number">30</span>:<span class="hljs-number">31</span>] Loaded most recent <span class="hljs-keyword">local</span> header <span class="hljs-keyword">number</span>=<span class="hljs-number">0</span> hash=d4e567鈥b8fa3 td=<span class="hljs-number">17179869184</span> INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">15</span>:<span class="hljs-number">30</span>:<span class="hljs-number">31</span>] Loaded most recent <span class="hljs-keyword">local</span> <span class="hljs-keyword">full</span> block <span class="hljs-keyword">number</span>=<span class="hljs-number">0</span> hash=d4e567鈥b8fa3 td=<span class="hljs-number">17179869184</span> INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">15</span>:<span class="hljs-number">30</span>:<span class="hljs-number">31</span>] Loaded most recent <span class="hljs-keyword">local</span> fast block <span class="hljs-keyword">number</span>=<span class="hljs-number">0</span> hash=d4e567鈥b8fa3 td=<span class="hljs-number">17179869184</span> INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">15</span>:<span class="hljs-number">30</span>:<span class="hljs-number">31</span>] Starting P2P networking INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">15</span>:<span class="hljs-number">30</span>:<span class="hljs-number">33</span>] UDP listener up self=enode://a22e7a8f502521ac685df1f001c59a06549b5292a42728e08ac3ca3f15603c75a0680f47ced4a736eab047335a0d2331e91ccb483591a83ecae57181878a7e07@[::]:<span class="hljs-number">3456</span> INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">15</span>:<span class="hljs-number">30</span>:<span class="hljs-number">33</span>] RLPx listener up self=enode://a22e7a8f502521ac685df1f001c59a06549b5292a42728e08ac3ca3f15603c75a0680f47ced4a736eab047335a0d2331e91ccb483591a83ecae57181878a7e07@[::]:<span class="hljs-number">3456</span> Welcome <span class="hljs-keyword">to</span> the Geth JavaScript console! instance: Geth/v1<span class="hljs-number">.6</span><span class="hljs-number">.6</span>-stable-<span class="hljs-number">10</span>a45cb5/linux-amd64/go1<span class="hljs-number">.8</span><span class="hljs-number">.1</span> modules: admin:<span class="hljs-number">1.0</span> debug:<span class="hljs-number">1.0</span> eth:<span class="hljs-number">1.0</span> miner:<span class="hljs-number">1.0</span> net:<span class="hljs-number">1.0</span> personal:<span class="hljs-number">1.0</span> rpc:<span class="hljs-number">1.0</span> txpool:<span class="hljs-number">1.0</span> web3:<span class="hljs-number">1.0</span> &gt; &gt; personal.newAccount function github.com/ethereum/<span class="hljs-keyword">go</span>-ethereum/console.(*bridge).NewAccount-fm() &gt; personal.newAccount()</span></code></pre> 
  <p>镜像制作新的电脑</p> 
  <pre class="prettyprint"><code class=" hljs livecodeserver">root@i-<span class="hljs-number">0</span>mu8dg3p:/home/ubuntu<span class="hljs-comment"># mkdir private-gethyi</span>
root@i-<span class="hljs-number">0</span>mu8dg3p:/home/ubuntu<span class="hljs-comment"># cd private-gethyi</span>
root@i-<span class="hljs-number">0</span>mu8dg3p:/home/ubuntu/<span class="hljs-keyword">private</span>-gethyi<span class="hljs-comment"># vim genesis.json </span>

{
    <span class="hljs-string">"config"</span>: {
        <span class="hljs-string">"chainId"</span>: <span class="hljs-number">15</span>,
        <span class="hljs-string">"homesteadBlock"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-string">"eip155Block"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-string">"eip158Block"</span>: <span class="hljs-number">0</span>
    },
    <span class="hljs-string">"coinbase"</span> : <span class="hljs-string">"0x0000000000000000000000000000000000000000"</span>,
    <span class="hljs-string">"difficulty"</span> : <span class="hljs-string">"0x40000"</span>,
    <span class="hljs-string">"extraData"</span> : <span class="hljs-string">""</span>,
    <span class="hljs-string">"gasLimit"</span> : <span class="hljs-string">"0xffffffff"</span>,
    <span class="hljs-string">"nonce"</span> : <span class="hljs-string">"0x0000000000000042"</span>,
    <span class="hljs-string">"mixhash"</span> : <span class="hljs-string">"0x0000000000000000000000000000000000000000000000000000000000000000"</span>,
    <span class="hljs-string">"parentHash"</span> : <span class="hljs-string">"0x0000000000000000000000000000000000000000000000000000000000000000"</span>,
    <span class="hljs-string">"timestamp"</span> : <span class="hljs-string">"0x00"</span>,
    <span class="hljs-string">"alloc"</span>: { }
}

root@i-<span class="hljs-number">0</span>mu8dg3p:/home/ubuntu/<span class="hljs-keyword">private</span>-gethyi<span class="hljs-comment"># geth --datadir ./data/00 init genesis.json</span>
WARN [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">16</span>:<span class="hljs-number">47</span>:<span class="hljs-number">03</span>] No etherbase <span class="hljs-built_in">set</span> <span class="hljs-operator">and</span> no accounts found <span class="hljs-keyword">as</span> default 
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">16</span>:<span class="hljs-number">47</span>:<span class="hljs-number">03</span>] Allocated cache <span class="hljs-operator">and</span> <span class="hljs-built_in">file</span> handles         database=/home/ubuntu/<span class="hljs-keyword">private</span>-gethyi/data/<span class="hljs-number">00</span>/geth/chaindata cache=<span class="hljs-number">16</span> handles=<span class="hljs-number">16</span>
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">16</span>:<span class="hljs-number">47</span>:<span class="hljs-number">03</span>] Writing custom genesis block 
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">16</span>:<span class="hljs-number">47</span>:<span class="hljs-number">03</span>] Successfully wrote genesis state         database=chaindata                                          hash=a0e580鈥<span class="hljs-number">5e82</span>e
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">16</span>:<span class="hljs-number">47</span>:<span class="hljs-number">03</span>] Allocated cache <span class="hljs-operator">and</span> <span class="hljs-built_in">file</span> handles         database=/home/ubuntu/<span class="hljs-keyword">private</span>-gethyi/data/<span class="hljs-number">00</span>/geth/lightchaindata cache=<span class="hljs-number">16</span> handles=<span class="hljs-number">16</span>
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">16</span>:<span class="hljs-number">47</span>:<span class="hljs-number">03</span>] Writing custom genesis block 
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">16</span>:<span class="hljs-number">47</span>:<span class="hljs-number">03</span>] Successfully wrote genesis state         database=lightchaindata   
root@i-<span class="hljs-number">0</span>mu8dg3p:/home/ubuntu/<span class="hljs-keyword">private</span>-gethyi<span class="hljs-comment"># geth --datadir ./data/00 --networkid 314590 --ipcdisable --port 123 --rpcport 456 --bootnodes "enode://96f7a95a8c5e7a1f911142d87ce53ae882568be0435016e4803a6d410a9ecc7a69322cee8efbe8499ec7c737c377793182cab8869a076389c6b47626df00450b@192.168.0.4:61910" console</span>


&gt; miner.start()
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">17</span>:<span class="hljs-number">05</span>:<span class="hljs-number">47</span>] Updated mining threads                   threads=<span class="hljs-number">0</span>
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">17</span>:<span class="hljs-number">05</span>:<span class="hljs-number">47</span>] Transaction pool price threshold updated price=<span class="hljs-number">18000000000</span>
<span class="hljs-constant">null</span>
&gt; INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">17</span>:<span class="hljs-number">05</span>:<span class="hljs-number">47</span>] Starting mining operation 
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">17</span>:<span class="hljs-number">05</span>:<span class="hljs-number">47</span>] Commit <span class="hljs-built_in">new</span> mining work                   <span class="hljs-built_in">number</span>=<span class="hljs-number">1</span> txs=<span class="hljs-number">0</span> uncles=<span class="hljs-number">0</span> elapsed=<span class="hljs-number">180.94</span>碌s
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">17</span>:<span class="hljs-number">21</span>:<span class="hljs-number">25</span>] Successfully sealed <span class="hljs-built_in">new</span> block            <span class="hljs-built_in">number</span>=<span class="hljs-number">1</span> hash=<span class="hljs-number">0</span>b386b鈥dfce1
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">17</span>:<span class="hljs-number">21</span>:<span class="hljs-number">25</span>] 馃敤 mined potential block                  <span class="hljs-built_in">number</span>=<span class="hljs-number">1</span> hash=<span class="hljs-number">0</span>b386b鈥dfce1
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">17</span>:<span class="hljs-number">21</span>:<span class="hljs-number">25</span>] Commit <span class="hljs-built_in">new</span> mining work                   <span class="hljs-built_in">number</span>=<span class="hljs-number">2</span> txs=<span class="hljs-number">0</span> uncles=<span class="hljs-number">0</span> elapsed=<span class="hljs-number">3.832</span>ms
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">17</span>:<span class="hljs-number">24</span>:<span class="hljs-number">43</span>] Successfully sealed <span class="hljs-built_in">new</span> block            <span class="hljs-built_in">number</span>=<span class="hljs-number">2</span> hash=<span class="hljs-number">6</span>ff261鈥<span class="hljs-number">2e306</span>
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">17</span>:<span class="hljs-number">24</span>:<span class="hljs-number">43</span>] 馃敤 mined potential block                  <span class="hljs-built_in">number</span>=<span class="hljs-number">2</span> hash=<span class="hljs-number">6</span>ff261鈥<span class="hljs-number">2e306</span>
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">17</span>:<span class="hljs-number">24</span>:<span class="hljs-number">43</span>] Commit <span class="hljs-built_in">new</span> mining work                   <span class="hljs-built_in">number</span>=<span class="hljs-number">3</span> txs=<span class="hljs-number">0</span> uncles=<span class="hljs-number">0</span> elapsed=<span class="hljs-number">683.976</span>碌s
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">17</span>:<span class="hljs-number">27</span>:<span class="hljs-number">11</span>] Successfully sealed <span class="hljs-built_in">new</span> block            <span class="hljs-built_in">number</span>=<span class="hljs-number">3</span> hash=<span class="hljs-number">92983</span>c鈥<span class="hljs-number">222</span>ab
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">17</span>:<span class="hljs-number">27</span>:<span class="hljs-number">11</span>] 馃敤 mined potential block                  <span class="hljs-built_in">number</span>=<span class="hljs-number">3</span> hash=<span class="hljs-number">92983</span>c鈥<span class="hljs-number">222</span>ab
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">17</span>:<span class="hljs-number">27</span>:<span class="hljs-number">11</span>] Commit <span class="hljs-built_in">new</span> mining work                   <span class="hljs-built_in">number</span>=<span class="hljs-number">4</span> txs=<span class="hljs-number">0</span> uncles=<span class="hljs-number">0</span> elapsed=<span class="hljs-number">704.935</span>碌s
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">17</span>:<span class="hljs-number">34</span>:<span class="hljs-number">06</span>] Successfully sealed <span class="hljs-built_in">new</span> block            <span class="hljs-built_in">number</span>=<span class="hljs-number">4</span> hash=a0272f鈥<span class="hljs-number">88970</span>
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">17</span>:<span class="hljs-number">34</span>:<span class="hljs-number">06</span>] 馃敤 mined potential block                  <span class="hljs-built_in">number</span>=<span class="hljs-number">4</span> hash=a0272f鈥<span class="hljs-number">88970</span>
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">17</span>:<span class="hljs-number">34</span>:<span class="hljs-number">06</span>] Commit <span class="hljs-built_in">new</span> mining work                   <span class="hljs-built_in">number</span>=<span class="hljs-number">5</span> txs=<span class="hljs-number">0</span> uncles=<span class="hljs-number">0</span> elapsed=<span class="hljs-number">618.806</span>碌s
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">17</span>:<span class="hljs-number">45</span>:<span class="hljs-number">42</span>] Successfully sealed <span class="hljs-built_in">new</span> block            <span class="hljs-built_in">number</span>=<span class="hljs-number">5</span> hash=<span class="hljs-number">0880e3</span>鈥<span class="hljs-number">9</span>a7d3
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">17</span>:<span class="hljs-number">45</span>:<span class="hljs-number">42</span>] 馃敤 mined potential block                  <span class="hljs-built_in">number</span>=<span class="hljs-number">5</span> hash=<span class="hljs-number">0880e3</span>鈥<span class="hljs-number">9</span>a7d3
INFO [<span class="hljs-number">07</span>-<span class="hljs-number">06</span>|<span class="hljs-number">17</span>:<span class="hljs-number">45</span>:<span class="hljs-number">42</span>] Commit <span class="hljs-built_in">new</span> mining work                   <span class="hljs-built_in">number</span>=<span class="hljs-number">6</span> txs=<span class="hljs-number">0</span> uncles=<span class="hljs-number">0</span> elapsed=<span class="hljs-number">504.843</span>碌s

&gt; 
&gt; 
&gt; 
&gt; miner.stop()
<span class="hljs-constant">true</span>
&gt; 
&gt; 
&gt; eth.blockNumber
<span class="hljs-number">5</span></code></pre> 
  <pre class="prettyprint"><code class=" hljs avrasm">admin<span class="hljs-preprocessor">.addPeer</span>(<span class="hljs-string">"enode://96f7a95a8c5e7a1f911142d87ce53ae882568be0435016e4803a6d410a9ecc7a69322cee8efbe8499ec7c737c377793182cab8869a076389c6b47626df00450b@192.168.0.4:61910"</span>)

&gt; admin<span class="hljs-preprocessor">.nodeInfo</span>
{
  enode: <span class="hljs-string">"enode://c49ec7069c76c6414b2debc6e0f27d3774cc54133681a28c7283b9b822851f21aee710d91ef7ccf10861d9c8cb6fce8b8189ac71441d051353ce9c10bdaf7892@[::]:123"</span>,
  id: <span class="hljs-string">"c49ec7069c76c6414b2debc6e0f27d3774cc54133681a28c7283b9b822851f21aee710d91ef7ccf10861d9c8cb6fce8b8189ac71441d051353ce9c10bdaf7892"</span>,
  ip: <span class="hljs-string">"::"</span>,
  listenAddr: <span class="hljs-string">"[::]:123"</span>,
  name: <span class="hljs-string">"Geth/v1.6.6-stable-10a45cb5/linux-amd64/go1.8.1"</span>,
  ports: {
    discovery: <span class="hljs-number">123</span>,
    listener: <span class="hljs-number">123</span>
  },
  protocols: {
    eth: {
      difficulty: <span class="hljs-number">1451162</span>,
      genesis: <span class="hljs-string">"0xa0e580c6769ac3dd80894b2a256164a76b796839d2eb7f799ef6b9850ea5e82e"</span>,
      head: <span class="hljs-string">"0x0880e3e3f21e5601661aeb01fc8589a46d6efe5ef31adebb5f7f9679d7e9a7d3"</span>,
      network: <span class="hljs-number">314590</span>
    }
  }
}</code></pre> 
 </div> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/markdown_views-ea0013b516.css"> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/DDFFR/article/details/74585338,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/DDFFR/article/details/74585338,&quot;}">阅读更多</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?ee64533f3c6a7a284cd39a37ee732c8b";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
