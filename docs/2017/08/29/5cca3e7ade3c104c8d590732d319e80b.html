<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Hash算法的分类和原理（从零开始学区块链 194） | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Hash算法的分类和原理（从零开始学区块链 194）" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Hash算法广泛应用于区块链工作量证明中，每个具有创新性的区块链项目中均有各自不同的实现，属于区块链中比较核心和基础的技术，以前也有篇幅介绍，本文主要介绍Hash算法中的相关原理，便于更深入理解这项技术 Hash算法在信息安全方面的应用主要体现在三个方面： （1) 文件校验 我们比较熟悉的校验算法有奇偶校验和CRC校验，这2种校验并没有抗数据篡改的能力，它们一定程度上能检測并纠正传输数据中的信道误码，但却不能防止对数据的恶意破坏。 MD5 Hash算法的”数字指纹”特性，使它成为眼下应用最广泛的一种文件完整性校验和(Checksum)算法，不少Unix系统有提供计算md5 checksum的命令。 （2) 数字签名 Hash 算法也是现代password体系中的一个重要组成部分。因为非对称算法的运算速度较慢，所以在数字签名协议中，单向散列函数扮演了一个重要的角色。 对 Hash 值，又称”数字摘要”进行数字签名，在统计上能够觉得与对文件本身进行数字签名是等效的。并且这种协议还有其它的长处。 （3) 鉴权协议 例如以下的鉴权协议又被称作挑战–认证模式：在传输信道是可被侦听，但不可被篡改的情况下，这是一种简单而安全的方法。 Hash算法分类 一般的说，Hash算法函数根据其原理，能够简单的划分为例如以下几类： 1. 加法Hash；2. 位运算Hash；3. 乘法Hash；4. 除法Hash；5. 查表Hash；6. 混合Hash； 以下具体的介绍以上各种方式在实际中的运用。 1、加法Hash 所谓的加法Hash就是把输入元素一个一个的加起来构成最后的结果。标准的加法Hash的构造例如以下： static int additiveHash(String key, int prime) { &nbsp;int hash, i; &nbsp;for (hash = key.length(), i = 0; i &lt; key.length(); i++) &nbsp; hash += key.charAt(i); &nbsp;return (hash % prime); } 这里的prime是随意的质数，看得出，结果的值域为[0,prime-1]。 2、位运算Hash 这类型Hash函数通过利用各种位运算（常见的是移位和异或）来充分的混合输入元素。比方，标准的旋转Hash的构造例如以下： static int rotatingHash(String key, int prime) { &nbsp;int hash, i; &nbsp;for (hash=key.length(), i=0; i &nbsp;&nbsp;&nbsp;hash = (hash&lt;&gt;28)^key.charAt(i); &nbsp;return (hash % prime); } 先移位，然后再进行各种位运算是这样的类型Hash函数的主要特点。 3、乘法Hash 这样的类型的Hash函数利用了乘法的不相关性（乘法的这样的性质，最有名的莫过于平方取头尾的随机数生成算法，尽管这样的算法效果并不好）。例如： static int bernstein(String key) { &nbsp;int hash = 0; &nbsp;int i; &nbsp;for (i=0; i &nbsp;return hash; } 使用这样的方式的著名Hash函数还有FNV算法及其变种，需要注意的是ETH中的EThash算法中就部分采用FNV代替常见的异或操作： // 32位FNV算法 int M_SHIFT = 0; &nbsp; public int FNVHash(byte[] data) { &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;int hash = (int)2166136261L; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;for(byte b : data) &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;hash = (hash * 16777619) ^ b; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;if (M_SHIFT == 0) &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;return hash; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;return (hash ^ (hash &gt;&gt; M_SHIFT)) &amp; M_MASK; } 以及改进的FNV算法： public static int FNVHash1(String data) { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final int p = 16777619; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int hash = (int)2166136261L; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(int i=0;i &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash = (hash ^ data.charAt(i)) * p; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash += hash &lt;&lt; 13; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash ^= hash &gt;&gt; 7; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash += hash &lt;&lt; 3; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash ^= hash &gt;&gt; 17; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash += hash &lt;&lt; 5; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return hash; } 除了乘以一个固定的数，常见的还有乘以一个不断改变的数，比方： static int RSHash(String str) { &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;int b&nbsp; &nbsp; = 378551; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;int a&nbsp; &nbsp; = 63689; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;int hash = 0; &nbsp;&nbsp; &nbsp; for(int i = 0; i &lt; str.length(); i++) { &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; hash = hash * a + str.charAt(i); &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; a&nbsp; &nbsp; = a * b; } &nbsp;&nbsp; &nbsp; return (hash &amp; 0x7FFFFFFF); } 另外，尽管Adler32算法的应用没有CRC32广泛，只是，它可能是乘法Hash里面最有名的一个了。关于它的介绍，大家能够去看RFC 1950规范。 4、除法Hash 除法和乘法一样，相同具有表面上看起来的不相关性。只是，由于除法太慢，这样的方式差点儿找不到真正的应用。须要注意的是，我们在前面看到的hash的 结果除以一个prime的目的仅仅是为了保证结果的范围。假设你不须要它限制一个范围的话，能够使用例如以下的代码替代”hash%prime”： hash = hash ^ (hash&gt;&gt;10) ^ (hash&gt;&gt;20)。 5、查表Hash 查表Hash最有名的样例莫过于CRC系列算法。尽管CRC系列算法本身并非查表，但是，查表是它的一种最快的实现方式。 查表Hash中有名的样例有：Universal Hashing和Zobrist Hashing。他们的表格都是随机生成的。 6、 混合Hash 混合Hash算法利用了以上各种方式。各种常见的Hash算法，比方MD5、Tiger都属于这个范围。它们一般非常少在面向查找的Hash函数里面使用。 当然根据你的需要选择合适的hash函数是非常需要技巧的，最简单可以使用主要的乘法Hash，当乘数为33时，对于英文单词有非常好的散列效果（小于6个的小写形式能够保证没有冲突）。复杂一点能够使用FNV算法（及其改进形式），它对于比較长的字符串，在速度和效果上都不错。 关于本文 这些分类里面FNV非常值得关注，毕竟EThash采用了，喜欢就关注吧，您也可以转发到群和朋友圈中让更多人了解，您的支持和鼓励是我最大的动力 长按关注，学习更多 相关内容阅读 scrypt算法的前世今生（从零开始学区块链 192） 一致性hash算法详解（从零开始学区块链 57） Quorum(NRW)算法机制简介（从零开始学区块链 141） Chord算法详解（从零开始学区块链 93） IT世界的10大算法（从零开始学区块链 77） 深度说一下RSA算法（从零开始学区块链 61） 聊聊离散对数加密算法（从零开始学区块链 62） 简约而不简单的随机数（从零开始学区块链 51） 面对Grover量子算法区块链安全吗（从零开始学区块链 49） 阅读更多" />
<meta property="og:description" content="Hash算法广泛应用于区块链工作量证明中，每个具有创新性的区块链项目中均有各自不同的实现，属于区块链中比较核心和基础的技术，以前也有篇幅介绍，本文主要介绍Hash算法中的相关原理，便于更深入理解这项技术 Hash算法在信息安全方面的应用主要体现在三个方面： （1) 文件校验 我们比较熟悉的校验算法有奇偶校验和CRC校验，这2种校验并没有抗数据篡改的能力，它们一定程度上能检測并纠正传输数据中的信道误码，但却不能防止对数据的恶意破坏。 MD5 Hash算法的”数字指纹”特性，使它成为眼下应用最广泛的一种文件完整性校验和(Checksum)算法，不少Unix系统有提供计算md5 checksum的命令。 （2) 数字签名 Hash 算法也是现代password体系中的一个重要组成部分。因为非对称算法的运算速度较慢，所以在数字签名协议中，单向散列函数扮演了一个重要的角色。 对 Hash 值，又称”数字摘要”进行数字签名，在统计上能够觉得与对文件本身进行数字签名是等效的。并且这种协议还有其它的长处。 （3) 鉴权协议 例如以下的鉴权协议又被称作挑战–认证模式：在传输信道是可被侦听，但不可被篡改的情况下，这是一种简单而安全的方法。 Hash算法分类 一般的说，Hash算法函数根据其原理，能够简单的划分为例如以下几类： 1. 加法Hash；2. 位运算Hash；3. 乘法Hash；4. 除法Hash；5. 查表Hash；6. 混合Hash； 以下具体的介绍以上各种方式在实际中的运用。 1、加法Hash 所谓的加法Hash就是把输入元素一个一个的加起来构成最后的结果。标准的加法Hash的构造例如以下： static int additiveHash(String key, int prime) { &nbsp;int hash, i; &nbsp;for (hash = key.length(), i = 0; i &lt; key.length(); i++) &nbsp; hash += key.charAt(i); &nbsp;return (hash % prime); } 这里的prime是随意的质数，看得出，结果的值域为[0,prime-1]。 2、位运算Hash 这类型Hash函数通过利用各种位运算（常见的是移位和异或）来充分的混合输入元素。比方，标准的旋转Hash的构造例如以下： static int rotatingHash(String key, int prime) { &nbsp;int hash, i; &nbsp;for (hash=key.length(), i=0; i &nbsp;&nbsp;&nbsp;hash = (hash&lt;&gt;28)^key.charAt(i); &nbsp;return (hash % prime); } 先移位，然后再进行各种位运算是这样的类型Hash函数的主要特点。 3、乘法Hash 这样的类型的Hash函数利用了乘法的不相关性（乘法的这样的性质，最有名的莫过于平方取头尾的随机数生成算法，尽管这样的算法效果并不好）。例如： static int bernstein(String key) { &nbsp;int hash = 0; &nbsp;int i; &nbsp;for (i=0; i &nbsp;return hash; } 使用这样的方式的著名Hash函数还有FNV算法及其变种，需要注意的是ETH中的EThash算法中就部分采用FNV代替常见的异或操作： // 32位FNV算法 int M_SHIFT = 0; &nbsp; public int FNVHash(byte[] data) { &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;int hash = (int)2166136261L; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;for(byte b : data) &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;hash = (hash * 16777619) ^ b; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;if (M_SHIFT == 0) &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;return hash; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;return (hash ^ (hash &gt;&gt; M_SHIFT)) &amp; M_MASK; } 以及改进的FNV算法： public static int FNVHash1(String data) { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final int p = 16777619; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int hash = (int)2166136261L; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(int i=0;i &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash = (hash ^ data.charAt(i)) * p; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash += hash &lt;&lt; 13; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash ^= hash &gt;&gt; 7; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash += hash &lt;&lt; 3; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash ^= hash &gt;&gt; 17; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash += hash &lt;&lt; 5; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return hash; } 除了乘以一个固定的数，常见的还有乘以一个不断改变的数，比方： static int RSHash(String str) { &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;int b&nbsp; &nbsp; = 378551; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;int a&nbsp; &nbsp; = 63689; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;int hash = 0; &nbsp;&nbsp; &nbsp; for(int i = 0; i &lt; str.length(); i++) { &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; hash = hash * a + str.charAt(i); &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; a&nbsp; &nbsp; = a * b; } &nbsp;&nbsp; &nbsp; return (hash &amp; 0x7FFFFFFF); } 另外，尽管Adler32算法的应用没有CRC32广泛，只是，它可能是乘法Hash里面最有名的一个了。关于它的介绍，大家能够去看RFC 1950规范。 4、除法Hash 除法和乘法一样，相同具有表面上看起来的不相关性。只是，由于除法太慢，这样的方式差点儿找不到真正的应用。须要注意的是，我们在前面看到的hash的 结果除以一个prime的目的仅仅是为了保证结果的范围。假设你不须要它限制一个范围的话，能够使用例如以下的代码替代”hash%prime”： hash = hash ^ (hash&gt;&gt;10) ^ (hash&gt;&gt;20)。 5、查表Hash 查表Hash最有名的样例莫过于CRC系列算法。尽管CRC系列算法本身并非查表，但是，查表是它的一种最快的实现方式。 查表Hash中有名的样例有：Universal Hashing和Zobrist Hashing。他们的表格都是随机生成的。 6、 混合Hash 混合Hash算法利用了以上各种方式。各种常见的Hash算法，比方MD5、Tiger都属于这个范围。它们一般非常少在面向查找的Hash函数里面使用。 当然根据你的需要选择合适的hash函数是非常需要技巧的，最简单可以使用主要的乘法Hash，当乘数为33时，对于英文单词有非常好的散列效果（小于6个的小写形式能够保证没有冲突）。复杂一点能够使用FNV算法（及其改进形式），它对于比較长的字符串，在速度和效果上都不错。 关于本文 这些分类里面FNV非常值得关注，毕竟EThash采用了，喜欢就关注吧，您也可以转发到群和朋友圈中让更多人了解，您的支持和鼓励是我最大的动力 长按关注，学习更多 相关内容阅读 scrypt算法的前世今生（从零开始学区块链 192） 一致性hash算法详解（从零开始学区块链 57） Quorum(NRW)算法机制简介（从零开始学区块链 141） Chord算法详解（从零开始学区块链 93） IT世界的10大算法（从零开始学区块链 77） 深度说一下RSA算法（从零开始学区块链 61） 聊聊离散对数加密算法（从零开始学区块链 62） 简约而不简单的随机数（从零开始学区块链 51） 面对Grover量子算法区块链安全吗（从零开始学区块链 49） 阅读更多" />
<link rel="canonical" href="https://mlh.app/2017/08/29/5cca3e7ade3c104c8d590732d319e80b.html" />
<meta property="og:url" content="https://mlh.app/2017/08/29/5cca3e7ade3c104c8d590732d319e80b.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-08-29T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"Hash算法广泛应用于区块链工作量证明中，每个具有创新性的区块链项目中均有各自不同的实现，属于区块链中比较核心和基础的技术，以前也有篇幅介绍，本文主要介绍Hash算法中的相关原理，便于更深入理解这项技术 Hash算法在信息安全方面的应用主要体现在三个方面： （1) 文件校验 我们比较熟悉的校验算法有奇偶校验和CRC校验，这2种校验并没有抗数据篡改的能力，它们一定程度上能检測并纠正传输数据中的信道误码，但却不能防止对数据的恶意破坏。 MD5 Hash算法的”数字指纹”特性，使它成为眼下应用最广泛的一种文件完整性校验和(Checksum)算法，不少Unix系统有提供计算md5 checksum的命令。 （2) 数字签名 Hash 算法也是现代password体系中的一个重要组成部分。因为非对称算法的运算速度较慢，所以在数字签名协议中，单向散列函数扮演了一个重要的角色。 对 Hash 值，又称”数字摘要”进行数字签名，在统计上能够觉得与对文件本身进行数字签名是等效的。并且这种协议还有其它的长处。 （3) 鉴权协议 例如以下的鉴权协议又被称作挑战–认证模式：在传输信道是可被侦听，但不可被篡改的情况下，这是一种简单而安全的方法。 Hash算法分类 一般的说，Hash算法函数根据其原理，能够简单的划分为例如以下几类： 1. 加法Hash；2. 位运算Hash；3. 乘法Hash；4. 除法Hash；5. 查表Hash；6. 混合Hash； 以下具体的介绍以上各种方式在实际中的运用。 1、加法Hash 所谓的加法Hash就是把输入元素一个一个的加起来构成最后的结果。标准的加法Hash的构造例如以下： static int additiveHash(String key, int prime) { &nbsp;int hash, i; &nbsp;for (hash = key.length(), i = 0; i &lt; key.length(); i++) &nbsp; hash += key.charAt(i); &nbsp;return (hash % prime); } 这里的prime是随意的质数，看得出，结果的值域为[0,prime-1]。 2、位运算Hash 这类型Hash函数通过利用各种位运算（常见的是移位和异或）来充分的混合输入元素。比方，标准的旋转Hash的构造例如以下： static int rotatingHash(String key, int prime) { &nbsp;int hash, i; &nbsp;for (hash=key.length(), i=0; i &nbsp;&nbsp;&nbsp;hash = (hash&lt;&gt;28)^key.charAt(i); &nbsp;return (hash % prime); } 先移位，然后再进行各种位运算是这样的类型Hash函数的主要特点。 3、乘法Hash 这样的类型的Hash函数利用了乘法的不相关性（乘法的这样的性质，最有名的莫过于平方取头尾的随机数生成算法，尽管这样的算法效果并不好）。例如： static int bernstein(String key) { &nbsp;int hash = 0; &nbsp;int i; &nbsp;for (i=0; i &nbsp;return hash; } 使用这样的方式的著名Hash函数还有FNV算法及其变种，需要注意的是ETH中的EThash算法中就部分采用FNV代替常见的异或操作： // 32位FNV算法 int M_SHIFT = 0; &nbsp; public int FNVHash(byte[] data) { &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;int hash = (int)2166136261L; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;for(byte b : data) &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;hash = (hash * 16777619) ^ b; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;if (M_SHIFT == 0) &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;return hash; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;return (hash ^ (hash &gt;&gt; M_SHIFT)) &amp; M_MASK; } 以及改进的FNV算法： public static int FNVHash1(String data) { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final int p = 16777619; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int hash = (int)2166136261L; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(int i=0;i &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash = (hash ^ data.charAt(i)) * p; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash += hash &lt;&lt; 13; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash ^= hash &gt;&gt; 7; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash += hash &lt;&lt; 3; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash ^= hash &gt;&gt; 17; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash += hash &lt;&lt; 5; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return hash; } 除了乘以一个固定的数，常见的还有乘以一个不断改变的数，比方： static int RSHash(String str) { &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;int b&nbsp; &nbsp; = 378551; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;int a&nbsp; &nbsp; = 63689; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;int hash = 0; &nbsp;&nbsp; &nbsp; for(int i = 0; i &lt; str.length(); i++) { &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; hash = hash * a + str.charAt(i); &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; a&nbsp; &nbsp; = a * b; } &nbsp;&nbsp; &nbsp; return (hash &amp; 0x7FFFFFFF); } 另外，尽管Adler32算法的应用没有CRC32广泛，只是，它可能是乘法Hash里面最有名的一个了。关于它的介绍，大家能够去看RFC 1950规范。 4、除法Hash 除法和乘法一样，相同具有表面上看起来的不相关性。只是，由于除法太慢，这样的方式差点儿找不到真正的应用。须要注意的是，我们在前面看到的hash的 结果除以一个prime的目的仅仅是为了保证结果的范围。假设你不须要它限制一个范围的话，能够使用例如以下的代码替代”hash%prime”： hash = hash ^ (hash&gt;&gt;10) ^ (hash&gt;&gt;20)。 5、查表Hash 查表Hash最有名的样例莫过于CRC系列算法。尽管CRC系列算法本身并非查表，但是，查表是它的一种最快的实现方式。 查表Hash中有名的样例有：Universal Hashing和Zobrist Hashing。他们的表格都是随机生成的。 6、 混合Hash 混合Hash算法利用了以上各种方式。各种常见的Hash算法，比方MD5、Tiger都属于这个范围。它们一般非常少在面向查找的Hash函数里面使用。 当然根据你的需要选择合适的hash函数是非常需要技巧的，最简单可以使用主要的乘法Hash，当乘数为33时，对于英文单词有非常好的散列效果（小于6个的小写形式能够保证没有冲突）。复杂一点能够使用FNV算法（及其改进形式），它对于比較长的字符串，在速度和效果上都不错。 关于本文 这些分类里面FNV非常值得关注，毕竟EThash采用了，喜欢就关注吧，您也可以转发到群和朋友圈中让更多人了解，您的支持和鼓励是我最大的动力 长按关注，学习更多 相关内容阅读 scrypt算法的前世今生（从零开始学区块链 192） 一致性hash算法详解（从零开始学区块链 57） Quorum(NRW)算法机制简介（从零开始学区块链 141） Chord算法详解（从零开始学区块链 93） IT世界的10大算法（从零开始学区块链 77） 深度说一下RSA算法（从零开始学区块链 61） 聊聊离散对数加密算法（从零开始学区块链 62） 简约而不简单的随机数（从零开始学区块链 51） 面对Grover量子算法区块链安全吗（从零开始学区块链 49） 阅读更多","@type":"BlogPosting","url":"https://mlh.app/2017/08/29/5cca3e7ade3c104c8d590732d319e80b.html","headline":"Hash算法的分类和原理（从零开始学区块链 194）","dateModified":"2017-08-29T00:00:00+08:00","datePublished":"2017-08-29T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2017/08/29/5cca3e7ade3c104c8d590732d319e80b.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>Hash算法的分类和原理（从零开始学区块链 194）</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css"> 
 <div class="htmledit_views"> 
  <div class="rich_media_content" id="js_content">
    Hash算法广泛应用于区块链工作量证明中，每个具有创新性的区块链项目中均有各自不同的实现，属于区块链中比较核心和基础的技术，以前也有篇幅介绍，本文主要介绍Hash算法中的相关原理，便于更深入理解这项技术
   <p><br></p>
   <p>Hash算法在信息安全方面的应用主要体现在三个方面：</p>
   <p><br></p>
   <p><strong>（1) 文件校验</strong></p>
   <p>我们比较熟悉的校验算法有奇偶校验和CRC校验，这2种校验并没有抗数据篡改的能力，它们一定程度上能检測并纠正传输数据中的信道误码，但却不能防止对数据的恶意破坏。</p>
   <p>MD5 Hash算法的”数字指纹”特性，使它成为眼下应用最广泛的一种文件完整性校验和(Checksum)算法，不少Unix系统有提供计算md5 checksum的命令。</p>
   <p><br></p>
   <p><strong>（2) 数字签名</strong></p>
   <p>Hash 算法也是现代password体系中的一个重要组成部分。因为非对称算法的运算速度较慢，所以在数字签名协议中，单向散列函数扮演了一个重要的角色。 对 Hash 值，又称”数字摘要”进行数字签名，在统计上能够觉得与对文件本身进行数字签名是等效的。并且这种协议还有其它的长处。</p>
   <p><br></p>
   <p><strong>（3) 鉴权协议</strong></p>
   <p>例如以下的鉴权协议又被称作挑战–认证模式：在传输信道是可被侦听，但不可被篡改的情况下，这是一种简单而安全的方法。</p>
   <br>Hash算法分类
   <p><br></p>
   <p>一般的说，Hash算法函数根据其原理，能够简单的划分为例如以下几类：</p>
   <p>1. 加法Hash；<br>2. 位运算Hash；<br>3. 乘法Hash；<br>4. 除法Hash；<br>5. 查表Hash；<br>6. 混合Hash；</p>
   <p>以下具体的介绍以上各种方式在实际中的运用。</p>
   <p><br></p>
   <p><span style="color:rgb(247,150,70);"><strong>1、加法Hash</strong></span></p>
   <p>所谓的加法Hash就是把输入元素一个一个的加起来构成最后的结果。标准的加法Hash的构造例如以下：</p>
   <p><br></p>
   <blockquote>
    <p><span style="font-size:14px;"><span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(128,0,128) !important;">static</span> <span style="border-width:0px;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span> <span style="border-width:0px;line-height: !important;font-weight: !important;color:#008080 !important;">additiveHash</span><span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">String</span> <span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">key</span><span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">,</span> <span style="border-width:0px;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span> <span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">prime</span><span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">)</span></span></p>
    <p><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">{</span></p>
    <p><span style="font-size:14px;">&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">,</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">i</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="font-size:14px;">&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;">for</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> = </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">key</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">.</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:#008080 !important;">length</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(),</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">i</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> = </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,153,153) !important;">0</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">i</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> &lt; </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">key</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">.</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:#008080 !important;">length</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">();</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">i</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;">++</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">)</span></span></p>
    <p><span style="font-size:14px;">&nbsp; <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> += </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">key</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">.</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:#008080 !important;">charAt</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">i</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">);</span></span></p>
    <p><span style="font-size:14px;">&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;">return</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> % </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">prime</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">);</span></span></p>
    <p><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">}</span></p>
   </blockquote>
   <p><br></p>
   <p>这里的prime是随意的质数，看得出，结果的值域为[0,prime-1]。</p>
   <p><br></p>
   <p><strong><span style="color:rgb(247,150,70);">2、位运算Hash</span></strong></p>
   <p>这类型Hash函数通过利用各种位运算（常见的是移位和异或）来充分的混合输入元素。比方，标准的旋转Hash的构造例如以下：</p>
   <blockquote>
    <p><span style="font-size:14px;"><span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(128,0,128) !important;">static</span> <span style="border-width:0px;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span> <span style="border-width:0px;line-height: !important;font-weight: !important;color:#008080 !important;">rotatingHash</span><span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">String</span> <span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">key</span><span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">,</span> <span style="border-width:0px;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span> <span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">prime</span><span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">)</span></span></p>
    <p><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">{</span></p>
    <p><span style="font-size:14px;">&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">,</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">i</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="font-size:14px;">&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;">for</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;">=</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">key</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">.</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:#008080 !important;">length</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(),</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">i</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;">=</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,153,153) !important;">0</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;">i</span></span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp;&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> = </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;">&lt;&gt;</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,153,153) !important;">28</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">)</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;">^</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">key</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">.</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:#008080 !important;">charAt</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">i</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">);</span></span></p>
    <p><span style="font-size:14px;">&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;">return</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> % </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">prime</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">);</span></span></p>
    <p><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">}</span></p>
   </blockquote>
   <p><br></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;line-height:25.6px;background-color:rgb(255,255,255);"><span style="color:rgb(46,46,46);">先移位，然后再进行各种位运算是这样的类型Hash函数的主要特点。</span></p>
   <p><span style="color:rgb(247,150,70);"><strong>3、乘法Hash</strong></span><br></p>
   <p><br></p>
   <p>这样的类型的Hash函数利用了乘法的不相关性（乘法的这样的性质，最有名的莫过于平方取头尾的随机数生成算法，尽管这样的算法效果并不好）。例如：</p>
   <p><br></p>
   <blockquote>
    <p><span style="font-size:14px;"><span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(128,0,128) !important;">static</span> <span style="border-width:0px;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span> <span style="border-width:0px;line-height: !important;font-weight: !important;color:#008080 !important;">bernstein</span><span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">String</span> <span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">key</span><span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">)</span></span></p>
    <p><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">{</span></p>
    <p><span style="font-size:14px;">&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> = </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,153,153) !important;">0</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="font-size:14px;">&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">i</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="font-size:14px;">&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;">for</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">i</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;">=</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,153,153) !important;">0</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;">i</span></span></p>
    <p><span style="font-size:14px;">&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;">return</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">}</span></p>
   </blockquote>
   <p><br></p>
   <p>使用这样的方式的著名Hash函数还有FNV算法及其变种，需要注意的是ETH中的EThash算法中就部分采用FNV代替常见的异或操作：</p>
   <p><br></p>
   <blockquote>
    <p><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(153,153,153) !important;font-style:italic !important;">// 32位FNV算法</span></p>
    <p><span style="font-size:14px;"><span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">M_SHIFT</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> = </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,153,153) !important;">0</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="font-size:14px;">&nbsp; <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(128,0,128) !important;">public</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:#008080 !important;">FNVHash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">byte</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">[]</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">data</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">)</span></span></p>
    <p><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">{</span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> = </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">)</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,153,153) !important;">2166136261L</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;">for</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">byte</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">b</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> : </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">data</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">)</span></span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> = </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:#008080 !important;">hash *</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,153,153) !important;">16777619</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">)</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> ^ </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">b</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;">if</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">M_SHIFT</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> == </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,153,153) !important;">0</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">)</span></span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;">return</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;">return</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> ^ </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> &gt;&gt; </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">M_SHIFT</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">))</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> &amp; </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">M_MASK</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">}</span></p>
   </blockquote>
   <p><br></p>
   <p>以及改进的FNV算法：<span style="border-width:0px;font-size:12px;line-height: !important;font-weight: !important;color:rgb(102,102,102) !important;"></span></p>
   <blockquote>
    <p><span style="font-size:14px;"><span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(128,0,128) !important;">public</span> <span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(128,0,128) !important;">static</span> <span style="border-width:0px;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span> <span style="border-width:0px;line-height: !important;font-weight: !important;color:#008080 !important;">FNVHash1</span><span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">String</span> <span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">data</span><span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">)</span></span></p>
    <p><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">{</span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(128,0,128) !important;">final</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">p</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> = </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,153,153) !important;">16777619</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> = </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">)</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,153,153) !important;">2166136261L</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;">for</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">i</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;">=</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,153,153) !important;">0</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;">i</span></span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> = </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> ^ </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">data</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">.</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:#008080 !important;">charAt</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">i</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">))</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> * </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">p</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> += </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> &lt;&lt; </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,153,153) !important;">13</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> ^= </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> &gt;&gt; </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,153,153) !important;">7</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> += </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> &lt;&lt; </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,153,153) !important;">3</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> ^= </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> &gt;&gt; </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,153,153) !important;">17</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> += </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> &lt;&lt; </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,153,153) !important;">5</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;">return</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">}</span></p>
   </blockquote>
   <p><br></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;line-height:25.6px;background-color:rgb(255,255,255);"><span style="color:rgb(46,46,46);">除了乘以一个固定的数，常见的还有乘以一个不断改变的数，比方：</span><br></p>
   <blockquote>
    <p><span style="font-size:14px;"><span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(128,0,128) !important;">static</span> <span style="border-width:0px;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span> <span style="border-width:0px;line-height: !important;font-weight: !important;color:#008080 !important;">RSHash</span><span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">String</span> <span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">str</span><span style="border-width:0px;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">)</span></span></p>
    <p><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">{</span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;">b</span>&nbsp; &nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> = </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,153,153) !important;">378551</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;">a</span>&nbsp; &nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> = </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,153,153) !important;">63689</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> = </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,153,153) !important;">0</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp; &nbsp; <span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;">for</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;color:rgb(128,0,128) !important;">int</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">i</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> = </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,153,153) !important;">0</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">i</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> &lt; </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">str</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">.</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:#008080 !important;">length</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">();</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">i</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;">++</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">)</span></span></p>
    <p><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">{</span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp; &nbsp; <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> = </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:#008080 !important;">hash *</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">a</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> + </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">str</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">.</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:#008080 !important;">charAt</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">i</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">);</span></span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp; &nbsp;&nbsp; &nbsp; <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;">a</span>&nbsp; &nbsp;<span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> = </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:#008080 !important;">a *</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">b</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">;</span></span></p>
    <p><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">}</span></p>
    <p><span style="font-size:14px;">&nbsp;&nbsp; &nbsp; <span style="border-width:0px;font-size: !important;line-height: !important;font-weight:bold !important;">return</span> <span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">(</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,45,122) !important;">hash</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,111,224) !important;"> &amp; </span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(0,153,153) !important;">0x7FFFFFFF</span><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">);</span></span></p>
    <p><span style="border-width:0px;font-size: !important;line-height: !important;font-weight: !important;color:rgb(51,51,51) !important;">}</span></p>
   </blockquote>
   <p><br></p>
   <p>另外，<span style="color:rgb(46,46,46);">尽管Adler32算法的应用没有CRC32广泛，只是，它可能是乘法Hash里面最有名的一个了。关于它的介绍，大家能够去看RFC 1950规范。</span><br></p>
   <p style="min-height:1em;border-width:0px;font-size:15px;color:rgb(46,46,46);"><br></p>
   <p><strong><span style="color:rgb(247,150,70);">4、除法Hash</span></strong></p>
   <p>除法和乘法一样，相同具有表面上看起来的不相关性。只是，由于除法太慢，这样的方式差点儿找不到真正的应用。须要注意的是，我们在前面看到的hash的 结果除以一个prime的目的仅仅是为了保证结果的范围。假设你不须要它限制一个范围的话，能够使用例如以下的代码替代”hash%prime”： hash = hash ^ (hash&gt;&gt;10) ^ (hash&gt;&gt;20)。</p>
   <p><br></p>
   <p><strong><span style="color:rgb(247,150,70);">5、查表Hash</span></strong></p>
   <p>查表Hash最有名的样例莫过于CRC系列算法。尽管CRC系列算法本身并非查表，但是，查表是它的一种最快的实现方式。</p>
   <p><br></p>
   <p>查表Hash中有名的样例有：Universal Hashing和Zobrist Hashing。他们的表格都是随机生成的。<span style="border-width:0px;font-size:12px;line-height: !important;font-weight: !important;color:rgb(102,102,102) !important;"></span></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;line-height:25.6px;background-color:rgb(255,255,255);"><br></p>
   <p><strong><span style="color:rgb(247,150,70);">6、 混合Hash</span></strong></p>
   <p style="min-height:1em;border-width:0px;font-size:15px;color:rgb(46,46,46);">混合Hash算法利用了以上各种方式。各种常见的Hash算法，比方MD5、Tiger都属于这个范围。它们一般非常少在面向查找的Hash函数里面使用。</p>
   <p><br></p>
   <p>当然根据你的需要选择合适的hash函数是非常需要技巧的，最简单可以使用主要的乘法Hash，当乘数为33时，对于英文单词有非常好的散列效果（小于6个的小写形式能够保证没有冲突）。复杂一点能够使用FNV算法（及其改进形式），它对于比較长的字符串，在速度和效果上都不错。</p>
   <p><br></p>
   <p><br></p>
   <span style="font-size:14px;"><strong style="line-height:32px;"><span style="color:rgb(255,255,255);background-color:rgb(239,112,96);">关于本文</span></strong></span>
   <p style="min-height:1em;color:rgb(51,51,51);background-color:rgb(239,239,239);"><span style="color:rgb(255,104,39);font-size:14px;">这些分类里面FNV非常值得关注，毕竟EThash采用了，喜欢就关注吧，您也可以转发到群和朋友圈中让更多人了解，您的支持和鼓励是我最大的动力</span></p>
   <p style="min-height:1em;color:rgb(51,51,51);text-align:center;background-color:rgb(239,239,239);"><img style="visibility:visible !important;" class="img_loading" src="https://ss.csdn.net/p?http://mmbiz.qpic.cn/mmbiz/aqZlFmib0UrAiaZrCBibNFF2zJX3icFaZqTbicicjlRfWicNv9XoVuq7mRt0dTptlesOR4ibDDdLdF05Re6o4hQxZlM8ibw/640?wx_fmt=jpeg" alt="640?wx_fmt=jpeg"><br><strong style="color:rgb(255,255,255);font-size:1em;background-color:rgb(239,112,96);">长按关注，学习更多</strong></p>
   <p><br></p>
   <span style="color:rgb(255,255,255);">相关内容阅读</span>
   <p style="color:rgb(51,51,51);"><a href="http://mp.weixin.qq.com/s?__biz=MzIyNTI3MTY0MQ==&amp;mid=2652394974&amp;idx=1&amp;sn=3a47a4551b5f262675fc1d5b8c109b45&amp;chksm=f3eebfe8c49936fe5cb1cbb03b68f51b6948d17d1a6beef9d0d911b659b05a65a4b628d51c7f&amp;scene=21#wechat_redirect" rel="nofollow">scrypt算法的前世今生（从零开始学区块链 192）</a></p>
   <p style="color:rgb(51,51,51);"><a style="text-decoration:none;" href="http://mp.weixin.qq.com/s?__biz=MzIyNTI3MTY0MQ==&amp;mid=2652394157&amp;idx=1&amp;sn=98af99133ecb9b23b72c496aa7487c2e&amp;chksm=f3eeb89bc499318de28da005e04efadd6c25fef3922e2747d05033b0fa603e314f6292c1d12b&amp;scene=21#wechat_redirect" rel="nofollow"><span style="color:rgb(0,102,204);">一致性hash算法详解（从零开始学区块链 57）</span></a><br></p>
   <p><a style="text-decoration:none;" href="http://mp.weixin.qq.com/s?__biz=MzIyNTI3MTY0MQ==&amp;mid=2652394755&amp;idx=1&amp;sn=b45835b1ff8c4fe1bdc3f260d977f7be&amp;chksm=f3eebf35c4993623cc2925fe30a282c4814d60ab222661d3ba31e33153d87719732da423c3e3&amp;scene=21#wechat_redirect" rel="nofollow"><span style="color:rgb(0,102,204);">Quorum(NRW)算法机制简介（从零开始学区块链 141）</span></a><br></p>
   <p><a style="text-decoration:none;" href="http://mp.weixin.qq.com/s?__biz=MzIyNTI3MTY0MQ==&amp;mid=2652394445&amp;idx=1&amp;sn=74df4de3f0d83d5de5d6a60a3132ead1&amp;chksm=f3eeb9fbc49930ed8a21ac2da938c8258bd0919988c5133f89fe93a27d46100f996d0a129ee7&amp;scene=21#wechat_redirect" rel="nofollow"><span style="color:rgb(0,102,204);">Chord算法详解（从零开始学区块链 93）</span></a><br></p>
   <p><a style="text-decoration:none;" href="http://mp.weixin.qq.com/s?__biz=MzIyNTI3MTY0MQ==&amp;mid=2652394311&amp;idx=1&amp;sn=21cdc839bec4a40476abc587f6eec067&amp;chksm=f3eeb971c49930678cb556fc4b9d58cc4d5e3a0ed588fc548b6cbe6cab1928516d6dd96fdf21&amp;scene=21#wechat_redirect" rel="nofollow"><span style="color:rgb(0,102,204);">IT世界的10大算法（从零开始学区块链 77）</span></a><br></p>
   <p><a style="text-decoration:none;" href="http://mp.weixin.qq.com/s?__biz=MzIyNTI3MTY0MQ==&amp;mid=2652394215&amp;idx=1&amp;sn=26fa6e9bce5ad54da713dbdac1d03aff&amp;chksm=f3eeb8d1c49931c75a3e4114767c20c27cfbf04b546a493adf2b152c318b3c51cbcee7bc7c89&amp;scene=21#wechat_redirect" rel="nofollow"><span style="color:rgb(0,102,204);">深度说一下RSA算法（从零开始学区块链 61）</span></a><br></p>
   <p><a style="text-decoration:none;" href="http://mp.weixin.qq.com/s?__biz=MzIyNTI3MTY0MQ==&amp;mid=2652394216&amp;idx=1&amp;sn=ab036956dcaa08a0119eaac097de87ae&amp;chksm=f3eeb8dec49931c8cf9cedc65a00e4db9c1faca5e873044ce6b4b75538e13c3336ab7dd41919&amp;scene=21#wechat_redirect" rel="nofollow"><span style="color:rgb(0,102,204);">聊聊离散对数加密算法（从零开始学区块链 62）</span></a><br></p>
   <p><a style="text-decoration:none;" href="http://mp.weixin.qq.com/s?__biz=MzIyNTI3MTY0MQ==&amp;mid=2652394132&amp;idx=1&amp;sn=68d1d22e05735abe260fe4017b38c383&amp;chksm=f3eeb8a2c49931b475b90db253df1b9aa8292d6e81c65035279afd81ae28353652cb22ea06bc&amp;scene=21#wechat_redirect" rel="nofollow"><span style="color:rgb(0,102,204);">简约而不简单的随机数（从零开始学区块链 51）</span></a><br></p>
   <p style="color:rgb(51,51,51);"><a style="text-decoration:none;" href="http://mp.weixin.qq.com/s?__biz=MzIyNTI3MTY0MQ==&amp;mid=2652394117&amp;idx=1&amp;sn=0dedd1f929e1fef4d686ddca8ae71691&amp;chksm=f3eeb8b3c49931a5c19e4687ecd2347186fa860801e8b2863112a0324e7aa6a3053463f66284&amp;scene=21#wechat_redirect" rel="nofollow"><span style="color:rgb(0,102,204);">面对Grover量子算法区块链安全吗（从零开始学区块链 49）</span></a></p>
   <p><br></p> 
  </div> 
 </div> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/IXRKw146s9Z/article/details/77988070,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/IXRKw146s9Z/article/details/77988070,&quot;}">阅读更多</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0d1dbe5a3e5863242418b768d1601633";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
