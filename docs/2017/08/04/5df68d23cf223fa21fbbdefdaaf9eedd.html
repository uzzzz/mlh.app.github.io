<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>5df68d23cf223fa21fbbdefdaaf9eedd | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="5df68d23cf223fa21fbbdefdaaf9eedd" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="之前，我总以为挖矿就是把Nonce值都试一遍，然后用SHA256算法算一遍。后面发现自己把东西看得太简单，我尝试尝试讲讲比特币的挖矿算法的流程。 区块头 首先挖矿算法的目标对象只是区块中的区块头，共80个字节，我们来看看区块头有哪些字段： 注意： Target（难度目标）：该区块工作量证明算法的难度目标 其实区块头不包括Padding+Length部分，这个部分只是为了满足SHA256算法的使用条件。 字段的不同颜色代表该字段内容变化频率。绿色：像Version、Target、以及Padding+Length(有约定俗成的标准)这些内容相对出块的速度来说变化频率很低；黄色：像hashPreBlock、hashMerkleRoot、Timestamp这些几乎与出块的速度一致的频率；红色：像Nonce这个的变化频率远远快与出块速率。 挖矿算法流程 为什么要做双重hash（SHA256(1)后还来个SHA256(2)） The SHA256 hashing algorithm, like all hashes constructed using the Merkle-Damgård paradigm, is vulnerable to this attack. The length extension attack allows an attacker who knows SHA256(x) to calculate SHA256(x||y) without the knowledge of x. Although it is unclear how length extension attacks may make the Bitcoin protocol susceptible to harm, it is believed that Satoshi Nakamoto decided to play it safe and include the double hashing in his design. Another explanation [6] for this double hashing is that 128 rounds of SHA256 may remain safe longer if in the far future, a practical pre-image or a partial pre-image attack was found against SHA256. 挖矿算法实现以及编码方式 https://en.bitcoin.it/wiki/Block_hashing_algorithm 阅读更多" />
<meta property="og:description" content="之前，我总以为挖矿就是把Nonce值都试一遍，然后用SHA256算法算一遍。后面发现自己把东西看得太简单，我尝试尝试讲讲比特币的挖矿算法的流程。 区块头 首先挖矿算法的目标对象只是区块中的区块头，共80个字节，我们来看看区块头有哪些字段： 注意： Target（难度目标）：该区块工作量证明算法的难度目标 其实区块头不包括Padding+Length部分，这个部分只是为了满足SHA256算法的使用条件。 字段的不同颜色代表该字段内容变化频率。绿色：像Version、Target、以及Padding+Length(有约定俗成的标准)这些内容相对出块的速度来说变化频率很低；黄色：像hashPreBlock、hashMerkleRoot、Timestamp这些几乎与出块的速度一致的频率；红色：像Nonce这个的变化频率远远快与出块速率。 挖矿算法流程 为什么要做双重hash（SHA256(1)后还来个SHA256(2)） The SHA256 hashing algorithm, like all hashes constructed using the Merkle-Damgård paradigm, is vulnerable to this attack. The length extension attack allows an attacker who knows SHA256(x) to calculate SHA256(x||y) without the knowledge of x. Although it is unclear how length extension attacks may make the Bitcoin protocol susceptible to harm, it is believed that Satoshi Nakamoto decided to play it safe and include the double hashing in his design. Another explanation [6] for this double hashing is that 128 rounds of SHA256 may remain safe longer if in the far future, a practical pre-image or a partial pre-image attack was found against SHA256. 挖矿算法实现以及编码方式 https://en.bitcoin.it/wiki/Block_hashing_algorithm 阅读更多" />
<link rel="canonical" href="https://mlh.app/2017/08/04/5df68d23cf223fa21fbbdefdaaf9eedd.html" />
<meta property="og:url" content="https://mlh.app/2017/08/04/5df68d23cf223fa21fbbdefdaaf9eedd.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-08-04T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"之前，我总以为挖矿就是把Nonce值都试一遍，然后用SHA256算法算一遍。后面发现自己把东西看得太简单，我尝试尝试讲讲比特币的挖矿算法的流程。 区块头 首先挖矿算法的目标对象只是区块中的区块头，共80个字节，我们来看看区块头有哪些字段： 注意： Target（难度目标）：该区块工作量证明算法的难度目标 其实区块头不包括Padding+Length部分，这个部分只是为了满足SHA256算法的使用条件。 字段的不同颜色代表该字段内容变化频率。绿色：像Version、Target、以及Padding+Length(有约定俗成的标准)这些内容相对出块的速度来说变化频率很低；黄色：像hashPreBlock、hashMerkleRoot、Timestamp这些几乎与出块的速度一致的频率；红色：像Nonce这个的变化频率远远快与出块速率。 挖矿算法流程 为什么要做双重hash（SHA256(1)后还来个SHA256(2)） The SHA256 hashing algorithm, like all hashes constructed using the Merkle-Damgård paradigm, is vulnerable to this attack. The length extension attack allows an attacker who knows SHA256(x) to calculate SHA256(x||y) without the knowledge of x. Although it is unclear how length extension attacks may make the Bitcoin protocol susceptible to harm, it is believed that Satoshi Nakamoto decided to play it safe and include the double hashing in his design. Another explanation [6] for this double hashing is that 128 rounds of SHA256 may remain safe longer if in the far future, a practical pre-image or a partial pre-image attack was found against SHA256. 挖矿算法实现以及编码方式 https://en.bitcoin.it/wiki/Block_hashing_algorithm 阅读更多","@type":"BlogPosting","url":"https://mlh.app/2017/08/04/5df68d23cf223fa21fbbdefdaaf9eedd.html","headline":"5df68d23cf223fa21fbbdefdaaf9eedd","dateModified":"2017-08-04T00:00:00+08:00","datePublished":"2017-08-04T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2017/08/04/5df68d23cf223fa21fbbdefdaaf9eedd.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>5df68d23cf223fa21fbbdefdaaf9eedd</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <div class="markdown_views prism-atom-one-dark"> 
  <!-- flowchart 箭头图标 勿删 --> 
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
  </svg> 
  <p>之前，我总以为挖矿就是把Nonce值都试一遍，然后用SHA256算法算一遍。后面发现自己把东西看得太简单，我尝试尝试讲讲比特币的挖矿算法的流程。</p> 
  <h1 id="区块头">区块头</h1> 
  <p>首先挖矿算法的目标对象只是区块中的区块头，共80个字节，我们来看看区块头有哪些字段： <br> <img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20170804112031789?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvamFzb25fY3VpamlhaHVp/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title=""></p> 
  <p>注意：</p> 
  <ol> 
   <li>Target（难度目标）：该区块工作量证明算法的难度目标</li> 
   <li>其实区块头不包括Padding+Length部分，这个部分只是为了满足SHA256算法的使用条件。</li> 
   <li>字段的不同颜色代表该字段内容变化频率。绿色：像Version、Target、以及<strong>Padding+Length(有约定俗成的标准)</strong>这些内容相对出块的速度来说变化频率很低；黄色：像hashPreBlock、hashMerkleRoot、Timestamp这些几乎与出块的速度一致的频率；红色：像Nonce这个的变化频率远远快与出块速率。</li> 
  </ol> 
  <h1 id="挖矿算法流程">挖矿算法流程</h1> 
  <p><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20170804113035400?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvamFzb25fY3VpamlhaHVp/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述" title=""></p> 
  <h2 id="为什么要做双重hashsha2561后还来个sha2562">为什么要做双重hash（SHA256(1)后还来个SHA256(2)）</h2> 
  <p>The SHA256 hashing algorithm, like all hashes constructed using the Merkle-Damgård paradigm, is vulnerable to this attack. The length extension attack allows an attacker who knows SHA256(x) to calculate SHA256(x||y) without the knowledge of x. Although it is unclear how length extension attacks may make the Bitcoin protocol susceptible to harm, it is believed that Satoshi Nakamoto decided to play it safe and include the double hashing in his design. </p> 
  <p>Another explanation [6] for this double hashing is that 128 rounds of SHA256 may remain safe longer if in the far future, a practical pre-image or a partial pre-image attack was found against SHA256.</p> 
  <h1 id="挖矿算法实现以及编码方式">挖矿算法实现以及编码方式</h1> 
  <p><a href="https://en.bitcoin.it/wiki/Block_hashing_algorithm" rel="nofollow">https://en.bitcoin.it/wiki/Block_hashing_algorithm</a></p> 
 </div> 
 <link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-7f770a53f2.css" rel="stylesheet"> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/jason_cuijiahui/article/details/76672775,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/jason_cuijiahui/article/details/76672775,&quot;}">阅读更多</a> 
</div> 
<script>
						(function(){
							function setArticleH(btnReadmore,posi){
								var winH = $(window).height();
								var articleBox = $("div.article_content");
								var artH = articleBox.height();
								if(artH > winH*posi){
									articleBox.css({
										'height':winH*posi+'px',
										'overflow':'hidden'
									})
									btnReadmore.click(function(){
										articleBox.removeAttr("style");
										$(this).parent().remove();
									})
								}else{
									btnReadmore.parent().remove();
								}
							}
							var btnReadmore = $("#btn-readmore");
							if(btnReadmore.length>0){
								if(currentUserName){
									setArticleH(btnReadmore,3);
								}else{
									setArticleH(btnReadmore,1.2);
								}
							}
						})()
					</script>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0d1dbe5a3e5863242418b768d1601633";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
