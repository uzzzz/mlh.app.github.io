<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>ipfs/ipns/搭建安装测试 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="ipfs/ipns/搭建安装测试" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="打开终端，切换到桌面，新建一个文件夹1121，切换到1121中，通过vi新建一个文件file.txt，文件里面输入春哥微信号liyc1215保存并且退出。 localhost:Desktop admin$ pwd /Users/liyuechun/Desktop localhost:Desktop admin$ mkdir 1121 localhost:Desktop admin$ cd 1121/ localhost:1121 admin$ vi file.txt localhost:1121 admin$ cat file.txt&nbsp; liyc1215 localhost:1121 admin$&nbsp; 1.2 查看ipfs相关命令 localhost:1121 admin$ ipfs help USAGE &nbsp; ipfs - Global p2p merkle-dag filesystem. &nbsp; ipfs [--config=&lt;config&gt; | -c] [--debug=&lt;debug&gt; | -D] [--help=&lt;help&gt;] [-h=&lt;h&gt;] [--local=&lt;local&gt; | -L] [--api=&lt;api&gt;] &lt;command&gt; ... SUBCOMMANDS &nbsp; BASIC COMMANDS &nbsp; &nbsp; init&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Initialize ipfs local configuration &nbsp; &nbsp; add &lt;path&gt;&nbsp; &nbsp; Add a file to IPFS &nbsp; &nbsp; cat &lt;ref&gt;&nbsp; &nbsp; &nbsp;Show IPFS object data &nbsp; &nbsp; get &lt;ref&gt;&nbsp; &nbsp; &nbsp;Download IPFS objects &nbsp; &nbsp; ls &lt;ref&gt;&nbsp; &nbsp; &nbsp; List links from an object &nbsp; &nbsp; refs &lt;ref&gt;&nbsp; &nbsp; List hashes of links from an object &nbsp;&nbsp; &nbsp; DATA STRUCTURE COMMANDS &nbsp; &nbsp; block&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Interact with raw blocks in the datastore &nbsp; &nbsp; object&nbsp; &nbsp; &nbsp; &nbsp; Interact with raw dag nodes &nbsp; &nbsp; files&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Interact with objects as if they were a unix filesystem &nbsp; &nbsp; dag&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Interact with IPLD documents (experimental) &nbsp;&nbsp; &nbsp; ADVANCED COMMANDS &nbsp; &nbsp; daemon&nbsp; &nbsp; &nbsp; &nbsp; Start a long-running daemon process &nbsp; &nbsp; mount&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Mount an IPFS read-only mountpoint &nbsp; &nbsp; resolve&nbsp; &nbsp; &nbsp; &nbsp;Resolve any type of name &nbsp; &nbsp; name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Publish and resolve IPNS names &nbsp; &nbsp; key&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Create and list IPNS name keypairs &nbsp; &nbsp; dns&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Resolve DNS links &nbsp; &nbsp; pin&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Pin objects to local storage &nbsp; &nbsp; repo&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Manipulate the IPFS repository &nbsp; &nbsp; stats&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Various operational stats &nbsp; &nbsp; p2p&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Libp2p stream mounting &nbsp; &nbsp; filestore&nbsp; &nbsp; &nbsp;Manage the filestore (experimental) &nbsp;&nbsp; &nbsp; NETWORK COMMANDS &nbsp; &nbsp; id&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Show info about IPFS peers &nbsp; &nbsp; bootstrap&nbsp; &nbsp; &nbsp;Add or remove bootstrap peers &nbsp; &nbsp; swarm&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Manage connections to the p2p network &nbsp; &nbsp; dht&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Query the DHT for values or peers &nbsp; &nbsp; ping&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Measure the latency of a connection &nbsp; &nbsp; diag&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Print diagnostics &nbsp;&nbsp; &nbsp; TOOL COMMANDS &nbsp; &nbsp; config&nbsp; &nbsp; &nbsp; &nbsp; Manage configuration &nbsp; &nbsp; version&nbsp; &nbsp; &nbsp; &nbsp;Show ipfs version information &nbsp; &nbsp; update&nbsp; &nbsp; &nbsp; &nbsp; Download and apply go-ipfs updates &nbsp; &nbsp; commands&nbsp; &nbsp; &nbsp; List all available commands 1.3 将file.txt添加到ipfs节点 localhost:1121 admin$ ls file.txt localhost:1121 admin$ ipfs add file.txt&nbsp; added QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T file.txt localhost:1121 admin$ cat file.txt&nbsp; liyc1215 localhost:1121 admin$ ipfs cat QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T liyc1215 localhost:1121 admin$&nbsp; 当执行完ipfs add file.txt这个命令以后，会将file.txt添加到ipfs当前的节点中，并且会对file.txt文件生成一个唯一的hashQmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T，如果想查看本地ipfs节点的数据，可以通过ipfs cat QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T进行查看。 ⚠️：当我试图通过http://ipfs.io/ipfs/QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T进行数据访问时，无法访问，如下图所示： ⚠️：虽然数据已经添加到当前的你自己的IPFS节点中，但是并没有同步到IPFS网络，所以暂时在网络上无法访问。 ⚠️：重要：接下来执行下面的命令同步节点数据到IPFS网络，再试图在网络上查看数据。 同步节点 新建一个终端，执行ipfs daemon。 localhost:.ipfs admin$ ipfs daemon Initializing daemon... Adjusting current ulimit to 2048... Successfully raised file descriptor limit to 2048. Swarm listening on /ip4/111.196.246.151/tcp/3637 Swarm listening on /ip4/127.0.0.1/tcp/4001 Swarm listening on /ip4/169.254.170.167/tcp/4001 Swarm listening on /ip4/192.168.0.107/tcp/4001 Swarm listening on /ip6/::1/tcp/4001 API server listening on /ip4/127.0.0.1/tcp/5001 Gateway (readonly) server listening on /ip4/127.0.0.1/tcp/8080 Daemon is ready 从IPFS网络查看数据 浏览器访问https://ipfs.io/ipfs/QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T 黎跃春 微信 2. 通过ipfs创建目录存储文件 在着上面的步骤走，我们可以通过ipfs cat QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T liyc1215查看添加到ipfs网络的file.txt文件的内容，如下： localhost:1121 admin$ ipfs cat QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T liyc1215 localhost:1121 admin$&nbsp; 当然，我们也可以通过ipfs的相关命令在ipfs的根目录下面创建文件夹，并且将file.txt文件移动或者拷贝到我们创建的文件夹中。 ⚠️：cp不会改变文件hash，mv会改变hash寻址。 localhost:1121 admin$ ipfs cat QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T liyc1215 localhost:1121 admin$ ipfs files mkdir /LiYueChun localhost:1121 admin$ ipfs files cp /ipfs/QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T /LiYueChun/file.txt localhost:1121 admin$ ipfs files ls / LiYueChun localhost:1121 admin$ ipfs files ls /LiYueChun/ file.txt localhost:1121 admin$ ipfs files read /LiYueChun/file.txt liyc1215 localhost:1121 admin$&nbsp; 3. 如何在IPFS新增一个目录 3.1 使用ipfs add -r可以上传一整个目录 localhost:1121 admin$ ipfs add -r ipfs-tutorial/ added QmYx4BnhnLXeMWF5mKu16fJgUBiVP7ECXh7qcsUZnXiRxc ipfs-tutorial/contactme.txt added QmfKdWsguobA3aDPvSxLB3Bq4HMKyqKSgFr2NFUuVH8n31 ipfs-tutorial/eth-fabric.png added QmXe8jTxTh5MZP6BK5cnj19mXNTKVMzNyUJZUHuYyr5dk1 ipfs-tutorial/gongzhonghao.png added QmSsjQDVw1fvmG5RsZMgp2GjihiXn2zDv64mfHZN3AREek ipfs-tutorial 3.2 通过路径访问contactme.txt文件数据 如果我们上传的是目录，那么可以通过下面几种方式访问到contactme.txt文件的数据。 localhost:1121 admin$ ipfs cat QmYx4BnhnLXeMWF5mKu16fJgUBiVP7ECXh7qcsUZnXiRxc 微信：liyc1215 区块链技术交流群：348924182 公众号：区块链部落 localhost:1121 admin$ ipfs cat /ipfs/QmYx4BnhnLXeMWF5mKu16fJgUBiVP7ECXh7qcsUZnXiRxc 微信：liyc1215 区块链技术交流群：348924182 公众号：区块链部落 localhost:1121 admin$ ipfs cat /ipfs/QmSsjQDVw1fvmG5RsZMgp2GjihiXn2zDv64mfHZN3AREek/contactme.txt 微信：liyc1215 区块链技术交流群：348924182 公众号：区块链部落 localhost:1121 admin$&nbsp; 3.3 通过Hash查看数据IPFS网络数据 访问目录：https://ipfs.io/ipfs/QmSsjQDVw1fvmG5RsZMgp2GjihiXn2zDv64mfHZN3AREek 通过目录访问文件：https://ipfs.io/ipfs/QmSsjQDVw1fvmG5RsZMgp2GjihiXn2zDv64mfHZN3AREek/contactme.txt&nbsp; 通过文件hash直接访问：https://ipfs.io/ipfs/QmYx4BnhnLXeMWF5mKu16fJgUBiVP7ECXh7qcsUZnXiRxc 4. 创建简易的网页发布到IPFS 在这里我先自己写一个简单的网页给大家演示，先在桌面新建一个site文件夹，然后按照下面的步骤在site文件夹中建立index.html和style.css文件。 4.1 创建一个index.html文件 &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &nbsp; &lt;meta charset=&quot;UTF-8&quot;&gt; &nbsp; &lt;title&gt;Hello IPFS!&lt;/title&gt; &nbsp; &lt;link rel=&quot;stylesheet&quot; href=&quot;./style.css&quot; /&gt; &lt;/head&gt; &lt;body&gt; &nbsp; &lt;h1&gt;Hello IPFS!&lt;/h1&gt; &lt;/body&gt; &lt;/html&gt; 4.2 创建一个style.css文件 h1 { &nbsp; color: green; } 4.3 添加到ipfs localhost:Desktop admin$ ipfs add -r site/ added QmWG5rbgT9H77TGq49RXNoqN8M7DNKMnMX425nkmCB6BjS site/index.html added QmfGLJ3mryLvicQqzdsghq4QRhptKJtBAPe7yDJxsBGSuy site/style.css added QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp site 最后一行是项目根目录的hash，你先通过ipfs daemon同步网络，然后可以通过https://ipfs.io/ipfs/&lt;你的项目根目录hash&gt;，即https://ipfs.io/ipfs/QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp访问项目。 4.4 网络同步 localhost:Desktop admin$ ipfs daemon 4.5 访问网站 浏览器打开https://ipfs.io/ipfs/QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp，效果图如下： 4.6 发布到IPNS 当我们修改网站内容重新添加到ipfs时，hash会发生变化，当我们网站更新时，我们可以将网站发布到IPNS，在IPNS中，允许我们节点的域名空间中引用一个IPFS hash，也就是说我们可以通过节点ID对项目根目录的IPFS HASH进行绑定，以后我们访问网站时直接通过节点·ID访问即可，当我们更新博客时，重新发布到IPNS`即可。 localhost:~ admin$ ipfs name publish QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp Published to QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP: /ipfs/QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp localhost:~ admin$ ipfs id { &quot;ID&quot;: &quot;QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP&quot; } 当我们执行ipfs name publish命令时，会返回我们的节点ID，你可以通过ipfs id进行查看验证是否是你的节点ID。 ⚠️：验证 $ ipfs name resolve &lt;peerId&gt; localhost:~ admin$ ipfs name resolve QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP /ipfs/QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp localhost:~ admin$&nbsp; ⚠️：当然我们现在就可以通过IPNS进行访问了。 https://ipfs.io/ipns/QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP ⚠️⚠️⚠️：注意上面是ipns而不是ipfs。 ⚠️：如果你网站数据修改，需要重新发布到IPNS。 5. 发布个人博客 你可以通过Hugo按照官方文档创建一个漂亮的静态博客Hugo官方网站，当然你也可以自己编写，或者使用其他开源项目搭建。 5.1 搭建静态博客 大家可以自己搭建，也可以直接下载我的博客源码直接搭建。 源码地址：http://github.com/liyuechun/ipfs_blogger 5.2 节点ID替换 查看你的节点ID localhost:ipfs_pin admin$ ipfs id { &quot;ID&quot;: &quot;《your peer id》&quot; } localhost:ipfs_pin admin$&nbsp; 在上面的源码中全局搜索将源码里面的QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP替换成你自己的ID。 接下来重复4. 创建简易的网页发布到IPFS的操作步骤即可。 5.3 浏览博客 浏览器打开https://ipfs.io/ipns/QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP/查看项目效果。 IPFS 博客项目效果图 阅读更多" />
<meta property="og:description" content="打开终端，切换到桌面，新建一个文件夹1121，切换到1121中，通过vi新建一个文件file.txt，文件里面输入春哥微信号liyc1215保存并且退出。 localhost:Desktop admin$ pwd /Users/liyuechun/Desktop localhost:Desktop admin$ mkdir 1121 localhost:Desktop admin$ cd 1121/ localhost:1121 admin$ vi file.txt localhost:1121 admin$ cat file.txt&nbsp; liyc1215 localhost:1121 admin$&nbsp; 1.2 查看ipfs相关命令 localhost:1121 admin$ ipfs help USAGE &nbsp; ipfs - Global p2p merkle-dag filesystem. &nbsp; ipfs [--config=&lt;config&gt; | -c] [--debug=&lt;debug&gt; | -D] [--help=&lt;help&gt;] [-h=&lt;h&gt;] [--local=&lt;local&gt; | -L] [--api=&lt;api&gt;] &lt;command&gt; ... SUBCOMMANDS &nbsp; BASIC COMMANDS &nbsp; &nbsp; init&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Initialize ipfs local configuration &nbsp; &nbsp; add &lt;path&gt;&nbsp; &nbsp; Add a file to IPFS &nbsp; &nbsp; cat &lt;ref&gt;&nbsp; &nbsp; &nbsp;Show IPFS object data &nbsp; &nbsp; get &lt;ref&gt;&nbsp; &nbsp; &nbsp;Download IPFS objects &nbsp; &nbsp; ls &lt;ref&gt;&nbsp; &nbsp; &nbsp; List links from an object &nbsp; &nbsp; refs &lt;ref&gt;&nbsp; &nbsp; List hashes of links from an object &nbsp;&nbsp; &nbsp; DATA STRUCTURE COMMANDS &nbsp; &nbsp; block&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Interact with raw blocks in the datastore &nbsp; &nbsp; object&nbsp; &nbsp; &nbsp; &nbsp; Interact with raw dag nodes &nbsp; &nbsp; files&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Interact with objects as if they were a unix filesystem &nbsp; &nbsp; dag&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Interact with IPLD documents (experimental) &nbsp;&nbsp; &nbsp; ADVANCED COMMANDS &nbsp; &nbsp; daemon&nbsp; &nbsp; &nbsp; &nbsp; Start a long-running daemon process &nbsp; &nbsp; mount&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Mount an IPFS read-only mountpoint &nbsp; &nbsp; resolve&nbsp; &nbsp; &nbsp; &nbsp;Resolve any type of name &nbsp; &nbsp; name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Publish and resolve IPNS names &nbsp; &nbsp; key&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Create and list IPNS name keypairs &nbsp; &nbsp; dns&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Resolve DNS links &nbsp; &nbsp; pin&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Pin objects to local storage &nbsp; &nbsp; repo&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Manipulate the IPFS repository &nbsp; &nbsp; stats&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Various operational stats &nbsp; &nbsp; p2p&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Libp2p stream mounting &nbsp; &nbsp; filestore&nbsp; &nbsp; &nbsp;Manage the filestore (experimental) &nbsp;&nbsp; &nbsp; NETWORK COMMANDS &nbsp; &nbsp; id&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Show info about IPFS peers &nbsp; &nbsp; bootstrap&nbsp; &nbsp; &nbsp;Add or remove bootstrap peers &nbsp; &nbsp; swarm&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Manage connections to the p2p network &nbsp; &nbsp; dht&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Query the DHT for values or peers &nbsp; &nbsp; ping&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Measure the latency of a connection &nbsp; &nbsp; diag&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Print diagnostics &nbsp;&nbsp; &nbsp; TOOL COMMANDS &nbsp; &nbsp; config&nbsp; &nbsp; &nbsp; &nbsp; Manage configuration &nbsp; &nbsp; version&nbsp; &nbsp; &nbsp; &nbsp;Show ipfs version information &nbsp; &nbsp; update&nbsp; &nbsp; &nbsp; &nbsp; Download and apply go-ipfs updates &nbsp; &nbsp; commands&nbsp; &nbsp; &nbsp; List all available commands 1.3 将file.txt添加到ipfs节点 localhost:1121 admin$ ls file.txt localhost:1121 admin$ ipfs add file.txt&nbsp; added QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T file.txt localhost:1121 admin$ cat file.txt&nbsp; liyc1215 localhost:1121 admin$ ipfs cat QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T liyc1215 localhost:1121 admin$&nbsp; 当执行完ipfs add file.txt这个命令以后，会将file.txt添加到ipfs当前的节点中，并且会对file.txt文件生成一个唯一的hashQmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T，如果想查看本地ipfs节点的数据，可以通过ipfs cat QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T进行查看。 ⚠️：当我试图通过http://ipfs.io/ipfs/QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T进行数据访问时，无法访问，如下图所示： ⚠️：虽然数据已经添加到当前的你自己的IPFS节点中，但是并没有同步到IPFS网络，所以暂时在网络上无法访问。 ⚠️：重要：接下来执行下面的命令同步节点数据到IPFS网络，再试图在网络上查看数据。 同步节点 新建一个终端，执行ipfs daemon。 localhost:.ipfs admin$ ipfs daemon Initializing daemon... Adjusting current ulimit to 2048... Successfully raised file descriptor limit to 2048. Swarm listening on /ip4/111.196.246.151/tcp/3637 Swarm listening on /ip4/127.0.0.1/tcp/4001 Swarm listening on /ip4/169.254.170.167/tcp/4001 Swarm listening on /ip4/192.168.0.107/tcp/4001 Swarm listening on /ip6/::1/tcp/4001 API server listening on /ip4/127.0.0.1/tcp/5001 Gateway (readonly) server listening on /ip4/127.0.0.1/tcp/8080 Daemon is ready 从IPFS网络查看数据 浏览器访问https://ipfs.io/ipfs/QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T 黎跃春 微信 2. 通过ipfs创建目录存储文件 在着上面的步骤走，我们可以通过ipfs cat QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T liyc1215查看添加到ipfs网络的file.txt文件的内容，如下： localhost:1121 admin$ ipfs cat QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T liyc1215 localhost:1121 admin$&nbsp; 当然，我们也可以通过ipfs的相关命令在ipfs的根目录下面创建文件夹，并且将file.txt文件移动或者拷贝到我们创建的文件夹中。 ⚠️：cp不会改变文件hash，mv会改变hash寻址。 localhost:1121 admin$ ipfs cat QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T liyc1215 localhost:1121 admin$ ipfs files mkdir /LiYueChun localhost:1121 admin$ ipfs files cp /ipfs/QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T /LiYueChun/file.txt localhost:1121 admin$ ipfs files ls / LiYueChun localhost:1121 admin$ ipfs files ls /LiYueChun/ file.txt localhost:1121 admin$ ipfs files read /LiYueChun/file.txt liyc1215 localhost:1121 admin$&nbsp; 3. 如何在IPFS新增一个目录 3.1 使用ipfs add -r可以上传一整个目录 localhost:1121 admin$ ipfs add -r ipfs-tutorial/ added QmYx4BnhnLXeMWF5mKu16fJgUBiVP7ECXh7qcsUZnXiRxc ipfs-tutorial/contactme.txt added QmfKdWsguobA3aDPvSxLB3Bq4HMKyqKSgFr2NFUuVH8n31 ipfs-tutorial/eth-fabric.png added QmXe8jTxTh5MZP6BK5cnj19mXNTKVMzNyUJZUHuYyr5dk1 ipfs-tutorial/gongzhonghao.png added QmSsjQDVw1fvmG5RsZMgp2GjihiXn2zDv64mfHZN3AREek ipfs-tutorial 3.2 通过路径访问contactme.txt文件数据 如果我们上传的是目录，那么可以通过下面几种方式访问到contactme.txt文件的数据。 localhost:1121 admin$ ipfs cat QmYx4BnhnLXeMWF5mKu16fJgUBiVP7ECXh7qcsUZnXiRxc 微信：liyc1215 区块链技术交流群：348924182 公众号：区块链部落 localhost:1121 admin$ ipfs cat /ipfs/QmYx4BnhnLXeMWF5mKu16fJgUBiVP7ECXh7qcsUZnXiRxc 微信：liyc1215 区块链技术交流群：348924182 公众号：区块链部落 localhost:1121 admin$ ipfs cat /ipfs/QmSsjQDVw1fvmG5RsZMgp2GjihiXn2zDv64mfHZN3AREek/contactme.txt 微信：liyc1215 区块链技术交流群：348924182 公众号：区块链部落 localhost:1121 admin$&nbsp; 3.3 通过Hash查看数据IPFS网络数据 访问目录：https://ipfs.io/ipfs/QmSsjQDVw1fvmG5RsZMgp2GjihiXn2zDv64mfHZN3AREek 通过目录访问文件：https://ipfs.io/ipfs/QmSsjQDVw1fvmG5RsZMgp2GjihiXn2zDv64mfHZN3AREek/contactme.txt&nbsp; 通过文件hash直接访问：https://ipfs.io/ipfs/QmYx4BnhnLXeMWF5mKu16fJgUBiVP7ECXh7qcsUZnXiRxc 4. 创建简易的网页发布到IPFS 在这里我先自己写一个简单的网页给大家演示，先在桌面新建一个site文件夹，然后按照下面的步骤在site文件夹中建立index.html和style.css文件。 4.1 创建一个index.html文件 &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &nbsp; &lt;meta charset=&quot;UTF-8&quot;&gt; &nbsp; &lt;title&gt;Hello IPFS!&lt;/title&gt; &nbsp; &lt;link rel=&quot;stylesheet&quot; href=&quot;./style.css&quot; /&gt; &lt;/head&gt; &lt;body&gt; &nbsp; &lt;h1&gt;Hello IPFS!&lt;/h1&gt; &lt;/body&gt; &lt;/html&gt; 4.2 创建一个style.css文件 h1 { &nbsp; color: green; } 4.3 添加到ipfs localhost:Desktop admin$ ipfs add -r site/ added QmWG5rbgT9H77TGq49RXNoqN8M7DNKMnMX425nkmCB6BjS site/index.html added QmfGLJ3mryLvicQqzdsghq4QRhptKJtBAPe7yDJxsBGSuy site/style.css added QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp site 最后一行是项目根目录的hash，你先通过ipfs daemon同步网络，然后可以通过https://ipfs.io/ipfs/&lt;你的项目根目录hash&gt;，即https://ipfs.io/ipfs/QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp访问项目。 4.4 网络同步 localhost:Desktop admin$ ipfs daemon 4.5 访问网站 浏览器打开https://ipfs.io/ipfs/QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp，效果图如下： 4.6 发布到IPNS 当我们修改网站内容重新添加到ipfs时，hash会发生变化，当我们网站更新时，我们可以将网站发布到IPNS，在IPNS中，允许我们节点的域名空间中引用一个IPFS hash，也就是说我们可以通过节点ID对项目根目录的IPFS HASH进行绑定，以后我们访问网站时直接通过节点·ID访问即可，当我们更新博客时，重新发布到IPNS`即可。 localhost:~ admin$ ipfs name publish QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp Published to QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP: /ipfs/QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp localhost:~ admin$ ipfs id { &quot;ID&quot;: &quot;QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP&quot; } 当我们执行ipfs name publish命令时，会返回我们的节点ID，你可以通过ipfs id进行查看验证是否是你的节点ID。 ⚠️：验证 $ ipfs name resolve &lt;peerId&gt; localhost:~ admin$ ipfs name resolve QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP /ipfs/QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp localhost:~ admin$&nbsp; ⚠️：当然我们现在就可以通过IPNS进行访问了。 https://ipfs.io/ipns/QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP ⚠️⚠️⚠️：注意上面是ipns而不是ipfs。 ⚠️：如果你网站数据修改，需要重新发布到IPNS。 5. 发布个人博客 你可以通过Hugo按照官方文档创建一个漂亮的静态博客Hugo官方网站，当然你也可以自己编写，或者使用其他开源项目搭建。 5.1 搭建静态博客 大家可以自己搭建，也可以直接下载我的博客源码直接搭建。 源码地址：http://github.com/liyuechun/ipfs_blogger 5.2 节点ID替换 查看你的节点ID localhost:ipfs_pin admin$ ipfs id { &quot;ID&quot;: &quot;《your peer id》&quot; } localhost:ipfs_pin admin$&nbsp; 在上面的源码中全局搜索将源码里面的QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP替换成你自己的ID。 接下来重复4. 创建简易的网页发布到IPFS的操作步骤即可。 5.3 浏览博客 浏览器打开https://ipfs.io/ipns/QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP/查看项目效果。 IPFS 博客项目效果图 阅读更多" />
<link rel="canonical" href="https://mlh.app/2017/12/04/4b6354a1c3d127c7990f44e162222a06.html" />
<meta property="og:url" content="https://mlh.app/2017/12/04/4b6354a1c3d127c7990f44e162222a06.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-12-04T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"打开终端，切换到桌面，新建一个文件夹1121，切换到1121中，通过vi新建一个文件file.txt，文件里面输入春哥微信号liyc1215保存并且退出。 localhost:Desktop admin$ pwd /Users/liyuechun/Desktop localhost:Desktop admin$ mkdir 1121 localhost:Desktop admin$ cd 1121/ localhost:1121 admin$ vi file.txt localhost:1121 admin$ cat file.txt&nbsp; liyc1215 localhost:1121 admin$&nbsp; 1.2 查看ipfs相关命令 localhost:1121 admin$ ipfs help USAGE &nbsp; ipfs - Global p2p merkle-dag filesystem. &nbsp; ipfs [--config=&lt;config&gt; | -c] [--debug=&lt;debug&gt; | -D] [--help=&lt;help&gt;] [-h=&lt;h&gt;] [--local=&lt;local&gt; | -L] [--api=&lt;api&gt;] &lt;command&gt; ... SUBCOMMANDS &nbsp; BASIC COMMANDS &nbsp; &nbsp; init&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Initialize ipfs local configuration &nbsp; &nbsp; add &lt;path&gt;&nbsp; &nbsp; Add a file to IPFS &nbsp; &nbsp; cat &lt;ref&gt;&nbsp; &nbsp; &nbsp;Show IPFS object data &nbsp; &nbsp; get &lt;ref&gt;&nbsp; &nbsp; &nbsp;Download IPFS objects &nbsp; &nbsp; ls &lt;ref&gt;&nbsp; &nbsp; &nbsp; List links from an object &nbsp; &nbsp; refs &lt;ref&gt;&nbsp; &nbsp; List hashes of links from an object &nbsp;&nbsp; &nbsp; DATA STRUCTURE COMMANDS &nbsp; &nbsp; block&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Interact with raw blocks in the datastore &nbsp; &nbsp; object&nbsp; &nbsp; &nbsp; &nbsp; Interact with raw dag nodes &nbsp; &nbsp; files&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Interact with objects as if they were a unix filesystem &nbsp; &nbsp; dag&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Interact with IPLD documents (experimental) &nbsp;&nbsp; &nbsp; ADVANCED COMMANDS &nbsp; &nbsp; daemon&nbsp; &nbsp; &nbsp; &nbsp; Start a long-running daemon process &nbsp; &nbsp; mount&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Mount an IPFS read-only mountpoint &nbsp; &nbsp; resolve&nbsp; &nbsp; &nbsp; &nbsp;Resolve any type of name &nbsp; &nbsp; name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Publish and resolve IPNS names &nbsp; &nbsp; key&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Create and list IPNS name keypairs &nbsp; &nbsp; dns&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Resolve DNS links &nbsp; &nbsp; pin&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Pin objects to local storage &nbsp; &nbsp; repo&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Manipulate the IPFS repository &nbsp; &nbsp; stats&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Various operational stats &nbsp; &nbsp; p2p&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Libp2p stream mounting &nbsp; &nbsp; filestore&nbsp; &nbsp; &nbsp;Manage the filestore (experimental) &nbsp;&nbsp; &nbsp; NETWORK COMMANDS &nbsp; &nbsp; id&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Show info about IPFS peers &nbsp; &nbsp; bootstrap&nbsp; &nbsp; &nbsp;Add or remove bootstrap peers &nbsp; &nbsp; swarm&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Manage connections to the p2p network &nbsp; &nbsp; dht&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Query the DHT for values or peers &nbsp; &nbsp; ping&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Measure the latency of a connection &nbsp; &nbsp; diag&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Print diagnostics &nbsp;&nbsp; &nbsp; TOOL COMMANDS &nbsp; &nbsp; config&nbsp; &nbsp; &nbsp; &nbsp; Manage configuration &nbsp; &nbsp; version&nbsp; &nbsp; &nbsp; &nbsp;Show ipfs version information &nbsp; &nbsp; update&nbsp; &nbsp; &nbsp; &nbsp; Download and apply go-ipfs updates &nbsp; &nbsp; commands&nbsp; &nbsp; &nbsp; List all available commands 1.3 将file.txt添加到ipfs节点 localhost:1121 admin$ ls file.txt localhost:1121 admin$ ipfs add file.txt&nbsp; added QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T file.txt localhost:1121 admin$ cat file.txt&nbsp; liyc1215 localhost:1121 admin$ ipfs cat QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T liyc1215 localhost:1121 admin$&nbsp; 当执行完ipfs add file.txt这个命令以后，会将file.txt添加到ipfs当前的节点中，并且会对file.txt文件生成一个唯一的hashQmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T，如果想查看本地ipfs节点的数据，可以通过ipfs cat QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T进行查看。 ⚠️：当我试图通过http://ipfs.io/ipfs/QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T进行数据访问时，无法访问，如下图所示： ⚠️：虽然数据已经添加到当前的你自己的IPFS节点中，但是并没有同步到IPFS网络，所以暂时在网络上无法访问。 ⚠️：重要：接下来执行下面的命令同步节点数据到IPFS网络，再试图在网络上查看数据。 同步节点 新建一个终端，执行ipfs daemon。 localhost:.ipfs admin$ ipfs daemon Initializing daemon... Adjusting current ulimit to 2048... Successfully raised file descriptor limit to 2048. Swarm listening on /ip4/111.196.246.151/tcp/3637 Swarm listening on /ip4/127.0.0.1/tcp/4001 Swarm listening on /ip4/169.254.170.167/tcp/4001 Swarm listening on /ip4/192.168.0.107/tcp/4001 Swarm listening on /ip6/::1/tcp/4001 API server listening on /ip4/127.0.0.1/tcp/5001 Gateway (readonly) server listening on /ip4/127.0.0.1/tcp/8080 Daemon is ready 从IPFS网络查看数据 浏览器访问https://ipfs.io/ipfs/QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T 黎跃春 微信 2. 通过ipfs创建目录存储文件 在着上面的步骤走，我们可以通过ipfs cat QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T liyc1215查看添加到ipfs网络的file.txt文件的内容，如下： localhost:1121 admin$ ipfs cat QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T liyc1215 localhost:1121 admin$&nbsp; 当然，我们也可以通过ipfs的相关命令在ipfs的根目录下面创建文件夹，并且将file.txt文件移动或者拷贝到我们创建的文件夹中。 ⚠️：cp不会改变文件hash，mv会改变hash寻址。 localhost:1121 admin$ ipfs cat QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T liyc1215 localhost:1121 admin$ ipfs files mkdir /LiYueChun localhost:1121 admin$ ipfs files cp /ipfs/QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T /LiYueChun/file.txt localhost:1121 admin$ ipfs files ls / LiYueChun localhost:1121 admin$ ipfs files ls /LiYueChun/ file.txt localhost:1121 admin$ ipfs files read /LiYueChun/file.txt liyc1215 localhost:1121 admin$&nbsp; 3. 如何在IPFS新增一个目录 3.1 使用ipfs add -r可以上传一整个目录 localhost:1121 admin$ ipfs add -r ipfs-tutorial/ added QmYx4BnhnLXeMWF5mKu16fJgUBiVP7ECXh7qcsUZnXiRxc ipfs-tutorial/contactme.txt added QmfKdWsguobA3aDPvSxLB3Bq4HMKyqKSgFr2NFUuVH8n31 ipfs-tutorial/eth-fabric.png added QmXe8jTxTh5MZP6BK5cnj19mXNTKVMzNyUJZUHuYyr5dk1 ipfs-tutorial/gongzhonghao.png added QmSsjQDVw1fvmG5RsZMgp2GjihiXn2zDv64mfHZN3AREek ipfs-tutorial 3.2 通过路径访问contactme.txt文件数据 如果我们上传的是目录，那么可以通过下面几种方式访问到contactme.txt文件的数据。 localhost:1121 admin$ ipfs cat QmYx4BnhnLXeMWF5mKu16fJgUBiVP7ECXh7qcsUZnXiRxc 微信：liyc1215 区块链技术交流群：348924182 公众号：区块链部落 localhost:1121 admin$ ipfs cat /ipfs/QmYx4BnhnLXeMWF5mKu16fJgUBiVP7ECXh7qcsUZnXiRxc 微信：liyc1215 区块链技术交流群：348924182 公众号：区块链部落 localhost:1121 admin$ ipfs cat /ipfs/QmSsjQDVw1fvmG5RsZMgp2GjihiXn2zDv64mfHZN3AREek/contactme.txt 微信：liyc1215 区块链技术交流群：348924182 公众号：区块链部落 localhost:1121 admin$&nbsp; 3.3 通过Hash查看数据IPFS网络数据 访问目录：https://ipfs.io/ipfs/QmSsjQDVw1fvmG5RsZMgp2GjihiXn2zDv64mfHZN3AREek 通过目录访问文件：https://ipfs.io/ipfs/QmSsjQDVw1fvmG5RsZMgp2GjihiXn2zDv64mfHZN3AREek/contactme.txt&nbsp; 通过文件hash直接访问：https://ipfs.io/ipfs/QmYx4BnhnLXeMWF5mKu16fJgUBiVP7ECXh7qcsUZnXiRxc 4. 创建简易的网页发布到IPFS 在这里我先自己写一个简单的网页给大家演示，先在桌面新建一个site文件夹，然后按照下面的步骤在site文件夹中建立index.html和style.css文件。 4.1 创建一个index.html文件 &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &nbsp; &lt;meta charset=&quot;UTF-8&quot;&gt; &nbsp; &lt;title&gt;Hello IPFS!&lt;/title&gt; &nbsp; &lt;link rel=&quot;stylesheet&quot; href=&quot;./style.css&quot; /&gt; &lt;/head&gt; &lt;body&gt; &nbsp; &lt;h1&gt;Hello IPFS!&lt;/h1&gt; &lt;/body&gt; &lt;/html&gt; 4.2 创建一个style.css文件 h1 { &nbsp; color: green; } 4.3 添加到ipfs localhost:Desktop admin$ ipfs add -r site/ added QmWG5rbgT9H77TGq49RXNoqN8M7DNKMnMX425nkmCB6BjS site/index.html added QmfGLJ3mryLvicQqzdsghq4QRhptKJtBAPe7yDJxsBGSuy site/style.css added QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp site 最后一行是项目根目录的hash，你先通过ipfs daemon同步网络，然后可以通过https://ipfs.io/ipfs/&lt;你的项目根目录hash&gt;，即https://ipfs.io/ipfs/QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp访问项目。 4.4 网络同步 localhost:Desktop admin$ ipfs daemon 4.5 访问网站 浏览器打开https://ipfs.io/ipfs/QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp，效果图如下： 4.6 发布到IPNS 当我们修改网站内容重新添加到ipfs时，hash会发生变化，当我们网站更新时，我们可以将网站发布到IPNS，在IPNS中，允许我们节点的域名空间中引用一个IPFS hash，也就是说我们可以通过节点ID对项目根目录的IPFS HASH进行绑定，以后我们访问网站时直接通过节点·ID访问即可，当我们更新博客时，重新发布到IPNS`即可。 localhost:~ admin$ ipfs name publish QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp Published to QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP: /ipfs/QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp localhost:~ admin$ ipfs id { &quot;ID&quot;: &quot;QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP&quot; } 当我们执行ipfs name publish命令时，会返回我们的节点ID，你可以通过ipfs id进行查看验证是否是你的节点ID。 ⚠️：验证 $ ipfs name resolve &lt;peerId&gt; localhost:~ admin$ ipfs name resolve QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP /ipfs/QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp localhost:~ admin$&nbsp; ⚠️：当然我们现在就可以通过IPNS进行访问了。 https://ipfs.io/ipns/QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP ⚠️⚠️⚠️：注意上面是ipns而不是ipfs。 ⚠️：如果你网站数据修改，需要重新发布到IPNS。 5. 发布个人博客 你可以通过Hugo按照官方文档创建一个漂亮的静态博客Hugo官方网站，当然你也可以自己编写，或者使用其他开源项目搭建。 5.1 搭建静态博客 大家可以自己搭建，也可以直接下载我的博客源码直接搭建。 源码地址：http://github.com/liyuechun/ipfs_blogger 5.2 节点ID替换 查看你的节点ID localhost:ipfs_pin admin$ ipfs id { &quot;ID&quot;: &quot;《your peer id》&quot; } localhost:ipfs_pin admin$&nbsp; 在上面的源码中全局搜索将源码里面的QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP替换成你自己的ID。 接下来重复4. 创建简易的网页发布到IPFS的操作步骤即可。 5.3 浏览博客 浏览器打开https://ipfs.io/ipns/QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP/查看项目效果。 IPFS 博客项目效果图 阅读更多","@type":"BlogPosting","url":"https://mlh.app/2017/12/04/4b6354a1c3d127c7990f44e162222a06.html","headline":"ipfs/ipns/搭建安装测试","dateModified":"2017-12-04T00:00:00+08:00","datePublished":"2017-12-04T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2017/12/04/4b6354a1c3d127c7990f44e162222a06.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>ipfs/ipns/搭建安装测试</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css"> 
 <div class="htmledit_views"> 
  <br>
  <br> 打开终端，切换到桌面，新建一个文件夹1121，切换到1121中，通过vi新建一个文件file.txt，文件里面输入春哥微信号liyc1215保存并且退出。
  <br>
  <br>
  <br> localhost:Desktop admin$ pwd
  <br> /Users/liyuechun/Desktop
  <br> localhost:Desktop admin$ mkdir 1121
  <br> localhost:Desktop admin$ cd 1121/
  <br> localhost:1121 admin$ vi file.txt
  <br> localhost:1121 admin$ cat file.txt&nbsp;
  <br> liyc1215
  <br> localhost:1121 admin$&nbsp;
  <br> 1.2 查看ipfs相关命令
  <br>
  <br>
  <br> localhost:1121 admin$ ipfs help
  <br> USAGE
  <br> &nbsp; ipfs - Global p2p merkle-dag filesystem.
  <br>
  <br>
  <br> &nbsp; ipfs [--config=&lt;config&gt; | -c] [--debug=&lt;debug&gt; | -D] [--help=&lt;help&gt;] [-h=&lt;h&gt;] [--local=&lt;local&gt; | -L] [--api=&lt;api&gt;] &lt;command&gt; ...
  <br>
  <br>
  <br> SUBCOMMANDS
  <br> &nbsp; BASIC COMMANDS
  <br> &nbsp; &nbsp; init&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Initialize ipfs local configuration
  <br> &nbsp; &nbsp; add &lt;path&gt;&nbsp; &nbsp; Add a file to IPFS
  <br> &nbsp; &nbsp; cat &lt;ref&gt;&nbsp; &nbsp; &nbsp;Show IPFS object data
  <br> &nbsp; &nbsp; get &lt;ref&gt;&nbsp; &nbsp; &nbsp;Download IPFS objects
  <br> &nbsp; &nbsp; ls &lt;ref&gt;&nbsp; &nbsp; &nbsp; List links from an object
  <br> &nbsp; &nbsp; refs &lt;ref&gt;&nbsp; &nbsp; List hashes of links from an object
  <br> &nbsp;&nbsp;
  <br> &nbsp; DATA STRUCTURE COMMANDS
  <br> &nbsp; &nbsp; block&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Interact with raw blocks in the datastore
  <br> &nbsp; &nbsp; object&nbsp; &nbsp; &nbsp; &nbsp; Interact with raw dag nodes
  <br> &nbsp; &nbsp; files&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Interact with objects as if they were a unix filesystem
  <br> &nbsp; &nbsp; dag&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Interact with IPLD documents (experimental)
  <br> &nbsp;&nbsp;
  <br> &nbsp; ADVANCED COMMANDS
  <br> &nbsp; &nbsp; daemon&nbsp; &nbsp; &nbsp; &nbsp; Start a long-running daemon process
  <br> &nbsp; &nbsp; mount&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Mount an IPFS read-only mountpoint
  <br> &nbsp; &nbsp; resolve&nbsp; &nbsp; &nbsp; &nbsp;Resolve any type of name
  <br> &nbsp; &nbsp; name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Publish and resolve IPNS names
  <br> &nbsp; &nbsp; key&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Create and list IPNS name keypairs
  <br> &nbsp; &nbsp; dns&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Resolve DNS links
  <br> &nbsp; &nbsp; pin&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Pin objects to local storage
  <br> &nbsp; &nbsp; repo&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Manipulate the IPFS repository
  <br> &nbsp; &nbsp; stats&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Various operational stats
  <br> &nbsp; &nbsp; p2p&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Libp2p stream mounting
  <br> &nbsp; &nbsp; filestore&nbsp; &nbsp; &nbsp;Manage the filestore (experimental)
  <br> &nbsp;&nbsp;
  <br> &nbsp; NETWORK COMMANDS
  <br> &nbsp; &nbsp; id&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Show info about IPFS peers
  <br> &nbsp; &nbsp; bootstrap&nbsp; &nbsp; &nbsp;Add or remove bootstrap peers
  <br> &nbsp; &nbsp; swarm&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Manage connections to the p2p network
  <br> &nbsp; &nbsp; dht&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Query the DHT for values or peers
  <br> &nbsp; &nbsp; ping&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Measure the latency of a connection
  <br> &nbsp; &nbsp; diag&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Print diagnostics
  <br> &nbsp;&nbsp;
  <br> &nbsp; TOOL COMMANDS
  <br> &nbsp; &nbsp; config&nbsp; &nbsp; &nbsp; &nbsp; Manage configuration
  <br> &nbsp; &nbsp; version&nbsp; &nbsp; &nbsp; &nbsp;Show ipfs version information
  <br> &nbsp; &nbsp; update&nbsp; &nbsp; &nbsp; &nbsp; Download and apply go-ipfs updates
  <br> &nbsp; &nbsp; commands&nbsp; &nbsp; &nbsp; List all available commands
  <br> 1.3 将file.txt添加到ipfs节点
  <br>
  <br>
  <br> localhost:1121 admin$ ls
  <br> file.txt
  <br> localhost:1121 admin$ ipfs add file.txt&nbsp;
  <br> added QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T file.txt
  <br> localhost:1121 admin$ cat file.txt&nbsp;
  <br> liyc1215
  <br> localhost:1121 admin$ ipfs cat QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T
  <br> liyc1215
  <br> localhost:1121 admin$&nbsp;
  <br> 当执行完ipfs add file.txt这个命令以后，会将file.txt添加到ipfs当前的节点中，并且会对file.txt文件生成一个唯一的hashQmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T，如果想查看本地ipfs节点的数据，可以通过ipfs cat QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T进行查看。
  <br>
  <br>
  <br> ⚠️：当我试图通过http://ipfs.io/ipfs/QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T进行数据访问时，无法访问，如下图所示：
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br> ⚠️：虽然数据已经添加到当前的你自己的IPFS节点中，但是并没有同步到IPFS网络，所以暂时在网络上无法访问。
  <br>
  <br>
  <br> ⚠️：重要：接下来执行下面的命令同步节点数据到IPFS网络，再试图在网络上查看数据。
  <br>
  <br>
  <br> 同步节点
  <br> 新建一个终端，执行ipfs daemon。
  <br>
  <br>
  <br> localhost:.ipfs admin$ ipfs daemon
  <br> Initializing daemon...
  <br> Adjusting current ulimit to 2048...
  <br> Successfully raised file descriptor limit to 2048.
  <br> Swarm listening on /ip4/111.196.246.151/tcp/3637
  <br> Swarm listening on /ip4/127.0.0.1/tcp/4001
  <br> Swarm listening on /ip4/169.254.170.167/tcp/4001
  <br> Swarm listening on /ip4/192.168.0.107/tcp/4001
  <br> Swarm listening on /ip6/::1/tcp/4001
  <br> API server listening on /ip4/127.0.0.1/tcp/5001
  <br> Gateway (readonly) server listening on /ip4/127.0.0.1/tcp/8080
  <br> Daemon is ready
  <br> 从IPFS网络查看数据
  <br> 浏览器访问https://ipfs.io/ipfs/QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T
  <br>
  <br>
  <br> 黎跃春 微信
  <br>
  <br>
  <br> 2. 通过ipfs创建目录存储文件
  <br> 在着上面的步骤走，我们可以通过ipfs cat QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T liyc1215查看添加到ipfs网络的file.txt文件的内容，如下：
  <br>
  <br>
  <br> localhost:1121 admin$ ipfs cat QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T
  <br> liyc1215
  <br> localhost:1121 admin$&nbsp;
  <br> 当然，我们也可以通过ipfs的相关命令在ipfs的根目录下面创建文件夹，并且将file.txt文件移动或者拷贝到我们创建的文件夹中。
  <br>
  <br>
  <br> ⚠️：cp不会改变文件hash，mv会改变hash寻址。
  <br>
  <br>
  <br> localhost:1121 admin$ ipfs cat QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T
  <br> liyc1215
  <br> localhost:1121 admin$ ipfs files mkdir /LiYueChun
  <br> localhost:1121 admin$ ipfs files cp /ipfs/QmbrevseVQKf1vsYMsxCscRf6D7S2dftYpHwxkYf94pc7T /LiYueChun/file.txt
  <br> localhost:1121 admin$ ipfs files ls /
  <br> LiYueChun
  <br> localhost:1121 admin$ ipfs files ls /LiYueChun/
  <br> file.txt
  <br> localhost:1121 admin$ ipfs files read /LiYueChun/file.txt
  <br> liyc1215
  <br> localhost:1121 admin$&nbsp;
  <br> 3. 如何在IPFS新增一个目录
  <br> 3.1 使用ipfs add -r可以上传一整个目录
  <br>
  <br>
  <br> localhost:1121 admin$ ipfs add -r ipfs-tutorial/
  <br> added QmYx4BnhnLXeMWF5mKu16fJgUBiVP7ECXh7qcsUZnXiRxc ipfs-tutorial/contactme.txt
  <br> added QmfKdWsguobA3aDPvSxLB3Bq4HMKyqKSgFr2NFUuVH8n31 ipfs-tutorial/eth-fabric.png
  <br> added QmXe8jTxTh5MZP6BK5cnj19mXNTKVMzNyUJZUHuYyr5dk1 ipfs-tutorial/gongzhonghao.png
  <br> added QmSsjQDVw1fvmG5RsZMgp2GjihiXn2zDv64mfHZN3AREek ipfs-tutorial
  <br> 3.2 通过路径访问contactme.txt文件数据
  <br> 如果我们上传的是目录，那么可以通过下面几种方式访问到contactme.txt文件的数据。
  <br>
  <br>
  <br> localhost:1121 admin$ ipfs cat QmYx4BnhnLXeMWF5mKu16fJgUBiVP7ECXh7qcsUZnXiRxc
  <br> 微信：liyc1215
  <br> 区块链技术交流群：348924182
  <br> 公众号：区块链部落
  <br> localhost:1121 admin$ ipfs cat /ipfs/QmYx4BnhnLXeMWF5mKu16fJgUBiVP7ECXh7qcsUZnXiRxc
  <br> 微信：liyc1215
  <br> 区块链技术交流群：348924182
  <br> 公众号：区块链部落
  <br> localhost:1121 admin$ ipfs cat /ipfs/QmSsjQDVw1fvmG5RsZMgp2GjihiXn2zDv64mfHZN3AREek/contactme.txt
  <br> 微信：liyc1215
  <br> 区块链技术交流群：348924182
  <br> 公众号：区块链部落
  <br> localhost:1121 admin$&nbsp;
  <br> 3.3 通过Hash查看数据IPFS网络数据
  <br>
  <br>
  <br> 访问目录：https://ipfs.io/ipfs/QmSsjQDVw1fvmG5RsZMgp2GjihiXn2zDv64mfHZN3AREek
  <br>
  <br>
  <br>
  <br>
  <br> 通过目录访问文件：https://ipfs.io/ipfs/QmSsjQDVw1fvmG5RsZMgp2GjihiXn2zDv64mfHZN3AREek/contactme.txt&nbsp;
  <br>
  <br>
  <br> 通过文件hash直接访问：https://ipfs.io/ipfs/QmYx4BnhnLXeMWF5mKu16fJgUBiVP7ECXh7qcsUZnXiRxc
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br> 4. 创建简易的网页发布到IPFS
  <br> 在这里我先自己写一个简单的网页给大家演示，先在桌面新建一个site文件夹，然后按照下面的步骤在site文件夹中建立index.html和style.css文件。
  <br>
  <br>
  <br> 4.1 创建一个index.html文件
  <br>
  <br>
  <br> &lt;!DOCTYPE html&gt;
  <br> &lt;html lang="en"&gt;
  <br> &lt;head&gt;
  <br> &nbsp; &lt;meta charset="UTF-8"&gt;
  <br> &nbsp; &lt;title&gt;Hello IPFS!&lt;/title&gt;
  <br> &nbsp; &lt;link rel="stylesheet" href="./style.css" /&gt;
  <br> &lt;/head&gt;
  <br> &lt;body&gt;
  <br> &nbsp; &lt;h1&gt;Hello IPFS!&lt;/h1&gt;
  <br> &lt;/body&gt;
  <br> &lt;/html&gt;
  <br> 4.2 创建一个style.css文件
  <br>
  <br>
  <br> h1 {
  <br> &nbsp; color: green;
  <br> }
  <br> 4.3 添加到ipfs
  <br>
  <br>
  <br> localhost:Desktop admin$ ipfs add -r site/
  <br> added QmWG5rbgT9H77TGq49RXNoqN8M7DNKMnMX425nkmCB6BjS site/index.html
  <br> added QmfGLJ3mryLvicQqzdsghq4QRhptKJtBAPe7yDJxsBGSuy site/style.css
  <br> added QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp site
  <br> 最后一行是项目根目录的hash，你先通过ipfs daemon同步网络，然后可以通过https://ipfs.io/ipfs/&lt;你的项目根目录hash&gt;，即https://ipfs.io/ipfs/QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp访问项目。
  <br>
  <br>
  <br> 4.4 网络同步
  <br>
  <br>
  <br> localhost:Desktop admin$ ipfs daemon
  <br> 4.5 访问网站
  <br>
  <br>
  <br> 浏览器打开https://ipfs.io/ipfs/QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp，效果图如下：
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br> 4.6 发布到IPNS
  <br>
  <br>
  <br> 当我们修改网站内容重新添加到ipfs时，hash会发生变化，当我们网站更新时，我们可以将网站发布到IPNS，在IPNS中，允许我们节点的域名空间中引用一个IPFS hash，也就是说我们可以通过节点ID对项目根目录的IPFS HASH进行绑定，以后我们访问网站时直接通过节点·ID访问即可，当我们更新博客时，重新发布到IPNS`即可。
  <br>
  <br>
  <br> localhost:~ admin$ ipfs name publish QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp
  <br> Published to QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP: /ipfs/QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp
  <br> localhost:~ admin$ ipfs id
  <br> {
  <br>
  <span></span>"ID": "QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP"
  <br> }
  <br> 当我们执行ipfs name publish命令时，会返回我们的节点ID，你可以通过ipfs id进行查看验证是否是你的节点ID。
  <br>
  <br>
  <br> ⚠️：验证
  <br>
  <br>
  <br> $ ipfs name resolve &lt;peerId&gt;
  <br> localhost:~ admin$ ipfs name resolve QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP
  <br> /ipfs/QmdVEGkT5u7LtzzatTrn8JGNEF3fpuMPVs2rPCfvqRykRp
  <br> localhost:~ admin$&nbsp;
  <br> ⚠️：当然我们现在就可以通过IPNS进行访问了。
  <br>
  <br>
  <br> https://ipfs.io/ipns/QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP
  <br> ⚠️⚠️⚠️：注意上面是ipns而不是ipfs。
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br> ⚠️：如果你网站数据修改，需要重新发布到IPNS。
  <br>
  <br>
  <br> 5. 发布个人博客
  <br> 你可以通过Hugo按照官方文档创建一个漂亮的静态博客Hugo官方网站，当然你也可以自己编写，或者使用其他开源项目搭建。
  <br>
  <br>
  <br> 5.1 搭建静态博客
  <br>
  <br>
  <br> 大家可以自己搭建，也可以直接下载我的博客源码直接搭建。
  <br>
  <br>
  <br> 源码地址：http://github.com/liyuechun/ipfs_blogger
  <br>
  <br>
  <br> 5.2 节点ID替换
  <br>
  <br>
  <br> 查看你的节点ID
  <br> localhost:ipfs_pin admin$ ipfs id
  <br> {
  <br>
  <span></span>"ID": "《your peer id》"
  <br> }
  <br> localhost:ipfs_pin admin$&nbsp;
  <br> 在上面的源码中全局搜索将源码里面的QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP替换成你自己的ID。
  <br>
  <br>
  <br> 接下来重复4. 创建简易的网页发布到IPFS的操作步骤即可。
  <br>
  <br>
  <br> 5.3 浏览博客
  <br>
  <br>
  <br> 浏览器打开https://ipfs.io/ipns/QmdKXkeEWcuRw9oqBwopKUa8CgK1iBktPGYaMoJ4UNt1MP/查看项目效果。
  <br>
  <br>
  <br> IPFS 博客项目效果图 
 </div> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/welling_22/article/details/78713755,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/welling_22/article/details/78713755,&quot;}">阅读更多</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0d1dbe5a3e5863242418b768d1601633";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
