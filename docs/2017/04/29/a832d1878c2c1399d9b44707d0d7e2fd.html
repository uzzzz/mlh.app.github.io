<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>QT应用在Windows下部署发布 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="QT应用在Windows下部署发布" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="刚接触QT，对于其在Windows下部署一头雾水。网上相应的资料很多都是手工程度比较高的，在这里我们可以使用QT自带的发布工具 - windeployqt.exe。 部署发布 - 解决依赖 该文件在QT的安装目录下，我Windows平台使用的mingw版本(5.8)，其路径为 D:\Qt\Qt5.8.0\5.8\mingw53_32\bin\windeployqt.exe 使用Release模式编译程序，然后将对应的exe文件和你自己编写的dll文件复制到一个单独的目录中(假设目录为HelloQT，文件为helloqt.exe) 然后在cmd下进入该目录，执行以下命令即可 D:\Qt\Qt5.8.0\5.8\mingw53_32\bin\windeployqt.exe helloqt.exe 该命令会在helloqt.exe目录目录下生成(应该是复制)其所需要的依赖项。 如果你是基于msvc编译的qt应用，那么此时已经可以运行起来了。 但是基于mingw编译的qt应用，此时还有3个依赖项没有自动复制过来，依次是 - libgcc_s_dw2-1.dll - libstdc++-6.dll - libwinpthread-1.dll 这些文件你都可以在目录D:\Qt\Qt5.8.0\Tools\mingw530_32\i686-w64-mingw32\lib下找到。 部署发布 - 打包压缩 经过上面的步骤，虽然依赖解决了，但是有两个问题 依赖项目非常多 文件总体积很大(一个helloworld应用大概会有40+M) 我们可以采取以下措施来解决或者优化上面出现的问题 删除掉不用的DLL文件(我目前对这些不太熟…) 用strip命令去掉程序里面一些无用信息 使用打包/加壳工具进行打包压缩 Enigma Virtual Box ASPack UPX Flexera (InstallShield安装包制作工具) 其它优化手段… 待实践 参考 如何在Windows下发布QT应用程序 Qt5应用程序的部署 Qt 5.x 应用程序 Windows 部署方法 QT程序在windows下部署发布 Application failed to start because it could not find or load the QT platform plugin “windows” Qt for Windows - Deployment Deploy an Application on Windows 阅读更多" />
<meta property="og:description" content="刚接触QT，对于其在Windows下部署一头雾水。网上相应的资料很多都是手工程度比较高的，在这里我们可以使用QT自带的发布工具 - windeployqt.exe。 部署发布 - 解决依赖 该文件在QT的安装目录下，我Windows平台使用的mingw版本(5.8)，其路径为 D:\Qt\Qt5.8.0\5.8\mingw53_32\bin\windeployqt.exe 使用Release模式编译程序，然后将对应的exe文件和你自己编写的dll文件复制到一个单独的目录中(假设目录为HelloQT，文件为helloqt.exe) 然后在cmd下进入该目录，执行以下命令即可 D:\Qt\Qt5.8.0\5.8\mingw53_32\bin\windeployqt.exe helloqt.exe 该命令会在helloqt.exe目录目录下生成(应该是复制)其所需要的依赖项。 如果你是基于msvc编译的qt应用，那么此时已经可以运行起来了。 但是基于mingw编译的qt应用，此时还有3个依赖项没有自动复制过来，依次是 - libgcc_s_dw2-1.dll - libstdc++-6.dll - libwinpthread-1.dll 这些文件你都可以在目录D:\Qt\Qt5.8.0\Tools\mingw530_32\i686-w64-mingw32\lib下找到。 部署发布 - 打包压缩 经过上面的步骤，虽然依赖解决了，但是有两个问题 依赖项目非常多 文件总体积很大(一个helloworld应用大概会有40+M) 我们可以采取以下措施来解决或者优化上面出现的问题 删除掉不用的DLL文件(我目前对这些不太熟…) 用strip命令去掉程序里面一些无用信息 使用打包/加壳工具进行打包压缩 Enigma Virtual Box ASPack UPX Flexera (InstallShield安装包制作工具) 其它优化手段… 待实践 参考 如何在Windows下发布QT应用程序 Qt5应用程序的部署 Qt 5.x 应用程序 Windows 部署方法 QT程序在windows下部署发布 Application failed to start because it could not find or load the QT platform plugin “windows” Qt for Windows - Deployment Deploy an Application on Windows 阅读更多" />
<link rel="canonical" href="https://mlh.app/2017/04/29/a832d1878c2c1399d9b44707d0d7e2fd.html" />
<meta property="og:url" content="https://mlh.app/2017/04/29/a832d1878c2c1399d9b44707d0d7e2fd.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-04-29T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"刚接触QT，对于其在Windows下部署一头雾水。网上相应的资料很多都是手工程度比较高的，在这里我们可以使用QT自带的发布工具 - windeployqt.exe。 部署发布 - 解决依赖 该文件在QT的安装目录下，我Windows平台使用的mingw版本(5.8)，其路径为 D:\\Qt\\Qt5.8.0\\5.8\\mingw53_32\\bin\\windeployqt.exe 使用Release模式编译程序，然后将对应的exe文件和你自己编写的dll文件复制到一个单独的目录中(假设目录为HelloQT，文件为helloqt.exe) 然后在cmd下进入该目录，执行以下命令即可 D:\\Qt\\Qt5.8.0\\5.8\\mingw53_32\\bin\\windeployqt.exe helloqt.exe 该命令会在helloqt.exe目录目录下生成(应该是复制)其所需要的依赖项。 如果你是基于msvc编译的qt应用，那么此时已经可以运行起来了。 但是基于mingw编译的qt应用，此时还有3个依赖项没有自动复制过来，依次是 - libgcc_s_dw2-1.dll - libstdc++-6.dll - libwinpthread-1.dll 这些文件你都可以在目录D:\\Qt\\Qt5.8.0\\Tools\\mingw530_32\\i686-w64-mingw32\\lib下找到。 部署发布 - 打包压缩 经过上面的步骤，虽然依赖解决了，但是有两个问题 依赖项目非常多 文件总体积很大(一个helloworld应用大概会有40+M) 我们可以采取以下措施来解决或者优化上面出现的问题 删除掉不用的DLL文件(我目前对这些不太熟…) 用strip命令去掉程序里面一些无用信息 使用打包/加壳工具进行打包压缩 Enigma Virtual Box ASPack UPX Flexera (InstallShield安装包制作工具) 其它优化手段… 待实践 参考 如何在Windows下发布QT应用程序 Qt5应用程序的部署 Qt 5.x 应用程序 Windows 部署方法 QT程序在windows下部署发布 Application failed to start because it could not find or load the QT platform plugin “windows” Qt for Windows - Deployment Deploy an Application on Windows 阅读更多","@type":"BlogPosting","url":"https://mlh.app/2017/04/29/a832d1878c2c1399d9b44707d0d7e2fd.html","headline":"QT应用在Windows下部署发布","dateModified":"2017-04-29T00:00:00+08:00","datePublished":"2017-04-29T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2017/04/29/a832d1878c2c1399d9b44707d0d7e2fd.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>QT应用在Windows下部署发布</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <div class="markdown_views"> 
  <p>刚接触QT，对于其在Windows下部署一头雾水。网上相应的资料<strong><em>很多都是手工程度比较高</em></strong>的，在这里我们可以使用QT自带的发布工具 - <code>windeployqt.exe</code>。</p> 
  <h3 id="部署发布-解决依赖">部署发布 - 解决依赖</h3> 
  <p>该文件在QT的安装目录下，我Windows平台使用的mingw版本(5.8)，其路径为</p> 
  <pre class="prettyprint"><code class=" hljs tex">D:<span class="hljs-command">\Qt</span><span class="hljs-command">\Qt</span>5.8.0\5.8<span class="hljs-command">\mingw</span>53_32<span class="hljs-command">\bin</span><span class="hljs-command">\windeployqt</span>.exe</code></pre> 
  <p>使用Release模式编译程序，然后将对应的<code>exe</code>文件和你自己编写的<code>dll</code>文件复制到一个单独的目录中(假设目录为<code>HelloQT</code>，文件为<code>helloqt.exe</code>)</p> 
  <p>然后在cmd下进入该目录，执行以下命令即可</p> 
  <pre class="prettyprint"><code class=" hljs tex">D:<span class="hljs-command">\Qt</span><span class="hljs-command">\Qt</span>5.8.0\5.8<span class="hljs-command">\mingw</span>53_32<span class="hljs-command">\bin</span><span class="hljs-command">\windeployqt</span>.exe helloqt.exe</code></pre> 
  <p>该命令会在<code>helloqt.exe</code>目录目录下生成(应该是复制)其所需要的依赖项。</p> 
  <blockquote> 
   <p>如果你是基于msvc编译的qt应用，那么此时已经可以运行起来了。 <br> <strong>但是基于mingw编译的qt应用，此时还有3个依赖项没有自动复制过来</strong>，依次是 <br> - <code>libgcc_s_dw2-1.dll</code> <br> - <code>libstdc++-6.dll</code> <br> - <code>libwinpthread-1.dll</code> <br> <strong>这些文件你都可以在目录<code>D:\Qt\Qt5.8.0\Tools\mingw530_32\i686-w64-mingw32\lib</code>下找到。</strong></p> 
  </blockquote> 
  <h3 id="部署发布-打包压缩">部署发布 - 打包压缩</h3> 
  <p>经过上面的步骤，虽然依赖解决了，但是有两个问题</p> 
  <ul> 
   <li>依赖项目非常多</li> 
   <li>文件总体积很大(一个helloworld应用大概会有40+M)</li> 
  </ul> 
  <p>我们可以采取以下措施来解决或者优化上面出现的问题</p> 
  <ul> 
   <li>删除掉不用的DLL文件(我目前对这些不太熟…)</li> 
   <li>用strip命令去掉程序里面一些无用信息</li> 
   <li>使用打包/加壳工具进行打包压缩 <br> 
    <ul>
     <li>Enigma Virtual Box</li> 
     <li>ASPack</li> 
     <li>UPX</li> 
     <li>Flexera (InstallShield安装包制作工具)</li>
    </ul></li> 
   <li>其它优化手段…</li> 
  </ul> 
  <blockquote> 
   <p>待实践</p> 
  </blockquote> 
  <h3 id="参考">参考</h3> 
  <ol> 
   <li><a href="http://blog.csdn.net/hzt12345hf/article/details/51955494" rel="nofollow" target="_blank">如何在Windows下发布QT应用程序</a></li> 
   <li><a href="http://blog.csdn.net/yinyhy/article/details/19990239" rel="nofollow" target="_blank">Qt5应用程序的部署</a></li> 
   <li><a href="http://blog.csdn.net/colorado/article/details/24838697" rel="nofollow" target="_blank">Qt 5.x 应用程序 Windows 部署方法</a></li> 
   <li><a href="http://www.cnblogs.com/Fan_Fan/archive/2010/05/29/1746860.html" rel="nofollow" target="_blank">QT程序在windows下部署发布</a></li> 
   <li><a href="http://stackoverflow.com/questions/21268558/application-failed-to-start-because-it-could-not-find-or-load-the-qt-platform-pl" rel="nofollow" target="_blank">Application failed to start because it could not find or load the QT platform plugin “windows”</a></li> 
   <li><a href="http://doc.qt.io/qt-5/windows-deployment.html" rel="nofollow" target="_blank">Qt for Windows - Deployment</a></li> 
   <li><a href="https://wiki.qt.io/Deploy_an_Application_on_Windows" rel="nofollow" target="_blank">Deploy an Application on Windows</a></li> 
  </ol> 
 </div> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/markdown_views-ea0013b516.css"> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/pcsxk/article/details/70991130,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/pcsxk/article/details/70991130,&quot;}">阅读更多</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0d1dbe5a3e5863242418b768d1601633";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
