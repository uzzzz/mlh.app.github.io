<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>使用rpc命令来转账比特币 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="使用rpc命令来转账比特币" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="&nbsp; 使用rpc命令来转账比特币 1.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;启动regtest网络 ./bitcoind -regtest -reindex -txindex=1-debug –printtoconsole (后面两个参数只是为了通过日志信息查看网络是否正常)，（如果是testnet，高度在120w了，需要同步一个晚上），一般不要带参数 –gen否则挖矿等待的时间更久 2.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;查询当前帐号信息 ./bitcoin-cli -regtest listaccounts { &nbsp;&quot;&quot;: 0.00000000, } 3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;查询帐号对应的地址 ./bitcoin-cli -regtest getaccountaddress&quot;&quot; mkhvaqFXfe268P7Pun7SBebygczF6uYHfr 4.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;充值 A、如果是正式网络，就只能充值了； B、如果是testnet网络，通过下面方法免费充值0.12btc： 到网站http://tpfaucet.appspot.com/输入你的地址和下面的验证码（注意验证码是两个字符串，中间空格分隔，好像写第一个也能成功，如果失败会在验证码图片的上方显示红色文字，否则就没有显示） 到网站https://testnet.blockexplorer.com&nbsp;查询一下，可以看到结果，只是本地继续用上面第二步的命令查看还是0，需要等同步完成 C、如果是regtest网络就很简单了，自己挖矿就有了 先生成101个区块：./bitcoin-cli-regtest generate 101 然后查看账户： ./bitcoin-cli -regtest getbalance 50.00000000 就有50btc了 5.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;新增一个帐号 ./bitcoin-cli -regtest getnewaddress&quot;elikong&quot; mkLjQ1zRdy23yCzgTfym9ey9HDQqE53Zim 下面我们就可以实现目标： 帐号&quot;&quot;地址mkhvaqFXfe268P7Pun7SBebygczF6uYHfr 向帐号&quot;elikong&quot;地址mkLjQ1zRdy23yCzgTfym9ey9HDQqE53Zim 转账0.025btc 6.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;检查未使用的事务列表 ./bitcoin-cli&nbsp;-regtest&nbsp;listunspent [ &nbsp;&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&quot;txid&quot;:&nbsp;&quot;cbef3a6dd778654b7d4087db9250b6dc56aac8425f39ddf27d632bc5ee19e519&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&quot;vout&quot;:&nbsp;0, &nbsp;&nbsp;&nbsp;&nbsp;&quot;address&quot;:&nbsp;&quot;mqTtyk9QjCouetZwkAkg64AfAfNYLKX4Uu&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&quot;scriptPubKey&quot;:&nbsp;&quot;2102d15a26665b8df92a49594f6c69f9682aab6a55d4cd40328d8bf45d964bb4b4f8ac&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&quot;amount&quot;:&nbsp;50.00000000, &nbsp;&nbsp;&nbsp;&nbsp;&quot;confirmations&quot;:&nbsp;101, &nbsp;&nbsp;&nbsp;&nbsp;&quot;spendable&quot;:&nbsp;true &nbsp;&nbsp;} ] &nbsp; 7.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;创建一个转账事务 ./bitcoin-cli -regtest createrawtransaction\ &nbsp;&nbsp;&nbsp;&#39;[{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;txid&quot; :&quot;cbef3a6dd778654b7d4087db9250b6dc56aac8425f39ddf27d632bc5ee19e519&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;vout&quot; : 0 &nbsp;&nbsp;&nbsp;}]&#39; \ &nbsp;&nbsp;&nbsp;&#39;{&quot;mkLjQ1zRdy23yCzgTfym9ey9HDQqE53Zim&quot;: 20,&quot;mkhvaqFXfe268P7Pun7SBebygczF6uYHfr&quot;: 20}&#39; 010000000119e519eec52b637df2dd395f42c8aa56dcb65092db87407d4b6578d76d3aefcb0000000000ffffffff0200943577000000001976a91434e9b40a45238727cec88e9ec12349bce469db5088ac00943577000000001976a91438ebc6c69c5dcc79bb17914db9b527551807941088ac00000000 注意：第一个地址是收款方地址，第二个地址是付款方地址 8.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;用私钥签名 ./bitcoin-cli -regtest signrawtransaction010000000119e519eec52b637df2dd395f42c8aa56dcb65092db87407d4b6578d76d3aefcb0000000000ffffffff0200943577000000001976a91434e9b40a45238727cec88e9ec12349bce469db5088ac00943577000000001976a91438ebc6c69c5dcc79bb17914db9b527551807941088ac00000000 { &nbsp;&quot;hex&quot;:&quot;010000000119e519eec52b637df2dd395f42c8aa56dcb65092db87407d4b6578d76d3aefcb0000000049483045022100bcad3eb5920d476afbbf17026159061526c9988963adefae2b580ae504a77b8b02206d08fb8b178a258d0cba47dce5a750e001ef1f12ca3754d0ef74ab10e7a125f201ffffffff0200943577000000001976a91434e9b40a45238727cec88e9ec12349bce469db5088ac00943577000000001976a91438ebc6c69c5dcc79bb17914db9b527551807941088ac00000000&quot;, &nbsp;&quot;complete&quot;: true } 9.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;广播到p2p网络 ./bitcoin-cli -regtest sendrawtransaction010000000119e519eec52b637df2dd395f42c8aa56dcb65092db87407d4b6578d76d3aefcb0000000049483045022100bcad3eb5920d476afbbf17026159061526c9988963adefae2b580ae504a77b8b02206d08fb8b178a258d0cba47dce5a750e001ef1f12ca3754d0ef74ab10e7a125f201ffffffff0200943577000000001976a91434e9b40a45238727cec88e9ec12349bce469db5088ac00943577000000001976a91438ebc6c69c5dcc79bb17914db9b527551807941088ac00000000true dfa4b5d9447c3d711aa9685d2303426bc96b0fd197c3e37b3efed8cd922fe515 10、验证： 对regtest只好自己挖矿了 ./bitcoin-cli&nbsp;-regtest&nbsp;generate&nbsp;1 ./bitcoin-cli&nbsp;-regtest&nbsp;listaccounts { &nbsp;&nbsp;&quot;&quot;:&nbsp;70.00000000, &nbsp;&nbsp;&quot;elikong&quot;:&nbsp;20.00000000 } 可以看到elikong帐号有了20btc，也可以通过txid查询： 如果是正式网络可以去https://blockchain.info/tx/ dfa4b5d9447c3d711aa9685d2303426bc96b0fd197c3e37b3efed8cd922fe515查看，url的格式就是https://blockchain.info/tx/加上第九步的返回值 如果是testnet就可以去https://testnet.blockexplorer.com查询 当然也可以通过bitcoin-cli查询： ./bitcoin-cli -regtest getrawtransactiondfa4b5d9447c3d711aa9685d2303426bc96b0fd197c3e37b3efed8cd922fe515 1 { &nbsp;&quot;hex&quot;:&quot;010000000119e519eec52b637df2dd395f42c8aa56dcb65092db87407d4b6578d76d3aefcb0000000049483045022100bcad3eb5920d476afbbf17026159061526c9988963adefae2b580ae504a77b8b02206d08fb8b178a258d0cba47dce5a750e001ef1f12ca3754d0ef74ab10e7a125f201ffffffff0200943577000000001976a91434e9b40a45238727cec88e9ec12349bce469db5088ac00943577000000001976a91438ebc6c69c5dcc79bb17914db9b527551807941088ac00000000&quot;, &nbsp;&quot;txid&quot;: &quot;dfa4b5d9447c3d711aa9685d2303426bc96b0fd197c3e37b3efed8cd922fe515&quot;, &nbsp;&quot;size&quot;: 192, &nbsp;&quot;version&quot;: 1, &nbsp;&quot;locktime&quot;: 0, &nbsp;&quot;vin&quot;: [ &nbsp;&nbsp;&nbsp; { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;txid&quot;:&quot;cbef3a6dd778654b7d4087db9250b6dc56aac8425f39ddf27d632bc5ee19e519&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;vout&quot;: 0, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;scriptSig&quot;: { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;asm&quot;:&quot;3045022100bcad3eb5920d476afbbf17026159061526c9988963adefae2b580ae504a77b8b02206d08fb8b178a258d0cba47dce5a750e001ef1f12ca3754d0ef74ab10e7a125f2[ALL]&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;hex&quot;:&quot;483045022100bcad3eb5920d476afbbf17026159061526c9988963adefae2b580ae504a77b8b02206d08fb8b178a258d0cba47dce5a750e001ef1f12ca3754d0ef74ab10e7a125f201&quot; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;sequence&quot;: 4294967295 &nbsp;&nbsp;&nbsp; } &nbsp; ], &nbsp;&quot;vout&quot;: [ &nbsp;&nbsp;&nbsp; { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;value&quot;: 20.00000000, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;n&quot;: 0, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;scriptPubKey&quot;: { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;asm&quot;: &quot;OP_DUP OP_HASH160 34e9b40a45238727cec88e9ec12349bce469db50OP_EQUALVERIFY OP_CHECKSIG&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;hex&quot;:&quot;76a91434e9b40a45238727cec88e9ec12349bce469db5088ac&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;reqSigs&quot;: 1, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;: &quot;pubkeyhash&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;addresses&quot;: [ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;mkLjQ1zRdy23yCzgTfym9ey9HDQqE53Zim&quot; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;}, &nbsp;&nbsp;&nbsp; { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;value&quot;: 20.00000000, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;n&quot;: 1, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;scriptPubKey&quot;: { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;asm&quot;: &quot;OP_DUP OP_HASH16038ebc6c69c5dcc79bb17914db9b5275518079410 OP_EQUALVERIFY OP_CHECKSIG&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;hex&quot;: &quot;76a91438ebc6c69c5dcc79bb17914db9b527551807941088ac&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;reqSigs&quot;: 1, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;: &quot;pubkeyhash&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;addresses&quot;: [ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;mkhvaqFXfe268P7Pun7SBebygczF6uYHfr&quot; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp; } &nbsp; ], &nbsp;&quot;blockhash&quot;:&quot;13c2c1b98b18e6a63399f7e1111c372fab34e5ab77bf8a7c20ed6e2cfbd36449&quot;, &nbsp;&quot;confirmations&quot;: 1, &nbsp;&quot;time&quot;: 1483514222, &nbsp;&quot;blocktime&quot;: 1483514222 } 10.&nbsp;&nbsp;&nbsp;继续转账增加一个留言，我们从第6步开始：检查未使用的事务列表 fddf7a09cf13e7bebb15523aabfb8539120db5e8107b8886586e5a893df9f0b1 11.&nbsp;&nbsp;&nbsp;在转账的同时添加留言 ./bitcoin-cli -regtest createrawtransaction\ &nbsp;&nbsp;&nbsp;&#39;[{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;txid&quot; : &quot;fddf7a09cf13e7bebb15523aabfb8539120db5e8107b8886586e5a893df9f0b1&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;vout&quot; : 0 &nbsp;&nbsp;&nbsp;}]&#39; \ &#39;{&quot;mkLjQ1zRdy23yCzgTfym9ey9HDQqE53Zim&quot;:20, &quot;mkhvaqFXfe268P7Pun7SBebygczF6uYHfr&quot;:20,&quot;data&quot;:&quot;697420697320612074657374&quot;}&#39; 注意data里面的数据必需是16进制，可以去网站http://tool.lu/hexstr/转换一下 12.&nbsp;&nbsp;&nbsp;继续后续的8，9，10步就可以了 阅读更多 登录后自动展开" />
<meta property="og:description" content="&nbsp; 使用rpc命令来转账比特币 1.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;启动regtest网络 ./bitcoind -regtest -reindex -txindex=1-debug –printtoconsole (后面两个参数只是为了通过日志信息查看网络是否正常)，（如果是testnet，高度在120w了，需要同步一个晚上），一般不要带参数 –gen否则挖矿等待的时间更久 2.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;查询当前帐号信息 ./bitcoin-cli -regtest listaccounts { &nbsp;&quot;&quot;: 0.00000000, } 3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;查询帐号对应的地址 ./bitcoin-cli -regtest getaccountaddress&quot;&quot; mkhvaqFXfe268P7Pun7SBebygczF6uYHfr 4.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;充值 A、如果是正式网络，就只能充值了； B、如果是testnet网络，通过下面方法免费充值0.12btc： 到网站http://tpfaucet.appspot.com/输入你的地址和下面的验证码（注意验证码是两个字符串，中间空格分隔，好像写第一个也能成功，如果失败会在验证码图片的上方显示红色文字，否则就没有显示） 到网站https://testnet.blockexplorer.com&nbsp;查询一下，可以看到结果，只是本地继续用上面第二步的命令查看还是0，需要等同步完成 C、如果是regtest网络就很简单了，自己挖矿就有了 先生成101个区块：./bitcoin-cli-regtest generate 101 然后查看账户： ./bitcoin-cli -regtest getbalance 50.00000000 就有50btc了 5.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;新增一个帐号 ./bitcoin-cli -regtest getnewaddress&quot;elikong&quot; mkLjQ1zRdy23yCzgTfym9ey9HDQqE53Zim 下面我们就可以实现目标： 帐号&quot;&quot;地址mkhvaqFXfe268P7Pun7SBebygczF6uYHfr 向帐号&quot;elikong&quot;地址mkLjQ1zRdy23yCzgTfym9ey9HDQqE53Zim 转账0.025btc 6.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;检查未使用的事务列表 ./bitcoin-cli&nbsp;-regtest&nbsp;listunspent [ &nbsp;&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&quot;txid&quot;:&nbsp;&quot;cbef3a6dd778654b7d4087db9250b6dc56aac8425f39ddf27d632bc5ee19e519&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&quot;vout&quot;:&nbsp;0, &nbsp;&nbsp;&nbsp;&nbsp;&quot;address&quot;:&nbsp;&quot;mqTtyk9QjCouetZwkAkg64AfAfNYLKX4Uu&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&quot;scriptPubKey&quot;:&nbsp;&quot;2102d15a26665b8df92a49594f6c69f9682aab6a55d4cd40328d8bf45d964bb4b4f8ac&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&quot;amount&quot;:&nbsp;50.00000000, &nbsp;&nbsp;&nbsp;&nbsp;&quot;confirmations&quot;:&nbsp;101, &nbsp;&nbsp;&nbsp;&nbsp;&quot;spendable&quot;:&nbsp;true &nbsp;&nbsp;} ] &nbsp; 7.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;创建一个转账事务 ./bitcoin-cli -regtest createrawtransaction\ &nbsp;&nbsp;&nbsp;&#39;[{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;txid&quot; :&quot;cbef3a6dd778654b7d4087db9250b6dc56aac8425f39ddf27d632bc5ee19e519&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;vout&quot; : 0 &nbsp;&nbsp;&nbsp;}]&#39; \ &nbsp;&nbsp;&nbsp;&#39;{&quot;mkLjQ1zRdy23yCzgTfym9ey9HDQqE53Zim&quot;: 20,&quot;mkhvaqFXfe268P7Pun7SBebygczF6uYHfr&quot;: 20}&#39; 010000000119e519eec52b637df2dd395f42c8aa56dcb65092db87407d4b6578d76d3aefcb0000000000ffffffff0200943577000000001976a91434e9b40a45238727cec88e9ec12349bce469db5088ac00943577000000001976a91438ebc6c69c5dcc79bb17914db9b527551807941088ac00000000 注意：第一个地址是收款方地址，第二个地址是付款方地址 8.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;用私钥签名 ./bitcoin-cli -regtest signrawtransaction010000000119e519eec52b637df2dd395f42c8aa56dcb65092db87407d4b6578d76d3aefcb0000000000ffffffff0200943577000000001976a91434e9b40a45238727cec88e9ec12349bce469db5088ac00943577000000001976a91438ebc6c69c5dcc79bb17914db9b527551807941088ac00000000 { &nbsp;&quot;hex&quot;:&quot;010000000119e519eec52b637df2dd395f42c8aa56dcb65092db87407d4b6578d76d3aefcb0000000049483045022100bcad3eb5920d476afbbf17026159061526c9988963adefae2b580ae504a77b8b02206d08fb8b178a258d0cba47dce5a750e001ef1f12ca3754d0ef74ab10e7a125f201ffffffff0200943577000000001976a91434e9b40a45238727cec88e9ec12349bce469db5088ac00943577000000001976a91438ebc6c69c5dcc79bb17914db9b527551807941088ac00000000&quot;, &nbsp;&quot;complete&quot;: true } 9.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;广播到p2p网络 ./bitcoin-cli -regtest sendrawtransaction010000000119e519eec52b637df2dd395f42c8aa56dcb65092db87407d4b6578d76d3aefcb0000000049483045022100bcad3eb5920d476afbbf17026159061526c9988963adefae2b580ae504a77b8b02206d08fb8b178a258d0cba47dce5a750e001ef1f12ca3754d0ef74ab10e7a125f201ffffffff0200943577000000001976a91434e9b40a45238727cec88e9ec12349bce469db5088ac00943577000000001976a91438ebc6c69c5dcc79bb17914db9b527551807941088ac00000000true dfa4b5d9447c3d711aa9685d2303426bc96b0fd197c3e37b3efed8cd922fe515 10、验证： 对regtest只好自己挖矿了 ./bitcoin-cli&nbsp;-regtest&nbsp;generate&nbsp;1 ./bitcoin-cli&nbsp;-regtest&nbsp;listaccounts { &nbsp;&nbsp;&quot;&quot;:&nbsp;70.00000000, &nbsp;&nbsp;&quot;elikong&quot;:&nbsp;20.00000000 } 可以看到elikong帐号有了20btc，也可以通过txid查询： 如果是正式网络可以去https://blockchain.info/tx/ dfa4b5d9447c3d711aa9685d2303426bc96b0fd197c3e37b3efed8cd922fe515查看，url的格式就是https://blockchain.info/tx/加上第九步的返回值 如果是testnet就可以去https://testnet.blockexplorer.com查询 当然也可以通过bitcoin-cli查询： ./bitcoin-cli -regtest getrawtransactiondfa4b5d9447c3d711aa9685d2303426bc96b0fd197c3e37b3efed8cd922fe515 1 { &nbsp;&quot;hex&quot;:&quot;010000000119e519eec52b637df2dd395f42c8aa56dcb65092db87407d4b6578d76d3aefcb0000000049483045022100bcad3eb5920d476afbbf17026159061526c9988963adefae2b580ae504a77b8b02206d08fb8b178a258d0cba47dce5a750e001ef1f12ca3754d0ef74ab10e7a125f201ffffffff0200943577000000001976a91434e9b40a45238727cec88e9ec12349bce469db5088ac00943577000000001976a91438ebc6c69c5dcc79bb17914db9b527551807941088ac00000000&quot;, &nbsp;&quot;txid&quot;: &quot;dfa4b5d9447c3d711aa9685d2303426bc96b0fd197c3e37b3efed8cd922fe515&quot;, &nbsp;&quot;size&quot;: 192, &nbsp;&quot;version&quot;: 1, &nbsp;&quot;locktime&quot;: 0, &nbsp;&quot;vin&quot;: [ &nbsp;&nbsp;&nbsp; { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;txid&quot;:&quot;cbef3a6dd778654b7d4087db9250b6dc56aac8425f39ddf27d632bc5ee19e519&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;vout&quot;: 0, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;scriptSig&quot;: { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;asm&quot;:&quot;3045022100bcad3eb5920d476afbbf17026159061526c9988963adefae2b580ae504a77b8b02206d08fb8b178a258d0cba47dce5a750e001ef1f12ca3754d0ef74ab10e7a125f2[ALL]&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;hex&quot;:&quot;483045022100bcad3eb5920d476afbbf17026159061526c9988963adefae2b580ae504a77b8b02206d08fb8b178a258d0cba47dce5a750e001ef1f12ca3754d0ef74ab10e7a125f201&quot; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;sequence&quot;: 4294967295 &nbsp;&nbsp;&nbsp; } &nbsp; ], &nbsp;&quot;vout&quot;: [ &nbsp;&nbsp;&nbsp; { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;value&quot;: 20.00000000, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;n&quot;: 0, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;scriptPubKey&quot;: { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;asm&quot;: &quot;OP_DUP OP_HASH160 34e9b40a45238727cec88e9ec12349bce469db50OP_EQUALVERIFY OP_CHECKSIG&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;hex&quot;:&quot;76a91434e9b40a45238727cec88e9ec12349bce469db5088ac&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;reqSigs&quot;: 1, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;: &quot;pubkeyhash&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;addresses&quot;: [ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;mkLjQ1zRdy23yCzgTfym9ey9HDQqE53Zim&quot; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;}, &nbsp;&nbsp;&nbsp; { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;value&quot;: 20.00000000, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;n&quot;: 1, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;scriptPubKey&quot;: { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;asm&quot;: &quot;OP_DUP OP_HASH16038ebc6c69c5dcc79bb17914db9b5275518079410 OP_EQUALVERIFY OP_CHECKSIG&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;hex&quot;: &quot;76a91438ebc6c69c5dcc79bb17914db9b527551807941088ac&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;reqSigs&quot;: 1, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;: &quot;pubkeyhash&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;addresses&quot;: [ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;mkhvaqFXfe268P7Pun7SBebygczF6uYHfr&quot; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp; } &nbsp; ], &nbsp;&quot;blockhash&quot;:&quot;13c2c1b98b18e6a63399f7e1111c372fab34e5ab77bf8a7c20ed6e2cfbd36449&quot;, &nbsp;&quot;confirmations&quot;: 1, &nbsp;&quot;time&quot;: 1483514222, &nbsp;&quot;blocktime&quot;: 1483514222 } 10.&nbsp;&nbsp;&nbsp;继续转账增加一个留言，我们从第6步开始：检查未使用的事务列表 fddf7a09cf13e7bebb15523aabfb8539120db5e8107b8886586e5a893df9f0b1 11.&nbsp;&nbsp;&nbsp;在转账的同时添加留言 ./bitcoin-cli -regtest createrawtransaction\ &nbsp;&nbsp;&nbsp;&#39;[{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;txid&quot; : &quot;fddf7a09cf13e7bebb15523aabfb8539120db5e8107b8886586e5a893df9f0b1&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;vout&quot; : 0 &nbsp;&nbsp;&nbsp;}]&#39; \ &#39;{&quot;mkLjQ1zRdy23yCzgTfym9ey9HDQqE53Zim&quot;:20, &quot;mkhvaqFXfe268P7Pun7SBebygczF6uYHfr&quot;:20,&quot;data&quot;:&quot;697420697320612074657374&quot;}&#39; 注意data里面的数据必需是16进制，可以去网站http://tool.lu/hexstr/转换一下 12.&nbsp;&nbsp;&nbsp;继续后续的8，9，10步就可以了 阅读更多 登录后自动展开" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-09-07T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"&nbsp; 使用rpc命令来转账比特币 1.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;启动regtest网络 ./bitcoind -regtest -reindex -txindex=1-debug –printtoconsole (后面两个参数只是为了通过日志信息查看网络是否正常)，（如果是testnet，高度在120w了，需要同步一个晚上），一般不要带参数 –gen否则挖矿等待的时间更久 2.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;查询当前帐号信息 ./bitcoin-cli -regtest listaccounts { &nbsp;&quot;&quot;: 0.00000000, } 3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;查询帐号对应的地址 ./bitcoin-cli -regtest getaccountaddress&quot;&quot; mkhvaqFXfe268P7Pun7SBebygczF6uYHfr 4.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;充值 A、如果是正式网络，就只能充值了； B、如果是testnet网络，通过下面方法免费充值0.12btc： 到网站http://tpfaucet.appspot.com/输入你的地址和下面的验证码（注意验证码是两个字符串，中间空格分隔，好像写第一个也能成功，如果失败会在验证码图片的上方显示红色文字，否则就没有显示） 到网站https://testnet.blockexplorer.com&nbsp;查询一下，可以看到结果，只是本地继续用上面第二步的命令查看还是0，需要等同步完成 C、如果是regtest网络就很简单了，自己挖矿就有了 先生成101个区块：./bitcoin-cli-regtest generate 101 然后查看账户： ./bitcoin-cli -regtest getbalance 50.00000000 就有50btc了 5.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;新增一个帐号 ./bitcoin-cli -regtest getnewaddress&quot;elikong&quot; mkLjQ1zRdy23yCzgTfym9ey9HDQqE53Zim 下面我们就可以实现目标： 帐号&quot;&quot;地址mkhvaqFXfe268P7Pun7SBebygczF6uYHfr 向帐号&quot;elikong&quot;地址mkLjQ1zRdy23yCzgTfym9ey9HDQqE53Zim 转账0.025btc 6.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;检查未使用的事务列表 ./bitcoin-cli&nbsp;-regtest&nbsp;listunspent [ &nbsp;&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&quot;txid&quot;:&nbsp;&quot;cbef3a6dd778654b7d4087db9250b6dc56aac8425f39ddf27d632bc5ee19e519&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&quot;vout&quot;:&nbsp;0, &nbsp;&nbsp;&nbsp;&nbsp;&quot;address&quot;:&nbsp;&quot;mqTtyk9QjCouetZwkAkg64AfAfNYLKX4Uu&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&quot;scriptPubKey&quot;:&nbsp;&quot;2102d15a26665b8df92a49594f6c69f9682aab6a55d4cd40328d8bf45d964bb4b4f8ac&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&quot;amount&quot;:&nbsp;50.00000000, &nbsp;&nbsp;&nbsp;&nbsp;&quot;confirmations&quot;:&nbsp;101, &nbsp;&nbsp;&nbsp;&nbsp;&quot;spendable&quot;:&nbsp;true &nbsp;&nbsp;} ] &nbsp; 7.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;创建一个转账事务 ./bitcoin-cli -regtest createrawtransaction\\ &nbsp;&nbsp;&nbsp;&#39;[{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;txid&quot; :&quot;cbef3a6dd778654b7d4087db9250b6dc56aac8425f39ddf27d632bc5ee19e519&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;vout&quot; : 0 &nbsp;&nbsp;&nbsp;}]&#39; \\ &nbsp;&nbsp;&nbsp;&#39;{&quot;mkLjQ1zRdy23yCzgTfym9ey9HDQqE53Zim&quot;: 20,&quot;mkhvaqFXfe268P7Pun7SBebygczF6uYHfr&quot;: 20}&#39; 010000000119e519eec52b637df2dd395f42c8aa56dcb65092db87407d4b6578d76d3aefcb0000000000ffffffff0200943577000000001976a91434e9b40a45238727cec88e9ec12349bce469db5088ac00943577000000001976a91438ebc6c69c5dcc79bb17914db9b527551807941088ac00000000 注意：第一个地址是收款方地址，第二个地址是付款方地址 8.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;用私钥签名 ./bitcoin-cli -regtest signrawtransaction010000000119e519eec52b637df2dd395f42c8aa56dcb65092db87407d4b6578d76d3aefcb0000000000ffffffff0200943577000000001976a91434e9b40a45238727cec88e9ec12349bce469db5088ac00943577000000001976a91438ebc6c69c5dcc79bb17914db9b527551807941088ac00000000 { &nbsp;&quot;hex&quot;:&quot;010000000119e519eec52b637df2dd395f42c8aa56dcb65092db87407d4b6578d76d3aefcb0000000049483045022100bcad3eb5920d476afbbf17026159061526c9988963adefae2b580ae504a77b8b02206d08fb8b178a258d0cba47dce5a750e001ef1f12ca3754d0ef74ab10e7a125f201ffffffff0200943577000000001976a91434e9b40a45238727cec88e9ec12349bce469db5088ac00943577000000001976a91438ebc6c69c5dcc79bb17914db9b527551807941088ac00000000&quot;, &nbsp;&quot;complete&quot;: true } 9.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;广播到p2p网络 ./bitcoin-cli -regtest sendrawtransaction010000000119e519eec52b637df2dd395f42c8aa56dcb65092db87407d4b6578d76d3aefcb0000000049483045022100bcad3eb5920d476afbbf17026159061526c9988963adefae2b580ae504a77b8b02206d08fb8b178a258d0cba47dce5a750e001ef1f12ca3754d0ef74ab10e7a125f201ffffffff0200943577000000001976a91434e9b40a45238727cec88e9ec12349bce469db5088ac00943577000000001976a91438ebc6c69c5dcc79bb17914db9b527551807941088ac00000000true dfa4b5d9447c3d711aa9685d2303426bc96b0fd197c3e37b3efed8cd922fe515 10、验证： 对regtest只好自己挖矿了 ./bitcoin-cli&nbsp;-regtest&nbsp;generate&nbsp;1 ./bitcoin-cli&nbsp;-regtest&nbsp;listaccounts { &nbsp;&nbsp;&quot;&quot;:&nbsp;70.00000000, &nbsp;&nbsp;&quot;elikong&quot;:&nbsp;20.00000000 } 可以看到elikong帐号有了20btc，也可以通过txid查询： 如果是正式网络可以去https://blockchain.info/tx/ dfa4b5d9447c3d711aa9685d2303426bc96b0fd197c3e37b3efed8cd922fe515查看，url的格式就是https://blockchain.info/tx/加上第九步的返回值 如果是testnet就可以去https://testnet.blockexplorer.com查询 当然也可以通过bitcoin-cli查询： ./bitcoin-cli -regtest getrawtransactiondfa4b5d9447c3d711aa9685d2303426bc96b0fd197c3e37b3efed8cd922fe515 1 { &nbsp;&quot;hex&quot;:&quot;010000000119e519eec52b637df2dd395f42c8aa56dcb65092db87407d4b6578d76d3aefcb0000000049483045022100bcad3eb5920d476afbbf17026159061526c9988963adefae2b580ae504a77b8b02206d08fb8b178a258d0cba47dce5a750e001ef1f12ca3754d0ef74ab10e7a125f201ffffffff0200943577000000001976a91434e9b40a45238727cec88e9ec12349bce469db5088ac00943577000000001976a91438ebc6c69c5dcc79bb17914db9b527551807941088ac00000000&quot;, &nbsp;&quot;txid&quot;: &quot;dfa4b5d9447c3d711aa9685d2303426bc96b0fd197c3e37b3efed8cd922fe515&quot;, &nbsp;&quot;size&quot;: 192, &nbsp;&quot;version&quot;: 1, &nbsp;&quot;locktime&quot;: 0, &nbsp;&quot;vin&quot;: [ &nbsp;&nbsp;&nbsp; { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;txid&quot;:&quot;cbef3a6dd778654b7d4087db9250b6dc56aac8425f39ddf27d632bc5ee19e519&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;vout&quot;: 0, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;scriptSig&quot;: { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;asm&quot;:&quot;3045022100bcad3eb5920d476afbbf17026159061526c9988963adefae2b580ae504a77b8b02206d08fb8b178a258d0cba47dce5a750e001ef1f12ca3754d0ef74ab10e7a125f2[ALL]&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;hex&quot;:&quot;483045022100bcad3eb5920d476afbbf17026159061526c9988963adefae2b580ae504a77b8b02206d08fb8b178a258d0cba47dce5a750e001ef1f12ca3754d0ef74ab10e7a125f201&quot; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;sequence&quot;: 4294967295 &nbsp;&nbsp;&nbsp; } &nbsp; ], &nbsp;&quot;vout&quot;: [ &nbsp;&nbsp;&nbsp; { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;value&quot;: 20.00000000, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;n&quot;: 0, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;scriptPubKey&quot;: { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;asm&quot;: &quot;OP_DUP OP_HASH160 34e9b40a45238727cec88e9ec12349bce469db50OP_EQUALVERIFY OP_CHECKSIG&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;hex&quot;:&quot;76a91434e9b40a45238727cec88e9ec12349bce469db5088ac&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;reqSigs&quot;: 1, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;: &quot;pubkeyhash&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;addresses&quot;: [ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;mkLjQ1zRdy23yCzgTfym9ey9HDQqE53Zim&quot; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;}, &nbsp;&nbsp;&nbsp; { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;value&quot;: 20.00000000, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;n&quot;: 1, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;scriptPubKey&quot;: { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;asm&quot;: &quot;OP_DUP OP_HASH16038ebc6c69c5dcc79bb17914db9b5275518079410 OP_EQUALVERIFY OP_CHECKSIG&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;hex&quot;: &quot;76a91438ebc6c69c5dcc79bb17914db9b527551807941088ac&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;reqSigs&quot;: 1, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;: &quot;pubkeyhash&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;addresses&quot;: [ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;mkhvaqFXfe268P7Pun7SBebygczF6uYHfr&quot; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp; } &nbsp; ], &nbsp;&quot;blockhash&quot;:&quot;13c2c1b98b18e6a63399f7e1111c372fab34e5ab77bf8a7c20ed6e2cfbd36449&quot;, &nbsp;&quot;confirmations&quot;: 1, &nbsp;&quot;time&quot;: 1483514222, &nbsp;&quot;blocktime&quot;: 1483514222 } 10.&nbsp;&nbsp;&nbsp;继续转账增加一个留言，我们从第6步开始：检查未使用的事务列表 fddf7a09cf13e7bebb15523aabfb8539120db5e8107b8886586e5a893df9f0b1 11.&nbsp;&nbsp;&nbsp;在转账的同时添加留言 ./bitcoin-cli -regtest createrawtransaction\\ &nbsp;&nbsp;&nbsp;&#39;[{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;txid&quot; : &quot;fddf7a09cf13e7bebb15523aabfb8539120db5e8107b8886586e5a893df9f0b1&quot;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;vout&quot; : 0 &nbsp;&nbsp;&nbsp;}]&#39; \\ &#39;{&quot;mkLjQ1zRdy23yCzgTfym9ey9HDQqE53Zim&quot;:20, &quot;mkhvaqFXfe268P7Pun7SBebygczF6uYHfr&quot;:20,&quot;data&quot;:&quot;697420697320612074657374&quot;}&#39; 注意data里面的数据必需是16进制，可以去网站http://tool.lu/hexstr/转换一下 12.&nbsp;&nbsp;&nbsp;继续后续的8，9，10步就可以了 阅读更多 登录后自动展开","@type":"BlogPosting","url":"/2018/09/07/8f0c02dffead7e7bffa0e980a8e6993a.html","headline":"使用rpc命令来转账比特币","dateModified":"2018-09-07T00:00:00+08:00","datePublished":"2018-09-07T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/2018/09/07/8f0c02dffead7e7bffa0e980a8e6993a.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-1');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>使用rpc命令来转账比特币</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css"> 
 <div class="htmledit_views"> 
  <h1>&nbsp;</h1> 
  <p>使用rpc命令来转账比特币</p> 
  <p>1.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;启动regtest网络</p> 
  <p>./bitcoind -regtest -reindex -txindex=1-debug –printtoconsole (后面两个参数只是为了通过日志信息查看网络是否正常)，（如果是testnet，高度在120w了，需要同步一个晚上），一般不要带参数 –gen否则挖矿等待的时间更久</p> 
  <p>2.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;查询当前帐号信息</p> 
  <p>./bitcoin-cli -regtest listaccounts</p> 
  <p>{</p> 
  <p>&nbsp;"": 0.00000000,</p> 
  <p>}</p> 
  <p>3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;查询帐号对应的地址</p> 
  <p>./bitcoin-cli -regtest getaccountaddress""</p> 
  <p>mkhvaqFXfe268P7Pun7SBebygczF6uYHfr</p> 
  <p>4.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;充值</p> 
  <p>A、如果是正式网络，就只能充值了；</p> 
  <p>B、如果是testnet网络，通过下面方法免费充值0.12btc：</p> 
  <p>到网站<a href="http://tpfaucet.appspot.com/" rel="nofollow">http://tpfaucet.appspot.com/</a>输入你的地址和下面的验证码（注意验证码是两个字符串，中间空格分隔，好像写第一个也能成功，如果失败会在验证码图片的上方显示红色文字，否则就没有显示）</p> 
  <p>到网站<a href="https://testnet.blockexplorer.com/" rel="nofollow">https://testnet.blockexplorer.com</a>&nbsp;查询一下，可以看到结果，只是本地继续用上面第二步的命令查看还是0，需要等同步完成</p> 
  <p>C、如果是regtest网络就很简单了，自己挖矿就有了</p> 
  <p>先生成101个区块：./bitcoin-cli-regtest generate 101</p> 
  <p>然后查看账户：</p> 
  <p>./bitcoin-cli -regtest getbalance</p> 
  <p>50.00000000</p> 
  <p>就有50btc了</p> 
  <p>5.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;新增一个帐号</p> 
  <p>./bitcoin-cli -regtest getnewaddress"elikong"</p> 
  <p>mkLjQ1zRdy23yCzgTfym9ey9HDQqE53Zim</p> 
  <p>下面我们就可以实现目标：</p> 
  <p>帐号""地址mkhvaqFXfe268P7Pun7SBebygczF6uYHfr</p> 
  <p>向帐号"elikong"地址mkLjQ1zRdy23yCzgTfym9ey9HDQqE53Zim</p> 
  <p>转账0.025btc</p> 
  <p>6.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;检查未使用的事务列表</p> 
  <p>./bitcoin-cli&nbsp;-regtest&nbsp;listunspent<br> [<br> &nbsp;&nbsp;{<br> &nbsp;&nbsp;&nbsp;&nbsp;"txid":&nbsp;"cbef3a6dd778654b7d4087db9250b6dc56aac8425f39ddf27d632bc5ee19e519",<br> &nbsp;&nbsp;&nbsp;&nbsp;"vout":&nbsp;0,<br> &nbsp;&nbsp;&nbsp;&nbsp;"address":&nbsp;"mqTtyk9QjCouetZwkAkg64AfAfNYLKX4Uu",<br> &nbsp;&nbsp;&nbsp;&nbsp;"scriptPubKey":&nbsp;"2102d15a26665b8df92a49594f6c69f9682aab6a55d4cd40328d8bf45d964bb4b4f8ac",<br> &nbsp;&nbsp;&nbsp;&nbsp;"amount":&nbsp;50.00000000,<br> &nbsp;&nbsp;&nbsp;&nbsp;"confirmations":&nbsp;101,<br> &nbsp;&nbsp;&nbsp;&nbsp;"spendable":&nbsp;true<br> &nbsp;&nbsp;}<br> ]</p> 
  <p>&nbsp;</p> 
  <p>7.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;创建一个转账事务</p> 
  <p>./bitcoin-cli -regtest createrawtransaction\</p> 
  <p>&nbsp;&nbsp;&nbsp;'[{</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"txid" :"cbef3a6dd778654b7d4087db9250b6dc56aac8425f39ddf27d632bc5ee19e519",</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"vout" : 0</p> 
  <p>&nbsp;&nbsp;&nbsp;}]' \</p> 
  <p>&nbsp;&nbsp;&nbsp;'{"mkLjQ1zRdy23yCzgTfym9ey9HDQqE53Zim": 20,"mkhvaqFXfe268P7Pun7SBebygczF6uYHfr": 20}'</p> 
  <p>010000000119e519eec52b637df2dd395f42c8aa56dcb65092db87407d4b6578d76d3aefcb0000000000ffffffff0200943577000000001976a91434e9b40a45238727cec88e9ec12349bce469db5088ac00943577000000001976a91438ebc6c69c5dcc79bb17914db9b527551807941088ac00000000</p> 
  <p>注意：第一个地址是收款方地址，第二个地址是付款方地址</p> 
  <p>8.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;用私钥签名</p> 
  <p>./bitcoin-cli -regtest signrawtransaction010000000119e519eec52b637df2dd395f42c8aa56dcb65092db87407d4b6578d76d3aefcb0000000000ffffffff0200943577000000001976a91434e9b40a45238727cec88e9ec12349bce469db5088ac00943577000000001976a91438ebc6c69c5dcc79bb17914db9b527551807941088ac00000000</p> 
  <p>{</p> 
  <p>&nbsp;"hex":"010000000119e519eec52b637df2dd395f42c8aa56dcb65092db87407d4b6578d76d3aefcb0000000049483045022100bcad3eb5920d476afbbf17026159061526c9988963adefae2b580ae504a77b8b02206d08fb8b178a258d0cba47dce5a750e001ef1f12ca3754d0ef74ab10e7a125f201ffffffff0200943577000000001976a91434e9b40a45238727cec88e9ec12349bce469db5088ac00943577000000001976a91438ebc6c69c5dcc79bb17914db9b527551807941088ac00000000",</p> 
  <p>&nbsp;"complete": true</p> 
  <p>}</p> 
  <p>9.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;广播到p2p网络</p> 
  <p>./bitcoin-cli -regtest sendrawtransaction010000000119e519eec52b637df2dd395f42c8aa56dcb65092db87407d4b6578d76d3aefcb0000000049483045022100bcad3eb5920d476afbbf17026159061526c9988963adefae2b580ae504a77b8b02206d08fb8b178a258d0cba47dce5a750e001ef1f12ca3754d0ef74ab10e7a125f201ffffffff0200943577000000001976a91434e9b40a45238727cec88e9ec12349bce469db5088ac00943577000000001976a91438ebc6c69c5dcc79bb17914db9b527551807941088ac00000000true</p> 
  <p>dfa4b5d9447c3d711aa9685d2303426bc96b0fd197c3e37b3efed8cd922fe515</p> 
  <p>10、验证：</p> 
  <p>对regtest只好自己挖矿了</p> 
  <p>./bitcoin-cli&nbsp;-regtest&nbsp;generate&nbsp;1</p> 
  <p>./bitcoin-cli&nbsp;-regtest&nbsp;listaccounts<br> {<br> &nbsp;&nbsp;"":&nbsp;70.00000000,<br> &nbsp;&nbsp;"elikong":&nbsp;20.00000000<br> }</p> 
  <p>可以看到elikong帐号有了20btc，也可以通过txid查询：</p> 
  <p>如果是正式网络可以去https://blockchain.info/tx/ dfa4b5d9447c3d711aa9685d2303426bc96b0fd197c3e37b3efed8cd922fe515查看，url的格式就是<a href="https://blockchain.info/tx/" rel="nofollow">https://blockchain.info/tx/</a>加上第九步的返回值</p> 
  <p>如果是testnet就可以去<a href="https://testnet.blockexplorer.com/" rel="nofollow">https://testnet.blockexplorer.com</a>查询</p> 
  <p>当然也可以通过bitcoin-cli查询：</p> 
  <p>./bitcoin-cli -regtest getrawtransactiondfa4b5d9447c3d711aa9685d2303426bc96b0fd197c3e37b3efed8cd922fe515 1</p> 
  <p>{</p> 
  <p>&nbsp;"hex":"010000000119e519eec52b637df2dd395f42c8aa56dcb65092db87407d4b6578d76d3aefcb0000000049483045022100bcad3eb5920d476afbbf17026159061526c9988963adefae2b580ae504a77b8b02206d08fb8b178a258d0cba47dce5a750e001ef1f12ca3754d0ef74ab10e7a125f201ffffffff0200943577000000001976a91434e9b40a45238727cec88e9ec12349bce469db5088ac00943577000000001976a91438ebc6c69c5dcc79bb17914db9b527551807941088ac00000000",</p> 
  <p>&nbsp;"txid": "dfa4b5d9447c3d711aa9685d2303426bc96b0fd197c3e37b3efed8cd922fe515",</p> 
  <p>&nbsp;"size": 192,</p> 
  <p>&nbsp;"version": 1,</p> 
  <p>&nbsp;"locktime": 0,</p> 
  <p>&nbsp;"vin": [</p> 
  <p>&nbsp;&nbsp;&nbsp; {</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"txid":"cbef3a6dd778654b7d4087db9250b6dc56aac8425f39ddf27d632bc5ee19e519",</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"vout": 0,</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"scriptSig": {</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"asm":"3045022100bcad3eb5920d476afbbf17026159061526c9988963adefae2b580ae504a77b8b02206d08fb8b178a258d0cba47dce5a750e001ef1f12ca3754d0ef74ab10e7a125f2[ALL]",</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"hex":"483045022100bcad3eb5920d476afbbf17026159061526c9988963adefae2b580ae504a77b8b02206d08fb8b178a258d0cba47dce5a750e001ef1f12ca3754d0ef74ab10e7a125f201"</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"sequence": 4294967295</p> 
  <p>&nbsp;&nbsp;&nbsp; }</p> 
  <p>&nbsp; ],</p> 
  <p>&nbsp;"vout": [</p> 
  <p>&nbsp;&nbsp;&nbsp; {</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"value": 20.00000000,</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"n": 0,</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"scriptPubKey": {</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"asm": "OP_DUP OP_HASH160 34e9b40a45238727cec88e9ec12349bce469db50OP_EQUALVERIFY OP_CHECKSIG",</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"hex":"76a91434e9b40a45238727cec88e9ec12349bce469db5088ac",</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"reqSigs": 1,</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"type": "pubkeyhash",</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"addresses": [</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"mkLjQ1zRdy23yCzgTfym9ey9HDQqE53Zim"</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p> 
  <p>&nbsp;&nbsp;&nbsp;},</p> 
  <p>&nbsp;&nbsp;&nbsp; {</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"value": 20.00000000,</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"n": 1,</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"scriptPubKey": {</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"asm": "OP_DUP OP_HASH16038ebc6c69c5dcc79bb17914db9b5275518079410 OP_EQUALVERIFY OP_CHECKSIG",</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"hex": "76a91438ebc6c69c5dcc79bb17914db9b527551807941088ac",</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"reqSigs": 1,</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"type": "pubkeyhash",</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"addresses": [</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"mkhvaqFXfe268P7Pun7SBebygczF6uYHfr"</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p> 
  <p>&nbsp;&nbsp;&nbsp; }</p> 
  <p>&nbsp; ],</p> 
  <p>&nbsp;"blockhash":"13c2c1b98b18e6a63399f7e1111c372fab34e5ab77bf8a7c20ed6e2cfbd36449",</p> 
  <p>&nbsp;"confirmations": 1,</p> 
  <p>&nbsp;"time": 1483514222,</p> 
  <p>&nbsp;"blocktime": 1483514222</p> 
  <p>}</p> 
  <p>10.&nbsp;&nbsp;&nbsp;继续转账增加一个留言，我们从第6步开始：检查未使用的事务列表</p> 
  <p>fddf7a09cf13e7bebb15523aabfb8539120db5e8107b8886586e5a893df9f0b1</p> 
  <p>11.&nbsp;&nbsp;&nbsp;在转账的同时添加留言</p> 
  <p>./bitcoin-cli -regtest createrawtransaction\</p> 
  <p>&nbsp;&nbsp;&nbsp;'[{</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"txid" : "fddf7a09cf13e7bebb15523aabfb8539120db5e8107b8886586e5a893df9f0b1",</p> 
  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"vout" : 0</p> 
  <p>&nbsp;&nbsp;&nbsp;}]' \</p> 
  <p>'{"mkLjQ1zRdy23yCzgTfym9ey9HDQqE53Zim":20, "mkhvaqFXfe268P7Pun7SBebygczF6uYHfr":20,"data":"697420697320612074657374"}'</p> 
  <p>注意data里面的数据必需是16进制，可以去网站<a href="http://tool.lu/hexstr/" rel="nofollow">http://tool.lu/hexstr/</a>转换一下</p> 
  <p>12.&nbsp;&nbsp;&nbsp;继续后续的8，9，10步就可以了</p> 
 </div> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/ffzhihua/article/details/82501431,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/ffzhihua/article/details/82501431,&quot;}">阅读更多</a> 
 <a class="btn" href="https://passport.csdn.net/account/login?utm_source=csdn_blog_pc_more_login" target="_self" id="btn-lobinreadmore" data-track-view="{&quot;mod&quot;:&quot;popu_557&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/ffzhihua/article/details/82501431,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_557&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/ffzhihua/article/details/82501431,&quot;}">登录后自动展开</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?ee64533f3c6a7a284cd39a37ee732c8b";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
