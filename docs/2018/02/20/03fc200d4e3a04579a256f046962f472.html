<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>区块链学习(四、1.0，比特币) | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="区块链学习(四、1.0，比特币)" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="&nbsp; &nbsp;&nbsp; 继续看图来进行学习 比特币作为区块链的首个广为人知的产品，我们首先得知道它是什么，用来干什么 &nbsp;&nbsp;&nbsp;比特币（英语：Bitcoin）是一种去中心化，非普遍全球可支付的电子加密货币 &nbsp; &nbsp;然后，比特币有那些特性？用来解决哪些问题？ &nbsp; &nbsp; 特性： &nbsp; &nbsp;1、所有人可以进行监管，流通信息公开的 &nbsp; &nbsp;2、发行周期固定，不受人为控制，总数固定，无法增发 &nbsp; &nbsp;3、去中心化的交易验证 &nbsp; &nbsp;4、安全 &nbsp; &nbsp; 解决哪些问题： &nbsp; &nbsp; 其实总结的话就一句话：解决实体货币的弊端，分开来说的话大概是以下几点 &nbsp; &nbsp; 1、便携 &nbsp; &nbsp; 2、易于防伪 &nbsp; &nbsp; 3、易于辩伪 &nbsp; &nbsp; 4、节约资源 &nbsp; &nbsp; 5、发行不随意 &nbsp; &nbsp;然后，我们可以看到，比特币除了基本的区块链特性以外，还有有三大主要组成部分 闪电网络、数字钱包、挖矿 在说以上万个概念之前，我们得对比特币运行的一个流程有一个认识，就是比特币是如何运行的？ 这三个概念，我们得从挖矿说起 1、挖矿 相信在比特币中，最需要了解的就是挖矿了，在我看来，挖矿有以下几个意义 1、货币发行 2、增加区块以及算力 3、记账 挖矿说明： 挖矿是参与维护比特币网络的节点，通过协助生成新区块来获取一定量新增的比特币 1、矿工们在挖矿过程中会得到两种奖励：创建新区块的新币奖励（货币发行），以及区块中所含交易的交易费 2、当用户发布交易后，需要有人将交易进行确认，写入到区块链中，形成新的区块 3、挖矿的同时还保护着比特币系统的安全你，防止欺诈交易，避免“双重支付”，“双重支付”是指多次花费同一笔比特币。矿工们通过为比特币网络提供算力来换取获得比特币奖励的机会 比特币的挖矿过程： 参与者根据上一个区块的hash值，10分钟内的验证过的交易内容，再加上自己猜测的一个随机数X，进行hash，让新区块的hash值小于比特币网络中给定的一个数，hash出来的值大于给定数时则重新生成随机数进行hash，这个数越小，计算出来就越难。系统每隔一段时间会根据上一周期的挖矿时间来调整挖矿难度，来调节生成区块的时间稳定在10分钟左右。未来避免震荡，每次调节的最大幅度为4倍 POW、POS、DPOS 而在上图中，挖矿又包含来三个概念，分别是：POW、POS、DPOS 这不得不提到我们之前说过的问题： 如果某个人或者组织持有了51%以上的区块，那他是不是就可以篡改数据？(这里涉及到分叉，之后详细说明) 而POW、POS、DPOS就是为了解决这个问题而出来的解决方案 这三个概念的诞生，是有其目的的，就是： 无论是POW/POS/DPOS，还是其他的几十种技术，简单说都是在解决“谁有资格写区块链”的问题。如果区块链只有一个人有资格写入，那就个普通的本地数据库一样了。目前比特币使用的是POW，即工作量证明，以工作量来证明自己有资格写入区块链 POW： POW，即工作量证明，以工作量来证明自己有资格写入区块链。通过穷举寻找一个符合要求的HASH，目前全网算力1.6EHz的情况下，平均每10分钟会出现一个符合要求的答案，谁先找到这个答案的，谁就可以向比特币区块链写入一个新区块。如果你的机器的算力大，你就有比别人更多的机会先找到符合要求的答案，而获得写入区块的权利。区块允许写入区块的那人人给自己增发12.5个比特币做为奖励。在这个模式下，获取区块奖励的成本主要来自于设备和设备的耗电。如果币价稳定，这个成本会被众矿工逐渐推高至接近于区块奖励，成为低盈利的工作。由于成本高昂，攻击者难以在短时间内组织压倒性的算力，（即传说中的51％攻击，但其实51%25依然远远不足以发起攻击），掌握区块链的走向，完成区块回滚的动作为自己牟利。&amp;oq=POW，即工作量证明，以工作量来证明自己有资格写入区块链。通过穷举寻找一个符合要求的HASH，目前全网算力1.6EHz的情况下，平均每10分钟会出现一个符合要求的答案，谁先找到这个答案的，谁就可以向比特币区块链写入一个新区块。如果你的机器的算力大，你就有比别人更多的机会先找到符合要求的答案，而获得写入区块的权利。区块允许写入区块的那人人给自己增发12.5个比特币做为奖励。在这个模式下，获取区块奖励的成本主要来自于设备和设备的耗电。如果币价稳定，这个成本会被众矿工逐渐推高至接近于区块奖励，成为低盈利的工作。由于成本高昂，攻击者难以在短时间内组织压倒性的算力，（即传说中的51％攻击，但其实51%25依然远远不足以发起攻击），掌握区块链的走向，完成区块回滚的动作为自己牟利 POS： POS，即权益证明，是用“拥有的币龄”来证明自己有资格写入区块链。币龄可以理解为币量乘以时间，如果你有一个币，在这个地址上放了100天，你就拥有100币龄。当你挪动这比币，这100币龄就消失了，或者说你“毁灭”了100币龄。因此，无论你持币多少，你可以“毁灭”的币龄都是有限的。当然，大户会每天可以攒出更多的币龄。如果说POW是烧电来抢“记账权”，那POS就是烧币龄来抢“记账权”，币龄是随时间自然出现的，环保不费电，并且人人都可以有。同样POS也会给记账的人奖励币，鼓励大家都“毁灭”掉自己的币龄来参与记账的争夺，保障账簿不被随意写入。由于币龄的有限性，只要进行一些限制，POS机制中也很难获得压倒性的币龄来控制区块链。&amp;oq=POS，即权益证明，是用“拥有的币龄”来证明自己有资格写入区块链。币龄可以理解为币量乘以时间，如果你有一个币，在这个地址上放了100天，你就拥有100币龄。当你挪动这比币，这100币龄就消失了，或者说你“毁灭”了100币龄。因此，无论你持币多少，你可以“毁灭”的币龄都是有限的。当然，大户会每天可以攒出更多的币龄。如果说POW是烧电来抢“记账权”，那POS就是烧币龄来抢“记账权”，币龄是随时间自然出现的，环保不费电，并且人人都可以有。同样POS也会给记账的人奖励币，鼓励大家都“毁灭”掉自己的币龄来参与记账的争夺，保障账簿不被随意写入。由于币龄的有限性，只要进行一些限制，POS机制中也很难获得压倒性的币龄来控制区块链。 DPOS： Delegated Proof of Stake（委托股权证明） 是 PoS 的进化方案，在常规 PoW 和 PoS 中，一大影响效率之处在于任何一个新加入的 Block，都需要被整个网络所有节点做确认。DPoS 优化方案在于：通过不同的策略，不定时的选中一小群节点，这一小群节点做新区块的创建，验证，签名和相互监督，这样就大幅度的减少了区块创建和确认所需要消耗的时间和算力成本。 而比特币的共识机制就是：POW 2、数字钱包 数字钱包这个概念，我们可以从比特币的数字钱包来入手 其实也很简单，比特币钱包其实就是“私钥、地址和区块链数据的管理工具”，比如说，私钥这个随机数得生成吧？生成之后得计算出地址吧？相关的区块链数据得维护吧？收到的、花出的账目也都得列出来吧？得能用来收款，也得能进行付款吧？ 毫无疑问，所有这些都得通过工具来完成，这类的工具我们统称为“比特币钱包”。 在这里面提到了三个概念：私钥、地址、区块链 私钥： 其实很简单，只需要记住这么一句话就够了“私钥就是个代表你身份的随机数”，这个随机数的概率空间很大（256位，也即是2的256次方），2的256次方是个什么概念呢？比宇宙中的分子还要多，也就是说，别人是不可能和你生成一样的私钥的（1/2^256的概率），这个数就代表了你的身份 地址： 说完私钥，我们再来谈谈地址，我们不去谈那些诸如“公私钥对儿、椭圆曲线、数字签名、SHA256”等密码学概念，只谈地址这个比特币世界里最常用的东西。地址是通过私钥计算而来的，具体怎么算的，大家不用去管，只需要知道私钥能计算出地址，地址不能反算出私钥，这是前提。比特币地址是1开头的，从一个私钥计算出其对应的地址之后，您就可以往该地址上转比特币了，转入的比特币只有私钥的持有者才能花，就这么简单 区块链： 其实前几篇下来我们对区块链已经有一个认识了，不过现在这里还是需要一个总结 其实区块链这个词也是被很多人给神化了，本质上，区块链其实是中本聪为了比特币所设计的一个“用来去中心化的存储比特币账目”的数据结构，所以，本质上，区块链就是个“账本”，区块链上记录的都是 A 给 B 转账了 5 个比特币这类的信息，就这么简单。但是为了能做到去中心化，还得能进行自我验证（账目都得验证，不能做假账），因此，① 这个账本被设计成了区块的结构，每过一段时间就会生成出一个新块，把账目做到新的区块中，做进区块的账目就不能再被修改了；② 这个账本中的账目还别设计成了链表（既前后链接的数据结构），这样，每一笔账目都能最快的查询到上一笔来进行验证，一笔一笔的沿着链条向前验证，最终，任何一笔交易都能验证到最初的原始交易（也就是最初挖矿的那笔交易）；这样就做到了去中心化及自我验证，这就是区块链这个数据结构的目的。 了解了以上三个概念之后，您就应该理解如下事实： 1.私钥决定了比特币的产权，如果想花掉一个地址上的比特币，很简单，您得有私钥，没私钥？抱歉。 2.一定要保管好私钥，私钥丢了，币就花不了了，私钥被别人看到了，币就丢了。所以，请做好备份，请做好加密，如果可能的话，请尽可能的“冷”（也就是保持离线、断网），记住，被别人看到了，钱就没了，一定不要让别人看到。 3.地址是公开的，请广而告之，如果您拥护该地址的私钥，任何转入该地址的比特币都只有您能花。 4.账目都是去中心化的存储在区块链上的，也就是存储在比特币网络的每一个节点上的，并不是存储在私钥或者地址上的，所以，一个地址当前的余额是多少，这类的问题需要问区块链，区块链上有着比特币历史上的全部账目，账目都是公开的。 这，就是比特币 3、闪电网络 既然说到了闪电网络，那就不得不从更高的纬度来讲解一下几个概念： 见证隔离、闪电网络、雷电网络 那么这些概念的意义是什么么？为什么会有这几个概念呢？ 这里主要涉及到一个问题，就是 比特币中，区块的硬编码限制为1兆字节，而区块又是平均每10分钟生成一个，导致这个账本可以承载的数据量不够，在面对当前如此火热，交易量如此巨大的情况下，一笔交易可能需要等待几小时才能得到确认，随着网络规模的扩大，交易强度也随之增加，但区块容量限制则保持不变，这就意味着问题会不断恶化 基于以上的问题，就有了之后的见证隔离、闪电网络、雷电网络，他们的本质都是为了解决这个处理速度的问题 一、见证隔离(通常简写为SegWit)，从鉴证信息隔离以扩容 隔离见证是对整个设计缺陷的一个修改方案，原理说起来挺简单，它允许交易把没那么必要的“见证”部分“隔离”在区块外面，这就是隔离见证的意思了 隔离见证就是把脚本签名(scriptSig)信息从基本结构 (base block) 里拿出来，放在一个新的数据结构当中。做验证工作的节点和矿工也会验证这个新的数据结构里的脚本签名，以确保交易是有效的。 那么重点来了：当审核统计区块大小不能超过1M的时候。脚本签大小不会被计算在内。 这简直是一个数学计算上的巧思！ 下面我们来说一个非常浅显生动的例子，你瞬间就能明白了。 比如我们有一个交通法规，说一条大路上只能容许总面积是100单位面积的车辆。 每个车我们有30个单位的面积。大马路上一次只能跑3辆车。 这时候把车的结构重新调整下，把拖车放到了顶上。每个车的面积单位变成了14个单位. 这时候大马路上一次能跑7辆车了。 好我们现在把刚才浅显易懂的比喻换一下。马路 = 1个区块 车 = 每一笔交易 问题1： 脚本签名是不是和每笔交易在一起？ 如图所释：车顶上的那个方块(脚本签名 ScripSig) 是属于车的一部分。验证交易的时候签名当然会被一起验证。 问题2：见证是不是在区块链上？ 如图所释：只是改变了车的结构，而且整个车还是开在马路上。所以当然在区块链里面！ SegWit的解决方案由两部分组成的。 1、它可以立即将区块容量限制增加到4兆字节。这里就有一点需要注意：4 MB是绝对最大值，而实际区块容量将取决于网络条件。SegWit激活后，专家预测区块容量将在2到2.1兆的范围内，注意，所谓的扩容需要结合上面的说明。 2、解决交易的可扩展性，SegWit消除了以前对于比特币本身来说存在的一个小问题，但对在此之上实施第二层解决方案却是主要障碍。其中一个解决方案就是拟提的闪电网络（Lightning Network）。该方案将大量交易移出区块链进行快速处理，预计将大大增加网络容量。 注：为什么不干脆进行更大的扩容？ 第一 ，扩大区块需要进行硬分叉，万一有的用户不升级钱包，就会产生对比特币的分裂，造成混乱； 第二，如果区块变大，以后交易越来越多，普通人的电脑上根本就运行不起这么大的全节点钱包，只有机构的电脑可以运行，就会导致比特币的中心化。 二、闪电网络，从提供一个可扩展的微支付通道网络入手 交易双方若在区块链上预先设有支付通道，就可以多次、高频、双向地通过轧差方式实现瞬间确认的微支付；双方若无直接的点对点支付通道，只要网络中存在一条连通双方的、由多个支付通道构成的支付路径，闪电网络也可以利用这条支付路径实现资金在双方之间的可靠转移。 闪电网络并不试图解决单次支付的银货对付问题，其假设是单次支付的金额足够小，即使一方违约另一方的损失也非常小，风险可以承受。因此使用时必须注意“微支付”这个前提。多少资金算“微”，显然应该根据业务而定。 三、雷电网络，使用链下交易的方式来解决 雷电网络的概念相对复杂一些，不过是与闪电网络一脉相承的 它类似于闪电网络，具有即时到帐，低转账费用，可大规模扩展，隐私保护的特点。使用雷电网络的参与者在互相转账时，不需要通过以太坊主链交易确认，而是通过参与者之间创建支付通道在链下完成。 它具有两大特征 第一大特征：链下交易 如上图所示，A和B在建立支付通道之前，需要先用主链上的资产做抵押，生成余额证明（Balance Proof），拥有余额证明即表明你能做出相应余额的转账。 　　在A和B均持有余额证明的情况下，双方可通过支付通道在链下进行无限制次数的转账。 　　仅有在完成链下交易，需要将资产转回链上时，才会在以太坊主链上登记主链账户的余额变化信息，而这期间不管发生多少次交易在主链上是不会有记录的。这个特点也可以实现一定程度上的隐私保护。 第二大特征：支付通道的建立 如下图： 　　如果A要转账给C，而当A和C之间没有支付通道时，雷电网络会自动匹配网络中的参与者，试图在A和C之间找到一个中介来完成支付通道的建立，显然，B就是A与C之间交易需要的中间点。 　　同样道理，当A需要转账给D时，B、E会作为中介来完成支付通道的建立。 以上就是雷电网络的基本工作原理。 　　不难看出，雷电网络具有的优势不小。今后基于以太坊ERC20标准的代币会越来越多，而目前代币的转账都在主链上进行，需要消耗Gas，支付矿工费。 　　对于某些本身价值就不大的代币来讲，矿工费会显得过于高昂，但是通过把交易搬到链下，可以避免产生矿工费用，雷电网络就可以解决这个问题。 从雷电网络的结构上不难发现，使用者越多，存在的支付通道越多，转账确认的速度就会越快。相信如果真的能在全球范围内普及，会织成一张密密麻麻的P2P支付网络，届时，这个网络处理交易的速度和吞吐量都可以满足所有用户。 　　当然，并不是说雷电网络就是完美的。首先，在使用雷电网络时需要用主链上的资产作抵押；而这部分资产作为抵押物，在使用者完成链下交易之前是不能使用的。这也就决定了，雷电交易只适合小额交易。 　　另外，在雷电网络建立初期，支付通道会非常少，这就需要有人主动多建立中介点，才能让整个网络有实用价值。 阅读更多" />
<meta property="og:description" content="&nbsp; &nbsp;&nbsp; 继续看图来进行学习 比特币作为区块链的首个广为人知的产品，我们首先得知道它是什么，用来干什么 &nbsp;&nbsp;&nbsp;比特币（英语：Bitcoin）是一种去中心化，非普遍全球可支付的电子加密货币 &nbsp; &nbsp;然后，比特币有那些特性？用来解决哪些问题？ &nbsp; &nbsp; 特性： &nbsp; &nbsp;1、所有人可以进行监管，流通信息公开的 &nbsp; &nbsp;2、发行周期固定，不受人为控制，总数固定，无法增发 &nbsp; &nbsp;3、去中心化的交易验证 &nbsp; &nbsp;4、安全 &nbsp; &nbsp; 解决哪些问题： &nbsp; &nbsp; 其实总结的话就一句话：解决实体货币的弊端，分开来说的话大概是以下几点 &nbsp; &nbsp; 1、便携 &nbsp; &nbsp; 2、易于防伪 &nbsp; &nbsp; 3、易于辩伪 &nbsp; &nbsp; 4、节约资源 &nbsp; &nbsp; 5、发行不随意 &nbsp; &nbsp;然后，我们可以看到，比特币除了基本的区块链特性以外，还有有三大主要组成部分 闪电网络、数字钱包、挖矿 在说以上万个概念之前，我们得对比特币运行的一个流程有一个认识，就是比特币是如何运行的？ 这三个概念，我们得从挖矿说起 1、挖矿 相信在比特币中，最需要了解的就是挖矿了，在我看来，挖矿有以下几个意义 1、货币发行 2、增加区块以及算力 3、记账 挖矿说明： 挖矿是参与维护比特币网络的节点，通过协助生成新区块来获取一定量新增的比特币 1、矿工们在挖矿过程中会得到两种奖励：创建新区块的新币奖励（货币发行），以及区块中所含交易的交易费 2、当用户发布交易后，需要有人将交易进行确认，写入到区块链中，形成新的区块 3、挖矿的同时还保护着比特币系统的安全你，防止欺诈交易，避免“双重支付”，“双重支付”是指多次花费同一笔比特币。矿工们通过为比特币网络提供算力来换取获得比特币奖励的机会 比特币的挖矿过程： 参与者根据上一个区块的hash值，10分钟内的验证过的交易内容，再加上自己猜测的一个随机数X，进行hash，让新区块的hash值小于比特币网络中给定的一个数，hash出来的值大于给定数时则重新生成随机数进行hash，这个数越小，计算出来就越难。系统每隔一段时间会根据上一周期的挖矿时间来调整挖矿难度，来调节生成区块的时间稳定在10分钟左右。未来避免震荡，每次调节的最大幅度为4倍 POW、POS、DPOS 而在上图中，挖矿又包含来三个概念，分别是：POW、POS、DPOS 这不得不提到我们之前说过的问题： 如果某个人或者组织持有了51%以上的区块，那他是不是就可以篡改数据？(这里涉及到分叉，之后详细说明) 而POW、POS、DPOS就是为了解决这个问题而出来的解决方案 这三个概念的诞生，是有其目的的，就是： 无论是POW/POS/DPOS，还是其他的几十种技术，简单说都是在解决“谁有资格写区块链”的问题。如果区块链只有一个人有资格写入，那就个普通的本地数据库一样了。目前比特币使用的是POW，即工作量证明，以工作量来证明自己有资格写入区块链 POW： POW，即工作量证明，以工作量来证明自己有资格写入区块链。通过穷举寻找一个符合要求的HASH，目前全网算力1.6EHz的情况下，平均每10分钟会出现一个符合要求的答案，谁先找到这个答案的，谁就可以向比特币区块链写入一个新区块。如果你的机器的算力大，你就有比别人更多的机会先找到符合要求的答案，而获得写入区块的权利。区块允许写入区块的那人人给自己增发12.5个比特币做为奖励。在这个模式下，获取区块奖励的成本主要来自于设备和设备的耗电。如果币价稳定，这个成本会被众矿工逐渐推高至接近于区块奖励，成为低盈利的工作。由于成本高昂，攻击者难以在短时间内组织压倒性的算力，（即传说中的51％攻击，但其实51%25依然远远不足以发起攻击），掌握区块链的走向，完成区块回滚的动作为自己牟利。&amp;oq=POW，即工作量证明，以工作量来证明自己有资格写入区块链。通过穷举寻找一个符合要求的HASH，目前全网算力1.6EHz的情况下，平均每10分钟会出现一个符合要求的答案，谁先找到这个答案的，谁就可以向比特币区块链写入一个新区块。如果你的机器的算力大，你就有比别人更多的机会先找到符合要求的答案，而获得写入区块的权利。区块允许写入区块的那人人给自己增发12.5个比特币做为奖励。在这个模式下，获取区块奖励的成本主要来自于设备和设备的耗电。如果币价稳定，这个成本会被众矿工逐渐推高至接近于区块奖励，成为低盈利的工作。由于成本高昂，攻击者难以在短时间内组织压倒性的算力，（即传说中的51％攻击，但其实51%25依然远远不足以发起攻击），掌握区块链的走向，完成区块回滚的动作为自己牟利 POS： POS，即权益证明，是用“拥有的币龄”来证明自己有资格写入区块链。币龄可以理解为币量乘以时间，如果你有一个币，在这个地址上放了100天，你就拥有100币龄。当你挪动这比币，这100币龄就消失了，或者说你“毁灭”了100币龄。因此，无论你持币多少，你可以“毁灭”的币龄都是有限的。当然，大户会每天可以攒出更多的币龄。如果说POW是烧电来抢“记账权”，那POS就是烧币龄来抢“记账权”，币龄是随时间自然出现的，环保不费电，并且人人都可以有。同样POS也会给记账的人奖励币，鼓励大家都“毁灭”掉自己的币龄来参与记账的争夺，保障账簿不被随意写入。由于币龄的有限性，只要进行一些限制，POS机制中也很难获得压倒性的币龄来控制区块链。&amp;oq=POS，即权益证明，是用“拥有的币龄”来证明自己有资格写入区块链。币龄可以理解为币量乘以时间，如果你有一个币，在这个地址上放了100天，你就拥有100币龄。当你挪动这比币，这100币龄就消失了，或者说你“毁灭”了100币龄。因此，无论你持币多少，你可以“毁灭”的币龄都是有限的。当然，大户会每天可以攒出更多的币龄。如果说POW是烧电来抢“记账权”，那POS就是烧币龄来抢“记账权”，币龄是随时间自然出现的，环保不费电，并且人人都可以有。同样POS也会给记账的人奖励币，鼓励大家都“毁灭”掉自己的币龄来参与记账的争夺，保障账簿不被随意写入。由于币龄的有限性，只要进行一些限制，POS机制中也很难获得压倒性的币龄来控制区块链。 DPOS： Delegated Proof of Stake（委托股权证明） 是 PoS 的进化方案，在常规 PoW 和 PoS 中，一大影响效率之处在于任何一个新加入的 Block，都需要被整个网络所有节点做确认。DPoS 优化方案在于：通过不同的策略，不定时的选中一小群节点，这一小群节点做新区块的创建，验证，签名和相互监督，这样就大幅度的减少了区块创建和确认所需要消耗的时间和算力成本。 而比特币的共识机制就是：POW 2、数字钱包 数字钱包这个概念，我们可以从比特币的数字钱包来入手 其实也很简单，比特币钱包其实就是“私钥、地址和区块链数据的管理工具”，比如说，私钥这个随机数得生成吧？生成之后得计算出地址吧？相关的区块链数据得维护吧？收到的、花出的账目也都得列出来吧？得能用来收款，也得能进行付款吧？ 毫无疑问，所有这些都得通过工具来完成，这类的工具我们统称为“比特币钱包”。 在这里面提到了三个概念：私钥、地址、区块链 私钥： 其实很简单，只需要记住这么一句话就够了“私钥就是个代表你身份的随机数”，这个随机数的概率空间很大（256位，也即是2的256次方），2的256次方是个什么概念呢？比宇宙中的分子还要多，也就是说，别人是不可能和你生成一样的私钥的（1/2^256的概率），这个数就代表了你的身份 地址： 说完私钥，我们再来谈谈地址，我们不去谈那些诸如“公私钥对儿、椭圆曲线、数字签名、SHA256”等密码学概念，只谈地址这个比特币世界里最常用的东西。地址是通过私钥计算而来的，具体怎么算的，大家不用去管，只需要知道私钥能计算出地址，地址不能反算出私钥，这是前提。比特币地址是1开头的，从一个私钥计算出其对应的地址之后，您就可以往该地址上转比特币了，转入的比特币只有私钥的持有者才能花，就这么简单 区块链： 其实前几篇下来我们对区块链已经有一个认识了，不过现在这里还是需要一个总结 其实区块链这个词也是被很多人给神化了，本质上，区块链其实是中本聪为了比特币所设计的一个“用来去中心化的存储比特币账目”的数据结构，所以，本质上，区块链就是个“账本”，区块链上记录的都是 A 给 B 转账了 5 个比特币这类的信息，就这么简单。但是为了能做到去中心化，还得能进行自我验证（账目都得验证，不能做假账），因此，① 这个账本被设计成了区块的结构，每过一段时间就会生成出一个新块，把账目做到新的区块中，做进区块的账目就不能再被修改了；② 这个账本中的账目还别设计成了链表（既前后链接的数据结构），这样，每一笔账目都能最快的查询到上一笔来进行验证，一笔一笔的沿着链条向前验证，最终，任何一笔交易都能验证到最初的原始交易（也就是最初挖矿的那笔交易）；这样就做到了去中心化及自我验证，这就是区块链这个数据结构的目的。 了解了以上三个概念之后，您就应该理解如下事实： 1.私钥决定了比特币的产权，如果想花掉一个地址上的比特币，很简单，您得有私钥，没私钥？抱歉。 2.一定要保管好私钥，私钥丢了，币就花不了了，私钥被别人看到了，币就丢了。所以，请做好备份，请做好加密，如果可能的话，请尽可能的“冷”（也就是保持离线、断网），记住，被别人看到了，钱就没了，一定不要让别人看到。 3.地址是公开的，请广而告之，如果您拥护该地址的私钥，任何转入该地址的比特币都只有您能花。 4.账目都是去中心化的存储在区块链上的，也就是存储在比特币网络的每一个节点上的，并不是存储在私钥或者地址上的，所以，一个地址当前的余额是多少，这类的问题需要问区块链，区块链上有着比特币历史上的全部账目，账目都是公开的。 这，就是比特币 3、闪电网络 既然说到了闪电网络，那就不得不从更高的纬度来讲解一下几个概念： 见证隔离、闪电网络、雷电网络 那么这些概念的意义是什么么？为什么会有这几个概念呢？ 这里主要涉及到一个问题，就是 比特币中，区块的硬编码限制为1兆字节，而区块又是平均每10分钟生成一个，导致这个账本可以承载的数据量不够，在面对当前如此火热，交易量如此巨大的情况下，一笔交易可能需要等待几小时才能得到确认，随着网络规模的扩大，交易强度也随之增加，但区块容量限制则保持不变，这就意味着问题会不断恶化 基于以上的问题，就有了之后的见证隔离、闪电网络、雷电网络，他们的本质都是为了解决这个处理速度的问题 一、见证隔离(通常简写为SegWit)，从鉴证信息隔离以扩容 隔离见证是对整个设计缺陷的一个修改方案，原理说起来挺简单，它允许交易把没那么必要的“见证”部分“隔离”在区块外面，这就是隔离见证的意思了 隔离见证就是把脚本签名(scriptSig)信息从基本结构 (base block) 里拿出来，放在一个新的数据结构当中。做验证工作的节点和矿工也会验证这个新的数据结构里的脚本签名，以确保交易是有效的。 那么重点来了：当审核统计区块大小不能超过1M的时候。脚本签大小不会被计算在内。 这简直是一个数学计算上的巧思！ 下面我们来说一个非常浅显生动的例子，你瞬间就能明白了。 比如我们有一个交通法规，说一条大路上只能容许总面积是100单位面积的车辆。 每个车我们有30个单位的面积。大马路上一次只能跑3辆车。 这时候把车的结构重新调整下，把拖车放到了顶上。每个车的面积单位变成了14个单位. 这时候大马路上一次能跑7辆车了。 好我们现在把刚才浅显易懂的比喻换一下。马路 = 1个区块 车 = 每一笔交易 问题1： 脚本签名是不是和每笔交易在一起？ 如图所释：车顶上的那个方块(脚本签名 ScripSig) 是属于车的一部分。验证交易的时候签名当然会被一起验证。 问题2：见证是不是在区块链上？ 如图所释：只是改变了车的结构，而且整个车还是开在马路上。所以当然在区块链里面！ SegWit的解决方案由两部分组成的。 1、它可以立即将区块容量限制增加到4兆字节。这里就有一点需要注意：4 MB是绝对最大值，而实际区块容量将取决于网络条件。SegWit激活后，专家预测区块容量将在2到2.1兆的范围内，注意，所谓的扩容需要结合上面的说明。 2、解决交易的可扩展性，SegWit消除了以前对于比特币本身来说存在的一个小问题，但对在此之上实施第二层解决方案却是主要障碍。其中一个解决方案就是拟提的闪电网络（Lightning Network）。该方案将大量交易移出区块链进行快速处理，预计将大大增加网络容量。 注：为什么不干脆进行更大的扩容？ 第一 ，扩大区块需要进行硬分叉，万一有的用户不升级钱包，就会产生对比特币的分裂，造成混乱； 第二，如果区块变大，以后交易越来越多，普通人的电脑上根本就运行不起这么大的全节点钱包，只有机构的电脑可以运行，就会导致比特币的中心化。 二、闪电网络，从提供一个可扩展的微支付通道网络入手 交易双方若在区块链上预先设有支付通道，就可以多次、高频、双向地通过轧差方式实现瞬间确认的微支付；双方若无直接的点对点支付通道，只要网络中存在一条连通双方的、由多个支付通道构成的支付路径，闪电网络也可以利用这条支付路径实现资金在双方之间的可靠转移。 闪电网络并不试图解决单次支付的银货对付问题，其假设是单次支付的金额足够小，即使一方违约另一方的损失也非常小，风险可以承受。因此使用时必须注意“微支付”这个前提。多少资金算“微”，显然应该根据业务而定。 三、雷电网络，使用链下交易的方式来解决 雷电网络的概念相对复杂一些，不过是与闪电网络一脉相承的 它类似于闪电网络，具有即时到帐，低转账费用，可大规模扩展，隐私保护的特点。使用雷电网络的参与者在互相转账时，不需要通过以太坊主链交易确认，而是通过参与者之间创建支付通道在链下完成。 它具有两大特征 第一大特征：链下交易 如上图所示，A和B在建立支付通道之前，需要先用主链上的资产做抵押，生成余额证明（Balance Proof），拥有余额证明即表明你能做出相应余额的转账。 　　在A和B均持有余额证明的情况下，双方可通过支付通道在链下进行无限制次数的转账。 　　仅有在完成链下交易，需要将资产转回链上时，才会在以太坊主链上登记主链账户的余额变化信息，而这期间不管发生多少次交易在主链上是不会有记录的。这个特点也可以实现一定程度上的隐私保护。 第二大特征：支付通道的建立 如下图： 　　如果A要转账给C，而当A和C之间没有支付通道时，雷电网络会自动匹配网络中的参与者，试图在A和C之间找到一个中介来完成支付通道的建立，显然，B就是A与C之间交易需要的中间点。 　　同样道理，当A需要转账给D时，B、E会作为中介来完成支付通道的建立。 以上就是雷电网络的基本工作原理。 　　不难看出，雷电网络具有的优势不小。今后基于以太坊ERC20标准的代币会越来越多，而目前代币的转账都在主链上进行，需要消耗Gas，支付矿工费。 　　对于某些本身价值就不大的代币来讲，矿工费会显得过于高昂，但是通过把交易搬到链下，可以避免产生矿工费用，雷电网络就可以解决这个问题。 从雷电网络的结构上不难发现，使用者越多，存在的支付通道越多，转账确认的速度就会越快。相信如果真的能在全球范围内普及，会织成一张密密麻麻的P2P支付网络，届时，这个网络处理交易的速度和吞吐量都可以满足所有用户。 　　当然，并不是说雷电网络就是完美的。首先，在使用雷电网络时需要用主链上的资产作抵押；而这部分资产作为抵押物，在使用者完成链下交易之前是不能使用的。这也就决定了，雷电交易只适合小额交易。 　　另外，在雷电网络建立初期，支付通道会非常少，这就需要有人主动多建立中介点，才能让整个网络有实用价值。 阅读更多" />
<link rel="canonical" href="https://mlh.app/2018/02/20/03fc200d4e3a04579a256f046962f472.html" />
<meta property="og:url" content="https://mlh.app/2018/02/20/03fc200d4e3a04579a256f046962f472.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-02-20T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"&nbsp; &nbsp;&nbsp; 继续看图来进行学习 比特币作为区块链的首个广为人知的产品，我们首先得知道它是什么，用来干什么 &nbsp;&nbsp;&nbsp;比特币（英语：Bitcoin）是一种去中心化，非普遍全球可支付的电子加密货币 &nbsp; &nbsp;然后，比特币有那些特性？用来解决哪些问题？ &nbsp; &nbsp; 特性： &nbsp; &nbsp;1、所有人可以进行监管，流通信息公开的 &nbsp; &nbsp;2、发行周期固定，不受人为控制，总数固定，无法增发 &nbsp; &nbsp;3、去中心化的交易验证 &nbsp; &nbsp;4、安全 &nbsp; &nbsp; 解决哪些问题： &nbsp; &nbsp; 其实总结的话就一句话：解决实体货币的弊端，分开来说的话大概是以下几点 &nbsp; &nbsp; 1、便携 &nbsp; &nbsp; 2、易于防伪 &nbsp; &nbsp; 3、易于辩伪 &nbsp; &nbsp; 4、节约资源 &nbsp; &nbsp; 5、发行不随意 &nbsp; &nbsp;然后，我们可以看到，比特币除了基本的区块链特性以外，还有有三大主要组成部分 闪电网络、数字钱包、挖矿 在说以上万个概念之前，我们得对比特币运行的一个流程有一个认识，就是比特币是如何运行的？ 这三个概念，我们得从挖矿说起 1、挖矿 相信在比特币中，最需要了解的就是挖矿了，在我看来，挖矿有以下几个意义 1、货币发行 2、增加区块以及算力 3、记账 挖矿说明： 挖矿是参与维护比特币网络的节点，通过协助生成新区块来获取一定量新增的比特币 1、矿工们在挖矿过程中会得到两种奖励：创建新区块的新币奖励（货币发行），以及区块中所含交易的交易费 2、当用户发布交易后，需要有人将交易进行确认，写入到区块链中，形成新的区块 3、挖矿的同时还保护着比特币系统的安全你，防止欺诈交易，避免“双重支付”，“双重支付”是指多次花费同一笔比特币。矿工们通过为比特币网络提供算力来换取获得比特币奖励的机会 比特币的挖矿过程： 参与者根据上一个区块的hash值，10分钟内的验证过的交易内容，再加上自己猜测的一个随机数X，进行hash，让新区块的hash值小于比特币网络中给定的一个数，hash出来的值大于给定数时则重新生成随机数进行hash，这个数越小，计算出来就越难。系统每隔一段时间会根据上一周期的挖矿时间来调整挖矿难度，来调节生成区块的时间稳定在10分钟左右。未来避免震荡，每次调节的最大幅度为4倍 POW、POS、DPOS 而在上图中，挖矿又包含来三个概念，分别是：POW、POS、DPOS 这不得不提到我们之前说过的问题： 如果某个人或者组织持有了51%以上的区块，那他是不是就可以篡改数据？(这里涉及到分叉，之后详细说明) 而POW、POS、DPOS就是为了解决这个问题而出来的解决方案 这三个概念的诞生，是有其目的的，就是： 无论是POW/POS/DPOS，还是其他的几十种技术，简单说都是在解决“谁有资格写区块链”的问题。如果区块链只有一个人有资格写入，那就个普通的本地数据库一样了。目前比特币使用的是POW，即工作量证明，以工作量来证明自己有资格写入区块链 POW： POW，即工作量证明，以工作量来证明自己有资格写入区块链。通过穷举寻找一个符合要求的HASH，目前全网算力1.6EHz的情况下，平均每10分钟会出现一个符合要求的答案，谁先找到这个答案的，谁就可以向比特币区块链写入一个新区块。如果你的机器的算力大，你就有比别人更多的机会先找到符合要求的答案，而获得写入区块的权利。区块允许写入区块的那人人给自己增发12.5个比特币做为奖励。在这个模式下，获取区块奖励的成本主要来自于设备和设备的耗电。如果币价稳定，这个成本会被众矿工逐渐推高至接近于区块奖励，成为低盈利的工作。由于成本高昂，攻击者难以在短时间内组织压倒性的算力，（即传说中的51％攻击，但其实51%25依然远远不足以发起攻击），掌握区块链的走向，完成区块回滚的动作为自己牟利。&amp;oq=POW，即工作量证明，以工作量来证明自己有资格写入区块链。通过穷举寻找一个符合要求的HASH，目前全网算力1.6EHz的情况下，平均每10分钟会出现一个符合要求的答案，谁先找到这个答案的，谁就可以向比特币区块链写入一个新区块。如果你的机器的算力大，你就有比别人更多的机会先找到符合要求的答案，而获得写入区块的权利。区块允许写入区块的那人人给自己增发12.5个比特币做为奖励。在这个模式下，获取区块奖励的成本主要来自于设备和设备的耗电。如果币价稳定，这个成本会被众矿工逐渐推高至接近于区块奖励，成为低盈利的工作。由于成本高昂，攻击者难以在短时间内组织压倒性的算力，（即传说中的51％攻击，但其实51%25依然远远不足以发起攻击），掌握区块链的走向，完成区块回滚的动作为自己牟利 POS： POS，即权益证明，是用“拥有的币龄”来证明自己有资格写入区块链。币龄可以理解为币量乘以时间，如果你有一个币，在这个地址上放了100天，你就拥有100币龄。当你挪动这比币，这100币龄就消失了，或者说你“毁灭”了100币龄。因此，无论你持币多少，你可以“毁灭”的币龄都是有限的。当然，大户会每天可以攒出更多的币龄。如果说POW是烧电来抢“记账权”，那POS就是烧币龄来抢“记账权”，币龄是随时间自然出现的，环保不费电，并且人人都可以有。同样POS也会给记账的人奖励币，鼓励大家都“毁灭”掉自己的币龄来参与记账的争夺，保障账簿不被随意写入。由于币龄的有限性，只要进行一些限制，POS机制中也很难获得压倒性的币龄来控制区块链。&amp;oq=POS，即权益证明，是用“拥有的币龄”来证明自己有资格写入区块链。币龄可以理解为币量乘以时间，如果你有一个币，在这个地址上放了100天，你就拥有100币龄。当你挪动这比币，这100币龄就消失了，或者说你“毁灭”了100币龄。因此，无论你持币多少，你可以“毁灭”的币龄都是有限的。当然，大户会每天可以攒出更多的币龄。如果说POW是烧电来抢“记账权”，那POS就是烧币龄来抢“记账权”，币龄是随时间自然出现的，环保不费电，并且人人都可以有。同样POS也会给记账的人奖励币，鼓励大家都“毁灭”掉自己的币龄来参与记账的争夺，保障账簿不被随意写入。由于币龄的有限性，只要进行一些限制，POS机制中也很难获得压倒性的币龄来控制区块链。 DPOS： Delegated Proof of Stake（委托股权证明） 是 PoS 的进化方案，在常规 PoW 和 PoS 中，一大影响效率之处在于任何一个新加入的 Block，都需要被整个网络所有节点做确认。DPoS 优化方案在于：通过不同的策略，不定时的选中一小群节点，这一小群节点做新区块的创建，验证，签名和相互监督，这样就大幅度的减少了区块创建和确认所需要消耗的时间和算力成本。 而比特币的共识机制就是：POW 2、数字钱包 数字钱包这个概念，我们可以从比特币的数字钱包来入手 其实也很简单，比特币钱包其实就是“私钥、地址和区块链数据的管理工具”，比如说，私钥这个随机数得生成吧？生成之后得计算出地址吧？相关的区块链数据得维护吧？收到的、花出的账目也都得列出来吧？得能用来收款，也得能进行付款吧？ 毫无疑问，所有这些都得通过工具来完成，这类的工具我们统称为“比特币钱包”。 在这里面提到了三个概念：私钥、地址、区块链 私钥： 其实很简单，只需要记住这么一句话就够了“私钥就是个代表你身份的随机数”，这个随机数的概率空间很大（256位，也即是2的256次方），2的256次方是个什么概念呢？比宇宙中的分子还要多，也就是说，别人是不可能和你生成一样的私钥的（1/2^256的概率），这个数就代表了你的身份 地址： 说完私钥，我们再来谈谈地址，我们不去谈那些诸如“公私钥对儿、椭圆曲线、数字签名、SHA256”等密码学概念，只谈地址这个比特币世界里最常用的东西。地址是通过私钥计算而来的，具体怎么算的，大家不用去管，只需要知道私钥能计算出地址，地址不能反算出私钥，这是前提。比特币地址是1开头的，从一个私钥计算出其对应的地址之后，您就可以往该地址上转比特币了，转入的比特币只有私钥的持有者才能花，就这么简单 区块链： 其实前几篇下来我们对区块链已经有一个认识了，不过现在这里还是需要一个总结 其实区块链这个词也是被很多人给神化了，本质上，区块链其实是中本聪为了比特币所设计的一个“用来去中心化的存储比特币账目”的数据结构，所以，本质上，区块链就是个“账本”，区块链上记录的都是 A 给 B 转账了 5 个比特币这类的信息，就这么简单。但是为了能做到去中心化，还得能进行自我验证（账目都得验证，不能做假账），因此，① 这个账本被设计成了区块的结构，每过一段时间就会生成出一个新块，把账目做到新的区块中，做进区块的账目就不能再被修改了；② 这个账本中的账目还别设计成了链表（既前后链接的数据结构），这样，每一笔账目都能最快的查询到上一笔来进行验证，一笔一笔的沿着链条向前验证，最终，任何一笔交易都能验证到最初的原始交易（也就是最初挖矿的那笔交易）；这样就做到了去中心化及自我验证，这就是区块链这个数据结构的目的。 了解了以上三个概念之后，您就应该理解如下事实： 1.私钥决定了比特币的产权，如果想花掉一个地址上的比特币，很简单，您得有私钥，没私钥？抱歉。 2.一定要保管好私钥，私钥丢了，币就花不了了，私钥被别人看到了，币就丢了。所以，请做好备份，请做好加密，如果可能的话，请尽可能的“冷”（也就是保持离线、断网），记住，被别人看到了，钱就没了，一定不要让别人看到。 3.地址是公开的，请广而告之，如果您拥护该地址的私钥，任何转入该地址的比特币都只有您能花。 4.账目都是去中心化的存储在区块链上的，也就是存储在比特币网络的每一个节点上的，并不是存储在私钥或者地址上的，所以，一个地址当前的余额是多少，这类的问题需要问区块链，区块链上有着比特币历史上的全部账目，账目都是公开的。 这，就是比特币 3、闪电网络 既然说到了闪电网络，那就不得不从更高的纬度来讲解一下几个概念： 见证隔离、闪电网络、雷电网络 那么这些概念的意义是什么么？为什么会有这几个概念呢？ 这里主要涉及到一个问题，就是 比特币中，区块的硬编码限制为1兆字节，而区块又是平均每10分钟生成一个，导致这个账本可以承载的数据量不够，在面对当前如此火热，交易量如此巨大的情况下，一笔交易可能需要等待几小时才能得到确认，随着网络规模的扩大，交易强度也随之增加，但区块容量限制则保持不变，这就意味着问题会不断恶化 基于以上的问题，就有了之后的见证隔离、闪电网络、雷电网络，他们的本质都是为了解决这个处理速度的问题 一、见证隔离(通常简写为SegWit)，从鉴证信息隔离以扩容 隔离见证是对整个设计缺陷的一个修改方案，原理说起来挺简单，它允许交易把没那么必要的“见证”部分“隔离”在区块外面，这就是隔离见证的意思了 隔离见证就是把脚本签名(scriptSig)信息从基本结构 (base block) 里拿出来，放在一个新的数据结构当中。做验证工作的节点和矿工也会验证这个新的数据结构里的脚本签名，以确保交易是有效的。 那么重点来了：当审核统计区块大小不能超过1M的时候。脚本签大小不会被计算在内。 这简直是一个数学计算上的巧思！ 下面我们来说一个非常浅显生动的例子，你瞬间就能明白了。 比如我们有一个交通法规，说一条大路上只能容许总面积是100单位面积的车辆。 每个车我们有30个单位的面积。大马路上一次只能跑3辆车。 这时候把车的结构重新调整下，把拖车放到了顶上。每个车的面积单位变成了14个单位. 这时候大马路上一次能跑7辆车了。 好我们现在把刚才浅显易懂的比喻换一下。马路 = 1个区块 车 = 每一笔交易 问题1： 脚本签名是不是和每笔交易在一起？ 如图所释：车顶上的那个方块(脚本签名 ScripSig) 是属于车的一部分。验证交易的时候签名当然会被一起验证。 问题2：见证是不是在区块链上？ 如图所释：只是改变了车的结构，而且整个车还是开在马路上。所以当然在区块链里面！ SegWit的解决方案由两部分组成的。 1、它可以立即将区块容量限制增加到4兆字节。这里就有一点需要注意：4 MB是绝对最大值，而实际区块容量将取决于网络条件。SegWit激活后，专家预测区块容量将在2到2.1兆的范围内，注意，所谓的扩容需要结合上面的说明。 2、解决交易的可扩展性，SegWit消除了以前对于比特币本身来说存在的一个小问题，但对在此之上实施第二层解决方案却是主要障碍。其中一个解决方案就是拟提的闪电网络（Lightning Network）。该方案将大量交易移出区块链进行快速处理，预计将大大增加网络容量。 注：为什么不干脆进行更大的扩容？ 第一 ，扩大区块需要进行硬分叉，万一有的用户不升级钱包，就会产生对比特币的分裂，造成混乱； 第二，如果区块变大，以后交易越来越多，普通人的电脑上根本就运行不起这么大的全节点钱包，只有机构的电脑可以运行，就会导致比特币的中心化。 二、闪电网络，从提供一个可扩展的微支付通道网络入手 交易双方若在区块链上预先设有支付通道，就可以多次、高频、双向地通过轧差方式实现瞬间确认的微支付；双方若无直接的点对点支付通道，只要网络中存在一条连通双方的、由多个支付通道构成的支付路径，闪电网络也可以利用这条支付路径实现资金在双方之间的可靠转移。 闪电网络并不试图解决单次支付的银货对付问题，其假设是单次支付的金额足够小，即使一方违约另一方的损失也非常小，风险可以承受。因此使用时必须注意“微支付”这个前提。多少资金算“微”，显然应该根据业务而定。 三、雷电网络，使用链下交易的方式来解决 雷电网络的概念相对复杂一些，不过是与闪电网络一脉相承的 它类似于闪电网络，具有即时到帐，低转账费用，可大规模扩展，隐私保护的特点。使用雷电网络的参与者在互相转账时，不需要通过以太坊主链交易确认，而是通过参与者之间创建支付通道在链下完成。 它具有两大特征 第一大特征：链下交易 如上图所示，A和B在建立支付通道之前，需要先用主链上的资产做抵押，生成余额证明（Balance Proof），拥有余额证明即表明你能做出相应余额的转账。 　　在A和B均持有余额证明的情况下，双方可通过支付通道在链下进行无限制次数的转账。 　　仅有在完成链下交易，需要将资产转回链上时，才会在以太坊主链上登记主链账户的余额变化信息，而这期间不管发生多少次交易在主链上是不会有记录的。这个特点也可以实现一定程度上的隐私保护。 第二大特征：支付通道的建立 如下图： 　　如果A要转账给C，而当A和C之间没有支付通道时，雷电网络会自动匹配网络中的参与者，试图在A和C之间找到一个中介来完成支付通道的建立，显然，B就是A与C之间交易需要的中间点。 　　同样道理，当A需要转账给D时，B、E会作为中介来完成支付通道的建立。 以上就是雷电网络的基本工作原理。 　　不难看出，雷电网络具有的优势不小。今后基于以太坊ERC20标准的代币会越来越多，而目前代币的转账都在主链上进行，需要消耗Gas，支付矿工费。 　　对于某些本身价值就不大的代币来讲，矿工费会显得过于高昂，但是通过把交易搬到链下，可以避免产生矿工费用，雷电网络就可以解决这个问题。 从雷电网络的结构上不难发现，使用者越多，存在的支付通道越多，转账确认的速度就会越快。相信如果真的能在全球范围内普及，会织成一张密密麻麻的P2P支付网络，届时，这个网络处理交易的速度和吞吐量都可以满足所有用户。 　　当然，并不是说雷电网络就是完美的。首先，在使用雷电网络时需要用主链上的资产作抵押；而这部分资产作为抵押物，在使用者完成链下交易之前是不能使用的。这也就决定了，雷电交易只适合小额交易。 　　另外，在雷电网络建立初期，支付通道会非常少，这就需要有人主动多建立中介点，才能让整个网络有实用价值。 阅读更多","@type":"BlogPosting","url":"https://mlh.app/2018/02/20/03fc200d4e3a04579a256f046962f472.html","headline":"区块链学习(四、1.0，比特币)","dateModified":"2018-02-20T00:00:00+08:00","datePublished":"2018-02-20T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2018/02/20/03fc200d4e3a04579a256f046962f472.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>区块链学习(四、1.0，比特币)</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css"> 
 <div class="htmledit_views"> 
  <p>&nbsp; &nbsp;&nbsp;</p>
  <p>继续看图来进行学习</p>
  <p><img src="http://5b0988e595225.cdn.sohucs.com/images/20170915/9b81a5ee5af24271a3ec0a46a2c8940e.jpeg" alt=""><br></p>
  <p>比特币作为区块链的首个广为人知的产品，我们首先得知道它是什么，用来干什么</p>
  <p>&nbsp;&nbsp;&nbsp;<strong><span style="color:rgb(34,34,34);font-family:sans-serif;font-size:15.008px;background-color:rgb(255,255,255);">比特币</span><span style="color:rgb(34,34,34);font-family:sans-serif;font-size:15.008px;background-color:rgb(255,255,255);">（</span><span class="LangWithName" style="color:rgb(34,34,34);font-family:sans-serif;font-size:15.008px;background-color:rgb(255,255,255);">英语：<span lang="en" xml:lang="en">Bitcoin</span></span><span style="color:rgb(34,34,34);font-family:sans-serif;font-size:15.008px;background-color:rgb(255,255,255);">）是一种去中心化，非普遍全球可支付的电子</span><a href="https://zh.wikipedia.org/wiki/%E5%8A%A0%E5%AF%86%E8%B2%A8%E5%B9%A3" rel="nofollow" class="mw-redirect" title="加密货币" style="color:rgb(11,0,128);background:rgb(255,255,255) none;font-family:sans-serif;font-size:15.008px;">加密货币</a></strong><br></p>
  <p>&nbsp; &nbsp;然后，比特币有那些特性？用来解决哪些问题？<br></p>
  <h3>&nbsp; &nbsp; 特性：</h3>
  <p>&nbsp; &nbsp;1、所有人可以进行监管，流通信息公开的</p>
  <p>&nbsp; &nbsp;2、发行周期固定，不受人为控制，总数固定，无法增发<br></p>
  <p>&nbsp; &nbsp;3、去中心化的交易验证<br></p>
  <p>&nbsp; &nbsp;4、安全<br></p>
  <h3>&nbsp; &nbsp; 解决哪些问题：</h3>
  <p>&nbsp; &nbsp; 其实总结的话就一句话：解决实体货币的弊端，分开来说的话大概是以下几点</p>
  <p>&nbsp; &nbsp; 1、便携<br></p>
  <p>&nbsp; &nbsp; 2、易于防伪<br></p>
  <p>&nbsp; &nbsp; 3、易于辩伪<br></p>
  <p>&nbsp; &nbsp; 4、节约资源</p>
  <p>&nbsp; &nbsp; 5、发行不随意<br></p>
  <p><br></p>
  <p>&nbsp; &nbsp;然后，我们可以看到，比特币除了基本的区块链特性以外，还有有三大主要组成部分</p>
  <h4><span style="color:#cc0000;">闪电网络、数字钱包、挖矿</span></h4>
  <p>在说以上万个概念之前，我们得对比特币运行的一个流程有一个认识，就是比特币是如何运行的？</p>
  <p><br></p>
  <p>这三个概念，我们得从挖矿说起</p>
  <h2>1、挖矿</h2>
  <p>相信在比特币中，最需要了解的就是挖矿了，在我看来，挖矿有以下几个意义</p>
  <p>1、货币发行</p>
  <p>2、增加区块以及算力</p>
  <p>3、记账</p>
  <h4>挖矿说明：</h4>
  <p><strong>挖矿是参与维护比特币网络的节点，通过协助生成新区块来获取一定量新增的比特币</strong></p>
  <p>1、矿工们在挖矿过程中会得到两种奖励：创建新区块的新币奖励（货币发行），以及区块中所含交易的交易费</p>
  <p>2、当用户发布交易后，需要有人将交易进行确认，写入到区块链中，形成新的区块</p>
  <p></p>
  <div class="page" title="Page 128">
   <div class="layoutArea">
    <div class="column">
     <p><span style="font-size:14px;">3、挖矿的同时还保护着比特币系统的安全你，防止欺诈交易，避免“双重支付”，“双重支付”是指多次花费同一笔比特币。矿工们通过为比特币网络提供算力来换取获得比特币奖励的机会</span></p>
    </div>
   </div>
  </div>
  <h3>比特币的挖矿过程：</h3>
  <p>参与者根据上一个区块的hash值，10分钟内的验证过的交易内容，再加上自己猜测的一个随机数X，进行hash，让新区块的hash值小于比特币网络中给定的一个数，hash出来的值大于给定数时则重新生成随机数进行hash，这个数越小，计算出来就越难。系统每隔一段时间会根据上一周期的挖矿时间来调整挖矿难度，来调节生成区块的时间稳定在10分钟左右。未来避免震荡，每次调节的最大幅度为4倍</p>
  <p></p>
  <h3><br></h3>
  <h3>POW、POS、DPOS</h3>
  <p>而在上图中，挖矿又包含来三个概念，分别是：POW、POS、DPOS</p>
  <p>这不得不提到我们之前说过的问题：</p>
  <p><strong>如果某个人或者组织持有了51%以上的区块，那他是不是就可以篡改数据？(这里涉及到分叉，之后详细说明)</strong></p>
  <p>而POW、POS、DPOS就是为了解决这个问题而出来的解决方案</p>
  <p>这三个概念的诞生，是有其目的的，就是：</p>
  <p></p>
  <div class="page" title="Page 128">
   <div class="layoutArea">
    <div class="column">
     <p></p>
     <div class="page" title="Page 128">
      <div class="layoutArea">
       <div class="column">
        <p><strong>无论是POW/POS/DPOS，还是其他的几十种技术，简单说都是在解决“谁有资格写区块链”的问题。如果区块链只有一个人有资格写入，那就个普通的本地数据库一样了。目前比特币使用的是POW，即工作量证明，以工作量来证明自己有资格写入区块链</strong><br></p>
       </div>
      </div>
     </div>
     <span style="font-size:9pt;font-family:NotoSansCJKsc;font-weight:300;color:rgb(20%,20%,20%);"> </span>
     <span style="font-size:9pt;font-family:LiberationSans;color:rgb(20%,20%,20%);"> </span>
     <span style="font-size:9pt;font-family:NotoSansCJKsc;font-weight:300;color:rgb(20%,20%,20%);"> </span>
     <span style="font-size:9pt;font-family:LiberationSans;color:rgb(20%,20%,20%);"> </span>
     <span style="font-size:9pt;font-family:NotoSansCJKsc;font-weight:300;color:rgb(20%,20%,20%);"> </span>
     <span style="font-size:9pt;font-family:LiberationSans;color:rgb(20%,20%,20%);"> </span>
     <span style="font-size:9pt;font-family:NotoSansCJKsc;font-weight:300;color:rgb(20%,20%,20%);"> </span>
     <span style="font-size:9pt;font-family:LiberationSans;color:rgb(20%,20%,20%);"> </span>
     <span style="font-size:9pt;font-family:NotoSansCJKsc;font-weight:300;color:rgb(20%,20%,20%);"> </span>
    </div>
   </div>
  </div>
  <br>
  <h3><strong>POW：</strong></h3>
  <p><span style="color:rgb(100,100,100);font-family:'system-ui', 'PingFang SC', STHeiti, sans-serif;font-size:15px;background-color:rgb(255,255,255);">POW，即工作量证明，以工作量来证明自己有资格写入区块链。通过穷举寻找一个符合要求的HASH，目前全网算力1.6EHz的情况下，平均每10分钟会出现一个符合要求的答案，谁先找到这个答案的，谁就可以向比特币区块链写入一个新区块。如果你的机器的算力大，你就有比别人更多的机会先找到符合要求的答案，而获得写入区块的权利。区块允许写入区块的那人人给自己增发12.5个比特币做为奖励。在这个模式下，获取区块奖励的成本主要来自于设备和设备的耗电。如果币价稳定，这个成本会被众矿工逐渐推高至接近于区块奖励，成为低盈利的工作。由于成本高昂，攻击者难以在短时间内组织压倒性的算力，（即传说中的51％攻击，但其实51%25依然远远不足以发起攻击），掌握区块链的走向，完成区块回滚的动作为自己牟利。&amp;oq=POW，即工作量证明，以工作量来证明自己有资格写入区块链。通过穷举寻找一个符合要求的HASH，目前全网算力1.6EHz的情况下，平均每10分钟会出现一个符合要求的答案，谁先找到这个答案的，谁就可以向比特币区块链写入一个新区块。如果你的机器的算力大，你就有比别人更多的机会先找到符合要求的答案，而获得写入区块的权利。区块允许写入区块的那人人给自己增发12.5个比特币做为奖励。在这个模式下，获取区块奖励的成本主要来自于设备和设备的耗电。如果币价稳定，这个成本会被众矿工逐渐推高至接近于区块奖励，成为低盈利的工作。由于成本高昂，攻击者难以在短时间内组织压倒性的算力，（即传说中的51％攻击，但其实51%25依然远远不足以发起攻击），掌握区块链的走向，完成区块回滚的动作为自己牟利</span><br></p>
  <h2>POS：</h2>
  <p><span style="color:rgb(100,100,100);font-family:'system-ui', 'PingFang SC', STHeiti, sans-serif;font-size:15px;background-color:rgb(255,255,255);">POS，即权益证明，是用“拥有的币龄”来证明自己有资格写入区块链。币龄可以理解为币量乘以时间，如果你有一个币，在这个地址上放了100天，你就拥有100币龄。当你挪动这比币，这100币龄就消失了，或者说你“毁灭”了100币龄。因此，无论你持币多少，你可以“毁灭”的币龄都是有限的。当然，大户会每天可以攒出更多的币龄。如果说POW是烧电来抢“记账权”，那POS就是烧币龄来抢“记账权”，币龄是随时间自然出现的，环保不费电，并且人人都可以有。同样POS也会给记账的人奖励币，鼓励大家都“毁灭”掉自己的币龄来参与记账的争夺，保障账簿不被随意写入。由于币龄的有限性，只要进行一些限制，POS机制中也很难获得压倒性的币龄来控制区块链。&amp;oq=POS，即权益证明，是用“拥有的币龄”来证明自己有资格写入区块链。币龄可以理解为币量乘以时间，如果你有一个币，在这个地址上放了100天，你就拥有100币龄。当你挪动这比币，这100币龄就消失了，或者说你“毁灭”了100币龄。因此，无论你持币多少，你可以“毁灭”的币龄都是有限的。当然，大户会每天可以攒出更多的币龄。如果说POW是烧电来抢“记账权”，那POS就是烧币龄来抢“记账权”，币龄是随时间自然出现的，环保不费电，并且人人都可以有。同样POS也会给记账的人奖励币，鼓励大家都“毁灭”掉自己的币龄来参与记账的争夺，保障账簿不被随意写入。由于币龄的有限性，只要进行一些限制，POS机制中也很难获得压倒性的币龄来控制区块链。</span><br></p>
  <h3>DPOS：</h3>
  <p><span style="background-color:rgb(255,255,255);"><span style="color:rgb(85,85,85);font-family:Roboto;background-color:rgb(255,255,255);">Delegated Proof of Stake（委托股权证明） 是 PoS 的进化方案，在常规 PoW 和 PoS 中，一大影响效率之处在于任何一个新加入的 Block，都需要被整个网络所有节点做确认。DPoS 优化方案在于：通过不同的策略，不定时的选中一小群节点，这一小群节点做</span><span style="color:rgb(85,85,85);font-family:Roboto;background-color:rgb(255,255,255);">新区块的创建，验证，签名和相互监督</span><span style="color:rgb(85,85,85);font-family:Roboto;background-color:rgb(255,255,255);">，这样就大幅度的减少了区块创建和确认所需要消耗的时间和算力成本。</span></span><br></p>
  <p><span style="background-color:rgb(255,255,255);"><span style="color:rgb(85,85,85);font-family:Roboto;background-color:rgb(255,255,255);"><br></span></span></p>
  <p><span style="background-color:rgb(255,255,255);"><span style="color:rgb(85,85,85);font-family:Roboto;background-color:rgb(255,255,255);">而比特币的共识机制就是：POW</span></span></p>
  <h2><span style="background-color:rgb(255,255,255);"><span style="color:rgb(85,85,85);font-family:Roboto;background-color:rgb(255,255,255);"><span style="font-size:24px;">2、数字钱包</span></span></span></h2>
  <p>数字钱包这个概念，我们可以从比特币的数字钱包来入手</p>
  <p></p>
  <p style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;"><strong>其实也很简单，比特币钱包其实就是“私钥、地址和区块链数据的管理工具”，比如说，私钥这个随机数得生成吧？生成之后得计算出地址吧？相关的区块链数据得维护吧？收到的、花出的账目也都得列出来吧？得能用来收款，也得能进行付款吧？</strong></p>
  <p style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;"><strong>毫无疑问，所有这些都得通过工具来完成，这类的工具我们统称为“比特币钱包”。</strong></p>
  <p>在这里面提到了三个概念：<strong>私钥、地址、区块链</strong></p>
  <p><strong>私钥：</strong></p>
  <p><span style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;background-color:rgb(255,255,255);">其实很简单，只需要记住这么一句话就够了“私钥就是个代表你身份的随机数”，<span style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;background-color:rgb(255,255,255);">这个随机数的概率空间很大（256位，也即是2的256次方），2的256次方是个什么概念呢？比宇宙中的分子还要多，<span style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;background-color:rgb(255,255,255);">也就是说，别人是不可能和你生成一样的私钥的（1/2^256的概率），这个数就代表了你的身份</span></span></span><br></p>
  <p><span style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;background-color:rgb(255,255,255);"><span style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;background-color:rgb(255,255,255);"><span style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;background-color:rgb(255,255,255);"><strong>地址：</strong></span></span></span></p>
  <p><span style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;background-color:rgb(255,255,255);"><span style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;background-color:rgb(255,255,255);"><span style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;background-color:rgb(255,255,255);"><span style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;background-color:rgb(255,255,255);">说完私钥，我们再来谈谈地址，我们不去谈那些诸如“公私钥对儿、椭圆曲线、数字签名、SHA256”等密码学概念，只谈地址这个比特币世界里最常用的东西。地址是通过私钥计算而来的，具体怎么算的，大家不用去管，只需要知道私钥能计算出地址，地址不能反算出私钥，这是前提。比特币地址是1开头的，从一个私钥计算出其对应的地址之后，您就可以往该地址上转比特币了，转入的比特币只有私钥的持有者才能花，就这么简单</span><br></span></span></span></p>
  <p><span style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;background-color:rgb(255,255,255);"><span style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;background-color:rgb(255,255,255);"><span style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;background-color:rgb(255,255,255);"><span style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;background-color:rgb(255,255,255);"><strong>区块链：</strong></span></span></span></span></p>
  <p>其实前几篇下来我们对区块链已经有一个认识了，不过现在这里还是需要一个总结</p>
  <p><span style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;background-color:rgb(255,255,255);">其实区块链这个词也是被很多人给神化了，本质上，区块链其实是中本聪为了比特币所设计的一个“用来去中心化的存储比特币账目”的数据结构，所以，本质上，</span><span style="font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;background-color:rgb(255,255,255);"><span style="color:#cc0000;">区块链就是个“账本”</span></span><span style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;background-color:rgb(255,255,255);">，区块链上记录的都是 A 给 B 转账了 5 个比特币这类的信息，就这么简单。但是为了能做到去中心化，还得能进行自我验证（账目都得验证，不能做假账），因此，① 这个账本被设计成了区块的结构，每过一段时间就会生成出一个新块，把账目做到新的区块中，做进区块的账目就不能再被修改了；② 这个账本中的账目还别设计成了链表（既前后链接的数据结构），这样，每一笔账目都能最快的查询到上一笔来进行验证，一笔一笔的沿着链条向前验证，最终，任何一笔交易都能验证到最初的原始交易（也就是最初挖矿的那笔交易）；这样就做到了去中心化及自我验证，这就是区块链这个数据结构的目的。</span><br></p>
  <p><span style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;background-color:rgb(255,255,255);"><br></span></p>
  <p><span style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;background-color:rgb(255,255,255);"></span></p>
  <p style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;">了解了以上三个概念之后，您就应该理解如下事实：</p>
  <p style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;"><strong>1.私钥决定了比特币的产权，如果想花掉一个地址上的比特币，很简单，您得有私钥，没私钥？抱歉。</strong></p>
  <p style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;"><strong>2.一定要保管好私钥，私钥丢了，币就花不了了，私钥被别人看到了，币就丢了。所以，请做好备份，请做好加密，如果可能的话，请尽可能的“冷”（也就是保持离线、断网），记住，被别人看到了，钱就没了，一定不要让别人看到。</strong></p>
  <p style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;"><strong>3.地址是公开的，请广而告之，如果您拥护该地址的私钥，任何转入该地址的比特币都只有您能花。</strong></p>
  <p style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;"><strong>4.账目都是去中心化的存储在区块链上的，也就是存储在比特币网络的每一个节点上的，并不是存储在私钥或者地址上的，所以，一个地址当前的余额是多少，这类的问题需要问区块链，区块链上有着比特币历史上的全部账目，账目都是公开的。</strong></p>
  <p><span style="color:rgb(51,51,51);font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;font-size:15px;background-color:rgb(255,255,255);"><strong>这，就是比特币</strong></span></p>
  <p><br></p>
  <h2><span style="font-size:24px;">3、闪电网络</span></h2>
  <p>既然说到了闪电网络，那就不得不从更高的纬度来讲解一下几个概念：</p>
  <p>见证隔离、闪电网络、雷电网络</p>
  <p>那么这些概念的意义是什么么？为什么会有这几个概念呢？</p>
  <p>这里主要涉及到一个问题，就是</p>
  <p><span style="font-weight:bold;"><span style="color:#cc0000;">比特币中，<span style="font-family:Arial, 'Microsoft yahei', 'Hiragino Sans GB', '冬青黑体简体中文 w3', 'Microsoft Yahei', 'Hiragino Sans GB', '冬青黑体简体中文 w3', STXihei, '华文细黑', '微软雅黑', SimSun, '宋体', Heiti, '黑体', sans-serif;background-color:rgb(255,255,255);">区块的硬编码限制为1兆字节，而区块又是平均每10分钟生成一个，导致这个账本可以承载的数据量不够，在面对当前如此火热，交易量如此巨大的情况下，一笔交易可能需要等待几小时才能得到确认，<span style="font-family:Arial, 'Microsoft yahei', 'Hiragino Sans GB', '冬青黑体简体中文 w3', 'Microsoft Yahei', 'Hiragino Sans GB', '冬青黑体简体中文 w3', STXihei, '华文细黑', '微软雅黑', SimSun, '宋体', Heiti, '黑体', sans-serif;background-color:rgb(255,255,255);">随着网络规模的扩大，交易强度也随之增加，但区块容量限制则保持不变，这就意味着问题会不断恶化</span></span></span></span></p>
  <p>基于以上的问题，就有了之后的见证隔离、闪电网络、雷电网络，他们的本质都是为了解决这个处理速度的问题</p>
  <h2>一、见证隔离(通常简写为SegWit)，从鉴证信息隔离以扩容</h2>
  <p>隔离见证是对整个设计缺陷的一个修改方案，原理说起来挺简单，它允许交易把没那么必要的“见证”部分“隔离”在区块外面，这就是隔离见证的意思了</p>
  <p></p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;">隔离见证就是把脚本签名(scriptSig)信息从基本结构 (base block) 里拿出来，放在一个新的数据结构当中。做验证工作的节点和矿工<span style="font-weight:600;">也会验证这个新的数据结构里</span>的脚本签名，以确保交易是有效的。</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;">那么重点来了：当审核统计区块大小不能超过1M的时候。脚本签大小不会被计算在内。</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;">这简直是一个数学计算上的巧思！</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;"></p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;">下面我们来说一个非常浅显生动的例子，你瞬间就能明白了。</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;">比如我们有一个交通法规，说一条大路上只能容许总面积是100单位面积的车辆。</p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;">每个车我们有30个单位的面积。大马路上一次只能跑3辆车。</p>
  <img src="https://img-blog.csdn.net/20180220183350451" alt="">
  <br>
  <p style="color:rgb(51,51,51);"><span style="color:rgb(51,51,51);font-family:'-apple-system', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;font-size:14px;background-color:rgb(255,255,255);">这时候把车的</span><span style="font-weight:600;color:rgb(51,51,51);font-family:'-apple-system', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;">结构重新调整下</span><span style="color:rgb(51,51,51);font-family:'-apple-system', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;font-size:14px;background-color:rgb(255,255,255);">，把拖车放到了顶上。每个车的面积单位变成了14个单位. 这时候大马路上一次能跑7辆车了。</span><br></p>
  <p style="color:rgb(51,51,51);"><span style="color:rgb(51,51,51);font-family:'-apple-system', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;font-size:14px;background-color:rgb(255,255,255);"><img src="https://img-blog.csdn.net/20180220183429159" alt=""><br></span></p>
  <p style="color:rgb(51,51,51);"></p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;">好我们现在把刚才浅显易懂的比喻换一下。<span style="font-weight:600;">马路 = 1个区块 车 = 每一笔交易</span></p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;"><br></p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;"><span style="font-weight:600;">问题1： 脚本签名是不是和每笔交易在一起？</span></p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;">如图所释：车顶上的那个方块(脚本签名 ScripSig) 是属于车的一部分。<span style="font-weight:600;">验证交易的时候签名当然会被一起验证。</span></p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;"><br></p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;"><span style="font-weight:600;">问题2：见证是不是在区块链上？</span></p>
  <p style="color:rgb(51,51,51);font-family:'-apple-system', BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;">如图所释：只是改变了车的结构，而且整个车还是开在马路上。所以<span style="font-weight:600;">当然在区块链里面！</span></p>
  <h3 style="color:rgb(51,51,51);">SegWit的解决方案由两部分组成的。</h3>
  <p style="color:rgb(51,51,51);">1、它可以立即将区块容量限制增加到4兆字节。这里就有一点需要注意：4 MB是绝对最大值，而实际区块容量将取决于网络条件。SegWit激活后，专家预测区块容量将在2到2.1兆的范围内，注意，所谓的扩容需要结合上面的说明。</p>
  <p style="color:rgb(51,51,51);">2、解决交易的可扩展性，SegWit消除了以前对于比特币本身来说存在的一个小问题，但对在此之上实施第二层解决方案却是主要障碍。其中一个解决方案就是拟提的闪电网络（Lightning Network）。该方案将大量交易移出区块链进行快速处理，预计将大大增加网络容量。</p>
  <p style="color:rgb(51,51,51);"><br></p>
  <p><strong><span style="color:#33cc00;">注：为什么不干脆进行更大的扩容？</span></strong></p>
  <p style="color:rgb(51,51,51);"></p>
  <p style="color:rgb(26,26,26);font-family:'-apple-system', 'system-ui', 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;font-size:15px;background-color:rgb(255,255,255);">第一 ，扩大区块需要进行硬分叉，万一有的用户不升级钱包，就会产生对比特币的分裂，造成混乱；</p>
  <p style="color:rgb(26,26,26);font-family:'-apple-system', 'system-ui', 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', sans-serif;font-size:15px;background-color:rgb(255,255,255);">第二，如果区块变大，以后交易越来越多，普通人的电脑上根本就运行不起这么大的全节点钱包，只有机构的电脑可以运行，就会导致比特币的中心化。</p>
  <h2 style="color:rgb(51,51,51);">二、闪电网络，从提供一个可扩展的微支付通道网络入手</h2>
  <p style="color:rgb(85,85,85);font-family:'Microsoft YaHei', 'Helvetica Neue', '​Helvetica', '​Arial';font-size:18px;">交易双方若在区块链上预先设有支付通道，就可以多次、高频、双向地通过轧差方式实现瞬间确认的微支付；双方若无直接的点对点支付通道，只要网络中存在一条连通双方的、由多个支付通道构成的支付路径，闪电网络也可以利用这条支付路径实现资金在双方之间的可靠转移。</p>
  <p style="color:rgb(85,85,85);font-family:'Microsoft YaHei', 'Helvetica Neue', '​Helvetica', '​Arial';font-size:18px;">闪电网络并不试图解决单次支付的银货对付问题，其假设是单次支付的金额足够小，即使一方违约另一方的损失也非常小，风险可以承受。因此使用时必须注意“微支付”这个前提。多少资金算“微”，显然应该根据业务而定。</p>
  <h2>三、雷电网络，使用链下交易的方式来解决</h2>
  <p>雷电网络的概念相对复杂一些，不过是与闪电网络一脉相承的</p>
  <p><span style="font-size:14px;color:#000000;"><span style="font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif;text-align:center;">它类似于闪电网络，具有即时到帐，低转账费用，可大规模扩展，隐私保护的特点。</span><span style="font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif;text-align:center;">使用雷电网络的参与者在互相转账时，不需要通过以太坊主链交易确认，而是通过参与者之间创建支付通道在链下完成。</span></span></p>
  <p>它具有两大特征</p>
  <p><strong><span style="font-size:18px;">第一大特征：<span style="color:rgb(51,51,51);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif;font-size:18px;text-align:left;background-color:rgb(255,255,255);">链下交易</span></span></strong></p>
  <p><img src="http://dingyue.nosdn.127.net/roOvJP=0=EuT66l7VVfU2RwpHh7Wx0ya0DY5IKmyD8zDq1508499800240.jpg" alt=""><br></p>
  <p></p>
  <p style="line-height:34px;color:rgb(51,51,51);text-align:left;font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif;"><span style="font-size:14px;">如上图所示，A和B在建立支付通道之前，需要先用主链上的资产做抵押，生成余额证明（Balance Proof），拥有余额证明即表明你能做出相应余额的转账。</span></p>
  <p style="line-height:34px;color:rgb(51,51,51);text-align:left;font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif;"><span style="font-size:14px;">　　在A和B均持有余额证明的情况下，双方可通过支付通道在链下进行无限制次数的转账。</span></p>
  <p style="line-height:34px;color:rgb(51,51,51);text-align:left;font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif;"><span style="font-size:14px;">　　仅有在完成链下交易，需要将资产转回链上时，才会在以太坊主链上登记主链账户的余额变化信息，而这期间不管发生多少次交易在主链上是不会有记录的。这个特点也可以实现一定程度上的隐私保护。</span></p>
  <p style="line-height:34px;color:rgb(51,51,51);text-align:left;font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif;"><strong><span style="font-size:18px;">第二大特征：<span style="color:rgb(51,51,51);font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif;font-size:18px;text-align:left;background-color:rgb(255,255,255);">支付通道的建立</span></span></strong><br></p>
  <p style="font-size:18px;line-height:34px;color:rgb(51,51,51);text-align:left;font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif;">如下图：</p>
  <p style="font-size:18px;line-height:34px;color:rgb(51,51,51);text-align:left;font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif;">　　如果A要转账给C，而当A和C之间没有支付通道时，雷电网络会<strong>自动匹配</strong>网络中的参与者，试图在A和C之间找到一个中介来完成支付通道的建立，显然，B就是A与C之间交易需要的中间点。</p>
  <p style="font-size:18px;line-height:34px;color:rgb(51,51,51);text-align:left;font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif;">　　同样道理，当A需要转账给D时，B、E会作为中介来完成支付通道的建立。</p>
  <p><img src="http://dingyue.nosdn.127.net/eX03GaLx0xrQDCJnTFMZ4jo2OTuevv68CGHKLYeDNaFao1508499800240.jpg" alt=""></p>
  <p></p>
  <p style="line-height:34px;color:rgb(51,51,51);text-align:left;font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif;"><span style="font-size:14px;">以上就是雷电网络的基本工作原理。</span></p>
  <p style="line-height:34px;color:rgb(51,51,51);text-align:left;font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif;"><span style="font-size:14px;">　　不难看出，雷电网络具有的优势不小。今后基于以太坊ERC20标准的代币会越来越多，而目前代币的转账都在主链上进行，需要消耗Gas，支付矿工费。</span></p>
  <p style="line-height:34px;color:rgb(51,51,51);text-align:left;font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif;"><span style="font-size:14px;">　　对于某些本身价值就不大的代币来讲，矿工费会显得过于高昂，但是通过把交易搬到链下，可以避免产生矿工费用，雷电网络就可以解决这个问题。</span></p>
  <p style="line-height:34px;color:rgb(51,51,51);text-align:left;font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif;"><span style="font-size:14px;">从雷电网络的结构上不难发现，使用者越多，存在的支付通道越多，转账确认的速度就会越快。相信如果真的能在全球范围内普及，会织成一张密密麻麻的P2P支付网络，届时，这个网络处理交易的速度和吞吐量都可以满足所有用户。</span></p>
  <p style="line-height:34px;color:rgb(51,51,51);text-align:left;font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif;"><span style="font-size:14px;">　　当然，并不是说雷电网络就是完美的。首先，在使用雷电网络时需要用主链上的资产作抵押；而这部分资产作为抵押物，在使用者完成链下交易之前是不能使用的。这也就决定了，雷电交易只适合小额交易。</span></p>
  <p style="line-height:34px;color:rgb(51,51,51);text-align:left;font-family:'Microsoft Yahei', 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'WenQuanYi Micro Hei', sans-serif;"><span style="font-size:14px;">　　另外，在雷电网络建立初期，支付通道会非常少，这就需要有人主动多建立中介点，才能让整个网络有实用价值。</span></p>
  <br> 
 </div> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/YANGDAHUAN/article/details/79338684,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/YANGDAHUAN/article/details/79338684,&quot;}">阅读更多</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0d1dbe5a3e5863242418b768d1601633";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
