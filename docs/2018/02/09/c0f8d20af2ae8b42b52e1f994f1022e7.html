<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>ethereum 智能合约开发 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="ethereum 智能合约开发" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="&nbsp;以太坊智能合约开发有许多的概念，对于初次接触到的开发者有很多的疑惑，经过自己的总结，对以太坊智能合约相关概念 有一个总结，写了一个测试的js脚步，使用remix 作为solidity开发工具，需要自己安装，作为备忘。 首先需要一个简单的智能合约sol: // ----------------------------------------------------------------------------&nbsp;// Owned contract&nbsp;// ----------------------------------------------------------------------------&nbsp;contract Owned {&nbsp; &nbsp; &nbsp;address public owner; &nbsp; &nbsp; &nbsp;address public newOwner; &nbsp;&nbsp; &nbsp; &nbsp;event OwnershipTransferred(address indexed _from, address indexed _to);&nbsp; &nbsp; &nbsp;&nbsp;function Owned() public {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;owner = msg.sender;&nbsp; &nbsp;&nbsp;&nbsp; }&nbsp; &nbsp; &nbsp;&nbsp;modifier onlyOwner {&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; require(msg.sender == owner);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;_;&nbsp; &nbsp; &nbsp;&nbsp;}&nbsp; &nbsp; &nbsp;&nbsp;function transferOwnership(address _newOwner) public onlyOwner {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;newOwner = _newOwner;&nbsp; &nbsp; &nbsp;&nbsp;}&nbsp; &nbsp;&nbsp;&nbsp; function acceptOwnership() public {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;require(msg.sender == newOwner);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;OwnershipTransferred(owner, newOwner);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;owner = newOwner;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;newOwner = address(0);&nbsp; &nbsp; &nbsp;&nbsp;}&nbsp; &nbsp;} 然后是相关概念的测试js程序: var ownedContract = web3.eth.contract([{&quot;constant&quot;:false,&quot;inputs&quot;:[],&quot;name&quot;:&quot;acceptOwnership&quot;,&quot;outputs&quot;:[],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;nonpayable&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;owner&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;view&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;newOwner&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;view&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;name&quot;:&quot;_newOwner&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;name&quot;:&quot;transferOwnership&quot;,&quot;outputs&quot;:[],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;nonpayable&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;inputs&quot;:[],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;nonpayable&quot;,&quot;type&quot;:&quot;constructor&quot;},{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;indexed&quot;:true,&quot;name&quot;:&quot;_from&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;indexed&quot;:true,&quot;name&quot;:&quot;_to&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;name&quot;:&quot;OwnershipTransferred&quot;,&quot;type&quot;:&quot;event&quot;}]);/*var owned = ownedContract.new(&nbsp; &nbsp;{&nbsp; &nbsp; &nbsp;from: web3.eth.accounts[0],&nbsp;&nbsp; &nbsp; &nbsp;data: &#39;0x6060604052341561000f57600080fd5b336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506104148061005e6000396000f300606060405260043610610062576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806379ba5097146100675780638da5cb5b1461007c578063d4ee1d90146100d1578063f2fde38b14610126575b600080fd5b341561007257600080fd5b61007a61015f565b005b341561008757600080fd5b61008f6102fe565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34156100dc57600080fd5b6100e4610323565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561013157600080fd5b61015d600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610349565b005b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156101bb57600080fd5b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a3600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156103a457600080fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505600a165627a7a7230582015c5f0007d32295cdee391924291240246ef73fec7a94bb222f66d148c3523710029&#39;,&nbsp;&nbsp; &nbsp; &nbsp;gas: &#39;4700000&#39;&nbsp; &nbsp;}, function (e, contract){&nbsp; &nbsp; console.log(e, contract);&nbsp; &nbsp; if (typeof contract.address !== &#39;undefined&#39;) {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.log(&#39;Contract mined! address: &#39; + contract.address + &#39; transactionHash: &#39; + contract.transactionHash);&nbsp; &nbsp; }&nbsp;})&nbsp;contract Owned {&nbsp; &nbsp; address public owner;&nbsp; &nbsp; address public newOwner;&nbsp; &nbsp; event OwnershipTransferred(address indexed _from, address indexed _to);&nbsp; &nbsp; function Owned() public {&nbsp; &nbsp; &nbsp; &nbsp; owner = msg.sender;&nbsp; &nbsp; }&nbsp; &nbsp; modifier onlyOwner {&nbsp; &nbsp; &nbsp; &nbsp; require(msg.sender == owner);&nbsp; &nbsp; &nbsp; &nbsp; _;&nbsp; &nbsp; }&nbsp; &nbsp; function transferOwnership(address _newOwner) public onlyOwner {&nbsp; &nbsp; &nbsp; &nbsp; newOwner = _newOwner;&nbsp; &nbsp; }&nbsp; &nbsp; function acceptOwnership() public {&nbsp; &nbsp; &nbsp; &nbsp; require(msg.sender == newOwner);&nbsp; &nbsp; &nbsp; &nbsp; OwnershipTransferred(owner, newOwner);&nbsp; &nbsp; &nbsp; &nbsp; owner = newOwner;&nbsp; &nbsp; &nbsp; &nbsp; newOwner = address(0);&nbsp; &nbsp; }}caddr=owend.address*/personal.unlockAccount(eth.accounts[2], &#39;123&#39;)personal.unlockAccount(eth.accounts[0], &#39;123&#39;)caddr=&quot;0x76475534b4646da2b4b2cd2dd7d8e11f111b8458&quot;owned=ownedContract.at(caddr)newAI=function(){ for (var i = 0; i &lt; eth.accounts.length; i++){ if(eth.accounts[i] == owned.owner()){ return 2 - i; } } return 0;}()owned.transferOwnership.sendTransaction(eth.accounts[newAI], {from:owned.owner()})fl.stopWatching()topic=web3.sha3(&quot;OwnershipTransferred(address,address)&quot;)fl=web3.eth.filter({topics:[topic], address:caddr}, function(error, result){ console.info(&quot;==&gt;&quot;,JSON.stringify(result)) })//failed&nbsp;owned.acceptOwnership.estimateGas({from:eth.accounts[1]})owned.acceptOwnership.estimateGas({from:owned.newOwner()})owned.transferOwnership.estimateGas(eth.accounts[newAI],{from:owned.owner()})owned.acceptOwnership.sendTransaction({from:eth.accounts[newAI]}) 阅读更多" />
<meta property="og:description" content="&nbsp;以太坊智能合约开发有许多的概念，对于初次接触到的开发者有很多的疑惑，经过自己的总结，对以太坊智能合约相关概念 有一个总结，写了一个测试的js脚步，使用remix 作为solidity开发工具，需要自己安装，作为备忘。 首先需要一个简单的智能合约sol: // ----------------------------------------------------------------------------&nbsp;// Owned contract&nbsp;// ----------------------------------------------------------------------------&nbsp;contract Owned {&nbsp; &nbsp; &nbsp;address public owner; &nbsp; &nbsp; &nbsp;address public newOwner; &nbsp;&nbsp; &nbsp; &nbsp;event OwnershipTransferred(address indexed _from, address indexed _to);&nbsp; &nbsp; &nbsp;&nbsp;function Owned() public {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;owner = msg.sender;&nbsp; &nbsp;&nbsp;&nbsp; }&nbsp; &nbsp; &nbsp;&nbsp;modifier onlyOwner {&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; require(msg.sender == owner);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;_;&nbsp; &nbsp; &nbsp;&nbsp;}&nbsp; &nbsp; &nbsp;&nbsp;function transferOwnership(address _newOwner) public onlyOwner {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;newOwner = _newOwner;&nbsp; &nbsp; &nbsp;&nbsp;}&nbsp; &nbsp;&nbsp;&nbsp; function acceptOwnership() public {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;require(msg.sender == newOwner);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;OwnershipTransferred(owner, newOwner);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;owner = newOwner;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;newOwner = address(0);&nbsp; &nbsp; &nbsp;&nbsp;}&nbsp; &nbsp;} 然后是相关概念的测试js程序: var ownedContract = web3.eth.contract([{&quot;constant&quot;:false,&quot;inputs&quot;:[],&quot;name&quot;:&quot;acceptOwnership&quot;,&quot;outputs&quot;:[],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;nonpayable&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;owner&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;view&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;newOwner&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;view&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;name&quot;:&quot;_newOwner&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;name&quot;:&quot;transferOwnership&quot;,&quot;outputs&quot;:[],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;nonpayable&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;inputs&quot;:[],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;nonpayable&quot;,&quot;type&quot;:&quot;constructor&quot;},{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;indexed&quot;:true,&quot;name&quot;:&quot;_from&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;indexed&quot;:true,&quot;name&quot;:&quot;_to&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;name&quot;:&quot;OwnershipTransferred&quot;,&quot;type&quot;:&quot;event&quot;}]);/*var owned = ownedContract.new(&nbsp; &nbsp;{&nbsp; &nbsp; &nbsp;from: web3.eth.accounts[0],&nbsp;&nbsp; &nbsp; &nbsp;data: &#39;0x6060604052341561000f57600080fd5b336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506104148061005e6000396000f300606060405260043610610062576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806379ba5097146100675780638da5cb5b1461007c578063d4ee1d90146100d1578063f2fde38b14610126575b600080fd5b341561007257600080fd5b61007a61015f565b005b341561008757600080fd5b61008f6102fe565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34156100dc57600080fd5b6100e4610323565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561013157600080fd5b61015d600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610349565b005b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156101bb57600080fd5b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a3600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156103a457600080fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505600a165627a7a7230582015c5f0007d32295cdee391924291240246ef73fec7a94bb222f66d148c3523710029&#39;,&nbsp;&nbsp; &nbsp; &nbsp;gas: &#39;4700000&#39;&nbsp; &nbsp;}, function (e, contract){&nbsp; &nbsp; console.log(e, contract);&nbsp; &nbsp; if (typeof contract.address !== &#39;undefined&#39;) {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.log(&#39;Contract mined! address: &#39; + contract.address + &#39; transactionHash: &#39; + contract.transactionHash);&nbsp; &nbsp; }&nbsp;})&nbsp;contract Owned {&nbsp; &nbsp; address public owner;&nbsp; &nbsp; address public newOwner;&nbsp; &nbsp; event OwnershipTransferred(address indexed _from, address indexed _to);&nbsp; &nbsp; function Owned() public {&nbsp; &nbsp; &nbsp; &nbsp; owner = msg.sender;&nbsp; &nbsp; }&nbsp; &nbsp; modifier onlyOwner {&nbsp; &nbsp; &nbsp; &nbsp; require(msg.sender == owner);&nbsp; &nbsp; &nbsp; &nbsp; _;&nbsp; &nbsp; }&nbsp; &nbsp; function transferOwnership(address _newOwner) public onlyOwner {&nbsp; &nbsp; &nbsp; &nbsp; newOwner = _newOwner;&nbsp; &nbsp; }&nbsp; &nbsp; function acceptOwnership() public {&nbsp; &nbsp; &nbsp; &nbsp; require(msg.sender == newOwner);&nbsp; &nbsp; &nbsp; &nbsp; OwnershipTransferred(owner, newOwner);&nbsp; &nbsp; &nbsp; &nbsp; owner = newOwner;&nbsp; &nbsp; &nbsp; &nbsp; newOwner = address(0);&nbsp; &nbsp; }}caddr=owend.address*/personal.unlockAccount(eth.accounts[2], &#39;123&#39;)personal.unlockAccount(eth.accounts[0], &#39;123&#39;)caddr=&quot;0x76475534b4646da2b4b2cd2dd7d8e11f111b8458&quot;owned=ownedContract.at(caddr)newAI=function(){ for (var i = 0; i &lt; eth.accounts.length; i++){ if(eth.accounts[i] == owned.owner()){ return 2 - i; } } return 0;}()owned.transferOwnership.sendTransaction(eth.accounts[newAI], {from:owned.owner()})fl.stopWatching()topic=web3.sha3(&quot;OwnershipTransferred(address,address)&quot;)fl=web3.eth.filter({topics:[topic], address:caddr}, function(error, result){ console.info(&quot;==&gt;&quot;,JSON.stringify(result)) })//failed&nbsp;owned.acceptOwnership.estimateGas({from:eth.accounts[1]})owned.acceptOwnership.estimateGas({from:owned.newOwner()})owned.transferOwnership.estimateGas(eth.accounts[newAI],{from:owned.owner()})owned.acceptOwnership.sendTransaction({from:eth.accounts[newAI]}) 阅读更多" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-02-09T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"&nbsp;以太坊智能合约开发有许多的概念，对于初次接触到的开发者有很多的疑惑，经过自己的总结，对以太坊智能合约相关概念 有一个总结，写了一个测试的js脚步，使用remix 作为solidity开发工具，需要自己安装，作为备忘。 首先需要一个简单的智能合约sol: // ----------------------------------------------------------------------------&nbsp;// Owned contract&nbsp;// ----------------------------------------------------------------------------&nbsp;contract Owned {&nbsp; &nbsp; &nbsp;address public owner; &nbsp; &nbsp; &nbsp;address public newOwner; &nbsp;&nbsp; &nbsp; &nbsp;event OwnershipTransferred(address indexed _from, address indexed _to);&nbsp; &nbsp; &nbsp;&nbsp;function Owned() public {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;owner = msg.sender;&nbsp; &nbsp;&nbsp;&nbsp; }&nbsp; &nbsp; &nbsp;&nbsp;modifier onlyOwner {&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; require(msg.sender == owner);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;_;&nbsp; &nbsp; &nbsp;&nbsp;}&nbsp; &nbsp; &nbsp;&nbsp;function transferOwnership(address _newOwner) public onlyOwner {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;newOwner = _newOwner;&nbsp; &nbsp; &nbsp;&nbsp;}&nbsp; &nbsp;&nbsp;&nbsp; function acceptOwnership() public {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;require(msg.sender == newOwner);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;OwnershipTransferred(owner, newOwner);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;owner = newOwner;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;newOwner = address(0);&nbsp; &nbsp; &nbsp;&nbsp;}&nbsp; &nbsp;} 然后是相关概念的测试js程序: var ownedContract = web3.eth.contract([{&quot;constant&quot;:false,&quot;inputs&quot;:[],&quot;name&quot;:&quot;acceptOwnership&quot;,&quot;outputs&quot;:[],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;nonpayable&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;owner&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;view&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:true,&quot;inputs&quot;:[],&quot;name&quot;:&quot;newOwner&quot;,&quot;outputs&quot;:[{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;view&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;constant&quot;:false,&quot;inputs&quot;:[{&quot;name&quot;:&quot;_newOwner&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;name&quot;:&quot;transferOwnership&quot;,&quot;outputs&quot;:[],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;nonpayable&quot;,&quot;type&quot;:&quot;function&quot;},{&quot;inputs&quot;:[],&quot;payable&quot;:false,&quot;stateMutability&quot;:&quot;nonpayable&quot;,&quot;type&quot;:&quot;constructor&quot;},{&quot;anonymous&quot;:false,&quot;inputs&quot;:[{&quot;indexed&quot;:true,&quot;name&quot;:&quot;_from&quot;,&quot;type&quot;:&quot;address&quot;},{&quot;indexed&quot;:true,&quot;name&quot;:&quot;_to&quot;,&quot;type&quot;:&quot;address&quot;}],&quot;name&quot;:&quot;OwnershipTransferred&quot;,&quot;type&quot;:&quot;event&quot;}]);/*var owned = ownedContract.new(&nbsp; &nbsp;{&nbsp; &nbsp; &nbsp;from: web3.eth.accounts[0],&nbsp;&nbsp; &nbsp; &nbsp;data: &#39;0x6060604052341561000f57600080fd5b336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506104148061005e6000396000f300606060405260043610610062576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806379ba5097146100675780638da5cb5b1461007c578063d4ee1d90146100d1578063f2fde38b14610126575b600080fd5b341561007257600080fd5b61007a61015f565b005b341561008757600080fd5b61008f6102fe565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34156100dc57600080fd5b6100e4610323565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561013157600080fd5b61015d600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610349565b005b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156101bb57600080fd5b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a3600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156103a457600080fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505600a165627a7a7230582015c5f0007d32295cdee391924291240246ef73fec7a94bb222f66d148c3523710029&#39;,&nbsp;&nbsp; &nbsp; &nbsp;gas: &#39;4700000&#39;&nbsp; &nbsp;}, function (e, contract){&nbsp; &nbsp; console.log(e, contract);&nbsp; &nbsp; if (typeof contract.address !== &#39;undefined&#39;) {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.log(&#39;Contract mined! address: &#39; + contract.address + &#39; transactionHash: &#39; + contract.transactionHash);&nbsp; &nbsp; }&nbsp;})&nbsp;contract Owned {&nbsp; &nbsp; address public owner;&nbsp; &nbsp; address public newOwner;&nbsp; &nbsp; event OwnershipTransferred(address indexed _from, address indexed _to);&nbsp; &nbsp; function Owned() public {&nbsp; &nbsp; &nbsp; &nbsp; owner = msg.sender;&nbsp; &nbsp; }&nbsp; &nbsp; modifier onlyOwner {&nbsp; &nbsp; &nbsp; &nbsp; require(msg.sender == owner);&nbsp; &nbsp; &nbsp; &nbsp; _;&nbsp; &nbsp; }&nbsp; &nbsp; function transferOwnership(address _newOwner) public onlyOwner {&nbsp; &nbsp; &nbsp; &nbsp; newOwner = _newOwner;&nbsp; &nbsp; }&nbsp; &nbsp; function acceptOwnership() public {&nbsp; &nbsp; &nbsp; &nbsp; require(msg.sender == newOwner);&nbsp; &nbsp; &nbsp; &nbsp; OwnershipTransferred(owner, newOwner);&nbsp; &nbsp; &nbsp; &nbsp; owner = newOwner;&nbsp; &nbsp; &nbsp; &nbsp; newOwner = address(0);&nbsp; &nbsp; }}caddr=owend.address*/personal.unlockAccount(eth.accounts[2], &#39;123&#39;)personal.unlockAccount(eth.accounts[0], &#39;123&#39;)caddr=&quot;0x76475534b4646da2b4b2cd2dd7d8e11f111b8458&quot;owned=ownedContract.at(caddr)newAI=function(){ for (var i = 0; i &lt; eth.accounts.length; i++){ if(eth.accounts[i] == owned.owner()){ return 2 - i; } } return 0;}()owned.transferOwnership.sendTransaction(eth.accounts[newAI], {from:owned.owner()})fl.stopWatching()topic=web3.sha3(&quot;OwnershipTransferred(address,address)&quot;)fl=web3.eth.filter({topics:[topic], address:caddr}, function(error, result){ console.info(&quot;==&gt;&quot;,JSON.stringify(result)) })//failed&nbsp;owned.acceptOwnership.estimateGas({from:eth.accounts[1]})owned.acceptOwnership.estimateGas({from:owned.newOwner()})owned.transferOwnership.estimateGas(eth.accounts[newAI],{from:owned.owner()})owned.acceptOwnership.sendTransaction({from:eth.accounts[newAI]}) 阅读更多","@type":"BlogPosting","url":"/2018/02/09/c0f8d20af2ae8b42b52e1f994f1022e7.html","headline":"ethereum 智能合约开发","dateModified":"2018-02-09T00:00:00+08:00","datePublished":"2018-02-09T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/2018/02/09/c0f8d20af2ae8b42b52e1f994f1022e7.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-1');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>ethereum 智能合约开发</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css"> 
 <div class="htmledit_views"> 
  <p><span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;以太坊智能合约开发有许多的概念，对于初次接触到的开发者有很多的疑惑，经过自己的总结，对以太坊智能合约相关概念</span></p>
  <p></p>
  <p><span class="space" style="text-indent:2em;line-height:inherit;">有一个总结，写了一个测试的js脚步，使用remix 作为solidity开发工具，需要自己安装，作为备忘。</span></p>
  <p></p>
  <p><span class="space" style="text-indent:2em;line-height:inherit;">首先需要一个简单的智能合约sol:</span></p>
  <p><span class="space" style="text-indent:2em;line-height:inherit;">// ----------------------------------------------------------------------------<br><span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span>// Owned contract<br><span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span>// ----------------------------------------------------------------------------<br><span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span>contract Owned {<br>&nbsp; &nbsp; <span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span>address public owner;<br></span></p>
  <p><span class="space" style="text-indent:2em;line-height:inherit;">&nbsp; &nbsp; <span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span>address public newOwner;</span></p>
  <span class="space" style="text-indent:2em;line-height:inherit;"><span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span>&nbsp; &nbsp; <span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span>event OwnershipTransferred(address indexed _from, address indexed _to);<br><br><br>&nbsp; &nbsp; <span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span><span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span>function Owned() public {<br>&nbsp; &nbsp; &nbsp; &nbsp; <span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span><span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span>owner = msg.sender;<br>&nbsp; &nbsp;<span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span><span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span> }<br><br><br>&nbsp; &nbsp; <span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span><span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span>modifier onlyOwner {<br>&nbsp; &nbsp; &nbsp; &nbsp;<span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span><span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span> require(msg.sender == owner);<br>&nbsp; &nbsp; &nbsp; &nbsp; <span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span><span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span>_;<br>&nbsp; &nbsp; <span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span><span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span>}<br><br><br>&nbsp; &nbsp; <span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;<span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span></span>function transferOwnership(address _newOwner) public onlyOwner {<br>&nbsp; &nbsp; &nbsp; &nbsp; <span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span><span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span>newOwner = _newOwner;<br>&nbsp; &nbsp; <span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span><span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span>}<br>&nbsp; &nbsp;<span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span><span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span> function acceptOwnership() public {<br>&nbsp; &nbsp; &nbsp; &nbsp; <span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span><span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span>require(msg.sender == newOwner);<br>&nbsp; &nbsp; &nbsp; &nbsp; <span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span><span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span>OwnershipTransferred(owner, newOwner);<br>&nbsp; &nbsp; &nbsp; &nbsp; <span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span><span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span>owner = newOwner;<br>&nbsp; &nbsp; &nbsp; &nbsp; <span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span><span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span>newOwner = address(0);<br>&nbsp; &nbsp; <span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span><span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span>}<span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span><br></span>
  <p><span class="space" style="text-indent:2em;line-height:inherit;"><span class="space" style="text-indent:2em;line-height:inherit;">&nbsp;</span>}</span></p>
  <p style="text-indent:32px;"><span>然后是相关概念的测试js程序:</span></p>
  <p style="text-indent:32px;"><span>var ownedContract = web3.eth.contract([{"constant":false,"inputs":[],"name":"acceptOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"newOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"}],"name":"OwnershipTransferred","type":"event"}]);<br>/*<br>var owned = ownedContract.new(<br>&nbsp; &nbsp;{<br>&nbsp; &nbsp; &nbsp;from: web3.eth.accounts[0],&nbsp;<br>&nbsp; &nbsp; &nbsp;data: '0x6060604052341561000f57600080fd5b336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506104148061005e6000396000f300606060405260043610610062576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806379ba5097146100675780638da5cb5b1461007c578063d4ee1d90146100d1578063f2fde38b14610126575b600080fd5b341561007257600080fd5b61007a61015f565b005b341561008757600080fd5b61008f6102fe565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34156100dc57600080fd5b6100e4610323565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561013157600080fd5b61015d600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610349565b005b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156101bb57600080fd5b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a3600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156103a457600080fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505600a165627a7a7230582015c5f0007d32295cdee391924291240246ef73fec7a94bb222f66d148c3523710029',&nbsp;<br>&nbsp; &nbsp; &nbsp;gas: '4700000'<br>&nbsp; &nbsp;}, function (e, contract){<br>&nbsp; &nbsp; console.log(e, contract);<br>&nbsp; &nbsp; if (typeof contract.address !== 'undefined') {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);<br>&nbsp; &nbsp; }<br>&nbsp;})<br><br><br>&nbsp;contract Owned {<br>&nbsp; &nbsp; address public owner;<br>&nbsp; &nbsp; address public newOwner;<br><br><br>&nbsp; &nbsp; event OwnershipTransferred(address indexed _from, address indexed _to);<br><br><br>&nbsp; &nbsp; function Owned() public {<br>&nbsp; &nbsp; &nbsp; &nbsp; owner = msg.sender;<br>&nbsp; &nbsp; }<br><br><br>&nbsp; &nbsp; modifier onlyOwner {<br>&nbsp; &nbsp; &nbsp; &nbsp; require(msg.sender == owner);<br>&nbsp; &nbsp; &nbsp; &nbsp; _;<br>&nbsp; &nbsp; }<br><br><br>&nbsp; &nbsp; function transferOwnership(address _newOwner) public onlyOwner {<br>&nbsp; &nbsp; &nbsp; &nbsp; newOwner = _newOwner;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; function acceptOwnership() public {<br>&nbsp; &nbsp; &nbsp; &nbsp; require(msg.sender == newOwner);<br>&nbsp; &nbsp; &nbsp; &nbsp; OwnershipTransferred(owner, newOwner);<br>&nbsp; &nbsp; &nbsp; &nbsp; owner = newOwner;<br>&nbsp; &nbsp; &nbsp; &nbsp; newOwner = address(0);<br>&nbsp; &nbsp; }<br>}<br>caddr=owend.address<br><br><br>*/<br>personal.unlockAccount(eth.accounts[2], '123')<br>personal.unlockAccount(eth.accounts[0], '123')<br>caddr="0x76475534b4646da2b4b2cd2dd7d8e11f111b8458"<br>owned=ownedContract.at(caddr)<br>newAI=function(){<br><span> </span>for (var i = 0; i &lt; eth.accounts.length; i++){<br><span> </span>if(eth.accounts[i] == owned.owner()){<br><span> </span>return 2 - i;<br><span> </span>}<span> </span><br><span> </span>}<br><span> </span>return 0;<br>}()<br><br><br>owned.transferOwnership.sendTransaction(eth.accounts[newAI], {from:owned.owner()})<br><br><br>fl.stopWatching()<br>topic=web3.sha3("OwnershipTransferred(address,address)")<br>fl=web3.eth.filter({topics:[topic], address:caddr}, function(error, result){<br><span> </span>console.info("==&gt;",JSON.stringify(result))<br><span> </span>}<br>)<br>//failed&nbsp;<br>owned.acceptOwnership.estimateGas({from:eth.accounts[1]})<br><br><br>owned.acceptOwnership.estimateGas({from:owned.newOwner()})<br>owned.transferOwnership.estimateGas(eth.accounts[newAI],{from:owned.owner()})<br><br><br>owned.acceptOwnership.sendTransaction({from:eth.accounts[newAI]})<br></span></p> 
 </div> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/boxunyi/article/details/79296791,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/boxunyi/article/details/79296791,&quot;}">阅读更多</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?ee64533f3c6a7a284cd39a37ee732c8b";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
