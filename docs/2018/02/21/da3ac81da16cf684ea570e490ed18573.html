<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Solidity基础入门知识（十）函数的访问权限和可见性 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Solidity基础入门知识（十）函数的访问权限和可见性" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="在之前的文章中我们介绍了Solidity语言函数的一些基本语法。下面来继续介绍作为一个分布式网络语言所特有的internal和external这两种不同的函数调用方式，以及Solidity提供的对函数调用时的可见性控制语法。 一、 调用方式 Solidity封装了两种函数的调用方式internal和external。 internal internal调用，实现时转为简单的EVM跳转，所以它能直接使用上下文环境中的数据，对于引用传递时将会变得非常高效（不用拷贝数据）。 在当前的代码单元内，如对合约内函数，引入的库函数，以及父类合约中的函数直接使用即是以internal方式的调用。我们来看个简单的例子： pragma solidity ^0.4.0; contract Test { function f(){} //以`internal`的方式调用 function callInternally(){ f(); } } 在上述代码中，callInternally()以internal的方式对f()函数进行了调用。 external external调用，实现为合约的外部消息调用。所以在合约初始化时不能external的方式调用自身函数，因为合约还未初始化完成。下面来看一个以external方式调用的例子： pragma solidity ^0.4.0; contract A{ function f(){} } contract B{ //以`external`的方式调用另一合约中的函数 function callExternal(A a){ a.f(); } } 虽然当前合约A和B的代码放在一起，但部署到网络上后，它们是两个完全独立的合约，它们之间的方法调用是通过消息调用。上述代码中，在合约B中的callExternal()以external的方式调用了合约A的f()。 external调用时，实际是向目标合约发送一个消息调用。消息中的函数定义部分是一个24字节大小的消息体，20字节为地址，4字节为函数签名。 this 我们可以在合约的调用函数前加this.来强制以external方式的调用。需要注意的是这里的this的用法与大多数语言的都不一致。 pragma solidity ^0.4.0; contract A{ function f() internal{} function callInternally(){ f(); } //以`external`的方式调用 //f()只能以`internal`的方式调用 //Untitled3:7:9: Error: Member &quot;f&quot; not found or not visible after argument-dependent lookup in contract A function callExternally(){ //this.f(); } } 调用方式说明 上面所提到的internal和external指的函数调用方式，请不要与后面的函数可见性声明的external，public，internal，private弄混。声明只是意味着这个函数需要使用相对应的调用方式去调用。后续说明中会用以某某方式调用，来强调是对调用方式的阐述以加以区分。 二、函数的可见性 Solidity为函数提供了四种可见性，external，public，internal，private。 external 声明为external的可以从其它合约或通过Transaction进行调用，所以声明为external的函数是合约对外接口的一部分。 不能以internal的方式进行调用。 有时在接收大的数据数组时性能更好。 pragma solidity ^0.4.5; contract FuntionTest{ function externalFunc() external{} function callFunc(){ //以`internal`的方式调用函数报错 //Error: Undeclared identifier. //externalFunc(); //以`external`的方式调用函数 this.externalFunc(); } } 声明为external的externalFunc()只能以external的方式进行调用，以internal的方式调用会报Error: Undeclared identifier.。 public 函数默认声明为public。 public的函数既允许以internal的方式调用，也允许以external的方式调用。 public的函数由于被外部合约访问，是合约对外接口的一部分。 pragma solidity ^0.4.5; contract FuntionTest{ //默认是public函数 function publicFunc(){} function callFunc(){ //以`internal`的方式调用函数 publicFunc(); //以`external`的方式调用函数 this.publicFunc(); } } 我们可以看到声明为public的publicFunc()允许两种调用方式。 internal 在当前的合约或继承的合约中，只允许以internal的方式调用。 pragma solidity ^0.4.5; contract A{ //默认是public函数 function internalFunc() internal{} function callFunc(){ //以`internal`的方式调用函数 internalFunc(); } } contract B is A{ //子合约中调用 function callFunc(){ internalFunc(); } } 上述例子中声明为internal的internalFunc()在定义合约，和子合约中均只能以internal的方式可以进行调用。 private 只能在当前合约中被访问（不可在被继承的合约中访问）。 即使声明为private，仍能被所有人查看到里面的数据。访问权限只是阻止了其它合约访问函数或修改数据。 pragma solidity ^0.4.5; contract A{ //默认是public函数 function privateFunc() private{} function callFunc(){ //以`internal`的方式调用函数 privateFunc(); } } contract B is A{ //不可调用`private` function callFunc(){ //privateFunc(); } } 上述例子中，声明为private的privateFunc()只能在定义的合约中以internal的方式进行调用。 （转自：tryblockchain.org） 阅读更多" />
<meta property="og:description" content="在之前的文章中我们介绍了Solidity语言函数的一些基本语法。下面来继续介绍作为一个分布式网络语言所特有的internal和external这两种不同的函数调用方式，以及Solidity提供的对函数调用时的可见性控制语法。 一、 调用方式 Solidity封装了两种函数的调用方式internal和external。 internal internal调用，实现时转为简单的EVM跳转，所以它能直接使用上下文环境中的数据，对于引用传递时将会变得非常高效（不用拷贝数据）。 在当前的代码单元内，如对合约内函数，引入的库函数，以及父类合约中的函数直接使用即是以internal方式的调用。我们来看个简单的例子： pragma solidity ^0.4.0; contract Test { function f(){} //以`internal`的方式调用 function callInternally(){ f(); } } 在上述代码中，callInternally()以internal的方式对f()函数进行了调用。 external external调用，实现为合约的外部消息调用。所以在合约初始化时不能external的方式调用自身函数，因为合约还未初始化完成。下面来看一个以external方式调用的例子： pragma solidity ^0.4.0; contract A{ function f(){} } contract B{ //以`external`的方式调用另一合约中的函数 function callExternal(A a){ a.f(); } } 虽然当前合约A和B的代码放在一起，但部署到网络上后，它们是两个完全独立的合约，它们之间的方法调用是通过消息调用。上述代码中，在合约B中的callExternal()以external的方式调用了合约A的f()。 external调用时，实际是向目标合约发送一个消息调用。消息中的函数定义部分是一个24字节大小的消息体，20字节为地址，4字节为函数签名。 this 我们可以在合约的调用函数前加this.来强制以external方式的调用。需要注意的是这里的this的用法与大多数语言的都不一致。 pragma solidity ^0.4.0; contract A{ function f() internal{} function callInternally(){ f(); } //以`external`的方式调用 //f()只能以`internal`的方式调用 //Untitled3:7:9: Error: Member &quot;f&quot; not found or not visible after argument-dependent lookup in contract A function callExternally(){ //this.f(); } } 调用方式说明 上面所提到的internal和external指的函数调用方式，请不要与后面的函数可见性声明的external，public，internal，private弄混。声明只是意味着这个函数需要使用相对应的调用方式去调用。后续说明中会用以某某方式调用，来强调是对调用方式的阐述以加以区分。 二、函数的可见性 Solidity为函数提供了四种可见性，external，public，internal，private。 external 声明为external的可以从其它合约或通过Transaction进行调用，所以声明为external的函数是合约对外接口的一部分。 不能以internal的方式进行调用。 有时在接收大的数据数组时性能更好。 pragma solidity ^0.4.5; contract FuntionTest{ function externalFunc() external{} function callFunc(){ //以`internal`的方式调用函数报错 //Error: Undeclared identifier. //externalFunc(); //以`external`的方式调用函数 this.externalFunc(); } } 声明为external的externalFunc()只能以external的方式进行调用，以internal的方式调用会报Error: Undeclared identifier.。 public 函数默认声明为public。 public的函数既允许以internal的方式调用，也允许以external的方式调用。 public的函数由于被外部合约访问，是合约对外接口的一部分。 pragma solidity ^0.4.5; contract FuntionTest{ //默认是public函数 function publicFunc(){} function callFunc(){ //以`internal`的方式调用函数 publicFunc(); //以`external`的方式调用函数 this.publicFunc(); } } 我们可以看到声明为public的publicFunc()允许两种调用方式。 internal 在当前的合约或继承的合约中，只允许以internal的方式调用。 pragma solidity ^0.4.5; contract A{ //默认是public函数 function internalFunc() internal{} function callFunc(){ //以`internal`的方式调用函数 internalFunc(); } } contract B is A{ //子合约中调用 function callFunc(){ internalFunc(); } } 上述例子中声明为internal的internalFunc()在定义合约，和子合约中均只能以internal的方式可以进行调用。 private 只能在当前合约中被访问（不可在被继承的合约中访问）。 即使声明为private，仍能被所有人查看到里面的数据。访问权限只是阻止了其它合约访问函数或修改数据。 pragma solidity ^0.4.5; contract A{ //默认是public函数 function privateFunc() private{} function callFunc(){ //以`internal`的方式调用函数 privateFunc(); } } contract B is A{ //不可调用`private` function callFunc(){ //privateFunc(); } } 上述例子中，声明为private的privateFunc()只能在定义的合约中以internal的方式进行调用。 （转自：tryblockchain.org） 阅读更多" />
<link rel="canonical" href="https://mlh.app/2018/02/21/da3ac81da16cf684ea570e490ed18573.html" />
<meta property="og:url" content="https://mlh.app/2018/02/21/da3ac81da16cf684ea570e490ed18573.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-02-21T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"在之前的文章中我们介绍了Solidity语言函数的一些基本语法。下面来继续介绍作为一个分布式网络语言所特有的internal和external这两种不同的函数调用方式，以及Solidity提供的对函数调用时的可见性控制语法。 一、 调用方式 Solidity封装了两种函数的调用方式internal和external。 internal internal调用，实现时转为简单的EVM跳转，所以它能直接使用上下文环境中的数据，对于引用传递时将会变得非常高效（不用拷贝数据）。 在当前的代码单元内，如对合约内函数，引入的库函数，以及父类合约中的函数直接使用即是以internal方式的调用。我们来看个简单的例子： pragma solidity ^0.4.0; contract Test { function f(){} //以`internal`的方式调用 function callInternally(){ f(); } } 在上述代码中，callInternally()以internal的方式对f()函数进行了调用。 external external调用，实现为合约的外部消息调用。所以在合约初始化时不能external的方式调用自身函数，因为合约还未初始化完成。下面来看一个以external方式调用的例子： pragma solidity ^0.4.0; contract A{ function f(){} } contract B{ //以`external`的方式调用另一合约中的函数 function callExternal(A a){ a.f(); } } 虽然当前合约A和B的代码放在一起，但部署到网络上后，它们是两个完全独立的合约，它们之间的方法调用是通过消息调用。上述代码中，在合约B中的callExternal()以external的方式调用了合约A的f()。 external调用时，实际是向目标合约发送一个消息调用。消息中的函数定义部分是一个24字节大小的消息体，20字节为地址，4字节为函数签名。 this 我们可以在合约的调用函数前加this.来强制以external方式的调用。需要注意的是这里的this的用法与大多数语言的都不一致。 pragma solidity ^0.4.0; contract A{ function f() internal{} function callInternally(){ f(); } //以`external`的方式调用 //f()只能以`internal`的方式调用 //Untitled3:7:9: Error: Member &quot;f&quot; not found or not visible after argument-dependent lookup in contract A function callExternally(){ //this.f(); } } 调用方式说明 上面所提到的internal和external指的函数调用方式，请不要与后面的函数可见性声明的external，public，internal，private弄混。声明只是意味着这个函数需要使用相对应的调用方式去调用。后续说明中会用以某某方式调用，来强调是对调用方式的阐述以加以区分。 二、函数的可见性 Solidity为函数提供了四种可见性，external，public，internal，private。 external 声明为external的可以从其它合约或通过Transaction进行调用，所以声明为external的函数是合约对外接口的一部分。 不能以internal的方式进行调用。 有时在接收大的数据数组时性能更好。 pragma solidity ^0.4.5; contract FuntionTest{ function externalFunc() external{} function callFunc(){ //以`internal`的方式调用函数报错 //Error: Undeclared identifier. //externalFunc(); //以`external`的方式调用函数 this.externalFunc(); } } 声明为external的externalFunc()只能以external的方式进行调用，以internal的方式调用会报Error: Undeclared identifier.。 public 函数默认声明为public。 public的函数既允许以internal的方式调用，也允许以external的方式调用。 public的函数由于被外部合约访问，是合约对外接口的一部分。 pragma solidity ^0.4.5; contract FuntionTest{ //默认是public函数 function publicFunc(){} function callFunc(){ //以`internal`的方式调用函数 publicFunc(); //以`external`的方式调用函数 this.publicFunc(); } } 我们可以看到声明为public的publicFunc()允许两种调用方式。 internal 在当前的合约或继承的合约中，只允许以internal的方式调用。 pragma solidity ^0.4.5; contract A{ //默认是public函数 function internalFunc() internal{} function callFunc(){ //以`internal`的方式调用函数 internalFunc(); } } contract B is A{ //子合约中调用 function callFunc(){ internalFunc(); } } 上述例子中声明为internal的internalFunc()在定义合约，和子合约中均只能以internal的方式可以进行调用。 private 只能在当前合约中被访问（不可在被继承的合约中访问）。 即使声明为private，仍能被所有人查看到里面的数据。访问权限只是阻止了其它合约访问函数或修改数据。 pragma solidity ^0.4.5; contract A{ //默认是public函数 function privateFunc() private{} function callFunc(){ //以`internal`的方式调用函数 privateFunc(); } } contract B is A{ //不可调用`private` function callFunc(){ //privateFunc(); } } 上述例子中，声明为private的privateFunc()只能在定义的合约中以internal的方式进行调用。 （转自：tryblockchain.org） 阅读更多","@type":"BlogPosting","url":"https://mlh.app/2018/02/21/da3ac81da16cf684ea570e490ed18573.html","headline":"Solidity基础入门知识（十）函数的访问权限和可见性","dateModified":"2018-02-21T00:00:00+08:00","datePublished":"2018-02-21T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2018/02/21/da3ac81da16cf684ea570e490ed18573.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>Solidity基础入门知识（十）函数的访问权限和可见性</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css"> 
 <div class="htmledit_views"> 
  <p style="font-family:'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:25px;color:rgb(51,51,51);">在之前的文章中我们介绍了Solidity语言函数的一些基本语法。下面来继续介绍作为一个分布式网络语言所特有的<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">internal</code>和<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">external</code>这两种不同的函数调用方式，以及Solidity提供的对函数调用时的可见性控制语法。</p>
  <span style="color:rgb(51,51,51);font-family:'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:25px;"></span>
  <span style="color:rgb(51,51,51);font-family:'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:25px;background-color:rgb(255,255,255);"></span>
  <h2 style="color:rgb(34,34,34);font-family:'PT Sans', 'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:1.225;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(238,238,238);">一、 调用方式</h2>
  <p style="font-family:'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:25px;color:rgb(51,51,51);">Solidity封装了两种函数的调用方式<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">internal</code>和<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">external</code>。</p>
  <h2 style="color:rgb(34,34,34);font-family:'PT Sans', 'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:1.225;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(238,238,238);"><code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-weight:normal;font-size:20px;line-height:normal;">internal</code></h2>
  <p style="font-family:'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:25px;color:rgb(51,51,51);"><code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">internal</code>调用，实现时转为简单的EVM跳转，所以它能直接使用上下文环境中的数据，对于引用传递时将会变得非常高效（不用拷贝数据）。</p>
  <p style="font-family:'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:25px;color:rgb(51,51,51);">在当前的代码单元内，如对合约内函数，引入的库函数，以及父类合约中的函数直接使用即是以<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">internal</code>方式的调用。我们来看个简单的例子：</p>
  <pre style="font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:1.45;background-color:rgb(247,247,247);color:rgb(51,51,51);"><code class="hljs javascript" style="background-color:transparent;border:0px;color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;line-height:inherit;">pragma solidity ^<span class="hljs-number" style="color:rgb(0,128,128);">0.4</span><span class="hljs-number" style="color:rgb(0,128,128);">.0</span>;

contract Test {
    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">function</span> <span class="hljs-title" style="color:rgb(153,0,0);font-weight:bold;">f</span><span class="hljs-params">()</span></span>{}
    
    <span class="hljs-comment" style="color:rgb(153,153,136);font-style:italic;">//以`internal`的方式调用</span>
    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">function</span> <span class="hljs-title" style="color:rgb(153,0,0);font-weight:bold;">callInternally</span><span class="hljs-params">()</span></span>{
        f();
    }
}
</code></pre>
  <p style="font-family:'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:25px;color:rgb(51,51,51);">在上述代码中，<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">callInternally()</code>以<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">internal</code>的方式对<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">f()</code>函数进行了调用。</p>
  <h2 style="color:rgb(34,34,34);font-family:'PT Sans', 'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:1.225;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(238,238,238);"><code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-weight:normal;font-size:20px;line-height:normal;">external</code></h2>
  <p style="font-family:'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:25px;color:rgb(51,51,51);"><code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">external</code>调用，实现为合约的外部消息调用。所以在合约初始化时不能<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">external</code>的方式调用自身函数，因为合约还未初始化完成。下面来看一个以<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">external</code>方式调用的例子：</p>
  <pre style="font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:1.45;background-color:rgb(247,247,247);color:rgb(51,51,51);"><code class="hljs javascript" style="background-color:transparent;border:0px;color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;line-height:inherit;">pragma solidity ^<span class="hljs-number" style="color:rgb(0,128,128);">0.4</span><span class="hljs-number" style="color:rgb(0,128,128);">.0</span>;

contract A{
    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">function</span> <span class="hljs-title" style="color:rgb(153,0,0);font-weight:bold;">f</span><span class="hljs-params">()</span></span>{}
}

contract B{
    <span class="hljs-comment" style="color:rgb(153,153,136);font-style:italic;">//以`external`的方式调用另一合约中的函数</span>
    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">function</span> <span class="hljs-title" style="color:rgb(153,0,0);font-weight:bold;">callExternal</span><span class="hljs-params">(A a)</span></span>{
        a.f();
    }
}
</code></pre>
  <p style="font-family:'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:25px;color:rgb(51,51,51);">虽然当前合约<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">A</code>和<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">B</code>的代码放在一起，但部署到网络上后，它们是两个完全独立的合约，它们之间的方法调用是通过消息调用。上述代码中，在合约<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">B</code>中的<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">callExternal()</code>以<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">external</code>的方式调用了合约<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">A</code>的<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">f()</code>。</p>
  <p style="font-family:'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:25px;color:rgb(51,51,51);"><code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">external</code>调用时，实际是向目标合约发送一个消息调用。消息中的函数定义部分是一个24字节大小的消息体，20字节为地址，4字节为函数签名。</p>
  <h3 style="color:rgb(34,34,34);font-family:'PT Sans', 'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:1.43;"><code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-weight:normal;font-size:19px;line-height:normal;">this</code></h3>
  <p style="font-family:'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:25px;color:rgb(51,51,51);">我们可以在合约的调用函数前加<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">this.</code>来强制以<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">external</code>方式的调用。需要注意的是这里的<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">this</code>的用法与大多数语言的都不一致。</p>
  <pre style="font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:1.45;background-color:rgb(247,247,247);color:rgb(51,51,51);"><code class="hljs lua" style="background-color:transparent;border:0px;color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;line-height:inherit;">pragma solidity ^<span class="hljs-number" style="color:rgb(0,128,128);">0.4</span><span class="hljs-number" style="color:rgb(0,128,128);">.0</span>;

contract A{
    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">function</span> <span class="hljs-title" style="color:rgb(153,0,0);font-weight:bold;">f</span><span class="hljs-params">()</span></span> internal{}
    
    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">function</span> <span class="hljs-title" style="color:rgb(153,0,0);font-weight:bold;">callInternally</span><span class="hljs-params">()</span></span>{
        f();
    }
    
    //以`external`的方式调用
    //f()只能以`internal`的方式调用
    //Untitled3:<span class="hljs-number" style="color:rgb(0,128,128);">7</span>:<span class="hljs-number" style="color:rgb(0,128,128);">9</span>: Error: Member <span class="hljs-string" style="color:rgb(221,17,68);">"f"</span> <span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">not</span> found <span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">or</span> <span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">not</span> visible after argument-dependent lookup <span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">in</span> contract A
    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">function</span> <span class="hljs-title" style="color:rgb(153,0,0);font-weight:bold;">callExternally</span><span class="hljs-params">()</span></span>{
        //this.f();
    }
}
</code></pre>
  <h3 style="font-family:'PT Sans', 'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:1.43;"><span style="color:#ff0000;">调用方式说明</span></h3>
  <p style="font-family:'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:25px;"><span style="color:#000000;background-color:rgb(255,255,255);">上面所提到的<code style="border:1px solid rgb(223,223,223);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">internal</code>和<code style="border:1px solid rgb(223,223,223);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">external</code>指的函数调用方式，请不要与后面的函数可见性声明的<code style="border:1px solid rgb(223,223,223);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">external</code>，<code style="border:1px solid rgb(223,223,223);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">public</code>，<code style="border:1px solid rgb(223,223,223);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">internal</code>，<code style="border:1px solid rgb(223,223,223);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">private</code>弄混。声明只是意味着这个函数需要使用相对应的调用方式去调用。后续说明中会用<code style="border:1px solid rgb(223,223,223);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">以某某方式调用</code>，来</span><span style="color:#ffffff;background-color:rgb(255,255,255);">强调是对调用方式的阐述以加以区分。</span></p>
  <h2 style="color:rgb(34,34,34);font-family:'PT Sans', 'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:1.225;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(238,238,238);">二、函数的可见性</h2>
  <p style="font-family:'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:25px;color:rgb(51,51,51);">Solidity为函数提供了四种可见性，<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">external</code>，<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">public</code>，<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">internal</code>，<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">private</code>。</p>
  <h3 style="color:rgb(34,34,34);font-family:'PT Sans', 'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:1.43;"><code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-weight:normal;font-size:19px;line-height:normal;">external</code></h3>
  <ul style="font-family:'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:25px;list-style-position:outside;color:rgb(51,51,51);">
   <li style="margin-left:0px;">声明为<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">external</code>的可以从其它合约或通过<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">Transaction</code>进行调用，所以声明为<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">external</code>的函数是合约对外接口的一部分。</li>
   <li style="margin-left:0px;">不能以<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">internal</code>的方式进行调用。</li>
   <li style="margin-left:0px;">有时在接收大的数据数组时性能更好。</li>
  </ul>
  <pre style="font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:1.45;background-color:rgb(247,247,247);color:rgb(51,51,51);"><code class="hljs javascript" style="background-color:transparent;border:0px;color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;line-height:inherit;">pragma solidity ^<span class="hljs-number" style="color:rgb(0,128,128);">0.4</span><span class="hljs-number" style="color:rgb(0,128,128);">.5</span>;

contract FuntionTest{
    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">function</span> <span class="hljs-title" style="color:rgb(153,0,0);font-weight:bold;">externalFunc</span><span class="hljs-params">()</span> <span class="hljs-title" style="color:rgb(153,0,0);font-weight:bold;">external</span></span>{}

    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">function</span> <span class="hljs-title" style="color:rgb(153,0,0);font-weight:bold;">callFunc</span><span class="hljs-params">()</span></span>{
        <span class="hljs-comment" style="color:rgb(153,153,136);font-style:italic;">//以`internal`的方式调用函数报错</span>
        <span class="hljs-comment" style="color:rgb(153,153,136);font-style:italic;">//Error: Undeclared identifier.</span>
        <span class="hljs-comment" style="color:rgb(153,153,136);font-style:italic;">//externalFunc();</span>
        
        <span class="hljs-comment" style="color:rgb(153,153,136);font-style:italic;">//以`external`的方式调用函数</span>
        <span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">this</span>.externalFunc();
    }
}
</code></pre>
  <p style="font-family:'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:25px;color:rgb(51,51,51);">声明为<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">external</code>的<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">externalFunc()</code>只能以<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">external</code>的方式进行调用，以<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">internal</code>的方式调用会报<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">Error: Undeclared identifier.</code>。</p>
  <h3 style="color:rgb(34,34,34);font-family:'PT Sans', 'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:1.43;"><code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-weight:normal;font-size:19px;line-height:normal;">public</code></h3>
  <ul style="font-family:'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:25px;list-style-position:outside;color:rgb(51,51,51);">
   <li style="margin-left:0px;">函数默认声明为<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">public</code>。</li>
   <li style="margin-left:0px;"><code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">public</code>的函数既允许以<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">internal</code>的方式调用，也允许以<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">external</code>的方式调用。</li>
   <li style="margin-left:0px;"><code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">public</code>的函数由于被外部合约访问，是合约对外接口的一部分。</li>
  </ul>
  <pre style="font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:1.45;background-color:rgb(247,247,247);color:rgb(51,51,51);"><code class="hljs javascript" style="background-color:transparent;border:0px;color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;line-height:inherit;">pragma solidity ^<span class="hljs-number" style="color:rgb(0,128,128);">0.4</span><span class="hljs-number" style="color:rgb(0,128,128);">.5</span>;

contract FuntionTest{
    <span class="hljs-comment" style="color:rgb(153,153,136);font-style:italic;">//默认是public函数</span>
    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">function</span> <span class="hljs-title" style="color:rgb(153,0,0);font-weight:bold;">publicFunc</span><span class="hljs-params">()</span></span>{}

    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">function</span> <span class="hljs-title" style="color:rgb(153,0,0);font-weight:bold;">callFunc</span><span class="hljs-params">()</span></span>{
        <span class="hljs-comment" style="color:rgb(153,153,136);font-style:italic;">//以`internal`的方式调用函数</span>
        publicFunc();
        
        <span class="hljs-comment" style="color:rgb(153,153,136);font-style:italic;">//以`external`的方式调用函数</span>
        <span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">this</span>.publicFunc();
    }
}
</code></pre>
  <p style="font-family:'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:25px;color:rgb(51,51,51);">我们可以看到声明为<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">public</code>的<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">publicFunc()</code>允许两种调用方式。</p>
  <h3 style="color:rgb(34,34,34);font-family:'PT Sans', 'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:1.43;"><code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-weight:normal;font-size:19px;line-height:normal;">internal</code></h3>
  <ul style="font-family:'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:25px;list-style-position:outside;color:rgb(51,51,51);">
   <li style="margin-left:0px;">在当前的合约或继承的合约中，只允许以<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">internal</code>的方式调用。</li>
  </ul>
  <pre style="font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:1.45;background-color:rgb(247,247,247);color:rgb(51,51,51);"><code class="hljs actionscript" style="background-color:transparent;border:0px;color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;line-height:inherit;">pragma solidity ^<span class="hljs-number" style="color:rgb(0,128,128);">0.4</span><span class="hljs-number" style="color:rgb(0,128,128);">.5</span>;

contract A{
    <span class="hljs-comment" style="color:rgb(153,153,136);font-style:italic;">//默认是public函数</span>
    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">function</span> <span class="hljs-title" style="color:rgb(153,0,0);font-weight:bold;">internalFunc</span><span class="hljs-params">()</span> <span class="hljs-title" style="color:rgb(153,0,0);font-weight:bold;">internal</span></span>{}

    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">function</span> <span class="hljs-title" style="color:rgb(153,0,0);font-weight:bold;">callFunc</span><span class="hljs-params">()</span></span>{
        <span class="hljs-comment" style="color:rgb(153,153,136);font-style:italic;">//以`internal`的方式调用函数</span>
        internalFunc();
    }
}
contract B <span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">is</span> A{
    <span class="hljs-comment" style="color:rgb(153,153,136);font-style:italic;">//子合约中调用</span>
    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">function</span> <span class="hljs-title" style="color:rgb(153,0,0);font-weight:bold;">callFunc</span><span class="hljs-params">()</span></span>{
        internalFunc();
    }
}
</code></pre>
  <p style="font-family:'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:25px;color:rgb(51,51,51);">上述例子中声明为<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">internal</code>的<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">internalFunc()</code>在定义合约，和子合约中均只能以<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">internal</code>的方式可以进行调用。</p>
  <h3 style="color:rgb(34,34,34);font-family:'PT Sans', 'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:1.43;"><code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-weight:normal;font-size:19px;line-height:normal;">private</code></h3>
  <ul style="font-family:'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:25px;list-style-position:outside;color:rgb(51,51,51);">
   <li style="margin-left:0px;">只能在当前合约中被访问（不可在被继承的合约中访问）。</li>
   <li style="margin-left:0px;">即使声明为<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">private</code>，仍能被所有人查看到里面的数据。访问权限只是阻止了其它合约访问函数或修改数据。</li>
  </ul>
  <pre style="font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:1.45;background-color:rgb(247,247,247);color:rgb(51,51,51);"><code class="hljs actionscript" style="background-color:transparent;border:0px;color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;line-height:inherit;">pragma solidity ^<span class="hljs-number" style="color:rgb(0,128,128);">0.4</span><span class="hljs-number" style="color:rgb(0,128,128);">.5</span>;

contract A{
    <span class="hljs-comment" style="color:rgb(153,153,136);font-style:italic;">//默认是public函数</span>
    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">function</span> <span class="hljs-title" style="color:rgb(153,0,0);font-weight:bold;">privateFunc</span><span class="hljs-params">()</span> <span class="hljs-title" style="color:rgb(153,0,0);font-weight:bold;">private</span></span>{}

    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">function</span> <span class="hljs-title" style="color:rgb(153,0,0);font-weight:bold;">callFunc</span><span class="hljs-params">()</span></span>{
        <span class="hljs-comment" style="color:rgb(153,153,136);font-style:italic;">//以`internal`的方式调用函数</span>
        privateFunc();
    }
}
contract B <span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">is</span> A{
    <span class="hljs-comment" style="color:rgb(153,153,136);font-style:italic;">//不可调用`private`</span>
    <span class="hljs-function"><span class="hljs-keyword" style="color:rgb(51,51,51);font-weight:bold;">function</span> <span class="hljs-title" style="color:rgb(153,0,0);font-weight:bold;">callFunc</span><span class="hljs-params">()</span></span>{
        <span class="hljs-comment" style="color:rgb(153,153,136);font-style:italic;">//privateFunc();</span>
    }
}
</code></pre>
  <p style="font-family:'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:25px;color:rgb(51,51,51);">上述例子中，声明为<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">private</code>的<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">privateFunc()</code>只能在定义的合约中以<code style="background-color:rgba(0,0,0,.0392157);border:1px solid rgb(223,223,223);color:rgb(51,51,51);font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace;font-size:14px;line-height:normal;">internal</code>的方式进行调用。</p>
  <p style="font-family:'SF UI Display', 'PingFang SC', 'Neue Haas Grotesk Text Pro', 'Arial Nova', 'Segoe UI', 'Microsoft YaHei', 'Microsoft JhengHei', 'Helvetica Neue', 'Source Han Sans SC', 'Noto Sans CJK SC', 'Source Han Sans CN', 'Noto Sans SC', 'Source Han Sans TC', 'Noto Sans CJK TC', 'Hiragino Sans GB', sans-serif;line-height:25px;color:rgb(51,51,51);">（转自：tryblockchain.org）</p> 
 </div> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/aaa19890808/article/details/79343036,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/aaa19890808/article/details/79343036,&quot;}">阅读更多</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0d1dbe5a3e5863242418b768d1601633";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
