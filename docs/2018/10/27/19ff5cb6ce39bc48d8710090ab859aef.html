<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>EOS实战（二）RPC接口（使用RPC的接口创建账户同时购买内存并为其抵押CPU和NET资源） | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="EOS实战（二）RPC接口（使用RPC的接口创建账户同时购买内存并为其抵押CPU和NET资源）" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="1. 前言 前面我们使用RPC API完成了转账。这篇文章继续使用RPC API来创建账号。在EOS中，这些行为都叫做transaction，更本质一点说是一笔transaction中的action。在转账的transaction中，只有一个action，它调用eosio.token合约中的transfer方法。而我们知道，创建账户时需要为账户购买和抵押资源。其实只需要为新账户购买内存资源，否则会创建失败。而抵押CPU和NET资源可以不在创建账户时同时进行。但一般来说，为了使新账户可以操作一些事情，例如转账，都会在创建时同时为其抵押CPU和NET资源。这时就会出现一笔transaction中包含多个action的情况。本篇文章演示了创建账户时存在多个action的情况。 我们需要使用eosio合约来完成下面的步骤。该合约名为eosio.system，位于eos/contracts中。 和之前一样，我们在测试网络http://jungle.cryptolions.io:18888上，使用Postman对API进行测试。 2. 准备步骤 2.1 生成两个公钥 EOS7L9pb38iiqvnrsgzPVqxHnxHmxxeX6bCNbGkehh1hCScEc3ya2 EOS7eZtj6yzESob8Y3vjYwBnM25uZ3HnQa922FmcR3MZuozdiRCEj 2.2 准备钱包和钱包服务 我们使用账户testnetyy111来创建账户 打开钱包服务keosd，这次我们指定其服务IP为8899： yuyangdeMacBook-Pro:keosd yuyang$ keosd --http-server-address=localhost:8899 通过调用钱包的RPC API，我们打开并解锁钱包，保证钱包中有testnetyy111的active权限的公私钥。这部分不明白可以先看前面的文章 3. 大致流程 大致流程和之前一样，只是需要多生成几个bin字符串： abi_json_to_bin_newaccount 将创建账户信息由json格式序列化为bin格式字符串 abi_json_to_bin_buyram 将购买内存信息由json格式序列化为bin格式字符串 abi_json_to_bin_delegatebw 将购买抵押资源信息由json格式序列化为bin格式字符串 get_info 获取当前最新的区块编号 get_block 根据区块编号获取区块详情 get_required_keys(可省略) 传入当前拥有的公钥、bin字符串，区块等信息，筛选出签署交易需要的公钥 sign_transaction 传入上面获取的相关参数，通过钱包中私钥对交易进行签署 push_transaction 根据第七步获取的签名信息，将交易提交到区块链上 4. 详细流程 4.1 生成创建账户的bin字符串 调用eosio合约的newaccount方法 传入创建者账户名称和新账户名称 设置两个权限的公钥 api http://jungle.cryptolions.io:18888/v1/chain/abi_json_to_bin params { &quot;code&quot;: &quot;eosio&quot;, &quot;action&quot;: &quot;newaccount&quot;, &quot;args&quot;: { &quot;creator&quot;: &quot;testnetyy111&quot;, &quot;name&quot;: &quot;testnetyy222&quot;, &quot;owner&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [ { &quot;key&quot;: &quot;EOS7L9pb38iiqvnrsgzPVqxHnxHmxxeX6bCNbGkehh1hCScEc3ya2&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [], &quot;waits&quot;: [] }, &quot;active&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [ { &quot;key&quot;: &quot;EOS7eZtj6yzESob8Y3vjYwBnM25uZ3HnQa922FmcR3MZuozdiRCEj&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [], &quot;waits&quot;: [] } } } return { &quot;binargs&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca0100000001000341a9e89b10df5fb0b425e294e32c6208fc3c97becd61f111b351274cd30cd92801000000010000000100036b7a2e4feec43f2160927f34a046914d9aba7625a492597a0f888d2aaec225ba01000000&quot; } 4.2 生成购买内存的bin字符串 调用eosio合约的buyram方法 传入购买者账户名称和接收者账户名称 设置购买的金额 api http://jungle.cryptolions.io:18888/v1/chain/abi_json_to_bin params { &quot;code&quot;: &quot;eosio&quot;, &quot;action&quot;: &quot;buyram&quot;, &quot;args&quot;: { &quot;payer&quot;: &quot;testnetyy111&quot;, &quot;receiver&quot;: &quot;testnetyy222&quot;, &quot;quant&quot;: &quot;50.0000 EOS&quot;, } } return { &quot;binargs&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca20a107000000000004454f5300000000&quot; } 4.3 生成购买抵押资源的bin字符串 调用eosio合约的delegatebw方法 传入购买者账户名称和接收者账户名称 设置购买的资源类型和金额 transfer后面讲抵押和赎回资源时再详细讲 api http://jungle.cryptolions.io:18888/v1/chain/abi_json_to_bin params { &quot;code&quot;: &quot;eosio&quot;, &quot;action&quot;: &quot;delegatebw&quot;, &quot;args&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;receiver&quot;: &quot;testnetyy222&quot;, &quot;stake_net_quantity&quot;: &quot;20.0000 EOS&quot;, &quot;stake_cpu_quantity&quot;: &quot;20.0000 EOS&quot;, &quot;transfer&quot;: 0, } } return { &quot;binargs&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca400d03000000000004454f5300000000400d03000000000004454f530000000000&quot; } 4.4 获取当前最新的区块号 api http://jungle.cryptolions.io:18888/v1/chain/get_info params 无 return { &quot;server_version&quot;: &quot;08819aae&quot;, &quot;chain_id&quot;: &quot;038f4b0fc8ff18a4f0842a8f0564611f6e96e8535901dd45e43ac8691a1c4dca&quot;, &quot;head_block_num&quot;: 13995827, &quot;last_irreversible_block_num&quot;: 13995503, &quot;last_irreversible_block_id&quot;: &quot;00d58defe56615c06fa05fc61639f64b3d72005ed2baff6035c82a8e83ac4b17&quot;, &quot;head_block_id&quot;: &quot;00d58f3333165a76a86f38c98ca50ece1a649a9556276d16f523192b4b5d94c4&quot;, &quot;head_block_time&quot;: &quot;2018-09-12T09:15:35.000&quot;, &quot;head_block_producer&quot;: &quot;eosldndevbp2&quot;, &quot;virtual_block_cpu_limit&quot;: 200000000, &quot;virtual_block_net_limit&quot;: 1048576000, &quot;block_cpu_limit&quot;: 199900, &quot;block_net_limit&quot;: 1048576, &quot;server_version_string&quot;: &quot;v1.2.5-dirty&quot; } 获取到区块号&quot;head_block_num&quot;: 13995827 4.5 获取当前区块详情 api http://jungle.cryptolions.io:18888/v1/chain/get_block params {&quot;block_num_or_id&quot;:&quot;13995827&quot;} return { &quot;timestamp&quot;: &quot;2018-09-12T09:15:35.000&quot;, &quot;producer&quot;: &quot;eosldndevbp2&quot;, &quot;confirmed&quot;: 0, &quot;previous&quot;: &quot;00d58f32a420c7957547e410d65bca6c0e16d6a32e0c0cfbd428f6a46ca67bfe&quot;, &quot;transaction_mroot&quot;: &quot;0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;action_mroot&quot;: &quot;c71076b9b5100ccd68de98a8b0175036ab6ef26b1d8e2194fa0bf0ff95e4f702&quot;, &quot;schedule_version&quot;: 222, &quot;new_producers&quot;: null, &quot;header_extensions&quot;: [], &quot;producer_signature&quot;: &quot;SIG_K1_KhwPrVWsyVsNL7phXXv9Q1Wf9fFCvx9VZFaLUqBbnn1EJF2M3J9ekCuYwQaDsU9shMpLgPYcNU79dSicLNeza5DmjH8z7A&quot;, &quot;transactions&quot;: [], &quot;block_extensions&quot;: [], &quot;id&quot;: &quot;00d58f3333165a76a86f38c98ca50ece1a649a9556276d16f523192b4b5d94c4&quot;, &quot;block_num&quot;: 13995827, &quot;ref_block_prefix&quot;: 3375919016 } 获取到&quot;timestamp&quot;: &quot;2018-09-12T09:15:35.000&quot;和&quot;ref_block_prefix&quot;: 3375919016 4.6 签署交易 这笔交易中有三个action，将上面生成的bin字符串按name填入到data中 过期时间我这里加了20分钟。2018-09-12T09:15:35.000 ==&gt; 2018-09-12T09:35:35.000 注意这里钱包服务的端口为8899 api http://127.0.0.1:8899/v1/wallet/sign_transaction params [{ &quot;ref_block_num&quot;: 13995827, &quot;ref_block_prefix&quot;: 3375919016, &quot;expiration&quot;: &quot;2018-09-12T09:35:35.000&quot;, &quot;actions&quot;: [{ &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;newaccount&quot;, &quot;authorization&quot;: [{ &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; }], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca0100000001000341a9e89b10df5fb0b425e294e32c6208fc3c97becd61f111b351274cd30cd92801000000010000000100036b7a2e4feec43f2160927f34a046914d9aba7625a492597a0f888d2aaec225ba01000000&quot; }, { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;buyram&quot;, &quot;authorization&quot;: [{ &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; }], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca20a107000000000004454f5300000000&quot; }, { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;delegatebw&quot;, &quot;authorization&quot;: [{ &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; }], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca400d03000000000004454f5300000000400d03000000000004454f530000000000&quot; }], &quot;signatures&quot;: [] }, [&quot;EOS6Z7mUQeFC2cQTT3xMyZh2wsLQoHih1bTMgRhr3dbichprTi7Rc&quot;], &quot;038f4b0fc8ff18a4f0842a8f0564611f6e96e8535901dd45e43ac8691a1c4dca&quot; ] return { &quot;expiration&quot;: &quot;2018-09-12T09:35:35&quot;, &quot;ref_block_num&quot;: 36659, &quot;ref_block_prefix&quot;: 3375919016, &quot;max_net_usage_words&quot;: 0, &quot;max_cpu_usage_ms&quot;: 0, &quot;delay_sec&quot;: 0, &quot;context_free_actions&quot;: [], &quot;actions&quot;: [ { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;newaccount&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca0100000001000341a9e89b10df5fb0b425e294e32c6208fc3c97becd61f111b351274cd30cd92801000000010000000100036b7a2e4feec43f2160927f34a046914d9aba7625a492597a0f888d2aaec225ba01000000&quot; }, { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;buyram&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca20a107000000000004454f5300000000&quot; }, { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;delegatebw&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca400d03000000000004454f5300000000400d03000000000004454f530000000000&quot; } ], &quot;transaction_extensions&quot;: [], &quot;signatures&quot;: [ &quot;SIG_K1_Kdux2Y4uBQnTHuEChMcgVUSpxPMRZaMKjnFu6PoprBx1Lnx8k2bLP2k31VtK9V1YuCjznAVqVEMMeTixgZyYa3ELMboqYV&quot; ], &quot;context_free_data&quot;: [] } 获取到signatures 4.7 提交交易 api http://jungle.cryptolions.io:18888/v1/chain/push_transaction params { &quot;compression&quot;: &quot;none&quot;, &quot;transaction&quot;: { &quot;expiration&quot;: &quot;2018-09-12T09:35:35.000&quot;, &quot;ref_block_num&quot;: 13995827, &quot;ref_block_prefix&quot;: 3375919016, &quot;context_free_actions&quot;: [], &quot;actions&quot;: [ { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;newaccount&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca0100000001000341a9e89b10df5fb0b425e294e32c6208fc3c97becd61f111b351274cd30cd92801000000010000000100036b7a2e4feec43f2160927f34a046914d9aba7625a492597a0f888d2aaec225ba01000000&quot; }, { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;buyram&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca20a107000000000004454f5300000000&quot; }, { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;delegatebw&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca400d03000000000004454f5300000000400d03000000000004454f530000000000&quot; } ], &quot;transaction_extensions&quot;: [] }, &quot;signatures&quot;: [ &quot;SIG_K1_Kdux2Y4uBQnTHuEChMcgVUSpxPMRZaMKjnFu6PoprBx1Lnx8k2bLP2k31VtK9V1YuCjznAVqVEMMeTixgZyYa3ELMboqYV&quot; ] } return { &quot;transaction_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;processed&quot;: { &quot;id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;receipt&quot;: { &quot;status&quot;: &quot;executed&quot;, &quot;cpu_usage_us&quot;: 5966, &quot;net_usage_words&quot;: 43 }, &quot;elapsed&quot;: 5966, &quot;net_usage&quot;: 344, &quot;scheduled&quot;: false, &quot;action_traces&quot;: [ { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio&quot;, &quot;act_digest&quot;: &quot;3c4d74c9634ac8adb4efe534575de240c6bd0c5571e1569fbb61bdbc24fda1f7&quot;, &quot;global_sequence&quot;: 33340943, &quot;recv_sequence&quot;: 15451045, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 54 ] ], &quot;code_sequence&quot;: 11, &quot;abi_sequence&quot;: 12 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;newaccount&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;creator&quot;: &quot;testnetyy111&quot;, &quot;name&quot;: &quot;testnetyy222&quot;, &quot;owner&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [ { &quot;key&quot;: &quot;EOS7L9pb38iiqvnrsgzPVqxHnxHmxxeX6bCNbGkehh1hCScEc3ya2&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [], &quot;waits&quot;: [] }, &quot;active&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [ { &quot;key&quot;: &quot;EOS7eZtj6yzESob8Y3vjYwBnM25uZ3HnQa922FmcR3MZuozdiRCEj&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [], &quot;waits&quot;: [] } }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca0100000001000341a9e89b10df5fb0b425e294e32c6208fc3c97becd61f111b351274cd30cd92801000000010000000100036b7a2e4feec43f2160927f34a046914d9aba7625a492597a0f888d2aaec225ba01000000&quot; }, &quot;elapsed&quot;: 1112, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [] }, { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio&quot;, &quot;act_digest&quot;: &quot;a7884494c409371fcfa5df12aad8a061906416e687ab6aa4f58fca8be5d88035&quot;, &quot;global_sequence&quot;: 33340944, &quot;recv_sequence&quot;: 15451046, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 55 ] ], &quot;code_sequence&quot;: 11, &quot;abi_sequence&quot;: 12 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;buyram&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;payer&quot;: &quot;testnetyy111&quot;, &quot;receiver&quot;: &quot;testnetyy222&quot;, &quot;quant&quot;: &quot;50.0000 EOS&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca20a107000000000004454f5300000000&quot; }, &quot;elapsed&quot;: 1457, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [ { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio.token&quot;, &quot;act_digest&quot;: &quot;3002817afe2f79146cff845d5a633c20b4481676a9a058414d9e5ce0d301fd8d&quot;, &quot;global_sequence&quot;: 33340945, &quot;recv_sequence&quot;: 1726107, &quot;auth_sequence&quot;: [ [ &quot;eosio.ram&quot;, 240361 ], [ &quot;testnetyy111&quot;, 56 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; }, { &quot;actor&quot;: &quot;eosio.ram&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.ram&quot;, &quot;quantity&quot;: &quot;49.7500 EOS&quot;, &quot;memo&quot;: &quot;buy ram&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca000090e602ea30555c9707000000000004454f5300000000076275792072616d&quot; }, &quot;elapsed&quot;: 522, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [ { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;testnetyy111&quot;, &quot;act_digest&quot;: &quot;3002817afe2f79146cff845d5a633c20b4481676a9a058414d9e5ce0d301fd8d&quot;, &quot;global_sequence&quot;: 33340946, &quot;recv_sequence&quot;: 21, &quot;auth_sequence&quot;: [ [ &quot;eosio.ram&quot;, 240362 ], [ &quot;testnetyy111&quot;, 57 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; }, { &quot;actor&quot;: &quot;eosio.ram&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.ram&quot;, &quot;quantity&quot;: &quot;49.7500 EOS&quot;, &quot;memo&quot;: &quot;buy ram&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca000090e602ea30555c9707000000000004454f5300000000076275792072616d&quot; }, &quot;elapsed&quot;: 64, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [] }, { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio.ram&quot;, &quot;act_digest&quot;: &quot;3002817afe2f79146cff845d5a633c20b4481676a9a058414d9e5ce0d301fd8d&quot;, &quot;global_sequence&quot;: 33340947, &quot;recv_sequence&quot;: 267887, &quot;auth_sequence&quot;: [ [ &quot;eosio.ram&quot;, 240363 ], [ &quot;testnetyy111&quot;, 58 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; }, { &quot;actor&quot;: &quot;eosio.ram&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.ram&quot;, &quot;quantity&quot;: &quot;49.7500 EOS&quot;, &quot;memo&quot;: &quot;buy ram&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca000090e602ea30555c9707000000000004454f5300000000076275792072616d&quot; }, &quot;elapsed&quot;: 7, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [] } ] }, { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio.token&quot;, &quot;act_digest&quot;: &quot;caa4b0daeab300e365be174604ceb8c971e8981013b936b526110562f73f15d5&quot;, &quot;global_sequence&quot;: 33340948, &quot;recv_sequence&quot;: 1726108, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 59 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.ramfee&quot;, &quot;quantity&quot;: &quot;0.2500 EOS&quot;, &quot;memo&quot;: &quot;ram fee&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1caa0d492e602ea3055c40900000000000004454f53000000000772616d20666565&quot; }, &quot;elapsed&quot;: 365, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [ { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;testnetyy111&quot;, &quot;act_digest&quot;: &quot;caa4b0daeab300e365be174604ceb8c971e8981013b936b526110562f73f15d5&quot;, &quot;global_sequence&quot;: 33340949, &quot;recv_sequence&quot;: 22, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 60 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.ramfee&quot;, &quot;quantity&quot;: &quot;0.2500 EOS&quot;, &quot;memo&quot;: &quot;ram fee&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1caa0d492e602ea3055c40900000000000004454f53000000000772616d20666565&quot; }, &quot;elapsed&quot;: 68, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [] }, { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio.ramfee&quot;, &quot;act_digest&quot;: &quot;caa4b0daeab300e365be174604ceb8c971e8981013b936b526110562f73f15d5&quot;, &quot;global_sequence&quot;: 33340950, &quot;recv_sequence&quot;: 267803, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 61 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.ramfee&quot;, &quot;quantity&quot;: &quot;0.2500 EOS&quot;, &quot;memo&quot;: &quot;ram fee&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1caa0d492e602ea3055c40900000000000004454f53000000000772616d20666565&quot; }, &quot;elapsed&quot;: 10, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [] } ] } ] }, { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio&quot;, &quot;act_digest&quot;: &quot;3b1f73c0ca73dce2a8c6bcc3a397071a860ecc9798f3cd688382381648dcee10&quot;, &quot;global_sequence&quot;: 33340951, &quot;recv_sequence&quot;: 15451047, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 62 ] ], &quot;code_sequence&quot;: 11, &quot;abi_sequence&quot;: 12 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;delegatebw&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;receiver&quot;: &quot;testnetyy222&quot;, &quot;stake_net_quantity&quot;: &quot;20.0000 EOS&quot;, &quot;stake_cpu_quantity&quot;: &quot;20.0000 EOS&quot;, &quot;transfer&quot;: 0 }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca400d03000000000004454f5300000000400d03000000000004454f530000000000&quot; }, &quot;elapsed&quot;: 1561, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [ { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio.token&quot;, &quot;act_digest&quot;: &quot;034a15a7b1f83236e705f90e22fe246499a990e3699e1f3d8985fe65f1abaa32&quot;, &quot;global_sequence&quot;: 33340952, &quot;recv_sequence&quot;: 1726109, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 63 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.stake&quot;, &quot;quantity&quot;: &quot;40.0000 EOS&quot;, &quot;memo&quot;: &quot;stake bandwidth&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca0014341903ea3055801a06000000000004454f53000000000f7374616b652062616e647769647468&quot; }, &quot;elapsed&quot;: 471, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [ { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;testnetyy111&quot;, &quot;act_digest&quot;: &quot;034a15a7b1f83236e705f90e22fe246499a990e3699e1f3d8985fe65f1abaa32&quot;, &quot;global_sequence&quot;: 33340953, &quot;recv_sequence&quot;: 23, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 64 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.stake&quot;, &quot;quantity&quot;: &quot;40.0000 EOS&quot;, &quot;memo&quot;: &quot;stake bandwidth&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca0014341903ea3055801a06000000000004454f53000000000f7374616b652062616e647769647468&quot; }, &quot;elapsed&quot;: 54, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [] }, { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio.stake&quot;, &quot;act_digest&quot;: &quot;034a15a7b1f83236e705f90e22fe246499a990e3699e1f3d8985fe65f1abaa32&quot;, &quot;global_sequence&quot;: 33340954, &quot;recv_sequence&quot;: 238454, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 65 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.stake&quot;, &quot;quantity&quot;: &quot;40.0000 EOS&quot;, &quot;memo&quot;: &quot;stake bandwidth&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca0014341903ea3055801a06000000000004454f53000000000f7374616b652062616e647769647468&quot; }, &quot;elapsed&quot;: 8, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [] } ] } ] } ], &quot;except&quot;: null } } 4.8 查询新账户状态 api http://jungle.cryptolions.io:18888/v1/chain/get_account params {&quot;account_name&quot;:&quot;testnetyy222&quot;} return { &quot;account_name&quot;: &quot;testnetyy222&quot;, &quot;head_block_num&quot;: 13997774, &quot;head_block_time&quot;: &quot;2018-09-12T09:32:28.500&quot;, &quot;privileged&quot;: false, &quot;last_code_update&quot;: &quot;1970-01-01T00:00:00.000&quot;, &quot;created&quot;: &quot;2018-09-12T09:29:54.500&quot;, &quot;ram_quota&quot;: 822899, &quot;net_weight&quot;: 200000, &quot;cpu_weight&quot;: 200000, &quot;net_limit&quot;: { &quot;used&quot;: 0, &quot;available&quot;: 3835267, &quot;max&quot;: 3835267 }, &quot;cpu_limit&quot;: { &quot;used&quot;: 0, &quot;available&quot;: 730289, &quot;max&quot;: 730289 }, &quot;ram_usage&quot;: 2996, &quot;permissions&quot;: [ { &quot;perm_name&quot;: &quot;active&quot;, &quot;parent&quot;: &quot;owner&quot;, &quot;required_auth&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [ { &quot;key&quot;: &quot;EOS7eZtj6yzESob8Y3vjYwBnM25uZ3HnQa922FmcR3MZuozdiRCEj&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [], &quot;waits&quot;: [] } }, { &quot;perm_name&quot;: &quot;owner&quot;, &quot;parent&quot;: &quot;&quot;, &quot;required_auth&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [ { &quot;key&quot;: &quot;EOS7L9pb38iiqvnrsgzPVqxHnxHmxxeX6bCNbGkehh1hCScEc3ya2&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [], &quot;waits&quot;: [] } } ], &quot;total_resources&quot;: { &quot;owner&quot;: &quot;testnetyy222&quot;, &quot;net_weight&quot;: &quot;20.0000 EOS&quot;, &quot;cpu_weight&quot;: &quot;20.0000 EOS&quot;, &quot;ram_bytes&quot;: 821499 }, &quot;self_delegated_bandwidth&quot;: null, &quot;refund_request&quot;: null, &quot;voter_info&quot;: null } 使用cleos查询： yuyangdeMacBook-Pro:cleos yuyang$ cleos -u &quot;http://jungle.cryptolions.io:18888&quot; get account testnetyy222 permissions: owner 1: 1 EOS7L9pb38iiqvnrsgzPVqxHnxHmxxeX6bCNbGkehh1hCScEc3ya2 active 1: 1 EOS7eZtj6yzESob8Y3vjYwBnM25uZ3HnQa922FmcR3MZuozdiRCEj memory: quota: 803.6 KiB used: 2.926 KiB net bandwidth: delegated: 20.0000 EOS (total staked delegated to account from others) used: 0 bytes available: 3.658 MiB limit: 3.658 MiB cpu bandwidth: delegated: 20.0000 EOS (total staked delegated to account from others) used: 0 us available: 730.3 ms limit: 730.3 ms &nbsp; 阅读更多" />
<meta property="og:description" content="1. 前言 前面我们使用RPC API完成了转账。这篇文章继续使用RPC API来创建账号。在EOS中，这些行为都叫做transaction，更本质一点说是一笔transaction中的action。在转账的transaction中，只有一个action，它调用eosio.token合约中的transfer方法。而我们知道，创建账户时需要为账户购买和抵押资源。其实只需要为新账户购买内存资源，否则会创建失败。而抵押CPU和NET资源可以不在创建账户时同时进行。但一般来说，为了使新账户可以操作一些事情，例如转账，都会在创建时同时为其抵押CPU和NET资源。这时就会出现一笔transaction中包含多个action的情况。本篇文章演示了创建账户时存在多个action的情况。 我们需要使用eosio合约来完成下面的步骤。该合约名为eosio.system，位于eos/contracts中。 和之前一样，我们在测试网络http://jungle.cryptolions.io:18888上，使用Postman对API进行测试。 2. 准备步骤 2.1 生成两个公钥 EOS7L9pb38iiqvnrsgzPVqxHnxHmxxeX6bCNbGkehh1hCScEc3ya2 EOS7eZtj6yzESob8Y3vjYwBnM25uZ3HnQa922FmcR3MZuozdiRCEj 2.2 准备钱包和钱包服务 我们使用账户testnetyy111来创建账户 打开钱包服务keosd，这次我们指定其服务IP为8899： yuyangdeMacBook-Pro:keosd yuyang$ keosd --http-server-address=localhost:8899 通过调用钱包的RPC API，我们打开并解锁钱包，保证钱包中有testnetyy111的active权限的公私钥。这部分不明白可以先看前面的文章 3. 大致流程 大致流程和之前一样，只是需要多生成几个bin字符串： abi_json_to_bin_newaccount 将创建账户信息由json格式序列化为bin格式字符串 abi_json_to_bin_buyram 将购买内存信息由json格式序列化为bin格式字符串 abi_json_to_bin_delegatebw 将购买抵押资源信息由json格式序列化为bin格式字符串 get_info 获取当前最新的区块编号 get_block 根据区块编号获取区块详情 get_required_keys(可省略) 传入当前拥有的公钥、bin字符串，区块等信息，筛选出签署交易需要的公钥 sign_transaction 传入上面获取的相关参数，通过钱包中私钥对交易进行签署 push_transaction 根据第七步获取的签名信息，将交易提交到区块链上 4. 详细流程 4.1 生成创建账户的bin字符串 调用eosio合约的newaccount方法 传入创建者账户名称和新账户名称 设置两个权限的公钥 api http://jungle.cryptolions.io:18888/v1/chain/abi_json_to_bin params { &quot;code&quot;: &quot;eosio&quot;, &quot;action&quot;: &quot;newaccount&quot;, &quot;args&quot;: { &quot;creator&quot;: &quot;testnetyy111&quot;, &quot;name&quot;: &quot;testnetyy222&quot;, &quot;owner&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [ { &quot;key&quot;: &quot;EOS7L9pb38iiqvnrsgzPVqxHnxHmxxeX6bCNbGkehh1hCScEc3ya2&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [], &quot;waits&quot;: [] }, &quot;active&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [ { &quot;key&quot;: &quot;EOS7eZtj6yzESob8Y3vjYwBnM25uZ3HnQa922FmcR3MZuozdiRCEj&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [], &quot;waits&quot;: [] } } } return { &quot;binargs&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca0100000001000341a9e89b10df5fb0b425e294e32c6208fc3c97becd61f111b351274cd30cd92801000000010000000100036b7a2e4feec43f2160927f34a046914d9aba7625a492597a0f888d2aaec225ba01000000&quot; } 4.2 生成购买内存的bin字符串 调用eosio合约的buyram方法 传入购买者账户名称和接收者账户名称 设置购买的金额 api http://jungle.cryptolions.io:18888/v1/chain/abi_json_to_bin params { &quot;code&quot;: &quot;eosio&quot;, &quot;action&quot;: &quot;buyram&quot;, &quot;args&quot;: { &quot;payer&quot;: &quot;testnetyy111&quot;, &quot;receiver&quot;: &quot;testnetyy222&quot;, &quot;quant&quot;: &quot;50.0000 EOS&quot;, } } return { &quot;binargs&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca20a107000000000004454f5300000000&quot; } 4.3 生成购买抵押资源的bin字符串 调用eosio合约的delegatebw方法 传入购买者账户名称和接收者账户名称 设置购买的资源类型和金额 transfer后面讲抵押和赎回资源时再详细讲 api http://jungle.cryptolions.io:18888/v1/chain/abi_json_to_bin params { &quot;code&quot;: &quot;eosio&quot;, &quot;action&quot;: &quot;delegatebw&quot;, &quot;args&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;receiver&quot;: &quot;testnetyy222&quot;, &quot;stake_net_quantity&quot;: &quot;20.0000 EOS&quot;, &quot;stake_cpu_quantity&quot;: &quot;20.0000 EOS&quot;, &quot;transfer&quot;: 0, } } return { &quot;binargs&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca400d03000000000004454f5300000000400d03000000000004454f530000000000&quot; } 4.4 获取当前最新的区块号 api http://jungle.cryptolions.io:18888/v1/chain/get_info params 无 return { &quot;server_version&quot;: &quot;08819aae&quot;, &quot;chain_id&quot;: &quot;038f4b0fc8ff18a4f0842a8f0564611f6e96e8535901dd45e43ac8691a1c4dca&quot;, &quot;head_block_num&quot;: 13995827, &quot;last_irreversible_block_num&quot;: 13995503, &quot;last_irreversible_block_id&quot;: &quot;00d58defe56615c06fa05fc61639f64b3d72005ed2baff6035c82a8e83ac4b17&quot;, &quot;head_block_id&quot;: &quot;00d58f3333165a76a86f38c98ca50ece1a649a9556276d16f523192b4b5d94c4&quot;, &quot;head_block_time&quot;: &quot;2018-09-12T09:15:35.000&quot;, &quot;head_block_producer&quot;: &quot;eosldndevbp2&quot;, &quot;virtual_block_cpu_limit&quot;: 200000000, &quot;virtual_block_net_limit&quot;: 1048576000, &quot;block_cpu_limit&quot;: 199900, &quot;block_net_limit&quot;: 1048576, &quot;server_version_string&quot;: &quot;v1.2.5-dirty&quot; } 获取到区块号&quot;head_block_num&quot;: 13995827 4.5 获取当前区块详情 api http://jungle.cryptolions.io:18888/v1/chain/get_block params {&quot;block_num_or_id&quot;:&quot;13995827&quot;} return { &quot;timestamp&quot;: &quot;2018-09-12T09:15:35.000&quot;, &quot;producer&quot;: &quot;eosldndevbp2&quot;, &quot;confirmed&quot;: 0, &quot;previous&quot;: &quot;00d58f32a420c7957547e410d65bca6c0e16d6a32e0c0cfbd428f6a46ca67bfe&quot;, &quot;transaction_mroot&quot;: &quot;0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;action_mroot&quot;: &quot;c71076b9b5100ccd68de98a8b0175036ab6ef26b1d8e2194fa0bf0ff95e4f702&quot;, &quot;schedule_version&quot;: 222, &quot;new_producers&quot;: null, &quot;header_extensions&quot;: [], &quot;producer_signature&quot;: &quot;SIG_K1_KhwPrVWsyVsNL7phXXv9Q1Wf9fFCvx9VZFaLUqBbnn1EJF2M3J9ekCuYwQaDsU9shMpLgPYcNU79dSicLNeza5DmjH8z7A&quot;, &quot;transactions&quot;: [], &quot;block_extensions&quot;: [], &quot;id&quot;: &quot;00d58f3333165a76a86f38c98ca50ece1a649a9556276d16f523192b4b5d94c4&quot;, &quot;block_num&quot;: 13995827, &quot;ref_block_prefix&quot;: 3375919016 } 获取到&quot;timestamp&quot;: &quot;2018-09-12T09:15:35.000&quot;和&quot;ref_block_prefix&quot;: 3375919016 4.6 签署交易 这笔交易中有三个action，将上面生成的bin字符串按name填入到data中 过期时间我这里加了20分钟。2018-09-12T09:15:35.000 ==&gt; 2018-09-12T09:35:35.000 注意这里钱包服务的端口为8899 api http://127.0.0.1:8899/v1/wallet/sign_transaction params [{ &quot;ref_block_num&quot;: 13995827, &quot;ref_block_prefix&quot;: 3375919016, &quot;expiration&quot;: &quot;2018-09-12T09:35:35.000&quot;, &quot;actions&quot;: [{ &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;newaccount&quot;, &quot;authorization&quot;: [{ &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; }], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca0100000001000341a9e89b10df5fb0b425e294e32c6208fc3c97becd61f111b351274cd30cd92801000000010000000100036b7a2e4feec43f2160927f34a046914d9aba7625a492597a0f888d2aaec225ba01000000&quot; }, { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;buyram&quot;, &quot;authorization&quot;: [{ &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; }], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca20a107000000000004454f5300000000&quot; }, { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;delegatebw&quot;, &quot;authorization&quot;: [{ &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; }], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca400d03000000000004454f5300000000400d03000000000004454f530000000000&quot; }], &quot;signatures&quot;: [] }, [&quot;EOS6Z7mUQeFC2cQTT3xMyZh2wsLQoHih1bTMgRhr3dbichprTi7Rc&quot;], &quot;038f4b0fc8ff18a4f0842a8f0564611f6e96e8535901dd45e43ac8691a1c4dca&quot; ] return { &quot;expiration&quot;: &quot;2018-09-12T09:35:35&quot;, &quot;ref_block_num&quot;: 36659, &quot;ref_block_prefix&quot;: 3375919016, &quot;max_net_usage_words&quot;: 0, &quot;max_cpu_usage_ms&quot;: 0, &quot;delay_sec&quot;: 0, &quot;context_free_actions&quot;: [], &quot;actions&quot;: [ { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;newaccount&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca0100000001000341a9e89b10df5fb0b425e294e32c6208fc3c97becd61f111b351274cd30cd92801000000010000000100036b7a2e4feec43f2160927f34a046914d9aba7625a492597a0f888d2aaec225ba01000000&quot; }, { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;buyram&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca20a107000000000004454f5300000000&quot; }, { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;delegatebw&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca400d03000000000004454f5300000000400d03000000000004454f530000000000&quot; } ], &quot;transaction_extensions&quot;: [], &quot;signatures&quot;: [ &quot;SIG_K1_Kdux2Y4uBQnTHuEChMcgVUSpxPMRZaMKjnFu6PoprBx1Lnx8k2bLP2k31VtK9V1YuCjznAVqVEMMeTixgZyYa3ELMboqYV&quot; ], &quot;context_free_data&quot;: [] } 获取到signatures 4.7 提交交易 api http://jungle.cryptolions.io:18888/v1/chain/push_transaction params { &quot;compression&quot;: &quot;none&quot;, &quot;transaction&quot;: { &quot;expiration&quot;: &quot;2018-09-12T09:35:35.000&quot;, &quot;ref_block_num&quot;: 13995827, &quot;ref_block_prefix&quot;: 3375919016, &quot;context_free_actions&quot;: [], &quot;actions&quot;: [ { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;newaccount&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca0100000001000341a9e89b10df5fb0b425e294e32c6208fc3c97becd61f111b351274cd30cd92801000000010000000100036b7a2e4feec43f2160927f34a046914d9aba7625a492597a0f888d2aaec225ba01000000&quot; }, { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;buyram&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca20a107000000000004454f5300000000&quot; }, { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;delegatebw&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca400d03000000000004454f5300000000400d03000000000004454f530000000000&quot; } ], &quot;transaction_extensions&quot;: [] }, &quot;signatures&quot;: [ &quot;SIG_K1_Kdux2Y4uBQnTHuEChMcgVUSpxPMRZaMKjnFu6PoprBx1Lnx8k2bLP2k31VtK9V1YuCjznAVqVEMMeTixgZyYa3ELMboqYV&quot; ] } return { &quot;transaction_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;processed&quot;: { &quot;id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;receipt&quot;: { &quot;status&quot;: &quot;executed&quot;, &quot;cpu_usage_us&quot;: 5966, &quot;net_usage_words&quot;: 43 }, &quot;elapsed&quot;: 5966, &quot;net_usage&quot;: 344, &quot;scheduled&quot;: false, &quot;action_traces&quot;: [ { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio&quot;, &quot;act_digest&quot;: &quot;3c4d74c9634ac8adb4efe534575de240c6bd0c5571e1569fbb61bdbc24fda1f7&quot;, &quot;global_sequence&quot;: 33340943, &quot;recv_sequence&quot;: 15451045, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 54 ] ], &quot;code_sequence&quot;: 11, &quot;abi_sequence&quot;: 12 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;newaccount&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;creator&quot;: &quot;testnetyy111&quot;, &quot;name&quot;: &quot;testnetyy222&quot;, &quot;owner&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [ { &quot;key&quot;: &quot;EOS7L9pb38iiqvnrsgzPVqxHnxHmxxeX6bCNbGkehh1hCScEc3ya2&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [], &quot;waits&quot;: [] }, &quot;active&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [ { &quot;key&quot;: &quot;EOS7eZtj6yzESob8Y3vjYwBnM25uZ3HnQa922FmcR3MZuozdiRCEj&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [], &quot;waits&quot;: [] } }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca0100000001000341a9e89b10df5fb0b425e294e32c6208fc3c97becd61f111b351274cd30cd92801000000010000000100036b7a2e4feec43f2160927f34a046914d9aba7625a492597a0f888d2aaec225ba01000000&quot; }, &quot;elapsed&quot;: 1112, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [] }, { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio&quot;, &quot;act_digest&quot;: &quot;a7884494c409371fcfa5df12aad8a061906416e687ab6aa4f58fca8be5d88035&quot;, &quot;global_sequence&quot;: 33340944, &quot;recv_sequence&quot;: 15451046, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 55 ] ], &quot;code_sequence&quot;: 11, &quot;abi_sequence&quot;: 12 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;buyram&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;payer&quot;: &quot;testnetyy111&quot;, &quot;receiver&quot;: &quot;testnetyy222&quot;, &quot;quant&quot;: &quot;50.0000 EOS&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca20a107000000000004454f5300000000&quot; }, &quot;elapsed&quot;: 1457, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [ { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio.token&quot;, &quot;act_digest&quot;: &quot;3002817afe2f79146cff845d5a633c20b4481676a9a058414d9e5ce0d301fd8d&quot;, &quot;global_sequence&quot;: 33340945, &quot;recv_sequence&quot;: 1726107, &quot;auth_sequence&quot;: [ [ &quot;eosio.ram&quot;, 240361 ], [ &quot;testnetyy111&quot;, 56 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; }, { &quot;actor&quot;: &quot;eosio.ram&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.ram&quot;, &quot;quantity&quot;: &quot;49.7500 EOS&quot;, &quot;memo&quot;: &quot;buy ram&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca000090e602ea30555c9707000000000004454f5300000000076275792072616d&quot; }, &quot;elapsed&quot;: 522, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [ { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;testnetyy111&quot;, &quot;act_digest&quot;: &quot;3002817afe2f79146cff845d5a633c20b4481676a9a058414d9e5ce0d301fd8d&quot;, &quot;global_sequence&quot;: 33340946, &quot;recv_sequence&quot;: 21, &quot;auth_sequence&quot;: [ [ &quot;eosio.ram&quot;, 240362 ], [ &quot;testnetyy111&quot;, 57 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; }, { &quot;actor&quot;: &quot;eosio.ram&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.ram&quot;, &quot;quantity&quot;: &quot;49.7500 EOS&quot;, &quot;memo&quot;: &quot;buy ram&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca000090e602ea30555c9707000000000004454f5300000000076275792072616d&quot; }, &quot;elapsed&quot;: 64, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [] }, { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio.ram&quot;, &quot;act_digest&quot;: &quot;3002817afe2f79146cff845d5a633c20b4481676a9a058414d9e5ce0d301fd8d&quot;, &quot;global_sequence&quot;: 33340947, &quot;recv_sequence&quot;: 267887, &quot;auth_sequence&quot;: [ [ &quot;eosio.ram&quot;, 240363 ], [ &quot;testnetyy111&quot;, 58 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; }, { &quot;actor&quot;: &quot;eosio.ram&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.ram&quot;, &quot;quantity&quot;: &quot;49.7500 EOS&quot;, &quot;memo&quot;: &quot;buy ram&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca000090e602ea30555c9707000000000004454f5300000000076275792072616d&quot; }, &quot;elapsed&quot;: 7, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [] } ] }, { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio.token&quot;, &quot;act_digest&quot;: &quot;caa4b0daeab300e365be174604ceb8c971e8981013b936b526110562f73f15d5&quot;, &quot;global_sequence&quot;: 33340948, &quot;recv_sequence&quot;: 1726108, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 59 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.ramfee&quot;, &quot;quantity&quot;: &quot;0.2500 EOS&quot;, &quot;memo&quot;: &quot;ram fee&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1caa0d492e602ea3055c40900000000000004454f53000000000772616d20666565&quot; }, &quot;elapsed&quot;: 365, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [ { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;testnetyy111&quot;, &quot;act_digest&quot;: &quot;caa4b0daeab300e365be174604ceb8c971e8981013b936b526110562f73f15d5&quot;, &quot;global_sequence&quot;: 33340949, &quot;recv_sequence&quot;: 22, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 60 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.ramfee&quot;, &quot;quantity&quot;: &quot;0.2500 EOS&quot;, &quot;memo&quot;: &quot;ram fee&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1caa0d492e602ea3055c40900000000000004454f53000000000772616d20666565&quot; }, &quot;elapsed&quot;: 68, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [] }, { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio.ramfee&quot;, &quot;act_digest&quot;: &quot;caa4b0daeab300e365be174604ceb8c971e8981013b936b526110562f73f15d5&quot;, &quot;global_sequence&quot;: 33340950, &quot;recv_sequence&quot;: 267803, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 61 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.ramfee&quot;, &quot;quantity&quot;: &quot;0.2500 EOS&quot;, &quot;memo&quot;: &quot;ram fee&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1caa0d492e602ea3055c40900000000000004454f53000000000772616d20666565&quot; }, &quot;elapsed&quot;: 10, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [] } ] } ] }, { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio&quot;, &quot;act_digest&quot;: &quot;3b1f73c0ca73dce2a8c6bcc3a397071a860ecc9798f3cd688382381648dcee10&quot;, &quot;global_sequence&quot;: 33340951, &quot;recv_sequence&quot;: 15451047, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 62 ] ], &quot;code_sequence&quot;: 11, &quot;abi_sequence&quot;: 12 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;delegatebw&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;receiver&quot;: &quot;testnetyy222&quot;, &quot;stake_net_quantity&quot;: &quot;20.0000 EOS&quot;, &quot;stake_cpu_quantity&quot;: &quot;20.0000 EOS&quot;, &quot;transfer&quot;: 0 }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca400d03000000000004454f5300000000400d03000000000004454f530000000000&quot; }, &quot;elapsed&quot;: 1561, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [ { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio.token&quot;, &quot;act_digest&quot;: &quot;034a15a7b1f83236e705f90e22fe246499a990e3699e1f3d8985fe65f1abaa32&quot;, &quot;global_sequence&quot;: 33340952, &quot;recv_sequence&quot;: 1726109, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 63 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.stake&quot;, &quot;quantity&quot;: &quot;40.0000 EOS&quot;, &quot;memo&quot;: &quot;stake bandwidth&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca0014341903ea3055801a06000000000004454f53000000000f7374616b652062616e647769647468&quot; }, &quot;elapsed&quot;: 471, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [ { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;testnetyy111&quot;, &quot;act_digest&quot;: &quot;034a15a7b1f83236e705f90e22fe246499a990e3699e1f3d8985fe65f1abaa32&quot;, &quot;global_sequence&quot;: 33340953, &quot;recv_sequence&quot;: 23, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 64 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.stake&quot;, &quot;quantity&quot;: &quot;40.0000 EOS&quot;, &quot;memo&quot;: &quot;stake bandwidth&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca0014341903ea3055801a06000000000004454f53000000000f7374616b652062616e647769647468&quot; }, &quot;elapsed&quot;: 54, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [] }, { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio.stake&quot;, &quot;act_digest&quot;: &quot;034a15a7b1f83236e705f90e22fe246499a990e3699e1f3d8985fe65f1abaa32&quot;, &quot;global_sequence&quot;: 33340954, &quot;recv_sequence&quot;: 238454, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 65 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.stake&quot;, &quot;quantity&quot;: &quot;40.0000 EOS&quot;, &quot;memo&quot;: &quot;stake bandwidth&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca0014341903ea3055801a06000000000004454f53000000000f7374616b652062616e647769647468&quot; }, &quot;elapsed&quot;: 8, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [] } ] } ] } ], &quot;except&quot;: null } } 4.8 查询新账户状态 api http://jungle.cryptolions.io:18888/v1/chain/get_account params {&quot;account_name&quot;:&quot;testnetyy222&quot;} return { &quot;account_name&quot;: &quot;testnetyy222&quot;, &quot;head_block_num&quot;: 13997774, &quot;head_block_time&quot;: &quot;2018-09-12T09:32:28.500&quot;, &quot;privileged&quot;: false, &quot;last_code_update&quot;: &quot;1970-01-01T00:00:00.000&quot;, &quot;created&quot;: &quot;2018-09-12T09:29:54.500&quot;, &quot;ram_quota&quot;: 822899, &quot;net_weight&quot;: 200000, &quot;cpu_weight&quot;: 200000, &quot;net_limit&quot;: { &quot;used&quot;: 0, &quot;available&quot;: 3835267, &quot;max&quot;: 3835267 }, &quot;cpu_limit&quot;: { &quot;used&quot;: 0, &quot;available&quot;: 730289, &quot;max&quot;: 730289 }, &quot;ram_usage&quot;: 2996, &quot;permissions&quot;: [ { &quot;perm_name&quot;: &quot;active&quot;, &quot;parent&quot;: &quot;owner&quot;, &quot;required_auth&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [ { &quot;key&quot;: &quot;EOS7eZtj6yzESob8Y3vjYwBnM25uZ3HnQa922FmcR3MZuozdiRCEj&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [], &quot;waits&quot;: [] } }, { &quot;perm_name&quot;: &quot;owner&quot;, &quot;parent&quot;: &quot;&quot;, &quot;required_auth&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [ { &quot;key&quot;: &quot;EOS7L9pb38iiqvnrsgzPVqxHnxHmxxeX6bCNbGkehh1hCScEc3ya2&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [], &quot;waits&quot;: [] } } ], &quot;total_resources&quot;: { &quot;owner&quot;: &quot;testnetyy222&quot;, &quot;net_weight&quot;: &quot;20.0000 EOS&quot;, &quot;cpu_weight&quot;: &quot;20.0000 EOS&quot;, &quot;ram_bytes&quot;: 821499 }, &quot;self_delegated_bandwidth&quot;: null, &quot;refund_request&quot;: null, &quot;voter_info&quot;: null } 使用cleos查询： yuyangdeMacBook-Pro:cleos yuyang$ cleos -u &quot;http://jungle.cryptolions.io:18888&quot; get account testnetyy222 permissions: owner 1: 1 EOS7L9pb38iiqvnrsgzPVqxHnxHmxxeX6bCNbGkehh1hCScEc3ya2 active 1: 1 EOS7eZtj6yzESob8Y3vjYwBnM25uZ3HnQa922FmcR3MZuozdiRCEj memory: quota: 803.6 KiB used: 2.926 KiB net bandwidth: delegated: 20.0000 EOS (total staked delegated to account from others) used: 0 bytes available: 3.658 MiB limit: 3.658 MiB cpu bandwidth: delegated: 20.0000 EOS (total staked delegated to account from others) used: 0 us available: 730.3 ms limit: 730.3 ms &nbsp; 阅读更多" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-10-27T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"1. 前言 前面我们使用RPC API完成了转账。这篇文章继续使用RPC API来创建账号。在EOS中，这些行为都叫做transaction，更本质一点说是一笔transaction中的action。在转账的transaction中，只有一个action，它调用eosio.token合约中的transfer方法。而我们知道，创建账户时需要为账户购买和抵押资源。其实只需要为新账户购买内存资源，否则会创建失败。而抵押CPU和NET资源可以不在创建账户时同时进行。但一般来说，为了使新账户可以操作一些事情，例如转账，都会在创建时同时为其抵押CPU和NET资源。这时就会出现一笔transaction中包含多个action的情况。本篇文章演示了创建账户时存在多个action的情况。 我们需要使用eosio合约来完成下面的步骤。该合约名为eosio.system，位于eos/contracts中。 和之前一样，我们在测试网络http://jungle.cryptolions.io:18888上，使用Postman对API进行测试。 2. 准备步骤 2.1 生成两个公钥 EOS7L9pb38iiqvnrsgzPVqxHnxHmxxeX6bCNbGkehh1hCScEc3ya2 EOS7eZtj6yzESob8Y3vjYwBnM25uZ3HnQa922FmcR3MZuozdiRCEj 2.2 准备钱包和钱包服务 我们使用账户testnetyy111来创建账户 打开钱包服务keosd，这次我们指定其服务IP为8899： yuyangdeMacBook-Pro:keosd yuyang$ keosd --http-server-address=localhost:8899 通过调用钱包的RPC API，我们打开并解锁钱包，保证钱包中有testnetyy111的active权限的公私钥。这部分不明白可以先看前面的文章 3. 大致流程 大致流程和之前一样，只是需要多生成几个bin字符串： abi_json_to_bin_newaccount 将创建账户信息由json格式序列化为bin格式字符串 abi_json_to_bin_buyram 将购买内存信息由json格式序列化为bin格式字符串 abi_json_to_bin_delegatebw 将购买抵押资源信息由json格式序列化为bin格式字符串 get_info 获取当前最新的区块编号 get_block 根据区块编号获取区块详情 get_required_keys(可省略) 传入当前拥有的公钥、bin字符串，区块等信息，筛选出签署交易需要的公钥 sign_transaction 传入上面获取的相关参数，通过钱包中私钥对交易进行签署 push_transaction 根据第七步获取的签名信息，将交易提交到区块链上 4. 详细流程 4.1 生成创建账户的bin字符串 调用eosio合约的newaccount方法 传入创建者账户名称和新账户名称 设置两个权限的公钥 api http://jungle.cryptolions.io:18888/v1/chain/abi_json_to_bin params { &quot;code&quot;: &quot;eosio&quot;, &quot;action&quot;: &quot;newaccount&quot;, &quot;args&quot;: { &quot;creator&quot;: &quot;testnetyy111&quot;, &quot;name&quot;: &quot;testnetyy222&quot;, &quot;owner&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [ { &quot;key&quot;: &quot;EOS7L9pb38iiqvnrsgzPVqxHnxHmxxeX6bCNbGkehh1hCScEc3ya2&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [], &quot;waits&quot;: [] }, &quot;active&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [ { &quot;key&quot;: &quot;EOS7eZtj6yzESob8Y3vjYwBnM25uZ3HnQa922FmcR3MZuozdiRCEj&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [], &quot;waits&quot;: [] } } } return { &quot;binargs&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca0100000001000341a9e89b10df5fb0b425e294e32c6208fc3c97becd61f111b351274cd30cd92801000000010000000100036b7a2e4feec43f2160927f34a046914d9aba7625a492597a0f888d2aaec225ba01000000&quot; } 4.2 生成购买内存的bin字符串 调用eosio合约的buyram方法 传入购买者账户名称和接收者账户名称 设置购买的金额 api http://jungle.cryptolions.io:18888/v1/chain/abi_json_to_bin params { &quot;code&quot;: &quot;eosio&quot;, &quot;action&quot;: &quot;buyram&quot;, &quot;args&quot;: { &quot;payer&quot;: &quot;testnetyy111&quot;, &quot;receiver&quot;: &quot;testnetyy222&quot;, &quot;quant&quot;: &quot;50.0000 EOS&quot;, } } return { &quot;binargs&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca20a107000000000004454f5300000000&quot; } 4.3 生成购买抵押资源的bin字符串 调用eosio合约的delegatebw方法 传入购买者账户名称和接收者账户名称 设置购买的资源类型和金额 transfer后面讲抵押和赎回资源时再详细讲 api http://jungle.cryptolions.io:18888/v1/chain/abi_json_to_bin params { &quot;code&quot;: &quot;eosio&quot;, &quot;action&quot;: &quot;delegatebw&quot;, &quot;args&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;receiver&quot;: &quot;testnetyy222&quot;, &quot;stake_net_quantity&quot;: &quot;20.0000 EOS&quot;, &quot;stake_cpu_quantity&quot;: &quot;20.0000 EOS&quot;, &quot;transfer&quot;: 0, } } return { &quot;binargs&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca400d03000000000004454f5300000000400d03000000000004454f530000000000&quot; } 4.4 获取当前最新的区块号 api http://jungle.cryptolions.io:18888/v1/chain/get_info params 无 return { &quot;server_version&quot;: &quot;08819aae&quot;, &quot;chain_id&quot;: &quot;038f4b0fc8ff18a4f0842a8f0564611f6e96e8535901dd45e43ac8691a1c4dca&quot;, &quot;head_block_num&quot;: 13995827, &quot;last_irreversible_block_num&quot;: 13995503, &quot;last_irreversible_block_id&quot;: &quot;00d58defe56615c06fa05fc61639f64b3d72005ed2baff6035c82a8e83ac4b17&quot;, &quot;head_block_id&quot;: &quot;00d58f3333165a76a86f38c98ca50ece1a649a9556276d16f523192b4b5d94c4&quot;, &quot;head_block_time&quot;: &quot;2018-09-12T09:15:35.000&quot;, &quot;head_block_producer&quot;: &quot;eosldndevbp2&quot;, &quot;virtual_block_cpu_limit&quot;: 200000000, &quot;virtual_block_net_limit&quot;: 1048576000, &quot;block_cpu_limit&quot;: 199900, &quot;block_net_limit&quot;: 1048576, &quot;server_version_string&quot;: &quot;v1.2.5-dirty&quot; } 获取到区块号&quot;head_block_num&quot;: 13995827 4.5 获取当前区块详情 api http://jungle.cryptolions.io:18888/v1/chain/get_block params {&quot;block_num_or_id&quot;:&quot;13995827&quot;} return { &quot;timestamp&quot;: &quot;2018-09-12T09:15:35.000&quot;, &quot;producer&quot;: &quot;eosldndevbp2&quot;, &quot;confirmed&quot;: 0, &quot;previous&quot;: &quot;00d58f32a420c7957547e410d65bca6c0e16d6a32e0c0cfbd428f6a46ca67bfe&quot;, &quot;transaction_mroot&quot;: &quot;0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;action_mroot&quot;: &quot;c71076b9b5100ccd68de98a8b0175036ab6ef26b1d8e2194fa0bf0ff95e4f702&quot;, &quot;schedule_version&quot;: 222, &quot;new_producers&quot;: null, &quot;header_extensions&quot;: [], &quot;producer_signature&quot;: &quot;SIG_K1_KhwPrVWsyVsNL7phXXv9Q1Wf9fFCvx9VZFaLUqBbnn1EJF2M3J9ekCuYwQaDsU9shMpLgPYcNU79dSicLNeza5DmjH8z7A&quot;, &quot;transactions&quot;: [], &quot;block_extensions&quot;: [], &quot;id&quot;: &quot;00d58f3333165a76a86f38c98ca50ece1a649a9556276d16f523192b4b5d94c4&quot;, &quot;block_num&quot;: 13995827, &quot;ref_block_prefix&quot;: 3375919016 } 获取到&quot;timestamp&quot;: &quot;2018-09-12T09:15:35.000&quot;和&quot;ref_block_prefix&quot;: 3375919016 4.6 签署交易 这笔交易中有三个action，将上面生成的bin字符串按name填入到data中 过期时间我这里加了20分钟。2018-09-12T09:15:35.000 ==&gt; 2018-09-12T09:35:35.000 注意这里钱包服务的端口为8899 api http://127.0.0.1:8899/v1/wallet/sign_transaction params [{ &quot;ref_block_num&quot;: 13995827, &quot;ref_block_prefix&quot;: 3375919016, &quot;expiration&quot;: &quot;2018-09-12T09:35:35.000&quot;, &quot;actions&quot;: [{ &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;newaccount&quot;, &quot;authorization&quot;: [{ &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; }], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca0100000001000341a9e89b10df5fb0b425e294e32c6208fc3c97becd61f111b351274cd30cd92801000000010000000100036b7a2e4feec43f2160927f34a046914d9aba7625a492597a0f888d2aaec225ba01000000&quot; }, { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;buyram&quot;, &quot;authorization&quot;: [{ &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; }], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca20a107000000000004454f5300000000&quot; }, { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;delegatebw&quot;, &quot;authorization&quot;: [{ &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; }], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca400d03000000000004454f5300000000400d03000000000004454f530000000000&quot; }], &quot;signatures&quot;: [] }, [&quot;EOS6Z7mUQeFC2cQTT3xMyZh2wsLQoHih1bTMgRhr3dbichprTi7Rc&quot;], &quot;038f4b0fc8ff18a4f0842a8f0564611f6e96e8535901dd45e43ac8691a1c4dca&quot; ] return { &quot;expiration&quot;: &quot;2018-09-12T09:35:35&quot;, &quot;ref_block_num&quot;: 36659, &quot;ref_block_prefix&quot;: 3375919016, &quot;max_net_usage_words&quot;: 0, &quot;max_cpu_usage_ms&quot;: 0, &quot;delay_sec&quot;: 0, &quot;context_free_actions&quot;: [], &quot;actions&quot;: [ { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;newaccount&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca0100000001000341a9e89b10df5fb0b425e294e32c6208fc3c97becd61f111b351274cd30cd92801000000010000000100036b7a2e4feec43f2160927f34a046914d9aba7625a492597a0f888d2aaec225ba01000000&quot; }, { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;buyram&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca20a107000000000004454f5300000000&quot; }, { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;delegatebw&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca400d03000000000004454f5300000000400d03000000000004454f530000000000&quot; } ], &quot;transaction_extensions&quot;: [], &quot;signatures&quot;: [ &quot;SIG_K1_Kdux2Y4uBQnTHuEChMcgVUSpxPMRZaMKjnFu6PoprBx1Lnx8k2bLP2k31VtK9V1YuCjznAVqVEMMeTixgZyYa3ELMboqYV&quot; ], &quot;context_free_data&quot;: [] } 获取到signatures 4.7 提交交易 api http://jungle.cryptolions.io:18888/v1/chain/push_transaction params { &quot;compression&quot;: &quot;none&quot;, &quot;transaction&quot;: { &quot;expiration&quot;: &quot;2018-09-12T09:35:35.000&quot;, &quot;ref_block_num&quot;: 13995827, &quot;ref_block_prefix&quot;: 3375919016, &quot;context_free_actions&quot;: [], &quot;actions&quot;: [ { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;newaccount&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca0100000001000341a9e89b10df5fb0b425e294e32c6208fc3c97becd61f111b351274cd30cd92801000000010000000100036b7a2e4feec43f2160927f34a046914d9aba7625a492597a0f888d2aaec225ba01000000&quot; }, { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;buyram&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca20a107000000000004454f5300000000&quot; }, { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;delegatebw&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca400d03000000000004454f5300000000400d03000000000004454f530000000000&quot; } ], &quot;transaction_extensions&quot;: [] }, &quot;signatures&quot;: [ &quot;SIG_K1_Kdux2Y4uBQnTHuEChMcgVUSpxPMRZaMKjnFu6PoprBx1Lnx8k2bLP2k31VtK9V1YuCjznAVqVEMMeTixgZyYa3ELMboqYV&quot; ] } return { &quot;transaction_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;processed&quot;: { &quot;id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;receipt&quot;: { &quot;status&quot;: &quot;executed&quot;, &quot;cpu_usage_us&quot;: 5966, &quot;net_usage_words&quot;: 43 }, &quot;elapsed&quot;: 5966, &quot;net_usage&quot;: 344, &quot;scheduled&quot;: false, &quot;action_traces&quot;: [ { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio&quot;, &quot;act_digest&quot;: &quot;3c4d74c9634ac8adb4efe534575de240c6bd0c5571e1569fbb61bdbc24fda1f7&quot;, &quot;global_sequence&quot;: 33340943, &quot;recv_sequence&quot;: 15451045, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 54 ] ], &quot;code_sequence&quot;: 11, &quot;abi_sequence&quot;: 12 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;newaccount&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;creator&quot;: &quot;testnetyy111&quot;, &quot;name&quot;: &quot;testnetyy222&quot;, &quot;owner&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [ { &quot;key&quot;: &quot;EOS7L9pb38iiqvnrsgzPVqxHnxHmxxeX6bCNbGkehh1hCScEc3ya2&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [], &quot;waits&quot;: [] }, &quot;active&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [ { &quot;key&quot;: &quot;EOS7eZtj6yzESob8Y3vjYwBnM25uZ3HnQa922FmcR3MZuozdiRCEj&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [], &quot;waits&quot;: [] } }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca0100000001000341a9e89b10df5fb0b425e294e32c6208fc3c97becd61f111b351274cd30cd92801000000010000000100036b7a2e4feec43f2160927f34a046914d9aba7625a492597a0f888d2aaec225ba01000000&quot; }, &quot;elapsed&quot;: 1112, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [] }, { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio&quot;, &quot;act_digest&quot;: &quot;a7884494c409371fcfa5df12aad8a061906416e687ab6aa4f58fca8be5d88035&quot;, &quot;global_sequence&quot;: 33340944, &quot;recv_sequence&quot;: 15451046, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 55 ] ], &quot;code_sequence&quot;: 11, &quot;abi_sequence&quot;: 12 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;buyram&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;payer&quot;: &quot;testnetyy111&quot;, &quot;receiver&quot;: &quot;testnetyy222&quot;, &quot;quant&quot;: &quot;50.0000 EOS&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca20a107000000000004454f5300000000&quot; }, &quot;elapsed&quot;: 1457, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [ { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio.token&quot;, &quot;act_digest&quot;: &quot;3002817afe2f79146cff845d5a633c20b4481676a9a058414d9e5ce0d301fd8d&quot;, &quot;global_sequence&quot;: 33340945, &quot;recv_sequence&quot;: 1726107, &quot;auth_sequence&quot;: [ [ &quot;eosio.ram&quot;, 240361 ], [ &quot;testnetyy111&quot;, 56 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; }, { &quot;actor&quot;: &quot;eosio.ram&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.ram&quot;, &quot;quantity&quot;: &quot;49.7500 EOS&quot;, &quot;memo&quot;: &quot;buy ram&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca000090e602ea30555c9707000000000004454f5300000000076275792072616d&quot; }, &quot;elapsed&quot;: 522, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [ { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;testnetyy111&quot;, &quot;act_digest&quot;: &quot;3002817afe2f79146cff845d5a633c20b4481676a9a058414d9e5ce0d301fd8d&quot;, &quot;global_sequence&quot;: 33340946, &quot;recv_sequence&quot;: 21, &quot;auth_sequence&quot;: [ [ &quot;eosio.ram&quot;, 240362 ], [ &quot;testnetyy111&quot;, 57 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; }, { &quot;actor&quot;: &quot;eosio.ram&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.ram&quot;, &quot;quantity&quot;: &quot;49.7500 EOS&quot;, &quot;memo&quot;: &quot;buy ram&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca000090e602ea30555c9707000000000004454f5300000000076275792072616d&quot; }, &quot;elapsed&quot;: 64, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [] }, { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio.ram&quot;, &quot;act_digest&quot;: &quot;3002817afe2f79146cff845d5a633c20b4481676a9a058414d9e5ce0d301fd8d&quot;, &quot;global_sequence&quot;: 33340947, &quot;recv_sequence&quot;: 267887, &quot;auth_sequence&quot;: [ [ &quot;eosio.ram&quot;, 240363 ], [ &quot;testnetyy111&quot;, 58 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; }, { &quot;actor&quot;: &quot;eosio.ram&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.ram&quot;, &quot;quantity&quot;: &quot;49.7500 EOS&quot;, &quot;memo&quot;: &quot;buy ram&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca000090e602ea30555c9707000000000004454f5300000000076275792072616d&quot; }, &quot;elapsed&quot;: 7, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [] } ] }, { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio.token&quot;, &quot;act_digest&quot;: &quot;caa4b0daeab300e365be174604ceb8c971e8981013b936b526110562f73f15d5&quot;, &quot;global_sequence&quot;: 33340948, &quot;recv_sequence&quot;: 1726108, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 59 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.ramfee&quot;, &quot;quantity&quot;: &quot;0.2500 EOS&quot;, &quot;memo&quot;: &quot;ram fee&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1caa0d492e602ea3055c40900000000000004454f53000000000772616d20666565&quot; }, &quot;elapsed&quot;: 365, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [ { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;testnetyy111&quot;, &quot;act_digest&quot;: &quot;caa4b0daeab300e365be174604ceb8c971e8981013b936b526110562f73f15d5&quot;, &quot;global_sequence&quot;: 33340949, &quot;recv_sequence&quot;: 22, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 60 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.ramfee&quot;, &quot;quantity&quot;: &quot;0.2500 EOS&quot;, &quot;memo&quot;: &quot;ram fee&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1caa0d492e602ea3055c40900000000000004454f53000000000772616d20666565&quot; }, &quot;elapsed&quot;: 68, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [] }, { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio.ramfee&quot;, &quot;act_digest&quot;: &quot;caa4b0daeab300e365be174604ceb8c971e8981013b936b526110562f73f15d5&quot;, &quot;global_sequence&quot;: 33340950, &quot;recv_sequence&quot;: 267803, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 61 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.ramfee&quot;, &quot;quantity&quot;: &quot;0.2500 EOS&quot;, &quot;memo&quot;: &quot;ram fee&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1caa0d492e602ea3055c40900000000000004454f53000000000772616d20666565&quot; }, &quot;elapsed&quot;: 10, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [] } ] } ] }, { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio&quot;, &quot;act_digest&quot;: &quot;3b1f73c0ca73dce2a8c6bcc3a397071a860ecc9798f3cd688382381648dcee10&quot;, &quot;global_sequence&quot;: 33340951, &quot;recv_sequence&quot;: 15451047, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 62 ] ], &quot;code_sequence&quot;: 11, &quot;abi_sequence&quot;: 12 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio&quot;, &quot;name&quot;: &quot;delegatebw&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;receiver&quot;: &quot;testnetyy222&quot;, &quot;stake_net_quantity&quot;: &quot;20.0000 EOS&quot;, &quot;stake_cpu_quantity&quot;: &quot;20.0000 EOS&quot;, &quot;transfer&quot;: 0 }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca2084f03eab99b1ca400d03000000000004454f5300000000400d03000000000004454f530000000000&quot; }, &quot;elapsed&quot;: 1561, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [ { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio.token&quot;, &quot;act_digest&quot;: &quot;034a15a7b1f83236e705f90e22fe246499a990e3699e1f3d8985fe65f1abaa32&quot;, &quot;global_sequence&quot;: 33340952, &quot;recv_sequence&quot;: 1726109, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 63 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.stake&quot;, &quot;quantity&quot;: &quot;40.0000 EOS&quot;, &quot;memo&quot;: &quot;stake bandwidth&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca0014341903ea3055801a06000000000004454f53000000000f7374616b652062616e647769647468&quot; }, &quot;elapsed&quot;: 471, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [ { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;testnetyy111&quot;, &quot;act_digest&quot;: &quot;034a15a7b1f83236e705f90e22fe246499a990e3699e1f3d8985fe65f1abaa32&quot;, &quot;global_sequence&quot;: 33340953, &quot;recv_sequence&quot;: 23, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 64 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.stake&quot;, &quot;quantity&quot;: &quot;40.0000 EOS&quot;, &quot;memo&quot;: &quot;stake bandwidth&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca0014341903ea3055801a06000000000004454f53000000000f7374616b652062616e647769647468&quot; }, &quot;elapsed&quot;: 54, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [] }, { &quot;receipt&quot;: { &quot;receiver&quot;: &quot;eosio.stake&quot;, &quot;act_digest&quot;: &quot;034a15a7b1f83236e705f90e22fe246499a990e3699e1f3d8985fe65f1abaa32&quot;, &quot;global_sequence&quot;: 33340954, &quot;recv_sequence&quot;: 238454, &quot;auth_sequence&quot;: [ [ &quot;testnetyy111&quot;, 65 ] ], &quot;code_sequence&quot;: 3, &quot;abi_sequence&quot;: 3 }, &quot;act&quot;: { &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [ { &quot;actor&quot;: &quot;testnetyy111&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;testnetyy111&quot;, &quot;to&quot;: &quot;eosio.stake&quot;, &quot;quantity&quot;: &quot;40.0000 EOS&quot;, &quot;memo&quot;: &quot;stake bandwidth&quot; }, &quot;hex_data&quot;: &quot;1042f03eab99b1ca0014341903ea3055801a06000000000004454f53000000000f7374616b652062616e647769647468&quot; }, &quot;elapsed&quot;: 8, &quot;cpu_usage&quot;: 0, &quot;console&quot;: &quot;&quot;, &quot;total_cpu_usage&quot;: 0, &quot;trx_id&quot;: &quot;19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60&quot;, &quot;inline_traces&quot;: [] } ] } ] } ], &quot;except&quot;: null } } 4.8 查询新账户状态 api http://jungle.cryptolions.io:18888/v1/chain/get_account params {&quot;account_name&quot;:&quot;testnetyy222&quot;} return { &quot;account_name&quot;: &quot;testnetyy222&quot;, &quot;head_block_num&quot;: 13997774, &quot;head_block_time&quot;: &quot;2018-09-12T09:32:28.500&quot;, &quot;privileged&quot;: false, &quot;last_code_update&quot;: &quot;1970-01-01T00:00:00.000&quot;, &quot;created&quot;: &quot;2018-09-12T09:29:54.500&quot;, &quot;ram_quota&quot;: 822899, &quot;net_weight&quot;: 200000, &quot;cpu_weight&quot;: 200000, &quot;net_limit&quot;: { &quot;used&quot;: 0, &quot;available&quot;: 3835267, &quot;max&quot;: 3835267 }, &quot;cpu_limit&quot;: { &quot;used&quot;: 0, &quot;available&quot;: 730289, &quot;max&quot;: 730289 }, &quot;ram_usage&quot;: 2996, &quot;permissions&quot;: [ { &quot;perm_name&quot;: &quot;active&quot;, &quot;parent&quot;: &quot;owner&quot;, &quot;required_auth&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [ { &quot;key&quot;: &quot;EOS7eZtj6yzESob8Y3vjYwBnM25uZ3HnQa922FmcR3MZuozdiRCEj&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [], &quot;waits&quot;: [] } }, { &quot;perm_name&quot;: &quot;owner&quot;, &quot;parent&quot;: &quot;&quot;, &quot;required_auth&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [ { &quot;key&quot;: &quot;EOS7L9pb38iiqvnrsgzPVqxHnxHmxxeX6bCNbGkehh1hCScEc3ya2&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [], &quot;waits&quot;: [] } } ], &quot;total_resources&quot;: { &quot;owner&quot;: &quot;testnetyy222&quot;, &quot;net_weight&quot;: &quot;20.0000 EOS&quot;, &quot;cpu_weight&quot;: &quot;20.0000 EOS&quot;, &quot;ram_bytes&quot;: 821499 }, &quot;self_delegated_bandwidth&quot;: null, &quot;refund_request&quot;: null, &quot;voter_info&quot;: null } 使用cleos查询： yuyangdeMacBook-Pro:cleos yuyang$ cleos -u &quot;http://jungle.cryptolions.io:18888&quot; get account testnetyy222 permissions: owner 1: 1 EOS7L9pb38iiqvnrsgzPVqxHnxHmxxeX6bCNbGkehh1hCScEc3ya2 active 1: 1 EOS7eZtj6yzESob8Y3vjYwBnM25uZ3HnQa922FmcR3MZuozdiRCEj memory: quota: 803.6 KiB used: 2.926 KiB net bandwidth: delegated: 20.0000 EOS (total staked delegated to account from others) used: 0 bytes available: 3.658 MiB limit: 3.658 MiB cpu bandwidth: delegated: 20.0000 EOS (total staked delegated to account from others) used: 0 us available: 730.3 ms limit: 730.3 ms &nbsp; 阅读更多","@type":"BlogPosting","url":"/2018/10/27/19ff5cb6ce39bc48d8710090ab859aef.html","headline":"EOS实战（二）RPC接口（使用RPC的接口创建账户同时购买内存并为其抵押CPU和NET资源）","dateModified":"2018-10-27T00:00:00+08:00","datePublished":"2018-10-27T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/2018/10/27/19ff5cb6ce39bc48d8710090ab859aef.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-1');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>EOS实战（二）RPC接口（使用RPC的接口创建账户同时购买内存并为其抵押CPU和NET资源）</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-f76675cdea.css"> 
 <div class="htmledit_views"> 
  <h1>1. 前言</h1> 
  <p>前面我们使用RPC API完成了转账。这篇文章继续使用RPC API来创建账号。在EOS中，这些行为都叫做<code>transaction</code>，更本质一点说是一笔<code>transaction</code>中的<code>action</code>。在转账的<code>transaction</code>中，只有一个<code>action</code>，它调用<code>eosio.token</code>合约中的<code>transfer</code>方法。而我们知道，创建账户时需要为账户购买和抵押资源。其实只需要为新账户购买内存资源，否则会创建失败。而抵押CPU和NET资源可以不在创建账户时同时进行。但一般来说，为了使新账户可以操作一些事情，例如转账，都会在创建时同时为其抵押CPU和NET资源。这时就会出现一笔<code>transaction</code>中包含多个<code>action</code>的情况。本篇文章演示了创建账户时存在多个<code>action</code>的情况。</p> 
  <p>我们需要使用<code>eosio</code>合约来完成下面的步骤。该合约名为<code>eosio.system</code>，位于<code>eos/contracts</code>中。</p> 
  <p>和之前一样，我们在测试网络<code>http://jungle.cryptolions.io:18888</code>上，使用<code>Postman</code>对API进行测试。</p> 
  <h1>2. 准备步骤</h1> 
  <h2>2.1 生成两个公钥</h2> 
  <pre class="has">
<code>EOS7L9pb38iiqvnrsgzPVqxHnxHmxxeX6bCNbGkehh1hCScEc3ya2
EOS7eZtj6yzESob8Y3vjYwBnM25uZ3HnQa922FmcR3MZuozdiRCEj
</code></pre> 
  <h2>2.2 准备钱包和钱包服务</h2> 
  <p>我们使用账户<code>testnetyy111</code>来创建账户</p> 
  <p>打开钱包服务<code>keosd</code>，这次我们指定其服务IP为<code>8899</code>：</p> 
  <pre class="has">
<code>yuyangdeMacBook-Pro:keosd yuyang$ keosd --http-server-address=localhost:8899
</code></pre> 
  <p>通过调用钱包的RPC API，我们打开并解锁钱包，保证钱包中有<code>testnetyy111</code>的<code>active</code>权限的公私钥。这部分不明白可以先看前面的文章</p> 
  <h1>3. 大致流程</h1> 
  <p>大致流程和之前一样，只是需要多生成几个<code>bin</code>字符串：</p> 
  <ol>
   <li> <p><code>abi_json_to_bin_newaccount</code> 将创建账户信息由json格式序列化为bin格式字符串</p> </li> 
   <li> <p><code>abi_json_to_bin_buyram</code> 将购买内存信息由json格式序列化为bin格式字符串</p> </li> 
   <li> <p><code>abi_json_to_bin_delegatebw</code> 将购买抵押资源信息由json格式序列化为bin格式字符串</p> </li> 
   <li> <p><code>get_info</code> 获取当前最新的区块编号</p> </li> 
   <li> <p><code>get_block</code> 根据区块编号获取区块详情</p> </li> 
   <li> <p><code>get_required_keys</code>(可省略) 传入当前拥有的公钥、<code>bin</code>字符串，区块等信息，筛选出签署交易需要的公钥</p> </li> 
   <li> <p><code>sign_transaction</code> 传入上面获取的相关参数，通过钱包中私钥对交易进行签署</p> </li> 
   <li> <p><code>push_transaction</code> 根据第七步获取的签名信息，将交易提交到区块链上</p> </li> 
  </ol>
  <h1>4. 详细流程</h1> 
  <h2>4.1 生成创建账户的bin字符串</h2> 
  <ol>
   <li> <p>调用<code>eosio</code>合约的<code>newaccount</code>方法</p> </li> 
   <li> <p>传入创建者账户名称和新账户名称</p> </li> 
   <li> <p>设置两个权限的公钥</p> </li> 
  </ol>
  <pre class="has">
<code>api
http://jungle.cryptolions.io:18888/v1/chain/abi_json_to_bin

params
{
  "code": "eosio",
  "action": "newaccount",
  "args": {
    "creator": "testnetyy111",
    "name": "testnetyy222",
    "owner": {
      "threshold": 1,
      "keys": [
        {
          "key": "EOS7L9pb38iiqvnrsgzPVqxHnxHmxxeX6bCNbGkehh1hCScEc3ya2",
          "weight": 1
        }
      ],
      "accounts": [],
      "waits": []
    },
    "active": {
      "threshold": 1,
      "keys": [
        {
          "key": "EOS7eZtj6yzESob8Y3vjYwBnM25uZ3HnQa922FmcR3MZuozdiRCEj",
          "weight": 1
        }
      ],
      "accounts": [],
      "waits": []
    }
  }
}

return
{
    "binargs": "1042f03eab99b1ca2084f03eab99b1ca0100000001000341a9e89b10df5fb0b425e294e32c6208fc3c97becd61f111b351274cd30cd92801000000010000000100036b7a2e4feec43f2160927f34a046914d9aba7625a492597a0f888d2aaec225ba01000000"
}
</code></pre> 
  <h2>4.2 生成购买内存的bin字符串</h2> 
  <ol>
   <li> <p>调用<code>eosio</code>合约的<code>buyram</code>方法</p> </li> 
   <li> <p>传入购买者账户名称和接收者账户名称</p> </li> 
   <li> <p>设置购买的金额</p> </li> 
  </ol>
  <pre class="has">
<code>api
http://jungle.cryptolions.io:18888/v1/chain/abi_json_to_bin

params
{
   "code": "eosio",
   "action": "buyram",
   "args": {
        "payer": "testnetyy111",
        "receiver": "testnetyy222",
        "quant": "50.0000 EOS",
    }
 }

return
{
    "binargs": "1042f03eab99b1ca2084f03eab99b1ca20a107000000000004454f5300000000"
}
</code></pre> 
  <h2>4.3 生成购买抵押资源的bin字符串</h2> 
  <ol>
   <li> <p>调用<code>eosio</code>合约的<code>delegatebw</code>方法</p> </li> 
   <li> <p>传入购买者账户名称和接收者账户名称</p> </li> 
   <li> <p>设置购买的资源类型和金额</p> </li> 
   <li> <p><code>transfer</code>后面讲抵押和赎回资源时再详细讲</p> </li> 
  </ol>
  <pre class="has">
<code>api
http://jungle.cryptolions.io:18888/v1/chain/abi_json_to_bin

params
{
    "code": "eosio",
    "action": "delegatebw",
    "args": {
        "from": "testnetyy111",
        "receiver": "testnetyy222",
        "stake_net_quantity": "20.0000 EOS",
        "stake_cpu_quantity": "20.0000 EOS",
        "transfer": 0,
    }
}

return
{
    "binargs": "1042f03eab99b1ca2084f03eab99b1ca400d03000000000004454f5300000000400d03000000000004454f530000000000"
}
</code></pre> 
  <h2>4.4 获取当前最新的区块号</h2> 
  <pre class="has">
<code>api
http://jungle.cryptolions.io:18888/v1/chain/get_info

params
无

return
{
    "server_version": "08819aae",
    "chain_id": "038f4b0fc8ff18a4f0842a8f0564611f6e96e8535901dd45e43ac8691a1c4dca",
    "head_block_num": 13995827,
    "last_irreversible_block_num": 13995503,
    "last_irreversible_block_id": "00d58defe56615c06fa05fc61639f64b3d72005ed2baff6035c82a8e83ac4b17",
    "head_block_id": "00d58f3333165a76a86f38c98ca50ece1a649a9556276d16f523192b4b5d94c4",
    "head_block_time": "2018-09-12T09:15:35.000",
    "head_block_producer": "eosldndevbp2",
    "virtual_block_cpu_limit": 200000000,
    "virtual_block_net_limit": 1048576000,
    "block_cpu_limit": 199900,
    "block_net_limit": 1048576,
    "server_version_string": "v1.2.5-dirty"
}
</code></pre> 
  <p>获取到区块号<code>"head_block_num": 13995827</code></p> 
  <h2>4.5 获取当前区块详情</h2> 
  <pre class="has">
<code>api
http://jungle.cryptolions.io:18888/v1/chain/get_block

params
{"block_num_or_id":"13995827"}

return
{
    "timestamp": "2018-09-12T09:15:35.000",
    "producer": "eosldndevbp2",
    "confirmed": 0,
    "previous": "00d58f32a420c7957547e410d65bca6c0e16d6a32e0c0cfbd428f6a46ca67bfe",
    "transaction_mroot": "0000000000000000000000000000000000000000000000000000000000000000",
    "action_mroot": "c71076b9b5100ccd68de98a8b0175036ab6ef26b1d8e2194fa0bf0ff95e4f702",
    "schedule_version": 222,
    "new_producers": null,
    "header_extensions": [],
    "producer_signature": "SIG_K1_KhwPrVWsyVsNL7phXXv9Q1Wf9fFCvx9VZFaLUqBbnn1EJF2M3J9ekCuYwQaDsU9shMpLgPYcNU79dSicLNeza5DmjH8z7A",
    "transactions": [],
    "block_extensions": [],
    "id": "00d58f3333165a76a86f38c98ca50ece1a649a9556276d16f523192b4b5d94c4",
    "block_num": 13995827,
    "ref_block_prefix": 3375919016
}
</code></pre> 
  <p>获取到<code>"timestamp": "2018-09-12T09:15:35.000"</code>和<code>"ref_block_prefix": 3375919016</code></p> 
  <h2>4.6 签署交易</h2> 
  <ul>
   <li> <p>这笔交易中有三个<code>action</code>，将上面生成的<code>bin</code>字符串按<code>name</code>填入到<code>data</code>中</p> </li> 
   <li> <p>过期时间我这里加了<code>20</code>分钟。<code>2018-09-12T09:15:35.000</code> ==&gt; <code>2018-09-12T09:35:35.000</code></p> </li> 
   <li> <p>注意这里钱包服务的端口为<code>8899</code></p> </li> 
  </ul>
  <pre class="has">
<code>api
http://127.0.0.1:8899/v1/wallet/sign_transaction

params
[{
        "ref_block_num": 13995827,
        "ref_block_prefix": 3375919016,
        "expiration": "2018-09-12T09:35:35.000",
        "actions": [{
            "account": "eosio",
            "name": "newaccount",
            "authorization": [{
                "actor": "testnetyy111",
                "permission": "active"
            }],
            "data": "1042f03eab99b1ca2084f03eab99b1ca0100000001000341a9e89b10df5fb0b425e294e32c6208fc3c97becd61f111b351274cd30cd92801000000010000000100036b7a2e4feec43f2160927f34a046914d9aba7625a492597a0f888d2aaec225ba01000000"
        },
        {
            "account": "eosio",
            "name": "buyram",
            "authorization": [{
                "actor": "testnetyy111",
                "permission": "active"
            }],
            "data": "1042f03eab99b1ca2084f03eab99b1ca20a107000000000004454f5300000000"
        },
        {
            "account": "eosio",
            "name": "delegatebw",
            "authorization": [{
                "actor": "testnetyy111",
                "permission": "active"
            }],
            "data": "1042f03eab99b1ca2084f03eab99b1ca400d03000000000004454f5300000000400d03000000000004454f530000000000"
        }],
        "signatures": []
    },
    ["EOS6Z7mUQeFC2cQTT3xMyZh2wsLQoHih1bTMgRhr3dbichprTi7Rc"], "038f4b0fc8ff18a4f0842a8f0564611f6e96e8535901dd45e43ac8691a1c4dca"
]

return
{
    "expiration": "2018-09-12T09:35:35",
    "ref_block_num": 36659,
    "ref_block_prefix": 3375919016,
    "max_net_usage_words": 0,
    "max_cpu_usage_ms": 0,
    "delay_sec": 0,
    "context_free_actions": [],
    "actions": [
        {
            "account": "eosio",
            "name": "newaccount",
            "authorization": [
                {
                    "actor": "testnetyy111",
                    "permission": "active"
                }
            ],
            "data": "1042f03eab99b1ca2084f03eab99b1ca0100000001000341a9e89b10df5fb0b425e294e32c6208fc3c97becd61f111b351274cd30cd92801000000010000000100036b7a2e4feec43f2160927f34a046914d9aba7625a492597a0f888d2aaec225ba01000000"
        },
        {
            "account": "eosio",
            "name": "buyram",
            "authorization": [
                {
                    "actor": "testnetyy111",
                    "permission": "active"
                }
            ],
            "data": "1042f03eab99b1ca2084f03eab99b1ca20a107000000000004454f5300000000"
        },
        {
            "account": "eosio",
            "name": "delegatebw",
            "authorization": [
                {
                    "actor": "testnetyy111",
                    "permission": "active"
                }
            ],
            "data": "1042f03eab99b1ca2084f03eab99b1ca400d03000000000004454f5300000000400d03000000000004454f530000000000"
        }
    ],
    "transaction_extensions": [],
    "signatures": [
        "SIG_K1_Kdux2Y4uBQnTHuEChMcgVUSpxPMRZaMKjnFu6PoprBx1Lnx8k2bLP2k31VtK9V1YuCjznAVqVEMMeTixgZyYa3ELMboqYV"
    ],
    "context_free_data": []
}
</code></pre> 
  <p>获取到<code>signatures</code></p> 
  <h2>4.7 提交交易</h2> 
  <pre class="has">
<code>api
http://jungle.cryptolions.io:18888/v1/chain/push_transaction

params
{
  "compression": "none",
  "transaction": {
    "expiration": "2018-09-12T09:35:35.000",
    "ref_block_num": 13995827,
    "ref_block_prefix": 3375919016,
    "context_free_actions": [],
    "actions": [
        {
            "account": "eosio",
            "name": "newaccount",
            "authorization": [
                {
                    "actor": "testnetyy111",
                    "permission": "active"
                }
            ],
            "data": "1042f03eab99b1ca2084f03eab99b1ca0100000001000341a9e89b10df5fb0b425e294e32c6208fc3c97becd61f111b351274cd30cd92801000000010000000100036b7a2e4feec43f2160927f34a046914d9aba7625a492597a0f888d2aaec225ba01000000"
        },
        {
            "account": "eosio",
            "name": "buyram",
            "authorization": [
                {
                    "actor": "testnetyy111",
                    "permission": "active"
                }
            ],
            "data": "1042f03eab99b1ca2084f03eab99b1ca20a107000000000004454f5300000000"
        },
        {
            "account": "eosio",
            "name": "delegatebw",
            "authorization": [
                {
                    "actor": "testnetyy111",
                    "permission": "active"
                }
            ],
            "data": "1042f03eab99b1ca2084f03eab99b1ca400d03000000000004454f5300000000400d03000000000004454f530000000000"
        }
    ],
    "transaction_extensions": []
  },
  "signatures": [
        "SIG_K1_Kdux2Y4uBQnTHuEChMcgVUSpxPMRZaMKjnFu6PoprBx1Lnx8k2bLP2k31VtK9V1YuCjznAVqVEMMeTixgZyYa3ELMboqYV"
   ]
}

return
{
    "transaction_id": "19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60",
    "processed": {
        "id": "19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60",
        "receipt": {
            "status": "executed",
            "cpu_usage_us": 5966,
            "net_usage_words": 43
        },
        "elapsed": 5966,
        "net_usage": 344,
        "scheduled": false,
        "action_traces": [
            {
                "receipt": {
                    "receiver": "eosio",
                    "act_digest": "3c4d74c9634ac8adb4efe534575de240c6bd0c5571e1569fbb61bdbc24fda1f7",
                    "global_sequence": 33340943,
                    "recv_sequence": 15451045,
                    "auth_sequence": [
                        [
                            "testnetyy111",
                            54
                        ]
                    ],
                    "code_sequence": 11,
                    "abi_sequence": 12
                },
                "act": {
                    "account": "eosio",
                    "name": "newaccount",
                    "authorization": [
                        {
                            "actor": "testnetyy111",
                            "permission": "active"
                        }
                    ],
                    "data": {
                        "creator": "testnetyy111",
                        "name": "testnetyy222",
                        "owner": {
                            "threshold": 1,
                            "keys": [
                                {
                                    "key": "EOS7L9pb38iiqvnrsgzPVqxHnxHmxxeX6bCNbGkehh1hCScEc3ya2",
                                    "weight": 1
                                }
                            ],
                            "accounts": [],
                            "waits": []
                        },
                        "active": {
                            "threshold": 1,
                            "keys": [
                                {
                                    "key": "EOS7eZtj6yzESob8Y3vjYwBnM25uZ3HnQa922FmcR3MZuozdiRCEj",
                                    "weight": 1
                                }
                            ],
                            "accounts": [],
                            "waits": []
                        }
                    },
                    "hex_data": "1042f03eab99b1ca2084f03eab99b1ca0100000001000341a9e89b10df5fb0b425e294e32c6208fc3c97becd61f111b351274cd30cd92801000000010000000100036b7a2e4feec43f2160927f34a046914d9aba7625a492597a0f888d2aaec225ba01000000"
                },
                "elapsed": 1112,
                "cpu_usage": 0,
                "console": "",
                "total_cpu_usage": 0,
                "trx_id": "19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60",
                "inline_traces": []
            },
            {
                "receipt": {
                    "receiver": "eosio",
                    "act_digest": "a7884494c409371fcfa5df12aad8a061906416e687ab6aa4f58fca8be5d88035",
                    "global_sequence": 33340944,
                    "recv_sequence": 15451046,
                    "auth_sequence": [
                        [
                            "testnetyy111",
                            55
                        ]
                    ],
                    "code_sequence": 11,
                    "abi_sequence": 12
                },
                "act": {
                    "account": "eosio",
                    "name": "buyram",
                    "authorization": [
                        {
                            "actor": "testnetyy111",
                            "permission": "active"
                        }
                    ],
                    "data": {
                        "payer": "testnetyy111",
                        "receiver": "testnetyy222",
                        "quant": "50.0000 EOS"
                    },
                    "hex_data": "1042f03eab99b1ca2084f03eab99b1ca20a107000000000004454f5300000000"
                },
                "elapsed": 1457,
                "cpu_usage": 0,
                "console": "",
                "total_cpu_usage": 0,
                "trx_id": "19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60",
                "inline_traces": [
                    {
                        "receipt": {
                            "receiver": "eosio.token",
                            "act_digest": "3002817afe2f79146cff845d5a633c20b4481676a9a058414d9e5ce0d301fd8d",
                            "global_sequence": 33340945,
                            "recv_sequence": 1726107,
                            "auth_sequence": [
                                [
                                    "eosio.ram",
                                    240361
                                ],
                                [
                                    "testnetyy111",
                                    56
                                ]
                            ],
                            "code_sequence": 3,
                            "abi_sequence": 3
                        },
                        "act": {
                            "account": "eosio.token",
                            "name": "transfer",
                            "authorization": [
                                {
                                    "actor": "testnetyy111",
                                    "permission": "active"
                                },
                                {
                                    "actor": "eosio.ram",
                                    "permission": "active"
                                }
                            ],
                            "data": {
                                "from": "testnetyy111",
                                "to": "eosio.ram",
                                "quantity": "49.7500 EOS",
                                "memo": "buy ram"
                            },
                            "hex_data": "1042f03eab99b1ca000090e602ea30555c9707000000000004454f5300000000076275792072616d"
                        },
                        "elapsed": 522,
                        "cpu_usage": 0,
                        "console": "",
                        "total_cpu_usage": 0,
                        "trx_id": "19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60",
                        "inline_traces": [
                            {
                                "receipt": {
                                    "receiver": "testnetyy111",
                                    "act_digest": "3002817afe2f79146cff845d5a633c20b4481676a9a058414d9e5ce0d301fd8d",
                                    "global_sequence": 33340946,
                                    "recv_sequence": 21,
                                    "auth_sequence": [
                                        [
                                            "eosio.ram",
                                            240362
                                        ],
                                        [
                                            "testnetyy111",
                                            57
                                        ]
                                    ],
                                    "code_sequence": 3,
                                    "abi_sequence": 3
                                },
                                "act": {
                                    "account": "eosio.token",
                                    "name": "transfer",
                                    "authorization": [
                                        {
                                            "actor": "testnetyy111",
                                            "permission": "active"
                                        },
                                        {
                                            "actor": "eosio.ram",
                                            "permission": "active"
                                        }
                                    ],
                                    "data": {
                                        "from": "testnetyy111",
                                        "to": "eosio.ram",
                                        "quantity": "49.7500 EOS",
                                        "memo": "buy ram"
                                    },
                                    "hex_data": "1042f03eab99b1ca000090e602ea30555c9707000000000004454f5300000000076275792072616d"
                                },
                                "elapsed": 64,
                                "cpu_usage": 0,
                                "console": "",
                                "total_cpu_usage": 0,
                                "trx_id": "19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60",
                                "inline_traces": []
                            },
                            {
                                "receipt": {
                                    "receiver": "eosio.ram",
                                    "act_digest": "3002817afe2f79146cff845d5a633c20b4481676a9a058414d9e5ce0d301fd8d",
                                    "global_sequence": 33340947,
                                    "recv_sequence": 267887,
                                    "auth_sequence": [
                                        [
                                            "eosio.ram",
                                            240363
                                        ],
                                        [
                                            "testnetyy111",
                                            58
                                        ]
                                    ],
                                    "code_sequence": 3,
                                    "abi_sequence": 3
                                },
                                "act": {
                                    "account": "eosio.token",
                                    "name": "transfer",
                                    "authorization": [
                                        {
                                            "actor": "testnetyy111",
                                            "permission": "active"
                                        },
                                        {
                                            "actor": "eosio.ram",
                                            "permission": "active"
                                        }
                                    ],
                                    "data": {
                                        "from": "testnetyy111",
                                        "to": "eosio.ram",
                                        "quantity": "49.7500 EOS",
                                        "memo": "buy ram"
                                    },
                                    "hex_data": "1042f03eab99b1ca000090e602ea30555c9707000000000004454f5300000000076275792072616d"
                                },
                                "elapsed": 7,
                                "cpu_usage": 0,
                                "console": "",
                                "total_cpu_usage": 0,
                                "trx_id": "19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60",
                                "inline_traces": []
                            }
                        ]
                    },
                    {
                        "receipt": {
                            "receiver": "eosio.token",
                            "act_digest": "caa4b0daeab300e365be174604ceb8c971e8981013b936b526110562f73f15d5",
                            "global_sequence": 33340948,
                            "recv_sequence": 1726108,
                            "auth_sequence": [
                                [
                                    "testnetyy111",
                                    59
                                ]
                            ],
                            "code_sequence": 3,
                            "abi_sequence": 3
                        },
                        "act": {
                            "account": "eosio.token",
                            "name": "transfer",
                            "authorization": [
                                {
                                    "actor": "testnetyy111",
                                    "permission": "active"
                                }
                            ],
                            "data": {
                                "from": "testnetyy111",
                                "to": "eosio.ramfee",
                                "quantity": "0.2500 EOS",
                                "memo": "ram fee"
                            },
                            "hex_data": "1042f03eab99b1caa0d492e602ea3055c40900000000000004454f53000000000772616d20666565"
                        },
                        "elapsed": 365,
                        "cpu_usage": 0,
                        "console": "",
                        "total_cpu_usage": 0,
                        "trx_id": "19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60",
                        "inline_traces": [
                            {
                                "receipt": {
                                    "receiver": "testnetyy111",
                                    "act_digest": "caa4b0daeab300e365be174604ceb8c971e8981013b936b526110562f73f15d5",
                                    "global_sequence": 33340949,
                                    "recv_sequence": 22,
                                    "auth_sequence": [
                                        [
                                            "testnetyy111",
                                            60
                                        ]
                                    ],
                                    "code_sequence": 3,
                                    "abi_sequence": 3
                                },
                                "act": {
                                    "account": "eosio.token",
                                    "name": "transfer",
                                    "authorization": [
                                        {
                                            "actor": "testnetyy111",
                                            "permission": "active"
                                        }
                                    ],
                                    "data": {
                                        "from": "testnetyy111",
                                        "to": "eosio.ramfee",
                                        "quantity": "0.2500 EOS",
                                        "memo": "ram fee"
                                    },
                                    "hex_data": "1042f03eab99b1caa0d492e602ea3055c40900000000000004454f53000000000772616d20666565"
                                },
                                "elapsed": 68,
                                "cpu_usage": 0,
                                "console": "",
                                "total_cpu_usage": 0,
                                "trx_id": "19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60",
                                "inline_traces": []
                            },
                            {
                                "receipt": {
                                    "receiver": "eosio.ramfee",
                                    "act_digest": "caa4b0daeab300e365be174604ceb8c971e8981013b936b526110562f73f15d5",
                                    "global_sequence": 33340950,
                                    "recv_sequence": 267803,
                                    "auth_sequence": [
                                        [
                                            "testnetyy111",
                                            61
                                        ]
                                    ],
                                    "code_sequence": 3,
                                    "abi_sequence": 3
                                },
                                "act": {
                                    "account": "eosio.token",
                                    "name": "transfer",
                                    "authorization": [
                                        {
                                            "actor": "testnetyy111",
                                            "permission": "active"
                                        }
                                    ],
                                    "data": {
                                        "from": "testnetyy111",
                                        "to": "eosio.ramfee",
                                        "quantity": "0.2500 EOS",
                                        "memo": "ram fee"
                                    },
                                    "hex_data": "1042f03eab99b1caa0d492e602ea3055c40900000000000004454f53000000000772616d20666565"
                                },
                                "elapsed": 10,
                                "cpu_usage": 0,
                                "console": "",
                                "total_cpu_usage": 0,
                                "trx_id": "19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60",
                                "inline_traces": []
                            }
                        ]
                    }
                ]
            },
            {
                "receipt": {
                    "receiver": "eosio",
                    "act_digest": "3b1f73c0ca73dce2a8c6bcc3a397071a860ecc9798f3cd688382381648dcee10",
                    "global_sequence": 33340951,
                    "recv_sequence": 15451047,
                    "auth_sequence": [
                        [
                            "testnetyy111",
                            62
                        ]
                    ],
                    "code_sequence": 11,
                    "abi_sequence": 12
                },
                "act": {
                    "account": "eosio",
                    "name": "delegatebw",
                    "authorization": [
                        {
                            "actor": "testnetyy111",
                            "permission": "active"
                        }
                    ],
                    "data": {
                        "from": "testnetyy111",
                        "receiver": "testnetyy222",
                        "stake_net_quantity": "20.0000 EOS",
                        "stake_cpu_quantity": "20.0000 EOS",
                        "transfer": 0
                    },
                    "hex_data": "1042f03eab99b1ca2084f03eab99b1ca400d03000000000004454f5300000000400d03000000000004454f530000000000"
                },
                "elapsed": 1561,
                "cpu_usage": 0,
                "console": "",
                "total_cpu_usage": 0,
                "trx_id": "19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60",
                "inline_traces": [
                    {
                        "receipt": {
                            "receiver": "eosio.token",
                            "act_digest": "034a15a7b1f83236e705f90e22fe246499a990e3699e1f3d8985fe65f1abaa32",
                            "global_sequence": 33340952,
                            "recv_sequence": 1726109,
                            "auth_sequence": [
                                [
                                    "testnetyy111",
                                    63
                                ]
                            ],
                            "code_sequence": 3,
                            "abi_sequence": 3
                        },
                        "act": {
                            "account": "eosio.token",
                            "name": "transfer",
                            "authorization": [
                                {
                                    "actor": "testnetyy111",
                                    "permission": "active"
                                }
                            ],
                            "data": {
                                "from": "testnetyy111",
                                "to": "eosio.stake",
                                "quantity": "40.0000 EOS",
                                "memo": "stake bandwidth"
                            },
                            "hex_data": "1042f03eab99b1ca0014341903ea3055801a06000000000004454f53000000000f7374616b652062616e647769647468"
                        },
                        "elapsed": 471,
                        "cpu_usage": 0,
                        "console": "",
                        "total_cpu_usage": 0,
                        "trx_id": "19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60",
                        "inline_traces": [
                            {
                                "receipt": {
                                    "receiver": "testnetyy111",
                                    "act_digest": "034a15a7b1f83236e705f90e22fe246499a990e3699e1f3d8985fe65f1abaa32",
                                    "global_sequence": 33340953,
                                    "recv_sequence": 23,
                                    "auth_sequence": [
                                        [
                                            "testnetyy111",
                                            64
                                        ]
                                    ],
                                    "code_sequence": 3,
                                    "abi_sequence": 3
                                },
                                "act": {
                                    "account": "eosio.token",
                                    "name": "transfer",
                                    "authorization": [
                                        {
                                            "actor": "testnetyy111",
                                            "permission": "active"
                                        }
                                    ],
                                    "data": {
                                        "from": "testnetyy111",
                                        "to": "eosio.stake",
                                        "quantity": "40.0000 EOS",
                                        "memo": "stake bandwidth"
                                    },
                                    "hex_data": "1042f03eab99b1ca0014341903ea3055801a06000000000004454f53000000000f7374616b652062616e647769647468"
                                },
                                "elapsed": 54,
                                "cpu_usage": 0,
                                "console": "",
                                "total_cpu_usage": 0,
                                "trx_id": "19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60",
                                "inline_traces": []
                            },
                            {
                                "receipt": {
                                    "receiver": "eosio.stake",
                                    "act_digest": "034a15a7b1f83236e705f90e22fe246499a990e3699e1f3d8985fe65f1abaa32",
                                    "global_sequence": 33340954,
                                    "recv_sequence": 238454,
                                    "auth_sequence": [
                                        [
                                            "testnetyy111",
                                            65
                                        ]
                                    ],
                                    "code_sequence": 3,
                                    "abi_sequence": 3
                                },
                                "act": {
                                    "account": "eosio.token",
                                    "name": "transfer",
                                    "authorization": [
                                        {
                                            "actor": "testnetyy111",
                                            "permission": "active"
                                        }
                                    ],
                                    "data": {
                                        "from": "testnetyy111",
                                        "to": "eosio.stake",
                                        "quantity": "40.0000 EOS",
                                        "memo": "stake bandwidth"
                                    },
                                    "hex_data": "1042f03eab99b1ca0014341903ea3055801a06000000000004454f53000000000f7374616b652062616e647769647468"
                                },
                                "elapsed": 8,
                                "cpu_usage": 0,
                                "console": "",
                                "total_cpu_usage": 0,
                                "trx_id": "19f84ed92b1b5b4987f65b3c581ac5a59c814fca29a106d7154332d23755de60",
                                "inline_traces": []
                            }
                        ]
                    }
                ]
            }
        ],
        "except": null
    }
}
</code></pre> 
  <h2>4.8 查询新账户状态</h2> 
  <pre class="has">
<code>api
http://jungle.cryptolions.io:18888/v1/chain/get_account

params
{"account_name":"testnetyy222"}

return
{
    "account_name": "testnetyy222",
    "head_block_num": 13997774,
    "head_block_time": "2018-09-12T09:32:28.500",
    "privileged": false,
    "last_code_update": "1970-01-01T00:00:00.000",
    "created": "2018-09-12T09:29:54.500",
    "ram_quota": 822899,
    "net_weight": 200000,
    "cpu_weight": 200000,
    "net_limit": {
        "used": 0,
        "available": 3835267,
        "max": 3835267
    },
    "cpu_limit": {
        "used": 0,
        "available": 730289,
        "max": 730289
    },
    "ram_usage": 2996,
    "permissions": [
        {
            "perm_name": "active",
            "parent": "owner",
            "required_auth": {
                "threshold": 1,
                "keys": [
                    {
                        "key": "EOS7eZtj6yzESob8Y3vjYwBnM25uZ3HnQa922FmcR3MZuozdiRCEj",
                        "weight": 1
                    }
                ],
                "accounts": [],
                "waits": []
            }
        },
        {
            "perm_name": "owner",
            "parent": "",
            "required_auth": {
                "threshold": 1,
                "keys": [
                    {
                        "key": "EOS7L9pb38iiqvnrsgzPVqxHnxHmxxeX6bCNbGkehh1hCScEc3ya2",
                        "weight": 1
                    }
                ],
                "accounts": [],
                "waits": []
            }
        }
    ],
    "total_resources": {
        "owner": "testnetyy222",
        "net_weight": "20.0000 EOS",
        "cpu_weight": "20.0000 EOS",
        "ram_bytes": 821499
    },
    "self_delegated_bandwidth": null,
    "refund_request": null,
    "voter_info": null
}
</code></pre> 
  <p>使用<code>cleos</code>查询：</p> 
  <pre class="has">
<code>yuyangdeMacBook-Pro:cleos yuyang$ cleos -u "http://jungle.cryptolions.io:18888" get account testnetyy222
permissions: 
     owner     1:    1 EOS7L9pb38iiqvnrsgzPVqxHnxHmxxeX6bCNbGkehh1hCScEc3ya2
        active     1:    1 EOS7eZtj6yzESob8Y3vjYwBnM25uZ3HnQa922FmcR3MZuozdiRCEj
memory: 
     quota:     803.6 KiB    used:     2.926 KiB  

net bandwidth: 
     delegated:      20.0000 EOS           (total staked delegated to account from others)
     used:                 0 bytes
     available:        3.658 MiB  
     limit:            3.658 MiB  

cpu bandwidth:
     delegated:      20.0000 EOS           (total staked delegated to account from others)
     used:                 0 us   
     available:        730.3 ms   
     limit:            730.3 ms   </code></pre> 
  <p>&nbsp;</p> 
 </div> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/akai9898/article/details/83445244,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/akai9898/article/details/83445244,&quot;}">阅读更多</a> 
</div> 
<script>
						(function(){
							function setArticleH(btnReadmore,posi){
								var winH = $(window).height();
								var articleBox = $("div.article_content");
								var artH = articleBox.height();
								if(artH > winH*posi){
									articleBox.css({
										'height':winH*posi+'px',
										'overflow':'hidden'
									})
									btnReadmore.click(function(){
										articleBox.removeAttr("style");
										$(this).parent().remove();
									})
								}else{
									btnReadmore.parent().remove();
								}
							}
							var btnReadmore = $("#btn-readmore");
							if(btnReadmore.length>0){
								if(currentUserName){
									setArticleH(btnReadmore,3);
								}else{
									setArticleH(btnReadmore,1.2);
								}
							}
						})()
					</script>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?ee64533f3c6a7a284cd39a37ee732c8b";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
