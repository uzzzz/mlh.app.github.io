<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>【警惕】大量未修复WebLogic WSAT组件RCE漏洞的主机被挖矿程序攻击 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="【警惕】大量未修复WebLogic WSAT组件RCE漏洞的主机被挖矿程序攻击" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="警惕 &nbsp; 从1月1日开始，大量未修复WebLogic WSAT（全称：Web Services Atomic Transactions）组件RCE漏洞的主机被挖矿程序攻击，尤其是1月3日，更是大面积爆发，很多银行、部委、保险、电力、电信等行业用户中招儿！ 症状 &nbsp; WebLogic服务进程非计划停机（进程退出），WebLogic Server日志中出现如下信息： ####&lt;2018-1-2 上午12时52分26秒 CST&gt; &lt;Notice&gt; &lt;WebLogicServer&gt; &lt;**********&gt; &lt;**********&gt; &lt;Thread-1&gt; &lt;&lt;WLS Kernel&gt;&gt; &lt;&gt; &lt;&gt; &lt;1514825546683&gt; &lt;BEA-000388&gt; &lt;JVM called WLS shutdown hook. The server will force shutdown now&gt; 而且主机的history（Linux&amp;Unix系）中可看到攻击脚本的身影： 该脚本首先会杀掉本机上的python和java程序，然后下载运行比特币的挖矿程序xmrig-y（xmrig-y.exe，该程序被多款杀毒软件标示为挖矿或恶意木马程序），然后伪装成java文件运行，接着执行一个while true的循环，在满足相应的条件时，杀掉主机相关进程。 &nbsp; 原因 &nbsp; 受到CVE-2017-10271或者CVE-2017-3506漏洞的影响，2017年12月22日，国内很多安全站点都通报过此问题，笔者于12月31日，在中间件用户组公众号也发过相关文章，包括修复方案，但是未受到足够的重视，间接中导致这3天来很多用户WebLogic服务进程被杀掉。 &nbsp; 而且，目前网上已经有很多此漏洞的利用工具，众多人、新的攻击方式正在粉墨登场，请务必尽快修复。 目前全球最活跃的代码托管平台Github上，于此漏洞相关的利用资料库（工具）已经有6个，而且每个资料库有众多的跟随者。 &nbsp; 影响的版本 &nbsp; WebLogicServer 10.3.3 - 12.2.1.2（注意：并非像网上说的那样只影响4个版本，而是10个版本） &nbsp; 建议修复方案 &nbsp; 有PSU补丁的WLS 10.3.6、12.1.3、12.2.1.1、12.2.1.2版本： （1）安装最新的PSU（2017年10月份发布的） （2）删除wls-wsat应用包 WebLogic11g版本，wls-wsat应用包的位置： $WL_HOME/server/lib/wls-wsat.war WebLogic12c版本（12.1.3、12.2.1.1、12.2.1.2版本）： $BEA_HOME/oracle_common/modules/com.oracle.webservices.wls.wsat-endpoints-impl_&lt;xxx&gt;.war） （3）删除每个WebLogic Server目录下的tmp目录 位置：$DOMAIN_HOME/servers/SERVER_NAME/tmp 这里跟网上所写的删除的方法不太一样，请按照这个方法做，因为可能有JSP网页木马已经潜伏在$DOMAIN_HOME/servers/SERVER_NAME/tmp/_WL_internal/bea_wls_internal/9j4dqk/war目录下，管理、被管Server均需执行，非生产时间操作） （4）检查WebLogic关键组件 首先检查wls-wsat组件是否已经清干净，用浏览器或写脚本检测每个WebLogic Server上的/wls-wsat/CoordinatorPortType应用URL（（http://&lt; wls listenaddress&gt;:&lt;wls listen port&gt;/wls-wsat/CoordinatorPortType））访问是否返回404，如果是表示已无法利用，然后再检查uddiexplorer是否已清理干净、bea_wls_internal的Servlet功能是否已经被禁用（/uddiexplorer、/bea_wls_internal、/wls-wsat上下文对应的这3个应用都可以成为JSP网页木马的藏身之处） （5）重要的系统还需要重新部署一下应用 因为有可能你的应用包中潜伏着JSP网页木马。请删除目前主机上的应用包（或mv改个名字），然后将一份安全的应用包上传到怀疑被攻击的主机上，重新部署一下应用。 （6）检查主机中其他位置是否有可疑文件或进程 &nbsp; 其他没有10月份PSU补丁的版本（WLS 10.3.3 - 10.3.5，以及12.1.1、12.1.2、12.2.1.0）执行后面的5步操作即可。 另外，删除每个WebLogicServer目录下的tmp目录的操作跟-Dweblogic.wsee.wstx.wsat.deployed=false（禁用wls-wsat功能）功效相似，但删tmp目录的操作还可以清除可疑的JSP网页木马。 延伸阅读 &nbsp; 此次被利用的漏洞源自WebLogic自带的一个wls-wsat.war应用包（Web Services Atomic Transactions组件），该组件存在RCE（远程代码执行）漏洞，允许使用JDK自身的XMLDecoder进行反序列化漏洞攻击，下载并运行比特币的挖矿程序。 但Java XMLDecoder反序列化漏洞也并不是这两年才出来，早在2013年就已经爆出来了，2015年爆出来的CVE-2015-4852也并不是唯一的反序列化漏洞。 Github上有一个项目Java-Deserialization-Cheat-Sheet（https://github.com/GrrrDog/Java-Deserialization-Cheat-Sheet），总结了几乎所有的Java反序列化漏洞。 你可以从中找到被广泛利用的commons-collection、XMLDecoder等Java反序列化漏洞，反序列化漏洞预防、检测与修复工作的重要性越发凸显了。 我们每个人都知道数据安全的重要，可是数据安全到底应该如何做起？ 如果您希望快速了解您企业的数据库是否存在众多的安全漏洞或者安全风险，推荐您自助使用云和恩墨的免费自动化巡检工具：Bethune（白求恩），该工具为基于云平台的免费工具，在帮您检查数据库基本情况的同时，也内置安全方面的检查，通过对数据库安全补丁、访问来源、访问工具等维度的分析，帮助用户快速梳理数据库安全情况，让您掌握第一手的数据库安全咨询。 在白求恩的智能诊断平台中，我们从点滴做起，帮助用户发现安全问题，改善安全体验。 从数据安全的各个纬度中，访问安全处于重要的核心位置，而Oracle数据库的监听日志就处于记录访问来源的重要岗位。白求恩 - Bethune 通过对于监听日志的发掘帮助用户清晰展现数据库的访问来源，访问应用等，提示安全风险，帮助用户加强安全管控。 我们来看看白求恩的分析和展现。 白求恩首先会对访问来源的IP根据权重进行可视化展现，这个视图可以自由缩放，以展示访问来源的详细状况，可以帮助用户发现可疑的访问来源： 有了访问来源，白求恩还可以分析访问频度，帮助用户找到连接风暴的时点，以便通过优化规避和分散连接请求，在以下的图例中，展示了一个连接风暴点，在这个位置，客户的集中并发访问甚至使得数据库失去响应： 对于DBA来说，清楚的了解应用的访问分布，是必要的工作内容，也是了解和熟悉数据库应用的起点。 有了监听日志，我们还可以清晰的展示访问数据库的应用类型和访问源： 从访问源中，如果发现未授权的IP地址，则应该引起高度的安全重视； 如过有未授权的应用，则更应该梳理和明确规范； 这是数据安全中最核心的要素之一。 在以下的数据中，显示了来自不同地址的 plsqldev.exe 连接，这是必须要要明确定义访问许可的高危应用： 在2016年下半年爆发的Oracle数据库比特币勒索事件中，plsqldev 正是感染的来源之一。Bethune 检测这一风险并给出提示，以下提示显示这个数据库遭遇到了比特币攻击： 监听器的日志中，隐藏着丰富的信息，提升数据库的安全防范，可以由此作为一个起点，白求恩正是因应用户的需求，丰富了这一个功能，帮助大家提高安全的警示和预防。 清清楚楚的分析，明明白白的展示，数据库智能诊断分析，尽在Bethune平台！ Bethune官网：bethune.enmotech.com 如果你在使用Bethune的过程中，有任何疑问，可以在网站的反馈页面直接回复或者通过白求恩小助手（微信 sunx5126 ）加入到Bethune用户交流群，与白求恩用户和专家交流讨论。 当然，如果您的数据库已经遭受攻击和数据损失，您也不要担心，立刻紧急联系云和恩墨的服务团队，我们将帮助您处理数据修复事宜。云和恩墨久经考验的ODU产品，可以在数据丢失后最大限度的恢复数据。 相关阅读： 【红色警报】“比特币勒索攻击”快速排查攻略，文末附脚本 关于Oracle安全比特币勒索问题揭秘和防范 警示：新型勒索病毒Petya如何对你的文件进行加密 Bad Rabbit病毒引发的企业数据安全的思考与应对方案 资源下载 关注公众号：数据和云（OraNews）回复关键字获取 ‘2017DTC’，2017DTC大会PPT ‘DBALIFE’，“DBA的一天”海报 ‘DBA04’，DBA手记4经典篇章电子书 ‘RACV1’,&nbsp;RAC系列课程视频及ppt ‘122ARCH’，Oracle 12.2体系结构图 ‘2017OOW’，Oracle OpenWorld资料 ‘PRELECTION’，大讲堂讲师课程资料 阅读更多" />
<meta property="og:description" content="警惕 &nbsp; 从1月1日开始，大量未修复WebLogic WSAT（全称：Web Services Atomic Transactions）组件RCE漏洞的主机被挖矿程序攻击，尤其是1月3日，更是大面积爆发，很多银行、部委、保险、电力、电信等行业用户中招儿！ 症状 &nbsp; WebLogic服务进程非计划停机（进程退出），WebLogic Server日志中出现如下信息： ####&lt;2018-1-2 上午12时52分26秒 CST&gt; &lt;Notice&gt; &lt;WebLogicServer&gt; &lt;**********&gt; &lt;**********&gt; &lt;Thread-1&gt; &lt;&lt;WLS Kernel&gt;&gt; &lt;&gt; &lt;&gt; &lt;1514825546683&gt; &lt;BEA-000388&gt; &lt;JVM called WLS shutdown hook. The server will force shutdown now&gt; 而且主机的history（Linux&amp;Unix系）中可看到攻击脚本的身影： 该脚本首先会杀掉本机上的python和java程序，然后下载运行比特币的挖矿程序xmrig-y（xmrig-y.exe，该程序被多款杀毒软件标示为挖矿或恶意木马程序），然后伪装成java文件运行，接着执行一个while true的循环，在满足相应的条件时，杀掉主机相关进程。 &nbsp; 原因 &nbsp; 受到CVE-2017-10271或者CVE-2017-3506漏洞的影响，2017年12月22日，国内很多安全站点都通报过此问题，笔者于12月31日，在中间件用户组公众号也发过相关文章，包括修复方案，但是未受到足够的重视，间接中导致这3天来很多用户WebLogic服务进程被杀掉。 &nbsp; 而且，目前网上已经有很多此漏洞的利用工具，众多人、新的攻击方式正在粉墨登场，请务必尽快修复。 目前全球最活跃的代码托管平台Github上，于此漏洞相关的利用资料库（工具）已经有6个，而且每个资料库有众多的跟随者。 &nbsp; 影响的版本 &nbsp; WebLogicServer 10.3.3 - 12.2.1.2（注意：并非像网上说的那样只影响4个版本，而是10个版本） &nbsp; 建议修复方案 &nbsp; 有PSU补丁的WLS 10.3.6、12.1.3、12.2.1.1、12.2.1.2版本： （1）安装最新的PSU（2017年10月份发布的） （2）删除wls-wsat应用包 WebLogic11g版本，wls-wsat应用包的位置： $WL_HOME/server/lib/wls-wsat.war WebLogic12c版本（12.1.3、12.2.1.1、12.2.1.2版本）： $BEA_HOME/oracle_common/modules/com.oracle.webservices.wls.wsat-endpoints-impl_&lt;xxx&gt;.war） （3）删除每个WebLogic Server目录下的tmp目录 位置：$DOMAIN_HOME/servers/SERVER_NAME/tmp 这里跟网上所写的删除的方法不太一样，请按照这个方法做，因为可能有JSP网页木马已经潜伏在$DOMAIN_HOME/servers/SERVER_NAME/tmp/_WL_internal/bea_wls_internal/9j4dqk/war目录下，管理、被管Server均需执行，非生产时间操作） （4）检查WebLogic关键组件 首先检查wls-wsat组件是否已经清干净，用浏览器或写脚本检测每个WebLogic Server上的/wls-wsat/CoordinatorPortType应用URL（（http://&lt; wls listenaddress&gt;:&lt;wls listen port&gt;/wls-wsat/CoordinatorPortType））访问是否返回404，如果是表示已无法利用，然后再检查uddiexplorer是否已清理干净、bea_wls_internal的Servlet功能是否已经被禁用（/uddiexplorer、/bea_wls_internal、/wls-wsat上下文对应的这3个应用都可以成为JSP网页木马的藏身之处） （5）重要的系统还需要重新部署一下应用 因为有可能你的应用包中潜伏着JSP网页木马。请删除目前主机上的应用包（或mv改个名字），然后将一份安全的应用包上传到怀疑被攻击的主机上，重新部署一下应用。 （6）检查主机中其他位置是否有可疑文件或进程 &nbsp; 其他没有10月份PSU补丁的版本（WLS 10.3.3 - 10.3.5，以及12.1.1、12.1.2、12.2.1.0）执行后面的5步操作即可。 另外，删除每个WebLogicServer目录下的tmp目录的操作跟-Dweblogic.wsee.wstx.wsat.deployed=false（禁用wls-wsat功能）功效相似，但删tmp目录的操作还可以清除可疑的JSP网页木马。 延伸阅读 &nbsp; 此次被利用的漏洞源自WebLogic自带的一个wls-wsat.war应用包（Web Services Atomic Transactions组件），该组件存在RCE（远程代码执行）漏洞，允许使用JDK自身的XMLDecoder进行反序列化漏洞攻击，下载并运行比特币的挖矿程序。 但Java XMLDecoder反序列化漏洞也并不是这两年才出来，早在2013年就已经爆出来了，2015年爆出来的CVE-2015-4852也并不是唯一的反序列化漏洞。 Github上有一个项目Java-Deserialization-Cheat-Sheet（https://github.com/GrrrDog/Java-Deserialization-Cheat-Sheet），总结了几乎所有的Java反序列化漏洞。 你可以从中找到被广泛利用的commons-collection、XMLDecoder等Java反序列化漏洞，反序列化漏洞预防、检测与修复工作的重要性越发凸显了。 我们每个人都知道数据安全的重要，可是数据安全到底应该如何做起？ 如果您希望快速了解您企业的数据库是否存在众多的安全漏洞或者安全风险，推荐您自助使用云和恩墨的免费自动化巡检工具：Bethune（白求恩），该工具为基于云平台的免费工具，在帮您检查数据库基本情况的同时，也内置安全方面的检查，通过对数据库安全补丁、访问来源、访问工具等维度的分析，帮助用户快速梳理数据库安全情况，让您掌握第一手的数据库安全咨询。 在白求恩的智能诊断平台中，我们从点滴做起，帮助用户发现安全问题，改善安全体验。 从数据安全的各个纬度中，访问安全处于重要的核心位置，而Oracle数据库的监听日志就处于记录访问来源的重要岗位。白求恩 - Bethune 通过对于监听日志的发掘帮助用户清晰展现数据库的访问来源，访问应用等，提示安全风险，帮助用户加强安全管控。 我们来看看白求恩的分析和展现。 白求恩首先会对访问来源的IP根据权重进行可视化展现，这个视图可以自由缩放，以展示访问来源的详细状况，可以帮助用户发现可疑的访问来源： 有了访问来源，白求恩还可以分析访问频度，帮助用户找到连接风暴的时点，以便通过优化规避和分散连接请求，在以下的图例中，展示了一个连接风暴点，在这个位置，客户的集中并发访问甚至使得数据库失去响应： 对于DBA来说，清楚的了解应用的访问分布，是必要的工作内容，也是了解和熟悉数据库应用的起点。 有了监听日志，我们还可以清晰的展示访问数据库的应用类型和访问源： 从访问源中，如果发现未授权的IP地址，则应该引起高度的安全重视； 如过有未授权的应用，则更应该梳理和明确规范； 这是数据安全中最核心的要素之一。 在以下的数据中，显示了来自不同地址的 plsqldev.exe 连接，这是必须要要明确定义访问许可的高危应用： 在2016年下半年爆发的Oracle数据库比特币勒索事件中，plsqldev 正是感染的来源之一。Bethune 检测这一风险并给出提示，以下提示显示这个数据库遭遇到了比特币攻击： 监听器的日志中，隐藏着丰富的信息，提升数据库的安全防范，可以由此作为一个起点，白求恩正是因应用户的需求，丰富了这一个功能，帮助大家提高安全的警示和预防。 清清楚楚的分析，明明白白的展示，数据库智能诊断分析，尽在Bethune平台！ Bethune官网：bethune.enmotech.com 如果你在使用Bethune的过程中，有任何疑问，可以在网站的反馈页面直接回复或者通过白求恩小助手（微信 sunx5126 ）加入到Bethune用户交流群，与白求恩用户和专家交流讨论。 当然，如果您的数据库已经遭受攻击和数据损失，您也不要担心，立刻紧急联系云和恩墨的服务团队，我们将帮助您处理数据修复事宜。云和恩墨久经考验的ODU产品，可以在数据丢失后最大限度的恢复数据。 相关阅读： 【红色警报】“比特币勒索攻击”快速排查攻略，文末附脚本 关于Oracle安全比特币勒索问题揭秘和防范 警示：新型勒索病毒Petya如何对你的文件进行加密 Bad Rabbit病毒引发的企业数据安全的思考与应对方案 资源下载 关注公众号：数据和云（OraNews）回复关键字获取 ‘2017DTC’，2017DTC大会PPT ‘DBALIFE’，“DBA的一天”海报 ‘DBA04’，DBA手记4经典篇章电子书 ‘RACV1’,&nbsp;RAC系列课程视频及ppt ‘122ARCH’，Oracle 12.2体系结构图 ‘2017OOW’，Oracle OpenWorld资料 ‘PRELECTION’，大讲堂讲师课程资料 阅读更多" />
<link rel="canonical" href="https://mlh.app/2018/01/04/4acf5ee762423257fd114a1d1abe7d73.html" />
<meta property="og:url" content="https://mlh.app/2018/01/04/4acf5ee762423257fd114a1d1abe7d73.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-01-04T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"警惕 &nbsp; 从1月1日开始，大量未修复WebLogic WSAT（全称：Web Services Atomic Transactions）组件RCE漏洞的主机被挖矿程序攻击，尤其是1月3日，更是大面积爆发，很多银行、部委、保险、电力、电信等行业用户中招儿！ 症状 &nbsp; WebLogic服务进程非计划停机（进程退出），WebLogic Server日志中出现如下信息： ####&lt;2018-1-2 上午12时52分26秒 CST&gt; &lt;Notice&gt; &lt;WebLogicServer&gt; &lt;**********&gt; &lt;**********&gt; &lt;Thread-1&gt; &lt;&lt;WLS Kernel&gt;&gt; &lt;&gt; &lt;&gt; &lt;1514825546683&gt; &lt;BEA-000388&gt; &lt;JVM called WLS shutdown hook. The server will force shutdown now&gt; 而且主机的history（Linux&amp;Unix系）中可看到攻击脚本的身影： 该脚本首先会杀掉本机上的python和java程序，然后下载运行比特币的挖矿程序xmrig-y（xmrig-y.exe，该程序被多款杀毒软件标示为挖矿或恶意木马程序），然后伪装成java文件运行，接着执行一个while true的循环，在满足相应的条件时，杀掉主机相关进程。 &nbsp; 原因 &nbsp; 受到CVE-2017-10271或者CVE-2017-3506漏洞的影响，2017年12月22日，国内很多安全站点都通报过此问题，笔者于12月31日，在中间件用户组公众号也发过相关文章，包括修复方案，但是未受到足够的重视，间接中导致这3天来很多用户WebLogic服务进程被杀掉。 &nbsp; 而且，目前网上已经有很多此漏洞的利用工具，众多人、新的攻击方式正在粉墨登场，请务必尽快修复。 目前全球最活跃的代码托管平台Github上，于此漏洞相关的利用资料库（工具）已经有6个，而且每个资料库有众多的跟随者。 &nbsp; 影响的版本 &nbsp; WebLogicServer 10.3.3 - 12.2.1.2（注意：并非像网上说的那样只影响4个版本，而是10个版本） &nbsp; 建议修复方案 &nbsp; 有PSU补丁的WLS 10.3.6、12.1.3、12.2.1.1、12.2.1.2版本： （1）安装最新的PSU（2017年10月份发布的） （2）删除wls-wsat应用包 WebLogic11g版本，wls-wsat应用包的位置： $WL_HOME/server/lib/wls-wsat.war WebLogic12c版本（12.1.3、12.2.1.1、12.2.1.2版本）： $BEA_HOME/oracle_common/modules/com.oracle.webservices.wls.wsat-endpoints-impl_&lt;xxx&gt;.war） （3）删除每个WebLogic Server目录下的tmp目录 位置：$DOMAIN_HOME/servers/SERVER_NAME/tmp 这里跟网上所写的删除的方法不太一样，请按照这个方法做，因为可能有JSP网页木马已经潜伏在$DOMAIN_HOME/servers/SERVER_NAME/tmp/_WL_internal/bea_wls_internal/9j4dqk/war目录下，管理、被管Server均需执行，非生产时间操作） （4）检查WebLogic关键组件 首先检查wls-wsat组件是否已经清干净，用浏览器或写脚本检测每个WebLogic Server上的/wls-wsat/CoordinatorPortType应用URL（（http://&lt; wls listenaddress&gt;:&lt;wls listen port&gt;/wls-wsat/CoordinatorPortType））访问是否返回404，如果是表示已无法利用，然后再检查uddiexplorer是否已清理干净、bea_wls_internal的Servlet功能是否已经被禁用（/uddiexplorer、/bea_wls_internal、/wls-wsat上下文对应的这3个应用都可以成为JSP网页木马的藏身之处） （5）重要的系统还需要重新部署一下应用 因为有可能你的应用包中潜伏着JSP网页木马。请删除目前主机上的应用包（或mv改个名字），然后将一份安全的应用包上传到怀疑被攻击的主机上，重新部署一下应用。 （6）检查主机中其他位置是否有可疑文件或进程 &nbsp; 其他没有10月份PSU补丁的版本（WLS 10.3.3 - 10.3.5，以及12.1.1、12.1.2、12.2.1.0）执行后面的5步操作即可。 另外，删除每个WebLogicServer目录下的tmp目录的操作跟-Dweblogic.wsee.wstx.wsat.deployed=false（禁用wls-wsat功能）功效相似，但删tmp目录的操作还可以清除可疑的JSP网页木马。 延伸阅读 &nbsp; 此次被利用的漏洞源自WebLogic自带的一个wls-wsat.war应用包（Web Services Atomic Transactions组件），该组件存在RCE（远程代码执行）漏洞，允许使用JDK自身的XMLDecoder进行反序列化漏洞攻击，下载并运行比特币的挖矿程序。 但Java XMLDecoder反序列化漏洞也并不是这两年才出来，早在2013年就已经爆出来了，2015年爆出来的CVE-2015-4852也并不是唯一的反序列化漏洞。 Github上有一个项目Java-Deserialization-Cheat-Sheet（https://github.com/GrrrDog/Java-Deserialization-Cheat-Sheet），总结了几乎所有的Java反序列化漏洞。 你可以从中找到被广泛利用的commons-collection、XMLDecoder等Java反序列化漏洞，反序列化漏洞预防、检测与修复工作的重要性越发凸显了。 我们每个人都知道数据安全的重要，可是数据安全到底应该如何做起？ 如果您希望快速了解您企业的数据库是否存在众多的安全漏洞或者安全风险，推荐您自助使用云和恩墨的免费自动化巡检工具：Bethune（白求恩），该工具为基于云平台的免费工具，在帮您检查数据库基本情况的同时，也内置安全方面的检查，通过对数据库安全补丁、访问来源、访问工具等维度的分析，帮助用户快速梳理数据库安全情况，让您掌握第一手的数据库安全咨询。 在白求恩的智能诊断平台中，我们从点滴做起，帮助用户发现安全问题，改善安全体验。 从数据安全的各个纬度中，访问安全处于重要的核心位置，而Oracle数据库的监听日志就处于记录访问来源的重要岗位。白求恩 - Bethune 通过对于监听日志的发掘帮助用户清晰展现数据库的访问来源，访问应用等，提示安全风险，帮助用户加强安全管控。 我们来看看白求恩的分析和展现。 白求恩首先会对访问来源的IP根据权重进行可视化展现，这个视图可以自由缩放，以展示访问来源的详细状况，可以帮助用户发现可疑的访问来源： 有了访问来源，白求恩还可以分析访问频度，帮助用户找到连接风暴的时点，以便通过优化规避和分散连接请求，在以下的图例中，展示了一个连接风暴点，在这个位置，客户的集中并发访问甚至使得数据库失去响应： 对于DBA来说，清楚的了解应用的访问分布，是必要的工作内容，也是了解和熟悉数据库应用的起点。 有了监听日志，我们还可以清晰的展示访问数据库的应用类型和访问源： 从访问源中，如果发现未授权的IP地址，则应该引起高度的安全重视； 如过有未授权的应用，则更应该梳理和明确规范； 这是数据安全中最核心的要素之一。 在以下的数据中，显示了来自不同地址的 plsqldev.exe 连接，这是必须要要明确定义访问许可的高危应用： 在2016年下半年爆发的Oracle数据库比特币勒索事件中，plsqldev 正是感染的来源之一。Bethune 检测这一风险并给出提示，以下提示显示这个数据库遭遇到了比特币攻击： 监听器的日志中，隐藏着丰富的信息，提升数据库的安全防范，可以由此作为一个起点，白求恩正是因应用户的需求，丰富了这一个功能，帮助大家提高安全的警示和预防。 清清楚楚的分析，明明白白的展示，数据库智能诊断分析，尽在Bethune平台！ Bethune官网：bethune.enmotech.com 如果你在使用Bethune的过程中，有任何疑问，可以在网站的反馈页面直接回复或者通过白求恩小助手（微信 sunx5126 ）加入到Bethune用户交流群，与白求恩用户和专家交流讨论。 当然，如果您的数据库已经遭受攻击和数据损失，您也不要担心，立刻紧急联系云和恩墨的服务团队，我们将帮助您处理数据修复事宜。云和恩墨久经考验的ODU产品，可以在数据丢失后最大限度的恢复数据。 相关阅读： 【红色警报】“比特币勒索攻击”快速排查攻略，文末附脚本 关于Oracle安全比特币勒索问题揭秘和防范 警示：新型勒索病毒Petya如何对你的文件进行加密 Bad Rabbit病毒引发的企业数据安全的思考与应对方案 资源下载 关注公众号：数据和云（OraNews）回复关键字获取 ‘2017DTC’，2017DTC大会PPT ‘DBALIFE’，“DBA的一天”海报 ‘DBA04’，DBA手记4经典篇章电子书 ‘RACV1’,&nbsp;RAC系列课程视频及ppt ‘122ARCH’，Oracle 12.2体系结构图 ‘2017OOW’，Oracle OpenWorld资料 ‘PRELECTION’，大讲堂讲师课程资料 阅读更多","@type":"BlogPosting","url":"https://mlh.app/2018/01/04/4acf5ee762423257fd114a1d1abe7d73.html","headline":"【警惕】大量未修复WebLogic WSAT组件RCE漏洞的主机被挖矿程序攻击","dateModified":"2018-01-04T00:00:00+08:00","datePublished":"2018-01-04T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2018/01/04/4acf5ee762423257fd114a1d1abe7d73.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>【警惕】大量未修复WebLogic WSAT组件RCE漏洞的主机被挖矿程序攻击</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css"> 
 <div class="htmledit_views"> 
  <div class="rich_media_content" id="js_content"> 
   <img class="__bg_gif" style="display:inline;visibility:visible !important;" title="引导关注" src="https://ss.csdn.net/p?http://mmbiz.qpic.cn/mmbiz_gif/bURPjgFpGMR2Vtc0WPUYFlxkKjDm3vJtF5FMNsHJAYwnRAgOgsh5Nfw8fj8K9r7MMdqpQrPcyDKWro7A3CsHicg/0?wx_fmt=gif&amp;wxfrom=5&amp;wx_lazy=1" alt="0?wx_fmt=gif&amp;wxfrom=5&amp;wx_lazy=1">
   <span style="color:#595959;font-size:28px;" class="135brush">警惕</span>
   <span style="font-size:32px;">&nbsp;</span>
   <p><br></p>
   <blockquote>
    <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">从1月1日开始，大量未修复WebLogic WSAT（全称：Web Services Atomic Transactions）组件RCE漏洞的主机被挖矿程序攻击，<span style="font-size:15px;letter-spacing:.5px;color:rgb(255,41,65);"><strong>尤其是1月3日，更是大面积爆发，很多银行、部委、保险、电力、电信等行业用户中招儿！</strong></span></span></p>
   </blockquote>
   <p><br></p>
   <span style="color:#595959;font-size:28px;" class="135brush">症状</span>
   <span style="font-size:32px;">&nbsp;</span>
   <p><br></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">WebLogic服务进程非计划停机（进程退出），WebLogic Server日志中出现如下信息：</span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">####&lt;2018-1-2 上午12时52分26秒 CST&gt; &lt;Notice&gt; &lt;WebLogicServer&gt; &lt;**********&gt; &lt;**********&gt; &lt;Thread-1&gt; &lt;&lt;WLS Kernel&gt;&gt; &lt;&gt; &lt;&gt; &lt;1514825546683&gt; &lt;BEA-000388&gt; &lt;JVM called WLS shutdown hook. The server will force shutdown now&gt;</span></p>
   <p><br></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">而且主机的history（Linux&amp;Unix系）中可看到攻击脚本的身影：</span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="margin-left:8px;line-height:1.75em;"><img style="visibility:visible !important;" src="https://ss.csdn.net/p?http://mmbiz.qpic.cn/mmbiz_png/bURPjgFpGMR2Vtc0WPUYFlxkKjDm3vJtncYGSOOMcibcMekNBNBNRSVx6ApOpfdnlSroicSl5Q0k9sWMsRMRav7g/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1" alt="640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1"></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">该脚本首先会杀掉本机上的python和java程序，然后下载运行比特币的挖矿程序xmrig-y（xmrig-y.exe，该程序被多款杀毒软件标示为挖矿或恶意木马程序），然后伪装成java文件运行，接着执行一个while true的循环，在满足相应的条件时，杀掉主机相关进程。</span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">&nbsp;</span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"></span></p>
   <span style="color:#595959;font-size:28px;" class="135brush">原因</span>
   <span style="font-size:32px;">&nbsp;</span>
   <p style="margin-left:8px;line-height:1.75em;"><br></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">受到CVE-2017-10271或者CVE-2017-3506漏洞的影响，2017年12月22日，国内很多安全站点都通报过此问题，笔者于12月31日，在中间件用户组公众号也发过相关文章，包括修复方案，但是未受到足够的重视，间接中导致这3天来很多用户WebLogic服务进程被杀掉。</span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">&nbsp;</span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">而且，目前网上已经有很多此漏洞的利用工具，众多人、新的攻击方式正在粉墨登场，请务必尽快修复。</span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="margin-left:8px;line-height:1.75em;"><img class="img_loading" src="https://ss.csdn.net/p?http://mmbiz.qpic.cn/mmbiz_png/bURPjgFpGMR2Vtc0WPUYFlxkKjDm3vJtzBprZNjO4oEqfK4BTibgPedqgSwjHnI8RVFZv83KBoAy3RuSibkVxFag/0?wx_fmt=png" alt="0?wx_fmt=png"></p>
   <p style="margin-left:8px;line-height:1.75em;"><br></p>
   <p style="margin-left:8px;line-height:1.75em;"><img class="img_loading" src="https://ss.csdn.net/p?http://mmbiz.qpic.cn/mmbiz_png/bURPjgFpGMR2Vtc0WPUYFlxkKjDm3vJtUibnowOMnibwPYwTXiaO3QTMeNNsOh1ebBI7uFLwlkDNr8YAgicyGVxMGA/0?wx_fmt=png" alt="0?wx_fmt=png"></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">目前全球最活跃的代码托管平台Github上，于此漏洞相关的利用资料库（工具）已经有6个，而且每个资料库有众多的跟随者。</span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="margin-left:8px;line-height:1.75em;"><img class="img_loading" src="https://ss.csdn.net/p?http://mmbiz.qpic.cn/mmbiz_png/bURPjgFpGMR2Vtc0WPUYFlxkKjDm3vJtXg5leaguQ0uU43dX1Appspk2ZLgHJibibuBzO0sjSKVaicYib6s03ibJweA/0?wx_fmt=png" alt="0?wx_fmt=png"></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">&nbsp;</span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"></span></p>
   <span style="color:#595959;font-size:28px;" class="135brush">影响的版本</span>
   <span style="font-size:32px;">&nbsp;</span>
   <p style="margin-left:8px;line-height:1.75em;"><br></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">WebLogicServer 10.3.3 - 12.2.1.2（注意：并非像网上说的那样只影响4个版本，而是10个版本）</span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="margin-left:8px;line-height:1.75em;"><img class="img_loading" src="https://ss.csdn.net/p?http://mmbiz.qpic.cn/mmbiz_png/bURPjgFpGMR2Vtc0WPUYFlxkKjDm3vJtiapWOFNM6OM2AicLWGgY6Ju0sgia60ckClwOsVibXzEUlUicIobeH42BiaCA/0?wx_fmt=png" alt="0?wx_fmt=png"></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">&nbsp;</span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"></span></p>
   <span style="color:#595959;font-size:28px;" class="135brush">建议修复方案</span>
   <span style="font-size:32px;">&nbsp;</span>
   <p style="margin-left:8px;line-height:1.75em;"><br></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">有PSU补丁的WLS 10.3.6、12.1.3、12.2.1.1、12.2.1.2版本：</span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">（1）<strong>安装最新的PSU（2017年10月份发布的）</strong></span></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">（2）<strong>删除wls-wsat应用包</strong></span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">WebLogic11g版本，wls-wsat应用包的位置：</span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"></span></p>
   <p>$WL_HOME/server/lib/wls-wsat.war</p>
   <p style="margin-left:8px;line-height:1.75em;"><br><span style="font-size:15px;letter-spacing:.5px;"></span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">WebLogic12c版本（12.1.3、12.2.1.1、12.2.1.2版本）：</span></p>
   <p>$BEA_HOME/oracle_common/modules/com.oracle.webservices.wls.wsat-endpoints-impl_&lt;xxx&gt;.war）</p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">（3）<strong>删除每个WebLogic Server目录下的tmp目录</strong></span></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"></span></p>
   <p>位置：$DOMAIN_HOME/servers/SERVER_NAME/tmp</p>
   <p style="margin-left:8px;line-height:1.75em;"><br><span style="font-size:15px;letter-spacing:.5px;"></span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">这里跟网上所写的删除的方法不太一样，请按照这个方法做，因为可能有JSP网页木马已经潜伏在<em>$DOMAIN_HOME/servers/SERVER_NAME/tmp/_WL_internal/bea_wls_internal/9j4dqk/war</em>目录下，管理、被管Server均需执行，非生产时间操作）</span></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">（4）<strong>检查WebLogic关键组件</strong></span></p>
   <p style="line-height:1.75em;"><br></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">首先检查wls-wsat组件是否已经清干净，用浏览器或写脚本检测每个WebLogic Server上的/wls-wsat/CoordinatorPortType应用URL（（http://&lt; wls listenaddress&gt;:&lt;wls listen port&gt;/wls-wsat/CoordinatorPortType））访问是否返回404，如果是表示已无法利用，然后再检查uddiexplorer是否已清理干净、bea_wls_internal的Servlet功能是否已经被禁用（/uddiexplorer、/bea_wls_internal、/wls-wsat上下文对应的这3个应用都可以成为JSP网页木马的藏身之处）</span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">（5）<strong>重要的系统还需要重新部署一下应用</strong></span></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">因为有可能你的应用包中潜伏着</span><span style="font-size:15px;letter-spacing:.5px;text-decoration:underline;">JSP网页木马</span><span style="font-size:15px;letter-spacing:.5px;">。<span style="font-size:15px;letter-spacing:.5px;color:rgb(0,0,0);">请删除目前主机上的应用包（或mv改个名字），然后将一份安全的应用包上传到怀疑被攻击的主机上，重新部署一下应用。</span></span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">（6）<strong>检查主机中其他位置是否有可疑文件或进程</strong></span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">&nbsp;</span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,82,255);">其他没有10月份PSU补丁的版本（WLS 10.3.3 - 10.3.5，以及12.1.1、12.1.2、12.2.1.0）执行后面的5步操作即可。</span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">另外，删除每个WebLogicServer目录下的tmp目录的操作跟<em>-Dweblogic.wsee.wstx.wsat.deployed=false</em>（禁用wls-wsat功能）功效相似，但删tmp目录的操作还可以清除可疑的JSP网页木马。</span></p>
   <p><br></p>
   <span style="color:#595959;font-size:28px;" class="135brush">延伸阅读</span>
   <span style="font-size:32px;">&nbsp;</span>
   <p><br></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">此次被利用的漏洞源自WebLogic自带的一个wls-wsat.war应用包（Web Services Atomic Transactions组件），该组件存在RCE（远程代码执行）漏洞，允许使用JDK自身的XMLDecoder进行反序列化漏洞攻击，下载并运行比特币的挖矿程序。</span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">但Java XMLDecoder反序列化漏洞也并不是这两年才出来，早在2013年就已经爆出来了，2015年爆出来的CVE-2015-4852也并不是唯一的反序列化漏洞。</span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">Github上有一个项目Java-Deserialization-Cheat-Sheet（https://github.com/GrrrDog/Java-Deserialization-Cheat-Sheet），总结了几乎所有的Java反序列化漏洞。</span></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="margin-left:8px;line-height:1.75em;"><img class="img_loading" src="https://ss.csdn.net/p?http://mmbiz.qpic.cn/mmbiz_png/bURPjgFpGMR2Vtc0WPUYFlxkKjDm3vJtpMEiauD3czx91FZd14dIKlTPMMR1kn4Xck3kKpvXCCZicwMMgFhYrozA/0?wx_fmt=png" alt="0?wx_fmt=png"></p>
   <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">你可以从中找到被广泛利用的commons-collection、XMLDecoder等Java反序列化漏洞，反序列化漏洞预防、检测与修复工作的重要性越发凸显了。</span></p>
   <p><br></p>
   <p style="font-size:16px;text-align:center;"><img title="红色桃心分割线" style="display:inline;" src="https://ss.csdn.net/p?http://mmbiz.qpic.cn/mmbiz_jpg/bURPjgFpGMTyRM7mBd0fJUucsrbeaxGWXMXdlw7GpdEL0freZtcuScGKOvqqRAm4GL2zE6IXLB9P1libSMibRELA/0?wx_fmt=jpeg" alt="0?wx_fmt=jpeg"></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);"><span style="font-size:14px;"><br></span></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);margin-left:8px;"><span style="font-size:15px;"><strong><span style="background-color:rgb(255,255,255);color:rgb(0,122,170);">我们每个人都知道数据安全的重要，可是数据安全到底应该如何做起？</span></strong></span></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);line-height:1.75em;margin-left:8px;"><span style="font-size:15px;letter-spacing:.5px;">如果您希望快速了解您企业的数据库是否存在众多的安全漏洞或者安全风险，推荐<span style="font-size:15px;letter-spacing:.5px;color:rgb(0,0,0);">您<span style="font-size:15px;">自助</span>使用</span><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,0,0);">云和恩墨的<span style="font-size:15px;">免费</span>自动</span>化巡检工具：Bethune（白求恩）</strong>，该工具为基于云平台的免费工具，在帮您检查数据库基本情况的同时，也内置安全方面的检查，通过对数据库安全补丁、访问来源、访问工具等维度的分析，帮助用户快速梳理数据库安全情况，让您掌握第一手的数据库安全咨询。</span></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);"><br></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><strong>在白求恩的智能诊断平台中，我们从点滴做起，帮助用户发现安全问题，改善安全体验。</strong></span></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);"><br></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">从数据安全的各个纬度中，访问安全处于重要的核心位置，而Oracle数据库的监听日志就处于记录访问来源的重要岗位。白求恩 - Bethune 通过对于监听日志的发掘帮助用户清晰展现数据库的访问来源，访问应用等，提示安全风险，帮助用户加强安全管控。</span></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);"><img class="img_loading" style="visibility:visible !important;" src="https://ss.csdn.net/p?http://mmbiz.qpic.cn/mmbiz_png/xlqcTCAXjQnBZjLJeiaw8kjLSh8QIr412TBuGEyxwPLvLYob48c7LQG2mz4B1HeX8kCYTTg9261JMhXvH3Vic14Q/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">我们来看看白求恩的分析和展现。</span></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);"><br></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">白求恩首先会对访问来源的IP根据权重进行<strong>可视化</strong>展现，这个视图可以自由缩放，以展示访问来源的详细状况，可以帮助用户发现可疑的访问来源：</span></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);"><img class="img_loading" style="visibility:visible !important;" src="https://ss.csdn.net/p?http://mmbiz.qpic.cn/mmbiz_jpg/xlqcTCAXjQnBZjLJeiaw8kjLSh8QIr412rxT0RIURqmaQEyKVJWqgLMeFvQPk0LMuxdrVukXUtHMpNl1DP38t9A/640?wx_fmt=jpeg" alt="640?wx_fmt=jpeg"></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">有了访问来源，白求恩还可以分析访问频度，帮助用户找到<strong>连接风暴</strong>的时点，以便通过优化规避和分散连接请求，在以下的图例中，展示了一个连接风暴点，在这个位置，客户的集中并发访问甚至使得数据库失去响应：</span></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);"><img class="img_loading" style="background-color:rgb(238,237,235);border:1px solid rgb(238,237,235);background-position:50% 50%;" src="https://ss.csdn.net/p?http://mmbiz.qpic.cn/mmbiz_jpg/xlqcTCAXjQnBZjLJeiaw8kjLSh8QIr412tqgiagwE5vmvCZmcU1pPR686nw6PXib82Wt4NNzt78LBrvqxmibRowW1A/0?wx_fmt=jpeg" alt="0?wx_fmt=jpeg"></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">对于DBA来说，清楚的了解应用的访问分布，是必要的工作内容，也是了解和熟悉数据库应用的起点。</span></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);"><br></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">有了监听日志，我们还可以清晰的展示访问数据库的应用类型和访问源：</span></p>
   <blockquote style="color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);">
    <p style="min-height:1em;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><strong><span style="letter-spacing:.5px;font-size:14px;">从访问源中，如果发现未授权的IP地址，则应该引起高度的安全重视；</span></strong></span></p>
    <p style="min-height:1em;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><strong><span style="letter-spacing:.5px;font-size:14px;">如过有未授权的应用，则更应该梳理和明确规范；</span></strong></span></p>
   </blockquote>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">这是数据安全中最核心的要素之一。</span></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);"><br></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">在以下的数据中，显示了来自不同地址的 plsqldev.exe 连接，这是必须要要明确定义访问许可的高危应用：</span></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);"><img class="img_loading" style="visibility:visible !important;" src="https://ss.csdn.net/p?http://mmbiz.qpic.cn/mmbiz_jpg/xlqcTCAXjQnBZjLJeiaw8kjLSh8QIr412NxqYmjswHORhdMqpVvKR3v3EKf3QSaaaBjbaPQqI5GodB9fbLKLR4w/640?wx_fmt=jpeg" alt="640?wx_fmt=jpeg"></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">在2016年下半年爆发的Oracle数据库比特币勒索事件中，plsqldev 正是感染的来源之一。Bethune 检测这一风险并给出提示，以下提示显示这个数据库遭遇到了比特币攻击：</span></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);"><img class="img_loading" style="visibility:visible !important;" src="https://ss.csdn.net/p?http://mmbiz.qpic.cn/mmbiz_jpg/xlqcTCAXjQnBZjLJeiaw8kjLSh8QIr412aSQrV5woaB2xyndSIkfyWy1icossqCzLL8KicuLiaaUiathdydheTJW8dg/640?wx_fmt=jpeg" alt="640?wx_fmt=jpeg"></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">监听器的日志中，隐藏着丰富的信息，提升数据库的安全防范，可以由此作为一个起点，白求恩正是因应用户的需求，丰富了这一个功能，帮助大家提高安全的警示和预防。<br></span></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);"><br></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><strong>清清楚楚的分析，明明白白的展示，数据库智能诊断分析，尽在Bethune平台！</strong></span></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);"><br></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">Bethune官网：<span style="letter-spacing:.5px;font-size:15px;text-decoration:underline;color:rgb(0,122,170);">bethune.enmotech.com</span></span></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);"><span style="text-decoration:underline;color:rgb(0,122,170);"><br></span></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">如果你在使用Bethune的过程中，有任何疑问，可以在网站的反馈页面直接回复或者通过白求恩小助手（微信 sunx5126 ）加入到Bethune用户交流群，与白求恩用户和专家交流讨论。</span></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="min-height:1em;color:rgb(62,62,62);font-size:16px;background-color:rgb(255,255,255);margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;">当然，如果您的数据库已经遭受攻击和数据损失，您也不要担心，立刻紧急联系云和恩墨的服务团队，我们将帮助您处理数据修复事宜。云和恩墨久经考验的ODU产品，可以在数据丢失后最大限度的恢复数据。</span></strong></p>
   <p style="font-size:16px;text-align:center;"><br></p>
   <p><span style="color:rgb(0,82,255);"><strong>相关阅读：</strong></span></p>
   <p><span style="color:rgb(0,82,255);"></span></p>
   <h2 class="rich_media_title"><a href="http://mp.weixin.qq.com/s?__biz=MjM5MzExMTU2OQ==&amp;mid=2650604041&amp;idx=1&amp;sn=afca1d93ac1b2d286ab685a485511499&amp;chksm=be95a97789e220615db5faf847f070cb391b4c6a3463a82813995a7bffb82925ab1a162c2ec3&amp;scene=21#wechat_redirect" rel="nofollow" style="text-decoration:underline;"><span style="font-size:14px;color:rgb(0,122,170);">【红色警报】“比特币勒索攻击”快速排查攻略，文末附脚本</span></a></h2>
   <p style="margin-left:8px;line-height:1.75em;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5MDAxOTk2MQ==&amp;mid=2650272273&amp;idx=1&amp;sn=408c33aab5823908c75bf8f995e4fe1e&amp;chksm=be486a07893fe311b4563b32942bfa2ab763b54970c5e9771f9376e8c7c02c6ac4349a6d4346&amp;scene=21#wechat_redirect" rel="nofollow" style="font-size:15px;text-decoration:underline;"><span style="font-size:15px;">关于Oracle安全比特币勒索问题揭秘和防范</span></a><br></p>
   <p style="margin-left:8px;line-height:1.75em;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5MDAxOTk2MQ==&amp;mid=2650274988&amp;idx=1&amp;sn=dd05d539aa840a589848338042c565cb&amp;chksm=be4864ba893fedace126053e7d6540287499c5348cef8c0e3f0b7198fd68355668fff5f5dfa1&amp;scene=21#wechat_redirect" rel="nofollow" style="font-size:15px;text-decoration:underline;"><span style="font-size:15px;">警示：新型勒索病毒Petya如何对你的文件进行加密</span></a><br></p>
   <p style="margin-left:8px;line-height:1.75em;"><a href="http://mp.weixin.qq.com/s?__biz=MjM5MDAxOTk2MQ==&amp;mid=2650277002&amp;idx=1&amp;sn=d3a92d28e717de846e287c76eb195c02&amp;chksm=be479c9c8930158ab0243484f826ae3e8ddc0216005a853ec89d0eaceab2c6709c4bd0fa4d6b&amp;scene=21#wechat_redirect" rel="nofollow" style="font-size:15px;text-decoration:underline;"><span style="font-size:15px;">Bad Rabbit病毒引发的企业数据安全的思考与应对方案</span></a></p>
   <p style="min-height:1em;"><span style="font-size:15px;">资源下载</span></p>
   <p style="margin-left:8px;min-height:1em;font-size:1em;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">关注公众号：数据和云（OraNews）回复关键字获取</span></p>
   <p style="margin-left:8px;min-height:1em;font-size:1em;line-height:normal;"><span style="font-size:14px;"><span style="color:rgb(255,0,0);"><strong><span style="letter-spacing:.5px;">‘2017DTC’</span></strong></span><span style="letter-spacing:.5px;">，2017DTC大会PPT<br></span></span></p>
   <p style="margin-left:8px;min-height:1em;font-size:1em;line-height:normal;"><span style="font-size:14px;"><strong><span style="letter-spacing:.5px;">‘DBALIFE’</span></strong><span style="letter-spacing:.5px;">，“DBA的一天”海报<br></span></span></p>
   <p style="margin-left:8px;min-height:1em;line-height:normal;"><strong><span style="font-size:14px;letter-spacing:.5px;">‘DBA04’</span></strong><span style="font-size:14px;letter-spacing:.5px;">，DBA手记4经典篇章电子书</span></p>
   <p style="margin-left:8px;min-height:1em;font-size:1em;line-height:normal;"><span style="font-size:14px;"><strong><span style="letter-spacing:.5px;">‘RACV1’,</span></strong><span style="letter-spacing:.5px;">&nbsp;RAC系列课程视频及ppt</span></span></p>
   <p style="margin-left:8px;min-height:1em;font-size:1em;line-height:normal;"><span style="font-size:14px;"><strong><span style="letter-spacing:.5px;">‘122ARCH’</span></strong><span style="letter-spacing:.5px;">，Oracle 12.2体系结构图</span></span><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="margin-left:8px;min-height:1em;font-size:1em;line-height:normal;"><span style="font-size:14px;"><strong><span style="letter-spacing:.5px;">‘2017OOW’</span></strong><span style="letter-spacing:.5px;">，Oracle OpenWorld资料<br></span></span></p>
   <p style="margin-left:8px;min-height:1em;font-size:1em;line-height:normal;"><span style="font-size:14px;"><strong><span style="letter-spacing:.5px;">‘PRELECTION’</span></strong><span style="letter-spacing:.5px;">，大讲堂讲师课程资料</span></span></p>
   <p style="font-size:16px;"><img class="img_loading" src="https://ss.csdn.net/p?http://mmbiz.qpic.cn/mmbiz_png/bURPjgFpGMRpeRqLyWpnQEYZT7xEpxFFVGAictAdfmu3Hv6qZibFaMJlq3UT0YnMxkAgAhqDNwamr5410mAyXxjQ/0?wx_fmt=png" alt="0?wx_fmt=png"></p> 
  </div> 
 </div> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/Enmotech/article/details/78967462,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/Enmotech/article/details/78967462,&quot;}">阅读更多</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0d1dbe5a3e5863242418b768d1601633";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
