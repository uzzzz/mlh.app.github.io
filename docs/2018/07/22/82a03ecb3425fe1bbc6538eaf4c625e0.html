<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>太简单！只学十分钟，Python菜鸟也能开发一个区块链客户端 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="太简单！只学十分钟，Python菜鸟也能开发一个区块链客户端" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="﻿ 区块链技术以其去中心化特性成为又一具有颠覆性特征的技术。Python作为一种面向对象的解释型计算机程序设计语言，因其具有丰富和强大的库，常被称为“胶水语言”，简单、易上手，是区块链技术爱好者快速学习区块链的首选之一。 本文作者Adil Moujahid&nbsp;是世界IT服务企业排名前十、日本IT服务企业排名榜首的NTT DATA集团的数据科学家，对Python在区块链方向的应用有着十分深入的研究。 在这篇文章中，Adil Moujahid&nbsp;由双重支付问题引出去中心化支付方案，介绍公钥密码学、Hash函数、挖矿等区块链核心概念，并详细阐述如何产生一个新区快、如何将新区快添加到区块链等问题，最后，利用Python实现基本的区块链和区块链客户端。 在了解区块链的核心概念之后，让Adil Moujahid&nbsp;手把手，教你用Python实现区块链和区块链客户端的实操吧！干货满满！ 作者 | Adil Moujahid 编译 | kou、Eli 可以说，区块链是自互联网诞生以来最重要和最具颠覆性的技术之一。作为比特币和其他加密货币背后的核心技术，区块链在过去几年获得了广泛关注。 区块链是一个分布式数据库，允许双方之间直接进行交易，而无需第三方权限，对银行、政府和市场等机构具有很大影响。 任何依赖中心化数据库作为核心竞争优势的企业或组织都可能被区块链技术所颠覆。 本文分三部分，前两部分介绍区块链的核心概念；第三部分介绍如何利用Python实现区块链以及2个区块链Web应用程序，以便终端用户轻松与区块链进行链上交互，效果图如下。 极简的区块链速成教程 2008年中本聪发布标题为“比特币：点对点电子现金系统” 的比特币白皮书，奠定了区块链的基础。 在最初的比特币白皮书中，中本聪描述了如何建立一个点对点电子现金系统，允许不通过中心化机构实现在线支付，直接从一方发送到另一方。该系统解决了数字货币中一个称为双重支付的重要问题。 什么是双重支付？ 假设Alice想要支付Bob 1美元。如果Alice和Bob使用实物现金，那么Alice在执行交易后将不再拥有1美元；如果Alice和Bob使用数字货币，那么问题会变得更加复杂。 数字货币以数字形式存在，可以轻松进行复制。例如，如果Alice通过电子邮件向Bob发送价值1美元的数字文件，则Bob无法确定Alice是否删除了她的文件副本，如果Alice仍然拥有1美元数字文件，那么她可以选择将相同的文件发送给Carol。这个问题就叫做双重支付。 解决双重支付问题的一种方法是在Alice、Bob和网络中其他参与者之间建立可信任的第三方（例如银行），该第三方负责管理中心化分类账，而分类账跟踪并验证网络中的所有交易。该解决方案的缺点是，为了使系统运行，它需要信任中心化的第三方。 比特币：双重支付问题的去中心化方案 为了解决双重支付问题，中本聪提出了一个公共分类账，即通过比特币的区块链来跟踪网络中的所有交易。比特币的区块链具有以下特征： 分布式：分类帐在多台计算机上复制，而不是存储在中央服务器上。任何具有互联网连接的计算机都可以下载区块链的完整副本。 加密：用于确认发送人持有她想要发送的比特币，并决定如何将交易添加到区块链中。 不可变：交易只能添加到区块链中，但不能删除或修改。 工作量证明（PoW）：网络中一种特殊类型的参与者称为矿工，他们竞争搜索加密难题的解决方案，该解决方案允许他们向比特币的区块链添加一个交易区块，此过程称为工作量证明，它能确保系统安全。 发送比特币资金流程如下： 创建一个比特币钱包。用于发送或接收比特币，比特币钱包存储2条信息：私钥和公钥。私钥是一个秘密号码，允许所有者将比特币发送给另一个用户，或者消费比特币。公钥是接收比特币所需的数字。钱包本身不存储比特币，有关比特币余额的信息存储在比特币的区块链中。 创建比特币交易。如果Alice想要向Bob发送1个比特币，Alice需要使用她的私钥连接到她的比特币钱包，并创建一个包含她想要发送的比特币数量和地址的交易。 将交易广播到比特币网络。一旦Alice创建比特币交易，她需要将此交易广播到整个比特币网络。 确认交易。收听到比特币网络的矿工使用Alice的公钥验证交易，确认Alice的钱包中有足够的比特币，并向比特币区块链添加一条包含交易详细信息的新纪录。 将区块链的变更广播给所有矿工。 一旦交易得到确认，该矿工应向所有矿工广播区块链变更，以确保他们的区块链副本全部同步。 区块链技术深度研究 为深入研究区块链技术构建模块，作者系统介绍了公钥密码学，Hash函数和区块链挖掘及安全性等。 公钥密码学 公钥密码学或非对称加密学是任何使用密钥对的加密系统：包括可以广泛传播的公钥，以及只有所有者知道的私钥。 这实现了两个基本功能： 身份验证：公钥验证发送消息的配对私钥的持有者 加密：只有配对的私钥持有者可以解密用公钥加密的消息。 RSA和ECDSA（椭圆曲线数字签名算法）是最流行的公钥加密算法，ECDSA算法用于生成比特币钱包。 为了发送或接收BTC，用户首先生成包含一对私钥和公钥的钱包。 如果Alice想要向Bob发送一定数量的BTC，她会创建一个交易，在该交易中输入她和Bob的公钥以及她想要发送的BTC数量，然后使用她的私钥签署交易。 区块链上的计算机使用Alice的公钥来验证交易是否可信，并将交易写入即将添加到区块链的区块中。 Hash函数和挖掘 所有比特币交易都存储在称为区块的文件中。比特币每10分钟增加一个新的交易区块，将新区块添加到区块链后，它将不可变、无法删除和修改。 网络中一组特殊的参与者称为矿工（连接到区块链的计算机），负责创建新的交易区块。矿工必须使用发件人的公钥对每笔交易进行身份验证，确认发件人有足够的余额用于所请求的交易，并将交易添加到块中。 矿工可以完全自由选择区块中的交易，因此发件人需要包含交易费以激励矿工将他们的交易添加到区块中。 对于区块链接受的区块，需要进行“挖掘”。为了挖掘区块，矿工需要找到一种非常罕见的加密难题解决方案。如果区块链接受了采矿区块，则矿工将获得比特币奖励，这是对交易费用的额外奖励。挖掘过程也称为工作量证明（PoW），它是使区块链无信任和安全的主要机制。 哈希和区块链加密难题 哈希函数是任何可以用来将任意大小的数据映射到固定大小的数据的函数。哈希函数返回的值称为Hash值。哈希函数通常用于通过检测重复的记录来加速数据库查找，它们在密码学中也被广泛使用。 哈希函数允许我们轻松地验证某些输入数据映射到给定的散列值，但是如果输入数据是未知的，那么通过存储的散列值来重构它是很困难的。 比特币使用称为SHA-256的加密哈希函数。SHA-256应用于区块数据（比特币交易）和名为Nonce的数字组合。通过更改区块数据或Nonce，我们得到完全不同的Hash值。&nbsp; 对于被认为有效或“已挖掘”的区块，区块和Nonce的Hash值需要满足特定条件。例如，Hash值的四个前导数字需要等于“0000”。 我们可以通过使条件更复杂来增加挖矿的复杂性，例如我们可以增加Hash值开头0的数量。 矿工需要解决的密码难题是找到一个Nonce值，使Hash值满足挖掘条件。 使用下面的应用程序来模拟区块挖掘。 当你在“Data”文本框中输入或更改Nonce值时，你会注意到Hash值的变化。 当你单击“Mine”按钮时，应用程序从Nonce等于零开始，计算Hash值并检查Hash值的前四位是否等于“0000”。&nbsp; 如果前四位数不等于“0000”，则将Nonce增加1并重复整个过程，直到找到满足条件的Nonce值。如果区块已开采，背景颜色变为绿色。 从区块到区块链 交易按区块分组，区块被附加到区块链。 为了创建一条由区块组成的链，每个新块使用前一个块的Hash值作为其数据的一部分。为了创建新块，矿工选择一组交易，添加前一个块的Hash值开始区块挖掘工作。 对任何区块数据进行的任何更改都将影响其后所有区块的Hash值，并且它们将变为无效，这就是区块链的不变性。 使用下面的应用程序模拟包含3个区块的区块链。 当你在“Data”文本框中输入或更改Nonce值时，你可以注意到当前区块Hash值以及下一区块的“Prev”值（上一个Hash值）的变化。 你可以通过单击每个块的“Mine”按钮来模拟挖矿过程。挖掘出3个区块之后，尝试更改块1或2中的数据，你将注意到之后的所有区块都变为无效。 将区块添加到区块链 比特币网络中的所有矿工互相竞争，以找到一个有效的区块，该区块将被添加到区块链并从网络获得奖励。 虽然找到验证区块Nonce几率很低，但由于矿工的数量很多，网络中矿工验证区块的概率非常高。第一个提交有效区块的矿工将他的区块添加到区块链中并获得比特币的奖励。 如果两个矿工或更多的矿工同时提交，会发生什么呢？ 解决冲突 如果2名矿工几乎同时解决一个区块，那么我们将在网络中有2个不同的区块链，我们需要等待下一个区块来解决冲突。 一些矿工选择在区块链1顶部挖掘，其他矿工选择在区块链2顶部挖掘。 当有矿工找到一个新的区块之后，冲突就被解决了。 如果新区块在区块链1的顶部被挖掘出来，则区块链2变为无效，前一区块的奖励通过区块链1奖励给矿工，区块链2部分和未添加到区块链中的交易将被退回到交易池并添加到下一个块。&nbsp; 简而言之，如果区块链存在冲突，那么最长的链就会获胜。 ﻿﻿ 区块链和双重支付 接下来，详细介绍对区块链进行双重支付攻击的常见形式，以及用户为防止受到损害应采取的措施。 种族攻击：攻击者将相同的硬币快速发送到两个不同的地址。为防止此类攻击，建议在接受付款前等待至少一次区块确认。 芬尼攻击：攻击者使用交易预先挖掘区块，并在释放区块之前在第二个交易中花费相同的币。 在这种情况下，将不验证第二个交易。为防止此类攻击，建议在接受付款前等待至少6次区块确认。 51％攻击：在这类攻击中，攻击者拥有网络51％的算力。攻击者首先向整个网络广播进行交易，然后挖掘一个私有区块链，在那里将上一笔交易的币加倍。由于攻击者拥有大部分算力，因此保证他在某些时候会拥有比正常网络更长的链。然后，他可以发布更长的区块链，取代正常区块链并取消原始交易。这种攻击极不可能，因为它在像比特币这样的区块链网络中非常昂贵。 Python中的区块链实现 在本节中，我们将使用Python实现基本的区块链和区块链客户端。 区块链将具有以下功能： 在区块链中添加多个节点 工作量证明（PoW） 节点之间的简单冲突解决方案 区块链客户端将具有以下功能： 使用公钥/私钥加密生成钱包（基于RSA算法） 使用RSA加密生成交易 还将实现2个显示页： 供矿工使用的“区块链前端” 供用户生成钱包和发送数字货币的“区块链客户端” 本文区块链实现主要参考下面的GitHub项目，作者对原始代码进行了一些修改，以便为交易添加RSA加密。 使用Jupyter notebook生成电子钱包，进行加密交易，使用HTML / CSS / JS2完成2个显示页。 区块链客户端 切换到blockchain_client文件夹下，在终端输入python blockchain_client.py，启动区块链客户端。在浏览器中，转到http：// localhost：8080，你将看到下面的显示页面。 ﻿﻿ 显示页面在导航栏中有3个选项卡： Wallet Generator：使用RSA加密算法生成钱包（公钥/私钥对） Make Transaction：生成交易并将其发送到区块链节点 View Transasctions：查看区块链上的交易 要创建或查看交易，你至少需要运行一个区块链节点。 下面，对blockchain_client.py代码重要的部分进行解释。 定义一个名为Transaction的python类，它有&nbsp;sender_address，sender_private_key，recipient_address&nbsp;和&nbsp;value&nbsp;4个属性。这些是发件人创建交易所需的4条信息。 使用to_dict（）方法以Python字典格式（没有发件人的私钥）返回交易信息。 通过使用 sign_transaction（）方法获取交易信息（没有发件人的私钥），并使用发件人的私钥对其进行签名。 启动一个Python Flask应用程序，使用它来创建不同的API，与区块链及其客户端进行交互。 下面定义3个Flask html页面返回路径，每个标签连接一个html页面。 然后，定义一个生成钱包的API（私钥/公钥对）。 下面定义一个API，将sender_address，sender_private_key，recipient_address，value&nbsp;作为输入项，并返回交易（没有私钥）和签名。 区块链 转到blockchain文件夹从终端启动区块链节点，然后键入python blockchain_client.py或python blockchain_client.py -p &lt;PORT NUMBER&gt;。如果未指定端口号，则默认为端口5000。在浏览器中，转到http：// localhost：&lt;PORT NUMBER&gt;查看区块链前端显示页。 导航栏下显示页有2个选项卡： Mine：用于查看交易和区块链数据，以及挖掘新的交易区块。 Configure：用于配置不同区块链节点之间的连接。 接下来，对blockchain.py代码中重要部分进行解释。 首先定义一个具有以下属性的Blockchain类： transactions：将添加到下一区块的交易列表。 chain：由一系列区块组成的区块链。 nodes：包含节点url的集合。区块链使用这些节点从其他节点检索区块链数据，如果它们不同步则更新其区块链。 node_id：用于标识区块链节点的随机字符串。 Blockchain类还实现了以下方法： register_node（node_url）：将新的区块链节点添加到节点列表中。 verify_transaction_signature(sender_address, signature, transaction)：检查提供的签名是否与公钥（sender_address）签名的交易相对应。 socmit_transaction（sender_address，recipient_address，value，signature）：如果签名已验证，则将交易添加到交易列表中。 create_block（Nonce，previous_hash）：向区块链添加一个包含交易信息的区块。 hash(block)：创建一个区块的SHA-256 Hash值。 proof_of_work()：工作量证明。寻找满足挖掘条件的Nonce。 valid_proof（transactions，last_hash，Nonce，difficulty = MINING_DIFFICULTY）：检查Hash值是否满足挖掘条件，此函数在proof_of_work函数中使用。 valid_chain(chain)：检查区块链是否有效。 resolution_conflicts（）：通过用网络中最长的链替换链来解决区块链节点之间的冲突。 启动一个Python Flask应用程序，使用它创建不同的API以与区块链进行交互。 接下来，启动Blockchain实例。 定义2条返回区块链前端html页面的Flask路径。 下面定义Flask API来管理交易和挖掘区块链。 &#39;/ transactions / new&#39;：此API用来输入 &#39;sender_address&#39;， &#39;recipient_address&#39;，&#39;amount&#39;和&#39;signature&#39;，并将交易添加到签名有效的、可添加到下一区块的交易列表中。 &#39;/ transactions / get&#39;：此API返回可以被添加到下一区块的所有交易。 &#39;/ chain&#39;：此API返回所有区块链数据。 &#39;/ mine&#39;：此API运行工作量证明算法，并将新的交易块添加到区块链中。 下面定义Flask API来管理区块链节点。 &#39;/ nodes / register&#39;：此API将节点URL列表作为输入，并将它们添加到节点列表中。 &#39;/ nodes / resolve&#39;：此API通过用网络中可用的最长链替换本地链来解决区块链节点之间的冲突。 &#39;/ nodes / get&#39;：此API返回节点列表。 原文链接： http://adilmoujahid.com/posts/2018/03/intro-blockchain-bitcoin-python/ 源代码： https://github.com/adilmoujahid/blockchain-python-tutorial 参考资源： 1 - Wikipedia - Public-key cryptography 2 - Wikipedia - Hash function 3 - Bitcoin Stackexchange - What happens to a transaction once generated? 4 - Bitcoin Wiki - Majority attack 5 -&nbsp;比特币白皮书、 6 -&nbsp;比特币维基 7 -&nbsp;Andreas Antonopoulos：Mastering Bitcoin: Programming the Open&nbsp; 最新热文： 80%的人都不知道，ERC-223、ERC-621、ERC-721这些到底说了啥，还好意思说自己懂智能合约？建议收藏 全球近1/5的比特币已经永久丢失！三种方法让你找回丢失的比特币 北大之后又一高校团队区块链大赛夺冠，原来高校才是行业真扫地僧，怕了吗？ | 人物志 未来互联网再不需要中心化服务器了！因为Web3技术栈来了 扫码加入区块链大本营读者群，群满加微信 qk15732632926 入群 了解更多区块链技术及应用内容 敬请关注： 阅读更多" />
<meta property="og:description" content="﻿ 区块链技术以其去中心化特性成为又一具有颠覆性特征的技术。Python作为一种面向对象的解释型计算机程序设计语言，因其具有丰富和强大的库，常被称为“胶水语言”，简单、易上手，是区块链技术爱好者快速学习区块链的首选之一。 本文作者Adil Moujahid&nbsp;是世界IT服务企业排名前十、日本IT服务企业排名榜首的NTT DATA集团的数据科学家，对Python在区块链方向的应用有着十分深入的研究。 在这篇文章中，Adil Moujahid&nbsp;由双重支付问题引出去中心化支付方案，介绍公钥密码学、Hash函数、挖矿等区块链核心概念，并详细阐述如何产生一个新区快、如何将新区快添加到区块链等问题，最后，利用Python实现基本的区块链和区块链客户端。 在了解区块链的核心概念之后，让Adil Moujahid&nbsp;手把手，教你用Python实现区块链和区块链客户端的实操吧！干货满满！ 作者 | Adil Moujahid 编译 | kou、Eli 可以说，区块链是自互联网诞生以来最重要和最具颠覆性的技术之一。作为比特币和其他加密货币背后的核心技术，区块链在过去几年获得了广泛关注。 区块链是一个分布式数据库，允许双方之间直接进行交易，而无需第三方权限，对银行、政府和市场等机构具有很大影响。 任何依赖中心化数据库作为核心竞争优势的企业或组织都可能被区块链技术所颠覆。 本文分三部分，前两部分介绍区块链的核心概念；第三部分介绍如何利用Python实现区块链以及2个区块链Web应用程序，以便终端用户轻松与区块链进行链上交互，效果图如下。 极简的区块链速成教程 2008年中本聪发布标题为“比特币：点对点电子现金系统” 的比特币白皮书，奠定了区块链的基础。 在最初的比特币白皮书中，中本聪描述了如何建立一个点对点电子现金系统，允许不通过中心化机构实现在线支付，直接从一方发送到另一方。该系统解决了数字货币中一个称为双重支付的重要问题。 什么是双重支付？ 假设Alice想要支付Bob 1美元。如果Alice和Bob使用实物现金，那么Alice在执行交易后将不再拥有1美元；如果Alice和Bob使用数字货币，那么问题会变得更加复杂。 数字货币以数字形式存在，可以轻松进行复制。例如，如果Alice通过电子邮件向Bob发送价值1美元的数字文件，则Bob无法确定Alice是否删除了她的文件副本，如果Alice仍然拥有1美元数字文件，那么她可以选择将相同的文件发送给Carol。这个问题就叫做双重支付。 解决双重支付问题的一种方法是在Alice、Bob和网络中其他参与者之间建立可信任的第三方（例如银行），该第三方负责管理中心化分类账，而分类账跟踪并验证网络中的所有交易。该解决方案的缺点是，为了使系统运行，它需要信任中心化的第三方。 比特币：双重支付问题的去中心化方案 为了解决双重支付问题，中本聪提出了一个公共分类账，即通过比特币的区块链来跟踪网络中的所有交易。比特币的区块链具有以下特征： 分布式：分类帐在多台计算机上复制，而不是存储在中央服务器上。任何具有互联网连接的计算机都可以下载区块链的完整副本。 加密：用于确认发送人持有她想要发送的比特币，并决定如何将交易添加到区块链中。 不可变：交易只能添加到区块链中，但不能删除或修改。 工作量证明（PoW）：网络中一种特殊类型的参与者称为矿工，他们竞争搜索加密难题的解决方案，该解决方案允许他们向比特币的区块链添加一个交易区块，此过程称为工作量证明，它能确保系统安全。 发送比特币资金流程如下： 创建一个比特币钱包。用于发送或接收比特币，比特币钱包存储2条信息：私钥和公钥。私钥是一个秘密号码，允许所有者将比特币发送给另一个用户，或者消费比特币。公钥是接收比特币所需的数字。钱包本身不存储比特币，有关比特币余额的信息存储在比特币的区块链中。 创建比特币交易。如果Alice想要向Bob发送1个比特币，Alice需要使用她的私钥连接到她的比特币钱包，并创建一个包含她想要发送的比特币数量和地址的交易。 将交易广播到比特币网络。一旦Alice创建比特币交易，她需要将此交易广播到整个比特币网络。 确认交易。收听到比特币网络的矿工使用Alice的公钥验证交易，确认Alice的钱包中有足够的比特币，并向比特币区块链添加一条包含交易详细信息的新纪录。 将区块链的变更广播给所有矿工。 一旦交易得到确认，该矿工应向所有矿工广播区块链变更，以确保他们的区块链副本全部同步。 区块链技术深度研究 为深入研究区块链技术构建模块，作者系统介绍了公钥密码学，Hash函数和区块链挖掘及安全性等。 公钥密码学 公钥密码学或非对称加密学是任何使用密钥对的加密系统：包括可以广泛传播的公钥，以及只有所有者知道的私钥。 这实现了两个基本功能： 身份验证：公钥验证发送消息的配对私钥的持有者 加密：只有配对的私钥持有者可以解密用公钥加密的消息。 RSA和ECDSA（椭圆曲线数字签名算法）是最流行的公钥加密算法，ECDSA算法用于生成比特币钱包。 为了发送或接收BTC，用户首先生成包含一对私钥和公钥的钱包。 如果Alice想要向Bob发送一定数量的BTC，她会创建一个交易，在该交易中输入她和Bob的公钥以及她想要发送的BTC数量，然后使用她的私钥签署交易。 区块链上的计算机使用Alice的公钥来验证交易是否可信，并将交易写入即将添加到区块链的区块中。 Hash函数和挖掘 所有比特币交易都存储在称为区块的文件中。比特币每10分钟增加一个新的交易区块，将新区块添加到区块链后，它将不可变、无法删除和修改。 网络中一组特殊的参与者称为矿工（连接到区块链的计算机），负责创建新的交易区块。矿工必须使用发件人的公钥对每笔交易进行身份验证，确认发件人有足够的余额用于所请求的交易，并将交易添加到块中。 矿工可以完全自由选择区块中的交易，因此发件人需要包含交易费以激励矿工将他们的交易添加到区块中。 对于区块链接受的区块，需要进行“挖掘”。为了挖掘区块，矿工需要找到一种非常罕见的加密难题解决方案。如果区块链接受了采矿区块，则矿工将获得比特币奖励，这是对交易费用的额外奖励。挖掘过程也称为工作量证明（PoW），它是使区块链无信任和安全的主要机制。 哈希和区块链加密难题 哈希函数是任何可以用来将任意大小的数据映射到固定大小的数据的函数。哈希函数返回的值称为Hash值。哈希函数通常用于通过检测重复的记录来加速数据库查找，它们在密码学中也被广泛使用。 哈希函数允许我们轻松地验证某些输入数据映射到给定的散列值，但是如果输入数据是未知的，那么通过存储的散列值来重构它是很困难的。 比特币使用称为SHA-256的加密哈希函数。SHA-256应用于区块数据（比特币交易）和名为Nonce的数字组合。通过更改区块数据或Nonce，我们得到完全不同的Hash值。&nbsp; 对于被认为有效或“已挖掘”的区块，区块和Nonce的Hash值需要满足特定条件。例如，Hash值的四个前导数字需要等于“0000”。 我们可以通过使条件更复杂来增加挖矿的复杂性，例如我们可以增加Hash值开头0的数量。 矿工需要解决的密码难题是找到一个Nonce值，使Hash值满足挖掘条件。 使用下面的应用程序来模拟区块挖掘。 当你在“Data”文本框中输入或更改Nonce值时，你会注意到Hash值的变化。 当你单击“Mine”按钮时，应用程序从Nonce等于零开始，计算Hash值并检查Hash值的前四位是否等于“0000”。&nbsp; 如果前四位数不等于“0000”，则将Nonce增加1并重复整个过程，直到找到满足条件的Nonce值。如果区块已开采，背景颜色变为绿色。 从区块到区块链 交易按区块分组，区块被附加到区块链。 为了创建一条由区块组成的链，每个新块使用前一个块的Hash值作为其数据的一部分。为了创建新块，矿工选择一组交易，添加前一个块的Hash值开始区块挖掘工作。 对任何区块数据进行的任何更改都将影响其后所有区块的Hash值，并且它们将变为无效，这就是区块链的不变性。 使用下面的应用程序模拟包含3个区块的区块链。 当你在“Data”文本框中输入或更改Nonce值时，你可以注意到当前区块Hash值以及下一区块的“Prev”值（上一个Hash值）的变化。 你可以通过单击每个块的“Mine”按钮来模拟挖矿过程。挖掘出3个区块之后，尝试更改块1或2中的数据，你将注意到之后的所有区块都变为无效。 将区块添加到区块链 比特币网络中的所有矿工互相竞争，以找到一个有效的区块，该区块将被添加到区块链并从网络获得奖励。 虽然找到验证区块Nonce几率很低，但由于矿工的数量很多，网络中矿工验证区块的概率非常高。第一个提交有效区块的矿工将他的区块添加到区块链中并获得比特币的奖励。 如果两个矿工或更多的矿工同时提交，会发生什么呢？ 解决冲突 如果2名矿工几乎同时解决一个区块，那么我们将在网络中有2个不同的区块链，我们需要等待下一个区块来解决冲突。 一些矿工选择在区块链1顶部挖掘，其他矿工选择在区块链2顶部挖掘。 当有矿工找到一个新的区块之后，冲突就被解决了。 如果新区块在区块链1的顶部被挖掘出来，则区块链2变为无效，前一区块的奖励通过区块链1奖励给矿工，区块链2部分和未添加到区块链中的交易将被退回到交易池并添加到下一个块。&nbsp; 简而言之，如果区块链存在冲突，那么最长的链就会获胜。 ﻿﻿ 区块链和双重支付 接下来，详细介绍对区块链进行双重支付攻击的常见形式，以及用户为防止受到损害应采取的措施。 种族攻击：攻击者将相同的硬币快速发送到两个不同的地址。为防止此类攻击，建议在接受付款前等待至少一次区块确认。 芬尼攻击：攻击者使用交易预先挖掘区块，并在释放区块之前在第二个交易中花费相同的币。 在这种情况下，将不验证第二个交易。为防止此类攻击，建议在接受付款前等待至少6次区块确认。 51％攻击：在这类攻击中，攻击者拥有网络51％的算力。攻击者首先向整个网络广播进行交易，然后挖掘一个私有区块链，在那里将上一笔交易的币加倍。由于攻击者拥有大部分算力，因此保证他在某些时候会拥有比正常网络更长的链。然后，他可以发布更长的区块链，取代正常区块链并取消原始交易。这种攻击极不可能，因为它在像比特币这样的区块链网络中非常昂贵。 Python中的区块链实现 在本节中，我们将使用Python实现基本的区块链和区块链客户端。 区块链将具有以下功能： 在区块链中添加多个节点 工作量证明（PoW） 节点之间的简单冲突解决方案 区块链客户端将具有以下功能： 使用公钥/私钥加密生成钱包（基于RSA算法） 使用RSA加密生成交易 还将实现2个显示页： 供矿工使用的“区块链前端” 供用户生成钱包和发送数字货币的“区块链客户端” 本文区块链实现主要参考下面的GitHub项目，作者对原始代码进行了一些修改，以便为交易添加RSA加密。 使用Jupyter notebook生成电子钱包，进行加密交易，使用HTML / CSS / JS2完成2个显示页。 区块链客户端 切换到blockchain_client文件夹下，在终端输入python blockchain_client.py，启动区块链客户端。在浏览器中，转到http：// localhost：8080，你将看到下面的显示页面。 ﻿﻿ 显示页面在导航栏中有3个选项卡： Wallet Generator：使用RSA加密算法生成钱包（公钥/私钥对） Make Transaction：生成交易并将其发送到区块链节点 View Transasctions：查看区块链上的交易 要创建或查看交易，你至少需要运行一个区块链节点。 下面，对blockchain_client.py代码重要的部分进行解释。 定义一个名为Transaction的python类，它有&nbsp;sender_address，sender_private_key，recipient_address&nbsp;和&nbsp;value&nbsp;4个属性。这些是发件人创建交易所需的4条信息。 使用to_dict（）方法以Python字典格式（没有发件人的私钥）返回交易信息。 通过使用 sign_transaction（）方法获取交易信息（没有发件人的私钥），并使用发件人的私钥对其进行签名。 启动一个Python Flask应用程序，使用它来创建不同的API，与区块链及其客户端进行交互。 下面定义3个Flask html页面返回路径，每个标签连接一个html页面。 然后，定义一个生成钱包的API（私钥/公钥对）。 下面定义一个API，将sender_address，sender_private_key，recipient_address，value&nbsp;作为输入项，并返回交易（没有私钥）和签名。 区块链 转到blockchain文件夹从终端启动区块链节点，然后键入python blockchain_client.py或python blockchain_client.py -p &lt;PORT NUMBER&gt;。如果未指定端口号，则默认为端口5000。在浏览器中，转到http：// localhost：&lt;PORT NUMBER&gt;查看区块链前端显示页。 导航栏下显示页有2个选项卡： Mine：用于查看交易和区块链数据，以及挖掘新的交易区块。 Configure：用于配置不同区块链节点之间的连接。 接下来，对blockchain.py代码中重要部分进行解释。 首先定义一个具有以下属性的Blockchain类： transactions：将添加到下一区块的交易列表。 chain：由一系列区块组成的区块链。 nodes：包含节点url的集合。区块链使用这些节点从其他节点检索区块链数据，如果它们不同步则更新其区块链。 node_id：用于标识区块链节点的随机字符串。 Blockchain类还实现了以下方法： register_node（node_url）：将新的区块链节点添加到节点列表中。 verify_transaction_signature(sender_address, signature, transaction)：检查提供的签名是否与公钥（sender_address）签名的交易相对应。 socmit_transaction（sender_address，recipient_address，value，signature）：如果签名已验证，则将交易添加到交易列表中。 create_block（Nonce，previous_hash）：向区块链添加一个包含交易信息的区块。 hash(block)：创建一个区块的SHA-256 Hash值。 proof_of_work()：工作量证明。寻找满足挖掘条件的Nonce。 valid_proof（transactions，last_hash，Nonce，difficulty = MINING_DIFFICULTY）：检查Hash值是否满足挖掘条件，此函数在proof_of_work函数中使用。 valid_chain(chain)：检查区块链是否有效。 resolution_conflicts（）：通过用网络中最长的链替换链来解决区块链节点之间的冲突。 启动一个Python Flask应用程序，使用它创建不同的API以与区块链进行交互。 接下来，启动Blockchain实例。 定义2条返回区块链前端html页面的Flask路径。 下面定义Flask API来管理交易和挖掘区块链。 &#39;/ transactions / new&#39;：此API用来输入 &#39;sender_address&#39;， &#39;recipient_address&#39;，&#39;amount&#39;和&#39;signature&#39;，并将交易添加到签名有效的、可添加到下一区块的交易列表中。 &#39;/ transactions / get&#39;：此API返回可以被添加到下一区块的所有交易。 &#39;/ chain&#39;：此API返回所有区块链数据。 &#39;/ mine&#39;：此API运行工作量证明算法，并将新的交易块添加到区块链中。 下面定义Flask API来管理区块链节点。 &#39;/ nodes / register&#39;：此API将节点URL列表作为输入，并将它们添加到节点列表中。 &#39;/ nodes / resolve&#39;：此API通过用网络中可用的最长链替换本地链来解决区块链节点之间的冲突。 &#39;/ nodes / get&#39;：此API返回节点列表。 原文链接： http://adilmoujahid.com/posts/2018/03/intro-blockchain-bitcoin-python/ 源代码： https://github.com/adilmoujahid/blockchain-python-tutorial 参考资源： 1 - Wikipedia - Public-key cryptography 2 - Wikipedia - Hash function 3 - Bitcoin Stackexchange - What happens to a transaction once generated? 4 - Bitcoin Wiki - Majority attack 5 -&nbsp;比特币白皮书、 6 -&nbsp;比特币维基 7 -&nbsp;Andreas Antonopoulos：Mastering Bitcoin: Programming the Open&nbsp; 最新热文： 80%的人都不知道，ERC-223、ERC-621、ERC-721这些到底说了啥，还好意思说自己懂智能合约？建议收藏 全球近1/5的比特币已经永久丢失！三种方法让你找回丢失的比特币 北大之后又一高校团队区块链大赛夺冠，原来高校才是行业真扫地僧，怕了吗？ | 人物志 未来互联网再不需要中心化服务器了！因为Web3技术栈来了 扫码加入区块链大本营读者群，群满加微信 qk15732632926 入群 了解更多区块链技术及应用内容 敬请关注： 阅读更多" />
<link rel="canonical" href="https://mlh.app/2018/07/22/82a03ecb3425fe1bbc6538eaf4c625e0.html" />
<meta property="og:url" content="https://mlh.app/2018/07/22/82a03ecb3425fe1bbc6538eaf4c625e0.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-07-22T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"﻿ 区块链技术以其去中心化特性成为又一具有颠覆性特征的技术。Python作为一种面向对象的解释型计算机程序设计语言，因其具有丰富和强大的库，常被称为“胶水语言”，简单、易上手，是区块链技术爱好者快速学习区块链的首选之一。 本文作者Adil Moujahid&nbsp;是世界IT服务企业排名前十、日本IT服务企业排名榜首的NTT DATA集团的数据科学家，对Python在区块链方向的应用有着十分深入的研究。 在这篇文章中，Adil Moujahid&nbsp;由双重支付问题引出去中心化支付方案，介绍公钥密码学、Hash函数、挖矿等区块链核心概念，并详细阐述如何产生一个新区快、如何将新区快添加到区块链等问题，最后，利用Python实现基本的区块链和区块链客户端。 在了解区块链的核心概念之后，让Adil Moujahid&nbsp;手把手，教你用Python实现区块链和区块链客户端的实操吧！干货满满！ 作者 | Adil Moujahid 编译 | kou、Eli 可以说，区块链是自互联网诞生以来最重要和最具颠覆性的技术之一。作为比特币和其他加密货币背后的核心技术，区块链在过去几年获得了广泛关注。 区块链是一个分布式数据库，允许双方之间直接进行交易，而无需第三方权限，对银行、政府和市场等机构具有很大影响。 任何依赖中心化数据库作为核心竞争优势的企业或组织都可能被区块链技术所颠覆。 本文分三部分，前两部分介绍区块链的核心概念；第三部分介绍如何利用Python实现区块链以及2个区块链Web应用程序，以便终端用户轻松与区块链进行链上交互，效果图如下。 极简的区块链速成教程 2008年中本聪发布标题为“比特币：点对点电子现金系统” 的比特币白皮书，奠定了区块链的基础。 在最初的比特币白皮书中，中本聪描述了如何建立一个点对点电子现金系统，允许不通过中心化机构实现在线支付，直接从一方发送到另一方。该系统解决了数字货币中一个称为双重支付的重要问题。 什么是双重支付？ 假设Alice想要支付Bob 1美元。如果Alice和Bob使用实物现金，那么Alice在执行交易后将不再拥有1美元；如果Alice和Bob使用数字货币，那么问题会变得更加复杂。 数字货币以数字形式存在，可以轻松进行复制。例如，如果Alice通过电子邮件向Bob发送价值1美元的数字文件，则Bob无法确定Alice是否删除了她的文件副本，如果Alice仍然拥有1美元数字文件，那么她可以选择将相同的文件发送给Carol。这个问题就叫做双重支付。 解决双重支付问题的一种方法是在Alice、Bob和网络中其他参与者之间建立可信任的第三方（例如银行），该第三方负责管理中心化分类账，而分类账跟踪并验证网络中的所有交易。该解决方案的缺点是，为了使系统运行，它需要信任中心化的第三方。 比特币：双重支付问题的去中心化方案 为了解决双重支付问题，中本聪提出了一个公共分类账，即通过比特币的区块链来跟踪网络中的所有交易。比特币的区块链具有以下特征： 分布式：分类帐在多台计算机上复制，而不是存储在中央服务器上。任何具有互联网连接的计算机都可以下载区块链的完整副本。 加密：用于确认发送人持有她想要发送的比特币，并决定如何将交易添加到区块链中。 不可变：交易只能添加到区块链中，但不能删除或修改。 工作量证明（PoW）：网络中一种特殊类型的参与者称为矿工，他们竞争搜索加密难题的解决方案，该解决方案允许他们向比特币的区块链添加一个交易区块，此过程称为工作量证明，它能确保系统安全。 发送比特币资金流程如下： 创建一个比特币钱包。用于发送或接收比特币，比特币钱包存储2条信息：私钥和公钥。私钥是一个秘密号码，允许所有者将比特币发送给另一个用户，或者消费比特币。公钥是接收比特币所需的数字。钱包本身不存储比特币，有关比特币余额的信息存储在比特币的区块链中。 创建比特币交易。如果Alice想要向Bob发送1个比特币，Alice需要使用她的私钥连接到她的比特币钱包，并创建一个包含她想要发送的比特币数量和地址的交易。 将交易广播到比特币网络。一旦Alice创建比特币交易，她需要将此交易广播到整个比特币网络。 确认交易。收听到比特币网络的矿工使用Alice的公钥验证交易，确认Alice的钱包中有足够的比特币，并向比特币区块链添加一条包含交易详细信息的新纪录。 将区块链的变更广播给所有矿工。 一旦交易得到确认，该矿工应向所有矿工广播区块链变更，以确保他们的区块链副本全部同步。 区块链技术深度研究 为深入研究区块链技术构建模块，作者系统介绍了公钥密码学，Hash函数和区块链挖掘及安全性等。 公钥密码学 公钥密码学或非对称加密学是任何使用密钥对的加密系统：包括可以广泛传播的公钥，以及只有所有者知道的私钥。 这实现了两个基本功能： 身份验证：公钥验证发送消息的配对私钥的持有者 加密：只有配对的私钥持有者可以解密用公钥加密的消息。 RSA和ECDSA（椭圆曲线数字签名算法）是最流行的公钥加密算法，ECDSA算法用于生成比特币钱包。 为了发送或接收BTC，用户首先生成包含一对私钥和公钥的钱包。 如果Alice想要向Bob发送一定数量的BTC，她会创建一个交易，在该交易中输入她和Bob的公钥以及她想要发送的BTC数量，然后使用她的私钥签署交易。 区块链上的计算机使用Alice的公钥来验证交易是否可信，并将交易写入即将添加到区块链的区块中。 Hash函数和挖掘 所有比特币交易都存储在称为区块的文件中。比特币每10分钟增加一个新的交易区块，将新区块添加到区块链后，它将不可变、无法删除和修改。 网络中一组特殊的参与者称为矿工（连接到区块链的计算机），负责创建新的交易区块。矿工必须使用发件人的公钥对每笔交易进行身份验证，确认发件人有足够的余额用于所请求的交易，并将交易添加到块中。 矿工可以完全自由选择区块中的交易，因此发件人需要包含交易费以激励矿工将他们的交易添加到区块中。 对于区块链接受的区块，需要进行“挖掘”。为了挖掘区块，矿工需要找到一种非常罕见的加密难题解决方案。如果区块链接受了采矿区块，则矿工将获得比特币奖励，这是对交易费用的额外奖励。挖掘过程也称为工作量证明（PoW），它是使区块链无信任和安全的主要机制。 哈希和区块链加密难题 哈希函数是任何可以用来将任意大小的数据映射到固定大小的数据的函数。哈希函数返回的值称为Hash值。哈希函数通常用于通过检测重复的记录来加速数据库查找，它们在密码学中也被广泛使用。 哈希函数允许我们轻松地验证某些输入数据映射到给定的散列值，但是如果输入数据是未知的，那么通过存储的散列值来重构它是很困难的。 比特币使用称为SHA-256的加密哈希函数。SHA-256应用于区块数据（比特币交易）和名为Nonce的数字组合。通过更改区块数据或Nonce，我们得到完全不同的Hash值。&nbsp; 对于被认为有效或“已挖掘”的区块，区块和Nonce的Hash值需要满足特定条件。例如，Hash值的四个前导数字需要等于“0000”。 我们可以通过使条件更复杂来增加挖矿的复杂性，例如我们可以增加Hash值开头0的数量。 矿工需要解决的密码难题是找到一个Nonce值，使Hash值满足挖掘条件。 使用下面的应用程序来模拟区块挖掘。 当你在“Data”文本框中输入或更改Nonce值时，你会注意到Hash值的变化。 当你单击“Mine”按钮时，应用程序从Nonce等于零开始，计算Hash值并检查Hash值的前四位是否等于“0000”。&nbsp; 如果前四位数不等于“0000”，则将Nonce增加1并重复整个过程，直到找到满足条件的Nonce值。如果区块已开采，背景颜色变为绿色。 从区块到区块链 交易按区块分组，区块被附加到区块链。 为了创建一条由区块组成的链，每个新块使用前一个块的Hash值作为其数据的一部分。为了创建新块，矿工选择一组交易，添加前一个块的Hash值开始区块挖掘工作。 对任何区块数据进行的任何更改都将影响其后所有区块的Hash值，并且它们将变为无效，这就是区块链的不变性。 使用下面的应用程序模拟包含3个区块的区块链。 当你在“Data”文本框中输入或更改Nonce值时，你可以注意到当前区块Hash值以及下一区块的“Prev”值（上一个Hash值）的变化。 你可以通过单击每个块的“Mine”按钮来模拟挖矿过程。挖掘出3个区块之后，尝试更改块1或2中的数据，你将注意到之后的所有区块都变为无效。 将区块添加到区块链 比特币网络中的所有矿工互相竞争，以找到一个有效的区块，该区块将被添加到区块链并从网络获得奖励。 虽然找到验证区块Nonce几率很低，但由于矿工的数量很多，网络中矿工验证区块的概率非常高。第一个提交有效区块的矿工将他的区块添加到区块链中并获得比特币的奖励。 如果两个矿工或更多的矿工同时提交，会发生什么呢？ 解决冲突 如果2名矿工几乎同时解决一个区块，那么我们将在网络中有2个不同的区块链，我们需要等待下一个区块来解决冲突。 一些矿工选择在区块链1顶部挖掘，其他矿工选择在区块链2顶部挖掘。 当有矿工找到一个新的区块之后，冲突就被解决了。 如果新区块在区块链1的顶部被挖掘出来，则区块链2变为无效，前一区块的奖励通过区块链1奖励给矿工，区块链2部分和未添加到区块链中的交易将被退回到交易池并添加到下一个块。&nbsp; 简而言之，如果区块链存在冲突，那么最长的链就会获胜。 ﻿﻿ 区块链和双重支付 接下来，详细介绍对区块链进行双重支付攻击的常见形式，以及用户为防止受到损害应采取的措施。 种族攻击：攻击者将相同的硬币快速发送到两个不同的地址。为防止此类攻击，建议在接受付款前等待至少一次区块确认。 芬尼攻击：攻击者使用交易预先挖掘区块，并在释放区块之前在第二个交易中花费相同的币。 在这种情况下，将不验证第二个交易。为防止此类攻击，建议在接受付款前等待至少6次区块确认。 51％攻击：在这类攻击中，攻击者拥有网络51％的算力。攻击者首先向整个网络广播进行交易，然后挖掘一个私有区块链，在那里将上一笔交易的币加倍。由于攻击者拥有大部分算力，因此保证他在某些时候会拥有比正常网络更长的链。然后，他可以发布更长的区块链，取代正常区块链并取消原始交易。这种攻击极不可能，因为它在像比特币这样的区块链网络中非常昂贵。 Python中的区块链实现 在本节中，我们将使用Python实现基本的区块链和区块链客户端。 区块链将具有以下功能： 在区块链中添加多个节点 工作量证明（PoW） 节点之间的简单冲突解决方案 区块链客户端将具有以下功能： 使用公钥/私钥加密生成钱包（基于RSA算法） 使用RSA加密生成交易 还将实现2个显示页： 供矿工使用的“区块链前端” 供用户生成钱包和发送数字货币的“区块链客户端” 本文区块链实现主要参考下面的GitHub项目，作者对原始代码进行了一些修改，以便为交易添加RSA加密。 使用Jupyter notebook生成电子钱包，进行加密交易，使用HTML / CSS / JS2完成2个显示页。 区块链客户端 切换到blockchain_client文件夹下，在终端输入python blockchain_client.py，启动区块链客户端。在浏览器中，转到http：// localhost：8080，你将看到下面的显示页面。 ﻿﻿ 显示页面在导航栏中有3个选项卡： Wallet Generator：使用RSA加密算法生成钱包（公钥/私钥对） Make Transaction：生成交易并将其发送到区块链节点 View Transasctions：查看区块链上的交易 要创建或查看交易，你至少需要运行一个区块链节点。 下面，对blockchain_client.py代码重要的部分进行解释。 定义一个名为Transaction的python类，它有&nbsp;sender_address，sender_private_key，recipient_address&nbsp;和&nbsp;value&nbsp;4个属性。这些是发件人创建交易所需的4条信息。 使用to_dict（）方法以Python字典格式（没有发件人的私钥）返回交易信息。 通过使用 sign_transaction（）方法获取交易信息（没有发件人的私钥），并使用发件人的私钥对其进行签名。 启动一个Python Flask应用程序，使用它来创建不同的API，与区块链及其客户端进行交互。 下面定义3个Flask html页面返回路径，每个标签连接一个html页面。 然后，定义一个生成钱包的API（私钥/公钥对）。 下面定义一个API，将sender_address，sender_private_key，recipient_address，value&nbsp;作为输入项，并返回交易（没有私钥）和签名。 区块链 转到blockchain文件夹从终端启动区块链节点，然后键入python blockchain_client.py或python blockchain_client.py -p &lt;PORT NUMBER&gt;。如果未指定端口号，则默认为端口5000。在浏览器中，转到http：// localhost：&lt;PORT NUMBER&gt;查看区块链前端显示页。 导航栏下显示页有2个选项卡： Mine：用于查看交易和区块链数据，以及挖掘新的交易区块。 Configure：用于配置不同区块链节点之间的连接。 接下来，对blockchain.py代码中重要部分进行解释。 首先定义一个具有以下属性的Blockchain类： transactions：将添加到下一区块的交易列表。 chain：由一系列区块组成的区块链。 nodes：包含节点url的集合。区块链使用这些节点从其他节点检索区块链数据，如果它们不同步则更新其区块链。 node_id：用于标识区块链节点的随机字符串。 Blockchain类还实现了以下方法： register_node（node_url）：将新的区块链节点添加到节点列表中。 verify_transaction_signature(sender_address, signature, transaction)：检查提供的签名是否与公钥（sender_address）签名的交易相对应。 socmit_transaction（sender_address，recipient_address，value，signature）：如果签名已验证，则将交易添加到交易列表中。 create_block（Nonce，previous_hash）：向区块链添加一个包含交易信息的区块。 hash(block)：创建一个区块的SHA-256 Hash值。 proof_of_work()：工作量证明。寻找满足挖掘条件的Nonce。 valid_proof（transactions，last_hash，Nonce，difficulty = MINING_DIFFICULTY）：检查Hash值是否满足挖掘条件，此函数在proof_of_work函数中使用。 valid_chain(chain)：检查区块链是否有效。 resolution_conflicts（）：通过用网络中最长的链替换链来解决区块链节点之间的冲突。 启动一个Python Flask应用程序，使用它创建不同的API以与区块链进行交互。 接下来，启动Blockchain实例。 定义2条返回区块链前端html页面的Flask路径。 下面定义Flask API来管理交易和挖掘区块链。 &#39;/ transactions / new&#39;：此API用来输入 &#39;sender_address&#39;， &#39;recipient_address&#39;，&#39;amount&#39;和&#39;signature&#39;，并将交易添加到签名有效的、可添加到下一区块的交易列表中。 &#39;/ transactions / get&#39;：此API返回可以被添加到下一区块的所有交易。 &#39;/ chain&#39;：此API返回所有区块链数据。 &#39;/ mine&#39;：此API运行工作量证明算法，并将新的交易块添加到区块链中。 下面定义Flask API来管理区块链节点。 &#39;/ nodes / register&#39;：此API将节点URL列表作为输入，并将它们添加到节点列表中。 &#39;/ nodes / resolve&#39;：此API通过用网络中可用的最长链替换本地链来解决区块链节点之间的冲突。 &#39;/ nodes / get&#39;：此API返回节点列表。 原文链接： http://adilmoujahid.com/posts/2018/03/intro-blockchain-bitcoin-python/ 源代码： https://github.com/adilmoujahid/blockchain-python-tutorial 参考资源： 1 - Wikipedia - Public-key cryptography 2 - Wikipedia - Hash function 3 - Bitcoin Stackexchange - What happens to a transaction once generated? 4 - Bitcoin Wiki - Majority attack 5 -&nbsp;比特币白皮书、 6 -&nbsp;比特币维基 7 -&nbsp;Andreas Antonopoulos：Mastering Bitcoin: Programming the Open&nbsp; 最新热文： 80%的人都不知道，ERC-223、ERC-621、ERC-721这些到底说了啥，还好意思说自己懂智能合约？建议收藏 全球近1/5的比特币已经永久丢失！三种方法让你找回丢失的比特币 北大之后又一高校团队区块链大赛夺冠，原来高校才是行业真扫地僧，怕了吗？ | 人物志 未来互联网再不需要中心化服务器了！因为Web3技术栈来了 扫码加入区块链大本营读者群，群满加微信 qk15732632926 入群 了解更多区块链技术及应用内容 敬请关注： 阅读更多","@type":"BlogPosting","url":"https://mlh.app/2018/07/22/82a03ecb3425fe1bbc6538eaf4c625e0.html","headline":"太简单！只学十分钟，Python菜鸟也能开发一个区块链客户端","dateModified":"2018-07-22T00:00:00+08:00","datePublished":"2018-07-22T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2018/07/22/82a03ecb3425fe1bbc6538eaf4c625e0.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>太简单！只学十分钟，Python菜鸟也能开发一个区块链客户端</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css"> 
 <div class="htmledit_views"> 
  <div class="rich_media_content" id="js_content"> 
   <p style="margin-left:8px;min-height:1em;color:rgb(51,51,51);"><span style="font-size:15px;">﻿</span><img style="text-align:center;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUJiaJMaiaXMJ9kPPzlDPDrTmtHRwYj274h2uKrFsgTYMUl5QiaZ9YIXQbg/640?wx_fmt=jpeg" alt="640?wx_fmt=jpeg"></p>
   <h2></h2>
   <p style="margin-left:8px;text-align:justify;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">区块链技术以其去中心化特性成为又一具有颠覆性特征的技术。Python作为一种面向对象的解释型计算机程序设计语言，因其具有丰富和强大的库，常被称为“胶水语言”，简单、易上手，是区块链技术爱好者快速学习区块链的首选之一。</span></strong></p>
   <p><br></p>
   <p style="margin-left:8px;text-align:justify;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">本文作者Adil Moujahid&nbsp;是世界IT服务企业排名前十、日本IT服务企业排名榜首的NTT DATA集团的数据科学家，对Python在区块链方向的应用有着十分深入的研究。</span></strong></p>
   <p><br></p>
   <p style="margin-left:8px;text-align:justify;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">在这篇文章中，Adil Moujahid&nbsp;由双重支付问题引出去中心化支付方案，介绍公钥密码学、Hash函数、挖矿等区块链核心概念，并详细阐述如何产生一个新区快、如何将新区快添加到区块链等问题，最后，利用Python实现基本的区块链和区块链客户端。</span></strong></p>
   <p><br></p>
   <p style="margin-left:8px;text-align:justify;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">在了解区块链的核心概念之后，让Adil Moujahid&nbsp;手把手，教你用Python实现区块链和区块链客户端的实操吧！干货满满！</span></strong></p>
   <p style="margin-left:8px;min-height:1em;color:rgb(51,51,51);"><br></p>
   <p style="margin-left:8px;min-height:1em;color:rgb(51,51,51);"><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">作者 | <span style="font-size:15px;letter-spacing:.5px;text-align:justify;">Adil Moujahid</span></span></p>
   <p style="margin-left:8px;min-height:1em;color:rgb(51,51,51);"><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">编译 | kou、Eli</span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">可以说，</span><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">区块链是自互联网诞生以来最重要和最具颠覆性的技术之一</span></strong><span style="font-size:15px;letter-spacing:.5px;">。作为比特币和其他加密货币背后的核心技术，区块链在过去几年获得了广泛关注。</span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">区块链是一个分布式数据库，允许双方之间直接进行交易，而</span><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">无需第三方权限</span></strong><span style="font-size:15px;letter-spacing:.5px;">，对银行、政府和市场等机构具有很大影响。</span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">任何依赖中心化数据库作为核心竞争优势的企业或组织都可能被区块链技术所颠覆。</span></strong></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">本文分三部分，前两部分介绍区块链的</span><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">核心概念</span></strong><span style="font-size:15px;letter-spacing:.5px;">；第三部分介绍如何利用Python实现区块链以及2个</span><strong><span style="color:rgb(0,122,170);font-size:15px;letter-spacing:.5px;">区块链Web应用程序</span></strong><span style="font-size:15px;letter-spacing:.5px;">，以便终端用户轻松与区块链进行链上交互，效果图如下。</span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_gif/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gU6vibbKyQD7SGe1pGcZNibjFKObarxFYD9JjwH6R8B7Yrz1AdK64qpTag/640?wx_fmt=gif" alt="640?wx_fmt=gif"></p>
   <p><br></p>
   <h1 class="ql-long-10262764"></h1>
   <p style="text-align:center;margin-left:8px;line-height:1.75em;"><strong><span style="letter-spacing:.5px;font-size:18px;color:rgb(0,122,170);"><br></span></strong></p>
   <p style="text-align:center;margin-left:8px;line-height:1.75em;"><strong><span style="letter-spacing:.5px;font-size:18px;color:rgb(0,122,170);">极简的区块链速成教程</span></strong></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">2008年中本聪发布标题为“</span><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">比特币：点对点电子现金系统</span></strong><span style="font-size:15px;letter-spacing:.5px;">” 的比特币白皮书，奠定了区块链的基础。</span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">在最初的比特币白皮书中，</span><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">中本聪描述了如何建立一个点对点电子现金系统，允许不通过中心化机构实现在线支付，直接从一方发送到另一方</span></strong><span style="font-size:15px;letter-spacing:.5px;">。该系统解决了数字货币中一个称为双重支付的重要问题。</span></p>
   <p><br></p>
   <h2 class="ql-long-10262764"></h2>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;letter-spacing:.5px;">什么是双重支付？</span></strong></span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">假设Alice想要支付Bob 1美元。如果Alice和Bob使用实物现金，那么Alice在执行交易后将不再拥有1美元；如果Alice和Bob使用数字货币，那么问题会变得更加复杂。</span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">数字货币以数字形式存在，可以轻松进行复制。例如，如果Alice通过电子邮件向Bob发送价值1美元的数字文件，则</span><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">Bob无法确定Alice是否删除了她的文件副本</span></strong><span style="font-size:15px;letter-spacing:.5px;">，如果Alice仍然拥有1美元数字文件，那么她可以选择将相同的文件发送给Carol。这个问题就叫做双重支付。</span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUEAEKtHRs0E02GsAbFiblWhQkQ26d9ib3KtsxLJfAcJ6UutH9waYDUmQA/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">解决双重支付问题的一种方法是在Alice、Bob和网络中其他参与者之间建立</span><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">可信任的第三方（例如银行）</span></strong><span style="font-size:15px;letter-spacing:.5px;">，该第三方负责管理中心化分类账，而分类账跟踪并验证网络中的所有交易。该解决方案的缺点是，为了使系统运行，它需要信任中心化的第三方。</span></p>
   <p><br></p>
   <h2 class="ql-long-10262764"></h2>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">比特币：双重支付问题的去中心化方案</span></strong></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">为了解决双重支付问题，中本聪提出了一个公共分类账，即</span><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">通过比特币的区块链来跟踪网络中的所有交易</span></strong><span style="font-size:15px;letter-spacing:.5px;">。比特币的区块链具有以下特征：</span></p>
   <p><br></p>
   <ul class="list-paddingleft-2" style="list-style-type:disc;">
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">分布式</span></strong><span style="font-size:15px;letter-spacing:.5px;">：分类帐在多台计算机上复制，而不是存储在中央服务器上。任何具有互联网连接的计算机都可以下载区块链的完整副本。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">加密</span></strong><span style="font-size:15px;letter-spacing:.5px;">：用于确认发送人持有她想要发送的比特币，并决定如何将交易添加到区块链中。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">不可变</span></strong><span style="font-size:15px;letter-spacing:.5px;">：交易只能添加到区块链中，但不能删除或修改。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">工作量证明（PoW）</span></strong><span style="font-size:15px;letter-spacing:.5px;">：网络中一种特殊类型的参与者称为矿工，他们竞争搜索加密难题的解决方案，该解决方案允许他们向比特币的区块链添加一个交易区块，此过程称为工作量证明，它能确保系统安全。</span></p></li>
   </ul>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUmf50JzhOe1KaGMT6ccEBV4x440IA5PRE4I90U8gkhOkqg0mAwrcNJg/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><br><span style="font-size:15px;letter-spacing:.5px;"></span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">发送比特币资金流程如下：</span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <ol class="list-paddingleft-2" style="list-style-type:decimal;">
    <li><p style="text-align:justify;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">创建一个比特币钱包</span></strong><span style="font-size:15px;letter-spacing:.5px;">。用于发送或接收比特币，比特币钱包存储2条信息：私钥和公钥。私钥是一个秘密号码，允许所有者将比特币发送给另一个用户，或者消费比特币。公钥是接收比特币所需的数字。钱包本身不存储比特币，有关比特币余额的信息存储在比特币的区块链中。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">创建比特币交易</span></strong><span style="font-size:15px;letter-spacing:.5px;">。如果Alice想要向Bob发送1个比特币，Alice需要使用她的私钥连接到她的比特币钱包，并创建一个包含她想要发送的比特币数量和地址的交易。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">将交易广播到比特币网络</span></strong><span style="font-size:15px;letter-spacing:.5px;">。一旦Alice创建比特币交易，她需要将此交易广播到整个比特币网络。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">确认交易</span></strong><span style="font-size:15px;letter-spacing:.5px;">。收听到比特币网络的矿工使用Alice的公钥验证交易，确认Alice的钱包中有足够的比特币，并向比特币区块链添加一条包含交易详细信息的新纪录。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">将区块链的变更广播给所有矿工</span></strong><span style="font-size:15px;letter-spacing:.5px;">。 一旦交易得到确认，该矿工应向所有矿工广播区块链变更，以确保他们的区块链副本全部同步。</span></p></li>
   </ol>
   <h1 class="ql-long-10262764"></h1>
   <p style="text-align:center;margin-left:8px;line-height:1.75em;"><br></p>
   <p style="text-align:center;margin-left:8px;line-height:1.75em;"><br></p>
   <p style="text-align:center;margin-left:8px;line-height:1.75em;"><span style="color:rgb(0,122,170);"><strong><span style="letter-spacing:.5px;font-size:18px;">区块链技术深度研究</span></strong></span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">为深入研究区块链技术构建模块，作者系统介绍了公钥密码学，Hash函数和区块链挖掘及安全性等。</span></p>
   <p><br></p>
   <h2 class="ql-long-10262764"></h2>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">公钥密码学</span></strong></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">公钥密码学或非对称加密学是任何使用密钥对的加密系统：包括可以广泛传播的公钥，以及只有所有者知道的私钥。 这实现了两个基本功能：</span></p>
   <p><br></p>
   <ul class="list-paddingleft-2" style="list-style-type:disc;">
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">身份验证</span></strong><span style="font-size:15px;letter-spacing:.5px;">：公钥验证发送消息的配对私钥的持有者</span></p></li>
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">加密</span></strong><span style="font-size:15px;letter-spacing:.5px;">：只有配对的私钥持有者可以解密用公钥加密的消息。</span></p></li>
   </ul>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">RSA和ECDSA（椭圆曲线数字签名算法）是最流行的公钥加密算法，ECDSA算法用于生成比特币钱包。</span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">为了发送或接收BTC，用户首先生成包含一对私钥和公钥的钱包。</span></strong></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">如果Alice想要向Bob发送一定数量的BTC，她会创建一个交易，在该交易中输入她和Bob的公钥以及她想要发送的BTC数量，然后使用她的私钥签署交易。</span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">区块链上的计算机使用Alice的公钥来验证交易是否可信，并将交易写入即将添加到区块链的区块中。</span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUibJwiatqib96qseFriaBloJbkDXG9hibicvWITo1SjLhNQjJZfKCkrDkialvw/640?wx_fmt=jpeg" alt="640?wx_fmt=jpeg"></p>
   <h2 class="ql-long-10262764"></h2>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);"><br></span></strong></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">Hash函数和挖掘</span></strong></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">所有比特币交易都存储在称为区块的文件中。比特币每10分钟增加一个新的交易区块，将新区块添加到区块链后，它将不可变、无法删除和修改。</span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">网络中一组特殊的参与者称为矿工（连接到区块链的计算机），负责创建新的交易区块。</span><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">矿工必须使用发件人的公钥对每笔交易进行身份验证，确认发件人有足够的余额用于所请求的交易，并将交易添加到块中</span></strong><span style="font-size:15px;letter-spacing:.5px;">。</span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">矿工可以完全自由选择区块中的交易，因此发件人需要包含交易费以激励矿工将他们的交易添加到区块中。</span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">对于区块链接受的区块，需要进行“挖掘”。为了挖掘区块，矿工需要找到一种非常罕见的加密难题解决方案。</span><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">如果区块链接受了采矿区块，则矿工将获得比特币奖励，这是对交易费用的额外奖励</span></strong><span style="font-size:15px;letter-spacing:.5px;">。挖掘过程也称为工作量证明（PoW），它是使区块链无信任和安全的主要机制。</span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">哈希和区块链加密难题</span></strong></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">哈希函数是任何可以用来将任意大小的数据映射到固定大小的数据的函数</span></strong><span style="font-size:15px;letter-spacing:.5px;">。哈希函数返回的值称为Hash值。哈希函数通常用于通过检测重复的记录来加速数据库查找，它们在密码学中也被广泛使用。</span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);"><span style="font-size:15px;letter-spacing:.5px;text-align:justify;">哈希函数</span>允许我们轻松地验证某些输入数据映射到给定的散列值，但是如果输入数据是未知的，那么通过存储的散列值来重构它是很困难的。</span></strong></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">比特币使用称为</span><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">SHA-256</span></strong><span style="font-size:15px;letter-spacing:.5px;">的加密哈希函数。SHA-256应用于区块数据（比特币交易）和名为Nonce的数字组合。通过更改区块数据或Nonce，我们得到完全不同的Hash值。&nbsp;</span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;letter-spacing:.5px;">对于被认为有效或“已挖掘”的区块，区块和Nonce的Hash值需要满足特定条件。</span></strong></span><span style="font-size:15px;letter-spacing:.5px;">例如，Hash值的四个前导数字需要等于“0000”。 我们可以通过使条件更复杂来增加挖矿的复杂性，例如我们可以增加Hash值开头0的数量。</span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">矿工需要解决的密码难题是找到一个Nonce值，使Hash值满足挖掘条件。</span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">使用下面的应用程序来模拟区块挖掘</span></strong><span style="font-size:15px;letter-spacing:.5px;">。</span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">当你在“Data”文本框中输入或更改Nonce值时，你会注意到Hash值的变化。 当你单击“Mine”按钮时，应用程序从Nonce等于零开始，计算Hash值并检查Hash值的前四位是否等于“0000”。&nbsp;</span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">如果前四位数不等于“0000”，则将Nonce增加1并重复整个过程，直到找到满足条件的Nonce值</span></strong><span style="font-size:15px;letter-spacing:.5px;">。如果区块已开采，背景颜色变为绿色。</span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><br></p>
   <p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUfeSMyLSoO4MObmpoP8sj1Q5kGP6Lg8cxGSE505HTFyzicaibuibPtSmtw/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><br></p>
   <h2 class="ql-long-10262764"></h2>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">从区块到区块链</span></strong></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;letter-spacing:.5px;">交易按区块分组，区块被附加到区块链。</span></strong></span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">为了创建一条由区块组成的链，每个新块使用前一个块的Hash值作为其数据的一部分。为了创建新块，矿工选择一组交易，添加前一个块的Hash值开始区块挖掘工作。</span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">对任何区块数据进行的任何更改都将影响其后所有区块的Hash值，并且它们将变为无效</span></strong><span style="font-size:15px;letter-spacing:.5px;">，这就是区块链的不变性。</span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><br></p>
   <p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUPgkYVpnq8H9V6O4VJVlbhoKib3lHzSqPXhKmsVbpHXHHIdibBFib1zj3g/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="color:rgb(0,122,170);"><strong><span style="color:rgb(0,122,170);font-size:15px;letter-spacing:.5px;">使用下面的应用程序模拟包含3个区块的区块链。</span></strong></span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">当你在“Data”文本框中输入或更改Nonce值时，你可以注意到当前区块Hash值以及下一区块的“Prev”值（上一个Hash值）的变化。</span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">你可以通过单击每个块的“Mine”按钮来模拟挖矿过程。挖掘出3个区块之后，尝试更改块1或2中的数据，你将注意到之后的所有区块都变为无效。</span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><br></p>
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUX6iajaibWpt8k3pHddzjyMmuiaARwO0IYDohVsOSia3Ricibxy4YMWY6dOGA/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUdfRibWXVZEpkRbHEY3b40qm7zWQwKHxY3JUpn655AKvatd2BJhEbwUQ/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <h2 class="ql-long-10262764"></h2>
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUBDiaf8qIQLmFTekvbznaBalPicliawYwSO3LjDUEjyzlHxXBwM3lUANRQ/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);"></span></strong><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">将区块添加到区块链</span></strong></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,0,0);">比特币网络中的所有矿工互相竞争，以找到一个有效的区块，该区块将被添加到区块链并从网络获得奖励。</span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">虽然找到验证区块Nonce几率很低，但由于矿工的数量很多，网络中矿工验证区块的概率非常高。第一个提交有效区块的矿工将他的区块添加到区块链中并获得比特币的奖励。</span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">如果两个矿工或更多的矿工同时提交，会发生什么呢？</span></strong></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">解决冲突</span></strong></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">如果2名矿工几乎同时解决一个区块，那么我们将在网络中有2个不同的区块链，我们需要等待下一个区块来解决冲突。 一些矿工选择在区块链1顶部挖掘，其他矿工选择在区块链2顶部挖掘。</span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">当有矿工找到一个新的区块之后，冲突就被解决了。</span></strong></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">如果新区块在区块链1的顶部被挖掘出来，则区块链2变为无效，前一区块的奖励通过区块链1奖励给矿工，区块链2部分和未添加到区块链中的交易将被退回到交易池并添加到下一个块。&nbsp;</span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">简而言之，如果区块链存在冲突，那么最长的链就会获胜。</span></strong></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">﻿﻿</span></p>
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUOKU4HIbXZb0FdBNtfQrTJfFDSIaIJ1JFsrXGQAYTsQVwjmjnRkLwicA/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <h2 class="ql-long-10262764"></h2>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);"><br></span></strong></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">区块链和双重支付</span></strong></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">接下来，详细介绍对区块链进行双重支付攻击的常见形式，以及用户为防止受到损害应采取的措施。</span></p>
   <p style="text-align:justify;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <ul class="list-paddingleft-2" style="list-style-type:disc;">
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">种族攻击：</span></strong><span style="font-size:15px;letter-spacing:.5px;">攻击者将相同的硬币快速发送到两个不同的地址。</span><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">为防止此类攻击，建议在接受付款前等待至少一次区块确认</span></strong><span style="font-size:15px;letter-spacing:.5px;">。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">芬尼攻击：</span></strong><span style="font-size:15px;letter-spacing:.5px;">攻击者使用交易预先挖掘区块，并在释放区块之前在第二个交易中花费相同的币。 在这种情况下，将不验证第二个交易。</span><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">为防止此类攻击，建议在接受付款前等待至少6次区块确认</span></strong><span style="font-size:15px;letter-spacing:.5px;">。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">51％攻击：</span></strong><span style="font-size:15px;letter-spacing:.5px;">在这类攻击中，攻击者拥有网络51％的算力。攻击者首先向整个网络广播进行交易，然后挖掘一个私有区块链，在那里将上一笔交易的币加倍。</span></p><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><span style="font-size:15px;letter-spacing:.5px;">由于攻击者拥有大部分算力，因此保证他在某些时候会拥有比正常网络更长的链。然后，他可以发布更长的区块链，取代正常区块链并取消原始交易。</span></p><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">这种攻击极不可能</span></strong><span style="font-size:15px;letter-spacing:.5px;">，因为它在像比特币这样的区块链网络中非常昂贵。</span></p></li>
   </ul>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <h1 class="ql-long-10262764"></h1>
   <p style="text-align:center;margin-left:8px;line-height:1.75em;"><span style="color:rgb(0,122,170);"><strong><span style="letter-spacing:.5px;font-size:18px;">Python中的区块链实现</span></strong></span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">在本节中，我们将使用Python实现基本的区块链和区块链客户端。</span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,0,0);">区块链将具有以下功能：</span></strong></p>
   <p><br></p>
   <ul class="list-paddingleft-2" style="list-style-type:disc;">
    <li><p style="text-align:justify;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">在区块链中添加多个节点</span></strong></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">工作量证明（PoW）</span></strong></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">节点之间的简单冲突解决方案</span></strong></p></li>
   </ul>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;">区块链客户端将具有以下功能：</span></strong></p>
   <p><br></p>
   <ul class="list-paddingleft-2" style="list-style-type:disc;">
    <li><p style="text-align:justify;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">使用公钥/私钥加密生成钱包（基于RSA算法）</span></strong></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">使用RSA加密生成交易</span></strong></p></li>
   </ul>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="color:rgb(0,0,0);"><strong><span style="font-size:15px;letter-spacing:.5px;">还将实现2个显示页：</span></strong></span></p>
   <p><br></p>
   <ul class="list-paddingleft-2" style="list-style-type:disc;">
    <li><p style="text-align:justify;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">供矿工使用的“区块链前端”</span></strong></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">供用户生成钱包和发送数字货币的“区块链客户端”</span></strong></p></li>
   </ul>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">本文区块链实现主要参考下面的GitHub项目，作者对原始代码进行了一些修改，以便为交易添加RSA加密。</span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">使用Jupyter notebook生成电子钱包，进行加密交易，使用HTML / CSS / JS2完成2个显示页。</span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><br></p>
   <h2 class="ql-long-10262764"></h2>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">区块链客户端</span></strong></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">切换到blockchain_client文件夹下，在终端输入</span><em><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">python blockchain_client.py</span></em><span style="font-size:15px;letter-spacing:.5px;">，启动区块链客户端。在浏览器中，转到</span><span style="color:rgb(136,136,136);"><em><span style="font-size:15px;letter-spacing:.5px;">http：// localhost：8080</span></em></span><span style="color:rgb(0,0,0);font-size:15px;letter-spacing:.5px;">，</span><span style="font-size:15px;letter-spacing:.5px;">你将看到下面的显示页面。</span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUQZcsPLCwKKPkzxTGniaXlibf5R6wibNE5ibReRXhce2ICYOricxJ0mc4I4Q/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">﻿﻿</span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">显示页面在导航栏中有3个选项卡：</span></p>
   <p><br></p>
   <ul class="list-paddingleft-2" style="list-style-type:disc;">
    <li><p style="text-align:justify;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">Wallet Generator</span></strong><span style="font-size:15px;letter-spacing:.5px;">：使用RSA加密算法生成钱包（公钥/私钥对）</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">Make Transaction</span></strong><span style="font-size:15px;letter-spacing:.5px;">：生成交易并将其发送到区块链节点</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">View Transasctions</span></strong><span style="font-size:15px;letter-spacing:.5px;">：查看区块链上的交易</span></p></li>
   </ul>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">要创建或查看交易，你至少需要运行一个区块链节点。</span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">下面，对blockchain_client.py代码重要的部分进行解释。</span></p>
   <p><br></p>
   <p style="text-align:left;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">定义一个名为Transaction的python类，它有&nbsp;</span><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);"><em>sender_address，sender_private_key，recipient_address&nbsp;</em></span><span style="font-size:15px;letter-spacing:.5px;">和&nbsp;</span><em><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">value</span></em><span style="font-size:15px;letter-spacing:.5px;">&nbsp;4个属性。这些是发件人创建交易所需的4条信息。</span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">使用</span><em><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">to_dict（）</span></em><span style="font-size:15px;letter-spacing:.5px;">方法以Python字典格式（没有发件人的私钥）返回交易信息。</span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">通过使用</span><em><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);"> sign_transaction（）</span></em><span style="font-size:15px;letter-spacing:.5px;">方法获取交易信息（没有发件人的私钥），并使用发件人的私钥对其进行签名。</span></p>
   <p><br></p>
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUCRJ4PqibskKibP3deSC15d3DINYb0YFBXibYNRWkJzZJVhzcVE1kq0FJQ/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">启动一个Python Flask应用程序，使用它来创建不同的API，与区块链及其客户端进行交互。</span></p>
   <p><br></p>
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUqumNCiamybxGGKVUIcPNALqlu9KaqcSic4bZKqDoL4rcjW9iclmyFhjOA/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">下面定义3个Flask html页面返回路径，每个标签连接一个html页面。</span></p>
   <p><br></p>
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUhKknKoADicLTZj4yMeXaoFQWzSDflds8ZJ3SkdthwRTLxAaJ9oIB4Bw/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">然后，定义一个生成钱包的API（私钥/公钥对）。</span></p>
   <p><br></p>
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUXPl85evG7s7pt8sAC2qibIvmEBna6R1xJcSWrwGqv1a6ckZibKgNgQBw/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_gif/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUJXTmmbQ4kicxbibicAt6FkQeHEOUmfcuVszL4tcodnaDAqibsfeINPvoTQ/640?wx_fmt=gif" alt="640?wx_fmt=gif"><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><br><span style="font-size:15px;letter-spacing:.5px;"></span></p>
   <p style="text-align:left;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">下面定义一个API，将</span><em><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">sender_address，sender_private_key，recipient_address，value&nbsp;</span></em><span style="font-size:15px;letter-spacing:.5px;">作为输入项，并返回交易（没有私钥）和签名。</span></p>
   <p><br></p>
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUiash6ImK20XzfPT0CDTWNhbos9W4uVodJ0ntByEK7DjRbf7KzP97p3Q/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_gif/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUiaD5MJc6WWEWH8pt3aHmyyVHDTmU6icGN7B5fk7jhhymDTvHSibLXDiaQw/640?wx_fmt=gif" alt="640?wx_fmt=gif"></p>
   <p><br></p>
   <h2 class="ql-long-10262764"></h2>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">区块链</span></strong></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">转到blockchain文件夹从终端启动区块链节点，然后键入</span><em><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">python blockchain_client.py</span></em><span style="font-size:15px;letter-spacing:.5px;">或</span><em><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">python blockchain_client.py -p &lt;PORT NUMBER&gt;</span></em><span style="font-size:15px;letter-spacing:.5px;">。如果未指定端口号，则默认为端口5000。在浏览器中，转到</span><em><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">http：// localhost：&lt;PORT NUMBER&gt;</span></em><span style="font-size:15px;letter-spacing:.5px;">查看区块链前端显示页。</span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUqmZGCfweDwTjjqnEjxpiaamoTVbcda60UHEXr3gnESe2WRTj296q7PQ/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">导航栏下显示页有2个选项卡：</span></p>
   <p><br></p>
   <ul class="list-paddingleft-2" style="list-style-type:disc;">
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">Mine</span></strong><span style="font-size:15px;letter-spacing:.5px;">：用于查看交易和区块链数据，以及挖掘新的交易区块。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">Configure</span></strong><span style="font-size:15px;letter-spacing:.5px;">：用于配置不同区块链节点之间的连接。</span></p></li>
   </ul>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">接下来，对blockchain.py代码中重要部分进行解释。</span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">首先定义一个具有以下属性的Blockchain类：</span></p>
   <p><br></p>
   <ul class="list-paddingleft-2" style="list-style-type:disc;">
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><span style="color:rgb(0,122,170);"><strong><span style="color:rgb(0,122,170);font-size:15px;letter-spacing:.5px;">transactions</span></strong></span><span style="font-size:15px;letter-spacing:.5px;">：将添加到下一区块的交易列表。</span></p></li>
   </ul>
   <p><br></p>
   <ul class="list-paddingleft-2" style="list-style-type:disc;">
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;letter-spacing:.5px;">chain</span></strong></span><span style="font-size:15px;letter-spacing:.5px;">：由一系列区块组成的区块链。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">nodes</span></strong><span style="font-size:15px;letter-spacing:.5px;">：包含节点url的集合。区块链使用这些节点从其他节点检索区块链数据，如果它们不同步则更新其区块链。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">node_id</span></strong><span style="font-size:15px;letter-spacing:.5px;">：用于标识区块链节点的随机字符串。</span></p></li>
   </ul>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">Blockchain类还实现了以下方法：</span></p>
   <p><br></p>
   <ul class="list-paddingleft-2" style="list-style-type:disc;">
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">register_node（node_url）</span></strong><span style="font-size:15px;letter-spacing:.5px;">：将新的区块链节点添加到节点列表中。</span></p><p><br></p></li>
    <li><p style="text-align:left;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">verify_transaction_signature(sender_address, signature, transaction)</span></strong><span style="color:rgb(0,0,0);font-size:15px;letter-spacing:.5px;">：</span><span style="font-size:15px;letter-spacing:.5px;">检查提供的签名是否与公钥（sender_address）签名的交易相对应。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">socmit_transaction（sender_address，recipient_address，value，signature）</span></strong><span style="font-size:15px;letter-spacing:.5px;">：如果签名已验证，则将交易添加到交易列表中。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">create_block（Nonce，previous_hash）</span></strong><span style="font-size:15px;letter-spacing:.5px;">：向区块链添加一个包含交易信息的区块。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">hash(block)</span></strong><span style="font-size:15px;letter-spacing:.5px;">：创建一个区块的SHA-256 Hash值。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">proof_of_work()</span></strong><span style="font-size:15px;letter-spacing:.5px;">：工作量证明。寻找满足挖掘条件的Nonce。</span></p><p><br></p></li>
    <li><p style="text-align:left;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">valid_proof（transactions，last_hash，Nonce，difficulty = MINING_DIFFICULTY）</span></strong><span style="font-size:15px;letter-spacing:.5px;">：检查Hash值是否满足挖掘条件，此函数在proof_of_work函数中使用。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">valid_chain(chain)</span></strong><span style="font-size:15px;letter-spacing:.5px;">：检查区块链是否有效。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">resolution_conflicts（）</span></strong><span style="font-size:15px;letter-spacing:.5px;">：通过用网络中最长的链替换链来解决区块链节点之间的冲突。</span></p></li>
   </ul>
   <p style="text-align:justify;line-height:1.75em;margin-left:8px;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="text-align:center;margin-left:8px;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gU2zpkUoK95cCmPy0DKOxJo7Ebib30ov06Zv2KBMlBnFcicpibnUHGuXVgQ/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gU0iaicZbQXg50aZ6jnia8AlR0S0eSRE4WHibsALpGEvWYXNjQfl8eoEW7EQ/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUoXR6V37NWBoVHdeBx3tYfxHHhiaxJicy3ettI6nvsl26jL4Qqc31WEKg/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"></span><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">启动一个Python Flask应用程序，使用它创建不同的API以与区块链进行交互。</span></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"></span></p>
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUno8Z4bUND1WWjOBDnqYMxUnbD83ES5lq11g8150vO98ib73Z0f4Zo3Q/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><br><span style="font-size:15px;letter-spacing:.5px;"></span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">接下来，启动Blockchain实例。</span></p>
   <p><br></p>
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUG1DPEl3MePzuFEBb2nLlIBWiboRicKrtnLicSy5ViaJaR0ACvPHp99RnSg/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">定义2条返回区块链前端html页面的Flask路径。</span></p>
   <p><br></p>
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUO8jMdDI2IcsQXcQPyZGAOk445X37IGCzbYybkAno1czUy97vAYldibQ/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">下面定义Flask API来管理交易和挖掘区块链。</span></p>
   <p><br></p>
   <ul class="list-paddingleft-2" style="list-style-type:disc;">
    <li><p style="text-align:left;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">'/ transactions / new'</span></strong><span style="font-size:15px;letter-spacing:.5px;">：此API用来输入 'sender_address'， 'recipient_address'，'amount'和'signature'，并将交易添加到签名有效的、可添加到下一区块的交易列表中。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">'/ transactions / get'</span></strong><span style="font-size:15px;letter-spacing:.5px;">：此API返回可以被添加到下一区块的所有交易。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">'/ chain'</span></strong><span style="font-size:15px;letter-spacing:.5px;">：此API返回所有区块链数据。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">'/ mine'</span></strong><span style="font-size:15px;letter-spacing:.5px;">：此API运行工作量证明算法，并将新的交易块添加到区块链中。</span></p></li>
   </ul>
   <p><br></p>
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUumtxdyDA3HbNyVryWbJDzbOdtsTJoSM1ZNB0YvXSicXOxdbUr8H5KZw/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUmZmThdKyDz4Y3ic4tp8bZtLqSZUCVt7v3YOBtrAlCfZUQvnYYFV2TvA/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_gif/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUJdrLq1ndL3ZeNbrDHWnia3ZcJEmNnoGxGtkwG4ic1hv5rzyyFb4apficg/640?wx_fmt=gif" alt="640?wx_fmt=gif"></p>
   <p><br></p>
   <p style="text-align:justify;margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;">下面定义Flask API来管理区块链节点。</span></p>
   <p><br></p>
   <ul class="list-paddingleft-2" style="list-style-type:disc;">
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">'/ nodes / register'</span></strong><span style="font-size:15px;letter-spacing:.5px;">：此API将节点URL列表作为输入，并将它们添加到节点列表中。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><span style="color:rgb(0,122,170);"><strong><span style="font-size:15px;letter-spacing:.5px;">'/ nodes / resolve'</span></strong></span><span style="font-size:15px;letter-spacing:.5px;">：此API通过用网络中可用的最长链替换本地链来解决区块链节点之间的冲突。</span></p><p><br></p></li>
    <li><p style="text-align:justify;line-height:1.75em;margin-left:8px;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);">'/ nodes / get'</span></strong><span style="font-size:15px;letter-spacing:.5px;">：此API返回节点列表。</span></p></li>
   </ul>
   <p><br></p>
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gUATgIu8JvZjwN7QLmLVWiccn5gWaXWMKicazGwsXZwqTIPrRt5dPGMlqQ/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gURjay5FZel8yAxpgeu2iavYbrvEnjsMpNRtsLXHgqVficG6TMntRBCj4Q/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="text-align:center;"><img style="width:558px;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_gif/trm5VMeFp9mibjNZkzTDnegSVicxic3E2gU9icoj2eUqBpNJ6m5YX8OZs07UMY3Oa3DzAONaU2ZCfx95sulgicT2FtA/640?wx_fmt=gif" alt="640?wx_fmt=gif"></p>
   <p><br></p>
   <p><br></p>
   <p style="margin-left:8px;text-align:justify;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><br></span></p>
   <blockquote>
    <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">原文链接：</span></p>
    <p style="margin-left:8px;line-height:1.75em;"><em><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">http://adilmoujahid.com/posts/2018/03/intro-blockchain-bitcoin-python/</span></em></p>
    <p style="margin-left:8px;line-height:1.75em;"><br></p>
    <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">源代码：</span></p>
    <p style="margin-left:8px;line-height:1.75em;"><em><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">https://github.com/adilmoujahid/blockchain-python-tutorial</span></em></p>
    <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);"><br></span></p>
    <p style="margin-left:8px;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">参考资源：</span></p>
    <p style="margin-left:8px;line-height:1.75em;"><strong><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);"></span></strong></p>
    <p style="margin-left:8px;text-align:left;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><em><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">1 - Wikipedia - Public-key cryptography</span></em></span></p>
    <p style="margin-left:8px;text-align:left;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><em><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">2 - Wikipedia - Hash function</span></em></span></p>
    <p style="margin-left:8px;text-align:left;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><em><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">3 - Bitcoin Stackexchange - What happens to a transaction once generated?</span></em></span></p>
    <p style="margin-left:8px;text-align:left;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><em><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">4 - <span style="font-size:15px;letter-spacing:.5px;text-align:justify;">Bitcoin Wiki - Majority attack</span></span></em></span></p>
    <p style="margin-left:8px;text-align:justify;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><em><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">5 -&nbsp;比特币白皮书、</span></em></span></p>
    <p style="margin-left:8px;text-align:justify;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><em><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">6 -&nbsp;比特币维基</span></em></span></p>
    <p style="margin-left:8px;text-align:justify;line-height:1.75em;"><span style="font-size:15px;letter-spacing:.5px;"><em><span style="font-size:15px;letter-spacing:.5px;color:rgb(136,136,136);">7 -&nbsp;Andreas Antonopoulos：Mastering Bitcoin: Programming the Open&nbsp;</span></em></span></p>
    <p style="margin-left:8px;line-height:1.75em;text-align:left;"><span style="text-align:justify;color:rgb(136,136,136);font-size:15px;letter-spacing:.5px;"></span></p>
   </blockquote>
   <p style="margin-left:8px;font-size:18px;line-height:1.75em;"><br></p>
   <p style="margin-left:8px;font-size:18px;line-height:1.75em;"><br></p>
   <p style="margin-left:8px;min-height:1em;font-size:18px;line-height:1.75em;"><span style="letter-spacing:.5px;font-size:15px;"><strong>最新热文：</strong></span></p>
   <ul class="list-paddingleft-2" style="list-style-type:disc;">
    <li><p style="min-height:1em;line-height:1.75em;text-align:justify;"><a href="http://mp.weixin.qq.com/s?__biz=MzU2MTE1NDk2Mg==&amp;mid=2247487363&amp;idx=1&amp;sn=d43d011a7b488a63862dd43cabfab5d2&amp;chksm=fc7c517ecb0bd86810eb4f56ae4f5fe199fabca20eee13c1e3d4b9d459c28b0b9c99482dcee8&amp;scene=21#wechat_redirect" rel="nofollow" style="font-size:15px;text-decoration:underline;letter-spacing:.5px;color:rgb(0,122,170);"><span style="letter-spacing:.5px;color:rgb(0,122,170);"><strong>80%的人都不知道，ERC-223、ERC-621、ERC-721这些到底说了啥，还好意思说自己懂智能合约？建议收藏</strong></span></a><br></p></li>
    <li><p style="min-height:1em;line-height:1.75em;text-align:justify;"><a href="http://mp.weixin.qq.com/s?__biz=MzU2MTE1NDk2Mg==&amp;mid=2247487353&amp;idx=1&amp;sn=bd381b6b532c48c71733ecea26b5759d&amp;chksm=fc7c5184cb0bd892e642c39ad09459e3a9b0355415450a6757e2665a007963dbc1e5c4c8185c&amp;scene=21#wechat_redirect" rel="nofollow" style="text-decoration:underline;font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);"><span style="font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);"><strong>全球近1/5的比特币已经永久丢失！三种方法让你找回丢失的比特币</strong></span></a><br></p></li>
    <li><p style="min-height:1em;line-height:1.75em;"><a href="http://mp.weixin.qq.com/s?__biz=MzU2MTE1NDk2Mg==&amp;mid=2247487335&amp;idx=1&amp;sn=222c8d9b3d0daa44e1195e307b7a0618&amp;chksm=fc7c519acb0bd88c9f676b89857bb5b0c22e2d6364a3e98ebd6e55a7c6853450e0826cb63a3f&amp;scene=21#wechat_redirect" rel="nofollow" style="text-decoration:underline;font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);"><span style="letter-spacing:.5px;color:rgb(0,122,170);"><strong>北大之后又一高校团队区块链大赛夺冠，原来高校才是行业真扫地僧，怕了吗？ | 人物志</strong></span></a><br></p></li>
    <li><p style="min-height:1em;text-align:justify;line-height:1.75em;"><a href="http://mp.weixin.qq.com/s?__biz=MzU2MTE1NDk2Mg==&amp;mid=2247487304&amp;idx=1&amp;sn=6a6ba500acf9c37f7b9117e7f0e61fb0&amp;chksm=fc7c51b5cb0bd8a3441839366c692bb6574c7aecd2731bab77482a6e332805272cc70f65d804&amp;scene=21#wechat_redirect" rel="nofollow" style="text-decoration:underline;font-size:15px;letter-spacing:.5px;color:rgb(0,122,170);"><span style="letter-spacing:.5px;color:rgb(0,122,170);"><strong>未来互联网再不需要中心化服务器了！因为Web3技术栈来了</strong></span></a><br></p></li>
   </ul>
   <p style="min-height:1em;"><br></p>
   <p style="min-height:1em;"><br></p>
   <p style="margin-left:8px;min-height:1em;color:rgb(51,51,51);text-align:center;"><img src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/trm5VMeFp9lTVEcZP39FP7gZ0p50csZrm2bpIBetcJl6WZRnb4q1EDicNjp6ooCFib1gV469JX5BDNz1nb8RqG5g/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="margin-left:8px;min-height:1em;color:rgb(51,51,51);text-align:center;"><span style="color:rgb(63,63,63);letter-spacing:.5px;font-size:15px;"><strong>扫码加入区块链大本营读者群，群满加微信 qk15732632926 入群</strong></span></p>
   <p style="min-height:1em;color:rgb(51,51,51);"><br></p>
   <p style="min-height:1em;color:rgb(51,51,51);"><br></p>
   <p style="margin-left:8px;min-height:1em;color:rgb(51,51,51);"><span style="letter-spacing:.5px;font-size:15px;"><strong><span style="color:rgb(0,122,170);"></span></strong></span></p>
   <p style="min-height:1em;color:rgb(51,51,51);"><img class="__bg_gif" style="margin-left:auto;line-height:28px;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_gif/trm5VMeFp9kuuGYcoeg06IYM4TSEE1eCF4aiadptTMnNFDia5JfEBLuUslraYtDcYbKr2b4takjM2MfqeZYcVqkQ/640?wx_fmt=gif" alt="640?wx_fmt=gif"></p>
   <p style="min-height:1em;color:rgb(51,51,51);"><br></p>
   <p style="min-height:1em;color:rgb(51,51,51);"><br></p>
   <p style="margin-left:8px;min-height:1em;color:rgb(51,51,51);text-align:center;"><span style="letter-spacing:.5px;font-size:15px;"><strong><span style="color:rgb(0,122,170);">了解更多区块链技术及应用内容</span></strong></span></p>
   <p style="margin-left:8px;min-height:1em;color:rgb(51,51,51);text-align:center;"><span style="letter-spacing:.5px;font-size:15px;"><strong><span style="color:rgb(0,122,170);">敬请关注：</span></strong></span></p>
   <p style="margin-left:8px;min-height:1em;color:rgb(51,51,51);text-align:center;"><img class="__bg_gif" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_gif/trm5VMeFp9kegUbp0DLNf5dM2JbggFlThJvvibDiaEicHicPaTJV6oOMMWYZynQZcNupmQJIbPAdlVhT8PeicsKaFMQ/640?wx_fmt=gif" alt="640?wx_fmt=gif"></p> 
  </div> 
 </div> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/Blockchain_lemon/article/details/81161449,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/Blockchain_lemon/article/details/81161449,&quot;}">阅读更多</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0d1dbe5a3e5863242418b768d1601633";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
