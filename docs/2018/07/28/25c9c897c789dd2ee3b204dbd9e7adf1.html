<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>EOS Cleos 命令汇总 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="EOS Cleos 命令汇总" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="获取所有命令 命令格式：$ cleos cleos包含所有命令的文档。有关cleos已知的所有命令的列表，只需简单地运行它，不带任何参数： $ cleos ERROR: RequiredError: Subcommand required Command Line Interface to EOSIO Client Usage: cleos [OPTIONS] SUBCOMMAND Options: -h,--help 打印帮助信息并且退出 -u,--url TEXT=http://localhost:8888/ nodeos 运行的http/https URL --wallet-url TEXT=http://localhost:8888/ keosd运行的 http/https URL -v,--verbose 输出对错误的详细操作 子命令: version 返回版本信息 create 在区块链上和区域外创建数据 get 从区块链中检索各种数据和信息 set 设置或更新区块链状态 transfer 从账户到账户转移EOS net 与本地p2p网络连接进行交互 wallet 与本地钱包互动 sign 签署交易 push 将任意事务推送到区块链 multisig Multisig合约命令 system 将eosio.system合约行为发送到区块链。 获取所有子命令 命令格式： $ cleos ${command} 要获得有关任何特定子命令的帮助，请使用无参数运行它： $ cleos create ERROR: RequiredError: Subcommand required Create various items, on and off the blockchain Usage: ./cleos create SUBCOMMAND Subcommands: key Create a new keypair and print the public and private keys account Create a new account on the blockchain producer Create a new producer on the blockchain $ cleos create account ERROR: RequiredError: creator Create a new account on the blockchain Usage: ./cleos create account creator name OwnerKey ActiveKey Positionals: creator TEXT The name of the account creating the new account name TEXT The name of the new account OwnerKey TEXT The owner public key for the account ActiveKey TEXT The active public key for the account 链接节点 命令格式：$ cleos --url ${node}:${port} 这会将你连接到本地节点 $ cleos -u localhost:8889 $ cleos --url localhost:8889 你还可以调整节点参数以连接到其他节点，例如公共测试网 $ cleos -H test1.eos.io -p 80 注意 你需要在每个请求中包含-H和-p参数来解决问题 查询区块链状态 命令格式：$ cleos get info $ cleos get info { &quot;server_version&quot;: &quot;7451e092&quot;, &quot;head_block_num&quot;: 6980, &quot;last_irreversible_block_num&quot;: 6963, &quot;head_block_id&quot;: &quot;00001b4490e32b84861230871bb1c25fb8ee777153f4f82c5f3e4ca2b9877712&quot;, &quot;head_block_time&quot;: &quot;2017-12-07T09:18:48&quot;, &quot;head_block_producer&quot;: &quot;initp&quot;, &quot;recent_slots&quot;: &quot;1111111111111111111111111111111111111111111111111111111111111111&quot;, &quot;participation_rate&quot;: &quot;1.00000000000000000&quot; } 通过transaction_id获取交易 命令格式：$ cleos get transaction ${transaction_id} 通过在nodeos中加载account_history_api_plugin，我们可以使用transaciton_id查询特定事务 $ cleos get transaction eb4b94b72718a369af09eb2e7885b3f494dd1d8a20278a6634611d5edd76b703 { &quot;transaction_id&quot;: &quot;eb4b94b72718a369af09eb2e7885b3f494dd1d8a20278a6634611d5edd76b703&quot;, &quot;processed&quot;: { &quot;refBlockNum&quot;: 2206, &quot;refBlockPrefix&quot;: 221394282, &quot;expiration&quot;: &quot;2017-09-05T08:03:58&quot;, &quot;scope&quot;: [ &quot;inita&quot;, &quot;tester&quot; ], &quot;signatures&quot;: [ &quot;1f22e64240e1e479eee6ccbbd79a29f1a6eb6020384b4cca1a958e7c708d3e562009ae6e60afac96f9a3b89d729a50cd5a7b5a7a647540ba1678831bf970e83312&quot; ], &quot;messages&quot;: [{ &quot;code&quot;: &quot;eos&quot;, &quot;type&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [{ &quot;account&quot;: &quot;inita&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;inita&quot;, &quot;to&quot;: &quot;tester&quot;, &quot;amount&quot;: 1000, &quot;memo&quot;: &quot;&quot; }, &quot;hex_data&quot;: &quot;000000008040934b00000000c84267a1e80300000000000000&quot; } ], &quot;output&quot;: [{ &quot;notify&quot;: [{ &quot;name&quot;: &quot;tester&quot;, &quot;output&quot;: { &quot;notify&quot;: [], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } },{ &quot;name&quot;: &quot;inita&quot;, &quot;output&quot;: { &quot;notify&quot;: [], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } } ], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } ] } } 通过帐户获取交易 命令格式：$ cleos get transaction ${account} 我们也可以查询某个账户从最近一个账户开始执行的交易清单 $ cleos get transactions inita [ { &quot;transaction_id&quot;: &quot;eb4b94b72718a369af09eb2e7885b3f494dd1d8a20278a6634611d5edd76b703&quot;, ... }, { &quot;transaction_id&quot;: &quot;6acd2ece68c4b86c1fa209c3989235063384020781f2c67bbb80bc8d540ca120&quot;, ... }, ... ] 转账EOS 命令格式：$ cleos transfer ${from_account} ${to_account} ${quantity} $ cleos transfer inita tester 1000 { &quot;transaction_id&quot;: &quot;eb4b94b72718a369af09eb2e7885b3f494dd1d8a20278a6634611d5edd76b703&quot;, &quot;processed&quot;: { &quot;refBlockNum&quot;: 2206, &quot;refBlockPrefix&quot;: 221394282, &quot;expiration&quot;: &quot;2017-09-05T08:03:58&quot;, &quot;scope&quot;: [ &quot;inita&quot;, &quot;tester&quot; ], &quot;signatures&quot;: [ &quot;1f22e64240e1e479eee6ccbbd79a29f1a6eb6020384b4cca1a958e7c708d3e562009ae6e60afac96f9a3b89d729a50cd5a7b5a7a647540ba1678831bf970e83312&quot; ], &quot;messages&quot;: [{ &quot;code&quot;: &quot;eos&quot;, &quot;type&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [{ &quot;account&quot;: &quot;inita&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;inita&quot;, &quot;to&quot;: &quot;tester&quot;, &quot;amount&quot;: 1000, &quot;memo&quot;: &quot;&quot; }, &quot;hex_data&quot;: &quot;000000008040934b00000000c84267a1e80300000000000000&quot; } ], &quot;output&quot;: [{ &quot;notify&quot;: [{ &quot;name&quot;: &quot;tester&quot;, &quot;output&quot;: { ... } },{ &quot;name&quot;: &quot;inita&quot;, &quot;output&quot;: { ... } } ], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } ] } } 创建钱包 创建钱包时不指定名称，钱包将使用名称’default’ 命令格式：$ cleos wallet create {-n} ${wallet_name} $ cleos wallet create Creating wallet: default Save password to use in the future to unlock this wallet. Without password imported keys will not be retrievable. &quot;PW5JD9cw9YY288AXPvnbwUk5JK4Cy6YyZ83wzHcshu8F2akU9rRWE&quot; 你可以在命令中添加-n ${wallet_name}命名钱包 $ cleos wallet create -n second-wallet Creating wallet: second-wallet Save password to use in the future to unlock this wallet. Without password imported keys will not be retrievable. &quot;PW5Ji6JUrLjhKAVn68nmacLxwhvtqUAV18J7iycZppsPKeoGGgBEw&quot; 钱包列表 命令格式：$ cleos wallet list 列表钱包命令将列出每个钱包状态的所有钱包，*符号表示钱包当前已解锁。 $ cleos wallet list Wallets: [ &quot;default *&quot;, &quot;second-wallet *&quot; ] 导入账户密钥 命令格式：$ cleos wallet import ${key} 注意: 如果你没有持有账户密钥，则需要使用create account命令先创建账户密钥。 $ cleos wallet import 5KQwrPbwdL6PhXujxW37FSSQZ1JiwsST4cqQzDeyXtP79zkvFD3 imported private key for: EOS6MRyAjQq8ud7hVNYcfnVPJqcVpscN5So8BhtHuGYqET5GDW5CV 列出钱包密钥 命令格式：$ cleos wallet keys 这将列出公钥中存储在钱包中的所有密钥。 $ cleos wallet keys [[ &quot;EOS6MRyAjQq8ud7hVNYcfnVPJqcVpscN5So8BhtHuGYqET5GDW5CV&quot;, &quot;5KQwrPbwdL6PhXujxW37FSSQZ1JiwsST4cqQzDeyXtP79zkvFD3&quot; ] ] 加锁钱包 命令格式：$ cleos wallet lock -n ${wallet_name} $ cleos wallet lock -n second-wallet Locked: &#39;second-wallet&#39; 注意锁定的钱包在列表中没有*符号 $ cleos wallet list Wallets: [ &quot;default *&quot;, &quot;second-wallet&quot; ] 解锁钱包 命令格式：$ cleos wallet unlock -n ${wallet_name} --password ${password} 要解锁它，请指定创建钱包时获得的密码 $ cleos wallet unlock -n second-wallet --password PW5Ji6JUrLjhKAVn68nmacLxwhvtqUAV18J7iycZppsPKeoGGgBEw Unlocked: &#39;second-wallet&#39; 打开钱包 命令格式：$ cleos wallet open $ cleos wallet open Wallets: [ &quot;default&quot; ] $ cleos wallet open -n second-wallet Wallets: [ &quot;default&quot;, &quot;second-wallet&quot; ] 创建密钥 命令格式：$ cleos create key 为了创建一个帐户，你需要两个新的密钥：所有者和主动。你可以要求cleos为你创建一些钥匙： 这将是你的Owner Key， $ cleos create key public: EOS4toFS3YXEQCkuuw1aqDLrtHim86Gz9u3hBdcBw5KNPZcursVHq private: 5JKbLfCXgcafDQVwHMm3shHt6iRWgrr9adcmt6vX3FNjAEtJGaT 这将是你的主动键， $ cleos create key public: EOS7d9A3uLe6As66jzN8j44TXJUqJSK3bFjjEEqR4oTvNAB3iM9SA private: 5Hv22aPcjnENBv6X9o9nKGdkfrW44En6z4zJUt2PobAvbQXrT9z 注意：cleos不保存生成的私钥。 创建帐号 命令格式：$ cleos create account ${control_account} ${account_name} ${owner_public_key} ${active_public_key} 你将需要你的EOS密钥才能创建帐户，你必须在Ethereum网络上注册你的EOS密钥，或者你可以使用创建密钥功能创建一组新密钥 $ cleos create account inita tester EOS4toFS3YXEQCkuuw1aqDLrtHim86Gz9u3hBdcBw5KNPZcursVHq EOS7d9A3uLe6As66jzN8j44TXJUqJSK3bFjjEEqR4oTvNAB3iM9SA { &quot;transaction_id&quot;: &quot;6acd2ece68c4b86c1fa209c3989235063384020781f2c67bbb80bc8d540ca120&quot;, &quot;processed&quot;: { &quot;refBlockNum&quot;: &quot;25217&quot;, &quot;refBlockPrefix&quot;: &quot;2095475630&quot;, &quot;expiration&quot;: &quot;2017-07-25T17:54:55&quot;, &quot;scope&quot;: [ &quot;eos&quot;, &quot;inita&quot; ], &quot;signatures&quot;: [], &quot;messages&quot;: [{ &quot;code&quot;: &quot;eos&quot;, &quot;type&quot;: &quot;newaccount&quot;, &quot;authorization&quot;: [{ &quot;account&quot;: &quot;inita&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;c9251a0000000000b44c5a2400000000010000000102bcca6347d828d4e1868b7dfa91692a16d5b20d0ee3d16a7ca2ddcc7f6dd03344010000010000000102bcca6347d828d4e1868b7dfa91692a16d5b20d0ee3d16a7ca2ddcc7f6dd03344010000010000000001c9251a000000000061d0640b000000000100010000000000000008454f5300000000&quot; } ], &quot;output&quot;: [{ &quot;notify&quot;: [], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } ] } } 子帐户 命令格式：$ cleos get servants ${account_name} 要检查由帐户（控制帐户）创建的子帐户 $ cleos get servants inita { &quot;controlled_accounts&quot;: [ &quot;tester&quot; ] } 检查帐户余额 命令格式：$ cleos get account ${account_name} $ cleos get account tester { &quot;name&quot;: &quot;tester&quot;, &quot;eos_balance&quot;: 0, &quot;staked_balance&quot;: 1, &quot;unstaking_balance&quot;: 0, &quot;last_unstaking_time&quot;: &quot;1969-12-31T23:59:59&quot;, &quot;permissions&quot;: [{ &quot;name&quot;: &quot;active&quot;, &quot;parent&quot;: &quot;owner&quot;, &quot;required_auth&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [{ &quot;key&quot;: &quot;EOS7d9A3uLe6As66jzN8j44TXJUqJSK3bFjjEEqR4oTvNAB3iM9SA&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [] } },{ &quot;name&quot;: &quot;owner&quot;, &quot;parent&quot;: &quot;owner&quot;, &quot;required_auth&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [{ &quot;key&quot;: &quot;EOS4toFS3YXEQCkuuw1aqDLrtHim86Gz9u3hBdcBw5KNPZcursVHq&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [] } } ] } 创建或修改权限 命令格式：$ cleos set account permission ${permission} ${account} ${permission_json} ${account_authority} 要修改帐户的权限，你必须拥有该帐户的权限和你正在修改的权限。设置帐户权限命令可能会更改，因此它关联的类没有完整记录。 $ cleos set account permission test active &#39;{&quot;threshold&quot; : 1, &quot;keys&quot; : [{&quot;permission&quot;:{&quot;key&quot;:&quot;EOS8X7Mp7apQWtL6T2sfSZzBcQNUqZB7tARFEm9gA9Tn9nbMdsvBB&quot;,&quot;permission&quot;:&quot;active&quot;},&quot;weight&quot;:1}], &quot;accounts&quot; : [{&quot;permission&quot;:{&quot;actor&quot;:&quot;acc2&quot;,&quot;permission&quot;:&quot;active&quot;},&quot;weight&quot;:50}]}&#39; owner 第二个示例修改相同的帐户权限，但删除上一个示例中的密钥集，并将@test帐户的活动权限授予另一个帐户。 $ cleos set account permission test active &#39;{&quot;threshold&quot; : 1, &quot;keys&quot; : [], &quot;accounts&quot; : [{&quot;permission&quot;:{&quot;actor&quot;:&quot;sandwich&quot;,&quot;permission&quot;:&quot;active&quot;},&quot;weight&quot;:1},{&quot;permission&quot;:{&quot;actor&quot;:&quot;acc1&quot;,&quot;permission&quot;:&quot;active&quot;},&quot;weight&quot;:50}]}&#39; owner 第三个示例演示如何设置multisig的权限 $ cleos set account permission test active &#39;{&quot;threshold&quot; : 100, &quot;keys&quot; : [{&quot;permission&quot;:{&quot;key&quot;:&quot;EOS8X7Mp7apQWtL6T2sfSZzBcQNUqZB7tARFEm9gA9Tn9nbMdsvBB&quot;,&quot;permission&quot;:&quot;active&quot;},&quot;weight&quot;:25}], &quot;accounts&quot; : [{&quot;permission&quot;:{&quot;actor&quot;:&quot;@sandwich&quot;,&quot;permission&quot;:&quot;active&quot;},&quot;weight&quot;:75}]}&#39; owner 此命令中使用的JSON对象实际上由两种不同类型的对象组成 权限JSON对象… { &quot;threshold&quot; : 100, /*An integer that defines cumulative signature weight required for authorization*/ &quot;keys&quot; : [], /*An array made up of individual permissions defined with an EOS PUBLIC KEY*/ &quot;accounts&quot; : [] /*An array made up of individual permissions defined with an EOS ACCOUNT*/ } …其中包括一个或多个权限对象 /*Set Permission with Key*/ { &quot;permission&quot; : { &quot;key&quot; : &quot;EOS8X7Mp7apQWtL6T2sfSZzBcQNUqZB7tARFEm9gA9Tn9nbMdsvBB&quot;, &quot;permission&quot; : &quot;active&quot; }, weight : 25 /*Set the weight of a signature from this permission*/ } /*Set Permission with Account*/ { &quot;permission&quot; : { &quot;actor&quot; : &quot;sandwich&quot;, &quot;permission&quot; : &quot;active&quot; }, weight : 75 /*Set the weight of a signature from this permission*/ } 部署智能合约 命令格式：$cleos set contract ../${contract}.wast ../${contract}.abi　or $cleos set contract ../${contract} 要将合约上传到区块链，你必须先持有一个帐户和一个持有该帐户的钱包。其次，你需要你的合约文件（.wast）和它的abi（.abi）。然后你可以继续设置代码。 $ cleos set contract currency ../../../contracts/currency/currency.wast ../../../contracts/currency/currency.abi Reading WAST... Assembling WASM... Publishing contract... { &quot;transaction_id&quot;: &quot;9990306e13f630a9c5436a5a0b6fb8fe2c7f3da2f342b4898a39c4a2c17dcdb3&quot;, &quot;processed&quot;: { &quot;refBlockNum&quot;: 1208, &quot;refBlockPrefix&quot;: 3058534156, &quot;expiration&quot;: &quot;2017-08-24T18:29:52&quot;, &quot;scope&quot;: [ &quot;currency&quot;, &quot;eos&quot; ], &quot;signatures&quot;: [], &quot;messages&quot;: [{ &quot;code&quot;: &quot;eos&quot;, &quot;type&quot;: &quot;setcode&quot;, &quot;authorization&quot;: [{ &quot;account&quot;: &quot;currency&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;00000079b822651d0000e8150061736d0100000001390a60017e0060037e7e7f017f60047e7e7f7f017f60017f0060057e7e7e7f7f017f60027f7f0060027f7f017f60027e7f0060000060027e7e00029d010a03656e7606617373657274000503656e76086c6f61645f693634000403656e76067072696e7469000003656e76067072696e746e000003656e76067072696e7473000303656e760b726561644d657373616765000603656e760a72656d6f76655f693634000103656e760b7265717569726541757468000003656e760d726571756972654e6f74696365000003656e760973746f72655f6936340002030706000007030809040401700000050301000107cc0107066d656d6f72790200205f5a4e33656f733133726571756972654e6f74696365454e535f344e616d6545000a1e5f5a4e33656f7331317265717569726541757468454e535f344e616d6545000b345f5a4e3863757272656e6379313273746f72654163636f756e74454e33656f73344e616d6545524b4e535f374163636f756e7445000c355f5a4e3863757272656e637932336170706c795f63757272656e63795f7472616e7366657245524b4e535f385472616e7366657245000d04696e6974000e056170706c79000f0a9d0d060600200010080b0600200010070b3400024020012903084200510d0020004280808080a8d7bee3082001411010091a0f0b20004280808080a8d7bee308200110061a0b8a0604017e027f047e017f4100410028020441206b2208360204200029030821052000290300210720002903102104411010042004100241c000100442808080c887d7c8b21d100341d00010042007100341e000100420051003200029030021052000290308100820051008200029030010072000290300210142002105423b210441f00021034200210603400240024002400240024020054206560d0020032c00002202419f7f6a41ff017141194b0d01200241a0016a21020c020b420021072005420b580d020c030b200241ea016a41002002414f6a41ff01714105491b21020b2002ad42388642388721070b2007421f83200442ffffffff0f838621070b200341016a2103200542017c2105200720068421062004427b7c2204427a520d000b420021052008420037031820082006370310200142808080c887d7c8b21d4280808080a8d7bee308200841106a411010011a200041086a2903002101423b210441f00021034200210603400240024002400240024020054206560d0020032c00002202419f7f6a41ff017141194b0d01200241a0016a21020c020b420021072005420b580d020c030b200241ea016a41002002414f6a41ff01714105491b21020b2002ad42388642388721070b2007421f83200442ffffffff0f838621070b200341016a2103200542017c2105200720068421062004427b7c2204427a520d000b2008200637030020084200370308200142808080c887d7c8b21d4280808080a8d7bee3082008411010011a200841186a2203290300200041106a22022903005a418001100020032003290300200229030022057d370300200520082903087c20055a41b00110002008200829030820022903007c370308200029030021050240024020032903004200510d0020054280808080a8d7bee308200841106a411010091a0c010b20054280808080a8d7bee308200841106a10061a0b200041086a290300210502400240200841086a2903004200510d0020054280808080a8d7bee3082008411010091a0c010b20054280808080a8d7bee308200810061a0b4100200841206a3602040b980303027f057e017f4100410028020441106b220736020442002103423b210241e00121014200210403400240024002400240024020034207560d0020012c00002200419f7f6a41ff017141194b0d01200041a0016a21000c020b420021052003420b580d020c030b200041ea016a41002000414f6a41ff01714105491b21000b2000ad42388642388721050b2005421f83200242ffffffff0f838621050b200141016a2101200342017c2103200520048421042002427b7c2202427a520d000b42002103423b210241f00021014200210603400240024002400240024020034206560d0020012c00002200419f7f6a41ff017141194b0d01200041a0016a21000c020b420021052003420b580d020c030b200041ea016a41002000414f6a41ff01714105491b21000b2000ad42388642388721050b2005421f83200242ffffffff0f838621050b200141016a2101200342017c2103200520068421062002427b7c2202427a520d000b2007428094ebdc033703082007200637030020044280808080a8d7bee3082007411010091a4100200741106a3602040bb10303027f047e017f4100410028020441206b220836020442002105423b210441e00121034200210603400240024002400240024020054207560d0020032c00002202419f7f6a41ff017141194b0d01200241a0016a21020c020b420021072005420b580d020c030b200241ea016a41002002414f6a41ff01714105491b21020b2002ad42388642388721070b2007421f83200442ffffffff0f838621070b200341016a2103200542017c2105200720068421062004427b7c2204427a520d000b024020062000520d0042002105423b210441f00121034200210603400240024002400240024020054207560d0020032c00002202419f7f6a41ff017141194b0d01200241a0016a21020c020b420021072005420b580d020c030b200241ea016a41002002414f6a41ff01714105491b21020b2002ad42388642388721070b2007421f83200442ffffffff0f838621070b200341016a2103200542017c2105200720068421062004427b7c2204427a520d000b20062001520d00200842003703102008420037030820084200370318200841086a4118100541174b4180021000200841086a100d0b4100200841206a3602040b0bff010b0041040b04200500000041100b2254686973206170706561727320746f2062652061207472616e73666572206f6620000041c0000b0220000041d0000b072066726f6d20000041e0000b0520746f20000041f0000b086163636f756e7400004180010b2c696e746567657220756e646572666c6f77207375627472616374696e6720746f6b656e2062616c616e6365000041b0010b26696e7465676572206f766572666c6f7720616464696e6720746f6b656e2062616c616e6365000041e0010b0963757272656e6379000041f0010b097472616e7366657200004180020b1e6d6573736167652073686f72746572207468616e2065787065637465640000fd02046e616d651006617373657274020000086c6f61645f693634050000000000067072696e74690100067072696e746e0100067072696e747301000b726561644d6573736167650200000a72656d6f76655f693634030000000b726571756972654175746801000d726571756972654e6f7469636501000973746f72655f6936340400000000205f5a4e33656f733133726571756972654e6f74696365454e535f344e616d65450101301e5f5a4e33656f7331317265717569726541757468454e535f344e616d6545010130345f5a4e3863757272656e6379313273746f72654163636f756e74454e33656f73344e616d6545524b4e535f374163636f756e74450201300131355f5a4e3863757272656e637932336170706c795f63757272656e63795f7472616e7366657245524b4e535f385472616e73666572450901300131013201330134013501360137013804696e69740801300131013201330134013501360137056170706c7909013001310132013301340135013601370138010b4163636f756e744e616d65044e616d6502087472616e7366657200030466726f6d0b4163636f756e744e616d6502746f0b4163636f756e744e616d65087175616e746974790655496e743634076163636f756e740002036b65790655496e7436340762616c616e63650655496e74363401000000b298e982a4087472616e736665720100000080bafac608076163636f756e74&quot; } ], &quot;output&quot;: [{ &quot;notify&quot;: [], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } ] } } 查询ABI 命令格式：$ cleos get code -a ${contract}.abi ${contract} 我们可以在区块链中查询合约的.abi，我们可以在其中查看可用操作列表及其各自的消息结构 $ cleos get code -a currency.abi currency code hash: 9b9db1a7940503a88535517049e64467a6e8f4e9e03af15e9968ec89dd794975 saving abi to currency.abi $ cat currency.abi { &quot;types&quot;: [{ &quot;newTypeName&quot;: &quot;AccountName&quot;, &quot;type&quot;: &quot;Name&quot; } ], &quot;structs&quot;: [{ &quot;name&quot;: &quot;transfer&quot;, &quot;base&quot;: &quot;&quot;, &quot;fields&quot;: { &quot;from&quot;: &quot;AccountName&quot;, &quot;to&quot;: &quot;AccountName&quot;, &quot;amount&quot;: &quot;UInt64&quot; } },{ &quot;name&quot;: &quot;account&quot;, &quot;base&quot;: &quot;&quot;, &quot;fields&quot;: { &quot;account&quot;: &quot;Name&quot;, &quot;balance&quot;: &quot;UInt64&quot; } } ], &quot;actions&quot;: [{ &quot;action&quot;: &quot;transfer&quot;, &quot;type&quot;: &quot;transfer&quot; } ], &quot;tables&quot;: [{ &quot;table&quot;: &quot;account&quot;, &quot;indextype&quot;: &quot;i64&quot;, &quot;keynames&quot;: [ &quot;account&quot; ], &quot;keytype&quot;: [], &quot;type&quot;: &quot;account&quot; } ] } 推送操作 根据合约ABI，消息应该是合约。 例如，货币合约的ABI被构造如下。 $ cleos get code -a currency.abi currency code hash: 9b9db1a7940503a88535517049e64467a6e8f4e9e03af15e9968ec89dd794975 saving abi to currency.abi $ cat currency.abi { &quot;types&quot;: [{ &quot;newTypeName&quot;: &quot;AccountName&quot;, &quot;type&quot;: &quot;Name&quot; } ], &quot;structs&quot;: [{ &quot;name&quot;: &quot;transfer&quot;, &quot;base&quot;: &quot;&quot;, &quot;fields&quot;: { &quot;from&quot;: &quot;AccountName&quot;, &quot;to&quot;: &quot;AccountName&quot;, &quot;amount&quot;: &quot;UInt64&quot; } },{ &quot;name&quot;: &quot;account&quot;, &quot;base&quot;: &quot;&quot;, &quot;fields&quot;: { &quot;account&quot;: &quot;Name&quot;, &quot;balance&quot;: &quot;UInt64&quot; } } ], &quot;actions&quot;: [{ &quot;action&quot;: &quot;transfer&quot;, &quot;type&quot;: &quot;transfer&quot; } ], &quot;tables&quot;: [{ &quot;table&quot;: &quot;account&quot;, &quot;indextype&quot;: &quot;i64&quot;, &quot;keynames&quot;: [ &quot;account&quot; ], &quot;keytype&quot;: [], &quot;type&quot;: &quot;account&quot; } ] } 从上面的abi中，我们可以看到货币合约接受一个叫做transfer的操作，它接受带有from，to和amount字段的消息。 $ ./cleos push message currency transfer &#39;{&quot;from&quot;:&quot;currency&quot;,&quot;to&quot;:&quot;tester&quot;,&quot;amount&quot;:50}&#39; -S currency -S tester -p currency@active 1589302ms thread-0 main.cpp:271 operator() ] Converting argument to binary... 1589304ms thread-0 main.cpp:290 operator() ] Transaction result: { &quot;transaction_id&quot;: &quot;1c4911c0b277566dce4217edbbca0f688f7bdef761ed445ff31b31f286720057&quot;, &quot;processed&quot;: { &quot;refBlockNum&quot;: 1173, &quot;refBlockPrefix&quot;: 2184027244, &quot;expiration&quot;: &quot;2017-08-24T18:28:07&quot;, &quot;scope&quot;: [ &quot;currency&quot;, &quot;tester&quot; ], &quot;signatures&quot;: [], &quot;messages&quot;: [{ &quot;code&quot;: &quot;currency&quot;, &quot;type&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [{ &quot;account&quot;: &quot;currency&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;currency&quot;, &quot;to&quot;: &quot;tester&quot;, &quot;quantity&quot;: 50 }, &quot;hex_data&quot;: &quot;00000079b822651d00000000c84267a13200000000000000&quot; } ], &quot;output&quot;: [{ &quot;notify&quot;: [{ &quot;name&quot;: &quot;tester&quot;, &quot;output&quot;: { &quot;notify&quot;: [], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } } ], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } ] } } 查询智能合约 命令格式：$ cleos get code -a ${contract}.abi ${contract} 根据合约中定义的表结构，你可以查询合约中的数据。 例如，currency合约ABI包含账户表。 $ cleos get code -a currency.abi currency code hash: 9b9db1a7940503a88535517049e64467a6e8f4e9e03af15e9968ec89dd794975 saving abi to currency.abi $ cat currency.abi { ... &quot;tables&quot;: [{ &quot;table&quot;: &quot;account&quot;, &quot;indextype&quot;: &quot;i64&quot;, &quot;keynames&quot;: [ &quot;account&quot; ], &quot;keytype&quot;: [], &quot;type&quot;: &quot;account&quot; } ] } 查询表 命令格式：$ cleos get table ${field} ${contract} ${table} 你可以查询指定必要字段的表格。 $ cleos get table inita currency account { &quot;rows&quot;: [{ &quot;account&quot;: &quot;account&quot;, &quot;balance&quot;: 50 } ], &quot;more&quot;: true } 跳过签名 命令格式：$ cleos push action ${contract} ${action} ${param} -S ${scope_1} -S ${scope_2} -p ${account}@active 如果你的本地运行nodeos，作为开发人员在不处理密钥的情况下测试功能的简便方法，则可以运行nodeos以便不需要Transaction签名。 $ nodeos --skip-transaction-signatures 然后对于任何需要签名的操作，请使用-s选项 $ cleos ${command} ${subcommand} -s ${param} 夹带个私货 《EOS智能合约与DApp开发入门教程》已经上线，欢迎大家来学习互动： EOS教程 本教程帮助你快速入门EOS区块链去中心化应用的开发，内容涵盖EOS工具链、账户与钱包、发行代币、智能合约开发与部署、使用代码与智能合约交互等核心知识点，最后综合运用React和EOS的各知识点完成一个便签DApp的开发。 web3j教程，主要是针对java和android程序员进行区块链以太坊开发的web3j详解。 以太坊教程，主要介绍智能合约与dapp应用开发，适合入门。 以太坊开发，主要是介绍使用node.js、mongodb、区块链、ipfs实现去中心化电商DApp实战，适合进阶。 python以太坊，主要是针对python工程师使用web3.py进行区块链以太坊开发的详解。 php以太坊，主要是介绍使用php进行智能合约开发交互，进行账号创建、交易、转账、代币开发以及过滤器和事件等内容。 阅读更多" />
<meta property="og:description" content="获取所有命令 命令格式：$ cleos cleos包含所有命令的文档。有关cleos已知的所有命令的列表，只需简单地运行它，不带任何参数： $ cleos ERROR: RequiredError: Subcommand required Command Line Interface to EOSIO Client Usage: cleos [OPTIONS] SUBCOMMAND Options: -h,--help 打印帮助信息并且退出 -u,--url TEXT=http://localhost:8888/ nodeos 运行的http/https URL --wallet-url TEXT=http://localhost:8888/ keosd运行的 http/https URL -v,--verbose 输出对错误的详细操作 子命令: version 返回版本信息 create 在区块链上和区域外创建数据 get 从区块链中检索各种数据和信息 set 设置或更新区块链状态 transfer 从账户到账户转移EOS net 与本地p2p网络连接进行交互 wallet 与本地钱包互动 sign 签署交易 push 将任意事务推送到区块链 multisig Multisig合约命令 system 将eosio.system合约行为发送到区块链。 获取所有子命令 命令格式： $ cleos ${command} 要获得有关任何特定子命令的帮助，请使用无参数运行它： $ cleos create ERROR: RequiredError: Subcommand required Create various items, on and off the blockchain Usage: ./cleos create SUBCOMMAND Subcommands: key Create a new keypair and print the public and private keys account Create a new account on the blockchain producer Create a new producer on the blockchain $ cleos create account ERROR: RequiredError: creator Create a new account on the blockchain Usage: ./cleos create account creator name OwnerKey ActiveKey Positionals: creator TEXT The name of the account creating the new account name TEXT The name of the new account OwnerKey TEXT The owner public key for the account ActiveKey TEXT The active public key for the account 链接节点 命令格式：$ cleos --url ${node}:${port} 这会将你连接到本地节点 $ cleos -u localhost:8889 $ cleos --url localhost:8889 你还可以调整节点参数以连接到其他节点，例如公共测试网 $ cleos -H test1.eos.io -p 80 注意 你需要在每个请求中包含-H和-p参数来解决问题 查询区块链状态 命令格式：$ cleos get info $ cleos get info { &quot;server_version&quot;: &quot;7451e092&quot;, &quot;head_block_num&quot;: 6980, &quot;last_irreversible_block_num&quot;: 6963, &quot;head_block_id&quot;: &quot;00001b4490e32b84861230871bb1c25fb8ee777153f4f82c5f3e4ca2b9877712&quot;, &quot;head_block_time&quot;: &quot;2017-12-07T09:18:48&quot;, &quot;head_block_producer&quot;: &quot;initp&quot;, &quot;recent_slots&quot;: &quot;1111111111111111111111111111111111111111111111111111111111111111&quot;, &quot;participation_rate&quot;: &quot;1.00000000000000000&quot; } 通过transaction_id获取交易 命令格式：$ cleos get transaction ${transaction_id} 通过在nodeos中加载account_history_api_plugin，我们可以使用transaciton_id查询特定事务 $ cleos get transaction eb4b94b72718a369af09eb2e7885b3f494dd1d8a20278a6634611d5edd76b703 { &quot;transaction_id&quot;: &quot;eb4b94b72718a369af09eb2e7885b3f494dd1d8a20278a6634611d5edd76b703&quot;, &quot;processed&quot;: { &quot;refBlockNum&quot;: 2206, &quot;refBlockPrefix&quot;: 221394282, &quot;expiration&quot;: &quot;2017-09-05T08:03:58&quot;, &quot;scope&quot;: [ &quot;inita&quot;, &quot;tester&quot; ], &quot;signatures&quot;: [ &quot;1f22e64240e1e479eee6ccbbd79a29f1a6eb6020384b4cca1a958e7c708d3e562009ae6e60afac96f9a3b89d729a50cd5a7b5a7a647540ba1678831bf970e83312&quot; ], &quot;messages&quot;: [{ &quot;code&quot;: &quot;eos&quot;, &quot;type&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [{ &quot;account&quot;: &quot;inita&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;inita&quot;, &quot;to&quot;: &quot;tester&quot;, &quot;amount&quot;: 1000, &quot;memo&quot;: &quot;&quot; }, &quot;hex_data&quot;: &quot;000000008040934b00000000c84267a1e80300000000000000&quot; } ], &quot;output&quot;: [{ &quot;notify&quot;: [{ &quot;name&quot;: &quot;tester&quot;, &quot;output&quot;: { &quot;notify&quot;: [], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } },{ &quot;name&quot;: &quot;inita&quot;, &quot;output&quot;: { &quot;notify&quot;: [], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } } ], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } ] } } 通过帐户获取交易 命令格式：$ cleos get transaction ${account} 我们也可以查询某个账户从最近一个账户开始执行的交易清单 $ cleos get transactions inita [ { &quot;transaction_id&quot;: &quot;eb4b94b72718a369af09eb2e7885b3f494dd1d8a20278a6634611d5edd76b703&quot;, ... }, { &quot;transaction_id&quot;: &quot;6acd2ece68c4b86c1fa209c3989235063384020781f2c67bbb80bc8d540ca120&quot;, ... }, ... ] 转账EOS 命令格式：$ cleos transfer ${from_account} ${to_account} ${quantity} $ cleos transfer inita tester 1000 { &quot;transaction_id&quot;: &quot;eb4b94b72718a369af09eb2e7885b3f494dd1d8a20278a6634611d5edd76b703&quot;, &quot;processed&quot;: { &quot;refBlockNum&quot;: 2206, &quot;refBlockPrefix&quot;: 221394282, &quot;expiration&quot;: &quot;2017-09-05T08:03:58&quot;, &quot;scope&quot;: [ &quot;inita&quot;, &quot;tester&quot; ], &quot;signatures&quot;: [ &quot;1f22e64240e1e479eee6ccbbd79a29f1a6eb6020384b4cca1a958e7c708d3e562009ae6e60afac96f9a3b89d729a50cd5a7b5a7a647540ba1678831bf970e83312&quot; ], &quot;messages&quot;: [{ &quot;code&quot;: &quot;eos&quot;, &quot;type&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [{ &quot;account&quot;: &quot;inita&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;inita&quot;, &quot;to&quot;: &quot;tester&quot;, &quot;amount&quot;: 1000, &quot;memo&quot;: &quot;&quot; }, &quot;hex_data&quot;: &quot;000000008040934b00000000c84267a1e80300000000000000&quot; } ], &quot;output&quot;: [{ &quot;notify&quot;: [{ &quot;name&quot;: &quot;tester&quot;, &quot;output&quot;: { ... } },{ &quot;name&quot;: &quot;inita&quot;, &quot;output&quot;: { ... } } ], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } ] } } 创建钱包 创建钱包时不指定名称，钱包将使用名称’default’ 命令格式：$ cleos wallet create {-n} ${wallet_name} $ cleos wallet create Creating wallet: default Save password to use in the future to unlock this wallet. Without password imported keys will not be retrievable. &quot;PW5JD9cw9YY288AXPvnbwUk5JK4Cy6YyZ83wzHcshu8F2akU9rRWE&quot; 你可以在命令中添加-n ${wallet_name}命名钱包 $ cleos wallet create -n second-wallet Creating wallet: second-wallet Save password to use in the future to unlock this wallet. Without password imported keys will not be retrievable. &quot;PW5Ji6JUrLjhKAVn68nmacLxwhvtqUAV18J7iycZppsPKeoGGgBEw&quot; 钱包列表 命令格式：$ cleos wallet list 列表钱包命令将列出每个钱包状态的所有钱包，*符号表示钱包当前已解锁。 $ cleos wallet list Wallets: [ &quot;default *&quot;, &quot;second-wallet *&quot; ] 导入账户密钥 命令格式：$ cleos wallet import ${key} 注意: 如果你没有持有账户密钥，则需要使用create account命令先创建账户密钥。 $ cleos wallet import 5KQwrPbwdL6PhXujxW37FSSQZ1JiwsST4cqQzDeyXtP79zkvFD3 imported private key for: EOS6MRyAjQq8ud7hVNYcfnVPJqcVpscN5So8BhtHuGYqET5GDW5CV 列出钱包密钥 命令格式：$ cleos wallet keys 这将列出公钥中存储在钱包中的所有密钥。 $ cleos wallet keys [[ &quot;EOS6MRyAjQq8ud7hVNYcfnVPJqcVpscN5So8BhtHuGYqET5GDW5CV&quot;, &quot;5KQwrPbwdL6PhXujxW37FSSQZ1JiwsST4cqQzDeyXtP79zkvFD3&quot; ] ] 加锁钱包 命令格式：$ cleos wallet lock -n ${wallet_name} $ cleos wallet lock -n second-wallet Locked: &#39;second-wallet&#39; 注意锁定的钱包在列表中没有*符号 $ cleos wallet list Wallets: [ &quot;default *&quot;, &quot;second-wallet&quot; ] 解锁钱包 命令格式：$ cleos wallet unlock -n ${wallet_name} --password ${password} 要解锁它，请指定创建钱包时获得的密码 $ cleos wallet unlock -n second-wallet --password PW5Ji6JUrLjhKAVn68nmacLxwhvtqUAV18J7iycZppsPKeoGGgBEw Unlocked: &#39;second-wallet&#39; 打开钱包 命令格式：$ cleos wallet open $ cleos wallet open Wallets: [ &quot;default&quot; ] $ cleos wallet open -n second-wallet Wallets: [ &quot;default&quot;, &quot;second-wallet&quot; ] 创建密钥 命令格式：$ cleos create key 为了创建一个帐户，你需要两个新的密钥：所有者和主动。你可以要求cleos为你创建一些钥匙： 这将是你的Owner Key， $ cleos create key public: EOS4toFS3YXEQCkuuw1aqDLrtHim86Gz9u3hBdcBw5KNPZcursVHq private: 5JKbLfCXgcafDQVwHMm3shHt6iRWgrr9adcmt6vX3FNjAEtJGaT 这将是你的主动键， $ cleos create key public: EOS7d9A3uLe6As66jzN8j44TXJUqJSK3bFjjEEqR4oTvNAB3iM9SA private: 5Hv22aPcjnENBv6X9o9nKGdkfrW44En6z4zJUt2PobAvbQXrT9z 注意：cleos不保存生成的私钥。 创建帐号 命令格式：$ cleos create account ${control_account} ${account_name} ${owner_public_key} ${active_public_key} 你将需要你的EOS密钥才能创建帐户，你必须在Ethereum网络上注册你的EOS密钥，或者你可以使用创建密钥功能创建一组新密钥 $ cleos create account inita tester EOS4toFS3YXEQCkuuw1aqDLrtHim86Gz9u3hBdcBw5KNPZcursVHq EOS7d9A3uLe6As66jzN8j44TXJUqJSK3bFjjEEqR4oTvNAB3iM9SA { &quot;transaction_id&quot;: &quot;6acd2ece68c4b86c1fa209c3989235063384020781f2c67bbb80bc8d540ca120&quot;, &quot;processed&quot;: { &quot;refBlockNum&quot;: &quot;25217&quot;, &quot;refBlockPrefix&quot;: &quot;2095475630&quot;, &quot;expiration&quot;: &quot;2017-07-25T17:54:55&quot;, &quot;scope&quot;: [ &quot;eos&quot;, &quot;inita&quot; ], &quot;signatures&quot;: [], &quot;messages&quot;: [{ &quot;code&quot;: &quot;eos&quot;, &quot;type&quot;: &quot;newaccount&quot;, &quot;authorization&quot;: [{ &quot;account&quot;: &quot;inita&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;c9251a0000000000b44c5a2400000000010000000102bcca6347d828d4e1868b7dfa91692a16d5b20d0ee3d16a7ca2ddcc7f6dd03344010000010000000102bcca6347d828d4e1868b7dfa91692a16d5b20d0ee3d16a7ca2ddcc7f6dd03344010000010000000001c9251a000000000061d0640b000000000100010000000000000008454f5300000000&quot; } ], &quot;output&quot;: [{ &quot;notify&quot;: [], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } ] } } 子帐户 命令格式：$ cleos get servants ${account_name} 要检查由帐户（控制帐户）创建的子帐户 $ cleos get servants inita { &quot;controlled_accounts&quot;: [ &quot;tester&quot; ] } 检查帐户余额 命令格式：$ cleos get account ${account_name} $ cleos get account tester { &quot;name&quot;: &quot;tester&quot;, &quot;eos_balance&quot;: 0, &quot;staked_balance&quot;: 1, &quot;unstaking_balance&quot;: 0, &quot;last_unstaking_time&quot;: &quot;1969-12-31T23:59:59&quot;, &quot;permissions&quot;: [{ &quot;name&quot;: &quot;active&quot;, &quot;parent&quot;: &quot;owner&quot;, &quot;required_auth&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [{ &quot;key&quot;: &quot;EOS7d9A3uLe6As66jzN8j44TXJUqJSK3bFjjEEqR4oTvNAB3iM9SA&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [] } },{ &quot;name&quot;: &quot;owner&quot;, &quot;parent&quot;: &quot;owner&quot;, &quot;required_auth&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [{ &quot;key&quot;: &quot;EOS4toFS3YXEQCkuuw1aqDLrtHim86Gz9u3hBdcBw5KNPZcursVHq&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [] } } ] } 创建或修改权限 命令格式：$ cleos set account permission ${permission} ${account} ${permission_json} ${account_authority} 要修改帐户的权限，你必须拥有该帐户的权限和你正在修改的权限。设置帐户权限命令可能会更改，因此它关联的类没有完整记录。 $ cleos set account permission test active &#39;{&quot;threshold&quot; : 1, &quot;keys&quot; : [{&quot;permission&quot;:{&quot;key&quot;:&quot;EOS8X7Mp7apQWtL6T2sfSZzBcQNUqZB7tARFEm9gA9Tn9nbMdsvBB&quot;,&quot;permission&quot;:&quot;active&quot;},&quot;weight&quot;:1}], &quot;accounts&quot; : [{&quot;permission&quot;:{&quot;actor&quot;:&quot;acc2&quot;,&quot;permission&quot;:&quot;active&quot;},&quot;weight&quot;:50}]}&#39; owner 第二个示例修改相同的帐户权限，但删除上一个示例中的密钥集，并将@test帐户的活动权限授予另一个帐户。 $ cleos set account permission test active &#39;{&quot;threshold&quot; : 1, &quot;keys&quot; : [], &quot;accounts&quot; : [{&quot;permission&quot;:{&quot;actor&quot;:&quot;sandwich&quot;,&quot;permission&quot;:&quot;active&quot;},&quot;weight&quot;:1},{&quot;permission&quot;:{&quot;actor&quot;:&quot;acc1&quot;,&quot;permission&quot;:&quot;active&quot;},&quot;weight&quot;:50}]}&#39; owner 第三个示例演示如何设置multisig的权限 $ cleos set account permission test active &#39;{&quot;threshold&quot; : 100, &quot;keys&quot; : [{&quot;permission&quot;:{&quot;key&quot;:&quot;EOS8X7Mp7apQWtL6T2sfSZzBcQNUqZB7tARFEm9gA9Tn9nbMdsvBB&quot;,&quot;permission&quot;:&quot;active&quot;},&quot;weight&quot;:25}], &quot;accounts&quot; : [{&quot;permission&quot;:{&quot;actor&quot;:&quot;@sandwich&quot;,&quot;permission&quot;:&quot;active&quot;},&quot;weight&quot;:75}]}&#39; owner 此命令中使用的JSON对象实际上由两种不同类型的对象组成 权限JSON对象… { &quot;threshold&quot; : 100, /*An integer that defines cumulative signature weight required for authorization*/ &quot;keys&quot; : [], /*An array made up of individual permissions defined with an EOS PUBLIC KEY*/ &quot;accounts&quot; : [] /*An array made up of individual permissions defined with an EOS ACCOUNT*/ } …其中包括一个或多个权限对象 /*Set Permission with Key*/ { &quot;permission&quot; : { &quot;key&quot; : &quot;EOS8X7Mp7apQWtL6T2sfSZzBcQNUqZB7tARFEm9gA9Tn9nbMdsvBB&quot;, &quot;permission&quot; : &quot;active&quot; }, weight : 25 /*Set the weight of a signature from this permission*/ } /*Set Permission with Account*/ { &quot;permission&quot; : { &quot;actor&quot; : &quot;sandwich&quot;, &quot;permission&quot; : &quot;active&quot; }, weight : 75 /*Set the weight of a signature from this permission*/ } 部署智能合约 命令格式：$cleos set contract ../${contract}.wast ../${contract}.abi　or $cleos set contract ../${contract} 要将合约上传到区块链，你必须先持有一个帐户和一个持有该帐户的钱包。其次，你需要你的合约文件（.wast）和它的abi（.abi）。然后你可以继续设置代码。 $ cleos set contract currency ../../../contracts/currency/currency.wast ../../../contracts/currency/currency.abi Reading WAST... Assembling WASM... Publishing contract... { &quot;transaction_id&quot;: &quot;9990306e13f630a9c5436a5a0b6fb8fe2c7f3da2f342b4898a39c4a2c17dcdb3&quot;, &quot;processed&quot;: { &quot;refBlockNum&quot;: 1208, &quot;refBlockPrefix&quot;: 3058534156, &quot;expiration&quot;: &quot;2017-08-24T18:29:52&quot;, &quot;scope&quot;: [ &quot;currency&quot;, &quot;eos&quot; ], &quot;signatures&quot;: [], &quot;messages&quot;: [{ &quot;code&quot;: &quot;eos&quot;, &quot;type&quot;: &quot;setcode&quot;, &quot;authorization&quot;: [{ &quot;account&quot;: &quot;currency&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;00000079b822651d0000e8150061736d0100000001390a60017e0060037e7e7f017f60047e7e7f7f017f60017f0060057e7e7e7f7f017f60027f7f0060027f7f017f60027e7f0060000060027e7e00029d010a03656e7606617373657274000503656e76086c6f61645f693634000403656e76067072696e7469000003656e76067072696e746e000003656e76067072696e7473000303656e760b726561644d657373616765000603656e760a72656d6f76655f693634000103656e760b7265717569726541757468000003656e760d726571756972654e6f74696365000003656e760973746f72655f6936340002030706000007030809040401700000050301000107cc0107066d656d6f72790200205f5a4e33656f733133726571756972654e6f74696365454e535f344e616d6545000a1e5f5a4e33656f7331317265717569726541757468454e535f344e616d6545000b345f5a4e3863757272656e6379313273746f72654163636f756e74454e33656f73344e616d6545524b4e535f374163636f756e7445000c355f5a4e3863757272656e637932336170706c795f63757272656e63795f7472616e7366657245524b4e535f385472616e7366657245000d04696e6974000e056170706c79000f0a9d0d060600200010080b0600200010070b3400024020012903084200510d0020004280808080a8d7bee3082001411010091a0f0b20004280808080a8d7bee308200110061a0b8a0604017e027f047e017f4100410028020441206b2208360204200029030821052000290300210720002903102104411010042004100241c000100442808080c887d7c8b21d100341d00010042007100341e000100420051003200029030021052000290308100820051008200029030010072000290300210142002105423b210441f00021034200210603400240024002400240024020054206560d0020032c00002202419f7f6a41ff017141194b0d01200241a0016a21020c020b420021072005420b580d020c030b200241ea016a41002002414f6a41ff01714105491b21020b2002ad42388642388721070b2007421f83200442ffffffff0f838621070b200341016a2103200542017c2105200720068421062004427b7c2204427a520d000b420021052008420037031820082006370310200142808080c887d7c8b21d4280808080a8d7bee308200841106a411010011a200041086a2903002101423b210441f00021034200210603400240024002400240024020054206560d0020032c00002202419f7f6a41ff017141194b0d01200241a0016a21020c020b420021072005420b580d020c030b200241ea016a41002002414f6a41ff01714105491b21020b2002ad42388642388721070b2007421f83200442ffffffff0f838621070b200341016a2103200542017c2105200720068421062004427b7c2204427a520d000b2008200637030020084200370308200142808080c887d7c8b21d4280808080a8d7bee3082008411010011a200841186a2203290300200041106a22022903005a418001100020032003290300200229030022057d370300200520082903087c20055a41b00110002008200829030820022903007c370308200029030021050240024020032903004200510d0020054280808080a8d7bee308200841106a411010091a0c010b20054280808080a8d7bee308200841106a10061a0b200041086a290300210502400240200841086a2903004200510d0020054280808080a8d7bee3082008411010091a0c010b20054280808080a8d7bee308200810061a0b4100200841206a3602040b980303027f057e017f4100410028020441106b220736020442002103423b210241e00121014200210403400240024002400240024020034207560d0020012c00002200419f7f6a41ff017141194b0d01200041a0016a21000c020b420021052003420b580d020c030b200041ea016a41002000414f6a41ff01714105491b21000b2000ad42388642388721050b2005421f83200242ffffffff0f838621050b200141016a2101200342017c2103200520048421042002427b7c2202427a520d000b42002103423b210241f00021014200210603400240024002400240024020034206560d0020012c00002200419f7f6a41ff017141194b0d01200041a0016a21000c020b420021052003420b580d020c030b200041ea016a41002000414f6a41ff01714105491b21000b2000ad42388642388721050b2005421f83200242ffffffff0f838621050b200141016a2101200342017c2103200520068421062002427b7c2202427a520d000b2007428094ebdc033703082007200637030020044280808080a8d7bee3082007411010091a4100200741106a3602040bb10303027f047e017f4100410028020441206b220836020442002105423b210441e00121034200210603400240024002400240024020054207560d0020032c00002202419f7f6a41ff017141194b0d01200241a0016a21020c020b420021072005420b580d020c030b200241ea016a41002002414f6a41ff01714105491b21020b2002ad42388642388721070b2007421f83200442ffffffff0f838621070b200341016a2103200542017c2105200720068421062004427b7c2204427a520d000b024020062000520d0042002105423b210441f00121034200210603400240024002400240024020054207560d0020032c00002202419f7f6a41ff017141194b0d01200241a0016a21020c020b420021072005420b580d020c030b200241ea016a41002002414f6a41ff01714105491b21020b2002ad42388642388721070b2007421f83200442ffffffff0f838621070b200341016a2103200542017c2105200720068421062004427b7c2204427a520d000b20062001520d00200842003703102008420037030820084200370318200841086a4118100541174b4180021000200841086a100d0b4100200841206a3602040b0bff010b0041040b04200500000041100b2254686973206170706561727320746f2062652061207472616e73666572206f6620000041c0000b0220000041d0000b072066726f6d20000041e0000b0520746f20000041f0000b086163636f756e7400004180010b2c696e746567657220756e646572666c6f77207375627472616374696e6720746f6b656e2062616c616e6365000041b0010b26696e7465676572206f766572666c6f7720616464696e6720746f6b656e2062616c616e6365000041e0010b0963757272656e6379000041f0010b097472616e7366657200004180020b1e6d6573736167652073686f72746572207468616e2065787065637465640000fd02046e616d651006617373657274020000086c6f61645f693634050000000000067072696e74690100067072696e746e0100067072696e747301000b726561644d6573736167650200000a72656d6f76655f693634030000000b726571756972654175746801000d726571756972654e6f7469636501000973746f72655f6936340400000000205f5a4e33656f733133726571756972654e6f74696365454e535f344e616d65450101301e5f5a4e33656f7331317265717569726541757468454e535f344e616d6545010130345f5a4e3863757272656e6379313273746f72654163636f756e74454e33656f73344e616d6545524b4e535f374163636f756e74450201300131355f5a4e3863757272656e637932336170706c795f63757272656e63795f7472616e7366657245524b4e535f385472616e73666572450901300131013201330134013501360137013804696e69740801300131013201330134013501360137056170706c7909013001310132013301340135013601370138010b4163636f756e744e616d65044e616d6502087472616e7366657200030466726f6d0b4163636f756e744e616d6502746f0b4163636f756e744e616d65087175616e746974790655496e743634076163636f756e740002036b65790655496e7436340762616c616e63650655496e74363401000000b298e982a4087472616e736665720100000080bafac608076163636f756e74&quot; } ], &quot;output&quot;: [{ &quot;notify&quot;: [], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } ] } } 查询ABI 命令格式：$ cleos get code -a ${contract}.abi ${contract} 我们可以在区块链中查询合约的.abi，我们可以在其中查看可用操作列表及其各自的消息结构 $ cleos get code -a currency.abi currency code hash: 9b9db1a7940503a88535517049e64467a6e8f4e9e03af15e9968ec89dd794975 saving abi to currency.abi $ cat currency.abi { &quot;types&quot;: [{ &quot;newTypeName&quot;: &quot;AccountName&quot;, &quot;type&quot;: &quot;Name&quot; } ], &quot;structs&quot;: [{ &quot;name&quot;: &quot;transfer&quot;, &quot;base&quot;: &quot;&quot;, &quot;fields&quot;: { &quot;from&quot;: &quot;AccountName&quot;, &quot;to&quot;: &quot;AccountName&quot;, &quot;amount&quot;: &quot;UInt64&quot; } },{ &quot;name&quot;: &quot;account&quot;, &quot;base&quot;: &quot;&quot;, &quot;fields&quot;: { &quot;account&quot;: &quot;Name&quot;, &quot;balance&quot;: &quot;UInt64&quot; } } ], &quot;actions&quot;: [{ &quot;action&quot;: &quot;transfer&quot;, &quot;type&quot;: &quot;transfer&quot; } ], &quot;tables&quot;: [{ &quot;table&quot;: &quot;account&quot;, &quot;indextype&quot;: &quot;i64&quot;, &quot;keynames&quot;: [ &quot;account&quot; ], &quot;keytype&quot;: [], &quot;type&quot;: &quot;account&quot; } ] } 推送操作 根据合约ABI，消息应该是合约。 例如，货币合约的ABI被构造如下。 $ cleos get code -a currency.abi currency code hash: 9b9db1a7940503a88535517049e64467a6e8f4e9e03af15e9968ec89dd794975 saving abi to currency.abi $ cat currency.abi { &quot;types&quot;: [{ &quot;newTypeName&quot;: &quot;AccountName&quot;, &quot;type&quot;: &quot;Name&quot; } ], &quot;structs&quot;: [{ &quot;name&quot;: &quot;transfer&quot;, &quot;base&quot;: &quot;&quot;, &quot;fields&quot;: { &quot;from&quot;: &quot;AccountName&quot;, &quot;to&quot;: &quot;AccountName&quot;, &quot;amount&quot;: &quot;UInt64&quot; } },{ &quot;name&quot;: &quot;account&quot;, &quot;base&quot;: &quot;&quot;, &quot;fields&quot;: { &quot;account&quot;: &quot;Name&quot;, &quot;balance&quot;: &quot;UInt64&quot; } } ], &quot;actions&quot;: [{ &quot;action&quot;: &quot;transfer&quot;, &quot;type&quot;: &quot;transfer&quot; } ], &quot;tables&quot;: [{ &quot;table&quot;: &quot;account&quot;, &quot;indextype&quot;: &quot;i64&quot;, &quot;keynames&quot;: [ &quot;account&quot; ], &quot;keytype&quot;: [], &quot;type&quot;: &quot;account&quot; } ] } 从上面的abi中，我们可以看到货币合约接受一个叫做transfer的操作，它接受带有from，to和amount字段的消息。 $ ./cleos push message currency transfer &#39;{&quot;from&quot;:&quot;currency&quot;,&quot;to&quot;:&quot;tester&quot;,&quot;amount&quot;:50}&#39; -S currency -S tester -p currency@active 1589302ms thread-0 main.cpp:271 operator() ] Converting argument to binary... 1589304ms thread-0 main.cpp:290 operator() ] Transaction result: { &quot;transaction_id&quot;: &quot;1c4911c0b277566dce4217edbbca0f688f7bdef761ed445ff31b31f286720057&quot;, &quot;processed&quot;: { &quot;refBlockNum&quot;: 1173, &quot;refBlockPrefix&quot;: 2184027244, &quot;expiration&quot;: &quot;2017-08-24T18:28:07&quot;, &quot;scope&quot;: [ &quot;currency&quot;, &quot;tester&quot; ], &quot;signatures&quot;: [], &quot;messages&quot;: [{ &quot;code&quot;: &quot;currency&quot;, &quot;type&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [{ &quot;account&quot;: &quot;currency&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;currency&quot;, &quot;to&quot;: &quot;tester&quot;, &quot;quantity&quot;: 50 }, &quot;hex_data&quot;: &quot;00000079b822651d00000000c84267a13200000000000000&quot; } ], &quot;output&quot;: [{ &quot;notify&quot;: [{ &quot;name&quot;: &quot;tester&quot;, &quot;output&quot;: { &quot;notify&quot;: [], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } } ], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } ] } } 查询智能合约 命令格式：$ cleos get code -a ${contract}.abi ${contract} 根据合约中定义的表结构，你可以查询合约中的数据。 例如，currency合约ABI包含账户表。 $ cleos get code -a currency.abi currency code hash: 9b9db1a7940503a88535517049e64467a6e8f4e9e03af15e9968ec89dd794975 saving abi to currency.abi $ cat currency.abi { ... &quot;tables&quot;: [{ &quot;table&quot;: &quot;account&quot;, &quot;indextype&quot;: &quot;i64&quot;, &quot;keynames&quot;: [ &quot;account&quot; ], &quot;keytype&quot;: [], &quot;type&quot;: &quot;account&quot; } ] } 查询表 命令格式：$ cleos get table ${field} ${contract} ${table} 你可以查询指定必要字段的表格。 $ cleos get table inita currency account { &quot;rows&quot;: [{ &quot;account&quot;: &quot;account&quot;, &quot;balance&quot;: 50 } ], &quot;more&quot;: true } 跳过签名 命令格式：$ cleos push action ${contract} ${action} ${param} -S ${scope_1} -S ${scope_2} -p ${account}@active 如果你的本地运行nodeos，作为开发人员在不处理密钥的情况下测试功能的简便方法，则可以运行nodeos以便不需要Transaction签名。 $ nodeos --skip-transaction-signatures 然后对于任何需要签名的操作，请使用-s选项 $ cleos ${command} ${subcommand} -s ${param} 夹带个私货 《EOS智能合约与DApp开发入门教程》已经上线，欢迎大家来学习互动： EOS教程 本教程帮助你快速入门EOS区块链去中心化应用的开发，内容涵盖EOS工具链、账户与钱包、发行代币、智能合约开发与部署、使用代码与智能合约交互等核心知识点，最后综合运用React和EOS的各知识点完成一个便签DApp的开发。 web3j教程，主要是针对java和android程序员进行区块链以太坊开发的web3j详解。 以太坊教程，主要介绍智能合约与dapp应用开发，适合入门。 以太坊开发，主要是介绍使用node.js、mongodb、区块链、ipfs实现去中心化电商DApp实战，适合进阶。 python以太坊，主要是针对python工程师使用web3.py进行区块链以太坊开发的详解。 php以太坊，主要是介绍使用php进行智能合约开发交互，进行账号创建、交易、转账、代币开发以及过滤器和事件等内容。 阅读更多" />
<link rel="canonical" href="https://mlh.app/2018/07/28/25c9c897c789dd2ee3b204dbd9e7adf1.html" />
<meta property="og:url" content="https://mlh.app/2018/07/28/25c9c897c789dd2ee3b204dbd9e7adf1.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-07-28T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"获取所有命令 命令格式：$ cleos cleos包含所有命令的文档。有关cleos已知的所有命令的列表，只需简单地运行它，不带任何参数： $ cleos ERROR: RequiredError: Subcommand required Command Line Interface to EOSIO Client Usage: cleos [OPTIONS] SUBCOMMAND Options: -h,--help 打印帮助信息并且退出 -u,--url TEXT=http://localhost:8888/ nodeos 运行的http/https URL --wallet-url TEXT=http://localhost:8888/ keosd运行的 http/https URL -v,--verbose 输出对错误的详细操作 子命令: version 返回版本信息 create 在区块链上和区域外创建数据 get 从区块链中检索各种数据和信息 set 设置或更新区块链状态 transfer 从账户到账户转移EOS net 与本地p2p网络连接进行交互 wallet 与本地钱包互动 sign 签署交易 push 将任意事务推送到区块链 multisig Multisig合约命令 system 将eosio.system合约行为发送到区块链。 获取所有子命令 命令格式： $ cleos ${command} 要获得有关任何特定子命令的帮助，请使用无参数运行它： $ cleos create ERROR: RequiredError: Subcommand required Create various items, on and off the blockchain Usage: ./cleos create SUBCOMMAND Subcommands: key Create a new keypair and print the public and private keys account Create a new account on the blockchain producer Create a new producer on the blockchain $ cleos create account ERROR: RequiredError: creator Create a new account on the blockchain Usage: ./cleos create account creator name OwnerKey ActiveKey Positionals: creator TEXT The name of the account creating the new account name TEXT The name of the new account OwnerKey TEXT The owner public key for the account ActiveKey TEXT The active public key for the account 链接节点 命令格式：$ cleos --url ${node}:${port} 这会将你连接到本地节点 $ cleos -u localhost:8889 $ cleos --url localhost:8889 你还可以调整节点参数以连接到其他节点，例如公共测试网 $ cleos -H test1.eos.io -p 80 注意 你需要在每个请求中包含-H和-p参数来解决问题 查询区块链状态 命令格式：$ cleos get info $ cleos get info { &quot;server_version&quot;: &quot;7451e092&quot;, &quot;head_block_num&quot;: 6980, &quot;last_irreversible_block_num&quot;: 6963, &quot;head_block_id&quot;: &quot;00001b4490e32b84861230871bb1c25fb8ee777153f4f82c5f3e4ca2b9877712&quot;, &quot;head_block_time&quot;: &quot;2017-12-07T09:18:48&quot;, &quot;head_block_producer&quot;: &quot;initp&quot;, &quot;recent_slots&quot;: &quot;1111111111111111111111111111111111111111111111111111111111111111&quot;, &quot;participation_rate&quot;: &quot;1.00000000000000000&quot; } 通过transaction_id获取交易 命令格式：$ cleos get transaction ${transaction_id} 通过在nodeos中加载account_history_api_plugin，我们可以使用transaciton_id查询特定事务 $ cleos get transaction eb4b94b72718a369af09eb2e7885b3f494dd1d8a20278a6634611d5edd76b703 { &quot;transaction_id&quot;: &quot;eb4b94b72718a369af09eb2e7885b3f494dd1d8a20278a6634611d5edd76b703&quot;, &quot;processed&quot;: { &quot;refBlockNum&quot;: 2206, &quot;refBlockPrefix&quot;: 221394282, &quot;expiration&quot;: &quot;2017-09-05T08:03:58&quot;, &quot;scope&quot;: [ &quot;inita&quot;, &quot;tester&quot; ], &quot;signatures&quot;: [ &quot;1f22e64240e1e479eee6ccbbd79a29f1a6eb6020384b4cca1a958e7c708d3e562009ae6e60afac96f9a3b89d729a50cd5a7b5a7a647540ba1678831bf970e83312&quot; ], &quot;messages&quot;: [{ &quot;code&quot;: &quot;eos&quot;, &quot;type&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [{ &quot;account&quot;: &quot;inita&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;inita&quot;, &quot;to&quot;: &quot;tester&quot;, &quot;amount&quot;: 1000, &quot;memo&quot;: &quot;&quot; }, &quot;hex_data&quot;: &quot;000000008040934b00000000c84267a1e80300000000000000&quot; } ], &quot;output&quot;: [{ &quot;notify&quot;: [{ &quot;name&quot;: &quot;tester&quot;, &quot;output&quot;: { &quot;notify&quot;: [], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } },{ &quot;name&quot;: &quot;inita&quot;, &quot;output&quot;: { &quot;notify&quot;: [], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } } ], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } ] } } 通过帐户获取交易 命令格式：$ cleos get transaction ${account} 我们也可以查询某个账户从最近一个账户开始执行的交易清单 $ cleos get transactions inita [ { &quot;transaction_id&quot;: &quot;eb4b94b72718a369af09eb2e7885b3f494dd1d8a20278a6634611d5edd76b703&quot;, ... }, { &quot;transaction_id&quot;: &quot;6acd2ece68c4b86c1fa209c3989235063384020781f2c67bbb80bc8d540ca120&quot;, ... }, ... ] 转账EOS 命令格式：$ cleos transfer ${from_account} ${to_account} ${quantity} $ cleos transfer inita tester 1000 { &quot;transaction_id&quot;: &quot;eb4b94b72718a369af09eb2e7885b3f494dd1d8a20278a6634611d5edd76b703&quot;, &quot;processed&quot;: { &quot;refBlockNum&quot;: 2206, &quot;refBlockPrefix&quot;: 221394282, &quot;expiration&quot;: &quot;2017-09-05T08:03:58&quot;, &quot;scope&quot;: [ &quot;inita&quot;, &quot;tester&quot; ], &quot;signatures&quot;: [ &quot;1f22e64240e1e479eee6ccbbd79a29f1a6eb6020384b4cca1a958e7c708d3e562009ae6e60afac96f9a3b89d729a50cd5a7b5a7a647540ba1678831bf970e83312&quot; ], &quot;messages&quot;: [{ &quot;code&quot;: &quot;eos&quot;, &quot;type&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [{ &quot;account&quot;: &quot;inita&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;inita&quot;, &quot;to&quot;: &quot;tester&quot;, &quot;amount&quot;: 1000, &quot;memo&quot;: &quot;&quot; }, &quot;hex_data&quot;: &quot;000000008040934b00000000c84267a1e80300000000000000&quot; } ], &quot;output&quot;: [{ &quot;notify&quot;: [{ &quot;name&quot;: &quot;tester&quot;, &quot;output&quot;: { ... } },{ &quot;name&quot;: &quot;inita&quot;, &quot;output&quot;: { ... } } ], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } ] } } 创建钱包 创建钱包时不指定名称，钱包将使用名称’default’ 命令格式：$ cleos wallet create {-n} ${wallet_name} $ cleos wallet create Creating wallet: default Save password to use in the future to unlock this wallet. Without password imported keys will not be retrievable. &quot;PW5JD9cw9YY288AXPvnbwUk5JK4Cy6YyZ83wzHcshu8F2akU9rRWE&quot; 你可以在命令中添加-n ${wallet_name}命名钱包 $ cleos wallet create -n second-wallet Creating wallet: second-wallet Save password to use in the future to unlock this wallet. Without password imported keys will not be retrievable. &quot;PW5Ji6JUrLjhKAVn68nmacLxwhvtqUAV18J7iycZppsPKeoGGgBEw&quot; 钱包列表 命令格式：$ cleos wallet list 列表钱包命令将列出每个钱包状态的所有钱包，*符号表示钱包当前已解锁。 $ cleos wallet list Wallets: [ &quot;default *&quot;, &quot;second-wallet *&quot; ] 导入账户密钥 命令格式：$ cleos wallet import ${key} 注意: 如果你没有持有账户密钥，则需要使用create account命令先创建账户密钥。 $ cleos wallet import 5KQwrPbwdL6PhXujxW37FSSQZ1JiwsST4cqQzDeyXtP79zkvFD3 imported private key for: EOS6MRyAjQq8ud7hVNYcfnVPJqcVpscN5So8BhtHuGYqET5GDW5CV 列出钱包密钥 命令格式：$ cleos wallet keys 这将列出公钥中存储在钱包中的所有密钥。 $ cleos wallet keys [[ &quot;EOS6MRyAjQq8ud7hVNYcfnVPJqcVpscN5So8BhtHuGYqET5GDW5CV&quot;, &quot;5KQwrPbwdL6PhXujxW37FSSQZ1JiwsST4cqQzDeyXtP79zkvFD3&quot; ] ] 加锁钱包 命令格式：$ cleos wallet lock -n ${wallet_name} $ cleos wallet lock -n second-wallet Locked: &#39;second-wallet&#39; 注意锁定的钱包在列表中没有*符号 $ cleos wallet list Wallets: [ &quot;default *&quot;, &quot;second-wallet&quot; ] 解锁钱包 命令格式：$ cleos wallet unlock -n ${wallet_name} --password ${password} 要解锁它，请指定创建钱包时获得的密码 $ cleos wallet unlock -n second-wallet --password PW5Ji6JUrLjhKAVn68nmacLxwhvtqUAV18J7iycZppsPKeoGGgBEw Unlocked: &#39;second-wallet&#39; 打开钱包 命令格式：$ cleos wallet open $ cleos wallet open Wallets: [ &quot;default&quot; ] $ cleos wallet open -n second-wallet Wallets: [ &quot;default&quot;, &quot;second-wallet&quot; ] 创建密钥 命令格式：$ cleos create key 为了创建一个帐户，你需要两个新的密钥：所有者和主动。你可以要求cleos为你创建一些钥匙： 这将是你的Owner Key， $ cleos create key public: EOS4toFS3YXEQCkuuw1aqDLrtHim86Gz9u3hBdcBw5KNPZcursVHq private: 5JKbLfCXgcafDQVwHMm3shHt6iRWgrr9adcmt6vX3FNjAEtJGaT 这将是你的主动键， $ cleos create key public: EOS7d9A3uLe6As66jzN8j44TXJUqJSK3bFjjEEqR4oTvNAB3iM9SA private: 5Hv22aPcjnENBv6X9o9nKGdkfrW44En6z4zJUt2PobAvbQXrT9z 注意：cleos不保存生成的私钥。 创建帐号 命令格式：$ cleos create account ${control_account} ${account_name} ${owner_public_key} ${active_public_key} 你将需要你的EOS密钥才能创建帐户，你必须在Ethereum网络上注册你的EOS密钥，或者你可以使用创建密钥功能创建一组新密钥 $ cleos create account inita tester EOS4toFS3YXEQCkuuw1aqDLrtHim86Gz9u3hBdcBw5KNPZcursVHq EOS7d9A3uLe6As66jzN8j44TXJUqJSK3bFjjEEqR4oTvNAB3iM9SA { &quot;transaction_id&quot;: &quot;6acd2ece68c4b86c1fa209c3989235063384020781f2c67bbb80bc8d540ca120&quot;, &quot;processed&quot;: { &quot;refBlockNum&quot;: &quot;25217&quot;, &quot;refBlockPrefix&quot;: &quot;2095475630&quot;, &quot;expiration&quot;: &quot;2017-07-25T17:54:55&quot;, &quot;scope&quot;: [ &quot;eos&quot;, &quot;inita&quot; ], &quot;signatures&quot;: [], &quot;messages&quot;: [{ &quot;code&quot;: &quot;eos&quot;, &quot;type&quot;: &quot;newaccount&quot;, &quot;authorization&quot;: [{ &quot;account&quot;: &quot;inita&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;c9251a0000000000b44c5a2400000000010000000102bcca6347d828d4e1868b7dfa91692a16d5b20d0ee3d16a7ca2ddcc7f6dd03344010000010000000102bcca6347d828d4e1868b7dfa91692a16d5b20d0ee3d16a7ca2ddcc7f6dd03344010000010000000001c9251a000000000061d0640b000000000100010000000000000008454f5300000000&quot; } ], &quot;output&quot;: [{ &quot;notify&quot;: [], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } ] } } 子帐户 命令格式：$ cleos get servants ${account_name} 要检查由帐户（控制帐户）创建的子帐户 $ cleos get servants inita { &quot;controlled_accounts&quot;: [ &quot;tester&quot; ] } 检查帐户余额 命令格式：$ cleos get account ${account_name} $ cleos get account tester { &quot;name&quot;: &quot;tester&quot;, &quot;eos_balance&quot;: 0, &quot;staked_balance&quot;: 1, &quot;unstaking_balance&quot;: 0, &quot;last_unstaking_time&quot;: &quot;1969-12-31T23:59:59&quot;, &quot;permissions&quot;: [{ &quot;name&quot;: &quot;active&quot;, &quot;parent&quot;: &quot;owner&quot;, &quot;required_auth&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [{ &quot;key&quot;: &quot;EOS7d9A3uLe6As66jzN8j44TXJUqJSK3bFjjEEqR4oTvNAB3iM9SA&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [] } },{ &quot;name&quot;: &quot;owner&quot;, &quot;parent&quot;: &quot;owner&quot;, &quot;required_auth&quot;: { &quot;threshold&quot;: 1, &quot;keys&quot;: [{ &quot;key&quot;: &quot;EOS4toFS3YXEQCkuuw1aqDLrtHim86Gz9u3hBdcBw5KNPZcursVHq&quot;, &quot;weight&quot;: 1 } ], &quot;accounts&quot;: [] } } ] } 创建或修改权限 命令格式：$ cleos set account permission ${permission} ${account} ${permission_json} ${account_authority} 要修改帐户的权限，你必须拥有该帐户的权限和你正在修改的权限。设置帐户权限命令可能会更改，因此它关联的类没有完整记录。 $ cleos set account permission test active &#39;{&quot;threshold&quot; : 1, &quot;keys&quot; : [{&quot;permission&quot;:{&quot;key&quot;:&quot;EOS8X7Mp7apQWtL6T2sfSZzBcQNUqZB7tARFEm9gA9Tn9nbMdsvBB&quot;,&quot;permission&quot;:&quot;active&quot;},&quot;weight&quot;:1}], &quot;accounts&quot; : [{&quot;permission&quot;:{&quot;actor&quot;:&quot;acc2&quot;,&quot;permission&quot;:&quot;active&quot;},&quot;weight&quot;:50}]}&#39; owner 第二个示例修改相同的帐户权限，但删除上一个示例中的密钥集，并将@test帐户的活动权限授予另一个帐户。 $ cleos set account permission test active &#39;{&quot;threshold&quot; : 1, &quot;keys&quot; : [], &quot;accounts&quot; : [{&quot;permission&quot;:{&quot;actor&quot;:&quot;sandwich&quot;,&quot;permission&quot;:&quot;active&quot;},&quot;weight&quot;:1},{&quot;permission&quot;:{&quot;actor&quot;:&quot;acc1&quot;,&quot;permission&quot;:&quot;active&quot;},&quot;weight&quot;:50}]}&#39; owner 第三个示例演示如何设置multisig的权限 $ cleos set account permission test active &#39;{&quot;threshold&quot; : 100, &quot;keys&quot; : [{&quot;permission&quot;:{&quot;key&quot;:&quot;EOS8X7Mp7apQWtL6T2sfSZzBcQNUqZB7tARFEm9gA9Tn9nbMdsvBB&quot;,&quot;permission&quot;:&quot;active&quot;},&quot;weight&quot;:25}], &quot;accounts&quot; : [{&quot;permission&quot;:{&quot;actor&quot;:&quot;@sandwich&quot;,&quot;permission&quot;:&quot;active&quot;},&quot;weight&quot;:75}]}&#39; owner 此命令中使用的JSON对象实际上由两种不同类型的对象组成 权限JSON对象… { &quot;threshold&quot; : 100, /*An integer that defines cumulative signature weight required for authorization*/ &quot;keys&quot; : [], /*An array made up of individual permissions defined with an EOS PUBLIC KEY*/ &quot;accounts&quot; : [] /*An array made up of individual permissions defined with an EOS ACCOUNT*/ } …其中包括一个或多个权限对象 /*Set Permission with Key*/ { &quot;permission&quot; : { &quot;key&quot; : &quot;EOS8X7Mp7apQWtL6T2sfSZzBcQNUqZB7tARFEm9gA9Tn9nbMdsvBB&quot;, &quot;permission&quot; : &quot;active&quot; }, weight : 25 /*Set the weight of a signature from this permission*/ } /*Set Permission with Account*/ { &quot;permission&quot; : { &quot;actor&quot; : &quot;sandwich&quot;, &quot;permission&quot; : &quot;active&quot; }, weight : 75 /*Set the weight of a signature from this permission*/ } 部署智能合约 命令格式：$cleos set contract ../${contract}.wast ../${contract}.abi　or $cleos set contract ../${contract} 要将合约上传到区块链，你必须先持有一个帐户和一个持有该帐户的钱包。其次，你需要你的合约文件（.wast）和它的abi（.abi）。然后你可以继续设置代码。 $ cleos set contract currency ../../../contracts/currency/currency.wast ../../../contracts/currency/currency.abi Reading WAST... Assembling WASM... Publishing contract... { &quot;transaction_id&quot;: &quot;9990306e13f630a9c5436a5a0b6fb8fe2c7f3da2f342b4898a39c4a2c17dcdb3&quot;, &quot;processed&quot;: { &quot;refBlockNum&quot;: 1208, &quot;refBlockPrefix&quot;: 3058534156, &quot;expiration&quot;: &quot;2017-08-24T18:29:52&quot;, &quot;scope&quot;: [ &quot;currency&quot;, &quot;eos&quot; ], &quot;signatures&quot;: [], &quot;messages&quot;: [{ &quot;code&quot;: &quot;eos&quot;, &quot;type&quot;: &quot;setcode&quot;, &quot;authorization&quot;: [{ &quot;account&quot;: &quot;currency&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;00000079b822651d0000e8150061736d0100000001390a60017e0060037e7e7f017f60047e7e7f7f017f60017f0060057e7e7e7f7f017f60027f7f0060027f7f017f60027e7f0060000060027e7e00029d010a03656e7606617373657274000503656e76086c6f61645f693634000403656e76067072696e7469000003656e76067072696e746e000003656e76067072696e7473000303656e760b726561644d657373616765000603656e760a72656d6f76655f693634000103656e760b7265717569726541757468000003656e760d726571756972654e6f74696365000003656e760973746f72655f6936340002030706000007030809040401700000050301000107cc0107066d656d6f72790200205f5a4e33656f733133726571756972654e6f74696365454e535f344e616d6545000a1e5f5a4e33656f7331317265717569726541757468454e535f344e616d6545000b345f5a4e3863757272656e6379313273746f72654163636f756e74454e33656f73344e616d6545524b4e535f374163636f756e7445000c355f5a4e3863757272656e637932336170706c795f63757272656e63795f7472616e7366657245524b4e535f385472616e7366657245000d04696e6974000e056170706c79000f0a9d0d060600200010080b0600200010070b3400024020012903084200510d0020004280808080a8d7bee3082001411010091a0f0b20004280808080a8d7bee308200110061a0b8a0604017e027f047e017f4100410028020441206b2208360204200029030821052000290300210720002903102104411010042004100241c000100442808080c887d7c8b21d100341d00010042007100341e000100420051003200029030021052000290308100820051008200029030010072000290300210142002105423b210441f00021034200210603400240024002400240024020054206560d0020032c00002202419f7f6a41ff017141194b0d01200241a0016a21020c020b420021072005420b580d020c030b200241ea016a41002002414f6a41ff01714105491b21020b2002ad42388642388721070b2007421f83200442ffffffff0f838621070b200341016a2103200542017c2105200720068421062004427b7c2204427a520d000b420021052008420037031820082006370310200142808080c887d7c8b21d4280808080a8d7bee308200841106a411010011a200041086a2903002101423b210441f00021034200210603400240024002400240024020054206560d0020032c00002202419f7f6a41ff017141194b0d01200241a0016a21020c020b420021072005420b580d020c030b200241ea016a41002002414f6a41ff01714105491b21020b2002ad42388642388721070b2007421f83200442ffffffff0f838621070b200341016a2103200542017c2105200720068421062004427b7c2204427a520d000b2008200637030020084200370308200142808080c887d7c8b21d4280808080a8d7bee3082008411010011a200841186a2203290300200041106a22022903005a418001100020032003290300200229030022057d370300200520082903087c20055a41b00110002008200829030820022903007c370308200029030021050240024020032903004200510d0020054280808080a8d7bee308200841106a411010091a0c010b20054280808080a8d7bee308200841106a10061a0b200041086a290300210502400240200841086a2903004200510d0020054280808080a8d7bee3082008411010091a0c010b20054280808080a8d7bee308200810061a0b4100200841206a3602040b980303027f057e017f4100410028020441106b220736020442002103423b210241e00121014200210403400240024002400240024020034207560d0020012c00002200419f7f6a41ff017141194b0d01200041a0016a21000c020b420021052003420b580d020c030b200041ea016a41002000414f6a41ff01714105491b21000b2000ad42388642388721050b2005421f83200242ffffffff0f838621050b200141016a2101200342017c2103200520048421042002427b7c2202427a520d000b42002103423b210241f00021014200210603400240024002400240024020034206560d0020012c00002200419f7f6a41ff017141194b0d01200041a0016a21000c020b420021052003420b580d020c030b200041ea016a41002000414f6a41ff01714105491b21000b2000ad42388642388721050b2005421f83200242ffffffff0f838621050b200141016a2101200342017c2103200520068421062002427b7c2202427a520d000b2007428094ebdc033703082007200637030020044280808080a8d7bee3082007411010091a4100200741106a3602040bb10303027f047e017f4100410028020441206b220836020442002105423b210441e00121034200210603400240024002400240024020054207560d0020032c00002202419f7f6a41ff017141194b0d01200241a0016a21020c020b420021072005420b580d020c030b200241ea016a41002002414f6a41ff01714105491b21020b2002ad42388642388721070b2007421f83200442ffffffff0f838621070b200341016a2103200542017c2105200720068421062004427b7c2204427a520d000b024020062000520d0042002105423b210441f00121034200210603400240024002400240024020054207560d0020032c00002202419f7f6a41ff017141194b0d01200241a0016a21020c020b420021072005420b580d020c030b200241ea016a41002002414f6a41ff01714105491b21020b2002ad42388642388721070b2007421f83200442ffffffff0f838621070b200341016a2103200542017c2105200720068421062004427b7c2204427a520d000b20062001520d00200842003703102008420037030820084200370318200841086a4118100541174b4180021000200841086a100d0b4100200841206a3602040b0bff010b0041040b04200500000041100b2254686973206170706561727320746f2062652061207472616e73666572206f6620000041c0000b0220000041d0000b072066726f6d20000041e0000b0520746f20000041f0000b086163636f756e7400004180010b2c696e746567657220756e646572666c6f77207375627472616374696e6720746f6b656e2062616c616e6365000041b0010b26696e7465676572206f766572666c6f7720616464696e6720746f6b656e2062616c616e6365000041e0010b0963757272656e6379000041f0010b097472616e7366657200004180020b1e6d6573736167652073686f72746572207468616e2065787065637465640000fd02046e616d651006617373657274020000086c6f61645f693634050000000000067072696e74690100067072696e746e0100067072696e747301000b726561644d6573736167650200000a72656d6f76655f693634030000000b726571756972654175746801000d726571756972654e6f7469636501000973746f72655f6936340400000000205f5a4e33656f733133726571756972654e6f74696365454e535f344e616d65450101301e5f5a4e33656f7331317265717569726541757468454e535f344e616d6545010130345f5a4e3863757272656e6379313273746f72654163636f756e74454e33656f73344e616d6545524b4e535f374163636f756e74450201300131355f5a4e3863757272656e637932336170706c795f63757272656e63795f7472616e7366657245524b4e535f385472616e73666572450901300131013201330134013501360137013804696e69740801300131013201330134013501360137056170706c7909013001310132013301340135013601370138010b4163636f756e744e616d65044e616d6502087472616e7366657200030466726f6d0b4163636f756e744e616d6502746f0b4163636f756e744e616d65087175616e746974790655496e743634076163636f756e740002036b65790655496e7436340762616c616e63650655496e74363401000000b298e982a4087472616e736665720100000080bafac608076163636f756e74&quot; } ], &quot;output&quot;: [{ &quot;notify&quot;: [], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } ] } } 查询ABI 命令格式：$ cleos get code -a ${contract}.abi ${contract} 我们可以在区块链中查询合约的.abi，我们可以在其中查看可用操作列表及其各自的消息结构 $ cleos get code -a currency.abi currency code hash: 9b9db1a7940503a88535517049e64467a6e8f4e9e03af15e9968ec89dd794975 saving abi to currency.abi $ cat currency.abi { &quot;types&quot;: [{ &quot;newTypeName&quot;: &quot;AccountName&quot;, &quot;type&quot;: &quot;Name&quot; } ], &quot;structs&quot;: [{ &quot;name&quot;: &quot;transfer&quot;, &quot;base&quot;: &quot;&quot;, &quot;fields&quot;: { &quot;from&quot;: &quot;AccountName&quot;, &quot;to&quot;: &quot;AccountName&quot;, &quot;amount&quot;: &quot;UInt64&quot; } },{ &quot;name&quot;: &quot;account&quot;, &quot;base&quot;: &quot;&quot;, &quot;fields&quot;: { &quot;account&quot;: &quot;Name&quot;, &quot;balance&quot;: &quot;UInt64&quot; } } ], &quot;actions&quot;: [{ &quot;action&quot;: &quot;transfer&quot;, &quot;type&quot;: &quot;transfer&quot; } ], &quot;tables&quot;: [{ &quot;table&quot;: &quot;account&quot;, &quot;indextype&quot;: &quot;i64&quot;, &quot;keynames&quot;: [ &quot;account&quot; ], &quot;keytype&quot;: [], &quot;type&quot;: &quot;account&quot; } ] } 推送操作 根据合约ABI，消息应该是合约。 例如，货币合约的ABI被构造如下。 $ cleos get code -a currency.abi currency code hash: 9b9db1a7940503a88535517049e64467a6e8f4e9e03af15e9968ec89dd794975 saving abi to currency.abi $ cat currency.abi { &quot;types&quot;: [{ &quot;newTypeName&quot;: &quot;AccountName&quot;, &quot;type&quot;: &quot;Name&quot; } ], &quot;structs&quot;: [{ &quot;name&quot;: &quot;transfer&quot;, &quot;base&quot;: &quot;&quot;, &quot;fields&quot;: { &quot;from&quot;: &quot;AccountName&quot;, &quot;to&quot;: &quot;AccountName&quot;, &quot;amount&quot;: &quot;UInt64&quot; } },{ &quot;name&quot;: &quot;account&quot;, &quot;base&quot;: &quot;&quot;, &quot;fields&quot;: { &quot;account&quot;: &quot;Name&quot;, &quot;balance&quot;: &quot;UInt64&quot; } } ], &quot;actions&quot;: [{ &quot;action&quot;: &quot;transfer&quot;, &quot;type&quot;: &quot;transfer&quot; } ], &quot;tables&quot;: [{ &quot;table&quot;: &quot;account&quot;, &quot;indextype&quot;: &quot;i64&quot;, &quot;keynames&quot;: [ &quot;account&quot; ], &quot;keytype&quot;: [], &quot;type&quot;: &quot;account&quot; } ] } 从上面的abi中，我们可以看到货币合约接受一个叫做transfer的操作，它接受带有from，to和amount字段的消息。 $ ./cleos push message currency transfer &#39;{&quot;from&quot;:&quot;currency&quot;,&quot;to&quot;:&quot;tester&quot;,&quot;amount&quot;:50}&#39; -S currency -S tester -p currency@active 1589302ms thread-0 main.cpp:271 operator() ] Converting argument to binary... 1589304ms thread-0 main.cpp:290 operator() ] Transaction result: { &quot;transaction_id&quot;: &quot;1c4911c0b277566dce4217edbbca0f688f7bdef761ed445ff31b31f286720057&quot;, &quot;processed&quot;: { &quot;refBlockNum&quot;: 1173, &quot;refBlockPrefix&quot;: 2184027244, &quot;expiration&quot;: &quot;2017-08-24T18:28:07&quot;, &quot;scope&quot;: [ &quot;currency&quot;, &quot;tester&quot; ], &quot;signatures&quot;: [], &quot;messages&quot;: [{ &quot;code&quot;: &quot;currency&quot;, &quot;type&quot;: &quot;transfer&quot;, &quot;authorization&quot;: [{ &quot;account&quot;: &quot;currency&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: { &quot;from&quot;: &quot;currency&quot;, &quot;to&quot;: &quot;tester&quot;, &quot;quantity&quot;: 50 }, &quot;hex_data&quot;: &quot;00000079b822651d00000000c84267a13200000000000000&quot; } ], &quot;output&quot;: [{ &quot;notify&quot;: [{ &quot;name&quot;: &quot;tester&quot;, &quot;output&quot;: { &quot;notify&quot;: [], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } } ], &quot;sync_transactions&quot;: [], &quot;async_transactions&quot;: [] } ] } } 查询智能合约 命令格式：$ cleos get code -a ${contract}.abi ${contract} 根据合约中定义的表结构，你可以查询合约中的数据。 例如，currency合约ABI包含账户表。 $ cleos get code -a currency.abi currency code hash: 9b9db1a7940503a88535517049e64467a6e8f4e9e03af15e9968ec89dd794975 saving abi to currency.abi $ cat currency.abi { ... &quot;tables&quot;: [{ &quot;table&quot;: &quot;account&quot;, &quot;indextype&quot;: &quot;i64&quot;, &quot;keynames&quot;: [ &quot;account&quot; ], &quot;keytype&quot;: [], &quot;type&quot;: &quot;account&quot; } ] } 查询表 命令格式：$ cleos get table ${field} ${contract} ${table} 你可以查询指定必要字段的表格。 $ cleos get table inita currency account { &quot;rows&quot;: [{ &quot;account&quot;: &quot;account&quot;, &quot;balance&quot;: 50 } ], &quot;more&quot;: true } 跳过签名 命令格式：$ cleos push action ${contract} ${action} ${param} -S ${scope_1} -S ${scope_2} -p ${account}@active 如果你的本地运行nodeos，作为开发人员在不处理密钥的情况下测试功能的简便方法，则可以运行nodeos以便不需要Transaction签名。 $ nodeos --skip-transaction-signatures 然后对于任何需要签名的操作，请使用-s选项 $ cleos ${command} ${subcommand} -s ${param} 夹带个私货 《EOS智能合约与DApp开发入门教程》已经上线，欢迎大家来学习互动： EOS教程 本教程帮助你快速入门EOS区块链去中心化应用的开发，内容涵盖EOS工具链、账户与钱包、发行代币、智能合约开发与部署、使用代码与智能合约交互等核心知识点，最后综合运用React和EOS的各知识点完成一个便签DApp的开发。 web3j教程，主要是针对java和android程序员进行区块链以太坊开发的web3j详解。 以太坊教程，主要介绍智能合约与dapp应用开发，适合入门。 以太坊开发，主要是介绍使用node.js、mongodb、区块链、ipfs实现去中心化电商DApp实战，适合进阶。 python以太坊，主要是针对python工程师使用web3.py进行区块链以太坊开发的详解。 php以太坊，主要是介绍使用php进行智能合约开发交互，进行账号创建、交易、转账、代币开发以及过滤器和事件等内容。 阅读更多","@type":"BlogPosting","url":"https://mlh.app/2018/07/28/25c9c897c789dd2ee3b204dbd9e7adf1.html","headline":"EOS Cleos 命令汇总","dateModified":"2018-07-28T00:00:00+08:00","datePublished":"2018-07-28T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2018/07/28/25c9c897c789dd2ee3b204dbd9e7adf1.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>EOS Cleos 命令汇总</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <div class="markdown_views"> 
  <h2 id="获取所有命令">获取所有命令</h2> 
  <p>命令格式：<code>$ cleos</code></p> 
  <p>cleos包含所有命令的文档。有关cleos已知的所有命令的列表，只需简单地运行它，不带任何参数：</p> 
  <pre class="prettyprint"><code class=" hljs livecodeserver">$ cleos
ERROR: RequiredError: Subcommand required
Command Line Interface <span class="hljs-built_in">to</span> EOSIO Client
Usage: cleos [OPTIONS] SUBCOMMAND
Options:
  -h,<span class="hljs-comment">--help 打印帮助信息并且退出</span>
  -u,<span class="hljs-comment">--url TEXT=http://localhost:8888/</span>
                              nodeos 运行的<span class="hljs-keyword">http</span>/<span class="hljs-keyword">https</span> <span class="hljs-built_in">URL</span>
  <span class="hljs-comment">--wallet-url TEXT=http://localhost:8888/</span>
                              keosd运行的 <span class="hljs-keyword">http</span>/<span class="hljs-keyword">https</span> <span class="hljs-built_in">URL</span>
  -v,<span class="hljs-comment">--verbose 输出对错误的详细操作</span>
子命令:
  <span class="hljs-built_in">version</span>                     返回版本信息
  <span class="hljs-built_in">create</span>                      在区块链上和区域外创建数据
  <span class="hljs-built_in">get</span>                         从区块链中检索各种数据和信息
  <span class="hljs-built_in">set</span>                         设置或更新区块链状态
  transfer                    从账户到账户转移EOS
  net                         与本地p2p网络连接进行交互
  wallet                      与本地钱包互动
  sign                        签署交易
  push                        将任意事务推送到区块链
  multisig                    Multisig合约命令
  <span class="hljs-keyword">system</span>                      将eosio.<span class="hljs-keyword">system</span>合约行为发送到区块链。</code></pre> 
  <h2 id="获取所有子命令">获取所有子命令</h2> 
  <p>命令格式： <code>$ cleos ${command}</code></p> 
  <p>要获得有关任何特定子命令的帮助，请使用无参数运行它：</p> 
  <pre class="prettyprint"><code class=" hljs livecodeserver">$ cleos <span class="hljs-built_in">create</span>
ERROR: RequiredError: Subcommand required
Create various <span class="hljs-keyword">items</span>, <span class="hljs-command"><span class="hljs-keyword">on</span> <span class="hljs-title">and</span> <span class="hljs-title">off</span> <span class="hljs-title">the</span> <span class="hljs-title">blockchain</span></span>
Usage: ./cleos <span class="hljs-built_in">create</span> SUBCOMMAND
Subcommands:
  key                         Create <span class="hljs-operator">a</span> <span class="hljs-built_in">new</span> keypair <span class="hljs-operator">and</span> print <span class="hljs-operator">the</span> public <span class="hljs-operator">and</span> <span class="hljs-keyword">private</span> <span class="hljs-built_in">keys</span>
  account                     Create <span class="hljs-operator">a</span> <span class="hljs-built_in">new</span> account <span class="hljs-command"><span class="hljs-keyword">on</span> <span class="hljs-title">the</span> <span class="hljs-title">blockchain</span></span>
  producer                    Create <span class="hljs-operator">a</span> <span class="hljs-built_in">new</span> producer <span class="hljs-command"><span class="hljs-keyword">on</span> <span class="hljs-title">the</span> <span class="hljs-title">blockchain</span></span>
$ cleos <span class="hljs-built_in">create</span> account
ERROR: RequiredError: creator
Create <span class="hljs-operator">a</span> <span class="hljs-built_in">new</span> account <span class="hljs-command"><span class="hljs-keyword">on</span> <span class="hljs-title">the</span> <span class="hljs-title">blockchain</span></span>
Usage: ./cleos <span class="hljs-built_in">create</span> account creator name OwnerKey ActiveKey
Positionals:
  creator TEXT                The name <span class="hljs-operator">of</span> <span class="hljs-operator">the</span> account creating <span class="hljs-operator">the</span> <span class="hljs-built_in">new</span> account
  name TEXT                   The name <span class="hljs-operator">of</span> <span class="hljs-operator">the</span> <span class="hljs-built_in">new</span> account
  OwnerKey TEXT               The owner public key <span class="hljs-keyword">for</span> <span class="hljs-operator">the</span> account
  ActiveKey TEXT              The active public key <span class="hljs-keyword">for</span> <span class="hljs-operator">the</span> account</code></pre> 
  <h2 id="链接节点">链接节点</h2> 
  <p>命令格式：<code>$ cleos --url ${node}:${port}</code></p> 
  <p>这会将你连接到本地节点</p> 
  <pre class="prettyprint"><code class=" hljs ruby"><span class="hljs-variable">$ </span>cleos -u <span class="hljs-symbol">localhost:</span><span class="hljs-number">8889</span> 
<span class="hljs-variable">$ </span>cleos --url <span class="hljs-symbol">localhost:</span><span class="hljs-number">8889</span> </code></pre> 
  <p>你还可以调整节点参数以连接到其他节点，例如公共测试网</p> 
  <pre class="prettyprint"><code class=" hljs avrasm">$ cleos -H test1<span class="hljs-preprocessor">.eos</span><span class="hljs-preprocessor">.io</span> -p <span class="hljs-number">80</span> </code></pre> 
  <p><strong>注意</strong> 你需要在每个请求中包含-H和-p参数来解决问题</p> 
  <h2 id="查询区块链状态">查询区块链状态</h2> 
  <p>命令格式：<code>$ cleos get info</code></p> 
  <pre class="prettyprint"><code class=" hljs cs">$ cleos <span class="hljs-keyword">get</span> info
{
  <span class="hljs-string">"server_version"</span>: <span class="hljs-string">"7451e092"</span>,
  <span class="hljs-string">"head_block_num"</span>: <span class="hljs-number">6980</span>,
  <span class="hljs-string">"last_irreversible_block_num"</span>: <span class="hljs-number">6963</span>,
  <span class="hljs-string">"head_block_id"</span>: <span class="hljs-string">"00001b4490e32b84861230871bb1c25fb8ee777153f4f82c5f3e4ca2b9877712"</span>,
  <span class="hljs-string">"head_block_time"</span>: <span class="hljs-string">"2017-12-07T09:18:48"</span>,
  <span class="hljs-string">"head_block_producer"</span>: <span class="hljs-string">"initp"</span>,
  <span class="hljs-string">"recent_slots"</span>: <span class="hljs-string">"1111111111111111111111111111111111111111111111111111111111111111"</span>,
  <span class="hljs-string">"participation_rate"</span>: <span class="hljs-string">"1.00000000000000000"</span>
}</code></pre> 
  <h2 id="通过transactionid获取交易">通过transaction_id获取交易</h2> 
  <p>命令格式：<code>$ cleos get transaction ${transaction_id}</code></p> 
  <p>通过在nodeos中加载account_history_api_plugin，我们可以使用transaciton_id查询特定事务</p> 
  <pre class="prettyprint"><code class=" hljs applescript">$ cleos <span class="hljs-keyword">get</span> <span class="hljs-keyword">transaction</span> eb4b94b72718a369af09eb2e7885b3f494dd1d8a20278a6634611d5edd76b703
{
  <span class="hljs-string">"transaction_id"</span>: <span class="hljs-string">"eb4b94b72718a369af09eb2e7885b3f494dd1d8a20278a6634611d5edd76b703"</span>,
  <span class="hljs-string">"processed"</span>: {
    <span class="hljs-string">"refBlockNum"</span>: <span class="hljs-number">2206</span>,
    <span class="hljs-string">"refBlockPrefix"</span>: <span class="hljs-number">221394282</span>,
    <span class="hljs-string">"expiration"</span>: <span class="hljs-string">"2017-09-05T08:03:58"</span>,
    <span class="hljs-string">"scope"</span>: [
      <span class="hljs-string">"inita"</span>,
      <span class="hljs-string">"tester"</span>
    ],
    <span class="hljs-string">"signatures"</span>: [
      <span class="hljs-string">"1f22e64240e1e479eee6ccbbd79a29f1a6eb6020384b4cca1a958e7c708d3e562009ae6e60afac96f9a3b89d729a50cd5a7b5a7a647540ba1678831bf970e83312"</span>
    ],
    <span class="hljs-string">"messages"</span>: [{
        <span class="hljs-string">"code"</span>: <span class="hljs-string">"eos"</span>,
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"transfer"</span>,
        <span class="hljs-string">"authorization"</span>: [{
            <span class="hljs-string">"account"</span>: <span class="hljs-string">"inita"</span>,
            <span class="hljs-string">"permission"</span>: <span class="hljs-string">"active"</span>
          }
        ],
        <span class="hljs-string">"data"</span>: {
          <span class="hljs-string">"from"</span>: <span class="hljs-string">"inita"</span>,
          <span class="hljs-string">"to"</span>: <span class="hljs-string">"tester"</span>,
          <span class="hljs-string">"amount"</span>: <span class="hljs-number">1000</span>,
          <span class="hljs-string">"memo"</span>: <span class="hljs-string">""</span>
        },
        <span class="hljs-string">"hex_data"</span>: <span class="hljs-string">"000000008040934b00000000c84267a1e80300000000000000"</span>
      }
    ],
    <span class="hljs-string">"output"</span>: [{
        <span class="hljs-string">"notify"</span>: [{
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"tester"</span>,
            <span class="hljs-string">"output"</span>: {
              <span class="hljs-string">"notify"</span>: [],
              <span class="hljs-string">"sync_transactions"</span>: [],
              <span class="hljs-string">"async_transactions"</span>: []
            }
          },{
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"inita"</span>,
            <span class="hljs-string">"output"</span>: {
              <span class="hljs-string">"notify"</span>: [],
              <span class="hljs-string">"sync_transactions"</span>: [],
              <span class="hljs-string">"async_transactions"</span>: []
            }
          }
        ],
        <span class="hljs-string">"sync_transactions"</span>: [],
        <span class="hljs-string">"async_transactions"</span>: []
      }
    ]
  }
}</code></pre> 
  <h2 id="通过帐户获取交易">通过帐户获取交易</h2> 
  <p>命令格式：<code>$ cleos get transaction ${account}</code></p> 
  <p>我们也可以查询某个账户从最近一个账户开始执行的交易清单</p> 
  <pre class="prettyprint"><code class=" hljs r">$ cleos get transactions inita
[
  {
    <span class="hljs-string">"transaction_id"</span>: <span class="hljs-string">"eb4b94b72718a369af09eb2e7885b3f494dd1d8a20278a6634611d5edd76b703"</span>,
    <span class="hljs-keyword">...</span>
  },
  {
    <span class="hljs-string">"transaction_id"</span>: <span class="hljs-string">"6acd2ece68c4b86c1fa209c3989235063384020781f2c67bbb80bc8d540ca120"</span>,
    <span class="hljs-keyword">...</span>
  },
  <span class="hljs-keyword">...</span>
]</code></pre> 
  <h2 id="转账eos">转账EOS</h2> 
  <p>命令格式：<code>$ cleos transfer ${from_account} ${to_account} ${quantity}</code></p> 
  <pre class="prettyprint"><code class=" hljs r">$ cleos transfer inita tester <span class="hljs-number">1000</span>
{
  <span class="hljs-string">"transaction_id"</span>: <span class="hljs-string">"eb4b94b72718a369af09eb2e7885b3f494dd1d8a20278a6634611d5edd76b703"</span>,
  <span class="hljs-string">"processed"</span>: {
    <span class="hljs-string">"refBlockNum"</span>: <span class="hljs-number">2206</span>,
    <span class="hljs-string">"refBlockPrefix"</span>: <span class="hljs-number">221394282</span>,
    <span class="hljs-string">"expiration"</span>: <span class="hljs-string">"2017-09-05T08:03:58"</span>,
    <span class="hljs-string">"scope"</span>: [
      <span class="hljs-string">"inita"</span>,
      <span class="hljs-string">"tester"</span>
    ],
    <span class="hljs-string">"signatures"</span>: [
      <span class="hljs-string">"1f22e64240e1e479eee6ccbbd79a29f1a6eb6020384b4cca1a958e7c708d3e562009ae6e60afac96f9a3b89d729a50cd5a7b5a7a647540ba1678831bf970e83312"</span>
    ],
    <span class="hljs-string">"messages"</span>: [{
        <span class="hljs-string">"code"</span>: <span class="hljs-string">"eos"</span>,
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"transfer"</span>,
        <span class="hljs-string">"authorization"</span>: [{
            <span class="hljs-string">"account"</span>: <span class="hljs-string">"inita"</span>,
            <span class="hljs-string">"permission"</span>: <span class="hljs-string">"active"</span>
          }
        ],
        <span class="hljs-string">"data"</span>: {
          <span class="hljs-string">"from"</span>: <span class="hljs-string">"inita"</span>,
          <span class="hljs-string">"to"</span>: <span class="hljs-string">"tester"</span>,
          <span class="hljs-string">"amount"</span>: <span class="hljs-number">1000</span>,
          <span class="hljs-string">"memo"</span>: <span class="hljs-string">""</span>
        },
        <span class="hljs-string">"hex_data"</span>: <span class="hljs-string">"000000008040934b00000000c84267a1e80300000000000000"</span>
      }
    ],
    <span class="hljs-string">"output"</span>: [{
        <span class="hljs-string">"notify"</span>: [{
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"tester"</span>,
            <span class="hljs-string">"output"</span>: { <span class="hljs-keyword">...</span> }
          },{
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"inita"</span>,
            <span class="hljs-string">"output"</span>: { <span class="hljs-keyword">...</span> }
          }
        ],
        <span class="hljs-string">"sync_transactions"</span>: [],
        <span class="hljs-string">"async_transactions"</span>: []
      }
    ]
  }
}</code></pre> 
  <h2 id="创建钱包">创建钱包</h2> 
  <p>创建钱包时不指定名称，钱包将使用名称’default’</p> 
  <p>命令格式：<code>$ cleos wallet create {-n} ${wallet_name}</code></p> 
  <pre class="prettyprint"><code class=" hljs livecodeserver">$ cleos wallet <span class="hljs-built_in">create</span>
Creating wallet: default
Save password <span class="hljs-built_in">to</span> use <span class="hljs-operator">in</span> <span class="hljs-operator">the</span> future <span class="hljs-built_in">to</span> unlock this wallet.
Without password imported <span class="hljs-built_in">keys</span> will <span class="hljs-operator">not</span> be retrievable.
<span class="hljs-string">"PW5JD9cw9YY288AXPvnbwUk5JK4Cy6YyZ83wzHcshu8F2akU9rRWE"</span></code></pre> 
  <p>你可以在命令中添加-n ${wallet_name}命名钱包</p> 
  <pre class="prettyprint"><code class=" hljs livecodeserver">$ cleos wallet <span class="hljs-built_in">create</span> -n <span class="hljs-keyword">second</span>-wallet
Creating wallet: <span class="hljs-keyword">second</span>-wallet
Save password <span class="hljs-built_in">to</span> use <span class="hljs-operator">in</span> <span class="hljs-operator">the</span> future <span class="hljs-built_in">to</span> unlock this wallet.
Without password imported <span class="hljs-built_in">keys</span> will <span class="hljs-operator">not</span> be retrievable.
<span class="hljs-string">"PW5Ji6JUrLjhKAVn68nmacLxwhvtqUAV18J7iycZppsPKeoGGgBEw"</span></code></pre> 
  <h2 id="钱包列表">钱包列表</h2> 
  <p>命令格式：<code>$ cleos wallet list</code></p> 
  <p>列表钱包命令将列出每个钱包状态的所有钱包，*符号表示钱包当前已解锁。</p> 
  <pre class="prettyprint"><code class=" hljs ruby"><span class="hljs-variable">$ </span>cleos wallet list
<span class="hljs-constant">Wallets</span><span class="hljs-symbol">:</span>
[
  <span class="hljs-string">"default *"</span>,
  <span class="hljs-string">"second-wallet *"</span>
]</code></pre> 
  <h2 id="导入账户密钥">导入账户密钥</h2> 
  <p>命令格式：<code>$ cleos wallet import ${key}</code></p> 
  <p><strong>注意</strong>: 如果你没有持有账户密钥，则需要使用create account命令先创建账户密钥。</p> 
  <pre class="prettyprint"><code class=" hljs java">$ cleos wallet <span class="hljs-keyword">import</span> <span class="hljs-number">5</span>KQwrPbwdL6PhXujxW37FSSQZ1JiwsST4cqQzDeyXtP79zkvFD3
imported <span class="hljs-keyword">private</span> key <span class="hljs-keyword">for</span>: EOS6MRyAjQq8ud7hVNYcfnVPJqcVpscN5So8BhtHuGYqET5GDW5CV</code></pre> 
  <h2 id="列出钱包密钥">列出钱包密钥</h2> 
  <p>命令格式：<code>$ cleos wallet keys</code></p> 
  <p>这将列出公钥中存储在钱包中的所有密钥。</p> 
  <pre class="prettyprint"><code class=" hljs ruby"><span class="hljs-variable">$ </span>cleos wallet keys
[[
    <span class="hljs-string">"EOS6MRyAjQq8ud7hVNYcfnVPJqcVpscN5So8BhtHuGYqET5GDW5CV"</span>,
    <span class="hljs-string">"5KQwrPbwdL6PhXujxW37FSSQZ1JiwsST4cqQzDeyXtP79zkvFD3"</span>
  ]
]</code></pre> 
  <h2 id="加锁钱包">加锁钱包</h2> 
  <p>命令格式：<code>$ cleos wallet lock -n ${wallet_name}</code></p> 
  <pre class="prettyprint"><code class=" hljs sql">$ cleos wallet <span class="hljs-operator"><span class="hljs-keyword">lock</span> -n <span class="hljs-keyword">second</span>-wallet Locked: <span class="hljs-string">'second-wallet'</span></span></code></pre> 
  <p>注意锁定的钱包在列表中没有*符号</p> 
  <pre class="prettyprint"><code class=" hljs ruby"><span class="hljs-variable">$ </span>cleos wallet list
<span class="hljs-constant">Wallets</span><span class="hljs-symbol">:</span>
[
  <span class="hljs-string">"default *"</span>,
  <span class="hljs-string">"second-wallet"</span>
]</code></pre> 
  <h2 id="解锁钱包">解锁钱包</h2> 
  <p>命令格式：<code>$ cleos wallet unlock -n ${wallet_name} --password ${password}</code></p> 
  <p>要解锁它，请指定创建钱包时获得的密码</p> 
  <pre class="prettyprint"><code class=" hljs livecodeserver">$ cleos wallet unlock -n <span class="hljs-keyword">second</span>-wallet <span class="hljs-comment">--password PW5Ji6JUrLjhKAVn68nmacLxwhvtqUAV18J7iycZppsPKeoGGgBEw</span>
Unlocked: <span class="hljs-string">'second-wallet'</span></code></pre> 
  <h2 id="打开钱包">打开钱包</h2> 
  <p>命令格式：<code>$ cleos wallet open</code></p> 
  <pre class="prettyprint"><code class=" hljs livecodeserver">$ cleos wallet <span class="hljs-built_in">open</span>
Wallets: [
  <span class="hljs-string">"default"</span>
]
$ cleos wallet <span class="hljs-built_in">open</span> -n <span class="hljs-keyword">second</span>-wallet
Wallets: [
  <span class="hljs-string">"default"</span>,
  <span class="hljs-string">"second-wallet"</span>
]</code></pre> 
  <h2 id="创建密钥">创建密钥</h2> 
  <p>命令格式：<code>$ cleos create key</code></p> 
  <p>为了创建一个帐户，你需要两个新的密钥：所有者和主动。你可以要求cleos为你创建一些钥匙：</p> 
  <p>这将是你的Owner Key，</p> 
  <pre class="prettyprint"><code class=" hljs sql">$ cleos <span class="hljs-operator"><span class="hljs-keyword">create</span> <span class="hljs-keyword">key</span> <span class="hljs-keyword">public</span>: EOS4toFS3YXEQCkuuw1aqDLrtHim86Gz9u3hBdcBw5KNPZcursVHq private: <span class="hljs-number">5</span>JKbLfCXgcafDQVwHMm3shHt6iRWgrr9adcmt6vX3FNjAEtJGaT</span></code></pre> 
  <p>这将是你的主动键，</p> 
  <pre class="prettyprint"><code class=" hljs sql">$ cleos <span class="hljs-operator"><span class="hljs-keyword">create</span> <span class="hljs-keyword">key</span> <span class="hljs-keyword">public</span>: EOS7d9A3uLe6As66jzN8j44TXJUqJSK3bFjjEEqR4oTvNAB3iM9SA private: <span class="hljs-number">5</span>Hv22aPcjnENBv6X9o9nKGdkfrW44En6z4zJUt2PobAvbQXrT9z</span></code></pre> 
  <p>注意：cleos不保存生成的私钥。</p> 
  <h2 id="创建帐号">创建帐号</h2> 
  <p>命令格式：<code>$ cleos create account ${control_account} ${account_name} ${owner_public_key} ${active_public_key}</code></p> 
  <p>你将需要你的EOS密钥才能创建帐户，你必须在Ethereum网络上注册你的EOS密钥，或者你可以使用创建密钥功能创建一组新密钥</p> 
  <pre class="prettyprint"><code class=" hljs ruby"><span class="hljs-variable">$ </span>cleos create account inita tester <span class="hljs-constant">EOS4toFS3YXEQCkuuw1aqDLrtHim86Gz9u3hBdcBw5KNPZcursVHq</span> <span class="hljs-constant">EOS7d9A3uLe6As66jzN8j44TXJUqJSK3bFjjEEqR4oTvNAB3iM9SA</span>
{
  <span class="hljs-string">"transaction_id"</span><span class="hljs-symbol">:</span> <span class="hljs-string">"6acd2ece68c4b86c1fa209c3989235063384020781f2c67bbb80bc8d540ca120"</span>,
  <span class="hljs-string">"processed"</span><span class="hljs-symbol">:</span> {
    <span class="hljs-string">"refBlockNum"</span><span class="hljs-symbol">:</span> <span class="hljs-string">"25217"</span>,
    <span class="hljs-string">"refBlockPrefix"</span><span class="hljs-symbol">:</span> <span class="hljs-string">"2095475630"</span>,
    <span class="hljs-string">"expiration"</span><span class="hljs-symbol">:</span> <span class="hljs-string">"2017-07-25T17:54:55"</span>,
    <span class="hljs-string">"scope"</span><span class="hljs-symbol">:</span> [
      <span class="hljs-string">"eos"</span>,
      <span class="hljs-string">"inita"</span>
    ],
    <span class="hljs-string">"signatures"</span><span class="hljs-symbol">:</span> [],
    <span class="hljs-string">"messages"</span><span class="hljs-symbol">:</span> [{
        <span class="hljs-string">"code"</span><span class="hljs-symbol">:</span> <span class="hljs-string">"eos"</span>,
        <span class="hljs-string">"type"</span><span class="hljs-symbol">:</span> <span class="hljs-string">"newaccount"</span>,
        <span class="hljs-string">"authorization"</span><span class="hljs-symbol">:</span> [{
            <span class="hljs-string">"account"</span><span class="hljs-symbol">:</span> <span class="hljs-string">"inita"</span>,
            <span class="hljs-string">"permission"</span><span class="hljs-symbol">:</span> <span class="hljs-string">"active"</span>
          }
        ],
        <span class="hljs-string">"data"</span><span class="hljs-symbol">:</span> <span class="hljs-string">"c9251a0000000000b44c5a2400000000010000000102bcca6347d828d4e1868b7dfa91692a16d5b20d0ee3d16a7ca2ddcc7f6dd03344010000010000000102bcca6347d828d4e1868b7dfa91692a16d5b20d0ee3d16a7ca2ddcc7f6dd03344010000010000000001c9251a000000000061d0640b000000000100010000000000000008454f5300000000"</span>
      }
    ],
    <span class="hljs-string">"output"</span><span class="hljs-symbol">:</span> [{
        <span class="hljs-string">"notify"</span><span class="hljs-symbol">:</span> [],
        <span class="hljs-string">"sync_transactions"</span><span class="hljs-symbol">:</span> [],
        <span class="hljs-string">"async_transactions"</span><span class="hljs-symbol">:</span> []
      }
    ]
  }
}</code></pre> 
  <h2 id="子帐户">子帐户</h2> 
  <p>命令格式：<code>$ cleos get servants ${account_name}</code></p> 
  <p>要检查由帐户（控制帐户）创建的子帐户</p> 
  <pre class="prettyprint"><code class=" hljs cs">$ cleos <span class="hljs-keyword">get</span> servants inita
{
  <span class="hljs-string">"controlled_accounts"</span>: [
    <span class="hljs-string">"tester"</span>
  ]
}</code></pre> 
  <h2 id="检查帐户余额">检查帐户余额</h2> 
  <p>命令格式：<code>$ cleos get account ${account_name}</code></p> 
  <pre class="prettyprint"><code class=" hljs cs">$ cleos <span class="hljs-keyword">get</span> account tester
{
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"tester"</span>,
  <span class="hljs-string">"eos_balance"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-string">"staked_balance"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-string">"unstaking_balance"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-string">"last_unstaking_time"</span>: <span class="hljs-string">"1969-12-31T23:59:59"</span>,
  <span class="hljs-string">"permissions"</span>: [{
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"active"</span>,
      <span class="hljs-string">"parent"</span>: <span class="hljs-string">"owner"</span>,
      <span class="hljs-string">"required_auth"</span>: {
        <span class="hljs-string">"threshold"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">"keys"</span>: [{
            <span class="hljs-string">"key"</span>: <span class="hljs-string">"EOS7d9A3uLe6As66jzN8j44TXJUqJSK3bFjjEEqR4oTvNAB3iM9SA"</span>,
            <span class="hljs-string">"weight"</span>: <span class="hljs-number">1</span>
          }
        ],
        <span class="hljs-string">"accounts"</span>: []
      }
    },{
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"owner"</span>,
      <span class="hljs-string">"parent"</span>: <span class="hljs-string">"owner"</span>,
      <span class="hljs-string">"required_auth"</span>: {
        <span class="hljs-string">"threshold"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">"keys"</span>: [{
            <span class="hljs-string">"key"</span>: <span class="hljs-string">"EOS4toFS3YXEQCkuuw1aqDLrtHim86Gz9u3hBdcBw5KNPZcursVHq"</span>,
            <span class="hljs-string">"weight"</span>: <span class="hljs-number">1</span>
          }
        ],
        <span class="hljs-string">"accounts"</span>: []
      }
    }
  ]
}</code></pre> 
  <h2 id="创建或修改权限">创建或修改权限</h2> 
  <p>命令格式：<code>$ cleos set account permission ${permission} ${account} ${permission_json} ${account_authority}</code></p> 
  <p>要修改帐户的权限，你必须拥有该帐户的权限和你正在修改的权限。设置帐户权限命令可能会更改，因此它关联的类没有完整记录。</p> 
  <pre class="prettyprint"><code class=" hljs cmake">$ cleos <span class="hljs-keyword">set</span> account permission test active '{<span class="hljs-string">"threshold"</span> : <span class="hljs-number">1</span>, <span class="hljs-string">"keys"</span> : [{<span class="hljs-string">"permission"</span>:{<span class="hljs-string">"key"</span>:<span class="hljs-string">"EOS8X7Mp7apQWtL6T2sfSZzBcQNUqZB7tARFEm9gA9Tn9nbMdsvBB"</span>,<span class="hljs-string">"permission"</span>:<span class="hljs-string">"active"</span>},<span class="hljs-string">"weight"</span>:<span class="hljs-number">1</span>}], <span class="hljs-string">"accounts"</span> : [{<span class="hljs-string">"permission"</span>:{<span class="hljs-string">"actor"</span>:<span class="hljs-string">"acc2"</span>,<span class="hljs-string">"permission"</span>:<span class="hljs-string">"active"</span>},<span class="hljs-string">"weight"</span>:<span class="hljs-number">50</span>}]}' owner</code></pre> 
  <p>第二个示例修改相同的帐户权限，但删除上一个示例中的密钥集，并将@test帐户的活动权限授予另一个帐户。</p> 
  <pre class="prettyprint"><code class=" hljs cmake">$ cleos <span class="hljs-keyword">set</span> account permission test active '{<span class="hljs-string">"threshold"</span> : <span class="hljs-number">1</span>, <span class="hljs-string">"keys"</span> : [], <span class="hljs-string">"accounts"</span> : [{<span class="hljs-string">"permission"</span>:{<span class="hljs-string">"actor"</span>:<span class="hljs-string">"sandwich"</span>,<span class="hljs-string">"permission"</span>:<span class="hljs-string">"active"</span>},<span class="hljs-string">"weight"</span>:<span class="hljs-number">1</span>},{<span class="hljs-string">"permission"</span>:{<span class="hljs-string">"actor"</span>:<span class="hljs-string">"acc1"</span>,<span class="hljs-string">"permission"</span>:<span class="hljs-string">"active"</span>},<span class="hljs-string">"weight"</span>:<span class="hljs-number">50</span>}]}' owner</code></pre> 
  <p>第三个示例演示如何设置multisig的权限</p> 
  <pre class="prettyprint"><code class=" hljs cmake">$ cleos <span class="hljs-keyword">set</span> account permission test active '{<span class="hljs-string">"threshold"</span> : <span class="hljs-number">100</span>, <span class="hljs-string">"keys"</span> : [{<span class="hljs-string">"permission"</span>:{<span class="hljs-string">"key"</span>:<span class="hljs-string">"EOS8X7Mp7apQWtL6T2sfSZzBcQNUqZB7tARFEm9gA9Tn9nbMdsvBB"</span>,<span class="hljs-string">"permission"</span>:<span class="hljs-string">"active"</span>},<span class="hljs-string">"weight"</span>:<span class="hljs-number">25</span>}], <span class="hljs-string">"accounts"</span> : [{<span class="hljs-string">"permission"</span>:{<span class="hljs-string">"actor"</span>:<span class="hljs-string">"@sandwich"</span>,<span class="hljs-string">"permission"</span>:<span class="hljs-string">"active"</span>},<span class="hljs-string">"weight"</span>:<span class="hljs-number">75</span>}]}' owner</code></pre> 
  <p>此命令中使用的JSON对象实际上由两种不同类型的对象组成 权限JSON对象…</p> 
  <pre class="prettyprint"><code class=" hljs applescript">{
  <span class="hljs-string">"threshold"</span>       : <span class="hljs-number">100</span>,    /*An <span class="hljs-type">integer</span> <span class="hljs-keyword">that</span> defines cumulative signature weight required <span class="hljs-keyword">for</span> authorization*/
  <span class="hljs-string">"keys"</span>            : [],     /*An array made up <span class="hljs-keyword">of</span> individual permissions defined <span class="hljs-keyword">with</span> an EOS PUBLIC KEY*/
  <span class="hljs-string">"accounts"</span>        : []      /*An array made up <span class="hljs-keyword">of</span> individual permissions defined <span class="hljs-keyword">with</span> an EOS ACCOUNT*/
}</code></pre> 
  <p>…其中包括一个或多个权限对象</p> 
  <pre class="prettyprint"><code class=" hljs applescript">/*Set Permission <span class="hljs-keyword">with</span> Key*/
{
  <span class="hljs-string">"permission"</span> : {
    <span class="hljs-string">"key"</span>           : <span class="hljs-string">"EOS8X7Mp7apQWtL6T2sfSZzBcQNUqZB7tARFEm9gA9Tn9nbMdsvBB"</span>,
    <span class="hljs-string">"permission"</span>    : <span class="hljs-string">"active"</span>
  },
  weight            : <span class="hljs-number">25</span>      /*Set <span class="hljs-keyword">the</span> weight <span class="hljs-keyword">of</span> a signature <span class="hljs-keyword">from</span> this permission*/
}
/*Set Permission <span class="hljs-keyword">with</span> Account*/
{
  <span class="hljs-string">"permission"</span> : {
    <span class="hljs-string">"actor"</span>       : <span class="hljs-string">"sandwich"</span>,
    <span class="hljs-string">"permission"</span>  : <span class="hljs-string">"active"</span>
  },
  weight            : <span class="hljs-number">75</span>      /*Set <span class="hljs-keyword">the</span> weight <span class="hljs-keyword">of</span> a signature <span class="hljs-keyword">from</span> this permission*/
}</code></pre> 
  <h2 id="部署智能合约">部署智能合约</h2> 
  <p>命令格式：<code>$cleos set contract ../${contract}.wast ../${contract}.abi　or $cleos set contract ../${contract}</code></p> 
  <p>要将合约上传到区块链，你必须先持有一个帐户和一个持有该帐户的钱包。其次，你需要你的合约文件（.wast）和它的abi（.abi）。然后你可以继续设置代码。</p> 
  <pre class="prettyprint"><code class=" hljs avrasm">$ cleos <span class="hljs-keyword">set</span> contract currency ../../../contracts/currency/currency<span class="hljs-preprocessor">.wast</span> ../../../contracts/currency/currency<span class="hljs-preprocessor">.abi</span>
Reading WAST...
Assembling WASM...
Publishing contract...
{
  <span class="hljs-string">"transaction_id"</span>: <span class="hljs-string">"9990306e13f630a9c5436a5a0b6fb8fe2c7f3da2f342b4898a39c4a2c17dcdb3"</span>,
  <span class="hljs-string">"processed"</span>: {
    <span class="hljs-string">"refBlockNum"</span>: <span class="hljs-number">1208</span>,
    <span class="hljs-string">"refBlockPrefix"</span>: <span class="hljs-number">3058534156</span>,
    <span class="hljs-string">"expiration"</span>: <span class="hljs-string">"2017-08-24T18:29:52"</span>,
    <span class="hljs-string">"scope"</span>: [
      <span class="hljs-string">"currency"</span>,
      <span class="hljs-string">"eos"</span>
    ],
    <span class="hljs-string">"signatures"</span>: [],
    <span class="hljs-string">"messages"</span>: [{
        <span class="hljs-string">"code"</span>: <span class="hljs-string">"eos"</span>,
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"setcode"</span>,
        <span class="hljs-string">"authorization"</span>: [{
            <span class="hljs-string">"account"</span>: <span class="hljs-string">"currency"</span>,
            <span class="hljs-string">"permission"</span>: <span class="hljs-string">"active"</span>
          }
        ],
        <span class="hljs-string">"data"</span>: <span class="hljs-string">"00000079b822651d0000e8150061736d0100000001390a60017e0060037e7e7f017f60047e7e7f7f017f60017f0060057e7e7e7f7f017f60027f7f0060027f7f017f60027e7f0060000060027e7e00029d010a03656e7606617373657274000503656e76086c6f61645f693634000403656e76067072696e7469000003656e76067072696e746e000003656e76067072696e7473000303656e760b726561644d657373616765000603656e760a72656d6f76655f693634000103656e760b7265717569726541757468000003656e760d726571756972654e6f74696365000003656e760973746f72655f6936340002030706000007030809040401700000050301000107cc0107066d656d6f72790200205f5a4e33656f733133726571756972654e6f74696365454e535f344e616d6545000a1e5f5a4e33656f7331317265717569726541757468454e535f344e616d6545000b345f5a4e3863757272656e6379313273746f72654163636f756e74454e33656f73344e616d6545524b4e535f374163636f756e7445000c355f5a4e3863757272656e637932336170706c795f63757272656e63795f7472616e7366657245524b4e535f385472616e7366657245000d04696e6974000e056170706c79000f0a9d0d060600200010080b0600200010070b3400024020012903084200510d0020004280808080a8d7bee3082001411010091a0f0b20004280808080a8d7bee308200110061a0b8a0604017e027f047e017f4100410028020441206b2208360204200029030821052000290300210720002903102104411010042004100241c000100442808080c887d7c8b21d100341d00010042007100341e000100420051003200029030021052000290308100820051008200029030010072000290300210142002105423b210441f00021034200210603400240024002400240024020054206560d0020032c00002202419f7f6a41ff017141194b0d01200241a0016a21020c020b420021072005420b580d020c030b200241ea016a41002002414f6a41ff01714105491b21020b2002ad42388642388721070b2007421f83200442ffffffff0f838621070b200341016a2103200542017c2105200720068421062004427b7c2204427a520d000b420021052008420037031820082006370310200142808080c887d7c8b21d4280808080a8d7bee308200841106a411010011a200041086a2903002101423b210441f00021034200210603400240024002400240024020054206560d0020032c00002202419f7f6a41ff017141194b0d01200241a0016a21020c020b420021072005420b580d020c030b200241ea016a41002002414f6a41ff01714105491b21020b2002ad42388642388721070b2007421f83200442ffffffff0f838621070b200341016a2103200542017c2105200720068421062004427b7c2204427a520d000b2008200637030020084200370308200142808080c887d7c8b21d4280808080a8d7bee3082008411010011a200841186a2203290300200041106a22022903005a418001100020032003290300200229030022057d370300200520082903087c20055a41b00110002008200829030820022903007c370308200029030021050240024020032903004200510d0020054280808080a8d7bee308200841106a411010091a0c010b20054280808080a8d7bee308200841106a10061a0b200041086a290300210502400240200841086a2903004200510d0020054280808080a8d7bee3082008411010091a0c010b20054280808080a8d7bee308200810061a0b4100200841206a3602040b980303027f057e017f4100410028020441106b220736020442002103423b210241e00121014200210403400240024002400240024020034207560d0020012c00002200419f7f6a41ff017141194b0d01200041a0016a21000c020b420021052003420b580d020c030b200041ea016a41002000414f6a41ff01714105491b21000b2000ad42388642388721050b2005421f83200242ffffffff0f838621050b200141016a2101200342017c2103200520048421042002427b7c2202427a520d000b42002103423b210241f00021014200210603400240024002400240024020034206560d0020012c00002200419f7f6a41ff017141194b0d01200041a0016a21000c020b420021052003420b580d020c030b200041ea016a41002000414f6a41ff01714105491b21000b2000ad42388642388721050b2005421f83200242ffffffff0f838621050b200141016a2101200342017c2103200520068421062002427b7c2202427a520d000b2007428094ebdc033703082007200637030020044280808080a8d7bee3082007411010091a4100200741106a3602040bb10303027f047e017f4100410028020441206b220836020442002105423b210441e00121034200210603400240024002400240024020054207560d0020032c00002202419f7f6a41ff017141194b0d01200241a0016a21020c020b420021072005420b580d020c030b200241ea016a41002002414f6a41ff01714105491b21020b2002ad42388642388721070b2007421f83200442ffffffff0f838621070b200341016a2103200542017c2105200720068421062004427b7c2204427a520d000b024020062000520d0042002105423b210441f00121034200210603400240024002400240024020054207560d0020032c00002202419f7f6a41ff017141194b0d01200241a0016a21020c020b420021072005420b580d020c030b200241ea016a41002002414f6a41ff01714105491b21020b2002ad42388642388721070b2007421f83200442ffffffff0f838621070b200341016a2103200542017c2105200720068421062004427b7c2204427a520d000b20062001520d00200842003703102008420037030820084200370318200841086a4118100541174b4180021000200841086a100d0b4100200841206a3602040b0bff010b0041040b04200500000041100b2254686973206170706561727320746f2062652061207472616e73666572206f6620000041c0000b0220000041d0000b072066726f6d20000041e0000b0520746f20000041f0000b086163636f756e7400004180010b2c696e746567657220756e646572666c6f77207375627472616374696e6720746f6b656e2062616c616e6365000041b0010b26696e7465676572206f766572666c6f7720616464696e6720746f6b656e2062616c616e6365000041e0010b0963757272656e6379000041f0010b097472616e7366657200004180020b1e6d6573736167652073686f72746572207468616e2065787065637465640000fd02046e616d651006617373657274020000086c6f61645f693634050000000000067072696e74690100067072696e746e0100067072696e747301000b726561644d6573736167650200000a72656d6f76655f693634030000000b726571756972654175746801000d726571756972654e6f7469636501000973746f72655f6936340400000000205f5a4e33656f733133726571756972654e6f74696365454e535f344e616d65450101301e5f5a4e33656f7331317265717569726541757468454e535f344e616d6545010130345f5a4e3863757272656e6379313273746f72654163636f756e74454e33656f73344e616d6545524b4e535f374163636f756e74450201300131355f5a4e3863757272656e637932336170706c795f63757272656e63795f7472616e7366657245524b4e535f385472616e73666572450901300131013201330134013501360137013804696e69740801300131013201330134013501360137056170706c7909013001310132013301340135013601370138010b4163636f756e744e616d65044e616d6502087472616e7366657200030466726f6d0b4163636f756e744e616d6502746f0b4163636f756e744e616d65087175616e746974790655496e743634076163636f756e740002036b65790655496e7436340762616c616e63650655496e74363401000000b298e982a4087472616e736665720100000080bafac608076163636f756e74"</span>
      }
    ],
    <span class="hljs-string">"output"</span>: [{
        <span class="hljs-string">"notify"</span>: [],
        <span class="hljs-string">"sync_transactions"</span>: [],
        <span class="hljs-string">"async_transactions"</span>: []
      }
    ]
  }
}</code></pre> 
  <h2 id="查询abi">查询ABI</h2> 
  <p>命令格式：<code>$ cleos get code -a ${contract}.abi ${contract}</code></p> 
  <p>我们可以在区块链中查询合约的.abi，我们可以在其中查看可用操作列表及其各自的消息结构</p> 
  <pre class="prettyprint"><code class=" hljs livecodeserver">$ cleos <span class="hljs-built_in">get</span> code -<span class="hljs-operator">a</span> currency.abi currency
code hash: <span class="hljs-number">9</span>b9db1a7940503a88535517049e64467a6e8f4e9e03af15e9968ec89dd794975
saving abi <span class="hljs-built_in">to</span> currency.abi
$ cat currency.abi
{
  <span class="hljs-string">"types"</span>: [{
      <span class="hljs-string">"newTypeName"</span>: <span class="hljs-string">"AccountName"</span>,
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"Name"</span>
    }
  ],
  <span class="hljs-string">"structs"</span>: [{
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"transfer"</span>,
      <span class="hljs-string">"base"</span>: <span class="hljs-string">""</span>,
      <span class="hljs-string">"fields"</span>: {
        <span class="hljs-string">"from"</span>: <span class="hljs-string">"AccountName"</span>,
        <span class="hljs-string">"to"</span>: <span class="hljs-string">"AccountName"</span>,
        <span class="hljs-string">"amount"</span>: <span class="hljs-string">"UInt64"</span>
      }
    },{
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"account"</span>,
      <span class="hljs-string">"base"</span>: <span class="hljs-string">""</span>,
      <span class="hljs-string">"fields"</span>: {
        <span class="hljs-string">"account"</span>: <span class="hljs-string">"Name"</span>,
        <span class="hljs-string">"balance"</span>: <span class="hljs-string">"UInt64"</span>
      }
    }
  ],
  <span class="hljs-string">"actions"</span>: [{
      <span class="hljs-string">"action"</span>: <span class="hljs-string">"transfer"</span>,
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"transfer"</span>
    }
  ],
  <span class="hljs-string">"tables"</span>: [{
      <span class="hljs-string">"table"</span>: <span class="hljs-string">"account"</span>,
      <span class="hljs-string">"indextype"</span>: <span class="hljs-string">"i64"</span>,
      <span class="hljs-string">"keynames"</span>: [
        <span class="hljs-string">"account"</span>
      ],
      <span class="hljs-string">"keytype"</span>: [],
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"account"</span>
    }
  ]
}</code></pre> 
  <h2 id="推送操作">推送操作</h2> 
  <p>根据合约ABI，消息应该是合约。</p> 
  <p>例如，货币合约的ABI被构造如下。</p> 
  <pre class="prettyprint"><code class=" hljs livecodeserver">$ cleos <span class="hljs-built_in">get</span> code -<span class="hljs-operator">a</span> currency.abi currency
code hash: <span class="hljs-number">9</span>b9db1a7940503a88535517049e64467a6e8f4e9e03af15e9968ec89dd794975
saving abi <span class="hljs-built_in">to</span> currency.abi
$ cat currency.abi
{
  <span class="hljs-string">"types"</span>: [{
      <span class="hljs-string">"newTypeName"</span>: <span class="hljs-string">"AccountName"</span>,
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"Name"</span>
    }
  ],
  <span class="hljs-string">"structs"</span>: [{
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"transfer"</span>,
      <span class="hljs-string">"base"</span>: <span class="hljs-string">""</span>,
      <span class="hljs-string">"fields"</span>: {
        <span class="hljs-string">"from"</span>: <span class="hljs-string">"AccountName"</span>,
        <span class="hljs-string">"to"</span>: <span class="hljs-string">"AccountName"</span>,
        <span class="hljs-string">"amount"</span>: <span class="hljs-string">"UInt64"</span>
      }
    },{
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"account"</span>,
      <span class="hljs-string">"base"</span>: <span class="hljs-string">""</span>,
      <span class="hljs-string">"fields"</span>: {
        <span class="hljs-string">"account"</span>: <span class="hljs-string">"Name"</span>,
        <span class="hljs-string">"balance"</span>: <span class="hljs-string">"UInt64"</span>
      }
    }
  ],
  <span class="hljs-string">"actions"</span>: [{
      <span class="hljs-string">"action"</span>: <span class="hljs-string">"transfer"</span>,
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"transfer"</span>
    }
  ],
  <span class="hljs-string">"tables"</span>: [{
      <span class="hljs-string">"table"</span>: <span class="hljs-string">"account"</span>,
      <span class="hljs-string">"indextype"</span>: <span class="hljs-string">"i64"</span>,
      <span class="hljs-string">"keynames"</span>: [
        <span class="hljs-string">"account"</span>
      ],
      <span class="hljs-string">"keytype"</span>: [],
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"account"</span>
    }
  ]
}</code></pre> 
  <p>从上面的abi中，我们可以看到货币合约接受一个叫做transfer的操作，它接受带有from，to和amount字段的消息。</p> 
  <pre class="prettyprint"><code class=" hljs applescript">$ ./cleos push message currency transfer '{<span class="hljs-string">"from"</span>:<span class="hljs-string">"currency"</span>,<span class="hljs-string">"to"</span>:<span class="hljs-string">"tester"</span>,<span class="hljs-string">"amount"</span>:<span class="hljs-number">50</span>}' -S currency -S tester -p currency@active
<span class="hljs-number">1589302</span>ms thread-<span class="hljs-number">0</span>   main.cpp:<span class="hljs-number">271</span>                  operator()           ] Converting argument <span class="hljs-keyword">to</span> binary...
<span class="hljs-number">1589304</span>ms thread-<span class="hljs-number">0</span>   main.cpp:<span class="hljs-number">290</span>                  operator()           ] Transaction <span class="hljs-constant">result</span>:
{
  <span class="hljs-string">"transaction_id"</span>: <span class="hljs-string">"1c4911c0b277566dce4217edbbca0f688f7bdef761ed445ff31b31f286720057"</span>,
  <span class="hljs-string">"processed"</span>: {
    <span class="hljs-string">"refBlockNum"</span>: <span class="hljs-number">1173</span>,
    <span class="hljs-string">"refBlockPrefix"</span>: <span class="hljs-number">2184027244</span>,
    <span class="hljs-string">"expiration"</span>: <span class="hljs-string">"2017-08-24T18:28:07"</span>,
    <span class="hljs-string">"scope"</span>: [
      <span class="hljs-string">"currency"</span>,
      <span class="hljs-string">"tester"</span>
    ],
    <span class="hljs-string">"signatures"</span>: [],
    <span class="hljs-string">"messages"</span>: [{
        <span class="hljs-string">"code"</span>: <span class="hljs-string">"currency"</span>,
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"transfer"</span>,
        <span class="hljs-string">"authorization"</span>: [{
            <span class="hljs-string">"account"</span>: <span class="hljs-string">"currency"</span>,
            <span class="hljs-string">"permission"</span>: <span class="hljs-string">"active"</span>
          }
        ],
        <span class="hljs-string">"data"</span>: {
          <span class="hljs-string">"from"</span>: <span class="hljs-string">"currency"</span>,
          <span class="hljs-string">"to"</span>: <span class="hljs-string">"tester"</span>,
          <span class="hljs-string">"quantity"</span>: <span class="hljs-number">50</span>
        },
        <span class="hljs-string">"hex_data"</span>: <span class="hljs-string">"00000079b822651d00000000c84267a13200000000000000"</span>
      }
    ],
    <span class="hljs-string">"output"</span>: [{
        <span class="hljs-string">"notify"</span>: [{
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"tester"</span>,
            <span class="hljs-string">"output"</span>: {
              <span class="hljs-string">"notify"</span>: [],
              <span class="hljs-string">"sync_transactions"</span>: [],
              <span class="hljs-string">"async_transactions"</span>: []
            }
          }
        ],
        <span class="hljs-string">"sync_transactions"</span>: [],
        <span class="hljs-string">"async_transactions"</span>: []
      }
    ]
  }
}</code></pre> 
  <h2 id="查询智能合约">查询智能合约</h2> 
  <p>命令格式：<code>$ cleos get code -a ${contract}.abi ${contract}</code></p> 
  <p>根据合约中定义的表结构，你可以查询合约中的数据。 例如，currency合约ABI包含账户表。</p> 
  <pre class="prettyprint"><code class=" hljs r">$ cleos get code -a currency.abi currency
code hash: 9b9db1a7940503a88535517049e64467a6e8f4e9e03af15e9968ec89dd794975
saving abi to currency.abi
$ cat currency.abi
{
  <span class="hljs-keyword">...</span>
  <span class="hljs-string">"tables"</span>: [{
      <span class="hljs-string">"table"</span>: <span class="hljs-string">"account"</span>,
      <span class="hljs-string">"indextype"</span>: <span class="hljs-string">"i64"</span>,
      <span class="hljs-string">"keynames"</span>: [
        <span class="hljs-string">"account"</span>
      ],
      <span class="hljs-string">"keytype"</span>: [],
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"account"</span>
    }
  ]
}</code></pre> 
  <h2 id="查询表">查询表</h2> 
  <p>命令格式：<code>$ cleos get table ${field} ${contract} ${table}</code></p> 
  <p>你可以查询指定必要字段的表格。</p> 
  <pre class="prettyprint"><code class=" hljs cs">$ cleos <span class="hljs-keyword">get</span> table inita currency account
{
  <span class="hljs-string">"rows"</span>: [{
      <span class="hljs-string">"account"</span>: <span class="hljs-string">"account"</span>,
      <span class="hljs-string">"balance"</span>: <span class="hljs-number">50</span>
    }
  ],
  <span class="hljs-string">"more"</span>: <span class="hljs-keyword">true</span>
}</code></pre> 
  <h2 id="跳过签名">跳过签名</h2> 
  <p>命令格式：<code>$ cleos push action ${contract} ${action} ${param} -S ${scope_1} -S ${scope_2} -p ${account}@active</code></p> 
  <p>如果你的本地运行nodeos，作为开发人员在不处理密钥的情况下测试功能的简便方法，则可以运行nodeos以便不需要Transaction签名。</p> 
  <pre class="prettyprint"><code class=" hljs lasso">$ nodeos <span class="hljs-subst">--</span><span class="hljs-keyword">skip</span><span class="hljs-attribute">-transaction</span><span class="hljs-attribute">-signatures</span></code></pre> 
  <p>然后对于任何需要签名的操作，请使用-s选项</p> 
  <pre class="prettyprint"><code class=" hljs bash">$ cleos <span class="hljs-variable">${command}</span> <span class="hljs-variable">${subcommand}</span> <span class="hljs-operator">-s</span> <span class="hljs-variable">${param}</span></code></pre> 
  <p>夹带个私货 <strong>《EOS智能合约与DApp开发入门教程》</strong>已经上线，欢迎大家来学习互动：</p> 
  <p><a href="http://xc.hubwiz.com/course/5b52c0a2c02e6b6a59171ded?affid=728csdn" rel="nofollow">EOS教程</a></p> 
  <p>本教程帮助你快速入门EOS区块链去中心化应用的开发，内容涵盖EOS工具链、账户与钱包、发行代币、智能合约开发与部署、使用代码与智能合约交互等核心知识点，最后综合运用React和EOS的各知识点完成一个便签DApp的开发。</p> 
  <blockquote> 
   <ul> 
    <li><a href="http://xc.hubwiz.com/course/5b2b6e82c02e6b6a59171de2?affid=728csdn" rel="nofollow">web3j教程</a>，主要是针对java和android程序员进行区块链以太坊开发的web3j详解。</li> 
    <li><a href="http://xc.hubwiz.com/course/5a952991adb3847553d205d1?affid=728csdn" rel="nofollow">以太坊教程</a>，主要介绍智能合约与dapp应用开发，适合入门。</li> 
    <li><a href="http://xc.hubwiz.com/course/5abbb7acc02e6b6a59171dd6?affid=728csdn" rel="nofollow">以太坊开发</a>，主要是介绍使用node.js、mongodb、区块链、ipfs实现去中心化电商DApp实战，适合进阶。</li> 
    <li><a href="http://xc.hubwiz.com/course/5b40462cc02e6b6a59171de4?affid=728csdn" rel="nofollow">python以太坊</a>，主要是针对python工程师使用web3.py进行区块链以太坊开发的详解。</li> 
    <li><a href="http://xc.hubwiz.com/course/5b36629bc02e6b6a59171de3?affid=728csdn" rel="nofollow">php以太坊</a>，主要是介绍使用php进行智能合约开发交互，进行账号创建、交易、转账、代币开发以及过滤器和事件等内容。</li> 
   </ul> 
  </blockquote> 
 </div> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/markdown_views-ea0013b516.css"> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/mongo_node/article/details/81261313,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/mongo_node/article/details/81261313,&quot;}">阅读更多</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0d1dbe5a3e5863242418b768d1601633";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
