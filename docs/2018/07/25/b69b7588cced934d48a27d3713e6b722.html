<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>EOS如何开发通证Token或者代币智能合约 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="EOS如何开发通证Token或者代币智能合约" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Eosio.token、Exchange 和 Eosio.msig 智能合约 本教程假定你已经完成了EOS开发从智能合约开始（一）。 在这个阶段，区块链没有做太多的事情，现在我们来部署eosio.token。该合约允许创建许多不同的通证(token,也有叫令牌的，以下直接用token)，这些token都在同一个合约上运行，但可能由不同的用户管理。 在部署 token 合约之前，我们必须创建一个用来部署它的帐户，代码如下： $ cleos create account eosio eosio.token \ EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4 \ EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4 ... 然后我们可以所部署合约中找到它： ${EOSIO_SOURCE}/build/contracts/eosio.token 然后： $ cleos set contract eosio.token build/contracts/eosio.token -p eosio.token@active Reading WAST... Assembling WASM... Publishing contract... executed transaction: 528bdbce1181dc5fd72a24e4181e6587dace8ab43b2d7ac9b22b2017992a07ad 8708 bytes 10000 cycles # eosio &lt;= eosio::setcode {&quot;account&quot;:&quot;eosio.token&quot;,&quot;vmtype&quot;:0,&quot;vmversion&quot;:0,&quot;code&quot;:&quot;0061736d0100000001ce011d60067f7e7f7f7f7f00... # eosio &lt;= eosio::setabi {&quot;account&quot;:&quot;eosio.token&quot;,&quot;abi&quot;:{&quot;types&quot;:[],&quot;structs&quot;:[{&quot;name&quot;:&quot;transfer&quot;,&quot;base&quot;:&quot;&quot;,&quot;fields&quot;:[{&quot;name&quot;... 创建 Exchange 合约 你可以查看智能合约eosio.token的定义，如contracts/eosio.token/eosio.token.hpp： void create( account_name issuer, asset maximum_supply ); void issue( account_name to, asset quantity, string memo ); void transfer( account_name from, account_name to, asset quantity, string memo ); 要创建新的token，我们必须用适当的参数调用create(...)。此命令将使用最大标识符号来唯一地标识（其实就是注册）tokens列表中这一个新建的token。创建者将有权发行，或执行其他操作，如冻结，召回，和列入所有者白名单。 使用地址参数调用此方法的简单办法： $ cleos push action eosio.token create &#39;[ &quot;eosio&quot;, &quot;1000000000.0000 SYS&quot;]&#39; \ -p eosio.token@active executed transaction: 0e49a421f6e75f4c5e09dd738a02d3f51bd18a0cf31894f68d335cd70d9c0e12 120 bytes 1000 cycles # eosio.token &lt;= eosio.token::create {&quot;issuer&quot;:&quot;eosio&quot;,&quot;maximum_supply&quot;:&quot;1000000000.0000 SYS&quot;} 或者，使用命名参数调用此方法： $ cleos push action eosio.token create \ &#39;{&quot;issuer&quot;:&quot;eosio&quot;, &quot;maximum_supply&quot;:&quot;1000000000.0000 SYS&quot;}&#39; \ -p eosio.token@active executed transaction: 0e49a421f6e75f4c5e09dd738a02d3f51bd18a0cf31894f68d335cd70d9c0e12 120 bytes 1000 cycles # eosio.token &lt;= eosio.token::create {&quot;issuer&quot;:&quot;eosio&quot;,&quot;maximum_supply&quot;:&quot;1000000000.0000 SYS&quot;} 此命令创建了一个新的 token 名称为 SYS，其精度为4位小数，最大供应量为 1000000000.0000 SYS。 为了创建这个token，我们需要eosio.token合约的许可，因为owns即它对代币注册表有所有权（例如SYS）。该合约的未来版本可以允许其他各方自动购买这些各种名称的代币。出于这个原因，我们必须通过-p eosio.token@active来授权此调用。 将代币发送到“User”帐户中 现在我们已经创建了token，发行者可以向我们先前创建的帐户用户发出新的token。如果你没有创建一个名为“User”的帐户，请参阅这里的说明。 我们将使用参数调用约定（vs named args）。 $ cleos push action eosio.token issue &#39;[ &quot;user&quot;, &quot;100.0000 SYS&quot;, &quot;memo&quot; ]&#39; \ -p eosio@active executed transaction: 822a607a9196112831ecc2dc14ffb1722634f1749f3ac18b73ffacd41160b019 268 bytes 1000 cycles # eosio.token &lt;= eosio.token::issue {&quot;to&quot;:&quot;user&quot;,&quot;quantity&quot;:&quot;100.0000 SYS&quot;,&quot;memo&quot;:&quot;memo&quot;} &gt;&gt; issue # eosio.token &lt;= eosio.token::transfer {&quot;from&quot;:&quot;eosio&quot;,&quot;to&quot;:&quot;user&quot;,&quot;quantity&quot;:&quot;100.0000 SYS&quot;,&quot;memo&quot;:&quot;memo&quot;} &gt;&gt; transfer # eosio &lt;= eosio.token::transfer {&quot;from&quot;:&quot;eosio&quot;,&quot;to&quot;:&quot;user&quot;,&quot;quantity&quot;:&quot;100.0000 SYS&quot;,&quot;memo&quot;:&quot;memo&quot;} # user &lt;= eosio.token::transfer {&quot;from&quot;:&quot;eosio&quot;,&quot;to&quot;:&quot;user&quot;,&quot;quantity&quot;:&quot;100.0000 SYS&quot;,&quot;memo&quot;:&quot;memo&quot;} 这次输出，包含几个不同的操作：一个发送和三个转移。虽然我们签署的唯一操作是发送，但发送操作执行了“内联转移”，“内联转移”通知发送者和接收者账户。输出指示被调用的所有操作处理程序，调用它们的顺序，以及操作是否生成任何输出。 从技术上讲，eosio.token合约可以跳过“内链转移”，并选择直接修改余额。然而，在这种情况下，eosio.token遵循我们的token约定，该约定要求所有帐户余额可由引用它们的转移操作的总和来推导。还要求通知资金发送方和接收方，以便他们能够自动处理存款和取款。 如果你想查看发送的实际交易，可以使用-d选项显示“不发送”和“将交易返回为JSON格式”。 $ cleos push action eosio.token issue &#39;[&quot;user&quot;, &quot;100.0000 SYS&quot;, &quot;memo&quot;]&#39; -p eosio@active -d -j { &quot;expiration&quot;: &quot;2018-05-25T19:02:58&quot;, &quot;ref_block_num&quot;: 18200, &quot;ref_block_prefix&quot;: 614206268, &quot;max_net_usage_words&quot;: 0, &quot;max_cpu_usage_ms&quot;: 0, &quot;delay_sec&quot;: 0, &quot;context_free_actions&quot;: [], &quot;actions&quot;: [{ &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;issue&quot;, &quot;authorization&quot;: [{ &quot;actor&quot;: &quot;eosio&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;00000000007015d640420f00000000000453595300000000046d656d6f&quot; } ], &quot;transaction_extensions&quot;: [], &quot;signatures&quot;: [ &quot;SIG_K1_Khyk1GsxWCx4axqYMF2AREDvaZtZdFaQifNPkR9DomR7toJ4sGua7pMBNq2osV5TY8rcGNcgNwn1eFe3noAXsoUA26HNDJ&quot; ], &quot;context_free_data&quot;: [] } 将代币发送到帐户“tester” 现在该帐户user有token，我们会将一些代币发送给帐户tester。 我们指定user使用权限参数-p user@active授权此操作。 $ cleos push action eosio.token transfer \ &#39;[ &quot;user&quot;, &quot;tester&quot;, &quot;25.0000 SYS&quot;, &quot;m&quot; ]&#39; -p user@active executed transaction: 06d0a99652c11637230d08a207520bf38066b8817ef7cafaab2f0344aafd7018 268 bytes 1000 cycles # eosio.token &lt;= eosio.token::transfer {&quot;from&quot;:&quot;user&quot;,&quot;to&quot;:&quot;tester&quot;,&quot;quantity&quot;:&quot;25.0000 SYS&quot;,&quot;memo&quot;:&quot;m&quot;} &gt;&gt; transfer # user &lt;= eosio.token::transfer {&quot;from&quot;:&quot;user&quot;,&quot;to&quot;:&quot;tester&quot;,&quot;quantity&quot;:&quot;25.0000 SYS&quot;,&quot;memo&quot;:&quot;m&quot;} # tester &lt;= eosio.token::transfer {&quot;from&quot;:&quot;user&quot;,&quot;to&quot;:&quot;tester&quot;,&quot;quantity&quot;:&quot;25.0000 SYS&quot;,&quot;memo&quot;:&quot;m&quot;} 部署交易EXchange合约 与上面显示的示例类似，我们可以部署 Exchange 合约。Exchange 合约提供了创建和交易货币的能力。假设这是从EOSIO源代码的根目录运行的。 $ cleos create account eosio exchange \ EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4 \ EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4 executed transaction: 4d38de16631a2dc698f1d433f7eb30982d855219e7c7314a888efbbba04e571c 364 bytes 1000 cycles # eosio &lt;= eosio::newaccount {&quot;creator&quot;:&quot;eosio&quot;,&quot;name&quot;:&quot;exchange&quot;,&quot;owner&quot;:{&quot;threshold&quot;:1,&quot;keys&quot;:[{&quot;key&quot;:&quot;EOS7ijWCBmoXBi3CgtK7DJxe... $ cleos set contract exchange build/contracts/exchange -p exchange@active Reading WAST/WASM from build/contracts/exchange/exchange.wasm... Using already assembled WASM... Publishing contract... executed transaction: 503dddec456ae301ef467c6a05bc6bf61e1ea21ab911ef6cc6e0750001b675c8 33888 bytes 5841 us # eosio &lt;= eosio::setcode {&quot;account&quot;:&quot;exchange&quot;,&quot;vmtype&quot;:0,&quot;vmversion&quot;:0,&quot;code&quot;:&quot;0061736d0100000001bb022f60067f7e7f7f7f7f00600... # eosio &lt;= eosio::setabi {&quot;account&quot;:&quot;exchange&quot;,&quot;abi&quot;:&quot;0e656f73696f3a3a6162692f312e30010c6163636f756e745f6e616d65046e616d650e0... 部署Eosio.msig合约 eosio.msig合约允许多方异步签署单个交易。EOSIO本身具有多重签名（multisig）基础支持，但它需要一个同步通道，主要是进行数据传送和签名。Eosio.msig是一种对用户更加友好方式，可以在多方同意的情况下异步提议，批准并最终发布交易。 以下步骤可用于部署eosio.msig合约: $ cleos create account eosio eosio.msig \ EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4 \ EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4 # eosio &lt;= eosio::newaccount {&quot;creator&quot;:&quot;eosio&quot;,&quot;name&quot;:&quot;eosio.msig&quot;,&quot;owner&quot;:{&quot;threshold&quot;:1,&quot;keys&quot;:[{&quot;key&quot;:&quot;EOS7ijWCBmoXBi3CgtK7DJ... $ cleos set contract eosio.msig build/contracts/eosio.msig -p eosio.msig@active Reading WAST/WASM from build/contracts/eosio.msig/eosio.msig.wasm... Using already assembled WASM... Publishing contract... executed transaction: 3433c434bdef42ba2150d5df46c17e0258f20b7836a057911faa2daa66262338 8864 bytes 1319 us # eosio &lt;= eosio::setcode {&quot;account&quot;:&quot;eosio.msig&quot;,&quot;vmtype&quot;:0,&quot;vmversion&quot;:0,&quot;code&quot;:&quot;0061736d010000000198011760017f0060047f7e7e7... # eosio &lt;= eosio::setabi {&quot;account&quot;:&quot;eosio.msig&quot;,&quot;abi&quot;:&quot;0e656f73696f3a3a6162692f312e30030c6163636f756e745f6e616d65046e616d650... 另：《EOS智能合约与DApp开发入门》教程已经上线，爱学习等不及的可以抓紧体验一下： EOS教程 本教程帮助你快速入门EOS区块链去中心化应用的开发，内容涵盖EOS工具链、账户与钱包、发行代币、智能合约开发与部署、使用代码与智能合约交互等核心知识点，最后综合运用React和EOS的各知识点完成一个便签DApp的开发。 如果你也在做以太坊开发，那么可以看看这些教程： web3j教程，主要是针对java和android程序员进行区块链以太坊开发的web3j详解。 以太坊教程，主要介绍智能合约与dapp应用开发，适合入门。 以太坊开发，主要是介绍使用node.js、mongodb、区块链、ipfs实现去中心化电商DApp实战，适合进阶。 python以太坊，主要是针对python工程师使用web3.py进行区块链以太坊开发的详解。 php以太坊，主要是介绍使用php进行智能合约开发交互，进行账号创建、交易、转账、代币开发以及过滤器和事件等内容。 博客原文在这里：EOS token 智能合约开发 阅读更多" />
<meta property="og:description" content="Eosio.token、Exchange 和 Eosio.msig 智能合约 本教程假定你已经完成了EOS开发从智能合约开始（一）。 在这个阶段，区块链没有做太多的事情，现在我们来部署eosio.token。该合约允许创建许多不同的通证(token,也有叫令牌的，以下直接用token)，这些token都在同一个合约上运行，但可能由不同的用户管理。 在部署 token 合约之前，我们必须创建一个用来部署它的帐户，代码如下： $ cleos create account eosio eosio.token \ EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4 \ EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4 ... 然后我们可以所部署合约中找到它： ${EOSIO_SOURCE}/build/contracts/eosio.token 然后： $ cleos set contract eosio.token build/contracts/eosio.token -p eosio.token@active Reading WAST... Assembling WASM... Publishing contract... executed transaction: 528bdbce1181dc5fd72a24e4181e6587dace8ab43b2d7ac9b22b2017992a07ad 8708 bytes 10000 cycles # eosio &lt;= eosio::setcode {&quot;account&quot;:&quot;eosio.token&quot;,&quot;vmtype&quot;:0,&quot;vmversion&quot;:0,&quot;code&quot;:&quot;0061736d0100000001ce011d60067f7e7f7f7f7f00... # eosio &lt;= eosio::setabi {&quot;account&quot;:&quot;eosio.token&quot;,&quot;abi&quot;:{&quot;types&quot;:[],&quot;structs&quot;:[{&quot;name&quot;:&quot;transfer&quot;,&quot;base&quot;:&quot;&quot;,&quot;fields&quot;:[{&quot;name&quot;... 创建 Exchange 合约 你可以查看智能合约eosio.token的定义，如contracts/eosio.token/eosio.token.hpp： void create( account_name issuer, asset maximum_supply ); void issue( account_name to, asset quantity, string memo ); void transfer( account_name from, account_name to, asset quantity, string memo ); 要创建新的token，我们必须用适当的参数调用create(...)。此命令将使用最大标识符号来唯一地标识（其实就是注册）tokens列表中这一个新建的token。创建者将有权发行，或执行其他操作，如冻结，召回，和列入所有者白名单。 使用地址参数调用此方法的简单办法： $ cleos push action eosio.token create &#39;[ &quot;eosio&quot;, &quot;1000000000.0000 SYS&quot;]&#39; \ -p eosio.token@active executed transaction: 0e49a421f6e75f4c5e09dd738a02d3f51bd18a0cf31894f68d335cd70d9c0e12 120 bytes 1000 cycles # eosio.token &lt;= eosio.token::create {&quot;issuer&quot;:&quot;eosio&quot;,&quot;maximum_supply&quot;:&quot;1000000000.0000 SYS&quot;} 或者，使用命名参数调用此方法： $ cleos push action eosio.token create \ &#39;{&quot;issuer&quot;:&quot;eosio&quot;, &quot;maximum_supply&quot;:&quot;1000000000.0000 SYS&quot;}&#39; \ -p eosio.token@active executed transaction: 0e49a421f6e75f4c5e09dd738a02d3f51bd18a0cf31894f68d335cd70d9c0e12 120 bytes 1000 cycles # eosio.token &lt;= eosio.token::create {&quot;issuer&quot;:&quot;eosio&quot;,&quot;maximum_supply&quot;:&quot;1000000000.0000 SYS&quot;} 此命令创建了一个新的 token 名称为 SYS，其精度为4位小数，最大供应量为 1000000000.0000 SYS。 为了创建这个token，我们需要eosio.token合约的许可，因为owns即它对代币注册表有所有权（例如SYS）。该合约的未来版本可以允许其他各方自动购买这些各种名称的代币。出于这个原因，我们必须通过-p eosio.token@active来授权此调用。 将代币发送到“User”帐户中 现在我们已经创建了token，发行者可以向我们先前创建的帐户用户发出新的token。如果你没有创建一个名为“User”的帐户，请参阅这里的说明。 我们将使用参数调用约定（vs named args）。 $ cleos push action eosio.token issue &#39;[ &quot;user&quot;, &quot;100.0000 SYS&quot;, &quot;memo&quot; ]&#39; \ -p eosio@active executed transaction: 822a607a9196112831ecc2dc14ffb1722634f1749f3ac18b73ffacd41160b019 268 bytes 1000 cycles # eosio.token &lt;= eosio.token::issue {&quot;to&quot;:&quot;user&quot;,&quot;quantity&quot;:&quot;100.0000 SYS&quot;,&quot;memo&quot;:&quot;memo&quot;} &gt;&gt; issue # eosio.token &lt;= eosio.token::transfer {&quot;from&quot;:&quot;eosio&quot;,&quot;to&quot;:&quot;user&quot;,&quot;quantity&quot;:&quot;100.0000 SYS&quot;,&quot;memo&quot;:&quot;memo&quot;} &gt;&gt; transfer # eosio &lt;= eosio.token::transfer {&quot;from&quot;:&quot;eosio&quot;,&quot;to&quot;:&quot;user&quot;,&quot;quantity&quot;:&quot;100.0000 SYS&quot;,&quot;memo&quot;:&quot;memo&quot;} # user &lt;= eosio.token::transfer {&quot;from&quot;:&quot;eosio&quot;,&quot;to&quot;:&quot;user&quot;,&quot;quantity&quot;:&quot;100.0000 SYS&quot;,&quot;memo&quot;:&quot;memo&quot;} 这次输出，包含几个不同的操作：一个发送和三个转移。虽然我们签署的唯一操作是发送，但发送操作执行了“内联转移”，“内联转移”通知发送者和接收者账户。输出指示被调用的所有操作处理程序，调用它们的顺序，以及操作是否生成任何输出。 从技术上讲，eosio.token合约可以跳过“内链转移”，并选择直接修改余额。然而，在这种情况下，eosio.token遵循我们的token约定，该约定要求所有帐户余额可由引用它们的转移操作的总和来推导。还要求通知资金发送方和接收方，以便他们能够自动处理存款和取款。 如果你想查看发送的实际交易，可以使用-d选项显示“不发送”和“将交易返回为JSON格式”。 $ cleos push action eosio.token issue &#39;[&quot;user&quot;, &quot;100.0000 SYS&quot;, &quot;memo&quot;]&#39; -p eosio@active -d -j { &quot;expiration&quot;: &quot;2018-05-25T19:02:58&quot;, &quot;ref_block_num&quot;: 18200, &quot;ref_block_prefix&quot;: 614206268, &quot;max_net_usage_words&quot;: 0, &quot;max_cpu_usage_ms&quot;: 0, &quot;delay_sec&quot;: 0, &quot;context_free_actions&quot;: [], &quot;actions&quot;: [{ &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;issue&quot;, &quot;authorization&quot;: [{ &quot;actor&quot;: &quot;eosio&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;00000000007015d640420f00000000000453595300000000046d656d6f&quot; } ], &quot;transaction_extensions&quot;: [], &quot;signatures&quot;: [ &quot;SIG_K1_Khyk1GsxWCx4axqYMF2AREDvaZtZdFaQifNPkR9DomR7toJ4sGua7pMBNq2osV5TY8rcGNcgNwn1eFe3noAXsoUA26HNDJ&quot; ], &quot;context_free_data&quot;: [] } 将代币发送到帐户“tester” 现在该帐户user有token，我们会将一些代币发送给帐户tester。 我们指定user使用权限参数-p user@active授权此操作。 $ cleos push action eosio.token transfer \ &#39;[ &quot;user&quot;, &quot;tester&quot;, &quot;25.0000 SYS&quot;, &quot;m&quot; ]&#39; -p user@active executed transaction: 06d0a99652c11637230d08a207520bf38066b8817ef7cafaab2f0344aafd7018 268 bytes 1000 cycles # eosio.token &lt;= eosio.token::transfer {&quot;from&quot;:&quot;user&quot;,&quot;to&quot;:&quot;tester&quot;,&quot;quantity&quot;:&quot;25.0000 SYS&quot;,&quot;memo&quot;:&quot;m&quot;} &gt;&gt; transfer # user &lt;= eosio.token::transfer {&quot;from&quot;:&quot;user&quot;,&quot;to&quot;:&quot;tester&quot;,&quot;quantity&quot;:&quot;25.0000 SYS&quot;,&quot;memo&quot;:&quot;m&quot;} # tester &lt;= eosio.token::transfer {&quot;from&quot;:&quot;user&quot;,&quot;to&quot;:&quot;tester&quot;,&quot;quantity&quot;:&quot;25.0000 SYS&quot;,&quot;memo&quot;:&quot;m&quot;} 部署交易EXchange合约 与上面显示的示例类似，我们可以部署 Exchange 合约。Exchange 合约提供了创建和交易货币的能力。假设这是从EOSIO源代码的根目录运行的。 $ cleos create account eosio exchange \ EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4 \ EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4 executed transaction: 4d38de16631a2dc698f1d433f7eb30982d855219e7c7314a888efbbba04e571c 364 bytes 1000 cycles # eosio &lt;= eosio::newaccount {&quot;creator&quot;:&quot;eosio&quot;,&quot;name&quot;:&quot;exchange&quot;,&quot;owner&quot;:{&quot;threshold&quot;:1,&quot;keys&quot;:[{&quot;key&quot;:&quot;EOS7ijWCBmoXBi3CgtK7DJxe... $ cleos set contract exchange build/contracts/exchange -p exchange@active Reading WAST/WASM from build/contracts/exchange/exchange.wasm... Using already assembled WASM... Publishing contract... executed transaction: 503dddec456ae301ef467c6a05bc6bf61e1ea21ab911ef6cc6e0750001b675c8 33888 bytes 5841 us # eosio &lt;= eosio::setcode {&quot;account&quot;:&quot;exchange&quot;,&quot;vmtype&quot;:0,&quot;vmversion&quot;:0,&quot;code&quot;:&quot;0061736d0100000001bb022f60067f7e7f7f7f7f00600... # eosio &lt;= eosio::setabi {&quot;account&quot;:&quot;exchange&quot;,&quot;abi&quot;:&quot;0e656f73696f3a3a6162692f312e30010c6163636f756e745f6e616d65046e616d650e0... 部署Eosio.msig合约 eosio.msig合约允许多方异步签署单个交易。EOSIO本身具有多重签名（multisig）基础支持，但它需要一个同步通道，主要是进行数据传送和签名。Eosio.msig是一种对用户更加友好方式，可以在多方同意的情况下异步提议，批准并最终发布交易。 以下步骤可用于部署eosio.msig合约: $ cleos create account eosio eosio.msig \ EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4 \ EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4 # eosio &lt;= eosio::newaccount {&quot;creator&quot;:&quot;eosio&quot;,&quot;name&quot;:&quot;eosio.msig&quot;,&quot;owner&quot;:{&quot;threshold&quot;:1,&quot;keys&quot;:[{&quot;key&quot;:&quot;EOS7ijWCBmoXBi3CgtK7DJ... $ cleos set contract eosio.msig build/contracts/eosio.msig -p eosio.msig@active Reading WAST/WASM from build/contracts/eosio.msig/eosio.msig.wasm... Using already assembled WASM... Publishing contract... executed transaction: 3433c434bdef42ba2150d5df46c17e0258f20b7836a057911faa2daa66262338 8864 bytes 1319 us # eosio &lt;= eosio::setcode {&quot;account&quot;:&quot;eosio.msig&quot;,&quot;vmtype&quot;:0,&quot;vmversion&quot;:0,&quot;code&quot;:&quot;0061736d010000000198011760017f0060047f7e7e7... # eosio &lt;= eosio::setabi {&quot;account&quot;:&quot;eosio.msig&quot;,&quot;abi&quot;:&quot;0e656f73696f3a3a6162692f312e30030c6163636f756e745f6e616d65046e616d650... 另：《EOS智能合约与DApp开发入门》教程已经上线，爱学习等不及的可以抓紧体验一下： EOS教程 本教程帮助你快速入门EOS区块链去中心化应用的开发，内容涵盖EOS工具链、账户与钱包、发行代币、智能合约开发与部署、使用代码与智能合约交互等核心知识点，最后综合运用React和EOS的各知识点完成一个便签DApp的开发。 如果你也在做以太坊开发，那么可以看看这些教程： web3j教程，主要是针对java和android程序员进行区块链以太坊开发的web3j详解。 以太坊教程，主要介绍智能合约与dapp应用开发，适合入门。 以太坊开发，主要是介绍使用node.js、mongodb、区块链、ipfs实现去中心化电商DApp实战，适合进阶。 python以太坊，主要是针对python工程师使用web3.py进行区块链以太坊开发的详解。 php以太坊，主要是介绍使用php进行智能合约开发交互，进行账号创建、交易、转账、代币开发以及过滤器和事件等内容。 博客原文在这里：EOS token 智能合约开发 阅读更多" />
<link rel="canonical" href="https://mlh.app/2018/07/25/b69b7588cced934d48a27d3713e6b722.html" />
<meta property="og:url" content="https://mlh.app/2018/07/25/b69b7588cced934d48a27d3713e6b722.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-07-25T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"Eosio.token、Exchange 和 Eosio.msig 智能合约 本教程假定你已经完成了EOS开发从智能合约开始（一）。 在这个阶段，区块链没有做太多的事情，现在我们来部署eosio.token。该合约允许创建许多不同的通证(token,也有叫令牌的，以下直接用token)，这些token都在同一个合约上运行，但可能由不同的用户管理。 在部署 token 合约之前，我们必须创建一个用来部署它的帐户，代码如下： $ cleos create account eosio eosio.token \\ EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4 \\ EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4 ... 然后我们可以所部署合约中找到它： ${EOSIO_SOURCE}/build/contracts/eosio.token 然后： $ cleos set contract eosio.token build/contracts/eosio.token -p eosio.token@active Reading WAST... Assembling WASM... Publishing contract... executed transaction: 528bdbce1181dc5fd72a24e4181e6587dace8ab43b2d7ac9b22b2017992a07ad 8708 bytes 10000 cycles # eosio &lt;= eosio::setcode {&quot;account&quot;:&quot;eosio.token&quot;,&quot;vmtype&quot;:0,&quot;vmversion&quot;:0,&quot;code&quot;:&quot;0061736d0100000001ce011d60067f7e7f7f7f7f00... # eosio &lt;= eosio::setabi {&quot;account&quot;:&quot;eosio.token&quot;,&quot;abi&quot;:{&quot;types&quot;:[],&quot;structs&quot;:[{&quot;name&quot;:&quot;transfer&quot;,&quot;base&quot;:&quot;&quot;,&quot;fields&quot;:[{&quot;name&quot;... 创建 Exchange 合约 你可以查看智能合约eosio.token的定义，如contracts/eosio.token/eosio.token.hpp： void create( account_name issuer, asset maximum_supply ); void issue( account_name to, asset quantity, string memo ); void transfer( account_name from, account_name to, asset quantity, string memo ); 要创建新的token，我们必须用适当的参数调用create(...)。此命令将使用最大标识符号来唯一地标识（其实就是注册）tokens列表中这一个新建的token。创建者将有权发行，或执行其他操作，如冻结，召回，和列入所有者白名单。 使用地址参数调用此方法的简单办法： $ cleos push action eosio.token create &#39;[ &quot;eosio&quot;, &quot;1000000000.0000 SYS&quot;]&#39; \\ -p eosio.token@active executed transaction: 0e49a421f6e75f4c5e09dd738a02d3f51bd18a0cf31894f68d335cd70d9c0e12 120 bytes 1000 cycles # eosio.token &lt;= eosio.token::create {&quot;issuer&quot;:&quot;eosio&quot;,&quot;maximum_supply&quot;:&quot;1000000000.0000 SYS&quot;} 或者，使用命名参数调用此方法： $ cleos push action eosio.token create \\ &#39;{&quot;issuer&quot;:&quot;eosio&quot;, &quot;maximum_supply&quot;:&quot;1000000000.0000 SYS&quot;}&#39; \\ -p eosio.token@active executed transaction: 0e49a421f6e75f4c5e09dd738a02d3f51bd18a0cf31894f68d335cd70d9c0e12 120 bytes 1000 cycles # eosio.token &lt;= eosio.token::create {&quot;issuer&quot;:&quot;eosio&quot;,&quot;maximum_supply&quot;:&quot;1000000000.0000 SYS&quot;} 此命令创建了一个新的 token 名称为 SYS，其精度为4位小数，最大供应量为 1000000000.0000 SYS。 为了创建这个token，我们需要eosio.token合约的许可，因为owns即它对代币注册表有所有权（例如SYS）。该合约的未来版本可以允许其他各方自动购买这些各种名称的代币。出于这个原因，我们必须通过-p eosio.token@active来授权此调用。 将代币发送到“User”帐户中 现在我们已经创建了token，发行者可以向我们先前创建的帐户用户发出新的token。如果你没有创建一个名为“User”的帐户，请参阅这里的说明。 我们将使用参数调用约定（vs named args）。 $ cleos push action eosio.token issue &#39;[ &quot;user&quot;, &quot;100.0000 SYS&quot;, &quot;memo&quot; ]&#39; \\ -p eosio@active executed transaction: 822a607a9196112831ecc2dc14ffb1722634f1749f3ac18b73ffacd41160b019 268 bytes 1000 cycles # eosio.token &lt;= eosio.token::issue {&quot;to&quot;:&quot;user&quot;,&quot;quantity&quot;:&quot;100.0000 SYS&quot;,&quot;memo&quot;:&quot;memo&quot;} &gt;&gt; issue # eosio.token &lt;= eosio.token::transfer {&quot;from&quot;:&quot;eosio&quot;,&quot;to&quot;:&quot;user&quot;,&quot;quantity&quot;:&quot;100.0000 SYS&quot;,&quot;memo&quot;:&quot;memo&quot;} &gt;&gt; transfer # eosio &lt;= eosio.token::transfer {&quot;from&quot;:&quot;eosio&quot;,&quot;to&quot;:&quot;user&quot;,&quot;quantity&quot;:&quot;100.0000 SYS&quot;,&quot;memo&quot;:&quot;memo&quot;} # user &lt;= eosio.token::transfer {&quot;from&quot;:&quot;eosio&quot;,&quot;to&quot;:&quot;user&quot;,&quot;quantity&quot;:&quot;100.0000 SYS&quot;,&quot;memo&quot;:&quot;memo&quot;} 这次输出，包含几个不同的操作：一个发送和三个转移。虽然我们签署的唯一操作是发送，但发送操作执行了“内联转移”，“内联转移”通知发送者和接收者账户。输出指示被调用的所有操作处理程序，调用它们的顺序，以及操作是否生成任何输出。 从技术上讲，eosio.token合约可以跳过“内链转移”，并选择直接修改余额。然而，在这种情况下，eosio.token遵循我们的token约定，该约定要求所有帐户余额可由引用它们的转移操作的总和来推导。还要求通知资金发送方和接收方，以便他们能够自动处理存款和取款。 如果你想查看发送的实际交易，可以使用-d选项显示“不发送”和“将交易返回为JSON格式”。 $ cleos push action eosio.token issue &#39;[&quot;user&quot;, &quot;100.0000 SYS&quot;, &quot;memo&quot;]&#39; -p eosio@active -d -j { &quot;expiration&quot;: &quot;2018-05-25T19:02:58&quot;, &quot;ref_block_num&quot;: 18200, &quot;ref_block_prefix&quot;: 614206268, &quot;max_net_usage_words&quot;: 0, &quot;max_cpu_usage_ms&quot;: 0, &quot;delay_sec&quot;: 0, &quot;context_free_actions&quot;: [], &quot;actions&quot;: [{ &quot;account&quot;: &quot;eosio.token&quot;, &quot;name&quot;: &quot;issue&quot;, &quot;authorization&quot;: [{ &quot;actor&quot;: &quot;eosio&quot;, &quot;permission&quot;: &quot;active&quot; } ], &quot;data&quot;: &quot;00000000007015d640420f00000000000453595300000000046d656d6f&quot; } ], &quot;transaction_extensions&quot;: [], &quot;signatures&quot;: [ &quot;SIG_K1_Khyk1GsxWCx4axqYMF2AREDvaZtZdFaQifNPkR9DomR7toJ4sGua7pMBNq2osV5TY8rcGNcgNwn1eFe3noAXsoUA26HNDJ&quot; ], &quot;context_free_data&quot;: [] } 将代币发送到帐户“tester” 现在该帐户user有token，我们会将一些代币发送给帐户tester。 我们指定user使用权限参数-p user@active授权此操作。 $ cleos push action eosio.token transfer \\ &#39;[ &quot;user&quot;, &quot;tester&quot;, &quot;25.0000 SYS&quot;, &quot;m&quot; ]&#39; -p user@active executed transaction: 06d0a99652c11637230d08a207520bf38066b8817ef7cafaab2f0344aafd7018 268 bytes 1000 cycles # eosio.token &lt;= eosio.token::transfer {&quot;from&quot;:&quot;user&quot;,&quot;to&quot;:&quot;tester&quot;,&quot;quantity&quot;:&quot;25.0000 SYS&quot;,&quot;memo&quot;:&quot;m&quot;} &gt;&gt; transfer # user &lt;= eosio.token::transfer {&quot;from&quot;:&quot;user&quot;,&quot;to&quot;:&quot;tester&quot;,&quot;quantity&quot;:&quot;25.0000 SYS&quot;,&quot;memo&quot;:&quot;m&quot;} # tester &lt;= eosio.token::transfer {&quot;from&quot;:&quot;user&quot;,&quot;to&quot;:&quot;tester&quot;,&quot;quantity&quot;:&quot;25.0000 SYS&quot;,&quot;memo&quot;:&quot;m&quot;} 部署交易EXchange合约 与上面显示的示例类似，我们可以部署 Exchange 合约。Exchange 合约提供了创建和交易货币的能力。假设这是从EOSIO源代码的根目录运行的。 $ cleos create account eosio exchange \\ EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4 \\ EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4 executed transaction: 4d38de16631a2dc698f1d433f7eb30982d855219e7c7314a888efbbba04e571c 364 bytes 1000 cycles # eosio &lt;= eosio::newaccount {&quot;creator&quot;:&quot;eosio&quot;,&quot;name&quot;:&quot;exchange&quot;,&quot;owner&quot;:{&quot;threshold&quot;:1,&quot;keys&quot;:[{&quot;key&quot;:&quot;EOS7ijWCBmoXBi3CgtK7DJxe... $ cleos set contract exchange build/contracts/exchange -p exchange@active Reading WAST/WASM from build/contracts/exchange/exchange.wasm... Using already assembled WASM... Publishing contract... executed transaction: 503dddec456ae301ef467c6a05bc6bf61e1ea21ab911ef6cc6e0750001b675c8 33888 bytes 5841 us # eosio &lt;= eosio::setcode {&quot;account&quot;:&quot;exchange&quot;,&quot;vmtype&quot;:0,&quot;vmversion&quot;:0,&quot;code&quot;:&quot;0061736d0100000001bb022f60067f7e7f7f7f7f00600... # eosio &lt;= eosio::setabi {&quot;account&quot;:&quot;exchange&quot;,&quot;abi&quot;:&quot;0e656f73696f3a3a6162692f312e30010c6163636f756e745f6e616d65046e616d650e0... 部署Eosio.msig合约 eosio.msig合约允许多方异步签署单个交易。EOSIO本身具有多重签名（multisig）基础支持，但它需要一个同步通道，主要是进行数据传送和签名。Eosio.msig是一种对用户更加友好方式，可以在多方同意的情况下异步提议，批准并最终发布交易。 以下步骤可用于部署eosio.msig合约: $ cleos create account eosio eosio.msig \\ EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4 \\ EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4 # eosio &lt;= eosio::newaccount {&quot;creator&quot;:&quot;eosio&quot;,&quot;name&quot;:&quot;eosio.msig&quot;,&quot;owner&quot;:{&quot;threshold&quot;:1,&quot;keys&quot;:[{&quot;key&quot;:&quot;EOS7ijWCBmoXBi3CgtK7DJ... $ cleos set contract eosio.msig build/contracts/eosio.msig -p eosio.msig@active Reading WAST/WASM from build/contracts/eosio.msig/eosio.msig.wasm... Using already assembled WASM... Publishing contract... executed transaction: 3433c434bdef42ba2150d5df46c17e0258f20b7836a057911faa2daa66262338 8864 bytes 1319 us # eosio &lt;= eosio::setcode {&quot;account&quot;:&quot;eosio.msig&quot;,&quot;vmtype&quot;:0,&quot;vmversion&quot;:0,&quot;code&quot;:&quot;0061736d010000000198011760017f0060047f7e7e7... # eosio &lt;= eosio::setabi {&quot;account&quot;:&quot;eosio.msig&quot;,&quot;abi&quot;:&quot;0e656f73696f3a3a6162692f312e30030c6163636f756e745f6e616d65046e616d650... 另：《EOS智能合约与DApp开发入门》教程已经上线，爱学习等不及的可以抓紧体验一下： EOS教程 本教程帮助你快速入门EOS区块链去中心化应用的开发，内容涵盖EOS工具链、账户与钱包、发行代币、智能合约开发与部署、使用代码与智能合约交互等核心知识点，最后综合运用React和EOS的各知识点完成一个便签DApp的开发。 如果你也在做以太坊开发，那么可以看看这些教程： web3j教程，主要是针对java和android程序员进行区块链以太坊开发的web3j详解。 以太坊教程，主要介绍智能合约与dapp应用开发，适合入门。 以太坊开发，主要是介绍使用node.js、mongodb、区块链、ipfs实现去中心化电商DApp实战，适合进阶。 python以太坊，主要是针对python工程师使用web3.py进行区块链以太坊开发的详解。 php以太坊，主要是介绍使用php进行智能合约开发交互，进行账号创建、交易、转账、代币开发以及过滤器和事件等内容。 博客原文在这里：EOS token 智能合约开发 阅读更多","@type":"BlogPosting","url":"https://mlh.app/2018/07/25/b69b7588cced934d48a27d3713e6b722.html","headline":"EOS如何开发通证Token或者代币智能合约","dateModified":"2018-07-25T00:00:00+08:00","datePublished":"2018-07-25T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2018/07/25/b69b7588cced934d48a27d3713e6b722.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>EOS如何开发通证Token或者代币智能合约</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <div class="markdown_views"> 
  <h3 id="eosiotokenexchange-和-eosiomsig-智能合约">Eosio.token、Exchange 和 Eosio.msig 智能合约</h3> 
  <p>本教程假定你已经完成了<a href="http://blog.hubwiz.com/2018/07/22/EOS-SmartContracts-Started/" rel="nofollow">EOS开发从智能合约开始（一）</a>。</p> 
  <p>在这个阶段，区块链没有做太多的事情，现在我们来部署<code>eosio.token</code>。该合约允许创建许多不同的通证(token,也有叫令牌的，以下直接用token)，这些token都在同一个合约上运行，但可能由不同的用户管理。</p> 
  <p>在部署 token 合约之前，我们必须创建一个用来部署它的帐户，代码如下：</p> 
  <!--more--> 
  <pre class="prettyprint"><code class=" hljs r">$ cleos create account eosio eosio.token \
        EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4 \
        EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4
<span class="hljs-keyword">...</span></code></pre> 
  <p>然后我们可以所部署合约中找到它：</p> 
  <pre class="prettyprint"><code class=" hljs bash"><span class="hljs-variable">${EOSIO_SOURCE}</span>/build/contracts/eosio.token</code></pre> 
  <p>然后：</p> 
  <pre class="prettyprint"><code class=" hljs d">$ cleos set contract eosio.token build/contracts/eosio.token -p eosio.token<span class="hljs-keyword">@active</span>
Reading WAST...
Assembling WASM...
Publishing contract...
executed transaction: <span class="hljs-number">528</span>bdbce1181dc5fd72a24e4181e6587dace8ab43b2d7ac9b22b2017992a07ad  <span class="hljs-number">8708</span> bytes  <span class="hljs-number">10000</span> cycles
#         eosio &lt;= eosio::setcode               {<span class="hljs-string">"account"</span>:<span class="hljs-string">"eosio.token"</span>,<span class="hljs-string">"vmtype"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"vmversion"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"code"</span>:<span class="hljs-string">"0061736d0100000001ce011d60067f7e7f7f7f7f00... # eosio &lt;= eosio::setabi {"</span>account<span class="hljs-string">":"</span>eosio.token<span class="hljs-string">","</span>abi<span class="hljs-string">":{"</span>types<span class="hljs-string">":[],"</span>structs<span class="hljs-string">":[{"</span>name<span class="hljs-string">":"</span>transfe<span class="hljs-string">r","</span>base<span class="hljs-string">":"</span><span class="hljs-string">","</span>fields<span class="hljs-string">":[{"</span>name<span class="hljs-string">"...</span></code></pre> 
  <h3 id="创建-exchange-合约">创建 Exchange 合约</h3> 
  <p>你可以查看智能合约<code>eosio.token</code>的定义，如<code>contracts/eosio.token/eosio.token.hpp</code>：</p> 
  <pre class="prettyprint"><code class=" hljs lasso">   <span class="hljs-literal">void</span> create( account_name issuer,
                asset        maximum_supply );


   <span class="hljs-literal">void</span> issue( account_name <span class="hljs-keyword">to</span>, asset quantity, <span class="hljs-built_in">string</span> memo );

   <span class="hljs-literal">void</span> transfer( account_name from,
                  account_name <span class="hljs-keyword">to</span>,
                  asset        quantity,
                  <span class="hljs-built_in">string</span>       memo );</code></pre> 
  <p>要创建新的token，我们必须用适当的参数调用<code>create(...)</code>。此命令将使用最大标识符号来唯一地标识（其实就是注册）tokens列表中这一个新建的token。创建者将有权发行，或执行其他操作，如冻结，召回，和列入所有者白名单。</p> 
  <p>使用地址参数调用此方法的简单办法：</p> 
  <pre class="prettyprint"><code class=" hljs sql">$ cleos push action eosio.token <span class="hljs-operator"><span class="hljs-keyword">create</span> <span class="hljs-string">'[ "eosio", "1000000000.0000 SYS"]'</span> \ -p eosio.token@active executed <span class="hljs-keyword">transaction</span>: <span class="hljs-number">0e49</span>a421f6e75f4c5e09dd738a02d3f51bd18a0cf31894f68d335cd70d9c0e12 <span class="hljs-number">120</span> bytes <span class="hljs-number">1000</span> cycles # eosio.token &lt;= eosio.token::<span class="hljs-keyword">create</span> {<span class="hljs-string">"issuer"</span>:<span class="hljs-string">"eosio"</span>,<span class="hljs-string">"maximum_supply"</span>:<span class="hljs-string">"1000000000.0000 SYS"</span>}</span></code></pre> 
  <p>或者，使用命名参数调用此方法：</p> 
  <pre class="prettyprint"><code class=" hljs autohotkey">$ cleos push action eosio.token create \
        '{<span class="hljs-string">"issuer"</span>:<span class="hljs-string">"eosio"</span>, <span class="hljs-string">"maximum_supply"</span>:<span class="hljs-string">"1000000000.0000 SYS"</span>}' \
        -p eosio.token@active
<span class="hljs-label">executed transaction:</span> <span class="hljs-number">0</span>e49a421f6e75f4c5e09dd738a02d3f51bd18a0cf31894f68d335cd70d9c0e12  <span class="hljs-number">120</span> bytes  <span class="hljs-number">1000</span> cycles
<span class="hljs-label"># eosio.token &lt;= eosio.token::</span>create          {<span class="hljs-string">"issuer"</span>:<span class="hljs-string">"eosio"</span>,<span class="hljs-string">"maximum_supply"</span>:<span class="hljs-string">"1000000000.0000 SYS"</span>}</code></pre> 
  <p>此命令创建了一个新的 token 名称为 <code>SYS</code>，其精度为4位小数，最大供应量为 1000000000.0000 SYS。</p> 
  <p>为了创建这个token，我们需要<code>eosio.token</code>合约的许可，因为<code>owns</code>即它对代币注册表有所有权（例如<code>SYS</code>）。该合约的未来版本可以允许其他各方自动购买这些各种名称的代币。出于这个原因，我们必须通过<code>-p eosio.token@active</code>来授权此调用。</p> 
  <h3 id="将代币发送到user帐户中">将代币发送到“User”帐户中</h3> 
  <p>现在我们已经创建了token，发行者可以向我们先前创建的帐户用户发出新的token。如果你没有创建一个名为“User”的帐户，请参阅<a href="http://blog.hubwiz.com/2018/07/22/EOS-SmartContracts-Started/#创建两个用户帐户" rel="nofollow">这里</a>的说明。</p> 
  <p>我们将使用参数调用约定（vs named args）。</p> 
  <pre class="prettyprint"><code class=" hljs autohotkey">$ cleos push action eosio.token issue '[ <span class="hljs-string">"user"</span>, <span class="hljs-string">"100.0000 SYS"</span>, <span class="hljs-string">"memo"</span> ]' \
        -p eosio@active
<span class="hljs-label">executed transaction:</span> <span class="hljs-number">822</span>a607a9196112831ecc2dc14ffb1722634f1749f3ac18b73ffacd41160b019  <span class="hljs-number">268</span> bytes  <span class="hljs-number">1000</span> cycles
<span class="hljs-label"># eosio.token &lt;= eosio.token::</span>issue           {<span class="hljs-string">"to"</span>:<span class="hljs-string">"user"</span>,<span class="hljs-string">"quantity"</span>:<span class="hljs-string">"100.0000 SYS"</span>,<span class="hljs-string">"memo"</span>:<span class="hljs-string">"memo"</span>}
&gt;&gt; issue
<span class="hljs-label"># eosio.token &lt;= eosio.token::</span>transfer        {<span class="hljs-string">"from"</span>:<span class="hljs-string">"eosio"</span>,<span class="hljs-string">"to"</span>:<span class="hljs-string">"user"</span>,<span class="hljs-string">"quantity"</span>:<span class="hljs-string">"100.0000 SYS"</span>,<span class="hljs-string">"memo"</span>:<span class="hljs-string">"memo"</span>}
&gt;&gt; transfer
<span class="hljs-label"># eosio &lt;= eosio.token::</span>transfer        {<span class="hljs-string">"from"</span>:<span class="hljs-string">"eosio"</span>,<span class="hljs-string">"to"</span>:<span class="hljs-string">"user"</span>,<span class="hljs-string">"quantity"</span>:<span class="hljs-string">"100.0000 SYS"</span>,<span class="hljs-string">"memo"</span>:<span class="hljs-string">"memo"</span>}
<span class="hljs-label"># user &lt;= eosio.token::</span>transfer        {<span class="hljs-string">"from"</span>:<span class="hljs-string">"eosio"</span>,<span class="hljs-string">"to"</span>:<span class="hljs-string">"user"</span>,<span class="hljs-string">"quantity"</span>:<span class="hljs-string">"100.0000 SYS"</span>,<span class="hljs-string">"memo"</span>:<span class="hljs-string">"memo"</span>}</code></pre> 
  <p>这次输出，包含几个不同的操作：一个发送和三个转移。虽然我们签署的唯一操作是发送，但发送操作执行了“内联转移”，“内联转移”通知发送者和接收者账户。输出指示被调用的所有操作处理程序，调用它们的顺序，以及操作是否生成任何输出。</p> 
  <p>从技术上讲，<code>eosio.token</code>合约可以跳过“内链转移”，并选择直接修改余额。然而，在这种情况下，<code>eosio.token</code>遵循我们的token约定，该约定要求所有帐户余额可由引用它们的转移操作的总和来推导。还要求通知资金发送方和接收方，以便他们能够自动处理存款和取款。</p> 
  <p>如果你想查看发送的实际交易，可以使用<code>-d</code>选项显示“不发送”和“将交易返回为JSON格式”。</p> 
  <pre class="prettyprint"><code class=" hljs scilab">$ cleos push action <span class="hljs-transposed_variable">eosio.</span>token issue <span class="hljs-string">'["</span>user<span class="hljs-string">", "</span><span class="hljs-number">100.0000</span> SYS<span class="hljs-string">", "</span>memo<span class="hljs-string">"]'</span> -p eosio@active -d -j
{
  <span class="hljs-string">"expiration"</span>: <span class="hljs-string">"2018-05-25T19:02:58"</span>,
  <span class="hljs-string">"ref_block_num"</span>: <span class="hljs-number">18200</span>,
  <span class="hljs-string">"ref_block_prefix"</span>: <span class="hljs-number">614206268</span>,
  <span class="hljs-string">"max_net_usage_words"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-string">"max_cpu_usage_ms"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-string">"delay_sec"</span>: <span class="hljs-number">0</span>,
  <span class="hljs-string">"context_free_actions"</span>: <span class="hljs-matrix">[]</span>,
  <span class="hljs-string">"actions"</span>: <span class="hljs-matrix">[{ <span class="hljs-string">"account"</span>: <span class="hljs-string">"eosio.token"</span>, <span class="hljs-string">"name"</span>: <span class="hljs-string">"issue"</span>, <span class="hljs-string">"authorization"</span>: [{ <span class="hljs-string">"actor"</span>: <span class="hljs-string">"eosio"</span>, <span class="hljs-string">"permission"</span>: <span class="hljs-string">"active"</span> } ]</span>,
      <span class="hljs-string">"data"</span>: <span class="hljs-string">"00000000007015d640420f00000000000453595300000000046d656d6f"</span>
    }
  ],
  <span class="hljs-string">"transaction_extensions"</span>: <span class="hljs-matrix">[]</span>,
  <span class="hljs-string">"signatures"</span>: <span class="hljs-matrix">[ <span class="hljs-string">"SIG_K1_Khyk1GsxWCx4axqYMF2AREDvaZtZdFaQifNPkR9DomR7toJ4sGua7pMBNq2osV5TY8rcGNcgNwn1eFe3noAXsoUA26HNDJ"</span> ]</span>,
  <span class="hljs-string">"context_free_data"</span>: <span class="hljs-matrix">[]</span>
}</code></pre> 
  <h3 id="将代币发送到帐户tester">将代币发送到帐户“tester”</h3> 
  <p>现在该帐户<code>user</code>有token，我们会将一些代币发送给帐户<code>tester</code>。 我们指定<code>user</code>使用权限参数<code>-p user@active</code>授权此操作。</p> 
  <pre class="prettyprint"><code class=" hljs autohotkey">$ cleos push action eosio.token transfer \
        '[ <span class="hljs-string">"user"</span>, <span class="hljs-string">"tester"</span>, <span class="hljs-string">"25.0000 SYS"</span>, <span class="hljs-string">"m"</span> ]' -p user@active
<span class="hljs-label">executed transaction:</span> <span class="hljs-number">06</span>d0a99652c11637230d08a207520bf38066b8817ef7cafaab2f0344aafd7018  <span class="hljs-number">268</span> bytes  <span class="hljs-number">1000</span> cycles
<span class="hljs-label"># eosio.token &lt;= eosio.token::</span>transfer        {<span class="hljs-string">"from"</span>:<span class="hljs-string">"user"</span>,<span class="hljs-string">"to"</span>:<span class="hljs-string">"tester"</span>,<span class="hljs-string">"quantity"</span>:<span class="hljs-string">"25.0000 SYS"</span>,<span class="hljs-string">"memo"</span>:<span class="hljs-string">"m"</span>}
&gt;&gt; transfer
<span class="hljs-label"># user &lt;= eosio.token::</span>transfer        {<span class="hljs-string">"from"</span>:<span class="hljs-string">"user"</span>,<span class="hljs-string">"to"</span>:<span class="hljs-string">"tester"</span>,<span class="hljs-string">"quantity"</span>:<span class="hljs-string">"25.0000 SYS"</span>,<span class="hljs-string">"memo"</span>:<span class="hljs-string">"m"</span>}
<span class="hljs-label"># tester &lt;= eosio.token::</span>transfer        {<span class="hljs-string">"from"</span>:<span class="hljs-string">"user"</span>,<span class="hljs-string">"to"</span>:<span class="hljs-string">"tester"</span>,<span class="hljs-string">"quantity"</span>:<span class="hljs-string">"25.0000 SYS"</span>,<span class="hljs-string">"memo"</span>:<span class="hljs-string">"m"</span>}</code></pre> 
  <h3 id="部署交易exchange合约">部署交易EXchange合约</h3> 
  <p>与上面显示的示例类似，我们可以部署 Exchange 合约。Exchange 合约提供了创建和交易货币的能力。假设这是从EOSIO源代码的根目录运行的。</p> 
  <pre class="prettyprint"><code class=" hljs sql">$ cleos <span class="hljs-operator"><span class="hljs-keyword">create</span> account eosio exchange \ EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4 \ EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4 executed <span class="hljs-keyword">transaction</span>: <span class="hljs-number">4</span>d38de16631a2dc698f1d433f7eb30982d855219e7c7314a888efbbba04e571c <span class="hljs-number">364</span> bytes <span class="hljs-number">1000</span> cycles # eosio &lt;= eosio::newaccount {<span class="hljs-string">"creator"</span>:<span class="hljs-string">"eosio"</span>,<span class="hljs-string">"name"</span>:<span class="hljs-string">"exchange"</span>,<span class="hljs-string">"owner"</span>:{<span class="hljs-string">"threshold"</span>:<span class="hljs-number">1</span>,<span class="hljs-string">"keys"</span>:[{<span class="hljs-string">"key"</span>:<span class="hljs-string">"EOS7ijWCBmoXBi3CgtK7DJxe... $ cleos set contract exchange build/contracts/exchange -p exchange@active Reading WAST/WASM from build/contracts/exchange/exchange.wasm... Using already assembled WASM... Publishing contract... executed transaction: 503dddec456ae301ef467c6a05bc6bf61e1ea21ab911ef6cc6e0750001b675c8 33888 bytes 5841 us # eosio &lt;= eosio::setcode {"</span>account<span class="hljs-string">":"</span>exchange<span class="hljs-string">","</span>vmtype<span class="hljs-string">":0,"</span>vmversion<span class="hljs-string">":0,"</span>code<span class="hljs-string">":"</span><span class="hljs-number">0061736</span>d0100000001bb022f60067f7e7f7f7f7f00600... # eosio &lt;= eosio::setabi {<span class="hljs-string">"account"</span>:<span class="hljs-string">"exchange"</span>,<span class="hljs-string">"abi"</span>:<span class="hljs-string">"0e656f73696f3a3a6162692f312e30010c6163636f756e745f6e616d65046e616d650e0...</span></span></code></pre> 
  <h3 id="部署eosiomsig合约">部署Eosio.msig合约</h3> 
  <p><code>eosio.msig</code>合约允许多方异步签署单个交易。EOSIO本身具有多重签名（multisig）基础支持，但它需要一个同步通道，主要是进行数据传送和签名。<code>Eosio.msig</code>是一种对用户更加友好方式，可以在多方同意的情况下异步提议，批准并最终发布交易。</p> 
  <p>以下步骤可用于部署<code>eosio.msig</code>合约:</p> 
  <pre class="prettyprint"><code class=" hljs smalltalk"><span class="hljs-char">$ </span>cleos create account eosio eosio.msig  \
        <span class="hljs-class">EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4</span> \
        <span class="hljs-class">EOS7ijWCBmoXBi3CgtK7DJxentZZeTkeUnaSDvyro9dq7Sd1C3dC4</span>
#         eosio &lt;= <span class="hljs-method">eosio:</span>:newaccount            {<span class="hljs-comment">"creator"</span>:<span class="hljs-comment">"eosio"</span>,<span class="hljs-comment">"name"</span>:<span class="hljs-comment">"eosio.msig"</span>,<span class="hljs-comment">"owner"</span>:{<span class="hljs-comment">"threshold"</span>:<span class="hljs-number">1</span>,<span class="hljs-comment">"keys"</span>:[{<span class="hljs-comment">"key"</span>:<span class="hljs-comment">"EOS7ijWCBmoXBi3CgtK7DJ... $ cleos set contract eosio.msig build/contracts/eosio.msig -p eosio.msig@active Reading WAST/WASM from build/contracts/eosio.msig/eosio.msig.wasm... Using already assembled WASM... Publishing contract... executed transaction: 3433c434bdef42ba2150d5df46c17e0258f20b7836a057911faa2daa66262338 8864 bytes 1319 us # eosio &lt;= eosio::setcode {"</span>account<span class="hljs-comment">":"</span>eosio.msig<span class="hljs-comment">","</span>vmtype<span class="hljs-comment">":0,"</span>vmversion<span class="hljs-comment">":0,"</span>code<span class="hljs-comment">":"</span><span class="hljs-number">0061736</span>d010000000198011760017f0060047f7e7e7...
#         eosio &lt;= <span class="hljs-method">eosio:</span>:setabi                {<span class="hljs-comment">"account"</span>:<span class="hljs-comment">"eosio.msig"</span>,<span class="hljs-comment">"abi"</span>:<span class="hljs-comment">"0e656f73696f3a3a6162692f312e30030c6163636f756e745f6e616d65046e616d650...</span></code></pre> 
  <p>另：<strong>《EOS智能合约与DApp开发入门》</strong>教程已经上线，爱学习等不及的可以抓紧体验一下：</p> 
  <p><a href="http://xc.hubwiz.com/course/5b52c0a2c02e6b6a59171ded?affid=725csdn" rel="nofollow">EOS教程</a></p> 
  <p>本教程帮助你快速入门EOS区块链去中心化应用的开发，内容涵盖EOS工具链、账户与钱包、发行代币、智能合约开发与部署、使用代码与智能合约交互等核心知识点，最后综合运用React和EOS的各知识点完成一个便签DApp的开发。</p> 
  <p>如果你也在做以太坊开发，那么可以看看这些教程：</p> 
  <blockquote> 
   <ul> 
    <li><a href="http://xc.hubwiz.com/course/5b2b6e82c02e6b6a59171de2?affid=725csdn" rel="nofollow">web3j教程</a>，主要是针对java和android程序员进行区块链以太坊开发的web3j详解。</li> 
    <li><a href="http://xc.hubwiz.com/course/5a952991adb3847553d205d1?affid=725csdn" rel="nofollow">以太坊教程</a>，主要介绍智能合约与dapp应用开发，适合入门。</li> 
    <li><a href="http://xc.hubwiz.com/course/5abbb7acc02e6b6a59171dd6?affid=725csdn" rel="nofollow">以太坊开发</a>，主要是介绍使用node.js、mongodb、区块链、ipfs实现去中心化电商DApp实战，适合进阶。</li> 
    <li><a href="http://xc.hubwiz.com/course/5b40462cc02e6b6a59171de4?affid=725csdn" rel="nofollow">python以太坊</a>，主要是针对python工程师使用web3.py进行区块链以太坊开发的详解。</li> 
    <li><a href="http://xc.hubwiz.com/course/5b36629bc02e6b6a59171de3?affid=725csdn" rel="nofollow">php以太坊</a>，主要是介绍使用php进行智能合约开发交互，进行账号创建、交易、转账、代币开发以及过滤器和事件等内容。</li> 
   </ul> 
  </blockquote> 
  <p>博客原文在这里：<a href="http://blog.hubwiz.com/2018/07/24/EOS-SmartContracts-TokenTutorial/" rel="nofollow">EOS token 智能合约开发</a></p> 
 </div> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/markdown_views-ea0013b516.css"> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/mongo_node/article/details/81201691,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/mongo_node/article/details/81201691,&quot;}">阅读更多</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0d1dbe5a3e5863242418b768d1601633";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
