<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>区块链学习(1)——mac上以太坊私有链搭建 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="区块链学习(1)——mac上以太坊私有链搭建" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="go-ethereum客户端安装 Go-ethereum客户端通常被称为Geth，它是个命令行界面，执行在Go上实现的完整以太坊节点。Geth得益于Go语言的多平台特性，支持在多个平台上使用(比如Windows、Linux、Mac)。Geth是以太坊协议的具体落地实现，通过Geth，你可以实现以太坊的各种功能，如账户的新建编辑删除，开启挖矿，ether币的转移，智能合约的部署和执行等等。所以，我们选择geth工具来进行开发。由于本人是mac，所以优先使用mac进行开发啦。mac中geth安装如下： brew tap ethereum/ethereum brew install ethereum 检查是否安装成功 geth --help 如果输出一些帮助提示命令，则说明安装成功. 搭建私有链 以太坊支持自定义创世区块，要运行私有链，我们就需要定义自己的创世区块，创世区块信息写在一个json格式的配置文件中。首先将下面的内容保存到一个json文件中，例如genesis.json。 json文件内容如下: { &quot;config&quot;: { &quot;chainId&quot;: 10, &quot;homesteadBlock&quot;: 0, &quot;eip155Block&quot;: 0, &quot;eip158Block&quot;: 0 }, &quot;alloc&quot; : {}, &quot;coinbase&quot; : &quot;0x0000000000000000000000000000000000000000&quot;, &quot;difficulty&quot; : &quot;0x20000&quot;, &quot;extraData&quot; : &quot;&quot;, &quot;gasLimit&quot; : &quot;0x2fefd8&quot;, &quot;nonce&quot; : &quot;0x0000000000000042&quot;, &quot;mixhash&quot; : &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;parentHash&quot; : &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;timestamp&quot; : &quot;0x00&quot; } 初始化：写入创世区块 准备好创世区块json配置文件后，需要初始化区块链，将上面的创世区块信息写入到区块链中。首先要新建一个目录data0用来存放区块链数据(其实，这个目录data0就相当于一个根节点。当我们基于genesis.json生成根节点后，其他人就可以来连接此根节点，从而能进行交易)。data0目录结构如图所示： 接下来进入privatechain目录中，执行初始化命令： cd privatechain geth --datadir data0 init genesis.json 上面的命令的主体是 geth init，表示初始化区块链，命令可以带有选项和参数，其中–datadir选项后面跟一个目录名，这里为 data0，表示指定数据存放目录为 data0， genesis.json是init命令的参数。 运行上面的命令，会读取genesis.json文件，根据其中的内容，将创世区块写入到区块链中。如果看到log信息中含有Successfully wrote genesis state字样，说明初始化成功。 初始化成功后的目录如下： 其中geth/chaindata中存放的是区块数据，keystore中存放的是账户数据。 启动私有链节点 初始化完成后，就有了一条自己的私有链，之后就可以启动自己的私有链节点并做一些操作，在终端中输入以下命令即可启动节点： geth --datadir data0 --networkid 1108 console 上面命令的主体是geth console，表示启动节点并进入交互式控制台，–datadir选项指定使用data0作为数据目录，–networkid选项后面跟一个数字，这里是1108，表示指定这个私有链的网络id为1108。网络id在连接到其他节点的时候会用到，以太坊公网的网络id是1，为了不与公有链网络冲突，运行私有链节点的时候要指定自己的网络id(上面命令可能会运行失败，我直接重启mac，再进入到privateChain目录中，简单粗暴)。 运行上面的命令后，就启动了区块链节点并进入了Javascript Console： 这是一个交互式的Javascript执行环境，在这里面可以执行Javascript代码，其中&gt;是命令提示符。在这个环境里也内置了一些用来操作以太坊的Javascript对象，可以直接使用这些对象。这些对象主要包括： eth：包含一些跟操作区块链相关的方法 net：包含以下查看p2p网络状态的方法 admin：包含一些与管理节点相关的方法 miner：包含启动&amp;停止挖矿的一些方法 personal：主要包含一些管理账户的方法 txpool：包含一些查看交易内存池的方法 web3：包含了以上对象，还包含一些单位换算的方法 玩转Javascript Console 进入以太坊Javascript Console后，就可以使用里面的内置对象做一些操作，这些内置对象提供的功能很丰富，比如查看区块和交易、创建账户、挖矿、发送交易、部署智能合约等。接下来介绍几个常用功能，下面的操作中，前面带&gt;的表示在Javascript Console中执行的命令。 创建账户 前面只是搭建了私有链，并没有自己的账户，可以在js console中输入eth.accounts来验证： &gt; eth.accounts [] 此时没有账户，接下来使用personal对象来创建一个账户： &gt; personal.newAccount() &gt; Passphrase: &gt; Repeat passphrase: &quot;0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f&quot; Passphrase其实就是密码的意思，输入两次密码后，就创建了一个账户。再次执行命令: &gt; personal.newAccount() &gt; Passphrase: &gt; Repeat passphrase: &quot;0x46b24d04105551498587e3c6ce2c3341d5988938&quot; 这时候再去看账户，就有两个了。 &gt; eth.accounts [&quot;0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f&quot;, &quot;0x46b24d04105551498587e3c6ce2c3341d5988938&quot;] 账户默认会保存在数据目录的keystore文件夹中。查看目录结构，发现data0/keystore中多了两个文件，这两个文件就对应刚才创建的两个账户，这是json格式的文本文件，可以打开查看，里面存的是私钥经过密码加密后的信息。 json文件中信息格式如下： { &quot;address&quot;: &quot;4a3b0216e1644c1bbabda527a6da7fc5d178b58f&quot;, &quot;crypto&quot;: { &quot;cipher&quot;: &quot;aes-128-ctr&quot;, &quot;ciphertext&quot;: &quot;238d6d48126b762c8f13e84622b1bbb7713f7244c2f24555c99b76396fae8355&quot;, &quot;cipherparams&quot;: { &quot;iv&quot;: &quot;d0f5a3d3e6c1eeec77bf631bc938725d&quot; }, &quot;kdf&quot;: &quot;scrypt&quot;, &quot;kdfparams&quot;: { &quot;dklen&quot;: 32, &quot;n&quot;: 262144, &quot;p&quot;: 1, &quot;r&quot;: 8, &quot;salt&quot;: &quot;70dc72c4eb63bea50f7637d9ff85bb53f6ca8ace17f4245feae9c0bc9abaad82&quot; }, &quot;mac&quot;: &quot;bd7fc0c937c39f1cbbf1ca654c33b53d7f9c644c6dacfeefe1641d2f3decea04&quot; }, &quot;id&quot;: &quot;57803d82-0cd4-4a78-9c29-9f9252fdcf60&quot;, &quot;version&quot;: 3 } 查看账户余额 eth对象提供了查看账户余额的方法： &gt; eth.getBalance(eth.accounts[0]) 0 &gt; eth.getBalance(eth.accounts[1]) 0 目前两个账户的以太币余额都是0，要使账户有余额，可以从其他账户转账过来，或者通过挖矿来获得以太币奖励。 启动&amp;停止挖矿 通过miner.start()来启动挖矿： &gt; miner.start(10) 其中start的参数表示挖矿使用的线程数。第一次启动挖矿会先生成挖矿所需的DAG文件，这个过程有点慢，等进度达到100%后，就会开始挖矿，此时屏幕会被挖矿信息刷屏。 如果想停止挖矿，并且进度已经达到100%之后，可以在js console中输入 miner.stop()： 注意：输入的字符会被挖矿刷屏信息冲掉，没有关系，只要输入完整的miner.stop()之后回车，即可停止挖矿。 挖到一个区块会奖励5个以太币，挖矿所得的奖励会进入矿工的账户，这个账户叫做coinbase，默认情况下coinbase是本地账户中的第一个账户： &gt; eth.coinbase &quot;0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f&quot; 现在的coinbase是账户0，要想使挖矿奖励进入其他账户，通过miner.setEtherbase()将其他账户设置成coinbase即可： &gt; miner.setEtherbase(eth.accounts[1]) true &gt; eth.coinbase &quot;0x46b24d04105551498587e3c6ce2c3341d5988938&quot; 挖到区块以后，账户0里面应该就有余额了： &gt; eth.getBalance(eth.accounts[0]) 2.31e+21 getBalance()返回值的单位是wei，wei是以太币的最小单位，1个以太币=10的18次方个wei。要查看有多少个以太币，可以用web3.fromWei()将返回值换算成以太币： &gt; web3.fromWei(eth.getBalance(eth.accounts[0]),&#39;ether&#39;) 2310 发送交易 截止目前，账户一的余额还是0： &gt; eth.getBalance(eth.accounts[1]) 0 可以通过发送一笔交易，从账户0转移10个以太币到账户1： &gt; amount = web3.toWei(10,&#39;ether&#39;) &quot;10000000000000000000&quot; &gt; eth.sendTransaction({from:eth.accounts[0],to:eth.accounts[1],value:amount}) Error: authentication needed: password or unlock at web3.js:3143:20 at web3.js:6347:15 at web3.js:5081:36 at &lt;anonymous&gt;:1:1 这里报错了，原因是账户每隔一段时间就会被锁住，要发送交易，必须先解锁账户，由于我们要从账户0发送交易，所以要解锁账户0： &gt; personal.unlockAccount(eth.accounts[0]) Unlock account 0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f Passphrase: true 输入创建账户时设置的密码，就可以成功解锁账户。然后再发送交易： &gt; amount = web3.toWei(10,&#39;ether&#39;) &quot;10000000000000000000&quot; &gt; eth.sendTransaction({from:eth.accounts[0],to:eth.accounts[1],value:amount}) INFO [03-07|11:13:11] Submitted transaction fullhash=0x1b21bba16dd79b659c83594b0c41de42debb2738b447f6b24e133d51149ae2a6 recipient=0x46B24d04105551498587e3C6CE2c3341d5988938 &quot;0x1b21bba16dd79b659c83594b0c41de42debb2738b447f6b24e133d51149ae2a6&quot; 我们去查看账户1中的余额： &gt; eth.getBalance(eth.accounts[1]) 0 发现还没转过去，此时交易已经提交到区块链，但还未被处理，这可以通过查看txpool来验证： &gt; txpool.status { pending: 1, queued: 0 } 其中有一条pending的交易，pending表示已提交但还未被处理的交易。 要使交易被处理，必须要挖矿。这里我们启动挖矿，然后等待挖到一个区块之后就停止挖矿： &gt; miner.start(1);admin.sleepBlocks(1);miner.stop(); 当miner.stop()返回true后，txpool中pending的交易数量应该为0了，说明交易已经被处理了，而账户1应该收到币了： &gt; web3.fromWei(eth.getBalance(eth.accounts[1]),&#39;ether&#39;) 10 查看交易和区块 eth对象封装了查看交易和区块信息的方法。 查看当前区块总数： &gt; eth.blockNumber 463 通过区块号查看区块： &gt; eth.getBlock(66) { difficulty: 135266, extraData: &quot;0xd783010802846765746886676f312e31308664617277696e&quot;, gasLimit: 3350537, gasUsed: 0, hash: &quot;0x265dfcc0649bf6240812256b2b9b4e3ae48d51fd8e43e25329ac111556eacdc8&quot;, logsBloom: &quot;0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000&quot;, miner: &quot;0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f&quot;, mixHash: &quot;0xaf755722f62cac9b483d3437dbc795f2d3a02e28ec03d39d8ecbb6012906263c&quot;, nonce: &quot;0x3cd80f6ec5c2f3e9&quot;, number: 66, parentHash: &quot;0x099776a52223b892d13266bb3aec3cc04c455dc797185f0b3300d39f9fc0a8ec&quot;, receiptsRoot: &quot;0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421&quot;, sha3Uncles: &quot;0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347&quot;, size: 535, stateRoot: &quot;0x0c9feec5a201c8c98618331aecbfd2d4d93da1c6064abd0c41ae649fc08d8d06&quot;, timestamp: 1520391527, totalDifficulty: 8919666, transactions: [], transactionsRoot: &quot;0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421&quot;, uncles: [] } 通过交易hash查看交易： &gt; eth.getTransaction(&quot;0x1b21bba16dd79b659c83594b0c41de42debb2738b447f6b24e133d51149ae2a6&quot;) { blockHash: &quot;0x1cb368a27cc23c786ff5cdf7cd4351d48f4c8e8aea2e084a5e9d7c480449c79a&quot;, blockNumber: 463, from: &quot;0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f&quot;, gas: 90000, gasPrice: 18000000000, hash: &quot;0x1b21bba16dd79b659c83594b0c41de42debb2738b447f6b24e133d51149ae2a6&quot;, input: &quot;0x&quot;, nonce: 0, r: &quot;0x31d22686e0d408a16497becf6d47fbfdffe6692d91727e5b7ed3d73ede9e66ea&quot;, s: &quot;0x7ff7c14a20991e2dfdb813c2237b08a5611c8c8cb3c2dcb03a55ed282ce4d9c3&quot;, to: &quot;0x46b24d04105551498587e3c6ce2c3341d5988938&quot;, transactionIndex: 0, v: &quot;0x38&quot;, value: 10000000000000000000 } 阅读更多" />
<meta property="og:description" content="go-ethereum客户端安装 Go-ethereum客户端通常被称为Geth，它是个命令行界面，执行在Go上实现的完整以太坊节点。Geth得益于Go语言的多平台特性，支持在多个平台上使用(比如Windows、Linux、Mac)。Geth是以太坊协议的具体落地实现，通过Geth，你可以实现以太坊的各种功能，如账户的新建编辑删除，开启挖矿，ether币的转移，智能合约的部署和执行等等。所以，我们选择geth工具来进行开发。由于本人是mac，所以优先使用mac进行开发啦。mac中geth安装如下： brew tap ethereum/ethereum brew install ethereum 检查是否安装成功 geth --help 如果输出一些帮助提示命令，则说明安装成功. 搭建私有链 以太坊支持自定义创世区块，要运行私有链，我们就需要定义自己的创世区块，创世区块信息写在一个json格式的配置文件中。首先将下面的内容保存到一个json文件中，例如genesis.json。 json文件内容如下: { &quot;config&quot;: { &quot;chainId&quot;: 10, &quot;homesteadBlock&quot;: 0, &quot;eip155Block&quot;: 0, &quot;eip158Block&quot;: 0 }, &quot;alloc&quot; : {}, &quot;coinbase&quot; : &quot;0x0000000000000000000000000000000000000000&quot;, &quot;difficulty&quot; : &quot;0x20000&quot;, &quot;extraData&quot; : &quot;&quot;, &quot;gasLimit&quot; : &quot;0x2fefd8&quot;, &quot;nonce&quot; : &quot;0x0000000000000042&quot;, &quot;mixhash&quot; : &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;parentHash&quot; : &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;timestamp&quot; : &quot;0x00&quot; } 初始化：写入创世区块 准备好创世区块json配置文件后，需要初始化区块链，将上面的创世区块信息写入到区块链中。首先要新建一个目录data0用来存放区块链数据(其实，这个目录data0就相当于一个根节点。当我们基于genesis.json生成根节点后，其他人就可以来连接此根节点，从而能进行交易)。data0目录结构如图所示： 接下来进入privatechain目录中，执行初始化命令： cd privatechain geth --datadir data0 init genesis.json 上面的命令的主体是 geth init，表示初始化区块链，命令可以带有选项和参数，其中–datadir选项后面跟一个目录名，这里为 data0，表示指定数据存放目录为 data0， genesis.json是init命令的参数。 运行上面的命令，会读取genesis.json文件，根据其中的内容，将创世区块写入到区块链中。如果看到log信息中含有Successfully wrote genesis state字样，说明初始化成功。 初始化成功后的目录如下： 其中geth/chaindata中存放的是区块数据，keystore中存放的是账户数据。 启动私有链节点 初始化完成后，就有了一条自己的私有链，之后就可以启动自己的私有链节点并做一些操作，在终端中输入以下命令即可启动节点： geth --datadir data0 --networkid 1108 console 上面命令的主体是geth console，表示启动节点并进入交互式控制台，–datadir选项指定使用data0作为数据目录，–networkid选项后面跟一个数字，这里是1108，表示指定这个私有链的网络id为1108。网络id在连接到其他节点的时候会用到，以太坊公网的网络id是1，为了不与公有链网络冲突，运行私有链节点的时候要指定自己的网络id(上面命令可能会运行失败，我直接重启mac，再进入到privateChain目录中，简单粗暴)。 运行上面的命令后，就启动了区块链节点并进入了Javascript Console： 这是一个交互式的Javascript执行环境，在这里面可以执行Javascript代码，其中&gt;是命令提示符。在这个环境里也内置了一些用来操作以太坊的Javascript对象，可以直接使用这些对象。这些对象主要包括： eth：包含一些跟操作区块链相关的方法 net：包含以下查看p2p网络状态的方法 admin：包含一些与管理节点相关的方法 miner：包含启动&amp;停止挖矿的一些方法 personal：主要包含一些管理账户的方法 txpool：包含一些查看交易内存池的方法 web3：包含了以上对象，还包含一些单位换算的方法 玩转Javascript Console 进入以太坊Javascript Console后，就可以使用里面的内置对象做一些操作，这些内置对象提供的功能很丰富，比如查看区块和交易、创建账户、挖矿、发送交易、部署智能合约等。接下来介绍几个常用功能，下面的操作中，前面带&gt;的表示在Javascript Console中执行的命令。 创建账户 前面只是搭建了私有链，并没有自己的账户，可以在js console中输入eth.accounts来验证： &gt; eth.accounts [] 此时没有账户，接下来使用personal对象来创建一个账户： &gt; personal.newAccount() &gt; Passphrase: &gt; Repeat passphrase: &quot;0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f&quot; Passphrase其实就是密码的意思，输入两次密码后，就创建了一个账户。再次执行命令: &gt; personal.newAccount() &gt; Passphrase: &gt; Repeat passphrase: &quot;0x46b24d04105551498587e3c6ce2c3341d5988938&quot; 这时候再去看账户，就有两个了。 &gt; eth.accounts [&quot;0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f&quot;, &quot;0x46b24d04105551498587e3c6ce2c3341d5988938&quot;] 账户默认会保存在数据目录的keystore文件夹中。查看目录结构，发现data0/keystore中多了两个文件，这两个文件就对应刚才创建的两个账户，这是json格式的文本文件，可以打开查看，里面存的是私钥经过密码加密后的信息。 json文件中信息格式如下： { &quot;address&quot;: &quot;4a3b0216e1644c1bbabda527a6da7fc5d178b58f&quot;, &quot;crypto&quot;: { &quot;cipher&quot;: &quot;aes-128-ctr&quot;, &quot;ciphertext&quot;: &quot;238d6d48126b762c8f13e84622b1bbb7713f7244c2f24555c99b76396fae8355&quot;, &quot;cipherparams&quot;: { &quot;iv&quot;: &quot;d0f5a3d3e6c1eeec77bf631bc938725d&quot; }, &quot;kdf&quot;: &quot;scrypt&quot;, &quot;kdfparams&quot;: { &quot;dklen&quot;: 32, &quot;n&quot;: 262144, &quot;p&quot;: 1, &quot;r&quot;: 8, &quot;salt&quot;: &quot;70dc72c4eb63bea50f7637d9ff85bb53f6ca8ace17f4245feae9c0bc9abaad82&quot; }, &quot;mac&quot;: &quot;bd7fc0c937c39f1cbbf1ca654c33b53d7f9c644c6dacfeefe1641d2f3decea04&quot; }, &quot;id&quot;: &quot;57803d82-0cd4-4a78-9c29-9f9252fdcf60&quot;, &quot;version&quot;: 3 } 查看账户余额 eth对象提供了查看账户余额的方法： &gt; eth.getBalance(eth.accounts[0]) 0 &gt; eth.getBalance(eth.accounts[1]) 0 目前两个账户的以太币余额都是0，要使账户有余额，可以从其他账户转账过来，或者通过挖矿来获得以太币奖励。 启动&amp;停止挖矿 通过miner.start()来启动挖矿： &gt; miner.start(10) 其中start的参数表示挖矿使用的线程数。第一次启动挖矿会先生成挖矿所需的DAG文件，这个过程有点慢，等进度达到100%后，就会开始挖矿，此时屏幕会被挖矿信息刷屏。 如果想停止挖矿，并且进度已经达到100%之后，可以在js console中输入 miner.stop()： 注意：输入的字符会被挖矿刷屏信息冲掉，没有关系，只要输入完整的miner.stop()之后回车，即可停止挖矿。 挖到一个区块会奖励5个以太币，挖矿所得的奖励会进入矿工的账户，这个账户叫做coinbase，默认情况下coinbase是本地账户中的第一个账户： &gt; eth.coinbase &quot;0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f&quot; 现在的coinbase是账户0，要想使挖矿奖励进入其他账户，通过miner.setEtherbase()将其他账户设置成coinbase即可： &gt; miner.setEtherbase(eth.accounts[1]) true &gt; eth.coinbase &quot;0x46b24d04105551498587e3c6ce2c3341d5988938&quot; 挖到区块以后，账户0里面应该就有余额了： &gt; eth.getBalance(eth.accounts[0]) 2.31e+21 getBalance()返回值的单位是wei，wei是以太币的最小单位，1个以太币=10的18次方个wei。要查看有多少个以太币，可以用web3.fromWei()将返回值换算成以太币： &gt; web3.fromWei(eth.getBalance(eth.accounts[0]),&#39;ether&#39;) 2310 发送交易 截止目前，账户一的余额还是0： &gt; eth.getBalance(eth.accounts[1]) 0 可以通过发送一笔交易，从账户0转移10个以太币到账户1： &gt; amount = web3.toWei(10,&#39;ether&#39;) &quot;10000000000000000000&quot; &gt; eth.sendTransaction({from:eth.accounts[0],to:eth.accounts[1],value:amount}) Error: authentication needed: password or unlock at web3.js:3143:20 at web3.js:6347:15 at web3.js:5081:36 at &lt;anonymous&gt;:1:1 这里报错了，原因是账户每隔一段时间就会被锁住，要发送交易，必须先解锁账户，由于我们要从账户0发送交易，所以要解锁账户0： &gt; personal.unlockAccount(eth.accounts[0]) Unlock account 0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f Passphrase: true 输入创建账户时设置的密码，就可以成功解锁账户。然后再发送交易： &gt; amount = web3.toWei(10,&#39;ether&#39;) &quot;10000000000000000000&quot; &gt; eth.sendTransaction({from:eth.accounts[0],to:eth.accounts[1],value:amount}) INFO [03-07|11:13:11] Submitted transaction fullhash=0x1b21bba16dd79b659c83594b0c41de42debb2738b447f6b24e133d51149ae2a6 recipient=0x46B24d04105551498587e3C6CE2c3341d5988938 &quot;0x1b21bba16dd79b659c83594b0c41de42debb2738b447f6b24e133d51149ae2a6&quot; 我们去查看账户1中的余额： &gt; eth.getBalance(eth.accounts[1]) 0 发现还没转过去，此时交易已经提交到区块链，但还未被处理，这可以通过查看txpool来验证： &gt; txpool.status { pending: 1, queued: 0 } 其中有一条pending的交易，pending表示已提交但还未被处理的交易。 要使交易被处理，必须要挖矿。这里我们启动挖矿，然后等待挖到一个区块之后就停止挖矿： &gt; miner.start(1);admin.sleepBlocks(1);miner.stop(); 当miner.stop()返回true后，txpool中pending的交易数量应该为0了，说明交易已经被处理了，而账户1应该收到币了： &gt; web3.fromWei(eth.getBalance(eth.accounts[1]),&#39;ether&#39;) 10 查看交易和区块 eth对象封装了查看交易和区块信息的方法。 查看当前区块总数： &gt; eth.blockNumber 463 通过区块号查看区块： &gt; eth.getBlock(66) { difficulty: 135266, extraData: &quot;0xd783010802846765746886676f312e31308664617277696e&quot;, gasLimit: 3350537, gasUsed: 0, hash: &quot;0x265dfcc0649bf6240812256b2b9b4e3ae48d51fd8e43e25329ac111556eacdc8&quot;, logsBloom: &quot;0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000&quot;, miner: &quot;0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f&quot;, mixHash: &quot;0xaf755722f62cac9b483d3437dbc795f2d3a02e28ec03d39d8ecbb6012906263c&quot;, nonce: &quot;0x3cd80f6ec5c2f3e9&quot;, number: 66, parentHash: &quot;0x099776a52223b892d13266bb3aec3cc04c455dc797185f0b3300d39f9fc0a8ec&quot;, receiptsRoot: &quot;0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421&quot;, sha3Uncles: &quot;0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347&quot;, size: 535, stateRoot: &quot;0x0c9feec5a201c8c98618331aecbfd2d4d93da1c6064abd0c41ae649fc08d8d06&quot;, timestamp: 1520391527, totalDifficulty: 8919666, transactions: [], transactionsRoot: &quot;0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421&quot;, uncles: [] } 通过交易hash查看交易： &gt; eth.getTransaction(&quot;0x1b21bba16dd79b659c83594b0c41de42debb2738b447f6b24e133d51149ae2a6&quot;) { blockHash: &quot;0x1cb368a27cc23c786ff5cdf7cd4351d48f4c8e8aea2e084a5e9d7c480449c79a&quot;, blockNumber: 463, from: &quot;0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f&quot;, gas: 90000, gasPrice: 18000000000, hash: &quot;0x1b21bba16dd79b659c83594b0c41de42debb2738b447f6b24e133d51149ae2a6&quot;, input: &quot;0x&quot;, nonce: 0, r: &quot;0x31d22686e0d408a16497becf6d47fbfdffe6692d91727e5b7ed3d73ede9e66ea&quot;, s: &quot;0x7ff7c14a20991e2dfdb813c2237b08a5611c8c8cb3c2dcb03a55ed282ce4d9c3&quot;, to: &quot;0x46b24d04105551498587e3c6ce2c3341d5988938&quot;, transactionIndex: 0, v: &quot;0x38&quot;, value: 10000000000000000000 } 阅读更多" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-03-07T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"go-ethereum客户端安装 Go-ethereum客户端通常被称为Geth，它是个命令行界面，执行在Go上实现的完整以太坊节点。Geth得益于Go语言的多平台特性，支持在多个平台上使用(比如Windows、Linux、Mac)。Geth是以太坊协议的具体落地实现，通过Geth，你可以实现以太坊的各种功能，如账户的新建编辑删除，开启挖矿，ether币的转移，智能合约的部署和执行等等。所以，我们选择geth工具来进行开发。由于本人是mac，所以优先使用mac进行开发啦。mac中geth安装如下： brew tap ethereum/ethereum brew install ethereum 检查是否安装成功 geth --help 如果输出一些帮助提示命令，则说明安装成功. 搭建私有链 以太坊支持自定义创世区块，要运行私有链，我们就需要定义自己的创世区块，创世区块信息写在一个json格式的配置文件中。首先将下面的内容保存到一个json文件中，例如genesis.json。 json文件内容如下: { &quot;config&quot;: { &quot;chainId&quot;: 10, &quot;homesteadBlock&quot;: 0, &quot;eip155Block&quot;: 0, &quot;eip158Block&quot;: 0 }, &quot;alloc&quot; : {}, &quot;coinbase&quot; : &quot;0x0000000000000000000000000000000000000000&quot;, &quot;difficulty&quot; : &quot;0x20000&quot;, &quot;extraData&quot; : &quot;&quot;, &quot;gasLimit&quot; : &quot;0x2fefd8&quot;, &quot;nonce&quot; : &quot;0x0000000000000042&quot;, &quot;mixhash&quot; : &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;parentHash&quot; : &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;, &quot;timestamp&quot; : &quot;0x00&quot; } 初始化：写入创世区块 准备好创世区块json配置文件后，需要初始化区块链，将上面的创世区块信息写入到区块链中。首先要新建一个目录data0用来存放区块链数据(其实，这个目录data0就相当于一个根节点。当我们基于genesis.json生成根节点后，其他人就可以来连接此根节点，从而能进行交易)。data0目录结构如图所示： 接下来进入privatechain目录中，执行初始化命令： cd privatechain geth --datadir data0 init genesis.json 上面的命令的主体是 geth init，表示初始化区块链，命令可以带有选项和参数，其中–datadir选项后面跟一个目录名，这里为 data0，表示指定数据存放目录为 data0， genesis.json是init命令的参数。 运行上面的命令，会读取genesis.json文件，根据其中的内容，将创世区块写入到区块链中。如果看到log信息中含有Successfully wrote genesis state字样，说明初始化成功。 初始化成功后的目录如下： 其中geth/chaindata中存放的是区块数据，keystore中存放的是账户数据。 启动私有链节点 初始化完成后，就有了一条自己的私有链，之后就可以启动自己的私有链节点并做一些操作，在终端中输入以下命令即可启动节点： geth --datadir data0 --networkid 1108 console 上面命令的主体是geth console，表示启动节点并进入交互式控制台，–datadir选项指定使用data0作为数据目录，–networkid选项后面跟一个数字，这里是1108，表示指定这个私有链的网络id为1108。网络id在连接到其他节点的时候会用到，以太坊公网的网络id是1，为了不与公有链网络冲突，运行私有链节点的时候要指定自己的网络id(上面命令可能会运行失败，我直接重启mac，再进入到privateChain目录中，简单粗暴)。 运行上面的命令后，就启动了区块链节点并进入了Javascript Console： 这是一个交互式的Javascript执行环境，在这里面可以执行Javascript代码，其中&gt;是命令提示符。在这个环境里也内置了一些用来操作以太坊的Javascript对象，可以直接使用这些对象。这些对象主要包括： eth：包含一些跟操作区块链相关的方法 net：包含以下查看p2p网络状态的方法 admin：包含一些与管理节点相关的方法 miner：包含启动&amp;停止挖矿的一些方法 personal：主要包含一些管理账户的方法 txpool：包含一些查看交易内存池的方法 web3：包含了以上对象，还包含一些单位换算的方法 玩转Javascript Console 进入以太坊Javascript Console后，就可以使用里面的内置对象做一些操作，这些内置对象提供的功能很丰富，比如查看区块和交易、创建账户、挖矿、发送交易、部署智能合约等。接下来介绍几个常用功能，下面的操作中，前面带&gt;的表示在Javascript Console中执行的命令。 创建账户 前面只是搭建了私有链，并没有自己的账户，可以在js console中输入eth.accounts来验证： &gt; eth.accounts [] 此时没有账户，接下来使用personal对象来创建一个账户： &gt; personal.newAccount() &gt; Passphrase: &gt; Repeat passphrase: &quot;0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f&quot; Passphrase其实就是密码的意思，输入两次密码后，就创建了一个账户。再次执行命令: &gt; personal.newAccount() &gt; Passphrase: &gt; Repeat passphrase: &quot;0x46b24d04105551498587e3c6ce2c3341d5988938&quot; 这时候再去看账户，就有两个了。 &gt; eth.accounts [&quot;0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f&quot;, &quot;0x46b24d04105551498587e3c6ce2c3341d5988938&quot;] 账户默认会保存在数据目录的keystore文件夹中。查看目录结构，发现data0/keystore中多了两个文件，这两个文件就对应刚才创建的两个账户，这是json格式的文本文件，可以打开查看，里面存的是私钥经过密码加密后的信息。 json文件中信息格式如下： { &quot;address&quot;: &quot;4a3b0216e1644c1bbabda527a6da7fc5d178b58f&quot;, &quot;crypto&quot;: { &quot;cipher&quot;: &quot;aes-128-ctr&quot;, &quot;ciphertext&quot;: &quot;238d6d48126b762c8f13e84622b1bbb7713f7244c2f24555c99b76396fae8355&quot;, &quot;cipherparams&quot;: { &quot;iv&quot;: &quot;d0f5a3d3e6c1eeec77bf631bc938725d&quot; }, &quot;kdf&quot;: &quot;scrypt&quot;, &quot;kdfparams&quot;: { &quot;dklen&quot;: 32, &quot;n&quot;: 262144, &quot;p&quot;: 1, &quot;r&quot;: 8, &quot;salt&quot;: &quot;70dc72c4eb63bea50f7637d9ff85bb53f6ca8ace17f4245feae9c0bc9abaad82&quot; }, &quot;mac&quot;: &quot;bd7fc0c937c39f1cbbf1ca654c33b53d7f9c644c6dacfeefe1641d2f3decea04&quot; }, &quot;id&quot;: &quot;57803d82-0cd4-4a78-9c29-9f9252fdcf60&quot;, &quot;version&quot;: 3 } 查看账户余额 eth对象提供了查看账户余额的方法： &gt; eth.getBalance(eth.accounts[0]) 0 &gt; eth.getBalance(eth.accounts[1]) 0 目前两个账户的以太币余额都是0，要使账户有余额，可以从其他账户转账过来，或者通过挖矿来获得以太币奖励。 启动&amp;停止挖矿 通过miner.start()来启动挖矿： &gt; miner.start(10) 其中start的参数表示挖矿使用的线程数。第一次启动挖矿会先生成挖矿所需的DAG文件，这个过程有点慢，等进度达到100%后，就会开始挖矿，此时屏幕会被挖矿信息刷屏。 如果想停止挖矿，并且进度已经达到100%之后，可以在js console中输入 miner.stop()： 注意：输入的字符会被挖矿刷屏信息冲掉，没有关系，只要输入完整的miner.stop()之后回车，即可停止挖矿。 挖到一个区块会奖励5个以太币，挖矿所得的奖励会进入矿工的账户，这个账户叫做coinbase，默认情况下coinbase是本地账户中的第一个账户： &gt; eth.coinbase &quot;0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f&quot; 现在的coinbase是账户0，要想使挖矿奖励进入其他账户，通过miner.setEtherbase()将其他账户设置成coinbase即可： &gt; miner.setEtherbase(eth.accounts[1]) true &gt; eth.coinbase &quot;0x46b24d04105551498587e3c6ce2c3341d5988938&quot; 挖到区块以后，账户0里面应该就有余额了： &gt; eth.getBalance(eth.accounts[0]) 2.31e+21 getBalance()返回值的单位是wei，wei是以太币的最小单位，1个以太币=10的18次方个wei。要查看有多少个以太币，可以用web3.fromWei()将返回值换算成以太币： &gt; web3.fromWei(eth.getBalance(eth.accounts[0]),&#39;ether&#39;) 2310 发送交易 截止目前，账户一的余额还是0： &gt; eth.getBalance(eth.accounts[1]) 0 可以通过发送一笔交易，从账户0转移10个以太币到账户1： &gt; amount = web3.toWei(10,&#39;ether&#39;) &quot;10000000000000000000&quot; &gt; eth.sendTransaction({from:eth.accounts[0],to:eth.accounts[1],value:amount}) Error: authentication needed: password or unlock at web3.js:3143:20 at web3.js:6347:15 at web3.js:5081:36 at &lt;anonymous&gt;:1:1 这里报错了，原因是账户每隔一段时间就会被锁住，要发送交易，必须先解锁账户，由于我们要从账户0发送交易，所以要解锁账户0： &gt; personal.unlockAccount(eth.accounts[0]) Unlock account 0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f Passphrase: true 输入创建账户时设置的密码，就可以成功解锁账户。然后再发送交易： &gt; amount = web3.toWei(10,&#39;ether&#39;) &quot;10000000000000000000&quot; &gt; eth.sendTransaction({from:eth.accounts[0],to:eth.accounts[1],value:amount}) INFO [03-07|11:13:11] Submitted transaction fullhash=0x1b21bba16dd79b659c83594b0c41de42debb2738b447f6b24e133d51149ae2a6 recipient=0x46B24d04105551498587e3C6CE2c3341d5988938 &quot;0x1b21bba16dd79b659c83594b0c41de42debb2738b447f6b24e133d51149ae2a6&quot; 我们去查看账户1中的余额： &gt; eth.getBalance(eth.accounts[1]) 0 发现还没转过去，此时交易已经提交到区块链，但还未被处理，这可以通过查看txpool来验证： &gt; txpool.status { pending: 1, queued: 0 } 其中有一条pending的交易，pending表示已提交但还未被处理的交易。 要使交易被处理，必须要挖矿。这里我们启动挖矿，然后等待挖到一个区块之后就停止挖矿： &gt; miner.start(1);admin.sleepBlocks(1);miner.stop(); 当miner.stop()返回true后，txpool中pending的交易数量应该为0了，说明交易已经被处理了，而账户1应该收到币了： &gt; web3.fromWei(eth.getBalance(eth.accounts[1]),&#39;ether&#39;) 10 查看交易和区块 eth对象封装了查看交易和区块信息的方法。 查看当前区块总数： &gt; eth.blockNumber 463 通过区块号查看区块： &gt; eth.getBlock(66) { difficulty: 135266, extraData: &quot;0xd783010802846765746886676f312e31308664617277696e&quot;, gasLimit: 3350537, gasUsed: 0, hash: &quot;0x265dfcc0649bf6240812256b2b9b4e3ae48d51fd8e43e25329ac111556eacdc8&quot;, logsBloom: &quot;0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000&quot;, miner: &quot;0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f&quot;, mixHash: &quot;0xaf755722f62cac9b483d3437dbc795f2d3a02e28ec03d39d8ecbb6012906263c&quot;, nonce: &quot;0x3cd80f6ec5c2f3e9&quot;, number: 66, parentHash: &quot;0x099776a52223b892d13266bb3aec3cc04c455dc797185f0b3300d39f9fc0a8ec&quot;, receiptsRoot: &quot;0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421&quot;, sha3Uncles: &quot;0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347&quot;, size: 535, stateRoot: &quot;0x0c9feec5a201c8c98618331aecbfd2d4d93da1c6064abd0c41ae649fc08d8d06&quot;, timestamp: 1520391527, totalDifficulty: 8919666, transactions: [], transactionsRoot: &quot;0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421&quot;, uncles: [] } 通过交易hash查看交易： &gt; eth.getTransaction(&quot;0x1b21bba16dd79b659c83594b0c41de42debb2738b447f6b24e133d51149ae2a6&quot;) { blockHash: &quot;0x1cb368a27cc23c786ff5cdf7cd4351d48f4c8e8aea2e084a5e9d7c480449c79a&quot;, blockNumber: 463, from: &quot;0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f&quot;, gas: 90000, gasPrice: 18000000000, hash: &quot;0x1b21bba16dd79b659c83594b0c41de42debb2738b447f6b24e133d51149ae2a6&quot;, input: &quot;0x&quot;, nonce: 0, r: &quot;0x31d22686e0d408a16497becf6d47fbfdffe6692d91727e5b7ed3d73ede9e66ea&quot;, s: &quot;0x7ff7c14a20991e2dfdb813c2237b08a5611c8c8cb3c2dcb03a55ed282ce4d9c3&quot;, to: &quot;0x46b24d04105551498587e3c6ce2c3341d5988938&quot;, transactionIndex: 0, v: &quot;0x38&quot;, value: 10000000000000000000 } 阅读更多","@type":"BlogPosting","url":"/2018/03/07/67a296fd09df3b39273b2935716e29f7.html","headline":"区块链学习(1)——mac上以太坊私有链搭建","dateModified":"2018-03-07T00:00:00+08:00","datePublished":"2018-03-07T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/2018/03/07/67a296fd09df3b39273b2935716e29f7.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-1');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>区块链学习(1)——mac上以太坊私有链搭建</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <div class="markdown_views"> 
  <h2 id="go-ethereum客户端安装">go-ethereum客户端安装</h2> 
  <p>Go-ethereum客户端通常被称为Geth，它是个命令行界面，执行在Go上实现的完整以太坊节点。Geth得益于Go语言的多平台特性，支持在多个平台上使用(比如Windows、Linux、Mac)。Geth是以太坊协议的具体落地实现，通过Geth，你可以实现以太坊的各种功能，如账户的新建编辑删除，开启挖矿，ether币的转移，智能合约的部署和执行等等。所以，我们选择geth工具来进行开发。由于本人是mac，所以优先使用mac进行开发啦。mac中geth安装如下：</p> 
  <pre class="prettyprint"><code class=" hljs cmake">brew tap ethereum/ethereum
brew <span class="hljs-keyword">install</span> ethereum</code></pre> 
  <p>检查是否安装成功</p> 
  <pre class="prettyprint"><code class=" hljs brainfuck"><span class="hljs-comment">geth</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">help</span></code></pre> 
  <p>如果输出一些帮助提示命令，则说明安装成功.</p> 
  <h2 id="搭建私有链">搭建私有链</h2> 
  <p>以太坊支持自定义创世区块，要运行私有链，我们就需要定义自己的创世区块，创世区块信息写在一个json格式的配置文件中。首先将下面的内容保存到一个json文件中，例如genesis.json。 <br> json文件内容如下:</p> 
  <pre class="prettyprint"><code class="language-json hljs ">{
  "<span class="hljs-attribute">config</span>": <span class="hljs-value">{ "<span class="hljs-attribute">chainId</span>": <span class="hljs-value"><span class="hljs-number">10</span></span>, "<span class="hljs-attribute">homesteadBlock</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>, "<span class="hljs-attribute">eip155Block</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>, "<span class="hljs-attribute">eip158Block</span>": <span class="hljs-value"><span class="hljs-number">0</span> </span>}</span>,
  "<span class="hljs-attribute">alloc</span>"      : <span class="hljs-value">{}</span>,
  "<span class="hljs-attribute">coinbase</span>"   : <span class="hljs-value"><span class="hljs-string">"0x0000000000000000000000000000000000000000"</span></span>,
  "<span class="hljs-attribute">difficulty</span>" : <span class="hljs-value"><span class="hljs-string">"0x20000"</span></span>,
  "<span class="hljs-attribute">extraData</span>"  : <span class="hljs-value"><span class="hljs-string">""</span></span>,
  "<span class="hljs-attribute">gasLimit</span>"   : <span class="hljs-value"><span class="hljs-string">"0x2fefd8"</span></span>,
  "<span class="hljs-attribute">nonce</span>"      : <span class="hljs-value"><span class="hljs-string">"0x0000000000000042"</span></span>,
  "<span class="hljs-attribute">mixhash</span>"    : <span class="hljs-value"><span class="hljs-string">"0x0000000000000000000000000000000000000000000000000000000000000000"</span></span>,
  "<span class="hljs-attribute">parentHash</span>" : <span class="hljs-value"><span class="hljs-string">"0x0000000000000000000000000000000000000000000000000000000000000000"</span></span>,
  "<span class="hljs-attribute">timestamp</span>"  : <span class="hljs-value"><span class="hljs-string">"0x00"</span> </span>}</code></pre> 
  <h2 id="初始化写入创世区块">初始化：写入创世区块</h2> 
  <p>准备好创世区块json配置文件后，需要初始化区块链，将上面的创世区块信息写入到区块链中。首先要新建一个目录data0用来存放区块链数据(其实，这个目录data0就相当于一个根节点。当我们基于genesis.json生成根节点后，其他人就可以来连接此根节点，从而能进行交易)。data0目录结构如图所示： <br> <img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180307131653789?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTM5NDI2ODA0NQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述" title=""> <br> 接下来进入privatechain目录中，执行初始化命令：</p> 
  <pre class="prettyprint"><code class=" hljs bash"><span class="hljs-built_in">cd</span> privatechain
geth --datadir data0 init genesis.json</code></pre> 
  <p>上面的命令的主体是 geth init，表示初始化区块链，命令可以带有选项和参数，其中–datadir选项后面跟一个目录名，这里为 data0，表示指定数据存放目录为 data0， genesis.json是init命令的参数。</p> 
  <p>运行上面的命令，会读取genesis.json文件，根据其中的内容，将创世区块写入到区块链中。如果看到log信息中含有<code>Successfully wrote genesis state</code>字样，说明初始化成功。</p> 
  <p>初始化成功后的目录如下： <br> <img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180307132132559?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTM5NDI2ODA0NQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述" title=""> <br> 其中geth/chaindata中存放的是区块数据，keystore中存放的是账户数据。</p> 
  <h2 id="启动私有链节点">启动私有链节点</h2> 
  <p>初始化完成后，就有了一条自己的私有链，之后就可以启动自己的私有链节点并做一些操作，在终端中输入以下命令即可启动节点：</p> 
  <pre class="prettyprint"><code class=" hljs brainfuck"><span class="hljs-comment">geth</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">datadir</span> <span class="hljs-comment">data0</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">networkid</span> <span class="hljs-comment">1108</span> <span class="hljs-comment">console</span></code></pre> 
  <p>上面命令的主体是geth console，表示启动节点并进入交互式控制台，–datadir选项指定使用data0作为数据目录，–networkid选项后面跟一个数字，这里是1108，表示指定这个私有链的网络id为1108。网络id在连接到其他节点的时候会用到，以太坊公网的网络id是1，为了不与公有链网络冲突，运行私有链节点的时候要指定自己的网络id(上面命令可能会运行失败，我直接重启mac，再进入到privateChain目录中，简单粗暴)。</p> 
  <p>运行上面的命令后，就启动了区块链节点并进入了Javascript Console： <br> <img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180307132731715?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTM5NDI2ODA0NQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述" title=""> <br> 这是一个交互式的Javascript执行环境，在这里面可以执行Javascript代码，其中&gt;是命令提示符。在这个环境里也内置了一些用来操作以太坊的Javascript对象，可以直接使用这些对象。这些对象主要包括：</p> 
  <p><strong>eth：</strong>包含一些跟操作区块链相关的方法 <br> <strong>net：</strong>包含以下查看p2p网络状态的方法 <br> <strong>admin：</strong>包含一些与管理节点相关的方法 <br> <strong>miner：</strong>包含启动&amp;停止挖矿的一些方法 <br> <strong>personal：</strong>主要包含一些管理账户的方法 <br> <strong>txpool：</strong>包含一些查看交易内存池的方法 <br> <strong>web3：</strong>包含了以上对象，还包含一些单位换算的方法</p> 
  <h2 id="玩转javascript-console">玩转Javascript Console</h2> 
  <p>进入以太坊Javascript Console后，就可以使用里面的内置对象做一些操作，这些内置对象提供的功能很丰富，比如查看区块和交易、创建账户、挖矿、发送交易、部署智能合约等。接下来介绍几个常用功能，下面的操作中，前面带&gt;的表示在Javascript Console中执行的命令。</p> 
  <h3 id="创建账户">创建账户</h3> 
  <p>前面只是搭建了私有链，并没有自己的账户，可以在js console中输入eth.accounts来验证：</p> 
  <pre class="prettyprint"><code class=" hljs markdown"><span class="hljs-blockquote">&gt; eth.accounts</span>
[]</code></pre> 
  <p>此时没有账户，接下来使用personal对象来创建一个账户：</p> 
  <pre class="prettyprint"><code class=" hljs markdown"><span class="hljs-blockquote">&gt; personal.newAccount()</span>
<span class="hljs-blockquote">&gt; Passphrase:</span>
<span class="hljs-blockquote">&gt; Repeat passphrase:</span>
"0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f"</code></pre> 
  <p>Passphrase其实就是密码的意思，输入两次密码后，就创建了一个账户。再次执行命令:</p> 
  <pre class="prettyprint"><code class=" hljs markdown"><span class="hljs-blockquote">&gt; personal.newAccount()</span>
<span class="hljs-blockquote">&gt; Passphrase:</span>
<span class="hljs-blockquote">&gt; Repeat passphrase:</span>
"0x46b24d04105551498587e3c6ce2c3341d5988938"</code></pre> 
  <p>这时候再去看账户，就有两个了。</p> 
  <pre class="prettyprint"><code class=" hljs avrasm">&gt; eth<span class="hljs-preprocessor">.accounts</span>
[<span class="hljs-string">"0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f"</span>, <span class="hljs-string">"0x46b24d04105551498587e3c6ce2c3341d5988938"</span>]</code></pre> 
  <p>账户默认会保存在数据目录的keystore文件夹中。查看目录结构，发现data0/keystore中多了两个文件，这两个文件就对应刚才创建的两个账户，这是json格式的文本文件，可以打开查看，里面存的是私钥经过密码加密后的信息。 <br> <img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180307133726581?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTM5NDI2ODA0NQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述" title=""> <br> json文件中信息格式如下：</p> 
  <pre class="prettyprint"><code class=" hljs json">{
  "<span class="hljs-attribute">address</span>": <span class="hljs-value"><span class="hljs-string">"4a3b0216e1644c1bbabda527a6da7fc5d178b58f"</span></span>,
  "<span class="hljs-attribute">crypto</span>": <span class="hljs-value">{ "<span class="hljs-attribute">cipher</span>": <span class="hljs-value"><span class="hljs-string">"aes-128-ctr"</span></span>, "<span class="hljs-attribute">ciphertext</span>": <span class="hljs-value"><span class="hljs-string">"238d6d48126b762c8f13e84622b1bbb7713f7244c2f24555c99b76396fae8355"</span></span>, "<span class="hljs-attribute">cipherparams</span>": <span class="hljs-value">{ "<span class="hljs-attribute">iv</span>": <span class="hljs-value"><span class="hljs-string">"d0f5a3d3e6c1eeec77bf631bc938725d"</span> </span>}</span>, "<span class="hljs-attribute">kdf</span>": <span class="hljs-value"><span class="hljs-string">"scrypt"</span></span>, "<span class="hljs-attribute">kdfparams</span>": <span class="hljs-value">{ "<span class="hljs-attribute">dklen</span>": <span class="hljs-value"><span class="hljs-number">32</span></span>, "<span class="hljs-attribute">n</span>": <span class="hljs-value"><span class="hljs-number">262144</span></span>, "<span class="hljs-attribute">p</span>": <span class="hljs-value"><span class="hljs-number">1</span></span>, "<span class="hljs-attribute">r</span>": <span class="hljs-value"><span class="hljs-number">8</span></span>, "<span class="hljs-attribute">salt</span>": <span class="hljs-value"><span class="hljs-string">"70dc72c4eb63bea50f7637d9ff85bb53f6ca8ace17f4245feae9c0bc9abaad82"</span> </span>}</span>, "<span class="hljs-attribute">mac</span>": <span class="hljs-value"><span class="hljs-string">"bd7fc0c937c39f1cbbf1ca654c33b53d7f9c644c6dacfeefe1641d2f3decea04"</span> </span>}</span>,
  "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"57803d82-0cd4-4a78-9c29-9f9252fdcf60"</span></span>,
  "<span class="hljs-attribute">version</span>": <span class="hljs-value"><span class="hljs-number">3</span> </span>}</code></pre> 
  <h3 id="查看账户余额">查看账户余额</h3> 
  <p>eth对象提供了查看账户余额的方法：</p> 
  <pre class="prettyprint"><code class=" hljs avrasm">&gt; eth<span class="hljs-preprocessor">.getBalance</span>(eth<span class="hljs-preprocessor">.accounts</span>[<span class="hljs-number">0</span>])
<span class="hljs-number">0</span>
&gt; eth<span class="hljs-preprocessor">.getBalance</span>(eth<span class="hljs-preprocessor">.accounts</span>[<span class="hljs-number">1</span>])
<span class="hljs-number">0</span></code></pre> 
  <p>目前两个账户的以太币余额都是0，要使账户有余额，可以从其他账户转账过来，或者通过挖矿来获得以太币奖励。</p> 
  <h3 id="启动停止挖矿">启动&amp;停止挖矿</h3> 
  <p>通过miner.start()来启动挖矿：</p> 
  <pre class="prettyprint"><code class=" hljs markdown"><span class="hljs-blockquote">&gt; miner.start(10)</span></code></pre> 
  <p>其中start的参数表示挖矿使用的线程数。第一次启动挖矿会先生成挖矿所需的DAG文件，这个过程有点慢，等进度达到100%后，就会开始挖矿，此时屏幕会被挖矿信息刷屏。</p> 
  <p>如果想停止挖矿，并且进度已经达到100%之后，可以在js console中输入</p> 
  <pre class="prettyprint"><code class=" hljs vbnet">miner.<span class="hljs-keyword">stop</span>()：</code></pre> 
  <p>注意：输入的字符会被挖矿刷屏信息冲掉，没有关系，只要输入完整的miner.stop()之后回车，即可停止挖矿。</p> 
  <p>挖到一个区块会奖励5个以太币，挖矿所得的奖励会进入矿工的账户，这个账户叫做coinbase，默认情况下coinbase是本地账户中的第一个账户：</p> 
  <pre class="prettyprint"><code class=" hljs avrasm">&gt; eth<span class="hljs-preprocessor">.coinbase</span>
<span class="hljs-string">"0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f"</span></code></pre> 
  <p>现在的coinbase是账户0，要想使挖矿奖励进入其他账户，通过miner.setEtherbase()将其他账户设置成coinbase即可：</p> 
  <pre class="prettyprint"><code class=" hljs avrasm">&gt; miner<span class="hljs-preprocessor">.setEtherbase</span>(eth<span class="hljs-preprocessor">.accounts</span>[<span class="hljs-number">1</span>])
true
&gt; eth<span class="hljs-preprocessor">.coinbase</span>
<span class="hljs-string">"0x46b24d04105551498587e3c6ce2c3341d5988938"</span></code></pre> 
  <p>挖到区块以后，账户0里面应该就有余额了：</p> 
  <pre class="prettyprint"><code class=" hljs avrasm">&gt; eth<span class="hljs-preprocessor">.getBalance</span>(eth<span class="hljs-preprocessor">.accounts</span>[<span class="hljs-number">0</span>])
<span class="hljs-number">2.31e+21</span></code></pre> 
  <p>getBalance()返回值的单位是wei，wei是以太币的最小单位，1个以太币=10的18次方个wei。要查看有多少个以太币，可以用web3.fromWei()将返回值换算成以太币：</p> 
  <pre class="prettyprint"><code class=" hljs bash">&gt; web3.fromWei(eth.getBalance(eth.accounts[<span class="hljs-number">0</span>]),<span class="hljs-string">'ether'</span>)
<span class="hljs-number">2310</span></code></pre> 
  <h3 id="发送交易">发送交易</h3> 
  <p>截止目前，账户一的余额还是0：</p> 
  <pre class="prettyprint"><code class=" hljs avrasm">&gt; eth<span class="hljs-preprocessor">.getBalance</span>(eth<span class="hljs-preprocessor">.accounts</span>[<span class="hljs-number">1</span>])
<span class="hljs-number">0</span></code></pre> 
  <p>可以通过发送一笔交易，从账户0转移10个以太币到账户1：</p> 
  <pre class="prettyprint"><code class=" hljs livecodeserver">&gt; amount = web3.toWei(<span class="hljs-number">10</span>,<span class="hljs-string">'ether'</span>)
<span class="hljs-string">"10000000000000000000"</span>
&gt; eth.sendTransaction({<span class="hljs-built_in">from</span>:eth.accounts[<span class="hljs-number">0</span>],<span class="hljs-built_in">to</span>:eth.accounts[<span class="hljs-number">1</span>],<span class="hljs-built_in">value</span>:amount})
Error: authentication needed: password <span class="hljs-operator">or</span> unlock
    <span class="hljs-keyword">at</span> web3.js:<span class="hljs-number">3143</span>:<span class="hljs-number">20</span>
    <span class="hljs-keyword">at</span> web3.js:<span class="hljs-number">6347</span>:<span class="hljs-number">15</span>
    <span class="hljs-keyword">at</span> web3.js:<span class="hljs-number">5081</span>:<span class="hljs-number">36</span>
    <span class="hljs-keyword">at</span> &lt;anonymous&gt;:<span class="hljs-number">1</span>:<span class="hljs-number">1</span></code></pre> 
  <p>这里报错了，原因是账户每隔一段时间就会被锁住，要发送交易，必须先解锁账户，由于我们要从账户0发送交易，所以要解锁账户0：</p> 
  <pre class="prettyprint"><code class=" hljs avrasm">&gt; personal<span class="hljs-preprocessor">.unlockAccount</span>(eth<span class="hljs-preprocessor">.accounts</span>[<span class="hljs-number">0</span>])
Unlock account <span class="hljs-number">0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f</span>
<span class="hljs-label">Passphrase:</span> 
true</code></pre> 
  <p>输入创建账户时设置的密码，就可以成功解锁账户。然后再发送交易：</p> 
  <pre class="prettyprint"><code class=" hljs livecodeserver">&gt; amount = web3.toWei(<span class="hljs-number">10</span>,<span class="hljs-string">'ether'</span>)
<span class="hljs-string">"10000000000000000000"</span>
&gt; eth.sendTransaction({<span class="hljs-built_in">from</span>:eth.accounts[<span class="hljs-number">0</span>],<span class="hljs-built_in">to</span>:eth.accounts[<span class="hljs-number">1</span>],<span class="hljs-built_in">value</span>:amount})
INFO [<span class="hljs-number">03</span>-<span class="hljs-number">07</span>|<span class="hljs-number">11</span>:<span class="hljs-number">13</span>:<span class="hljs-number">11</span>] Submitted transaction                    fullhash=<span class="hljs-number">0x1b21bba16dd79b659c83594b0c41de42debb2738b447f6b24e133d51149ae2a6</span> recipient=<span class="hljs-number">0x46B24d04105551498587e3C6CE2c3341d5988938</span>
<span class="hljs-string">"0x1b21bba16dd79b659c83594b0c41de42debb2738b447f6b24e133d51149ae2a6"</span></code></pre> 
  <p>我们去查看账户1中的余额：</p> 
  <pre class="prettyprint"><code class=" hljs avrasm">&gt; eth<span class="hljs-preprocessor">.getBalance</span>(eth<span class="hljs-preprocessor">.accounts</span>[<span class="hljs-number">1</span>])
<span class="hljs-number">0</span></code></pre> 
  <p>发现还没转过去，此时交易已经提交到区块链，但还未被处理，这可以通过查看txpool来验证：</p> 
  <pre class="prettyprint"><code class=" hljs css">&gt; <span class="hljs-tag">txpool</span><span class="hljs-class">.status</span>
<span class="hljs-rules">{ <span class="hljs-rule"><span class="hljs-attribute">pending</span>:<span class="hljs-value"> <span class="hljs-number">1</span>, queued: <span class="hljs-number">0</span> </span></span></span>}</code></pre> 
  <p>其中有一条pending的交易，pending表示已提交但还未被处理的交易。</p> 
  <p>要使交易被处理，必须要挖矿。这里我们启动挖矿，然后等待挖到一个区块之后就停止挖矿：</p> 
  <pre class="prettyprint"><code class=" hljs markdown"><span class="hljs-blockquote">&gt; miner.start(1);admin.sleepBlocks(1);miner.stop();</span></code></pre> 
  <p>当miner.stop()返回true后，txpool中pending的交易数量应该为0了，说明交易已经被处理了，而账户1应该收到币了：</p> 
  <pre class="prettyprint"><code class=" hljs bash">&gt; web3.fromWei(eth.getBalance(eth.accounts[<span class="hljs-number">1</span>]),<span class="hljs-string">'ether'</span>)
<span class="hljs-number">10</span></code></pre> 
  <h3 id="查看交易和区块">查看交易和区块</h3> 
  <p>eth对象封装了查看交易和区块信息的方法。</p> 
  <p>查看当前区块总数：</p> 
  <pre class="prettyprint"><code class=" hljs markdown"><span class="hljs-blockquote">&gt; eth.blockNumber</span>
463</code></pre> 
  <p>通过区块号查看区块：</p> 
  <pre class="prettyprint"><code class=" hljs css">&gt; <span class="hljs-tag">eth</span><span class="hljs-class">.getBlock</span>(66)
<span class="hljs-rules">{ <span class="hljs-rule"><span class="hljs-attribute">difficulty</span>:<span class="hljs-value"> <span class="hljs-number">135266</span>, extraData: <span class="hljs-string">"0xd783010802846765746886676f312e31308664617277696e"</span>, gasLimit: <span class="hljs-number">3350537</span>, gasUsed: <span class="hljs-number">0</span>, hash: <span class="hljs-string">"0x265dfcc0649bf6240812256b2b9b4e3ae48d51fd8e43e25329ac111556eacdc8"</span>, logsBloom: <span class="hljs-string">"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"</span>, miner: <span class="hljs-string">"0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f"</span>, mixHash: <span class="hljs-string">"0xaf755722f62cac9b483d3437dbc795f2d3a02e28ec03d39d8ecbb6012906263c"</span>, nonce: <span class="hljs-string">"0x3cd80f6ec5c2f3e9"</span>, number: <span class="hljs-number">66</span>, parentHash: <span class="hljs-string">"0x099776a52223b892d13266bb3aec3cc04c455dc797185f0b3300d39f9fc0a8ec"</span>, receiptsRoot: <span class="hljs-string">"0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"</span>, sha3Uncles: <span class="hljs-string">"0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347"</span>, size: <span class="hljs-number">535</span>, stateRoot: <span class="hljs-string">"0x0c9feec5a201c8c98618331aecbfd2d4d93da1c6064abd0c41ae649fc08d8d06"</span>, timestamp: <span class="hljs-number">1520391527</span>, totalDifficulty: <span class="hljs-number">8919666</span>, transactions: [], transactionsRoot: <span class="hljs-string">"0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"</span>, uncles: [] </span></span></span>}</code></pre> 
  <p>通过交易hash查看交易：</p> 
  <pre class="prettyprint"><code class=" hljs livecodeserver">&gt; eth.getTransaction(<span class="hljs-string">"0x1b21bba16dd79b659c83594b0c41de42debb2738b447f6b24e133d51149ae2a6"</span>)
{
  blockHash: <span class="hljs-string">"0x1cb368a27cc23c786ff5cdf7cd4351d48f4c8e8aea2e084a5e9d7c480449c79a"</span>,
  blockNumber: <span class="hljs-number">463</span>,
  <span class="hljs-built_in">from</span>: <span class="hljs-string">"0x4a3b0216e1644c1bbabda527a6da7fc5d178b58f"</span>,
  gas: <span class="hljs-number">90000</span>,
  gasPrice: <span class="hljs-number">18000000000</span>,
  hash: <span class="hljs-string">"0x1b21bba16dd79b659c83594b0c41de42debb2738b447f6b24e133d51149ae2a6"</span>,
  input: <span class="hljs-string">"0x"</span>,
  nonce: <span class="hljs-number">0</span>,
  r: <span class="hljs-string">"0x31d22686e0d408a16497becf6d47fbfdffe6692d91727e5b7ed3d73ede9e66ea"</span>,
  s: <span class="hljs-string">"0x7ff7c14a20991e2dfdb813c2237b08a5611c8c8cb3c2dcb03a55ed282ce4d9c3"</span>,
  <span class="hljs-built_in">to</span>: <span class="hljs-string">"0x46b24d04105551498587e3c6ce2c3341d5988938"</span>,
  transactionIndex: <span class="hljs-number">0</span>,
  v: <span class="hljs-string">"0x38"</span>,
  <span class="hljs-built_in">value</span>: <span class="hljs-number">10000000000000000000</span>
}</code></pre> 
 </div> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/markdown_views-ea0013b516.css"> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/a394268045/article/details/79470221,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/a394268045/article/details/79470221,&quot;}">阅读更多</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?ee64533f3c6a7a284cd39a37ee732c8b";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
