<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>智能合约从入门到精通：智能合约的前世今生 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="智能合约从入门到精通：智能合约的前世今生" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="简介：区块链技术由来已久。2008年，神秘的日裔美国人中本聪天才设计出来的电子货币系统：比特币，为人类打开了区块链的大门。2009年，他发布了首个比特币软件，并正式启动了比特币金融系统。依靠POW算法的比特币随着人们认知，2016年以后区块链也为人们所追捧。而以太坊的快速发展，区块链已经进化出智能合约、DApp等新的技术，区块链2.0、3.0时代也正在来临。本文将详细介绍智能合约是什么。 区块链是分布式数据存储、点对点传输、共识机制、加密算法等计算机技术的新型应用模式。所谓共识机制是区块链系统中实现不同节点之间建立信任、获取权益的数学算法。这套理论由中本聪在2008年提出，并在2009年发布了首个比特币软件。&nbsp;&nbsp; 比特币基于Pow算法：通过与或运算，计算出一个满足规则的随机数，即获得本次记账权，发出本轮需要记录的数据，全网其它节点验证后一起存储，以工作量证明其价值。虽然其完全去中心化的特点是区块链的核心思想，也暴露出比特币Pow共识算法的弊端：资源大量浪费、共识达成的周期较长和易分叉。&nbsp;&nbsp; 于是，以太坊以Pos+Pow相结合公式算法给出区块链更大的发展空间，也应运而生出智能合约这一概念。 那什么又是智能合约呢？&nbsp;&nbsp; 首先，我们希望大家了解智能合约的本质。同时，在人们了解智能合约的时候，也解除大家对区块链在法律上面的误解。&nbsp;&nbsp; 智能合约不是一个新的概念。“智能合约”（smart contract）这个术语至少可以追溯到1995年，是由多产的跨领域法律学者尼克·萨博（Nick Szabo）提出来的。他在发表在自己的网站的几篇文章中提到了智能合约。他的定义如下： 智能合约（英语：Smart contract ）是一种旨在以信息化方式传播、验证或执行合同的计算机协议。智能合约允许在没有第三方的情况下进行可信交易。这些交易可追踪且不可逆转。&nbsp;&nbsp; 承诺&nbsp;&nbsp; 一套承诺指的是合约参与方同意的（经常是相互的）权利和义务。这些承诺定义了合约的本质和目的。以一个销售合约为典型例子。卖家承诺发送货物，买家承诺支付合理的货款。&nbsp;&nbsp; 数字形式&nbsp; 数字形式意味着合约不得不写入计算机可读的代码中。这是必须的，因为只要参与方达成协定，智能合约建立的权利和义务，是由一台计算机或者计算机网络执行的。&nbsp; 更进一步地说明：&nbsp;&nbsp; （1）达成协定&nbsp;&nbsp; 智能合约的参与方什么时候达成协定呢？答案取决于特定的智能合约实施。一般而言，当参与方通过在合约宿主平台上安装合约，致力于合约的执行时，合约就被发现了。&nbsp;&nbsp; （2）合约执行&nbsp;&nbsp; “执行”的真正意思也依赖于实施。一般而言，执行意味着通过技术手段积极实施。&nbsp; （3）计算机可读的代码&nbsp; 另外，合约需要的特定“数字形式”非常依赖于参与方同意使用的协议。&nbsp;&nbsp; 协议&nbsp; 协议是技术实现（technicalimplementation），在这个基础上，合约承诺被实现，或者合约承诺实现被记录下来。选择哪个协议取决于许多因素，最重要的因素是在合约履行期间，被交易资产的本质。&nbsp; 再次以销售合约为例。假设，参与方同意货款以比特币支付。选择的协议很明显将会是比特币协议，在此协议上，智能合约被实施。因此，合约必须要用到的“数字形式”就是比特币脚本语言。比特币脚本语言是一种非图灵完备的、命令式的、基于栈的编程语言，类似于Forth。&nbsp;&nbsp; 从理论到实践&nbsp;&nbsp; 剧透：如果你了解比特币协议、比特币货币和智能财产的概念，你可以跳过这一章节。&nbsp; 当萨博在近二十年以前，在网络提出了智能合约理论时，实践一直严重地落后于理论。一直没有如何将这个理念转变现实的清晰路径。&nbsp;&nbsp; 现在，技术已经赶上萨博富有远见的头脑，智能合约开始变得可行。在这二十年中发生了什么事情呢？&nbsp;&nbsp; 简而言之，萨博在他的智能合约定义中建立的协议，已经被进一步开发。它们已经以比特币协议的形式出现，或者更加一般地说，这些协议能够实现中本聪共识（Nakamoto consensus）。&nbsp;&nbsp; 在这些协议被开发的同时，我们获得了另一个必需的构件：第一种真正的、原生的数字资产，即作为货币的比特币。没有这种资产，智能合约也将不可行，因为金融部门在过去的几十年中，一直对任何创新抱有极端的敌意。&nbsp;&nbsp; 最后，另一个还没有结出果实的概念是智能财产。我们正在进入一个计算和连接无所不在的时代，通俗地讲，就是物联网。物理实体能够从互联网中检索信息和向互联网发送信息，它们也能够通过软件控制它们自身的使用（想想数字版权管理吧），这使得我们能够建立萨博所指的嵌入式合约（embedded contracts）。&nbsp;&nbsp; “智能合约的基本理念是，许多合约条款能够嵌入到硬件和软件中。”&nbsp; 萨博认为嵌入式合约最初的应用实例是自动贩卖机、销售点终端、大公司间的电子数据交换和银行间用于转移和清算的支付网络SWIFT、ACH、FedWire。另一个嵌入式合约的例子是数字内容消费–例如音乐、电影和电子书–领域的数字版权管理机制。&nbsp;&nbsp; 从这个意义上理解，智能合约是赛博空间（虚拟空间）和物理空间（实体空间）之间的桥梁。&nbsp;&nbsp; 智能VS法律&nbsp;&nbsp; 人们对智能合约概念的最多的困惑，源于它的名字和用于描述它的语言。人们似乎从“合约”这一术语中，推断出智能合约一定与法律概念中的合约有某种联系。那么，根据这个逻辑，智能合约是有法律约束力的协定加上其它因素（X），X使得协定变得“智能”。&nbsp;&nbsp; 从法律的角度，这一推测是错误的。根据参与方选择的智能合约实施，参与双方或者多方完全可能进入一个不满足合法的合约所必需条件的“智能合约”。&nbsp;&nbsp; 然而，不可否认的是，智能合约必须被归类为与法律相关的行为。我们生活在一个被法律管理和控制的世界，所有可能的经济交易也被法律管理和控制。合约法只是组织经济交易的一种可能的工具。原理图如下：&nbsp; &nbsp; Legally relevant behaviour ：与法律相关的行为； contract law：合约法； smart contracts：智能合约&nbsp; 让我们看一下合约法和智能合约的交集部分。我们能否发现一个能够描述这两个系统的合约行为的概括呢？引用萨博的论文：&nbsp; “合约–一套达成共识的协定–是形成关系的传统方式。”&nbsp;&nbsp; 萨博告诉我们的是，“合约”的抽象概念是在个人、机构和他们拥有的东西（财产）之间形成关系的一种公认的工具。然而，上面的引用并不清晰，参与方如何达成协定，如何形成协定，没有讲到。&nbsp; 我建议下面这个普遍的合约模型：&nbsp; &nbsp; Agreement：协定； Formalization：形式化 ；Execution/Enforcement：执行&nbsp; 如果这个模型应用到智能合约和法律意义上的合约中，让我们看看它怎么起作用。&nbsp;&nbsp; 协定&nbsp;&nbsp; 协定是一个完全的理想情况，从它在正式系统中的实施中抽象而来。当然，事实上这是一个脆弱的抽象。在法律系统中，在许多情况下，具有法律约束力，不要求形成一个协议。与此相反，对智能合约来说，在许多情况下，在形式化以前，没有事前协定。&nbsp;&nbsp; 形式化&nbsp;&nbsp; 形式化在这里的意思是，在一个正式系统实施理想的协定的行为。有两个相关的正式系统。一个是合约法，另一个是你选择的智能合约系统。这两个系统都服务于相同的目的：当违约行为发生时，使得协定能够执行。&nbsp;&nbsp; 从一般角度理解，对于合约是怎么形式化的这一问题，有人认为它只是实施细节。然而，事实证明，合约的实施的确事关重大。&nbsp;&nbsp; 现在有两种本质上不同的、形成一种合约关系的方式。这两种方式是截然不同的，因为它们需要不同的执行方式。&nbsp;&nbsp; 执行&nbsp;&nbsp; 因为一图顶千言，所以来看下面这张我从Lawrence&nbsp; Lessig那里“剽窃”来的信息图，出于本文的需要，我对图片做了轻微的修改。&nbsp;&nbsp; Market：市场 ； contract：合约 ；Norms：惯例、常规 ； Architecture ：架构 ； law：法律； ex ante：事前； ex post：事后&nbsp; 在Lessig的最初版本中，是一个人位于信息图的中间，不是一个合约。这位了不起的思考者用他的信息图，努力教给我们这些凡人的是，有四种最基本的约束影响着一个人的一生。这四个约束本质上截然不同的，但是以复杂的方式交织在一起。&nbsp;&nbsp; 我对原版的信息图做出了修改，用合约取代了人，这里的合约是指双方或者多方之间达成的协定。有趣的是，做出修改以后，这个信息图仍然有效。这四个约束就像管理着人一样，管理着合约关系。&nbsp;&nbsp; 另外，我着重强调这四个约束中的两个约束，即架构和法律。这两个约束是合约能够被执行的两个最基本的动力。根据参与方选择的协定实施的系统，合约将通过法律系统执行，或者通过架构执行。这两种合约执行模式显著不同。&nbsp;&nbsp; Lessig认识到合约执行的两个特征，可以帮助我们谈论两种合约执行模式的不同。一个是代理（agency），另一个是时间性（temporality）。在法律意义上，合约的执行，只有当一些人选择这样做时，才会发生。此外，执行只发生在违约以后，例如事后。&nbsp;&nbsp; 智能合约的执行在这两个方面，本质上不同于传统合约。为了理解是如何不同的，我们需要首先理解Lessig所指的架构是什么意思。&nbsp;&nbsp; Lessig在他的《代码：网络空间的法律》一书中，为了解释代码在赛博空间中的作用，引入了架构的概念。物理空间的形状，就是你的身体穿梭其中的空间，是由它的架构决定的，例如建筑环境（建筑物、街道等）。如此类似，赛博空间的形状是由代码决定的，人们使用的应用和协议就是建立在这些代码上面的。因此，代码是赛博空间的架构。&nbsp;&nbsp; 法律和架构都有方法管理参与方的行为。法律依赖于个人将规则内化，个人据此调整自己的行为，或者该系统允许法律追索权（例如法庭）。然而，架构通过塑造空间本身管理行为。架构不是关于允许什么，而是什么是可能的。架构既不依靠个人将规则内化，也不依靠起诉系统。&nbsp;&nbsp; 根据我们衡量合约执行的质量的标准，例如代理和时间性，因此架构明显地不同于法律。架构执行合约时，不需要任何个人或者组织（代理，agency)决定如何执行合约，你可以称架构执行为自我执行（self-enforcing），虽然我不喜欢这种叫法。另外，架构事前执行，违约甚至不可能发生。&nbsp;&nbsp; 安全问题&nbsp;&nbsp; 智能合约是“执行合约条款的计算机交易协议”。区块链上的所有用户都可以看到基于区块链的智能合约。但是，这会导致包括安全漏洞在内的所有漏洞都可见，并且可能无法迅速修复。&nbsp;&nbsp; 这样的攻击难以迅速解决，例如，2016年6月TheDAOEther的漏洞造成损失5000万美元，而开发者试图达成共识的解决方案。DAO的程序在黑客删除资金之前有一段时间的延迟。以太坊软件的一个硬分叉在时限到期之前完成了攻击者的资金回收工作。&nbsp;&nbsp; 以太坊智能合约中的问题包括合约编程Solidity、编译器错误、以太坊虚拟机错误、对区块链网络的攻击、程序错误的不变性以及其他尚无文档记录的攻击。&nbsp;&nbsp; 案例&nbsp;&nbsp; 部署智能合约的案例有：&nbsp;&nbsp; 以太坊在其区块链上实施了一种近乎图灵完备的语言，这是一个突出的智能合约框架。&nbsp;&nbsp; RootStock(RSK) 是一个智能合约平台，通过侧链技术连接到比特币区块链。RSK兼容为以太坊创造的智能合约。&nbsp;&nbsp; 未来展望&nbsp;&nbsp; 有一件事确定无疑：智能合约已经扎下根了。它们是真正的全球经济的基本构件，任何人都可以接入到这一全球经济，不需要事前审查和高昂的预付成本。它们从许多经济交易中，移除了对第三方的信任必要，在其它情况下，将信任转移到可以信任的人和机构。&nbsp;&nbsp; 智能合约怎样与合约法共存呢？本质上，它们是解决相同问题–以一种方式形成一种关系，使得承诺可以执行–的两种不同方法。就这一点而言，智能合约似乎是更好的解决方案：智能合约事前执行，不像法律系统一样，事后执行。然而，这是一种谬误。最后一次引用全能的萨博：&nbsp;&nbsp; “合约法的成功和取代合约法所需的高额成本，使得保存和利用合适的原则，仍然很有价值。但是，数字革命正在剧烈地改变我们能够拥有的各种关系。在这个赛博时代，我们来之不易的法律传统中的哪一部分，将仍然具有价值？将这些法律原则应用到我们的线上关系设计，最好的方式是什么？”&nbsp;&nbsp; 本文内容援引百度百科及http://www.8btc.com/what-are-smart-contracts-in-search-of-a-consensus&nbsp;&nbsp; 关于矩阵元：矩阵元是一家全球领先的下一代计算机构领导厂商，致力于面向下一代价值互联网的计算架构，解决海量数据、边缘计算、人工智能技术条件下的数据流动性，推动基于隐私保护与密码安全的数据交换与协同计算。 点击打开链接 阅读更多" />
<meta property="og:description" content="简介：区块链技术由来已久。2008年，神秘的日裔美国人中本聪天才设计出来的电子货币系统：比特币，为人类打开了区块链的大门。2009年，他发布了首个比特币软件，并正式启动了比特币金融系统。依靠POW算法的比特币随着人们认知，2016年以后区块链也为人们所追捧。而以太坊的快速发展，区块链已经进化出智能合约、DApp等新的技术，区块链2.0、3.0时代也正在来临。本文将详细介绍智能合约是什么。 区块链是分布式数据存储、点对点传输、共识机制、加密算法等计算机技术的新型应用模式。所谓共识机制是区块链系统中实现不同节点之间建立信任、获取权益的数学算法。这套理论由中本聪在2008年提出，并在2009年发布了首个比特币软件。&nbsp;&nbsp; 比特币基于Pow算法：通过与或运算，计算出一个满足规则的随机数，即获得本次记账权，发出本轮需要记录的数据，全网其它节点验证后一起存储，以工作量证明其价值。虽然其完全去中心化的特点是区块链的核心思想，也暴露出比特币Pow共识算法的弊端：资源大量浪费、共识达成的周期较长和易分叉。&nbsp;&nbsp; 于是，以太坊以Pos+Pow相结合公式算法给出区块链更大的发展空间，也应运而生出智能合约这一概念。 那什么又是智能合约呢？&nbsp;&nbsp; 首先，我们希望大家了解智能合约的本质。同时，在人们了解智能合约的时候，也解除大家对区块链在法律上面的误解。&nbsp;&nbsp; 智能合约不是一个新的概念。“智能合约”（smart contract）这个术语至少可以追溯到1995年，是由多产的跨领域法律学者尼克·萨博（Nick Szabo）提出来的。他在发表在自己的网站的几篇文章中提到了智能合约。他的定义如下： 智能合约（英语：Smart contract ）是一种旨在以信息化方式传播、验证或执行合同的计算机协议。智能合约允许在没有第三方的情况下进行可信交易。这些交易可追踪且不可逆转。&nbsp;&nbsp; 承诺&nbsp;&nbsp; 一套承诺指的是合约参与方同意的（经常是相互的）权利和义务。这些承诺定义了合约的本质和目的。以一个销售合约为典型例子。卖家承诺发送货物，买家承诺支付合理的货款。&nbsp;&nbsp; 数字形式&nbsp; 数字形式意味着合约不得不写入计算机可读的代码中。这是必须的，因为只要参与方达成协定，智能合约建立的权利和义务，是由一台计算机或者计算机网络执行的。&nbsp; 更进一步地说明：&nbsp;&nbsp; （1）达成协定&nbsp;&nbsp; 智能合约的参与方什么时候达成协定呢？答案取决于特定的智能合约实施。一般而言，当参与方通过在合约宿主平台上安装合约，致力于合约的执行时，合约就被发现了。&nbsp;&nbsp; （2）合约执行&nbsp;&nbsp; “执行”的真正意思也依赖于实施。一般而言，执行意味着通过技术手段积极实施。&nbsp; （3）计算机可读的代码&nbsp; 另外，合约需要的特定“数字形式”非常依赖于参与方同意使用的协议。&nbsp;&nbsp; 协议&nbsp; 协议是技术实现（technicalimplementation），在这个基础上，合约承诺被实现，或者合约承诺实现被记录下来。选择哪个协议取决于许多因素，最重要的因素是在合约履行期间，被交易资产的本质。&nbsp; 再次以销售合约为例。假设，参与方同意货款以比特币支付。选择的协议很明显将会是比特币协议，在此协议上，智能合约被实施。因此，合约必须要用到的“数字形式”就是比特币脚本语言。比特币脚本语言是一种非图灵完备的、命令式的、基于栈的编程语言，类似于Forth。&nbsp;&nbsp; 从理论到实践&nbsp;&nbsp; 剧透：如果你了解比特币协议、比特币货币和智能财产的概念，你可以跳过这一章节。&nbsp; 当萨博在近二十年以前，在网络提出了智能合约理论时，实践一直严重地落后于理论。一直没有如何将这个理念转变现实的清晰路径。&nbsp;&nbsp; 现在，技术已经赶上萨博富有远见的头脑，智能合约开始变得可行。在这二十年中发生了什么事情呢？&nbsp;&nbsp; 简而言之，萨博在他的智能合约定义中建立的协议，已经被进一步开发。它们已经以比特币协议的形式出现，或者更加一般地说，这些协议能够实现中本聪共识（Nakamoto consensus）。&nbsp;&nbsp; 在这些协议被开发的同时，我们获得了另一个必需的构件：第一种真正的、原生的数字资产，即作为货币的比特币。没有这种资产，智能合约也将不可行，因为金融部门在过去的几十年中，一直对任何创新抱有极端的敌意。&nbsp;&nbsp; 最后，另一个还没有结出果实的概念是智能财产。我们正在进入一个计算和连接无所不在的时代，通俗地讲，就是物联网。物理实体能够从互联网中检索信息和向互联网发送信息，它们也能够通过软件控制它们自身的使用（想想数字版权管理吧），这使得我们能够建立萨博所指的嵌入式合约（embedded contracts）。&nbsp;&nbsp; “智能合约的基本理念是，许多合约条款能够嵌入到硬件和软件中。”&nbsp; 萨博认为嵌入式合约最初的应用实例是自动贩卖机、销售点终端、大公司间的电子数据交换和银行间用于转移和清算的支付网络SWIFT、ACH、FedWire。另一个嵌入式合约的例子是数字内容消费–例如音乐、电影和电子书–领域的数字版权管理机制。&nbsp;&nbsp; 从这个意义上理解，智能合约是赛博空间（虚拟空间）和物理空间（实体空间）之间的桥梁。&nbsp;&nbsp; 智能VS法律&nbsp;&nbsp; 人们对智能合约概念的最多的困惑，源于它的名字和用于描述它的语言。人们似乎从“合约”这一术语中，推断出智能合约一定与法律概念中的合约有某种联系。那么，根据这个逻辑，智能合约是有法律约束力的协定加上其它因素（X），X使得协定变得“智能”。&nbsp;&nbsp; 从法律的角度，这一推测是错误的。根据参与方选择的智能合约实施，参与双方或者多方完全可能进入一个不满足合法的合约所必需条件的“智能合约”。&nbsp;&nbsp; 然而，不可否认的是，智能合约必须被归类为与法律相关的行为。我们生活在一个被法律管理和控制的世界，所有可能的经济交易也被法律管理和控制。合约法只是组织经济交易的一种可能的工具。原理图如下：&nbsp; &nbsp; Legally relevant behaviour ：与法律相关的行为； contract law：合约法； smart contracts：智能合约&nbsp; 让我们看一下合约法和智能合约的交集部分。我们能否发现一个能够描述这两个系统的合约行为的概括呢？引用萨博的论文：&nbsp; “合约–一套达成共识的协定–是形成关系的传统方式。”&nbsp;&nbsp; 萨博告诉我们的是，“合约”的抽象概念是在个人、机构和他们拥有的东西（财产）之间形成关系的一种公认的工具。然而，上面的引用并不清晰，参与方如何达成协定，如何形成协定，没有讲到。&nbsp; 我建议下面这个普遍的合约模型：&nbsp; &nbsp; Agreement：协定； Formalization：形式化 ；Execution/Enforcement：执行&nbsp; 如果这个模型应用到智能合约和法律意义上的合约中，让我们看看它怎么起作用。&nbsp;&nbsp; 协定&nbsp;&nbsp; 协定是一个完全的理想情况，从它在正式系统中的实施中抽象而来。当然，事实上这是一个脆弱的抽象。在法律系统中，在许多情况下，具有法律约束力，不要求形成一个协议。与此相反，对智能合约来说，在许多情况下，在形式化以前，没有事前协定。&nbsp;&nbsp; 形式化&nbsp;&nbsp; 形式化在这里的意思是，在一个正式系统实施理想的协定的行为。有两个相关的正式系统。一个是合约法，另一个是你选择的智能合约系统。这两个系统都服务于相同的目的：当违约行为发生时，使得协定能够执行。&nbsp;&nbsp; 从一般角度理解，对于合约是怎么形式化的这一问题，有人认为它只是实施细节。然而，事实证明，合约的实施的确事关重大。&nbsp;&nbsp; 现在有两种本质上不同的、形成一种合约关系的方式。这两种方式是截然不同的，因为它们需要不同的执行方式。&nbsp;&nbsp; 执行&nbsp;&nbsp; 因为一图顶千言，所以来看下面这张我从Lawrence&nbsp; Lessig那里“剽窃”来的信息图，出于本文的需要，我对图片做了轻微的修改。&nbsp;&nbsp; Market：市场 ； contract：合约 ；Norms：惯例、常规 ； Architecture ：架构 ； law：法律； ex ante：事前； ex post：事后&nbsp; 在Lessig的最初版本中，是一个人位于信息图的中间，不是一个合约。这位了不起的思考者用他的信息图，努力教给我们这些凡人的是，有四种最基本的约束影响着一个人的一生。这四个约束本质上截然不同的，但是以复杂的方式交织在一起。&nbsp;&nbsp; 我对原版的信息图做出了修改，用合约取代了人，这里的合约是指双方或者多方之间达成的协定。有趣的是，做出修改以后，这个信息图仍然有效。这四个约束就像管理着人一样，管理着合约关系。&nbsp;&nbsp; 另外，我着重强调这四个约束中的两个约束，即架构和法律。这两个约束是合约能够被执行的两个最基本的动力。根据参与方选择的协定实施的系统，合约将通过法律系统执行，或者通过架构执行。这两种合约执行模式显著不同。&nbsp;&nbsp; Lessig认识到合约执行的两个特征，可以帮助我们谈论两种合约执行模式的不同。一个是代理（agency），另一个是时间性（temporality）。在法律意义上，合约的执行，只有当一些人选择这样做时，才会发生。此外，执行只发生在违约以后，例如事后。&nbsp;&nbsp; 智能合约的执行在这两个方面，本质上不同于传统合约。为了理解是如何不同的，我们需要首先理解Lessig所指的架构是什么意思。&nbsp;&nbsp; Lessig在他的《代码：网络空间的法律》一书中，为了解释代码在赛博空间中的作用，引入了架构的概念。物理空间的形状，就是你的身体穿梭其中的空间，是由它的架构决定的，例如建筑环境（建筑物、街道等）。如此类似，赛博空间的形状是由代码决定的，人们使用的应用和协议就是建立在这些代码上面的。因此，代码是赛博空间的架构。&nbsp;&nbsp; 法律和架构都有方法管理参与方的行为。法律依赖于个人将规则内化，个人据此调整自己的行为，或者该系统允许法律追索权（例如法庭）。然而，架构通过塑造空间本身管理行为。架构不是关于允许什么，而是什么是可能的。架构既不依靠个人将规则内化，也不依靠起诉系统。&nbsp;&nbsp; 根据我们衡量合约执行的质量的标准，例如代理和时间性，因此架构明显地不同于法律。架构执行合约时，不需要任何个人或者组织（代理，agency)决定如何执行合约，你可以称架构执行为自我执行（self-enforcing），虽然我不喜欢这种叫法。另外，架构事前执行，违约甚至不可能发生。&nbsp;&nbsp; 安全问题&nbsp;&nbsp; 智能合约是“执行合约条款的计算机交易协议”。区块链上的所有用户都可以看到基于区块链的智能合约。但是，这会导致包括安全漏洞在内的所有漏洞都可见，并且可能无法迅速修复。&nbsp;&nbsp; 这样的攻击难以迅速解决，例如，2016年6月TheDAOEther的漏洞造成损失5000万美元，而开发者试图达成共识的解决方案。DAO的程序在黑客删除资金之前有一段时间的延迟。以太坊软件的一个硬分叉在时限到期之前完成了攻击者的资金回收工作。&nbsp;&nbsp; 以太坊智能合约中的问题包括合约编程Solidity、编译器错误、以太坊虚拟机错误、对区块链网络的攻击、程序错误的不变性以及其他尚无文档记录的攻击。&nbsp;&nbsp; 案例&nbsp;&nbsp; 部署智能合约的案例有：&nbsp;&nbsp; 以太坊在其区块链上实施了一种近乎图灵完备的语言，这是一个突出的智能合约框架。&nbsp;&nbsp; RootStock(RSK) 是一个智能合约平台，通过侧链技术连接到比特币区块链。RSK兼容为以太坊创造的智能合约。&nbsp;&nbsp; 未来展望&nbsp;&nbsp; 有一件事确定无疑：智能合约已经扎下根了。它们是真正的全球经济的基本构件，任何人都可以接入到这一全球经济，不需要事前审查和高昂的预付成本。它们从许多经济交易中，移除了对第三方的信任必要，在其它情况下，将信任转移到可以信任的人和机构。&nbsp;&nbsp; 智能合约怎样与合约法共存呢？本质上，它们是解决相同问题–以一种方式形成一种关系，使得承诺可以执行–的两种不同方法。就这一点而言，智能合约似乎是更好的解决方案：智能合约事前执行，不像法律系统一样，事后执行。然而，这是一种谬误。最后一次引用全能的萨博：&nbsp;&nbsp; “合约法的成功和取代合约法所需的高额成本，使得保存和利用合适的原则，仍然很有价值。但是，数字革命正在剧烈地改变我们能够拥有的各种关系。在这个赛博时代，我们来之不易的法律传统中的哪一部分，将仍然具有价值？将这些法律原则应用到我们的线上关系设计，最好的方式是什么？”&nbsp;&nbsp; 本文内容援引百度百科及http://www.8btc.com/what-are-smart-contracts-in-search-of-a-consensus&nbsp;&nbsp; 关于矩阵元：矩阵元是一家全球领先的下一代计算机构领导厂商，致力于面向下一代价值互联网的计算架构，解决海量数据、边缘计算、人工智能技术条件下的数据流动性，推动基于隐私保护与密码安全的数据交换与协同计算。 点击打开链接 阅读更多" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-04-13T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"简介：区块链技术由来已久。2008年，神秘的日裔美国人中本聪天才设计出来的电子货币系统：比特币，为人类打开了区块链的大门。2009年，他发布了首个比特币软件，并正式启动了比特币金融系统。依靠POW算法的比特币随着人们认知，2016年以后区块链也为人们所追捧。而以太坊的快速发展，区块链已经进化出智能合约、DApp等新的技术，区块链2.0、3.0时代也正在来临。本文将详细介绍智能合约是什么。 区块链是分布式数据存储、点对点传输、共识机制、加密算法等计算机技术的新型应用模式。所谓共识机制是区块链系统中实现不同节点之间建立信任、获取权益的数学算法。这套理论由中本聪在2008年提出，并在2009年发布了首个比特币软件。&nbsp;&nbsp; 比特币基于Pow算法：通过与或运算，计算出一个满足规则的随机数，即获得本次记账权，发出本轮需要记录的数据，全网其它节点验证后一起存储，以工作量证明其价值。虽然其完全去中心化的特点是区块链的核心思想，也暴露出比特币Pow共识算法的弊端：资源大量浪费、共识达成的周期较长和易分叉。&nbsp;&nbsp; 于是，以太坊以Pos+Pow相结合公式算法给出区块链更大的发展空间，也应运而生出智能合约这一概念。 那什么又是智能合约呢？&nbsp;&nbsp; 首先，我们希望大家了解智能合约的本质。同时，在人们了解智能合约的时候，也解除大家对区块链在法律上面的误解。&nbsp;&nbsp; 智能合约不是一个新的概念。“智能合约”（smart contract）这个术语至少可以追溯到1995年，是由多产的跨领域法律学者尼克·萨博（Nick Szabo）提出来的。他在发表在自己的网站的几篇文章中提到了智能合约。他的定义如下： 智能合约（英语：Smart contract ）是一种旨在以信息化方式传播、验证或执行合同的计算机协议。智能合约允许在没有第三方的情况下进行可信交易。这些交易可追踪且不可逆转。&nbsp;&nbsp; 承诺&nbsp;&nbsp; 一套承诺指的是合约参与方同意的（经常是相互的）权利和义务。这些承诺定义了合约的本质和目的。以一个销售合约为典型例子。卖家承诺发送货物，买家承诺支付合理的货款。&nbsp;&nbsp; 数字形式&nbsp; 数字形式意味着合约不得不写入计算机可读的代码中。这是必须的，因为只要参与方达成协定，智能合约建立的权利和义务，是由一台计算机或者计算机网络执行的。&nbsp; 更进一步地说明：&nbsp;&nbsp; （1）达成协定&nbsp;&nbsp; 智能合约的参与方什么时候达成协定呢？答案取决于特定的智能合约实施。一般而言，当参与方通过在合约宿主平台上安装合约，致力于合约的执行时，合约就被发现了。&nbsp;&nbsp; （2）合约执行&nbsp;&nbsp; “执行”的真正意思也依赖于实施。一般而言，执行意味着通过技术手段积极实施。&nbsp; （3）计算机可读的代码&nbsp; 另外，合约需要的特定“数字形式”非常依赖于参与方同意使用的协议。&nbsp;&nbsp; 协议&nbsp; 协议是技术实现（technicalimplementation），在这个基础上，合约承诺被实现，或者合约承诺实现被记录下来。选择哪个协议取决于许多因素，最重要的因素是在合约履行期间，被交易资产的本质。&nbsp; 再次以销售合约为例。假设，参与方同意货款以比特币支付。选择的协议很明显将会是比特币协议，在此协议上，智能合约被实施。因此，合约必须要用到的“数字形式”就是比特币脚本语言。比特币脚本语言是一种非图灵完备的、命令式的、基于栈的编程语言，类似于Forth。&nbsp;&nbsp; 从理论到实践&nbsp;&nbsp; 剧透：如果你了解比特币协议、比特币货币和智能财产的概念，你可以跳过这一章节。&nbsp; 当萨博在近二十年以前，在网络提出了智能合约理论时，实践一直严重地落后于理论。一直没有如何将这个理念转变现实的清晰路径。&nbsp;&nbsp; 现在，技术已经赶上萨博富有远见的头脑，智能合约开始变得可行。在这二十年中发生了什么事情呢？&nbsp;&nbsp; 简而言之，萨博在他的智能合约定义中建立的协议，已经被进一步开发。它们已经以比特币协议的形式出现，或者更加一般地说，这些协议能够实现中本聪共识（Nakamoto consensus）。&nbsp;&nbsp; 在这些协议被开发的同时，我们获得了另一个必需的构件：第一种真正的、原生的数字资产，即作为货币的比特币。没有这种资产，智能合约也将不可行，因为金融部门在过去的几十年中，一直对任何创新抱有极端的敌意。&nbsp;&nbsp; 最后，另一个还没有结出果实的概念是智能财产。我们正在进入一个计算和连接无所不在的时代，通俗地讲，就是物联网。物理实体能够从互联网中检索信息和向互联网发送信息，它们也能够通过软件控制它们自身的使用（想想数字版权管理吧），这使得我们能够建立萨博所指的嵌入式合约（embedded contracts）。&nbsp;&nbsp; “智能合约的基本理念是，许多合约条款能够嵌入到硬件和软件中。”&nbsp; 萨博认为嵌入式合约最初的应用实例是自动贩卖机、销售点终端、大公司间的电子数据交换和银行间用于转移和清算的支付网络SWIFT、ACH、FedWire。另一个嵌入式合约的例子是数字内容消费–例如音乐、电影和电子书–领域的数字版权管理机制。&nbsp;&nbsp; 从这个意义上理解，智能合约是赛博空间（虚拟空间）和物理空间（实体空间）之间的桥梁。&nbsp;&nbsp; 智能VS法律&nbsp;&nbsp; 人们对智能合约概念的最多的困惑，源于它的名字和用于描述它的语言。人们似乎从“合约”这一术语中，推断出智能合约一定与法律概念中的合约有某种联系。那么，根据这个逻辑，智能合约是有法律约束力的协定加上其它因素（X），X使得协定变得“智能”。&nbsp;&nbsp; 从法律的角度，这一推测是错误的。根据参与方选择的智能合约实施，参与双方或者多方完全可能进入一个不满足合法的合约所必需条件的“智能合约”。&nbsp;&nbsp; 然而，不可否认的是，智能合约必须被归类为与法律相关的行为。我们生活在一个被法律管理和控制的世界，所有可能的经济交易也被法律管理和控制。合约法只是组织经济交易的一种可能的工具。原理图如下：&nbsp; &nbsp; Legally relevant behaviour ：与法律相关的行为； contract law：合约法； smart contracts：智能合约&nbsp; 让我们看一下合约法和智能合约的交集部分。我们能否发现一个能够描述这两个系统的合约行为的概括呢？引用萨博的论文：&nbsp; “合约–一套达成共识的协定–是形成关系的传统方式。”&nbsp;&nbsp; 萨博告诉我们的是，“合约”的抽象概念是在个人、机构和他们拥有的东西（财产）之间形成关系的一种公认的工具。然而，上面的引用并不清晰，参与方如何达成协定，如何形成协定，没有讲到。&nbsp; 我建议下面这个普遍的合约模型：&nbsp; &nbsp; Agreement：协定； Formalization：形式化 ；Execution/Enforcement：执行&nbsp; 如果这个模型应用到智能合约和法律意义上的合约中，让我们看看它怎么起作用。&nbsp;&nbsp; 协定&nbsp;&nbsp; 协定是一个完全的理想情况，从它在正式系统中的实施中抽象而来。当然，事实上这是一个脆弱的抽象。在法律系统中，在许多情况下，具有法律约束力，不要求形成一个协议。与此相反，对智能合约来说，在许多情况下，在形式化以前，没有事前协定。&nbsp;&nbsp; 形式化&nbsp;&nbsp; 形式化在这里的意思是，在一个正式系统实施理想的协定的行为。有两个相关的正式系统。一个是合约法，另一个是你选择的智能合约系统。这两个系统都服务于相同的目的：当违约行为发生时，使得协定能够执行。&nbsp;&nbsp; 从一般角度理解，对于合约是怎么形式化的这一问题，有人认为它只是实施细节。然而，事实证明，合约的实施的确事关重大。&nbsp;&nbsp; 现在有两种本质上不同的、形成一种合约关系的方式。这两种方式是截然不同的，因为它们需要不同的执行方式。&nbsp;&nbsp; 执行&nbsp;&nbsp; 因为一图顶千言，所以来看下面这张我从Lawrence&nbsp; Lessig那里“剽窃”来的信息图，出于本文的需要，我对图片做了轻微的修改。&nbsp;&nbsp; Market：市场 ； contract：合约 ；Norms：惯例、常规 ； Architecture ：架构 ； law：法律； ex ante：事前； ex post：事后&nbsp; 在Lessig的最初版本中，是一个人位于信息图的中间，不是一个合约。这位了不起的思考者用他的信息图，努力教给我们这些凡人的是，有四种最基本的约束影响着一个人的一生。这四个约束本质上截然不同的，但是以复杂的方式交织在一起。&nbsp;&nbsp; 我对原版的信息图做出了修改，用合约取代了人，这里的合约是指双方或者多方之间达成的协定。有趣的是，做出修改以后，这个信息图仍然有效。这四个约束就像管理着人一样，管理着合约关系。&nbsp;&nbsp; 另外，我着重强调这四个约束中的两个约束，即架构和法律。这两个约束是合约能够被执行的两个最基本的动力。根据参与方选择的协定实施的系统，合约将通过法律系统执行，或者通过架构执行。这两种合约执行模式显著不同。&nbsp;&nbsp; Lessig认识到合约执行的两个特征，可以帮助我们谈论两种合约执行模式的不同。一个是代理（agency），另一个是时间性（temporality）。在法律意义上，合约的执行，只有当一些人选择这样做时，才会发生。此外，执行只发生在违约以后，例如事后。&nbsp;&nbsp; 智能合约的执行在这两个方面，本质上不同于传统合约。为了理解是如何不同的，我们需要首先理解Lessig所指的架构是什么意思。&nbsp;&nbsp; Lessig在他的《代码：网络空间的法律》一书中，为了解释代码在赛博空间中的作用，引入了架构的概念。物理空间的形状，就是你的身体穿梭其中的空间，是由它的架构决定的，例如建筑环境（建筑物、街道等）。如此类似，赛博空间的形状是由代码决定的，人们使用的应用和协议就是建立在这些代码上面的。因此，代码是赛博空间的架构。&nbsp;&nbsp; 法律和架构都有方法管理参与方的行为。法律依赖于个人将规则内化，个人据此调整自己的行为，或者该系统允许法律追索权（例如法庭）。然而，架构通过塑造空间本身管理行为。架构不是关于允许什么，而是什么是可能的。架构既不依靠个人将规则内化，也不依靠起诉系统。&nbsp;&nbsp; 根据我们衡量合约执行的质量的标准，例如代理和时间性，因此架构明显地不同于法律。架构执行合约时，不需要任何个人或者组织（代理，agency)决定如何执行合约，你可以称架构执行为自我执行（self-enforcing），虽然我不喜欢这种叫法。另外，架构事前执行，违约甚至不可能发生。&nbsp;&nbsp; 安全问题&nbsp;&nbsp; 智能合约是“执行合约条款的计算机交易协议”。区块链上的所有用户都可以看到基于区块链的智能合约。但是，这会导致包括安全漏洞在内的所有漏洞都可见，并且可能无法迅速修复。&nbsp;&nbsp; 这样的攻击难以迅速解决，例如，2016年6月TheDAOEther的漏洞造成损失5000万美元，而开发者试图达成共识的解决方案。DAO的程序在黑客删除资金之前有一段时间的延迟。以太坊软件的一个硬分叉在时限到期之前完成了攻击者的资金回收工作。&nbsp;&nbsp; 以太坊智能合约中的问题包括合约编程Solidity、编译器错误、以太坊虚拟机错误、对区块链网络的攻击、程序错误的不变性以及其他尚无文档记录的攻击。&nbsp;&nbsp; 案例&nbsp;&nbsp; 部署智能合约的案例有：&nbsp;&nbsp; 以太坊在其区块链上实施了一种近乎图灵完备的语言，这是一个突出的智能合约框架。&nbsp;&nbsp; RootStock(RSK) 是一个智能合约平台，通过侧链技术连接到比特币区块链。RSK兼容为以太坊创造的智能合约。&nbsp;&nbsp; 未来展望&nbsp;&nbsp; 有一件事确定无疑：智能合约已经扎下根了。它们是真正的全球经济的基本构件，任何人都可以接入到这一全球经济，不需要事前审查和高昂的预付成本。它们从许多经济交易中，移除了对第三方的信任必要，在其它情况下，将信任转移到可以信任的人和机构。&nbsp;&nbsp; 智能合约怎样与合约法共存呢？本质上，它们是解决相同问题–以一种方式形成一种关系，使得承诺可以执行–的两种不同方法。就这一点而言，智能合约似乎是更好的解决方案：智能合约事前执行，不像法律系统一样，事后执行。然而，这是一种谬误。最后一次引用全能的萨博：&nbsp;&nbsp; “合约法的成功和取代合约法所需的高额成本，使得保存和利用合适的原则，仍然很有价值。但是，数字革命正在剧烈地改变我们能够拥有的各种关系。在这个赛博时代，我们来之不易的法律传统中的哪一部分，将仍然具有价值？将这些法律原则应用到我们的线上关系设计，最好的方式是什么？”&nbsp;&nbsp; 本文内容援引百度百科及http://www.8btc.com/what-are-smart-contracts-in-search-of-a-consensus&nbsp;&nbsp; 关于矩阵元：矩阵元是一家全球领先的下一代计算机构领导厂商，致力于面向下一代价值互联网的计算架构，解决海量数据、边缘计算、人工智能技术条件下的数据流动性，推动基于隐私保护与密码安全的数据交换与协同计算。 点击打开链接 阅读更多","@type":"BlogPosting","url":"/2018/04/13/25c26d1f76f3e317e6c1ec1de09f54ac.html","headline":"智能合约从入门到精通：智能合约的前世今生","dateModified":"2018-04-13T00:00:00+08:00","datePublished":"2018-04-13T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/2018/04/13/25c26d1f76f3e317e6c1ec1de09f54ac.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-1');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>智能合约从入门到精通：智能合约的前世今生</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css"> 
 <div class="htmledit_views"> 
  <p>简介：区块链技术由来已久。2008年，神秘的日裔美国人中本聪天才设计出来的电子货币系统：比特币，为人类打开了区块链的大门。2009年，他发布了首个比特币软件，并正式启动了比特币金融系统。依靠POW算法的比特币随着人们认知，2016年以后区块链也为人们所追捧。而以太坊的快速发展，区块链已经进化出智能合约、DApp等新的技术，区块链2.0、3.0时代也正在来临。本文将详细介绍智能合约是什么。</p>
  <p>区块链是分布式数据存储、点对点传输、共识机制、加密算法等计算机技术的新型应用模式。所谓共识机制是区块链系统中实现不同节点之间建立信任、获取权益的数学算法。这套理论由中本聪在2008年提出，并在2009年发布了首个比特币软件。&nbsp;&nbsp;</p>
  <p>比特币基于Pow算法：通过与或运算，计算出一个满足规则的随机数，即获得本次记账权，发出本轮需要记录的数据，全网其它节点验证后一起存储，以工作量证明其价值。虽然其完全去中心化的特点是区块链的核心思想，也暴露出比特币Pow共识算法的弊端：资源大量浪费、共识达成的周期较长和易分叉。&nbsp;&nbsp;</p>
  <p>于是，以太坊以Pos+Pow相结合公式算法给出区块链更大的发展空间，也应运而生出智能合约这一概念。</p>
  <p>那什么又是智能合约呢？&nbsp;&nbsp;</p>
  <p>首先，我们希望大家了解智能合约的本质。同时，在人们了解智能合约的时候，也解除大家对区块链在法律上面的误解。&nbsp;&nbsp;</p>
  <p>智能合约不是一个新的概念。“智能合约”（smart contract）这个术语至少可以追溯到1995年，是由多产的跨领域法律学者尼克·萨博（Nick Szabo）提出来的。他在发表在自己的网站的几篇文章中提到了智能合约。他的定义如下：</p>
  <p>智能合约（英语：Smart contract ）是一种旨在以信息化方式传播、验证或执行合同的计算机协议。智能合约允许在没有第三方的情况下进行可信交易。这些交易可追踪且不可逆转。&nbsp;&nbsp;</p>
  <p><strong>承诺</strong>&nbsp;&nbsp;</p>
  <p>一套承诺指的是合约参与方同意的（经常是相互的）权利和义务。这些承诺定义了合约的本质和目的。以一个销售合约为典型例子。卖家承诺发送货物，买家承诺支付合理的货款。&nbsp;&nbsp;</p>
  <p><strong>数字形式</strong>&nbsp; 数字形式意味着合约不得不写入计算机可读的代码中。这是必须的，因为只要参与方达成协定，智能合约建立的权利和义务，是由一台计算机或者计算机网络执行的。&nbsp;</p>
  <p>更进一步地说明：&nbsp;&nbsp;</p>
  <p><strong>（1）达成协定</strong>&nbsp;&nbsp;</p>
  <p>智能合约的参与方什么时候达成协定呢？答案取决于特定的智能合约实施。一般而言，当参与方通过在合约宿主平台上安装合约，致力于合约的执行时，合约就被发现了。&nbsp;&nbsp;</p>
  <p><strong>（2）合约执行</strong>&nbsp;&nbsp;</p>
  <p>“执行”的真正意思也依赖于实施。一般而言，执行意味着通过技术手段积极实施。&nbsp;</p>
  <p><strong>（3）计算机可读的代码</strong>&nbsp; 另外，合约需要的特定“数字形式”非常依赖于参与方同意使用的协议。&nbsp;&nbsp;</p>
  <p><strong>协议</strong>&nbsp;</p>
  <p>协议是技术实现（technicalimplementation），在这个基础上，合约承诺被实现，或者合约承诺实现被记录下来。选择哪个协议取决于许多因素，最重要的因素是在合约履行期间，被交易资产的本质。&nbsp;</p>
  <p>再次以销售合约为例。假设，参与方同意货款以比特币支付。选择的协议很明显将会是比特币协议，在此协议上，智能合约被实施。因此，合约必须要用到的“数字形式”就是比特币脚本语言。比特币脚本语言是一种非图灵完备的、命令式的、基于栈的编程语言，类似于Forth。&nbsp;&nbsp;</p>
  <p><strong>从理论到实践</strong>&nbsp;&nbsp;</p>
  <p>剧透：如果你了解比特币协议、比特币货币和智能财产的概念，你可以跳过这一章节。&nbsp;</p>
  <p>当萨博在近二十年以前，在网络提出了智能合约理论时，实践一直严重地落后于理论。一直没有如何将这个理念转变现实的清晰路径。&nbsp;&nbsp;</p>
  <p>现在，技术已经赶上萨博富有远见的头脑，智能合约开始变得可行。在这二十年中发生了什么事情呢？&nbsp;&nbsp;</p>
  <p>简而言之，萨博在他的智能合约定义中建立的协议，已经被进一步开发。它们已经以比特币协议的形式出现，或者更加一般地说，这些协议能够实现中本聪共识（Nakamoto consensus）。&nbsp;&nbsp;</p>
  <p>在这些协议被开发的同时，我们获得了另一个必需的构件：第一种真正的、原生的数字资产，即作为货币的比特币。没有这种资产，智能合约也将不可行，因为金融部门在过去的几十年中，一直对任何创新抱有极端的敌意。&nbsp;&nbsp;</p>
  <p><strong>最后，另一个还没有结出果实的概念是智能财产。我们正在进入一个计算和连接无所不在的时代，通俗地讲，就是物联网。物理实体能够从互联网中检索信息和向互联网发送信息，它们也能够通过软件控制它们自身的使用（想想数字版权管理吧），这使得我们能够建立萨博所指的嵌入式合约（embedded contracts）。</strong>&nbsp;&nbsp;</p>
  <p>“智能合约的基本理念是，许多合约条款能够嵌入到硬件和软件中。”&nbsp;</p>
  <p>萨博认为嵌入式合约最初的应用实例是自动贩卖机、销售点终端、大公司间的电子数据交换和银行间用于转移和清算的支付网络SWIFT、ACH、FedWire。另一个嵌入式合约的例子是数字内容消费–例如音乐、电影和电子书–领域的数字版权管理机制。&nbsp;&nbsp;</p>
  <p>从这个意义上理解，智能合约是赛博空间（虚拟空间）和物理空间（实体空间）之间的桥梁。&nbsp;&nbsp;</p>
  <p><strong>智能VS法律</strong>&nbsp;&nbsp;</p>
  <p>人们对智能合约概念的最多的困惑，源于它的名字和用于描述它的语言。人们似乎从“合约”这一术语中，推断出智能合约一定与法律概念中的合约有某种联系。那么，根据这个逻辑，智能合约是有法律约束力的协定加上其它因素（X），X使得协定变得“智能”。&nbsp;&nbsp;</p>
  <p>从法律的角度，这一推测是错误的。根据参与方选择的智能合约实施，参与双方或者多方完全可能进入一个不满足合法的合约所必需条件的“智能合约”。&nbsp;&nbsp;</p>
  <p>然而，不可否认的是，智能合约必须被归类为与法律相关的行为。我们生活在一个被法律管理和控制的世界，所有可能的经济交易也被法律管理和控制。合约法只是组织经济交易的一种可能的工具。原理图如下：&nbsp; &nbsp;</p>
  <p style="text-align:center;"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180413143939221" alt=""></p>
  <p>Legally relevant behaviour ：与法律相关的行为； contract law：合约法； smart contracts：智能合约&nbsp;</p>
  <p>让我们看一下合约法和智能合约的交集部分。我们能否发现一个能够描述这两个系统的合约行为的概括呢？引用萨博的论文：&nbsp; “合约–一套达成共识的协定–是形成关系的传统方式。”&nbsp;&nbsp;</p>
  <p>萨博告诉我们的是，“合约”的抽象概念是在个人、机构和他们拥有的东西（财产）之间形成关系的一种公认的工具。然而，上面的引用并不清晰，参与方如何达成协定，如何形成协定，没有讲到。&nbsp;</p>
  <p>我建议下面这个普遍的合约模型：&nbsp; &nbsp;</p>
  <p style="text-align:center;"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180413144028673" alt=""><br></p>
  <p>Agreement：协定； Formalization：形式化 ；Execution/Enforcement：执行&nbsp;</p>
  <p>如果这个模型应用到智能合约和法律意义上的合约中，让我们看看它怎么起作用。&nbsp;&nbsp;</p>
  <p><strong>协定&nbsp;</strong>&nbsp;</p>
  <p>协定是一个完全的理想情况，从它在正式系统中的实施中抽象而来。当然，事实上这是一个脆弱的抽象。在法律系统中，在许多情况下，具有法律约束力，不要求形成一个协议。与此相反，对智能合约来说，在许多情况下，在形式化以前，没有事前协定。&nbsp;&nbsp;</p>
  <p><strong>形式化</strong>&nbsp;&nbsp;</p>
  <p><strong>形式化在这里的意思是，在一个正式系统实施理想的协定的行为。有两个相关的正式系统。一个是合约法，另一个是你选择的智能合约系统。这两个系统都服务于相同的目的：当违约行为发生时，使得协定能够执行。</strong>&nbsp;&nbsp;</p>
  <p>从一般角度理解，对于合约是怎么形式化的这一问题，有人认为它只是实施细节。然而，事实证明，合约的实施的确事关重大。&nbsp;&nbsp;</p>
  <p><strong>现在有两种本质上不同的、形成一种合约关系的方式。这两种方式是截然不同的，因为它们需要不同的执行方式。</strong>&nbsp;&nbsp;</p>
  <p><strong>执行</strong>&nbsp;&nbsp;</p>
  <p>因为一图顶千言，所以来看下面这张我从Lawrence&nbsp; Lessig那里“剽窃”来的信息图，出于本文的需要，我对图片做了轻微的修改。&nbsp;&nbsp;</p>
  <p style="text-align:center;"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180413144200536" alt=""><br></p>
  <p>Market：市场 ； contract：合约 ；Norms：惯例、常规 ； Architecture ：架构 ； law：法律； ex ante：事前； ex post：事后&nbsp;</p>
  <p>在Lessig的最初版本中，是一个人位于信息图的中间，不是一个合约。这位了不起的思考者用他的信息图，努力教给我们这些凡人的是，有四种最基本的约束影响着一个人的一生。这四个约束本质上截然不同的，但是以复杂的方式交织在一起。&nbsp;&nbsp;</p>
  <p>我对原版的信息图做出了修改，用合约取代了人，这里的合约是指双方或者多方之间达成的协定。有趣的是，做出修改以后，这个信息图仍然有效。这四个约束就像管理着人一样，管理着合约关系。&nbsp;&nbsp;</p>
  <p>另外，我着重强调这四个约束中的两个约束，即架构和法律。这两个约束是合约能够被执行的两个最基本的动力。根据参与方选择的协定实施的系统，合约将通过法律系统执行，或者通过架构执行。这两种合约执行模式显著不同。&nbsp;&nbsp;</p>
  <p>Lessig认识到合约执行的两个特征，可以帮助我们谈论两种合约执行模式的不同。一个是代理（agency），另一个是时间性（temporality）。在法律意义上，合约的执行，只有当一些人选择这样做时，才会发生。此外，执行只发生在违约以后，例如事后。&nbsp;&nbsp;</p>
  <p>智能合约的执行在这两个方面，本质上不同于传统合约。为了理解是如何不同的，我们需要首先理解Lessig所指的架构是什么意思。&nbsp;&nbsp;</p>
  <p>Lessig在他的《代码：网络空间的法律》一书中，为了解释代码在赛博空间中的作用，引入了架构的概念。物理空间的形状，就是你的身体穿梭其中的空间，是由它的架构决定的，例如建筑环境（建筑物、街道等）。如此类似，赛博空间的形状是由代码决定的，人们使用的应用和协议就是建立在这些代码上面的。因此，代码是赛博空间的架构。&nbsp;&nbsp;</p>
  <p>法律和架构都有方法管理参与方的行为。法律依赖于个人将规则内化，个人据此调整自己的行为，或者该系统允许法律追索权（例如法庭）。然而，架构通过塑造空间本身管理行为。架构不是关于允许什么，而是什么是可能的。架构既不依靠个人将规则内化，也不依靠起诉系统。&nbsp;&nbsp;</p>
  <p>根据我们衡量合约执行的质量的标准，例如代理和时间性，因此架构明显地不同于法律。架构执行合约时，不需要任何个人或者组织（代理，agency)决定如何执行合约，你可以称架构执行为自我执行（self-enforcing），虽然我不喜欢这种叫法。另外，架构事前执行，违约甚至不可能发生。&nbsp;&nbsp;</p>
  <p><strong>安全问题</strong>&nbsp;&nbsp;</p>
  <p>智能合约是“执行合约条款的计算机交易协议”。区块链上的所有用户都可以看到基于区块链的智能合约。但是，这会导致包括安全漏洞在内的所有漏洞都可见，并且可能无法迅速修复。&nbsp;&nbsp;</p>
  <p>这样的攻击难以迅速解决，例如，2016年6月TheDAOEther的漏洞造成损失5000万美元，而开发者试图达成共识的解决方案。DAO的程序在黑客删除资金之前有一段时间的延迟。以太坊软件的一个硬分叉在时限到期之前完成了攻击者的资金回收工作。&nbsp;&nbsp;</p>
  <p>以太坊智能合约中的问题包括合约编程Solidity、编译器错误、以太坊虚拟机错误、对区块链网络的攻击、程序错误的不变性以及其他尚无文档记录的攻击。&nbsp;&nbsp;</p>
  <p><strong>案例</strong>&nbsp;&nbsp;</p>
  <p>部署智能合约的案例有：&nbsp;&nbsp;</p>
  <p>以太坊在其区块链上实施了一种近乎图灵完备的语言，这是一个突出的智能合约框架。&nbsp;&nbsp;</p>
  <p>RootStock(RSK) 是一个智能合约平台，通过侧链技术连接到比特币区块链。RSK兼容为以太坊创造的智能合约。&nbsp;&nbsp;</p>
  <p><strong>未来展望</strong>&nbsp;&nbsp;</p>
  <p>有一件事确定无疑：智能合约已经扎下根了。它们是真正的全球经济的基本构件，任何人都可以接入到这一全球经济，不需要事前审查和高昂的预付成本。它们从许多经济交易中，移除了对第三方的信任必要，在其它情况下，将信任转移到可以信任的人和机构。&nbsp;&nbsp;</p>
  <p>智能合约怎样与合约法共存呢？本质上，它们是解决相同问题–以一种方式形成一种关系，使得承诺可以执行–的两种不同方法。就这一点而言，智能合约似乎是更好的解决方案：智能合约事前执行，不像法律系统一样，事后执行。然而，这是一种谬误。最后一次引用全能的萨博：&nbsp;&nbsp;</p>
  <p>“合约法的成功和取代合约法所需的高额成本，使得保存和利用合适的原则，仍然很有价值。但是，数字革命正在剧烈地改变我们能够拥有的各种关系。在这个赛博时代，我们来之不易的法律传统中的哪一部分，将仍然具有价值？将这些法律原则应用到我们的线上关系设计，最好的方式是什么？”&nbsp;&nbsp;</p>
  <p>本文内容援引百度百科及http://www.8btc.com/what-are-smart-contracts-in-search-of-a-consensus&nbsp;&nbsp;</p>
  <p>关于矩阵元：矩阵元是一家全球领先的下一代计算机构领导厂商，致力于面向下一代价值互联网的计算架构，解决海量数据、边缘计算、人工智能技术条件下的数据流动性，推动基于隐私保护与密码安全的数据交换与协同计算。</p>
  <p><a href="http://www.juzix.net/" rel="nofollow">点击打开链接</a><br></p> 
 </div> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/shjuzhen/article/details/79928454,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/shjuzhen/article/details/79928454,&quot;}">阅读更多</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?ee64533f3c6a7a284cd39a37ee732c8b";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
