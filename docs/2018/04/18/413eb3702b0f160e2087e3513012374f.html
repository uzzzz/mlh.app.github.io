<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>详解IPFS技术架构与应用 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="详解IPFS技术架构与应用" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="4月14号IPFS成都分享会上，潇洒干练的链博科技90后CEO朱清为观众带来一场诚意满满的纯粹的技术分享，博得现场热烈的掌声。小编为大家整理了朱老师分享的文字内容，感兴趣的朋友还可以点击阅读原文观看视频回放哦~ 朱清&nbsp;&nbsp; 大家好，看刚才大家与大炮哥的互动都很精彩，从做技术的角度来说，我认为大家问的问题都太商业化了。我觉得今天可能很多人来现场都带着一个问题关filecoin到底怎么才能够挖到矿，也会想如果有人用filecoin去作恶会不会影响它的推广。接下来我要讲的可能会纯粹一点，从技术本身来分享。我最近看到很多，比如卖矿机的，都不写filecoin，直接说ipfs矿机，其实ipfs和filecoin还是有很本质的区别，希望大家能够比较明智地去分析一些东西，包括矿机上写的那些参数是不是能让你以后真正的挖到filecoin，一会儿我也会简单提一下，帮助大家做一些更明智的选择和投资。 IPFS是什么？ 星际文件系统(InterPlanetary File System) 本质上是一种内容可寻址、版本化、点对点超媒体的分布式存储、传输协议，目标是补充乃至取代过去20年里使用的超文本媒体传输协议（HTTP），希望构建更快、更安全、更自由开放的互联网时代。 Ipfs最核心的技术是p2p，原来是中心化的服务器在分发内容，现在我们想要下载某一个内容，可以直接建立一个连接，也可以跟其他人连接，迅雷也是这种模式，它是一个虚拟的p2p中心网络，这里不多细讲。 为什么需要IPFS？ HTTP的中心化是低效的, 并且成本很高 油管上，鸟叔的“江南style”这个视频，累计被播放30亿次，假设这个文件100MB大小，则播放这个视频浪费300Petabytes（1P=1,000,000GB）的网络流量，按照0.01USD/GB算CDN成本，谷歌将支付300W美金给ISP服务商。 使用HTTP协议每次需要从中心化的服务器下载完整的文件(网页, 视频, 图片等), 速度慢, 效率低。如果改用P2P的方式下载, 可以节省近60%的带宽。 Web文件经常被删除 http的页面平均生存周期大约只有100天，Web文件由于存储成本太高经常被删除，无法永久保存。 IPFS提供了文件的历史版本回溯功能(就像git版本控制工具一样), 可以很容易的查看文件的历史版本, 且数据无法删除，可以得到永久保存。 中心化限制了web的成长 现在使用的互联网其实是由数百万个分布在世界各地的服务器构成的。世界最大的芯片制造厂商 Intel 有大约10万台服务器，Facebook有3万台，美国最大的电话公司 AT&amp;T 也有2万台，而 Google有超过100万台服务器。 在现有的http协议下，所有的数据都保存在这些巨头的服务器上，这是高度中心化的。巨头不但对我们的数据有绝对的控制权和解释权，各种各样的监管，封锁，监控一定程度上也极大的限制了创新和发展。 建立在去中心化的分布式网络上的IFPS很难被中心化管理和限制，互联网将更加开放。 互联网应用高度依赖互联网主干网 过于中心化，为了支撑http协议，服务器7*24小时开启，对于大流量公司，比如百度、腾讯、阿里等，投入大量资源维护服务器和安全隐患，防止DDoS，XSS，CSRF等攻击。 主干网络受制于战争，自然灾害，中心服务器宕机等因素，都可能造成整个互联网中断服务。 IPFS可以极大的降低对中心主干网络的依赖。 IPFS如何工作？ IPFS为每一个文件分配一个独一无二的哈希值(文件指纹: 根据文件的内容进行创建), 即使是两个文件内容只有1个比特的不相同，其哈希值也是不相同的。所以IPFS是基于文件内容进行寻址， 而不像传统的HTTP协议一样基于域名寻址。 IPFS在整个网络范围内去掉重复的文件, 并且为文件建立版本管理, 也就是说每一个文件的变更历史都将被记录(这一点类似版本控制工具git,svn等), 可以很容易个回到文件的历史版本查看数据。 当查询文件的时候, IPFS网络根据文件的哈希值(全网唯一)进行查找。 由于每个文件的哈希值全网唯一, 查询将很容易进行。 如果仅仅使用哈希值来区分文件的话，会给传播造成困难，因为哈希值不容易记忆，就像ip地址一样不容易记忆，于是人类发明的域名。IPFS利用IPNS将哈希值映射为容易记的名字。 每个节点除了存储自己需要的数据，还存储了一张哈希表， 用来记录文件存储所在的位置，用来进行文件的查询下载。 IPFS的架构 IPFS 协议栈 身份&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; S/Kademlia生成&nbsp;&nbsp;&nbsp;&nbsp; 对等身份信息生成 网络&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 任意传输层协议&nbsp;&nbsp;&nbsp;&nbsp; ICE NET &amp; NAT穿透 路由&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 分布式松散哈希表（DSHT）&nbsp;&nbsp;&nbsp; 定位对等点和存储对象需要的信息 交换&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BitTorrent&amp; BitSwap&nbsp;&nbsp;&nbsp;&nbsp; 管理区块如何分布 对象&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Merkle-DAG&nbsp;&nbsp;&nbsp;&nbsp; 内容可寻址的不可篡改、去冗余的对象链接 文件&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 类似Git 版本控制的文件系统：blob,list, tree, commit 命名&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 具有SFS（Self-CertifiedFilesystems）IPNS：DAG对象命名可变 应用&nbsp; &nbsp; &nbsp; &nbsp;在IPFS上运行的应用程序利用最近节点提供服务提供效率、降低成本 身份层和路由层 对等节点身份信息的生成以及路由规则是通过Kademlia协议生成制定，KAD协议实质是构建了一个分布式松散Hash表（distributedhash table），简称DHT，每个加入这个DHT网络的人都要生成自己的身份信息，然后才能通过这个身份信息去负责存储这个网络里的资源信息和其他成员的联系信息。 网络层 LibP2P可以支持任意传输层协议。 ICE NAT traversal框架整合STUN、TURN和其他类型的NAT协议，该框架可以让客户端利用各种NAT方式打通网络，从而完成NAT通信，这对于IPFS的p2p网络非常重要。 交换层 类似迅雷这样的BT工具，IPFS团队把BitTorrent进行了创新，叫作Bitswap，它增加了信用和帐单体系来激励节点去分享，用户在发送给其他节点数据可以增加信用值，从其他节点接受数据降低信用值。如果用户只去接收数据而不分享数据，信用分会越来越低而被其他节点忽略掉。 对象层和文件层 共同管理IPFS上80%的数据结构。 大部分数据对象都是以MerkleDag的结构存在，这为内容寻址和去重提供了便利。文件层是一个新的数据结构，和DAG并列，采用Git一样的数据结构来支持版本快照。 命名层 具有自我验证的特性（当其他用户获取该对象时，使用指纹公钥进行验签，即验证所用的公钥是否与NodeId匹配，这验证了用户发布对象的真实性，同时也获取到了可变状态），并且加入了IPNS这个巧妙的设计来使得加密后的DAG对象名可定义，增强可阅读性。 应用层 IPFS核心价值就在于上面运行的应用程序，可以利用它类似CDN的功能，在成本很低的带宽下，去获得想要的数据，从而提升整个应用程序的效率。 IPFS家族 IPFS项目其实很大，并不是一个东西，IPFS是由很多模块组成，每一个模块现在都已经独立成项目了，并且有自己的主页。 协议实验室的主页：https://protocol.ai/projects/ 在协议实验室的主页上面，可以找到目前的五个项目，来简单看一下IPFS家族成员： Filecoin IPFS只是一个协议, 并不是挖矿软件本身。Filecoin系统才是挖矿软件本身, 代币名字是 FIL。Filecoin使用了IPFS 协议来运行系统。 FIL代币总共有20亿枚。分配方案，总共有四个部分组成： 70%作为挖矿的回报：像比特币一样根据挖矿的进度逐步分发 15%预留Protocol Labs：作为研发费用, 6年逐步解禁 10%分配给ICO投资者： 根据挖矿进度, 逐步解禁 5%预留给Filecoin基金会： 作为长期社区建设, 网络管理等费用,&nbsp; 6年逐步解禁 私募时间：2017.07.21-2017.7.24 成本：0.75美元 行权期：1-3年，折扣额0-30% 参与人数：150+人 募集金额：0.52亿美元 公募时间：2017.08.07-2017.09.07 成本：1-5美元 行权期：1-3年，折扣额0-30% 参与人数：2100+人 募集资金：2.05亿美元 Filecoin与挖矿市场 Filecoin存储市场(Filecoin Storage Market) 数据存储市场所需要贡献的就是硬盘存储空间，越多的硬盘空间，挖矿能力就越高，存储市场采用的工作量证明是PoS(Power of Storage)证明，根据存储的数据大小来按比例分配FIL Filecoin数据检索市场(Filecoin&#39;s Retrieval Market) 数据检索市场贡献带宽，根据访问数据的流量来分配FIL Filecoin场景 用户场景： 1.用户提交数据存储订单（PUT）给Filecoin系统 2.用户提价数据检索订单（GET）给Filecoin系统 3.如果上述订单达成，用户支付FIL以获取相应的服务 存储矿工场景： 1.在区块链上注册自己硬盘空间，注册完成后硬盘空间将被记录到区块链的配置表里面 2.接受订单，用户提交的存储订单（PUT） 3.订单交易达成后，双方对交易进行签名，矿工完成数据存储，交易完成后该交易被记录到区块 4.用户获取到对应的支付 检索矿工场景： 1.接受订单，用户提交数据查询订单（GET） 2.交易达成后，双方对交易进行签名，矿工把数据发送给用户，该交易提交到区块 Filecoin证明 数据持有性证明（Provable Data Possession ，PDP)：用户发送数据给矿工进行存储，矿工证明数据已经被自己存储，用户可以重复检查矿工是否还在存储自己的数据 可检索证明（Proof-of-Retrievability，PoRet）：和PDP过程比较类似，证明矿工存储的数据是可以用来查询的 存储证明（Proof-of-Storage ，PoS）：利用存储空间进行的证明。工作量证明的一种，Filecoin上一篇论文使用了这个名字，新的论文则升级为PoRep 复制证明（Proof-of-Replication，PoRep）：新的 PoS（Proof-of-Storage），PoRep可以保证每份数据的存储都是独立的，可以防止女巫攻击，外源攻击和生成攻击 工作量证明（Proof-of-Work，PoW）：证明者向检验者证明自己花费了一定的资源，PoW被用在加密货币，拜占庭共识和其他各种区块链系统。BTC使用的就是这种类型的证明，依赖巨量的哈希计算和能源消耗来建立共识和保证btc网络的安全性 空间证明（Proof-of-Space，PoSpace）：Filecoin提出的概念，存储量的证明，PoSpace是PoW的一种，不同的是PoW使用的计算资源，而PoSpace使用的是存储资源 时空证明（Proof-of-Spacetime，PoSt)：时空证明，矿工证明自己花费了spacetime资源,即：一定时间内的存储空间的使用，PoSt是基于PoReps实现的 Libp2p IPFS团队将点对点(peer-to-peer)网络的网络层从IPFS工程里面分离出来，形成一个独立的项目，这就是libp2p。该项目不仅可以供IPFS使用，也可以提供其它项目使用，作为一个p2p工程的底层协议存在。 主要功能： 发现节点 连接节点 发现数据 传输数据 IPLD IPLD定义了基于内容寻址的统一数据结构类型。它是一个转换器，可以把现有的异构的数据结构（基于内容寻址）统一成一种格式，方便不同系统之间的数据交换和互操作。 通过哈希进行内容寻址的技术已经广泛应用于各种分布式系统。从加密货币的区块链到备份代码的每一次提交，再到各种web内容，他们背后的逻辑几乎是相同的，然后由于数据结构的不兼容，造成了这些数据无法互相操作。IPLD作为中间层统一了这些异构的数据结构，使得不同的数据可以进行数据交换。 IPLD的组成： CID（Self-describingcontent-addressed identifiers for distributed &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; systems）：基于内容寻址的自我描述标识 IPLDtree：基于 JSON、Protobuf和路径导航的跨协议的数据模型 IPLD&nbsp;Resolvers: IPLD转换器，可以添加新的协议到IPLD里面 Multiformats Multiformats是一系列协议的集合，它在现有协议基础上对值（值：通常是具有某一项表达意义的）进行自我描述改造，即从值上就可以知道该值是如何产生的。 当前multiformats协议里面包含以下协议。 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multihash- self-describing hashes &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multiaddr- self-describing network addresses &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multibase- self-describing base encodings &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multicodec - self-describingserialization &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multistream- self-describing stream network protocols &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multigram(WIP) - self-describing packet network protocols 通常情况下我们使用的哈希计算方法都是某一种实现方式，比如sha1，sha2-256等。哈希计算在软件工程里面几乎随处可见，特别是区块链项，multiformats将所有的哈希值计算统一成同样的格式，为系统开发带来很多好处 以multihash为例： 升级后的哈希值的结构为： &lt;hash-func-type&gt;&lt;digest-length&gt;&lt;digest-value&gt; &lt;哈希函数类型&gt;&lt;摘要长度&gt;&lt;摘要值&gt; 有一个使用sha2-256函数生成的哈希值（如下），其长度为32（16进制0x20）： 41dd7b6443542e75701aa98a0c235951a28a0d851b11564d20022ab11d2589a8 规定sha2-256的代表数字为12(16进制)，于是得出来新的哈希值： 122041dd7b6443542e75701aa98a0c235951a28a0d851b11564d20022ab11d2589a8 新的哈希值具有自我描述性质，它说明了自己是怎么来的 IPFS应用及意义 可以为内容创作带来一定的自由 代表应用： Akasha（ https://blog.akasha.world ）是一个基于以太坊和IPFS的社交博客创作平台，用户创作的博客内容通过一个IPFS网络进行发布，而非中心服务器。 同时，用户和以太坊钱包账户进行绑定，用户可以对优质内容进行ETH打赏，内容创作者能以此赚取ETH，如同人脑挖矿一样。它没有太多监管的限制，也没有中间商抽成，内容收益直接归创作者所有。 可以降低存储和带宽成本 代表应用： Dtube（https://d.tube）是一个搭建在Steemit上的去中心化视频播放平台，其用户上传的视频文件都经过IPFS协议进行存储，具有唯一标识。相较于传统视频网站，它降低了同资源冗余程度，同时大大节约了海量用户在播放视频时所产生的带宽成本。 可以与区块链完美结合 代表应用： EOS引以为傲的是可以支持百万级别TPS的并发量，其中除了DPOS共识机制的功劳之外，还归功于其底层存储设计是采取IPFS来解决大型数据的传输效率。 EOS将自己打包好的区块数据通过IPLD进行异构处理，统一成一种便于内容寻址的数据结构类型，并挂载到IPFS的link上，让IPFS网络承担存储和P2P检索的逻辑，而不消耗EOS区块链系统本身太多的计算资源。 编辑/雪人 ↓↓↓ 点击&quot;阅读原文&quot; 【查看视频回放】&nbsp;&nbsp; 阅读更多" />
<meta property="og:description" content="4月14号IPFS成都分享会上，潇洒干练的链博科技90后CEO朱清为观众带来一场诚意满满的纯粹的技术分享，博得现场热烈的掌声。小编为大家整理了朱老师分享的文字内容，感兴趣的朋友还可以点击阅读原文观看视频回放哦~ 朱清&nbsp;&nbsp; 大家好，看刚才大家与大炮哥的互动都很精彩，从做技术的角度来说，我认为大家问的问题都太商业化了。我觉得今天可能很多人来现场都带着一个问题关filecoin到底怎么才能够挖到矿，也会想如果有人用filecoin去作恶会不会影响它的推广。接下来我要讲的可能会纯粹一点，从技术本身来分享。我最近看到很多，比如卖矿机的，都不写filecoin，直接说ipfs矿机，其实ipfs和filecoin还是有很本质的区别，希望大家能够比较明智地去分析一些东西，包括矿机上写的那些参数是不是能让你以后真正的挖到filecoin，一会儿我也会简单提一下，帮助大家做一些更明智的选择和投资。 IPFS是什么？ 星际文件系统(InterPlanetary File System) 本质上是一种内容可寻址、版本化、点对点超媒体的分布式存储、传输协议，目标是补充乃至取代过去20年里使用的超文本媒体传输协议（HTTP），希望构建更快、更安全、更自由开放的互联网时代。 Ipfs最核心的技术是p2p，原来是中心化的服务器在分发内容，现在我们想要下载某一个内容，可以直接建立一个连接，也可以跟其他人连接，迅雷也是这种模式，它是一个虚拟的p2p中心网络，这里不多细讲。 为什么需要IPFS？ HTTP的中心化是低效的, 并且成本很高 油管上，鸟叔的“江南style”这个视频，累计被播放30亿次，假设这个文件100MB大小，则播放这个视频浪费300Petabytes（1P=1,000,000GB）的网络流量，按照0.01USD/GB算CDN成本，谷歌将支付300W美金给ISP服务商。 使用HTTP协议每次需要从中心化的服务器下载完整的文件(网页, 视频, 图片等), 速度慢, 效率低。如果改用P2P的方式下载, 可以节省近60%的带宽。 Web文件经常被删除 http的页面平均生存周期大约只有100天，Web文件由于存储成本太高经常被删除，无法永久保存。 IPFS提供了文件的历史版本回溯功能(就像git版本控制工具一样), 可以很容易的查看文件的历史版本, 且数据无法删除，可以得到永久保存。 中心化限制了web的成长 现在使用的互联网其实是由数百万个分布在世界各地的服务器构成的。世界最大的芯片制造厂商 Intel 有大约10万台服务器，Facebook有3万台，美国最大的电话公司 AT&amp;T 也有2万台，而 Google有超过100万台服务器。 在现有的http协议下，所有的数据都保存在这些巨头的服务器上，这是高度中心化的。巨头不但对我们的数据有绝对的控制权和解释权，各种各样的监管，封锁，监控一定程度上也极大的限制了创新和发展。 建立在去中心化的分布式网络上的IFPS很难被中心化管理和限制，互联网将更加开放。 互联网应用高度依赖互联网主干网 过于中心化，为了支撑http协议，服务器7*24小时开启，对于大流量公司，比如百度、腾讯、阿里等，投入大量资源维护服务器和安全隐患，防止DDoS，XSS，CSRF等攻击。 主干网络受制于战争，自然灾害，中心服务器宕机等因素，都可能造成整个互联网中断服务。 IPFS可以极大的降低对中心主干网络的依赖。 IPFS如何工作？ IPFS为每一个文件分配一个独一无二的哈希值(文件指纹: 根据文件的内容进行创建), 即使是两个文件内容只有1个比特的不相同，其哈希值也是不相同的。所以IPFS是基于文件内容进行寻址， 而不像传统的HTTP协议一样基于域名寻址。 IPFS在整个网络范围内去掉重复的文件, 并且为文件建立版本管理, 也就是说每一个文件的变更历史都将被记录(这一点类似版本控制工具git,svn等), 可以很容易个回到文件的历史版本查看数据。 当查询文件的时候, IPFS网络根据文件的哈希值(全网唯一)进行查找。 由于每个文件的哈希值全网唯一, 查询将很容易进行。 如果仅仅使用哈希值来区分文件的话，会给传播造成困难，因为哈希值不容易记忆，就像ip地址一样不容易记忆，于是人类发明的域名。IPFS利用IPNS将哈希值映射为容易记的名字。 每个节点除了存储自己需要的数据，还存储了一张哈希表， 用来记录文件存储所在的位置，用来进行文件的查询下载。 IPFS的架构 IPFS 协议栈 身份&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; S/Kademlia生成&nbsp;&nbsp;&nbsp;&nbsp; 对等身份信息生成 网络&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 任意传输层协议&nbsp;&nbsp;&nbsp;&nbsp; ICE NET &amp; NAT穿透 路由&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 分布式松散哈希表（DSHT）&nbsp;&nbsp;&nbsp; 定位对等点和存储对象需要的信息 交换&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BitTorrent&amp; BitSwap&nbsp;&nbsp;&nbsp;&nbsp; 管理区块如何分布 对象&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Merkle-DAG&nbsp;&nbsp;&nbsp;&nbsp; 内容可寻址的不可篡改、去冗余的对象链接 文件&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 类似Git 版本控制的文件系统：blob,list, tree, commit 命名&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 具有SFS（Self-CertifiedFilesystems）IPNS：DAG对象命名可变 应用&nbsp; &nbsp; &nbsp; &nbsp;在IPFS上运行的应用程序利用最近节点提供服务提供效率、降低成本 身份层和路由层 对等节点身份信息的生成以及路由规则是通过Kademlia协议生成制定，KAD协议实质是构建了一个分布式松散Hash表（distributedhash table），简称DHT，每个加入这个DHT网络的人都要生成自己的身份信息，然后才能通过这个身份信息去负责存储这个网络里的资源信息和其他成员的联系信息。 网络层 LibP2P可以支持任意传输层协议。 ICE NAT traversal框架整合STUN、TURN和其他类型的NAT协议，该框架可以让客户端利用各种NAT方式打通网络，从而完成NAT通信，这对于IPFS的p2p网络非常重要。 交换层 类似迅雷这样的BT工具，IPFS团队把BitTorrent进行了创新，叫作Bitswap，它增加了信用和帐单体系来激励节点去分享，用户在发送给其他节点数据可以增加信用值，从其他节点接受数据降低信用值。如果用户只去接收数据而不分享数据，信用分会越来越低而被其他节点忽略掉。 对象层和文件层 共同管理IPFS上80%的数据结构。 大部分数据对象都是以MerkleDag的结构存在，这为内容寻址和去重提供了便利。文件层是一个新的数据结构，和DAG并列，采用Git一样的数据结构来支持版本快照。 命名层 具有自我验证的特性（当其他用户获取该对象时，使用指纹公钥进行验签，即验证所用的公钥是否与NodeId匹配，这验证了用户发布对象的真实性，同时也获取到了可变状态），并且加入了IPNS这个巧妙的设计来使得加密后的DAG对象名可定义，增强可阅读性。 应用层 IPFS核心价值就在于上面运行的应用程序，可以利用它类似CDN的功能，在成本很低的带宽下，去获得想要的数据，从而提升整个应用程序的效率。 IPFS家族 IPFS项目其实很大，并不是一个东西，IPFS是由很多模块组成，每一个模块现在都已经独立成项目了，并且有自己的主页。 协议实验室的主页：https://protocol.ai/projects/ 在协议实验室的主页上面，可以找到目前的五个项目，来简单看一下IPFS家族成员： Filecoin IPFS只是一个协议, 并不是挖矿软件本身。Filecoin系统才是挖矿软件本身, 代币名字是 FIL。Filecoin使用了IPFS 协议来运行系统。 FIL代币总共有20亿枚。分配方案，总共有四个部分组成： 70%作为挖矿的回报：像比特币一样根据挖矿的进度逐步分发 15%预留Protocol Labs：作为研发费用, 6年逐步解禁 10%分配给ICO投资者： 根据挖矿进度, 逐步解禁 5%预留给Filecoin基金会： 作为长期社区建设, 网络管理等费用,&nbsp; 6年逐步解禁 私募时间：2017.07.21-2017.7.24 成本：0.75美元 行权期：1-3年，折扣额0-30% 参与人数：150+人 募集金额：0.52亿美元 公募时间：2017.08.07-2017.09.07 成本：1-5美元 行权期：1-3年，折扣额0-30% 参与人数：2100+人 募集资金：2.05亿美元 Filecoin与挖矿市场 Filecoin存储市场(Filecoin Storage Market) 数据存储市场所需要贡献的就是硬盘存储空间，越多的硬盘空间，挖矿能力就越高，存储市场采用的工作量证明是PoS(Power of Storage)证明，根据存储的数据大小来按比例分配FIL Filecoin数据检索市场(Filecoin&#39;s Retrieval Market) 数据检索市场贡献带宽，根据访问数据的流量来分配FIL Filecoin场景 用户场景： 1.用户提交数据存储订单（PUT）给Filecoin系统 2.用户提价数据检索订单（GET）给Filecoin系统 3.如果上述订单达成，用户支付FIL以获取相应的服务 存储矿工场景： 1.在区块链上注册自己硬盘空间，注册完成后硬盘空间将被记录到区块链的配置表里面 2.接受订单，用户提交的存储订单（PUT） 3.订单交易达成后，双方对交易进行签名，矿工完成数据存储，交易完成后该交易被记录到区块 4.用户获取到对应的支付 检索矿工场景： 1.接受订单，用户提交数据查询订单（GET） 2.交易达成后，双方对交易进行签名，矿工把数据发送给用户，该交易提交到区块 Filecoin证明 数据持有性证明（Provable Data Possession ，PDP)：用户发送数据给矿工进行存储，矿工证明数据已经被自己存储，用户可以重复检查矿工是否还在存储自己的数据 可检索证明（Proof-of-Retrievability，PoRet）：和PDP过程比较类似，证明矿工存储的数据是可以用来查询的 存储证明（Proof-of-Storage ，PoS）：利用存储空间进行的证明。工作量证明的一种，Filecoin上一篇论文使用了这个名字，新的论文则升级为PoRep 复制证明（Proof-of-Replication，PoRep）：新的 PoS（Proof-of-Storage），PoRep可以保证每份数据的存储都是独立的，可以防止女巫攻击，外源攻击和生成攻击 工作量证明（Proof-of-Work，PoW）：证明者向检验者证明自己花费了一定的资源，PoW被用在加密货币，拜占庭共识和其他各种区块链系统。BTC使用的就是这种类型的证明，依赖巨量的哈希计算和能源消耗来建立共识和保证btc网络的安全性 空间证明（Proof-of-Space，PoSpace）：Filecoin提出的概念，存储量的证明，PoSpace是PoW的一种，不同的是PoW使用的计算资源，而PoSpace使用的是存储资源 时空证明（Proof-of-Spacetime，PoSt)：时空证明，矿工证明自己花费了spacetime资源,即：一定时间内的存储空间的使用，PoSt是基于PoReps实现的 Libp2p IPFS团队将点对点(peer-to-peer)网络的网络层从IPFS工程里面分离出来，形成一个独立的项目，这就是libp2p。该项目不仅可以供IPFS使用，也可以提供其它项目使用，作为一个p2p工程的底层协议存在。 主要功能： 发现节点 连接节点 发现数据 传输数据 IPLD IPLD定义了基于内容寻址的统一数据结构类型。它是一个转换器，可以把现有的异构的数据结构（基于内容寻址）统一成一种格式，方便不同系统之间的数据交换和互操作。 通过哈希进行内容寻址的技术已经广泛应用于各种分布式系统。从加密货币的区块链到备份代码的每一次提交，再到各种web内容，他们背后的逻辑几乎是相同的，然后由于数据结构的不兼容，造成了这些数据无法互相操作。IPLD作为中间层统一了这些异构的数据结构，使得不同的数据可以进行数据交换。 IPLD的组成： CID（Self-describingcontent-addressed identifiers for distributed &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; systems）：基于内容寻址的自我描述标识 IPLDtree：基于 JSON、Protobuf和路径导航的跨协议的数据模型 IPLD&nbsp;Resolvers: IPLD转换器，可以添加新的协议到IPLD里面 Multiformats Multiformats是一系列协议的集合，它在现有协议基础上对值（值：通常是具有某一项表达意义的）进行自我描述改造，即从值上就可以知道该值是如何产生的。 当前multiformats协议里面包含以下协议。 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multihash- self-describing hashes &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multiaddr- self-describing network addresses &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multibase- self-describing base encodings &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multicodec - self-describingserialization &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multistream- self-describing stream network protocols &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multigram(WIP) - self-describing packet network protocols 通常情况下我们使用的哈希计算方法都是某一种实现方式，比如sha1，sha2-256等。哈希计算在软件工程里面几乎随处可见，特别是区块链项，multiformats将所有的哈希值计算统一成同样的格式，为系统开发带来很多好处 以multihash为例： 升级后的哈希值的结构为： &lt;hash-func-type&gt;&lt;digest-length&gt;&lt;digest-value&gt; &lt;哈希函数类型&gt;&lt;摘要长度&gt;&lt;摘要值&gt; 有一个使用sha2-256函数生成的哈希值（如下），其长度为32（16进制0x20）： 41dd7b6443542e75701aa98a0c235951a28a0d851b11564d20022ab11d2589a8 规定sha2-256的代表数字为12(16进制)，于是得出来新的哈希值： 122041dd7b6443542e75701aa98a0c235951a28a0d851b11564d20022ab11d2589a8 新的哈希值具有自我描述性质，它说明了自己是怎么来的 IPFS应用及意义 可以为内容创作带来一定的自由 代表应用： Akasha（ https://blog.akasha.world ）是一个基于以太坊和IPFS的社交博客创作平台，用户创作的博客内容通过一个IPFS网络进行发布，而非中心服务器。 同时，用户和以太坊钱包账户进行绑定，用户可以对优质内容进行ETH打赏，内容创作者能以此赚取ETH，如同人脑挖矿一样。它没有太多监管的限制，也没有中间商抽成，内容收益直接归创作者所有。 可以降低存储和带宽成本 代表应用： Dtube（https://d.tube）是一个搭建在Steemit上的去中心化视频播放平台，其用户上传的视频文件都经过IPFS协议进行存储，具有唯一标识。相较于传统视频网站，它降低了同资源冗余程度，同时大大节约了海量用户在播放视频时所产生的带宽成本。 可以与区块链完美结合 代表应用： EOS引以为傲的是可以支持百万级别TPS的并发量，其中除了DPOS共识机制的功劳之外，还归功于其底层存储设计是采取IPFS来解决大型数据的传输效率。 EOS将自己打包好的区块数据通过IPLD进行异构处理，统一成一种便于内容寻址的数据结构类型，并挂载到IPFS的link上，让IPFS网络承担存储和P2P检索的逻辑，而不消耗EOS区块链系统本身太多的计算资源。 编辑/雪人 ↓↓↓ 点击&quot;阅读原文&quot; 【查看视频回放】&nbsp;&nbsp; 阅读更多" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-04-18T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"4月14号IPFS成都分享会上，潇洒干练的链博科技90后CEO朱清为观众带来一场诚意满满的纯粹的技术分享，博得现场热烈的掌声。小编为大家整理了朱老师分享的文字内容，感兴趣的朋友还可以点击阅读原文观看视频回放哦~ 朱清&nbsp;&nbsp; 大家好，看刚才大家与大炮哥的互动都很精彩，从做技术的角度来说，我认为大家问的问题都太商业化了。我觉得今天可能很多人来现场都带着一个问题关filecoin到底怎么才能够挖到矿，也会想如果有人用filecoin去作恶会不会影响它的推广。接下来我要讲的可能会纯粹一点，从技术本身来分享。我最近看到很多，比如卖矿机的，都不写filecoin，直接说ipfs矿机，其实ipfs和filecoin还是有很本质的区别，希望大家能够比较明智地去分析一些东西，包括矿机上写的那些参数是不是能让你以后真正的挖到filecoin，一会儿我也会简单提一下，帮助大家做一些更明智的选择和投资。 IPFS是什么？ 星际文件系统(InterPlanetary File System) 本质上是一种内容可寻址、版本化、点对点超媒体的分布式存储、传输协议，目标是补充乃至取代过去20年里使用的超文本媒体传输协议（HTTP），希望构建更快、更安全、更自由开放的互联网时代。 Ipfs最核心的技术是p2p，原来是中心化的服务器在分发内容，现在我们想要下载某一个内容，可以直接建立一个连接，也可以跟其他人连接，迅雷也是这种模式，它是一个虚拟的p2p中心网络，这里不多细讲。 为什么需要IPFS？ HTTP的中心化是低效的, 并且成本很高 油管上，鸟叔的“江南style”这个视频，累计被播放30亿次，假设这个文件100MB大小，则播放这个视频浪费300Petabytes（1P=1,000,000GB）的网络流量，按照0.01USD/GB算CDN成本，谷歌将支付300W美金给ISP服务商。 使用HTTP协议每次需要从中心化的服务器下载完整的文件(网页, 视频, 图片等), 速度慢, 效率低。如果改用P2P的方式下载, 可以节省近60%的带宽。 Web文件经常被删除 http的页面平均生存周期大约只有100天，Web文件由于存储成本太高经常被删除，无法永久保存。 IPFS提供了文件的历史版本回溯功能(就像git版本控制工具一样), 可以很容易的查看文件的历史版本, 且数据无法删除，可以得到永久保存。 中心化限制了web的成长 现在使用的互联网其实是由数百万个分布在世界各地的服务器构成的。世界最大的芯片制造厂商 Intel 有大约10万台服务器，Facebook有3万台，美国最大的电话公司 AT&amp;T 也有2万台，而 Google有超过100万台服务器。 在现有的http协议下，所有的数据都保存在这些巨头的服务器上，这是高度中心化的。巨头不但对我们的数据有绝对的控制权和解释权，各种各样的监管，封锁，监控一定程度上也极大的限制了创新和发展。 建立在去中心化的分布式网络上的IFPS很难被中心化管理和限制，互联网将更加开放。 互联网应用高度依赖互联网主干网 过于中心化，为了支撑http协议，服务器7*24小时开启，对于大流量公司，比如百度、腾讯、阿里等，投入大量资源维护服务器和安全隐患，防止DDoS，XSS，CSRF等攻击。 主干网络受制于战争，自然灾害，中心服务器宕机等因素，都可能造成整个互联网中断服务。 IPFS可以极大的降低对中心主干网络的依赖。 IPFS如何工作？ IPFS为每一个文件分配一个独一无二的哈希值(文件指纹: 根据文件的内容进行创建), 即使是两个文件内容只有1个比特的不相同，其哈希值也是不相同的。所以IPFS是基于文件内容进行寻址， 而不像传统的HTTP协议一样基于域名寻址。 IPFS在整个网络范围内去掉重复的文件, 并且为文件建立版本管理, 也就是说每一个文件的变更历史都将被记录(这一点类似版本控制工具git,svn等), 可以很容易个回到文件的历史版本查看数据。 当查询文件的时候, IPFS网络根据文件的哈希值(全网唯一)进行查找。 由于每个文件的哈希值全网唯一, 查询将很容易进行。 如果仅仅使用哈希值来区分文件的话，会给传播造成困难，因为哈希值不容易记忆，就像ip地址一样不容易记忆，于是人类发明的域名。IPFS利用IPNS将哈希值映射为容易记的名字。 每个节点除了存储自己需要的数据，还存储了一张哈希表， 用来记录文件存储所在的位置，用来进行文件的查询下载。 IPFS的架构 IPFS 协议栈 身份&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; S/Kademlia生成&nbsp;&nbsp;&nbsp;&nbsp; 对等身份信息生成 网络&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 任意传输层协议&nbsp;&nbsp;&nbsp;&nbsp; ICE NET &amp; NAT穿透 路由&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 分布式松散哈希表（DSHT）&nbsp;&nbsp;&nbsp; 定位对等点和存储对象需要的信息 交换&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BitTorrent&amp; BitSwap&nbsp;&nbsp;&nbsp;&nbsp; 管理区块如何分布 对象&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Merkle-DAG&nbsp;&nbsp;&nbsp;&nbsp; 内容可寻址的不可篡改、去冗余的对象链接 文件&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 类似Git 版本控制的文件系统：blob,list, tree, commit 命名&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 具有SFS（Self-CertifiedFilesystems）IPNS：DAG对象命名可变 应用&nbsp; &nbsp; &nbsp; &nbsp;在IPFS上运行的应用程序利用最近节点提供服务提供效率、降低成本 身份层和路由层 对等节点身份信息的生成以及路由规则是通过Kademlia协议生成制定，KAD协议实质是构建了一个分布式松散Hash表（distributedhash table），简称DHT，每个加入这个DHT网络的人都要生成自己的身份信息，然后才能通过这个身份信息去负责存储这个网络里的资源信息和其他成员的联系信息。 网络层 LibP2P可以支持任意传输层协议。 ICE NAT traversal框架整合STUN、TURN和其他类型的NAT协议，该框架可以让客户端利用各种NAT方式打通网络，从而完成NAT通信，这对于IPFS的p2p网络非常重要。 交换层 类似迅雷这样的BT工具，IPFS团队把BitTorrent进行了创新，叫作Bitswap，它增加了信用和帐单体系来激励节点去分享，用户在发送给其他节点数据可以增加信用值，从其他节点接受数据降低信用值。如果用户只去接收数据而不分享数据，信用分会越来越低而被其他节点忽略掉。 对象层和文件层 共同管理IPFS上80%的数据结构。 大部分数据对象都是以MerkleDag的结构存在，这为内容寻址和去重提供了便利。文件层是一个新的数据结构，和DAG并列，采用Git一样的数据结构来支持版本快照。 命名层 具有自我验证的特性（当其他用户获取该对象时，使用指纹公钥进行验签，即验证所用的公钥是否与NodeId匹配，这验证了用户发布对象的真实性，同时也获取到了可变状态），并且加入了IPNS这个巧妙的设计来使得加密后的DAG对象名可定义，增强可阅读性。 应用层 IPFS核心价值就在于上面运行的应用程序，可以利用它类似CDN的功能，在成本很低的带宽下，去获得想要的数据，从而提升整个应用程序的效率。 IPFS家族 IPFS项目其实很大，并不是一个东西，IPFS是由很多模块组成，每一个模块现在都已经独立成项目了，并且有自己的主页。 协议实验室的主页：https://protocol.ai/projects/ 在协议实验室的主页上面，可以找到目前的五个项目，来简单看一下IPFS家族成员： Filecoin IPFS只是一个协议, 并不是挖矿软件本身。Filecoin系统才是挖矿软件本身, 代币名字是 FIL。Filecoin使用了IPFS 协议来运行系统。 FIL代币总共有20亿枚。分配方案，总共有四个部分组成： 70%作为挖矿的回报：像比特币一样根据挖矿的进度逐步分发 15%预留Protocol Labs：作为研发费用, 6年逐步解禁 10%分配给ICO投资者： 根据挖矿进度, 逐步解禁 5%预留给Filecoin基金会： 作为长期社区建设, 网络管理等费用,&nbsp; 6年逐步解禁 私募时间：2017.07.21-2017.7.24 成本：0.75美元 行权期：1-3年，折扣额0-30% 参与人数：150+人 募集金额：0.52亿美元 公募时间：2017.08.07-2017.09.07 成本：1-5美元 行权期：1-3年，折扣额0-30% 参与人数：2100+人 募集资金：2.05亿美元 Filecoin与挖矿市场 Filecoin存储市场(Filecoin Storage Market) 数据存储市场所需要贡献的就是硬盘存储空间，越多的硬盘空间，挖矿能力就越高，存储市场采用的工作量证明是PoS(Power of Storage)证明，根据存储的数据大小来按比例分配FIL Filecoin数据检索市场(Filecoin&#39;s Retrieval Market) 数据检索市场贡献带宽，根据访问数据的流量来分配FIL Filecoin场景 用户场景： 1.用户提交数据存储订单（PUT）给Filecoin系统 2.用户提价数据检索订单（GET）给Filecoin系统 3.如果上述订单达成，用户支付FIL以获取相应的服务 存储矿工场景： 1.在区块链上注册自己硬盘空间，注册完成后硬盘空间将被记录到区块链的配置表里面 2.接受订单，用户提交的存储订单（PUT） 3.订单交易达成后，双方对交易进行签名，矿工完成数据存储，交易完成后该交易被记录到区块 4.用户获取到对应的支付 检索矿工场景： 1.接受订单，用户提交数据查询订单（GET） 2.交易达成后，双方对交易进行签名，矿工把数据发送给用户，该交易提交到区块 Filecoin证明 数据持有性证明（Provable Data Possession ，PDP)：用户发送数据给矿工进行存储，矿工证明数据已经被自己存储，用户可以重复检查矿工是否还在存储自己的数据 可检索证明（Proof-of-Retrievability，PoRet）：和PDP过程比较类似，证明矿工存储的数据是可以用来查询的 存储证明（Proof-of-Storage ，PoS）：利用存储空间进行的证明。工作量证明的一种，Filecoin上一篇论文使用了这个名字，新的论文则升级为PoRep 复制证明（Proof-of-Replication，PoRep）：新的 PoS（Proof-of-Storage），PoRep可以保证每份数据的存储都是独立的，可以防止女巫攻击，外源攻击和生成攻击 工作量证明（Proof-of-Work，PoW）：证明者向检验者证明自己花费了一定的资源，PoW被用在加密货币，拜占庭共识和其他各种区块链系统。BTC使用的就是这种类型的证明，依赖巨量的哈希计算和能源消耗来建立共识和保证btc网络的安全性 空间证明（Proof-of-Space，PoSpace）：Filecoin提出的概念，存储量的证明，PoSpace是PoW的一种，不同的是PoW使用的计算资源，而PoSpace使用的是存储资源 时空证明（Proof-of-Spacetime，PoSt)：时空证明，矿工证明自己花费了spacetime资源,即：一定时间内的存储空间的使用，PoSt是基于PoReps实现的 Libp2p IPFS团队将点对点(peer-to-peer)网络的网络层从IPFS工程里面分离出来，形成一个独立的项目，这就是libp2p。该项目不仅可以供IPFS使用，也可以提供其它项目使用，作为一个p2p工程的底层协议存在。 主要功能： 发现节点 连接节点 发现数据 传输数据 IPLD IPLD定义了基于内容寻址的统一数据结构类型。它是一个转换器，可以把现有的异构的数据结构（基于内容寻址）统一成一种格式，方便不同系统之间的数据交换和互操作。 通过哈希进行内容寻址的技术已经广泛应用于各种分布式系统。从加密货币的区块链到备份代码的每一次提交，再到各种web内容，他们背后的逻辑几乎是相同的，然后由于数据结构的不兼容，造成了这些数据无法互相操作。IPLD作为中间层统一了这些异构的数据结构，使得不同的数据可以进行数据交换。 IPLD的组成： CID（Self-describingcontent-addressed identifiers for distributed &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; systems）：基于内容寻址的自我描述标识 IPLDtree：基于 JSON、Protobuf和路径导航的跨协议的数据模型 IPLD&nbsp;Resolvers: IPLD转换器，可以添加新的协议到IPLD里面 Multiformats Multiformats是一系列协议的集合，它在现有协议基础上对值（值：通常是具有某一项表达意义的）进行自我描述改造，即从值上就可以知道该值是如何产生的。 当前multiformats协议里面包含以下协议。 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multihash- self-describing hashes &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multiaddr- self-describing network addresses &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multibase- self-describing base encodings &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multicodec - self-describingserialization &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multistream- self-describing stream network protocols &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multigram(WIP) - self-describing packet network protocols 通常情况下我们使用的哈希计算方法都是某一种实现方式，比如sha1，sha2-256等。哈希计算在软件工程里面几乎随处可见，特别是区块链项，multiformats将所有的哈希值计算统一成同样的格式，为系统开发带来很多好处 以multihash为例： 升级后的哈希值的结构为： &lt;hash-func-type&gt;&lt;digest-length&gt;&lt;digest-value&gt; &lt;哈希函数类型&gt;&lt;摘要长度&gt;&lt;摘要值&gt; 有一个使用sha2-256函数生成的哈希值（如下），其长度为32（16进制0x20）： 41dd7b6443542e75701aa98a0c235951a28a0d851b11564d20022ab11d2589a8 规定sha2-256的代表数字为12(16进制)，于是得出来新的哈希值： 122041dd7b6443542e75701aa98a0c235951a28a0d851b11564d20022ab11d2589a8 新的哈希值具有自我描述性质，它说明了自己是怎么来的 IPFS应用及意义 可以为内容创作带来一定的自由 代表应用： Akasha（ https://blog.akasha.world ）是一个基于以太坊和IPFS的社交博客创作平台，用户创作的博客内容通过一个IPFS网络进行发布，而非中心服务器。 同时，用户和以太坊钱包账户进行绑定，用户可以对优质内容进行ETH打赏，内容创作者能以此赚取ETH，如同人脑挖矿一样。它没有太多监管的限制，也没有中间商抽成，内容收益直接归创作者所有。 可以降低存储和带宽成本 代表应用： Dtube（https://d.tube）是一个搭建在Steemit上的去中心化视频播放平台，其用户上传的视频文件都经过IPFS协议进行存储，具有唯一标识。相较于传统视频网站，它降低了同资源冗余程度，同时大大节约了海量用户在播放视频时所产生的带宽成本。 可以与区块链完美结合 代表应用： EOS引以为傲的是可以支持百万级别TPS的并发量，其中除了DPOS共识机制的功劳之外，还归功于其底层存储设计是采取IPFS来解决大型数据的传输效率。 EOS将自己打包好的区块数据通过IPLD进行异构处理，统一成一种便于内容寻址的数据结构类型，并挂载到IPFS的link上，让IPFS网络承担存储和P2P检索的逻辑，而不消耗EOS区块链系统本身太多的计算资源。 编辑/雪人 ↓↓↓ 点击&quot;阅读原文&quot; 【查看视频回放】&nbsp;&nbsp; 阅读更多","@type":"BlogPosting","url":"/2018/04/18/413eb3702b0f160e2087e3513012374f.html","headline":"详解IPFS技术架构与应用","dateModified":"2018-04-18T00:00:00+08:00","datePublished":"2018-04-18T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/2018/04/18/413eb3702b0f160e2087e3513012374f.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-1');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>详解IPFS技术架构与应用</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css"> 
 <div class="htmledit_views"> 
  <div class="rich_media_content"> 
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;"></span></p>
   <p><span style="font-size:15px;">4月14号IPFS成都分享会上，潇洒干练的链博科技90后CEO朱清为观众带来一场诚意满满的纯粹的技术分享，博得现场热烈的掌声。小编为大家整理了朱老师分享的文字内容，感兴趣的朋友还可以点击</span><span style="font-size:15px;color:rgb(255,0,0);">阅读原文</span><span style="font-size:15px;">观看视频回放哦~</span></p>
   <p style="line-height:1.75em;"><span style="color:rgb(49,49,49);font-family:'微软雅黑', sans-serif;font-size:15px;"></span></p>
   <img border="0" style="width:260px;" title="" src="https://ss.csdn.net/p?http://mmbiz.qpic.cn/mmbiz_jpg/3xsFRgx4kHroUjZT1j6QlVglwGZb42gd2ibFQErXiaYISdrGqqdbxmXxvCGrsLxF6dTeGYicSnZibZJBuzqibYXwNCw/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1" alt="640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1">
   <span style="color:#0C0C0C;"><strong>朱清</strong></span>&nbsp;&nbsp;
   <br>
   <span style="color:rgb(49,49,49);font-family:'微软雅黑', sans-serif;font-size:15px;">大家好，看刚才大家与大炮哥的互动都很精彩，从做技术的角度来说，我认为大家问的问题都太商业化了。我觉得今天可能很多人来现场都带着一个问题关filecoin到底怎么才能够挖到矿，也会想如果有人用filecoin去作恶会不会影响它的推广。接下来我要讲的可能会纯粹一点，从技术本身来分享。我最近看到很多，比如卖矿机的，都不写filecoin，直接说ipfs矿机，其实ipfs和filecoin还是有很本质的区别，希望大家能够比较明智地去分析一些东西，包括矿机上写的那些参数是不是能让你以后真正的挖到filecoin，一会儿我也会简单提一下，帮助大家做一些更明智的选择和投资。</span>
   <p style="line-height:1.75em;"><span style="color:rgb(49,49,49);font-family:'微软雅黑', sans-serif;font-size:15px;"></span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;"></span></p>
   <p style="color:rgb(170,170,170);border-left:10px solid rgb(233,233,233);border-top-color:rgb(233,233,233);border-right-color:rgb(233,233,233);border-bottom-color:rgb(233,233,233);background:rgb(243,243,244);">IPFS是什么？</p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;"></span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(0,82,255);">星际文件系统(InterPlanetary File System)</span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">本质上是一种</span><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(0,82,255);">内容可寻址、版本化、点对点超媒体的分布式存储、传输协议</span><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">，目标是</span><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(0,82,255);">补充乃至取代过去20年里使用的超文本媒体传输协议（HTTP）</span><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">，希望构建</span><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(0,82,255);">更快、更安全、更自由开放</span><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">的互联网时代。</span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">Ipfs最</span><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(0,82,255);">核心的技术是p2p</span><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">，原来是中心化的服务器在分发内容，现在我们想要下载某一个内容，可以直接建立一个连接，也可以跟其他人连接，迅雷也是这种模式，它是一个虚拟的p2p中心网络，这里不多细讲。</span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;"></span></p>为什么需要IPFS？
   <p style="line-height:1.75em;"><strong><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(165,200,255);">HTTP的中心化是低效的, 并且成本很高</span></strong></p>
   <p style="text-indent:0in;text-align:left;vertical-align:top;line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">油管上，鸟叔的“江南style”这个视频，累计被播放30亿次，假设这个文件100MB大小，则播放这个视频浪费300Petabytes（1P=1,000,000GB）的网络流量，按照0.01USD/GB算CDN成本，谷歌将支付300W美金给ISP服务商。</span></p>
   <p style="text-indent:0in;text-align:left;vertical-align:top;line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">使用HTTP协议每次需要从中心化的服务器下载完整的文件(网页, 视频, 图片等), 速度慢, 效率低。如果改用P2P的方式下载, 可以节省近60%的带宽。</span></p>
   <p style="text-indent:0in;text-align:left;vertical-align:top;line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);"></span></p>
   <p style="text-align:center;"><img class="img_loading" style="width:440px;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/3xsFRgx4kHroUjZT1j6QlVglwGZb42gdia5aGd92n7EA3BUrskEuh4gqsPOF4HKzTVASlaCGeibx7p0x5xBWehOQ/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="text-indent:0in;text-align:left;vertical-align:top;line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);"></span></p>
   <p style="line-height:1.75em;"><strong><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(165,200,255);">Web文件经常被删除</span></strong></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">http的页面平均生存周期大约只有100天，Web文件由于存储成本太高经常被删除，无法永久保存。</span></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">IPFS提供了文件的历史版本回溯功能(就像git版本控制工具一样), 可以很容易的查看文件的历史版本, 且数据无法删除，可以得到永久保存。</span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;"></span></p>
   <p style="text-align:center;"><img class="img_loading" style="width:442px;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/3xsFRgx4kHroUjZT1j6QlVglwGZb42gd4GGHNicCXhfyGajfjT7bG0ncaPuMB3QUpbRkjbmD5Kn6LVkS5VqbyKQ/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);"></span></p>
   <p style="line-height:1.75em;"><strong><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(165,200,255);">中心化限制了web的成长</span></strong></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">现在使用的互联网其实是</span><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(0,82,255);">由数百万个分布在世界各地的服务器构成</span><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">的。世界最大的芯片制造厂商 Intel 有大约10万台服务器，Facebook有3万台，美国最大的电话公司 AT&amp;T 也有2万台，而 Google有超过100万台服务器。<br></span></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">在现有的http协议下，所有的数据都保存在这些巨头的服务器上，这是高度中心化的。</span><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(0,82,255);">巨头不但对我们的数据有绝对的控制权和解释权</span><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">，各种各样的监管，封锁，监控一定程度上也极大的限制了创新和发展。</span></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">建立在去中心化的分布式网络上的IFPS很难被中心化管理和限制，互联网将更加开放。</span></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);"></span></p>
   <p style="text-align:center;"><img class="img_loading" style="width:440px;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/3xsFRgx4kHroUjZT1j6QlVglwGZb42gdKJJPdlpNRsMS9FDNW9fVY38iaX1vazh9tmjwyiaMhSqyfLibkMqPJomow/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);"></span></p>
   <p style="line-height:1.75em;"><span style="color:rgb(165,200,255);"><strong><span style="font-size:15px;font-family:'微软雅黑', sans-serif;">互联网应用高度依赖互联网主干网</span></strong></span></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">过于中心化，为了支撑http协议，服务器7*24小时开启，对于大流量公司，比如百度、腾讯、阿里等，投入大量资源维护服务器和安全隐患，防止DDoS，XSS，CSRF等攻击。</span></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">主干网络受制于战争，自然灾害，中心服务器宕机等因素，都可能造成整个互联网中断服务。</span></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(0,82,255);">IPFS可以极大的降低对中心主干网络的依赖。</span></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(0,82,255);"></span></p>
   <p style="text-align:center;"><img class="img_loading" style="width:439px;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/3xsFRgx4kHroUjZT1j6QlVglwGZb42gd4sJC4riawnAk9sk5raFCfD9zKPicG7n3OsPHHuATibKkLx3GSyCtgXShg/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p style="line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);"></span></p>IPFS如何工作？
   <p style="line-height:1.75em;"><span style="color:rgb(49,49,49);font-family:'微软雅黑', sans-serif;font-size:15px;">IPFS</span><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(0,82,255);">为每一个文件分配一个独一无二的哈希值</span><span style="color:rgb(49,49,49);font-family:'微软雅黑', sans-serif;font-size:15px;">(文件指纹: 根据文件的内容进行创建), 即使是两个文件内容只有1个比特的不相同，其哈希值也是不相同的。所以</span><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(0,82,255);">IPFS是基于文件内容进行寻址</span><span style="color:rgb(49,49,49);font-family:'微软雅黑', sans-serif;font-size:15px;">， 而不像</span><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(0,82,255);">传统的HTTP协议</span><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(0,0,0);">一样</span><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(0,82,255);">基于域名</span><span style="color:rgb(49,49,49);font-family:'微软雅黑', sans-serif;font-size:15px;">寻址。</span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">IPFS在整个网络范围内去掉重复的文件, 并且为文件建立版本管理, 也就是说</span><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(0,82,255);">每一个文件的变更历史都将被记录</span><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">(这一点类似版本控制工具git,svn等), 可以很容易个回到文件的历史版本查看数据。</span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">当查询文件的时候, IPFS网络根据文件的哈希值(全网唯一)进行查找。 由于</span><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(0,82,255);">每个文件的哈希值全网唯一, 查询将很容易进行。</span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">如果仅仅使用哈希值来区分文件的话，会给传播造成困难，因为哈希值不容易记忆，就像ip地址一样不容易记忆，于是人类发明的域名。IPFS利用IPNS将哈希值映射为容易记的名字。</span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">每个节点除了存储自己需要的数据，</span><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(0,82,255);">还存储了一张哈希表</span><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">， 用来记录文件存储所在的位置，用来进行文件的查询下载。</span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;"></span></p>IPFS的架构
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;"></span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;text-decoration:underline;color:rgb(122,68,66);">IPFS 协议栈</span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;text-decoration:underline;color:rgb(122,68,66);">身份&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; S/Kademlia生成&nbsp;&nbsp;&nbsp;&nbsp; 对等身份信息生成</span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;text-decoration:underline;color:rgb(122,68,66);">网络&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 任意传输层协议&nbsp;&nbsp;&nbsp;&nbsp; ICE NET &amp; NAT穿透</span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;text-decoration:underline;color:rgb(122,68,66);">路由&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 分布式松散哈希表（DSHT）&nbsp;&nbsp;&nbsp; 定位对等点和存储对象需要的信息</span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;text-decoration:underline;color:rgb(122,68,66);">交换&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BitTorrent&amp; BitSwap&nbsp;&nbsp;&nbsp;&nbsp; 管理区块如何分布</span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;text-decoration:underline;color:rgb(122,68,66);">对象&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Merkle-DAG&nbsp;&nbsp;&nbsp;&nbsp; 内容可寻址的不可篡改、去冗余的对象链接</span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;text-decoration:underline;color:rgb(122,68,66);">文件&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 类似Git 版本控制的文件系统：blob,list, tree, commit</span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;text-decoration:underline;color:rgb(122,68,66);">命名&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 具有SFS（Self-CertifiedFilesystems）IPNS：DAG对象命名可变</span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;text-decoration:underline;color:rgb(122,68,66);">应用&nbsp; &nbsp; &nbsp; &nbsp;在IPFS上运行的应用程序利用最近节点提供服务提供效率、降低成本</span></p>
   <p style="font-size:16px;font-weight:bold;text-align:center;"><span style="color:rgb(49,49,49);font-family:'微软雅黑', sans-serif;">身份层和路由层</span></p>
   <p style="font-size:14px;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">对等节点身份信息的生成以及路由规则是通过Kademlia协议生成制定，KAD协议实质是构建了一个分布式松散Hash表（distributedhash table），简称DHT，每个加入这个DHT网络的人都要生成自己的身份信息，然后才能通过这个身份信息去负责存储这个网络里的资源信息和其他成员的联系信息。</span></p>
   <p style="font-size:16px;font-weight:bold;text-align:center;">网络层</p>
   <p style="font-size:14px;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">LibP2P可以支持任意传输层协议。<br></span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">ICE NAT traversal框架整合STUN、TURN和其他类型的NAT协议，该框架可以让客户端利用各种NAT方式打通网络，从而完成NAT通信，这对于IPFS的p2p网络非常重要。</span></p>
   <p style="font-size:16px;font-weight:bold;text-align:center;">交换层</p>
   <p style="font-size:14px;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">类似迅雷这样的BT工具，IPFS团队把BitTorrent进行了创新，叫作Bitswap，它增加了信用和帐单体系来激励节点去分享，用户在发送给其他节点数据可以增加信用值，从其他节点接受数据降低信用值。如果用户只去接收数据而不分享数据，信用分会越来越低而被其他节点忽略掉。</span></p>
   <p style="font-size:16px;font-weight:bold;text-align:center;"><span style="color:rgb(49,49,49);font-family:'微软雅黑', sans-serif;text-align:left;">对象层和文件层</span></p>
   <p style="font-size:14px;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">共同管理IPFS上80%的数据结构。<br></span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">大部分数据对象都是以MerkleDag的结构存在，这为内容寻址和去重提供了便利。<br>文件层是一个新的数据结构，和DAG并列，采用Git一样的数据结构来支持版本快照。</span></p>
   <p style="font-size:16px;font-weight:bold;text-align:center;">命名层</p>
   <p style="font-size:14px;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">具有自我验证的特性（当其他用户获取该对象时，使用指纹公钥进行验签，即验证所用的公钥是否与NodeId匹配，这验证了用户发布对象的真实性，同时也获取到了可变状态），并且加入了IPNS这个巧妙的设计来使得加密后的DAG对象名可定义，增强可阅读性。</span></p>
   <p style="font-weight:bold;text-align:center;"><span style="font-size:16px;">应用层</span></p>
   <p style="font-size:14px;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">IPFS核心价值就在于上面运行的应用程序，可以利用它类似CDN的功能，在成本很低的带宽下，去获得想要的数据，从而提升整个应用程序的效率。</span></p>
   <p><br></p>IPFS家族
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">IPFS项目其实很大，并不是一个东西，</span><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(0,82,255);">IPFS是由很多模块组成，每一个模块现在都已经独立成项目了，并且有自己的主页。</span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">协议实验室的主页：</span><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(0,82,255);text-decoration:underline;">https://protocol.ai/projects/</span></p>
   <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">在协议实验室的主页上面，可以找到目前的五个项目，来简单看一下IPFS家族成员：</span></p>
   <p style="text-align:center;"><img class="img_loading" style="width:670px;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/3xsFRgx4kHroUjZT1j6QlVglwGZb42gdALNIwLwv6u0tR6u7BOyHBQmAiazwgBibMexQNtrjRQ6MXqdGfHdVWRwg/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   <p><br></p>
   <blockquote style="color:rgb(224,209,202);line-height:25px;font-weight:bold;text-align:left;border-width:0px;background-color:rgb(107,77,64);">
    Filecoin
   </blockquote>
   <blockquote style="border-width:0px;border-style:none;background-color:rgb(239,239,239);line-height:25px;">
    <p style="color:inherit;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(0,82,255);">IPFS只是一个协议, 并不是挖矿软件本身。</span><span style="color:rgb(49,49,49);font-family:'微软雅黑', sans-serif;font-size:15px;">Filecoin系统才是挖矿软件本身, 代币名字是 FIL。Filecoin使用了IPFS 协议来运行系统。</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(0,82,255);">FIL代币总共有20亿枚</span><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">。分配方案，总共有四个部分组成：</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">70%作为挖矿的回报：像比特币一样根据挖矿的进度逐步分发</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">15%预留Protocol Labs：作为研发费用, 6年逐步解禁</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">10%分配给ICO投资者： 根据挖矿进度, 逐步解禁</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-size:15px;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">5%预留给Filecoin基金会： 作为长期社区建设, 网络管理等费用,</span><span style="font-size:15px;color:rgb(49,49,49);">&nbsp;</span><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);"> 6年逐步解禁</span></span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-size:15px;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(122,68,66);">私募时间：</span><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">2017.07.21-2017.7.24</span></span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">成本：0.75美元</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">行权期：1-3年，折扣额0-30%</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">参与人数：150+人</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">募集金额：0.52亿美元</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-size:15px;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(122,68,66);">公募时间：</span><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">2017.08.07-2017.09.07</span></span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">成本：1-5美元</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">行权期：1-3年，折扣额0-30%</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">参与人数：2100+人</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">募集资金：2.05亿美元</span></p>
   </blockquote>
   <p><br></p>
   <blockquote style="color:rgb(224,209,202);line-height:25px;font-weight:bold;text-align:left;border-width:0px;background-color:rgb(107,77,64);">
    Filecoin与挖矿市场
   </blockquote>
   <blockquote style="border-width:0px;border-style:none;background-color:rgb(239,239,239);line-height:25px;">
    <p style="color:inherit;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(122,68,66);">Filecoin存储市场(Filecoin Storage Market)</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">数据存储市场所需要贡献的就是硬盘存储空间，</span><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(0,82,255);">越多的硬盘空间，挖矿能力就越高</span><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">，存储市场采用的工作量证明是PoS(Power of Storage)证明，根据存储的数据大小来按比例分配FIL</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(122,68,66);">Filecoin数据检索市场(Filecoin's Retrieval Market)</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">数据检索市场贡献带宽，根据访问数据的流量来分配FIL</span></p>
   </blockquote>
   <p><br></p>
   <blockquote style="color:rgb(224,209,202);line-height:25px;font-weight:bold;text-align:left;border-width:0px;background-color:rgb(107,77,64);">
    Filecoin场景
   </blockquote>
   <blockquote style="border-width:0px;border-style:none;background-color:rgb(239,239,239);line-height:25px;">
    <p style="color:inherit;line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(122,68,66);">用户场景：</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">1.用户提交数据存储订单（PUT）给Filecoin系统</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">2.用户提价数据检索订单（GET）给Filecoin系统</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">3.如果上述订单达成，用户支付FIL以获取相应的服务</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(122,68,66);">存储矿工场景：</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">1.在区块链上注册自己硬盘空间，注册完成后硬盘空间将被记录到区块链的配置表里面</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">2.接受订单，用户提交的存储订单（PUT）</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">3.订单交易达成后，双方对交易进行签名，矿工完成数据存储，交易完成后该交易被记录到区块</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">4.用户获取到对应的支付</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(122,68,66);">检索矿工场景：</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">1.接受订单，用户提交数据查询订单（GET）</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">2.交易达成后，双方对交易进行签名，矿工把数据发送给用户，该交易提交到区块</span></p>
   </blockquote>
   <p><br></p>
   <blockquote style="color:rgb(224,209,202);line-height:25px;font-weight:bold;text-align:left;border-width:0px;background-color:rgb(107,77,64);">
    Filecoin证明
   </blockquote>
   <blockquote style="border-width:0px;border-style:none;background-color:rgb(239,239,239);line-height:25px;">
    <p style="color:inherit;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(122,68,66);">数据持有性证明（Provable Data Possession ，PDP)：</span><span style="color:rgb(49,49,49);font-family:'微软雅黑', sans-serif;font-size:15px;">用户发送数据给矿工进行存储，矿工证明数据已经被自己存储，用户可以重复检查矿工是否还在存储自己的数据</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(122,68,66);">可检索证明（Proof-of-Retrievability，PoRet）：</span><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">和PDP过程比较类似，证明矿工存储的数据是可以用来查询的</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(122,68,66);">存储证明（Proof-of-Storage ，PoS）：</span><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">利用存储空间进行的证明。工作量证明的一种，Filecoin上一篇论文使用了这个名字，新的论文则升级为PoRep</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(122,68,66);">复制证明（Proof-of-Replication，PoRep）：</span><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">新的 PoS（Proof-of-Storage），PoRep可以保证每份数据的存储都是独立的，可以防止女巫攻击，外源攻击和生成攻击</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(122,68,66);">工作量证明（Proof-of-Work，PoW）：</span><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">证明者向检验者证明自己花费了一定的资源，PoW被用在加密货币，拜占庭共识和其他各种区块链系统。BTC使用的就是这种类型的证明，依赖巨量的哈希计算和能源消耗来建立共识和保证btc网络的安全性</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(122,68,66);">空间证明（Proof-of-Space，PoSpace）：</span><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">Filecoin提出的概念，存储量的证明，PoSpace是PoW的一种，不同的是PoW使用的计算资源，而PoSpace使用的是存储资源</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(122,68,66);">时空证明（Proof-of-Spacetime，PoSt)：</span><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">时空证明，矿工证明自己花费了spacetime资源,即：一定时间内的存储空间的使用，PoSt是基于PoReps实现的</span></p>
   </blockquote>
   <p><br></p>
   <blockquote style="color:rgb(224,209,202);line-height:25px;font-weight:bold;text-align:left;border-width:0px;background-color:rgb(107,77,64);">
    Libp2p
   </blockquote>
   <blockquote style="border-width:0px;border-style:none;background-color:rgb(239,239,239);line-height:25px;">
    <p style="color:inherit;line-height:1.75em;"><span style="color:rgb(49,49,49);font-family:'微软雅黑', sans-serif;font-size:15px;">IPFS团队将点对点(peer-to-peer)网络的网络层从IPFS工程里面分离出来，形成一个独立的项目，这就是libp2p。该项目不仅可以供IPFS使用，也可以提供其它项目使用，作为一个p2p工程的底层协议存在。</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(122,68,66);">主要功能：</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">发现节点</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">连接节点</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">发现数据</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">传输数据</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;"></span></p>
    <p><img class="img_loading" style="width:640px;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/3xsFRgx4kHroUjZT1j6QlVglwGZb42gdmnumLhMjRX3DuLXu9CK0gqibquwJZVlQ4EKBuIhY032LA6h3b4SVmmw/640?wx_fmt=png" alt="640?wx_fmt=png"></p>
   </blockquote>
   <p><br></p>
   <blockquote style="color:rgb(224,209,202);line-height:25px;font-weight:bold;text-align:left;border-width:0px;background-color:rgb(107,77,64);">
    IPLD
   </blockquote>
   <blockquote style="border-width:0px;border-style:none;background-color:rgb(239,239,239);line-height:25px;">
    <p style="color:inherit;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(0,82,255);">IPLD定义了基于内容寻址的统一数据结构类型</span><span style="color:rgb(49,49,49);font-family:'微软雅黑', sans-serif;font-size:15px;">。它是一个转换器，可以把现有的异构的数据结构（基于内容寻址）统一成一种格式，方便不同系统之间的数据交换和互操作。</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(0,82,255);">通过哈希进行内容寻址的技术已经广泛应用于各种分布式系统</span><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">。从加密货币的区块链到备份代码的每一次提交，再到各种web内容，他们背后的逻辑几乎是相同的，然后由于数据结构的不兼容，造成了这些数据无法互相操作。IPLD作为中间层统一了这些异构的数据结构，使得不同的数据可以进行数据交换。</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(122,68,66);">IPLD的组成：</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">CID（Self-describingcontent-addressed identifiers for distributed &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; systems）：基于内容寻址的自我描述标识</span></p>
    <p style="line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">IPLDtree：基于 JSON、Protobuf和路径导航的跨协议的数据模型</span></p>
    <p style="line-height:1.75em;"><span style="font-size:15px;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">IPLD</span><span style="font-size:15px;font-family:'等线';color:rgb(49,49,49);">&nbsp;</span><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">Resolvers: IPLD转换器，可以添加新的协议到IPLD里面</span></span></p>
   </blockquote>
   <p><br></p>
   <blockquote style="color:rgb(224,209,202);line-height:25px;font-weight:bold;text-align:left;border-width:0px;background-color:rgb(107,77,64);">
    Multiformats
   </blockquote>
   <blockquote style="border-width:0px;border-style:none;background-color:rgb(239,239,239);line-height:25px;">
    <p style="color:inherit;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(0,82,255);">Multiformats是一系列协议的集合</span><span style="color:rgb(49,49,49);font-family:'微软雅黑', sans-serif;font-size:15px;">，它在现有协议基础上对值（值：通常是具有某一项表达意义的）进行自我描述改造，即从值上就可以知道该值是如何产生的。</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">当前multiformats协议里面包含以下协议。</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multihash- self-describing hashes</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multiaddr- self-describing network addresses</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multibase- self-describing base encodings</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multicodec - self-describingserialization</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multistream- self-describing stream network protocols</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multigram(WIP) - self-describing packet network protocols</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">通常情况下我们使用的哈希计算方法都是某一种实现方式，比如sha1，sha2-256等。哈希计算在软件工程里面几乎随处可见，特别是区块链项，multiformats将所有的哈希值计算统一成同样的格式，为系统开发带来很多好处</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">以multihash为例：</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">升级后的哈希值的结构为：</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">&lt;hash-func-type&gt;&lt;digest-length&gt;&lt;digest-value&gt;</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">&lt;哈希函数类型&gt;&lt;摘要长度&gt;&lt;摘要值&gt;</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">有一个使用sha2-256函数生成的哈希值（如下），其长度为32（16进制0x20）：</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">41dd7b6443542e75701aa98a0c235951a28a0d851b11564d20022ab11d2589a8</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">规定sha2-256的代表数字为12(16进制)，于是得出来新的哈希值：</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">122041dd7b6443542e75701aa98a0c235951a28a0d851b11564d20022ab11d2589a8</span></p>
    <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">新的哈希值具有自我描述性质，它说明了自己是怎么来的</span></p>
   </blockquote>
   <p><br></p>IPFS应用及意义
   <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(165,200,255);"><strong>可以为内容创作带来一定的自由</strong></span></p>
   <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;text-decoration:underline;">代表应用：</span></p>
   <p style="text-align:left;line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">Akasha（ https://blog.akasha.world ）是一个基于以太坊和IPFS的</span><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(0,82,255);">社交博客创作平台</span><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">，用户创作的博客内容通过一个IPFS网络进行发布，而非中心服务器。</span></p>
   <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;">同时，用户和以太坊钱包账户进行绑定，用户可以对优质内容进行ETH打赏，内容创作者能以此赚取ETH，如同人脑挖矿一样。它没有太多监管的限制，也没有中间商抽成，内容收益直接归创作者所有。</span></p>
   <p style="text-align:left;line-height:1.75em;"><strong><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(165,200,255);">可以降低存储和带宽成本</span></strong></p>
   <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;text-decoration:underline;">代表应用：</span></p>
   <p style="text-align:left;line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">Dtube（https://d.tube）是一个搭建在Steemit上的</span><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(0,82,255);">去中心化视频播放平台</span><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">，其用户上传的视频文件都经过IPFS协议进行存储，具有唯一标识。相较于传统视频网站，它降低了同资源冗余程度，同时大大节约了海量用户在播放视频时所产生的带宽成本。</span></p>
   <p style="text-align:left;line-height:1.75em;"><strong><span style="font-family:'微软雅黑', sans-serif;font-size:15px;color:rgb(165,200,255);">可以与区块链完美结合</span></strong></p>
   <p style="text-align:left;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);font-size:15px;text-decoration:underline;">代表应用：</span></p>
   <p style="text-align:left;line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">EOS引以为傲的是可以支持百万级别TPS的并发量，其中除了DPOS共识机制的功劳之外，还归功于其底层存储设计是采取IPFS来解决大型数据的传输效率。</span></p>
   <p style="text-align:left;line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);">EOS将自己打包好的区块数据通过IPLD进行异构处理，统一成一种便于内容寻址的数据结构类型，并挂载到IPFS的link上，让IPFS网络承担存储和P2P检索的逻辑，而不消耗EOS区块链系统本身太多的计算资源。</span></p>
   <p style="text-align:center;line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);"><img style="width:300px;" title="分割线" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_png/3xsFRgx4kHroUjZT1j6QlVglwGZb42gdKicVEwV9co9yhKt3SzA7AicPI5tx9oQ69pOM1ibmibCwO0ibcBr9JicOR0xg/640?wx_fmt=png" alt="640?wx_fmt=png"></span></p>
   <p style="text-align:right;line-height:1.75em;"><span style="font-family:'微软雅黑', sans-serif;font-size:14px;color:rgb(178,178,178);">编辑/雪人</span></p>
   <p style="text-align:center;line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);"></span></p>
   <p><img class="img_loading" style="width:670px;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/3xsFRgx4kHqRrz3icuH7dpIufmnj5MZmibUjY7sFaWicyI0XGqUGHjeQ5hcrMLONH0jMb2ZzhwEAdzLusoKrj3S5A/640?wx_fmt=jpeg" alt="640?wx_fmt=jpeg"></p>
   <p style="text-align:center;line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);"></span></p>
   <p><img class="img_loading" style="width:670px;" src="https://ss.csdn.net/p?https://mmbiz.qpic.cn/mmbiz_jpg/3xsFRgx4kHr9J4LmpHdocOOiaa89ia05jNRQFS77ky53Me4RSZRC6gFkJuzF3J04EXMkCKWicOM6nMtqib0PgwZKrQ/640?wx_fmt=jpeg" alt="640?wx_fmt=jpeg"></p>
   <p style="text-align:center;line-height:1.75em;"><span style="font-size:15px;font-family:'微软雅黑', sans-serif;color:rgb(49,49,49);"></span></p>
   <p style="font-size:15.5556px;min-height:1.5em;line-height:2em;color:rgb(254,254,254);text-align:center;background-color:rgb(128,177,53);">↓↓↓ 点击"阅读原文" 【查看视频回放】&nbsp;&nbsp;</p>
  </div> 
 </div> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/k6T9Q8XKs6iIkZPPIFq/article/details/79988766,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/k6T9Q8XKs6iIkZPPIFq/article/details/79988766,&quot;}">阅读更多</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?ee64533f3c6a7a284cd39a37ee732c8b";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
