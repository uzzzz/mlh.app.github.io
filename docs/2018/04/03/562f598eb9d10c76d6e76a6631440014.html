<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>阿里云容器服务区块链解决方案全新升级 支持Hyperledger Fabric v1.1 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="阿里云容器服务区块链解决方案全新升级 支持Hyperledger Fabric v1.1" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="摘要： 全球开源区块链领域影响最为广泛的Hyperledger Fabric日前宣布了1.1版本的正式发布，带来了一系列丰富的新功能以及在安全性、性能与扩展性等方面的显著提升。阿里云容器服务区块链解决方案第一时间同步升级，在v1.1新功能的基础上，提供了弹性裸金属服务器（神龙）、内置容器化Explorer、集成阿里云日志服务等方面的增强。 作为全球开源区块链领域影响最为广泛的项目之一，超级账本近日宣布了Hyperledger Fabric v1.1的正式发布。此次升级带来了一系列丰富的新功能以及在安全性、性能与扩展性等诸多方面的显著提升。更多详情可参考下述资料： Hyperledger Fabric&nbsp;v1.1官方发布博客：https://www.hyperledger.org/blog/2018/03/20/hyperledger-fabric-v1-1-released Hyperledger Fabric GitHub源代码项目：https://github.com/hyperledger/fabric Hyperledger&nbsp;Fabric项目路线图：https://wiki.hyperledger.org/projects/fabric/roadmap 与此同时，作为对开源区块链生态的支持，阿里云容器服务区块链解决方案也进行了同步升级。这次升级不仅第一时间在Kubernetes集群上支持Hyperledger Fabric v1.1.0 GA版，并且在以下几个方面带来了新的功能增强和使用体验的优化： 支持新的Node.js类型chaincode和相关示例，以及在国内云环境落地的适配 支持chaincode级别的账本数据加密新功能和相关示例 支持新的connection profile和自动生成功能 以及其他Hyperledger Fabric v1.1新功能的支持 支持阿里云弹性裸金属服务器（神龙） 内置容器化的Hyperledger Blockchain Explorer 集成阿里云日志服务 优化区块链网络删除过程的数据目录清理 本文将对这些主要新功能进行技术方面的解读。在开始之前，我们准备了一段小视频，可以让大家快速了解在阿里云容器服务Kubernetes环境中使用该区块链解决方案的大致流程。 新功能：Node.js类型Chaincode支持 在此次Hyperledger Fabric v1.1的升级中，在原有的Golang类型之上（Java类型尚未正式宣布支持），加入了对流行的Node.js编程语言类型的智能合约（即chaincode）的支持。这将进一步扩大和丰富Hyperledger Fabric的应用开发生态，吸引更多的开发者加入到区块链应用的创新中来。 在此基础上，通过对Fabric的源代码分析，我们在区块链解决方案中解决了在国内网络环境中可能遇到的Node.js类型chaincode实例化(instantiation)过程超时失败、chaincode镜像无法创建的局限性。 如需体验Node.js类型的chaincode，可采用CLI方式或者Client SDK方式，通过参数指定chaincode语言类型即可。解决方案中提供了基于官方cli-test.sh的示例脚本、以及基于官方的balance-transfer的client SDK示例程序。 CLI方式的Node.js类型chaincode示例&nbsp; Node.js类型示例chaincode源代码位置：&nbsp; SDK方式的Node.js类型chaincode示例&nbsp; 需要说明的是，由于Node.js应用自身编译构建的特点，Hyperledger Fabric中Node.js类型的chaincode实例化（instantiation）时间相比Golang类型的要更长，所以在这个环节需要稍作等待。 新功能：Chaincode级别对账本数据的加密和签名 Hyperledger Fabric v1.1新增支持在chaincode级别对交易的数据（即StateDB里Key-Value中的Value，通过调用chaincode时传入）进行加密/解密、签名/验证。这样能实现业务应用将商业敏感数据交给区块链之后，数据全程（包括落地到账本）在原有的安全机制之上进一步添加了标准的或用户可扩展的加密算法和签名算法的保护，进一步提高了数据的安全性。 关于此功能的的官方文档介绍可参考：&nbsp;http://hyperledger-fabric.readthedocs.io/en/latest/chaincode4ade.html?highlight=chaincode%20encryption#chaincode-encryption 在容器服务的区块链解决方案中，我们提供了官方的EncCC示例程序用于在CLI环境中运行，方便用户了解此功能的使用和工作机制。在该示例中，首先对键”key1”的值“value1”进行加密并记录到账本上；然后读取键”key1”并解密其值，输出显示”value1”；接着，再对键“key2”的值”value2”进行加密以及数字签名并记录到账本上，最后读取键“key2”并解密、验证签名得到最终值，输出显示”value2”。 需要说明的是，使用该CLI示例程序之前，请先创建对应的channel（例如通过运行cli-tset.sh）。 示例程序源代码参考：&nbsp;https://github.com/hyperledger/fabric/tree/release-1.1/examples/chaincode/go/enccc_example 新功能：Connection Profile用于Client SDK应用程序 针对不同类型的区块链应用程序有着各不相同的对区块链网络拓扑和连接信息的描述方式的问题，为了提供更为统一规范的应用连接配置，Hyperledger Fabric v1.1开始支持Connection Profile, 目前主要面向Node.js类型的Client SDK应用程序，未来有望推广到更多类型的SDK应用上。 在此次区块链方案升级中，也同步支持此功能，并且能够根据用户输入的区块链网络拓扑配置（channel, peer, orderer, ca等）、公网访问地址和端口等信息，自动生成Connection Profile应用连接配置文件（即network-config.yaml)并提供给用户下载。而在我们的Client SDK示例balancer-transfer-app中也通过一个脚本实现一键下载所有证书密钥以及Connection Profile等配置文件。 解决方案自动生成的Connection Profile的位置和部分内容示例如下： 如需进一步了解Connection Profile各字段的说明，可参考以下文档：&nbsp;https://github.com/hyperledger/fabric-samples/blob/release-1.1/balance-transfer/artifacts/network-config.yaml 新功能：支持阿里云弹性裸金属服务器（神龙） 此次区块链解决方案升级正式支持在阿里云弹性裸金属服务器（神龙）运行Hyperledger Fabric。阿里云弹性裸金属服务器可提供与普通物理机无差别的高计算性能，同时还提供物理机级别的安全隔离。这些特性为提升基于区块链业务系统的安全风险防范能力、加强对数据和隐私的保护等方面带来了坚实的运行环境保证。在此基础上，弹性裸金属服务器的高计算性能和弹性水平伸缩能力，结合Hyperledger Fabric代价级的性能和扩展性方面的提升，有望进一步提升区块链应用和系统的业务处理能力。 从使用方式上，我们提供了基本无缝支持的体验，用户只需在创建容器服务Kubernetes集群中选择弹性裸金属服务器（现阶段需用户提前通过工单开通弹性裸金属服务器的按量付费类型选择的白名单）作为worker节点；然后按照标准的区块链解决方案的创建部署流程操作即可。 新功能：内置容器化的区块链浏览器 区块链解决方案支持基于标准SDK开发的区块链管控工具、浏览器等与区块链网络连接。在此次升级中，区块链解决方案进一步地将Hyperledger官方开源的Blockchain Explorer&nbsp;进行了容器化改造，实现了Explorer本身以及其所依赖的MySQL数据库作为Kubernetes的service和deployment内置于解决方案中（默认启用，可设置禁用），随着区块链网络的创建实现自动配置、部署、启动和通过负载均衡（SLB)对外提供Web图形化的区块链网络业务交易监控服务。 需要说明的是，区块链浏览器的使用前提是先创建出channel（如通过cli-test.sh）。 新功能：集成阿里云日志服务 区块链解决方案原生支持容器服务控制台的日志功能，以及Kubernetes的kubectl logs命令查看功能。利用前者可以在Web界面上便捷地查看区块链网络中Peer、Orderer、CA、Kafka、Zookeeper等节点的容器日志信息，一个示例如下： 在此基础上，最新版的容器服务解决方案进一步支持与阿里云日志服务进行集成，为企业客户提供如日志存储、实时索引/查询/分析、日志告警、可视化报表等更高级的日志功能。集成的关键参数可在创建部署区块链网络的页面进行直接设置，具体使用方法可参考该方案的产品文档。 在阿里云日志服务控制台查询和分析日志的效果如下图所示。关于日志服务完整的查询分析语法以及更多高级功能说明， 可参考日志服务的产品文档。 新功能：删除流程数据目录处理优化 考虑到部分区块链解决方案的用户在开发测试环境需要频繁创建和删除区块链网络，为了进一步提升效率，这次方案升级优化了对数据目录清理的优化。具体来说，当区块链网络被删除（例如使用helm delete命令）的同时，相应的数据目录名会被自动添加以下后缀：-deleted-当前时间戳。之所以不直接删除，主要是为了防范人为误操作的风险，以及满足部分用户希望复用原有数据的目的。 假设原数据目录为： /data/fabric/network01 则区块链网络删除后，数据目录会被重命名为类似如下的名字： /data/fabric/network01-deleted-2018-03-21-041756 这样便能进一步优化用户的区块链创建-删除-创建流程上的操作体验了（因为有用户需要频繁进行此类操作进行开发调试）。此外，如需彻底清理数据目录以释放存储空间，可手工运行rm命令或结合自动化脚本很方便地实现。 总结 容器服务区块链解决方案自2017年10月正式发布以来，获得了为数众多的开发者和来自零售、金融、制造、多媒体等行业的企业用户的认可和采用，基于解决方案提供的企业级区块链开发测试环境快速地进行基于区块链的业务创新应用的打造。随着此次Hyperledger Fabric v1.1和区块链解决方案的升级，将进一步帮助我们的用户打造功能更完备、性能更高、安全性更强、易用性更好的企业级区块链业务应用。 原文链接 阅读更多干货好文，请关注扫描以下二维码： 阅读更多" />
<meta property="og:description" content="摘要： 全球开源区块链领域影响最为广泛的Hyperledger Fabric日前宣布了1.1版本的正式发布，带来了一系列丰富的新功能以及在安全性、性能与扩展性等方面的显著提升。阿里云容器服务区块链解决方案第一时间同步升级，在v1.1新功能的基础上，提供了弹性裸金属服务器（神龙）、内置容器化Explorer、集成阿里云日志服务等方面的增强。 作为全球开源区块链领域影响最为广泛的项目之一，超级账本近日宣布了Hyperledger Fabric v1.1的正式发布。此次升级带来了一系列丰富的新功能以及在安全性、性能与扩展性等诸多方面的显著提升。更多详情可参考下述资料： Hyperledger Fabric&nbsp;v1.1官方发布博客：https://www.hyperledger.org/blog/2018/03/20/hyperledger-fabric-v1-1-released Hyperledger Fabric GitHub源代码项目：https://github.com/hyperledger/fabric Hyperledger&nbsp;Fabric项目路线图：https://wiki.hyperledger.org/projects/fabric/roadmap 与此同时，作为对开源区块链生态的支持，阿里云容器服务区块链解决方案也进行了同步升级。这次升级不仅第一时间在Kubernetes集群上支持Hyperledger Fabric v1.1.0 GA版，并且在以下几个方面带来了新的功能增强和使用体验的优化： 支持新的Node.js类型chaincode和相关示例，以及在国内云环境落地的适配 支持chaincode级别的账本数据加密新功能和相关示例 支持新的connection profile和自动生成功能 以及其他Hyperledger Fabric v1.1新功能的支持 支持阿里云弹性裸金属服务器（神龙） 内置容器化的Hyperledger Blockchain Explorer 集成阿里云日志服务 优化区块链网络删除过程的数据目录清理 本文将对这些主要新功能进行技术方面的解读。在开始之前，我们准备了一段小视频，可以让大家快速了解在阿里云容器服务Kubernetes环境中使用该区块链解决方案的大致流程。 新功能：Node.js类型Chaincode支持 在此次Hyperledger Fabric v1.1的升级中，在原有的Golang类型之上（Java类型尚未正式宣布支持），加入了对流行的Node.js编程语言类型的智能合约（即chaincode）的支持。这将进一步扩大和丰富Hyperledger Fabric的应用开发生态，吸引更多的开发者加入到区块链应用的创新中来。 在此基础上，通过对Fabric的源代码分析，我们在区块链解决方案中解决了在国内网络环境中可能遇到的Node.js类型chaincode实例化(instantiation)过程超时失败、chaincode镜像无法创建的局限性。 如需体验Node.js类型的chaincode，可采用CLI方式或者Client SDK方式，通过参数指定chaincode语言类型即可。解决方案中提供了基于官方cli-test.sh的示例脚本、以及基于官方的balance-transfer的client SDK示例程序。 CLI方式的Node.js类型chaincode示例&nbsp; Node.js类型示例chaincode源代码位置：&nbsp; SDK方式的Node.js类型chaincode示例&nbsp; 需要说明的是，由于Node.js应用自身编译构建的特点，Hyperledger Fabric中Node.js类型的chaincode实例化（instantiation）时间相比Golang类型的要更长，所以在这个环节需要稍作等待。 新功能：Chaincode级别对账本数据的加密和签名 Hyperledger Fabric v1.1新增支持在chaincode级别对交易的数据（即StateDB里Key-Value中的Value，通过调用chaincode时传入）进行加密/解密、签名/验证。这样能实现业务应用将商业敏感数据交给区块链之后，数据全程（包括落地到账本）在原有的安全机制之上进一步添加了标准的或用户可扩展的加密算法和签名算法的保护，进一步提高了数据的安全性。 关于此功能的的官方文档介绍可参考：&nbsp;http://hyperledger-fabric.readthedocs.io/en/latest/chaincode4ade.html?highlight=chaincode%20encryption#chaincode-encryption 在容器服务的区块链解决方案中，我们提供了官方的EncCC示例程序用于在CLI环境中运行，方便用户了解此功能的使用和工作机制。在该示例中，首先对键”key1”的值“value1”进行加密并记录到账本上；然后读取键”key1”并解密其值，输出显示”value1”；接着，再对键“key2”的值”value2”进行加密以及数字签名并记录到账本上，最后读取键“key2”并解密、验证签名得到最终值，输出显示”value2”。 需要说明的是，使用该CLI示例程序之前，请先创建对应的channel（例如通过运行cli-tset.sh）。 示例程序源代码参考：&nbsp;https://github.com/hyperledger/fabric/tree/release-1.1/examples/chaincode/go/enccc_example 新功能：Connection Profile用于Client SDK应用程序 针对不同类型的区块链应用程序有着各不相同的对区块链网络拓扑和连接信息的描述方式的问题，为了提供更为统一规范的应用连接配置，Hyperledger Fabric v1.1开始支持Connection Profile, 目前主要面向Node.js类型的Client SDK应用程序，未来有望推广到更多类型的SDK应用上。 在此次区块链方案升级中，也同步支持此功能，并且能够根据用户输入的区块链网络拓扑配置（channel, peer, orderer, ca等）、公网访问地址和端口等信息，自动生成Connection Profile应用连接配置文件（即network-config.yaml)并提供给用户下载。而在我们的Client SDK示例balancer-transfer-app中也通过一个脚本实现一键下载所有证书密钥以及Connection Profile等配置文件。 解决方案自动生成的Connection Profile的位置和部分内容示例如下： 如需进一步了解Connection Profile各字段的说明，可参考以下文档：&nbsp;https://github.com/hyperledger/fabric-samples/blob/release-1.1/balance-transfer/artifacts/network-config.yaml 新功能：支持阿里云弹性裸金属服务器（神龙） 此次区块链解决方案升级正式支持在阿里云弹性裸金属服务器（神龙）运行Hyperledger Fabric。阿里云弹性裸金属服务器可提供与普通物理机无差别的高计算性能，同时还提供物理机级别的安全隔离。这些特性为提升基于区块链业务系统的安全风险防范能力、加强对数据和隐私的保护等方面带来了坚实的运行环境保证。在此基础上，弹性裸金属服务器的高计算性能和弹性水平伸缩能力，结合Hyperledger Fabric代价级的性能和扩展性方面的提升，有望进一步提升区块链应用和系统的业务处理能力。 从使用方式上，我们提供了基本无缝支持的体验，用户只需在创建容器服务Kubernetes集群中选择弹性裸金属服务器（现阶段需用户提前通过工单开通弹性裸金属服务器的按量付费类型选择的白名单）作为worker节点；然后按照标准的区块链解决方案的创建部署流程操作即可。 新功能：内置容器化的区块链浏览器 区块链解决方案支持基于标准SDK开发的区块链管控工具、浏览器等与区块链网络连接。在此次升级中，区块链解决方案进一步地将Hyperledger官方开源的Blockchain Explorer&nbsp;进行了容器化改造，实现了Explorer本身以及其所依赖的MySQL数据库作为Kubernetes的service和deployment内置于解决方案中（默认启用，可设置禁用），随着区块链网络的创建实现自动配置、部署、启动和通过负载均衡（SLB)对外提供Web图形化的区块链网络业务交易监控服务。 需要说明的是，区块链浏览器的使用前提是先创建出channel（如通过cli-test.sh）。 新功能：集成阿里云日志服务 区块链解决方案原生支持容器服务控制台的日志功能，以及Kubernetes的kubectl logs命令查看功能。利用前者可以在Web界面上便捷地查看区块链网络中Peer、Orderer、CA、Kafka、Zookeeper等节点的容器日志信息，一个示例如下： 在此基础上，最新版的容器服务解决方案进一步支持与阿里云日志服务进行集成，为企业客户提供如日志存储、实时索引/查询/分析、日志告警、可视化报表等更高级的日志功能。集成的关键参数可在创建部署区块链网络的页面进行直接设置，具体使用方法可参考该方案的产品文档。 在阿里云日志服务控制台查询和分析日志的效果如下图所示。关于日志服务完整的查询分析语法以及更多高级功能说明， 可参考日志服务的产品文档。 新功能：删除流程数据目录处理优化 考虑到部分区块链解决方案的用户在开发测试环境需要频繁创建和删除区块链网络，为了进一步提升效率，这次方案升级优化了对数据目录清理的优化。具体来说，当区块链网络被删除（例如使用helm delete命令）的同时，相应的数据目录名会被自动添加以下后缀：-deleted-当前时间戳。之所以不直接删除，主要是为了防范人为误操作的风险，以及满足部分用户希望复用原有数据的目的。 假设原数据目录为： /data/fabric/network01 则区块链网络删除后，数据目录会被重命名为类似如下的名字： /data/fabric/network01-deleted-2018-03-21-041756 这样便能进一步优化用户的区块链创建-删除-创建流程上的操作体验了（因为有用户需要频繁进行此类操作进行开发调试）。此外，如需彻底清理数据目录以释放存储空间，可手工运行rm命令或结合自动化脚本很方便地实现。 总结 容器服务区块链解决方案自2017年10月正式发布以来，获得了为数众多的开发者和来自零售、金融、制造、多媒体等行业的企业用户的认可和采用，基于解决方案提供的企业级区块链开发测试环境快速地进行基于区块链的业务创新应用的打造。随着此次Hyperledger Fabric v1.1和区块链解决方案的升级，将进一步帮助我们的用户打造功能更完备、性能更高、安全性更强、易用性更好的企业级区块链业务应用。 原文链接 阅读更多干货好文，请关注扫描以下二维码： 阅读更多" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-04-03T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"摘要： 全球开源区块链领域影响最为广泛的Hyperledger Fabric日前宣布了1.1版本的正式发布，带来了一系列丰富的新功能以及在安全性、性能与扩展性等方面的显著提升。阿里云容器服务区块链解决方案第一时间同步升级，在v1.1新功能的基础上，提供了弹性裸金属服务器（神龙）、内置容器化Explorer、集成阿里云日志服务等方面的增强。 作为全球开源区块链领域影响最为广泛的项目之一，超级账本近日宣布了Hyperledger Fabric v1.1的正式发布。此次升级带来了一系列丰富的新功能以及在安全性、性能与扩展性等诸多方面的显著提升。更多详情可参考下述资料： Hyperledger Fabric&nbsp;v1.1官方发布博客：https://www.hyperledger.org/blog/2018/03/20/hyperledger-fabric-v1-1-released Hyperledger Fabric GitHub源代码项目：https://github.com/hyperledger/fabric Hyperledger&nbsp;Fabric项目路线图：https://wiki.hyperledger.org/projects/fabric/roadmap 与此同时，作为对开源区块链生态的支持，阿里云容器服务区块链解决方案也进行了同步升级。这次升级不仅第一时间在Kubernetes集群上支持Hyperledger Fabric v1.1.0 GA版，并且在以下几个方面带来了新的功能增强和使用体验的优化： 支持新的Node.js类型chaincode和相关示例，以及在国内云环境落地的适配 支持chaincode级别的账本数据加密新功能和相关示例 支持新的connection profile和自动生成功能 以及其他Hyperledger Fabric v1.1新功能的支持 支持阿里云弹性裸金属服务器（神龙） 内置容器化的Hyperledger Blockchain Explorer 集成阿里云日志服务 优化区块链网络删除过程的数据目录清理 本文将对这些主要新功能进行技术方面的解读。在开始之前，我们准备了一段小视频，可以让大家快速了解在阿里云容器服务Kubernetes环境中使用该区块链解决方案的大致流程。 新功能：Node.js类型Chaincode支持 在此次Hyperledger Fabric v1.1的升级中，在原有的Golang类型之上（Java类型尚未正式宣布支持），加入了对流行的Node.js编程语言类型的智能合约（即chaincode）的支持。这将进一步扩大和丰富Hyperledger Fabric的应用开发生态，吸引更多的开发者加入到区块链应用的创新中来。 在此基础上，通过对Fabric的源代码分析，我们在区块链解决方案中解决了在国内网络环境中可能遇到的Node.js类型chaincode实例化(instantiation)过程超时失败、chaincode镜像无法创建的局限性。 如需体验Node.js类型的chaincode，可采用CLI方式或者Client SDK方式，通过参数指定chaincode语言类型即可。解决方案中提供了基于官方cli-test.sh的示例脚本、以及基于官方的balance-transfer的client SDK示例程序。 CLI方式的Node.js类型chaincode示例&nbsp; Node.js类型示例chaincode源代码位置：&nbsp; SDK方式的Node.js类型chaincode示例&nbsp; 需要说明的是，由于Node.js应用自身编译构建的特点，Hyperledger Fabric中Node.js类型的chaincode实例化（instantiation）时间相比Golang类型的要更长，所以在这个环节需要稍作等待。 新功能：Chaincode级别对账本数据的加密和签名 Hyperledger Fabric v1.1新增支持在chaincode级别对交易的数据（即StateDB里Key-Value中的Value，通过调用chaincode时传入）进行加密/解密、签名/验证。这样能实现业务应用将商业敏感数据交给区块链之后，数据全程（包括落地到账本）在原有的安全机制之上进一步添加了标准的或用户可扩展的加密算法和签名算法的保护，进一步提高了数据的安全性。 关于此功能的的官方文档介绍可参考：&nbsp;http://hyperledger-fabric.readthedocs.io/en/latest/chaincode4ade.html?highlight=chaincode%20encryption#chaincode-encryption 在容器服务的区块链解决方案中，我们提供了官方的EncCC示例程序用于在CLI环境中运行，方便用户了解此功能的使用和工作机制。在该示例中，首先对键”key1”的值“value1”进行加密并记录到账本上；然后读取键”key1”并解密其值，输出显示”value1”；接着，再对键“key2”的值”value2”进行加密以及数字签名并记录到账本上，最后读取键“key2”并解密、验证签名得到最终值，输出显示”value2”。 需要说明的是，使用该CLI示例程序之前，请先创建对应的channel（例如通过运行cli-tset.sh）。 示例程序源代码参考：&nbsp;https://github.com/hyperledger/fabric/tree/release-1.1/examples/chaincode/go/enccc_example 新功能：Connection Profile用于Client SDK应用程序 针对不同类型的区块链应用程序有着各不相同的对区块链网络拓扑和连接信息的描述方式的问题，为了提供更为统一规范的应用连接配置，Hyperledger Fabric v1.1开始支持Connection Profile, 目前主要面向Node.js类型的Client SDK应用程序，未来有望推广到更多类型的SDK应用上。 在此次区块链方案升级中，也同步支持此功能，并且能够根据用户输入的区块链网络拓扑配置（channel, peer, orderer, ca等）、公网访问地址和端口等信息，自动生成Connection Profile应用连接配置文件（即network-config.yaml)并提供给用户下载。而在我们的Client SDK示例balancer-transfer-app中也通过一个脚本实现一键下载所有证书密钥以及Connection Profile等配置文件。 解决方案自动生成的Connection Profile的位置和部分内容示例如下： 如需进一步了解Connection Profile各字段的说明，可参考以下文档：&nbsp;https://github.com/hyperledger/fabric-samples/blob/release-1.1/balance-transfer/artifacts/network-config.yaml 新功能：支持阿里云弹性裸金属服务器（神龙） 此次区块链解决方案升级正式支持在阿里云弹性裸金属服务器（神龙）运行Hyperledger Fabric。阿里云弹性裸金属服务器可提供与普通物理机无差别的高计算性能，同时还提供物理机级别的安全隔离。这些特性为提升基于区块链业务系统的安全风险防范能力、加强对数据和隐私的保护等方面带来了坚实的运行环境保证。在此基础上，弹性裸金属服务器的高计算性能和弹性水平伸缩能力，结合Hyperledger Fabric代价级的性能和扩展性方面的提升，有望进一步提升区块链应用和系统的业务处理能力。 从使用方式上，我们提供了基本无缝支持的体验，用户只需在创建容器服务Kubernetes集群中选择弹性裸金属服务器（现阶段需用户提前通过工单开通弹性裸金属服务器的按量付费类型选择的白名单）作为worker节点；然后按照标准的区块链解决方案的创建部署流程操作即可。 新功能：内置容器化的区块链浏览器 区块链解决方案支持基于标准SDK开发的区块链管控工具、浏览器等与区块链网络连接。在此次升级中，区块链解决方案进一步地将Hyperledger官方开源的Blockchain Explorer&nbsp;进行了容器化改造，实现了Explorer本身以及其所依赖的MySQL数据库作为Kubernetes的service和deployment内置于解决方案中（默认启用，可设置禁用），随着区块链网络的创建实现自动配置、部署、启动和通过负载均衡（SLB)对外提供Web图形化的区块链网络业务交易监控服务。 需要说明的是，区块链浏览器的使用前提是先创建出channel（如通过cli-test.sh）。 新功能：集成阿里云日志服务 区块链解决方案原生支持容器服务控制台的日志功能，以及Kubernetes的kubectl logs命令查看功能。利用前者可以在Web界面上便捷地查看区块链网络中Peer、Orderer、CA、Kafka、Zookeeper等节点的容器日志信息，一个示例如下： 在此基础上，最新版的容器服务解决方案进一步支持与阿里云日志服务进行集成，为企业客户提供如日志存储、实时索引/查询/分析、日志告警、可视化报表等更高级的日志功能。集成的关键参数可在创建部署区块链网络的页面进行直接设置，具体使用方法可参考该方案的产品文档。 在阿里云日志服务控制台查询和分析日志的效果如下图所示。关于日志服务完整的查询分析语法以及更多高级功能说明， 可参考日志服务的产品文档。 新功能：删除流程数据目录处理优化 考虑到部分区块链解决方案的用户在开发测试环境需要频繁创建和删除区块链网络，为了进一步提升效率，这次方案升级优化了对数据目录清理的优化。具体来说，当区块链网络被删除（例如使用helm delete命令）的同时，相应的数据目录名会被自动添加以下后缀：-deleted-当前时间戳。之所以不直接删除，主要是为了防范人为误操作的风险，以及满足部分用户希望复用原有数据的目的。 假设原数据目录为： /data/fabric/network01 则区块链网络删除后，数据目录会被重命名为类似如下的名字： /data/fabric/network01-deleted-2018-03-21-041756 这样便能进一步优化用户的区块链创建-删除-创建流程上的操作体验了（因为有用户需要频繁进行此类操作进行开发调试）。此外，如需彻底清理数据目录以释放存储空间，可手工运行rm命令或结合自动化脚本很方便地实现。 总结 容器服务区块链解决方案自2017年10月正式发布以来，获得了为数众多的开发者和来自零售、金融、制造、多媒体等行业的企业用户的认可和采用，基于解决方案提供的企业级区块链开发测试环境快速地进行基于区块链的业务创新应用的打造。随着此次Hyperledger Fabric v1.1和区块链解决方案的升级，将进一步帮助我们的用户打造功能更完备、性能更高、安全性更强、易用性更好的企业级区块链业务应用。 原文链接 阅读更多干货好文，请关注扫描以下二维码： 阅读更多","@type":"BlogPosting","url":"/2018/04/03/562f598eb9d10c76d6e76a6631440014.html","headline":"阿里云容器服务区块链解决方案全新升级 支持Hyperledger Fabric v1.1","dateModified":"2018-04-03T00:00:00+08:00","datePublished":"2018-04-03T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/2018/04/03/562f598eb9d10c76d6e76a6631440014.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-1');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>阿里云容器服务区块链解决方案全新升级 支持Hyperledger Fabric v1.1</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css"> 
 <div class="htmledit_views"> 
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">摘要： 全球开源区块链领域影响最为广泛的Hyperledger Fabric日前宣布了1.1版本的正式发布，带来了一系列丰富的新功能以及在安全性、性能与扩展性等方面的显著提升。阿里云容器服务区块链解决方案第一时间同步升级，在v1.1新功能的基础上，提供了弹性裸金属服务器（神龙）、内置容器化Explorer、集成阿里云日志服务等方面的增强。</p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">作为全球开源区块链领域影响最为广泛的项目之一，超级账本近日宣布了Hyperledger Fabric v1.1的正式发布。此次升级带来了一系列丰富的新功能以及在安全性、性能与扩展性等诸多方面的显著提升。更多详情可参考下述资料：</p>
  <ul style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">
   <li>Hyperledger Fabric&nbsp;<br>v1.1官方发布博客：<a href="https://www.hyperledger.org/blog/2018/03/20/hyperledger-fabric-v1-1-released" rel="nofollow" style="background-color:transparent;color:rgb(51,122,183);">https://www.hyperledger.org/blog/2018/03/20/hyperledger-fabric-v1-1-released</a></li>
   <li>Hyperledger Fabric GitHub源代码项目：<a href="https://github.com/hyperledger/fabric" rel="nofollow" style="background-color:transparent;color:rgb(51,122,183);">https://github.com/hyperledger/fabric</a></li>
   <li>Hyperledger&nbsp;<br>Fabric项目路线图：<a href="https://wiki.hyperledger.org/projects/fabric/roadmap" rel="nofollow" style="background-color:transparent;color:rgb(51,122,183);">https://wiki.hyperledger.org/projects/fabric/roadmap</a></li>
  </ul>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">与此同时，作为对开源区块链生态的支持，阿里云容器服务区块链解决方案也进行了同步升级。这次升级不仅第一时间在Kubernetes集群上支持Hyperledger Fabric v1.1.0 GA版，并且在以下几个方面带来了新的功能增强和使用体验的优化：</p>
  <ul style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">
   <li>支持新的Node.js类型chaincode和相关示例，以及在国内云环境落地的适配</li>
   <li>支持chaincode级别的账本数据加密新功能和相关示例</li>
   <li>支持新的connection profile和自动生成功能</li>
   <li>以及其他Hyperledger Fabric v1.1新功能的支持</li>
   <li>支持阿里云弹性裸金属服务器（神龙）</li>
   <li>内置容器化的Hyperledger Blockchain Explorer</li>
   <li>集成阿里云日志服务</li>
   <li>优化区块链网络删除过程的数据目录清理</li>
  </ul>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">本文将对这些主要新功能进行技术方面的解读。在开始之前，我们准备了一段小视频，可以让大家快速了解在阿里云容器服务Kubernetes环境中使用该区块链解决方案的大致流程。</p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180403144608996?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveXVucWlpbnNpZ2h0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="图片描述" title="" style="border:0px;vertical-align:middle;"></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><span style="font-weight:700;">新功能：Node.js类型Chaincode支持</span></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">在此次Hyperledger Fabric v1.1的升级中，在原有的Golang类型之上（Java类型尚未正式宣布支持），加入了对流行的Node.js编程语言类型的智能合约（即chaincode）的支持。这将进一步扩大和丰富Hyperledger Fabric的应用开发生态，吸引更多的开发者加入到区块链应用的创新中来。</p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">在此基础上，通过对Fabric的源代码分析，我们在区块链解决方案中解决了在国内网络环境中可能遇到的Node.js类型chaincode实例化(instantiation)过程超时失败、chaincode镜像无法创建的局限性。</p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">如需体验Node.js类型的chaincode，可采用CLI方式或者Client SDK方式，通过参数指定chaincode语言类型即可。解决方案中提供了基于官方cli-test.sh的示例脚本、以及基于官方的balance-transfer的client SDK示例程序。</p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">CLI方式的Node.js类型chaincode示例&nbsp;<br><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180403144756654?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveXVucWlpbnNpZ2h0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="图片描述" title="" style="border:0px;vertical-align:middle;"></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180403144817211?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveXVucWlpbnNpZ2h0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="图片描述" title="" style="border:0px;vertical-align:middle;"></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">Node.js类型示例chaincode源代码位置：&nbsp;<br><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180403144848643?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveXVucWlpbnNpZ2h0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="图片描述" title="" style="border:0px;vertical-align:middle;"></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">SDK方式的Node.js类型chaincode示例&nbsp;<br><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180403144910946?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveXVucWlpbnNpZ2h0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="图片描述" title="" style="border:0px;vertical-align:middle;"></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180403144931054?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveXVucWlpbnNpZ2h0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="图片描述" title="" style="border:0px;vertical-align:middle;"></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180403144950225?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveXVucWlpbnNpZ2h0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="图片描述" title="" style="border:0px;vertical-align:middle;"></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">需要说明的是，由于Node.js应用自身编译构建的特点，Hyperledger Fabric中Node.js类型的chaincode实例化（instantiation）时间相比Golang类型的要更长，所以在这个环节需要稍作等待。</p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><span style="font-weight:700;">新功能：Chaincode级别对账本数据的加密和签名</span></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">Hyperledger Fabric v1.1新增支持在chaincode级别对交易的数据（即StateDB里Key-Value中的Value，通过调用chaincode时传入）进行加密/解密、签名/验证。这样能实现业务应用将商业敏感数据交给区块链之后，数据全程（包括落地到账本）在原有的安全机制之上进一步添加了标准的或用户可扩展的加密算法和签名算法的保护，进一步提高了数据的安全性。</p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">关于此功能的的官方文档介绍可参考：&nbsp;<br><a href="http://hyperledger-fabric.readthedocs.io/en/latest/chaincode4ade.html?highlight=chaincode%20encryption#chaincode-encryption" rel="nofollow" style="background-color:transparent;color:rgb(51,122,183);">http://hyperledger-fabric.readthedocs.io/en/latest/chaincode4ade.html?highlight=chaincode%20encryption#chaincode-encryption</a></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">在容器服务的区块链解决方案中，我们提供了官方的EncCC示例程序用于在CLI环境中运行，方便用户了解此功能的使用和工作机制。在该示例中，首先对键”key1”的值“value1”进行加密并记录到账本上；然后读取键”key1”并解密其值，输出显示”value1”；接着，再对键“key2”的值”value2”进行加密以及数字签名并记录到账本上，最后读取键“key2”并解密、验证签名得到最终值，输出显示”value2”。</p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">需要说明的是，使用该CLI示例程序之前，请先创建对应的channel（例如通过运行cli-tset.sh）。</p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">示例程序源代码参考：&nbsp;<br><a href="https://github.com/hyperledger/fabric/tree/release-1.1/examples/chaincode/go/enccc_example" rel="nofollow" style="background-color:transparent;color:rgb(51,122,183);">https://github.com/hyperledger/fabric/tree/release-1.1/examples/chaincode/go/enccc_example</a></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180403145022418?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveXVucWlpbnNpZ2h0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="图片描述" title="" style="border:0px;vertical-align:middle;"></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180403145057099?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveXVucWlpbnNpZ2h0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="图片描述" title="" style="border:0px;vertical-align:middle;"></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180403145122491?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveXVucWlpbnNpZ2h0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="图片描述" title="" style="border:0px;vertical-align:middle;"></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><span style="font-weight:700;">新功能：Connection Profile用于Client SDK应用程序</span></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">针对不同类型的区块链应用程序有着各不相同的对区块链网络拓扑和连接信息的描述方式的问题，为了提供更为统一规范的应用连接配置，Hyperledger Fabric v1.1开始支持Connection Profile, 目前主要面向Node.js类型的Client SDK应用程序，未来有望推广到更多类型的SDK应用上。</p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">在此次区块链方案升级中，也同步支持此功能，并且能够根据用户输入的区块链网络拓扑配置（channel, peer, orderer, ca等）、公网访问地址和端口等信息，自动生成Connection Profile应用连接配置文件（即network-config.yaml)并提供给用户下载。而在我们的Client SDK示例<a href="https://github.com/AliyunContainerService/solution-blockchain-demo/tree/master/balance-transfer-app?spm=a2c4e.11153959.blogcont563496.21.7f10922en4pPqN" rel="nofollow" style="background-color:transparent;color:rgb(51,122,183);">balancer-transfer-app</a>中也通过一个<a href="https://github.com/AliyunContainerService/solution-blockchain-demo/blob/master/balance-transfer-app/download-from-fabric-network.sh?spm=a2c4e.11153959.blogcont563496.22.7f10922en4pPqN&amp;file=download-from-fabric-network.sh" rel="nofollow" style="background-color:transparent;color:rgb(51,122,183);">脚本</a>实现一键下载所有证书密钥以及Connection Profile等配置文件。</p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">解决方案自动生成的Connection Profile的位置和部分内容示例如下：</p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180403145220636?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveXVucWlpbnNpZ2h0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="图片描述" title="" style="border:0px;vertical-align:middle;"></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">如需进一步了解Connection Profile各字段的说明，可参考以下文档：&nbsp;<br><a href="https://github.com/hyperledger/fabric-samples/blob/release-1.1/balance-transfer/artifacts/network-config.yaml" rel="nofollow" style="background-color:transparent;color:rgb(51,122,183);">https://github.com/hyperledger/fabric-samples/blob/release-1.1/balance-transfer/artifacts/network-config.yaml</a></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><span style="font-weight:700;">新功能：支持阿里云弹性裸金属服务器（神龙）</span></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">此次区块链解决方案升级正式支持在<a href="https://www.aliyun.com/product/ebm?spm=a2c4e.11153959.blogcont563496.24.7f10922en4pPqN" rel="nofollow" style="background-color:transparent;color:rgb(51,122,183);">阿里云弹性裸金属服务器（神龙）</a>运行Hyperledger Fabric。阿里云弹性裸金属服务器可提供与普通物理机无差别的高计算性能，同时还提供物理机级别的安全隔离。这些特性为提升基于区块链业务系统的安全风险防范能力、加强对数据和隐私的保护等方面带来了坚实的运行环境保证。在此基础上，弹性裸金属服务器的高计算性能和弹性水平伸缩能力，结合Hyperledger Fabric代价级的性能和扩展性方面的提升，有望进一步提升区块链应用和系统的业务处理能力。</p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">从使用方式上，我们提供了基本无缝支持的体验，用户只需在创建容器服务Kubernetes集群中选择弹性裸金属服务器（现阶段需用户提前通过工单开通弹性裸金属服务器的按量付费类型选择的白名单）作为worker节点；然后按照标准的区块链解决方案的创建部署流程操作即可。</p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><span style="font-weight:700;">新功能：内置容器化的区块链浏览器</span></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">区块链解决方案支持基于标准SDK开发的区块链管控工具、浏览器等与区块链网络连接。在此次升级中，区块链解决方案进一步地将Hyperledger官方开源的<a href="https://github.com/hyperledger/blockchain-explorer?spm=a2c4e.11153959.blogcont563496.25.7f10922en4pPqN" rel="nofollow" style="background-color:transparent;color:rgb(51,122,183);">Blockchain Explorer</a>&nbsp;进行了容器化改造，实现了Explorer本身以及其所依赖的MySQL数据库作为Kubernetes的service和deployment内置于解决方案中（默认启用，可设置禁用），随着区块链网络的创建实现自动配置、部署、启动和通过负载均衡（SLB)对外提供Web图形化的区块链网络业务交易监控服务。</p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180403145337809?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveXVucWlpbnNpZ2h0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="图片描述" title="" style="border:0px;vertical-align:middle;"></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180403145422106?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveXVucWlpbnNpZ2h0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="图片描述" title="" style="border:0px;vertical-align:middle;"></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180403145441459?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveXVucWlpbnNpZ2h0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="图片描述" title="" style="border:0px;vertical-align:middle;"></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">需要说明的是，区块链浏览器的使用前提是先创建出channel（如通过cli-test.sh）。</p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><span style="font-weight:700;">新功能：集成阿里云日志服务</span></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">区块链解决方案原生支持容器服务控制台的日志功能，以及Kubernetes的kubectl logs命令查看功能。利用前者可以在Web界面上便捷地查看区块链网络中Peer、Orderer、CA、Kafka、Zookeeper等节点的容器日志信息，一个示例如下：</p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180403145546014?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveXVucWlpbnNpZ2h0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="图片描述" title="" style="border:0px;vertical-align:middle;"></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180403145616884?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveXVucWlpbnNpZ2h0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="图片描述" title="" style="border:0px;vertical-align:middle;"></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">在此基础上，最新版的容器服务解决方案进一步支持与阿里云日志服务进行集成，为企业客户提供如日志存储、实时索引/查询/分析、日志告警、可视化报表等更高级的日志功能。集成的关键参数可在创建部署区块链网络的页面进行直接设置，具体使用方法可参考该方案的产品文档。</p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180403145646701?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveXVucWlpbnNpZ2h0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="图片描述" title="" style="border:0px;vertical-align:middle;"></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">在阿里云日志服务控制台查询和分析日志的效果如下图所示。关于日志服务完整的查询分析语法以及更多高级功能说明， 可参考日志服务的<a href="https://help.aliyun.com/document_detail/29060.html?spm=a2c4e.11153959.blogcont563496.26.7f10922en4pPqN" rel="nofollow" style="background-color:transparent;color:rgb(51,122,183);">产品文档</a>。</p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180403145727421?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveXVucWlpbnNpZ2h0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="图片描述" title="" style="border:0px;vertical-align:middle;"></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><span style="font-weight:700;">新功能：删除流程数据目录处理优化</span></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">考虑到部分区块链解决方案的用户在开发测试环境需要频繁创建和删除区块链网络，为了进一步提升效率，这次方案升级优化了对数据目录清理的优化。具体来说，当区块链网络被删除（例如使用helm delete命令）的同时，相应的数据目录名会被自动添加以下后缀：-deleted-当前时间戳。之所以不直接删除，主要是为了防范人为误操作的风险，以及满足部分用户希望复用原有数据的目的。</p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">假设原数据目录为：</p>
  <pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:13px;line-height:1.45;color:rgb(51,51,51);background-color:rgb(248,249,250);border-width:1px;border-style:solid;border-color:rgba(128,128,128,.0745098);"><code class="hljs haskell" style="font-family:'Source Code Pro', monospace;color:inherit;background-color:transparent;">/<span class="hljs-typedef"><span class="hljs-keyword">data</span>/fabric/network01</span></code></pre>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">则区块链网络删除后，数据目录会被重命名为类似如下的名字：</p>
  <pre class="prettyprint" style="font-family:'Source Code Pro', monospace;font-size:13px;line-height:1.45;color:rgb(51,51,51);background-color:rgb(248,249,250);border-width:1px;border-style:solid;border-color:rgba(128,128,128,.0745098);"><code class="hljs haskell" style="font-family:'Source Code Pro', monospace;color:inherit;background-color:transparent;">/<span class="hljs-typedef"><span class="hljs-keyword">data</span>/fabric/network01-deleted-2018-03-21-041756</span></code></pre>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">这样便能进一步优化用户的区块链创建-删除-创建流程上的操作体验了（因为有用户需要频繁进行此类操作进行开发调试）。此外，如需彻底清理数据目录以释放存储空间，可手工运行rm命令或结合自动化脚本很方便地实现。</p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><span style="font-weight:700;">总结</span></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);">容器服务区块链解决方案自2017年10月正式发布以来，获得了为数众多的开发者和来自零售、金融、制造、多媒体等行业的企业用户的认可和采用，基于解决方案提供的企业级区块链开发测试环境快速地进行基于区块链的业务创新应用的打造。随着此次Hyperledger Fabric v1.1和区块链解决方案的升级，将进一步帮助我们的用户打造功能更完备、性能更高、安全性更强、易用性更好的企业级区块链业务应用。</p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><a href="https://yq.aliyun.com/articles/563496?spm=a2c41.11181499.0.0" rel="nofollow" style="background-color:transparent;color:rgb(51,122,183);"><span style="font-weight:700;">原文链接</span></a></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><span style="font-weight:700;">阅读更多干货好文，请关注扫描以下二维码：</span></p>
  <p style="color:rgb(51,51,51);font-family:'microsoft yahei', arial;background-color:rgb(255,255,255);"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180403150100042?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveXVucWlpbnNpZ2h0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="图片描述" title="" style="border:0px;vertical-align:middle;"></p> 
 </div> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/maoreyou/article/details/79803728,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/maoreyou/article/details/79803728,&quot;}">阅读更多</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?ee64533f3c6a7a284cd39a37ee732c8b";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
