<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>以太坊+IPFS+WEB 电商平台开发讲解 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="以太坊+IPFS+WEB 电商平台开发讲解" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="以太坊+IPFS+WEB 电商平台开发讲解 作者: AlexTan CSDN: http://blog.csdn.net/alextan_ Github: https://github.com/AlexTan-b-z e-mail: alextanbz@gmail.com 一、介绍： 本教程主要讲解接口实现以及相关概念，具体实现请期待后续教程 以太坊：以太坊（Ethereum）是一个建立在区块链技术之上， 去中心化应用平台。它允许任何人在平台中建立和使用通过区块链技术运行的去中心化应用。 对这句话不理解的同学，姑且可以理解为以太坊是区块链里的Android，它是一个开发平台，让我们就可以像基于Android Framework一样基于区块链技术写应用。 在没有以太坊之前，写区块链应用是这样的：拷贝一份比特币代码，然后去改底层代码如加密算法，共识机制，网络协议等等（很多山寨币就是这样，改改就出来一个新币）。以太坊平台对底层区块链技术进行了封装，让区块链应用开发者可以直接基于以太坊平台进行开发，开发者只要专注于应用本身的开发，从而大大降低了难度。 目前围绕以太坊已经形成了一个较为完善的开发生态圈：有社区的支持，有很多开发框架、工具可以选择。 智能合约：以太坊上的程序称之为智能合约， 它是代码和数据(状态)的集合。智能合约的默认的编程语言是Solidity，文件扩展名以.sol结尾。一个合约对象就相当于一个Class（类）。Solidity是和JavaScript相似的语言，用它来开发合约并编译成以太坊虚拟机字节代码。 智能合约可以理解为在区块链上可以自动执行的（由事件驱动的）、以代码形式编写的合同（特殊的交易）。 关于以太坊的更多介绍，推荐博客：以太坊是什么 IPFS：星际文件系统IPFS（InterPlanetary File System）是一个面向全球的、点对点的分布式版本文件系统，目标是为了补充（甚至是取代）目前统治互联网的超文本传输协议（HTTP），将所有具有相同文件系统的计算设备连接在一起。原理用基于内容的地址替代基于域名的地址，也就是用户寻找的不是某个地址而是储存在某个地方的内容，不需要验证发送者的身份，而只需要验证内容的哈希，通过这样可以让网页的速度更快、更安全、更健壮、更持久。 二、使用： 项目架构: 说明： 以太坊： 本电商平台主要用以太坊来实现用户、支付功能，以及一些小商品数据的存储。IPFS：本电商平台主要用IPFS来存储一些大文件。（目前IPFS是免费提供云存储的，ps:还可以用IPNS来免费搭建博客） 后台以及数据库:用来存储一些商品数据，减少以太坊智能合约gas费的消耗（可选，注：如果用上这一部分，那么完全去中心化的平台将变成一个半中心化的平台，会失去一些区块链本身的一些特性，比如说安全性将会降低等） 较传统WEB项目而言，就以电商平台来说，如果说做完全去中心化的平台，那么则可以完全省去后台以及数据库的开发。账户就用以太坊的账户，商品的简单属性可以通过合约存放在以太坊区块链中（这样会消耗更多的gas费），商品的具体描述、图片等大文件可以存放在ipfs中，支付等过程也可以完全通过合约来实现，不过具体运行效率还有待测试。 三、JS接口： ps：笔者用的truffle开发，还请读者自行百度安装开发环境。 以太坊: 首先引入相关包： import { &nbsp;default as Web3 } from &#39;web3&#39;; import { &nbsp;default as contract } from &#39;truffle-contract&#39;; import my_contract from contract_path; //引入你编译好的合约文件，truffle的是在&#39;../../build/contract&#39;目录下具体web3以及truffle-contract可以通过npm安装。 连接到以太坊节点（加载web3）： initWeb3: function() { &nbsp; &nbsp;// 检查用户是否装有类似matemask的插件，如果装了则可以直接通过插件链接至以太坊节点 &nbsp; &nbsp;if (typeof web3 !== &#39;undefined&#39;) { &nbsp; &nbsp; &nbsp;App.web3Provider = web3.currentProvider; &nbsp; } else { &nbsp; &nbsp; &nbsp;// 如果没有，则连接至本地测试网络，实际运行环境中则是提示用户安装钱包插件 &nbsp; &nbsp; &nbsp;// App.web3Provider = new Web3.providers.HttpProvider(&#39;http://localhost:7545&#39;); &nbsp; &nbsp; &nbsp;alert(&#39;尊敬的用户，您没有安装钱包插件，请安装后再进行操作！&#39;) &nbsp; } &nbsp; &nbsp;web3 = new Web3(App.web3Provider); }, 加载合约： var myContract = contract(my_contract); //获取合约对象 myContract.setProvider(web3.currentProvider); let myAddress = &#39;&#39;; //你部署的合约地址 var contractInstance = MyContract.at(myAddress)； //合约实例化 //如果是在本地测试，则可以用以下命令： var contractInstance = MyContract.deployed(); //本地环境的合约实例化合约实例化后，然后就可以调用合约里的方法了。 关于以太坊如何实现支付问题：调用合约中的有payable属性的函数，可以发送以太币给合约，然后通过合约里的函数可以把以太币转给其他用户。当然，也可以自己实现一个代币，那样就不需要用函数有payable属性了，不过这些调用函数转账的过程都是需要额外交少量的gas费的。 IPFS: 引入相关包： const ipfsAPI = require(&#39;ipfs-api&#39;); //ipfs-api可以通过npm下载 连接ipfs节点: const ipfs = ipfsAPI({ &nbsp;host: &#39;localhost&#39;, &nbsp;port: &#39;5001&#39;, &nbsp;protocol: &#39;http&#39; }); 上传文件到ipfs： ipfs.add(buffer) &nbsp; &nbsp; .then((response) =&gt; { //response为ipfs返回的hash，即文件所存储的位置 &nbsp; &nbsp; &nbsp; &nbsp;console.log(response) &nbsp; &nbsp; &nbsp; &nbsp;resolve(response[0].hash); &nbsp; &nbsp; }).catch((err) =&gt; { &nbsp; &nbsp; &nbsp; &nbsp;console.error(err) &nbsp; &nbsp; &nbsp; &nbsp;reject(err); &nbsp; &nbsp; }) 访问文件：直接访问链接：http://localhost:8080/ipfs/ + hash地址 就ok了。 关于安装启动：下载地址：https://ipfs.io/docs/install/ 下载解压后，运行install.sh 脚本就可以安装啦。待安装完成后 运行:ipfs init创建ipfs节点然后运行：ipfs daemon启动服务器启动后浏览器输入下面的网址：打开http://localhost:5001/webui会看到一个漂亮的UI界面，那么证明你已经启动成功了。 阅读更多" />
<meta property="og:description" content="以太坊+IPFS+WEB 电商平台开发讲解 作者: AlexTan CSDN: http://blog.csdn.net/alextan_ Github: https://github.com/AlexTan-b-z e-mail: alextanbz@gmail.com 一、介绍： 本教程主要讲解接口实现以及相关概念，具体实现请期待后续教程 以太坊：以太坊（Ethereum）是一个建立在区块链技术之上， 去中心化应用平台。它允许任何人在平台中建立和使用通过区块链技术运行的去中心化应用。 对这句话不理解的同学，姑且可以理解为以太坊是区块链里的Android，它是一个开发平台，让我们就可以像基于Android Framework一样基于区块链技术写应用。 在没有以太坊之前，写区块链应用是这样的：拷贝一份比特币代码，然后去改底层代码如加密算法，共识机制，网络协议等等（很多山寨币就是这样，改改就出来一个新币）。以太坊平台对底层区块链技术进行了封装，让区块链应用开发者可以直接基于以太坊平台进行开发，开发者只要专注于应用本身的开发，从而大大降低了难度。 目前围绕以太坊已经形成了一个较为完善的开发生态圈：有社区的支持，有很多开发框架、工具可以选择。 智能合约：以太坊上的程序称之为智能合约， 它是代码和数据(状态)的集合。智能合约的默认的编程语言是Solidity，文件扩展名以.sol结尾。一个合约对象就相当于一个Class（类）。Solidity是和JavaScript相似的语言，用它来开发合约并编译成以太坊虚拟机字节代码。 智能合约可以理解为在区块链上可以自动执行的（由事件驱动的）、以代码形式编写的合同（特殊的交易）。 关于以太坊的更多介绍，推荐博客：以太坊是什么 IPFS：星际文件系统IPFS（InterPlanetary File System）是一个面向全球的、点对点的分布式版本文件系统，目标是为了补充（甚至是取代）目前统治互联网的超文本传输协议（HTTP），将所有具有相同文件系统的计算设备连接在一起。原理用基于内容的地址替代基于域名的地址，也就是用户寻找的不是某个地址而是储存在某个地方的内容，不需要验证发送者的身份，而只需要验证内容的哈希，通过这样可以让网页的速度更快、更安全、更健壮、更持久。 二、使用： 项目架构: 说明： 以太坊： 本电商平台主要用以太坊来实现用户、支付功能，以及一些小商品数据的存储。IPFS：本电商平台主要用IPFS来存储一些大文件。（目前IPFS是免费提供云存储的，ps:还可以用IPNS来免费搭建博客） 后台以及数据库:用来存储一些商品数据，减少以太坊智能合约gas费的消耗（可选，注：如果用上这一部分，那么完全去中心化的平台将变成一个半中心化的平台，会失去一些区块链本身的一些特性，比如说安全性将会降低等） 较传统WEB项目而言，就以电商平台来说，如果说做完全去中心化的平台，那么则可以完全省去后台以及数据库的开发。账户就用以太坊的账户，商品的简单属性可以通过合约存放在以太坊区块链中（这样会消耗更多的gas费），商品的具体描述、图片等大文件可以存放在ipfs中，支付等过程也可以完全通过合约来实现，不过具体运行效率还有待测试。 三、JS接口： ps：笔者用的truffle开发，还请读者自行百度安装开发环境。 以太坊: 首先引入相关包： import { &nbsp;default as Web3 } from &#39;web3&#39;; import { &nbsp;default as contract } from &#39;truffle-contract&#39;; import my_contract from contract_path; //引入你编译好的合约文件，truffle的是在&#39;../../build/contract&#39;目录下具体web3以及truffle-contract可以通过npm安装。 连接到以太坊节点（加载web3）： initWeb3: function() { &nbsp; &nbsp;// 检查用户是否装有类似matemask的插件，如果装了则可以直接通过插件链接至以太坊节点 &nbsp; &nbsp;if (typeof web3 !== &#39;undefined&#39;) { &nbsp; &nbsp; &nbsp;App.web3Provider = web3.currentProvider; &nbsp; } else { &nbsp; &nbsp; &nbsp;// 如果没有，则连接至本地测试网络，实际运行环境中则是提示用户安装钱包插件 &nbsp; &nbsp; &nbsp;// App.web3Provider = new Web3.providers.HttpProvider(&#39;http://localhost:7545&#39;); &nbsp; &nbsp; &nbsp;alert(&#39;尊敬的用户，您没有安装钱包插件，请安装后再进行操作！&#39;) &nbsp; } &nbsp; &nbsp;web3 = new Web3(App.web3Provider); }, 加载合约： var myContract = contract(my_contract); //获取合约对象 myContract.setProvider(web3.currentProvider); let myAddress = &#39;&#39;; //你部署的合约地址 var contractInstance = MyContract.at(myAddress)； //合约实例化 //如果是在本地测试，则可以用以下命令： var contractInstance = MyContract.deployed(); //本地环境的合约实例化合约实例化后，然后就可以调用合约里的方法了。 关于以太坊如何实现支付问题：调用合约中的有payable属性的函数，可以发送以太币给合约，然后通过合约里的函数可以把以太币转给其他用户。当然，也可以自己实现一个代币，那样就不需要用函数有payable属性了，不过这些调用函数转账的过程都是需要额外交少量的gas费的。 IPFS: 引入相关包： const ipfsAPI = require(&#39;ipfs-api&#39;); //ipfs-api可以通过npm下载 连接ipfs节点: const ipfs = ipfsAPI({ &nbsp;host: &#39;localhost&#39;, &nbsp;port: &#39;5001&#39;, &nbsp;protocol: &#39;http&#39; }); 上传文件到ipfs： ipfs.add(buffer) &nbsp; &nbsp; .then((response) =&gt; { //response为ipfs返回的hash，即文件所存储的位置 &nbsp; &nbsp; &nbsp; &nbsp;console.log(response) &nbsp; &nbsp; &nbsp; &nbsp;resolve(response[0].hash); &nbsp; &nbsp; }).catch((err) =&gt; { &nbsp; &nbsp; &nbsp; &nbsp;console.error(err) &nbsp; &nbsp; &nbsp; &nbsp;reject(err); &nbsp; &nbsp; }) 访问文件：直接访问链接：http://localhost:8080/ipfs/ + hash地址 就ok了。 关于安装启动：下载地址：https://ipfs.io/docs/install/ 下载解压后，运行install.sh 脚本就可以安装啦。待安装完成后 运行:ipfs init创建ipfs节点然后运行：ipfs daemon启动服务器启动后浏览器输入下面的网址：打开http://localhost:5001/webui会看到一个漂亮的UI界面，那么证明你已经启动成功了。 阅读更多" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-04-11T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"以太坊+IPFS+WEB 电商平台开发讲解 作者: AlexTan CSDN: http://blog.csdn.net/alextan_ Github: https://github.com/AlexTan-b-z e-mail: alextanbz@gmail.com 一、介绍： 本教程主要讲解接口实现以及相关概念，具体实现请期待后续教程 以太坊：以太坊（Ethereum）是一个建立在区块链技术之上， 去中心化应用平台。它允许任何人在平台中建立和使用通过区块链技术运行的去中心化应用。 对这句话不理解的同学，姑且可以理解为以太坊是区块链里的Android，它是一个开发平台，让我们就可以像基于Android Framework一样基于区块链技术写应用。 在没有以太坊之前，写区块链应用是这样的：拷贝一份比特币代码，然后去改底层代码如加密算法，共识机制，网络协议等等（很多山寨币就是这样，改改就出来一个新币）。以太坊平台对底层区块链技术进行了封装，让区块链应用开发者可以直接基于以太坊平台进行开发，开发者只要专注于应用本身的开发，从而大大降低了难度。 目前围绕以太坊已经形成了一个较为完善的开发生态圈：有社区的支持，有很多开发框架、工具可以选择。 智能合约：以太坊上的程序称之为智能合约， 它是代码和数据(状态)的集合。智能合约的默认的编程语言是Solidity，文件扩展名以.sol结尾。一个合约对象就相当于一个Class（类）。Solidity是和JavaScript相似的语言，用它来开发合约并编译成以太坊虚拟机字节代码。 智能合约可以理解为在区块链上可以自动执行的（由事件驱动的）、以代码形式编写的合同（特殊的交易）。 关于以太坊的更多介绍，推荐博客：以太坊是什么 IPFS：星际文件系统IPFS（InterPlanetary File System）是一个面向全球的、点对点的分布式版本文件系统，目标是为了补充（甚至是取代）目前统治互联网的超文本传输协议（HTTP），将所有具有相同文件系统的计算设备连接在一起。原理用基于内容的地址替代基于域名的地址，也就是用户寻找的不是某个地址而是储存在某个地方的内容，不需要验证发送者的身份，而只需要验证内容的哈希，通过这样可以让网页的速度更快、更安全、更健壮、更持久。 二、使用： 项目架构: 说明： 以太坊： 本电商平台主要用以太坊来实现用户、支付功能，以及一些小商品数据的存储。IPFS：本电商平台主要用IPFS来存储一些大文件。（目前IPFS是免费提供云存储的，ps:还可以用IPNS来免费搭建博客） 后台以及数据库:用来存储一些商品数据，减少以太坊智能合约gas费的消耗（可选，注：如果用上这一部分，那么完全去中心化的平台将变成一个半中心化的平台，会失去一些区块链本身的一些特性，比如说安全性将会降低等） 较传统WEB项目而言，就以电商平台来说，如果说做完全去中心化的平台，那么则可以完全省去后台以及数据库的开发。账户就用以太坊的账户，商品的简单属性可以通过合约存放在以太坊区块链中（这样会消耗更多的gas费），商品的具体描述、图片等大文件可以存放在ipfs中，支付等过程也可以完全通过合约来实现，不过具体运行效率还有待测试。 三、JS接口： ps：笔者用的truffle开发，还请读者自行百度安装开发环境。 以太坊: 首先引入相关包： import { &nbsp;default as Web3 } from &#39;web3&#39;; import { &nbsp;default as contract } from &#39;truffle-contract&#39;; import my_contract from contract_path; //引入你编译好的合约文件，truffle的是在&#39;../../build/contract&#39;目录下具体web3以及truffle-contract可以通过npm安装。 连接到以太坊节点（加载web3）： initWeb3: function() { &nbsp; &nbsp;// 检查用户是否装有类似matemask的插件，如果装了则可以直接通过插件链接至以太坊节点 &nbsp; &nbsp;if (typeof web3 !== &#39;undefined&#39;) { &nbsp; &nbsp; &nbsp;App.web3Provider = web3.currentProvider; &nbsp; } else { &nbsp; &nbsp; &nbsp;// 如果没有，则连接至本地测试网络，实际运行环境中则是提示用户安装钱包插件 &nbsp; &nbsp; &nbsp;// App.web3Provider = new Web3.providers.HttpProvider(&#39;http://localhost:7545&#39;); &nbsp; &nbsp; &nbsp;alert(&#39;尊敬的用户，您没有安装钱包插件，请安装后再进行操作！&#39;) &nbsp; } &nbsp; &nbsp;web3 = new Web3(App.web3Provider); }, 加载合约： var myContract = contract(my_contract); //获取合约对象 myContract.setProvider(web3.currentProvider); let myAddress = &#39;&#39;; //你部署的合约地址 var contractInstance = MyContract.at(myAddress)； //合约实例化 //如果是在本地测试，则可以用以下命令： var contractInstance = MyContract.deployed(); //本地环境的合约实例化合约实例化后，然后就可以调用合约里的方法了。 关于以太坊如何实现支付问题：调用合约中的有payable属性的函数，可以发送以太币给合约，然后通过合约里的函数可以把以太币转给其他用户。当然，也可以自己实现一个代币，那样就不需要用函数有payable属性了，不过这些调用函数转账的过程都是需要额外交少量的gas费的。 IPFS: 引入相关包： const ipfsAPI = require(&#39;ipfs-api&#39;); //ipfs-api可以通过npm下载 连接ipfs节点: const ipfs = ipfsAPI({ &nbsp;host: &#39;localhost&#39;, &nbsp;port: &#39;5001&#39;, &nbsp;protocol: &#39;http&#39; }); 上传文件到ipfs： ipfs.add(buffer) &nbsp; &nbsp; .then((response) =&gt; { //response为ipfs返回的hash，即文件所存储的位置 &nbsp; &nbsp; &nbsp; &nbsp;console.log(response) &nbsp; &nbsp; &nbsp; &nbsp;resolve(response[0].hash); &nbsp; &nbsp; }).catch((err) =&gt; { &nbsp; &nbsp; &nbsp; &nbsp;console.error(err) &nbsp; &nbsp; &nbsp; &nbsp;reject(err); &nbsp; &nbsp; }) 访问文件：直接访问链接：http://localhost:8080/ipfs/ + hash地址 就ok了。 关于安装启动：下载地址：https://ipfs.io/docs/install/ 下载解压后，运行install.sh 脚本就可以安装啦。待安装完成后 运行:ipfs init创建ipfs节点然后运行：ipfs daemon启动服务器启动后浏览器输入下面的网址：打开http://localhost:5001/webui会看到一个漂亮的UI界面，那么证明你已经启动成功了。 阅读更多","@type":"BlogPosting","url":"/2018/04/11/896397f4afb96c30b71676997b857050.html","headline":"以太坊+IPFS+WEB 电商平台开发讲解","dateModified":"2018-04-11T00:00:00+08:00","datePublished":"2018-04-11T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/2018/04/11/896397f4afb96c30b71676997b857050.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-1');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>以太坊+IPFS+WEB 电商平台开发讲解</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css"> 
 <div class="htmledit_views"> 
  <h1 class="md-end-block md-heading md-focus" style="font-size:2.25em;line-height:1.2;border-bottom:1px solid rgb(238,238,238);width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span class="md-expand">以太坊+IPFS+WEB 电商平台开发讲解</span></h1>
  <p style="width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span class="md-line md-end-block"><span><em><span>作者: AlexTan</span></em></span><span> </span></span></p>
  <p style="width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span class="md-line md-end-block"><span><em><span>CSDN: </span><span><a href="http://blog.csdn.net/alextan_" rel="nofollow" style="color:rgb(65,131,196);">http://blog.csdn.net/alextan_</a></span></em></span></span></p>
  <p style="width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span class="md-line md-end-block"><span><em><span>Github: </span><span><a href="https://github.com/AlexTan-b-z" rel="nofollow" style="color:rgb(65,131,196);">https://github.com/AlexTan-b-z</a></span></em></span></span></p>
  <p style="width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span class="md-line md-end-block"><span><em><span>e-mail: </span><span><a href="mailto:alextanbz@gmail.com" rel="nofollow" style="color:rgb(65,131,196);">alextanbz@gmail.com</a></span></em></span></span></p>
  <p style="width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span class="md-line md-end-block"></span></p>
  <h2 class="md-end-block md-heading" style="font-size:1.75em;line-height:1.225;border-bottom:1px solid rgb(238,238,238);width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span>一、介绍：</span></h2>
  <p style="width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span class="md-line md-end-block"><span><em><span>本教程主要讲解接口实现以及相关概念，具体实现请期待后续教程</span></em></span></span></p>
  <p style="width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span class="md-line md-end-block"><span><strong><span>以太坊：</span></strong></span><span>以太坊（Ethereum）是一个建立在区块链技术之上， 去中心化应用平台。它允许任何人在平台中建立和使用通过区块链技术运行的去中心化应用。</span></span></p>
  <pre class="md-fences md-end-block" style="font-family:Consolas, 'Liberation Mono', Courier, monospace;font-size:.9em;text-align:left;background-color:rgb(248,248,248);border:1px solid rgb(221,221,221);width:inherit;color:rgb(51,51,51);"><span>对这句话不理解的同学，姑且可以理解为以太坊是区块链里的Android，它是一个开发平台，让我们就可以像基于Android Framework一样基于区块链技术写应用。</span></pre>
  <p style="width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span class="md-line md-end-block"><span>在没有以太坊之前，写区块链应用是这样的：拷贝一份比特币代码，然后去改底层代码如加密算法，共识机制，网络协议等等（很多山寨币就是这样，改改就出来一个新币）。</span></span><span class="md-line md-end-block"><span>以太坊平台对底层区块链技术进行了封装，让区块链应用开发者可以直接基于以太坊平台进行开发，开发者只要专注于应用本身的开发，从而大大降低了难度。</span></span></p>
  <pre class="md-fences md-end-block" style="font-family:Consolas, 'Liberation Mono', Courier, monospace;font-size:.9em;text-align:left;background-color:rgb(248,248,248);border:1px solid rgb(221,221,221);width:inherit;color:rgb(51,51,51);"><span></span>
<span>目前围绕以太坊已经形成了一个较为完善的开发生态圈：有社区的支持，有很多开发框架、工具可以选择。</span></pre>
  <p style="width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:16px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;word-spacing:0px;"><span class="md-line md-end-block"><span><span><span>智能合约：</span></span></span><span>以太坊上的程序称之为智能合约， 它是代码和数据(状态)的集合。智能合约的默认的编程语言是Solidity，文件扩展名以.sol结尾。一个合约对象就相当于一个Class（类）。</span></span><span class="md-line md-end-block"><span>Solidity是和JavaScript相似的语言，用它来开发合约并编译成以太坊虚拟机字节代码。</span></span></p>
  <pre class="md-fences md-end-block" style="font-family:Consolas, 'Liberation Mono', Courier, monospace;font-size:.9em;text-align:left;background-color:rgb(248,248,248);border:1px solid rgb(221,221,221);width:inherit;color:rgb(51,51,51);font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;word-spacing:0px;"><span></span>
<span>智能合约可以理解为在区块链上可以自动执行的（由事件驱动的）、以代码形式编写的合同（特殊的交易）。</span></pre>
  <p style="width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:16px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;word-spacing:0px;"><span class="md-line md-end-block"><span>关于以太坊的更多介绍，推荐博客：</span><span><a href="https://learnblockchain.cn/2017/11/20/whatiseth/" rel="nofollow" style="color:rgb(65,131,196);"><span>以太坊是什么</span></a></span></span></p>
  <p style="width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:16px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;word-spacing:0px;"><span class="md-line md-end-block"><span><span><span>IPFS：</span></span></span><span>星际文件系统IPFS（InterPlanetary File System）是一个面向全球的、点对点的分布式版本文件系统，目标是为了补充（甚至是取代）目前统治互联网的超文本传输协议（HTTP），将所有具有相同文件系统的计算设备连接在一起。原理用基于内容的地址替代基于域名的地址，也就是用户寻找的不是某个地址而是储存在某个地方的内容，不需要验证发送者的身份，而只需要验证内容的哈希，通过这样可以让网页的速度更快、更安全、更健壮、更持久。</span></span></p>
  <h2 class="md-end-block md-heading" style="font-size:1.75em;font-weight:bold;line-height:1.225;border-bottom:1px solid rgb(238,238,238);width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-style:normal;letter-spacing:normal;text-indent:0px;text-transform:none;word-spacing:0px;"><span>二、使用：</span></h2>
  <p style="width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:16px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;word-spacing:0px;"><span class="md-line md-end-block"><span><span><span>项目架构:</span></span></span></span></p>
  <p style="width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:16px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;word-spacing:0px;"><span class="md-line md-end-block"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180411111051594" alt=""><br></span></p>
  <p style="width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:16px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;word-spacing:0px;"><span class="md-line md-end-block"><span><span><span>说明：</span></span></span></span></p>
  <p style="width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:16px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;word-spacing:0px;"><span class="md-line md-end-block"><span><span><span>以太坊：</span></span></span><span> 本电商平台主要用以太坊来实现用户、支付功能，以及一些小商品数据的存储。</span></span><span class="md-line md-end-block"><span><span><span>IPFS：</span></span></span><span>本电商平台主要用IPFS来存储一些大文件。（目前IPFS是</span><span><span><span>免费</span></span></span><span>提供云存储的，ps:</span><span><span><span>还可以用IPNS来免费搭建博客</span></span></span><span>）</span></span></p>
  <p style="width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:16px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;word-spacing:0px;"><span class="md-line md-end-block"><span><span><span>后台以及数据库:</span></span></span><span>用来存储一些商品数据，减少以太坊智能合约gas费的消耗（可选，注：如果用上这一部分，那么完全去中心化的平台将变成一个半中心化的平台，会失去一些区块链本身的一些特性，比如说安全性将会降低等）</span></span></p>
  <pre class="md-fences md-end-block" style="font-family:Consolas, 'Liberation Mono', Courier, monospace;font-size:.9em;text-align:left;background-color:rgb(248,248,248);border:1px solid rgb(221,221,221);width:inherit;color:rgb(51,51,51);font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;word-spacing:0px;"><span></span>
<span>较传统WEB项目而言，就以电商平台来说，如果说做完全去中心化的平台，那么则可以完全省去后台以及数据库的开发。账户就用以太坊的账户，商品的简单属性可以通过合约存放在以太坊区块链中（这样会消耗更多的gas费），商品的具体描述、图片等大文件可以存放在ipfs中，支付等过程也可以完全通过合约来实现，不过具体运行效率还有待测试。</span></pre>
  <h2 class="md-end-block md-heading" style="font-size:1.75em;font-weight:bold;line-height:1.225;border-bottom:1px solid rgb(238,238,238);width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-style:normal;letter-spacing:normal;text-indent:0px;text-transform:none;word-spacing:0px;"><span>三、JS接口：</span></h2>
  <p style="width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:16px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;word-spacing:0px;"><span class="md-line md-end-block"><span><span><span>ps：笔者用的truffle开发，还请读者自行百度安装开发环境。</span></span></span></span></p>
  <p style="width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:16px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;word-spacing:0px;"><span class="md-line md-end-block"><span><span><span>以太坊</span></span></span><span>: </span></span></p>
  <ol class="ol-list" style="color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:16px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;word-spacing:0px;">
   <li><p style="width:inherit;"><span class="md-line md-end-block"><span>首先引入相关包：</span></span></p><pre class="md-fences md-end-block" style="font-family:Consolas, 'Liberation Mono', Courier, monospace;font-size:.9em;text-align:left;background-color:rgb(248,248,248);border:1px solid rgb(221,221,221);width:inherit;"><span></span>
<span><span class="cm-keyword" style="color:rgb(119,0,136);">import</span> {</span>
<span> &nbsp;<span class="cm-keyword" style="color:rgb(119,0,136);">default</span> <span class="cm-keyword" style="color:rgb(119,0,136);">as</span> <span class="cm-def" style="color:rgb(0,0,255);">Web3</span></span>
<span>} <span class="cm-keyword" style="color:rgb(119,0,136);">from</span> <span class="cm-string" style="color:rgb(170,17,17);">'web3'</span>;</span>
<span><span class="cm-keyword" style="color:rgb(119,0,136);">import</span> {</span>
<span> &nbsp;<span class="cm-keyword" style="color:rgb(119,0,136);">default</span> <span class="cm-keyword" style="color:rgb(119,0,136);">as</span> <span class="cm-def" style="color:rgb(0,0,255);">contract</span></span>
<span>} <span class="cm-keyword" style="color:rgb(119,0,136);">from</span> <span class="cm-string" style="color:rgb(170,17,17);">'truffle-contract'</span>;</span>
<span><span class="cm-keyword" style="color:rgb(119,0,136);">import</span> <span class="cm-def" style="color:rgb(0,0,255);">my_contract</span> <span class="cm-keyword" style="color:rgb(119,0,136);">from</span> <span class="cm-variable" style="color:#000000;">contract_path</span>; <span class="cm-comment" style="color:rgb(170,85,0);">//引入你编译好的合约文件，truffle的是在'../../build/contract'目录下</span></span></pre><p style="width:inherit;"><span class="md-line md-end-block"><span>具体web3以及truffle-contract可以通过npm安装。</span></span></p></li>
  </ol>
  <ol class="ol-list" start="2" style="color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:16px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;word-spacing:0px;">
   <li><p style="width:inherit;"><span class="md-line md-end-block"><span>连接到以太坊节点（加载web3）：</span></span></p><pre class="md-fences md-end-block" style="font-family:Consolas, 'Liberation Mono', Courier, monospace;font-size:.9em;text-align:left;background-color:rgb(248,248,248);border:1px solid rgb(221,221,221);width:inherit;"><span></span>
<span><span class="cm-variable" style="color:#000000;">initWeb3</span>: <span class="cm-keyword" style="color:rgb(119,0,136);">function</span>() {</span>
<span> &nbsp; &nbsp;<span class="cm-comment" style="color:rgb(170,85,0);">// 检查用户是否装有类似matemask的插件，如果装了则可以直接通过插件链接至以太坊节点</span></span>
<span> &nbsp; &nbsp;<span class="cm-keyword" style="color:rgb(119,0,136);">if</span> (<span class="cm-keyword" style="color:rgb(119,0,136);">typeof</span> <span class="cm-variable" style="color:#000000;">web3</span> <span class="cm-operator" style="color:rgb(152,26,26);">!==</span> <span class="cm-string" style="color:rgb(170,17,17);">'undefined'</span>) {</span>
<span> &nbsp; &nbsp; &nbsp;<span class="cm-variable" style="color:#000000;">App</span>.<span class="cm-property" style="color:#000000;">web3Provider</span> <span class="cm-operator" style="color:rgb(152,26,26);">=</span> <span class="cm-variable" style="color:#000000;">web3</span>.<span class="cm-property" style="color:#000000;">currentProvider</span>;</span>
<span> &nbsp;  } <span class="cm-keyword" style="color:rgb(119,0,136);">else</span> {</span>
<span> &nbsp; &nbsp; &nbsp;<span class="cm-comment" style="color:rgb(170,85,0);">// 如果没有，则连接至本地测试网络，实际运行环境中则是提示用户安装钱包插件</span></span>
<span> &nbsp; &nbsp; &nbsp;<span class="cm-comment" style="color:rgb(170,85,0);">// App.web3Provider = new Web3.providers.HttpProvider('http://localhost:7545');</span></span>
<span> &nbsp; &nbsp; &nbsp;<span class="cm-variable" style="color:#000000;">alert</span>(<span class="cm-string" style="color:rgb(170,17,17);">'尊敬的用户，您没有安装钱包插件，请安装后再进行操作！'</span>)</span>
<span> &nbsp;  }</span>
<span> &nbsp; &nbsp;<span class="cm-variable" style="color:#000000;">web3</span> <span class="cm-operator" style="color:rgb(152,26,26);">=</span> <span class="cm-keyword" style="color:rgb(119,0,136);">new</span> <span class="cm-variable" style="color:#000000;">Web3</span>(<span class="cm-variable" style="color:#000000;">App</span>.<span class="cm-property" style="color:#000000;">web3Provider</span>);</span>
<span>  },</span></pre>
    <ol class="ol-list" start="3">
     <li><p style="width:inherit;"><span class="md-line md-end-block"><span>加载合约：</span></span></p><pre class="md-fences md-end-block" style="font-family:Consolas, 'Liberation Mono', Courier, monospace;font-size:.9em;text-align:left;background-color:rgb(248,248,248);border:1px solid rgb(221,221,221);width:inherit;"><span></span>
<span><span class="cm-keyword" style="color:rgb(119,0,136);">var</span> <span class="cm-def" style="color:rgb(0,0,255);">myContract</span> <span class="cm-operator" style="color:rgb(152,26,26);">=</span> <span class="cm-variable" style="color:#000000;">contract</span>(<span class="cm-variable" style="color:#000000;">my_contract</span>); <span class="cm-comment" style="color:rgb(170,85,0);">//获取合约对象</span></span>
<span><span class="cm-variable" style="color:#000000;">myContract</span>.<span class="cm-property" style="color:#000000;">setProvider</span>(<span class="cm-variable" style="color:#000000;">web3</span>.<span class="cm-property" style="color:#000000;">currentProvider</span>);</span>
<span><span class="cm-keyword" style="color:rgb(119,0,136);">let</span> <span class="cm-def" style="color:rgb(0,0,255);">myAddress</span> <span class="cm-operator" style="color:rgb(152,26,26);">=</span> <span class="cm-string" style="color:rgb(170,17,17);">''</span>; <span class="cm-comment" style="color:rgb(170,85,0);">//你部署的合约地址</span></span>
<span><span class="cm-keyword" style="color:rgb(119,0,136);">var</span> <span class="cm-def" style="color:rgb(0,0,255);">contractInstance</span> <span class="cm-operator" style="color:rgb(152,26,26);">=</span> <span class="cm-variable" style="color:#000000;">MyContract</span>.<span class="cm-property" style="color:#000000;">at</span>(<span class="cm-variable" style="color:#000000;">myAddress</span>)<span class="cm-variable" style="color:#000000;">；</span> <span class="cm-comment" style="color:rgb(170,85,0);">//合约实例化</span></span>
<span><span class="cm-comment" style="color:rgb(170,85,0);">//如果是在本地测试，则可以用以下命令：</span></span>
<span><span class="cm-keyword" style="color:rgb(119,0,136);">var</span> <span class="cm-def" style="color:rgb(0,0,255);">contractInstance</span> <span class="cm-operator" style="color:rgb(152,26,26);">=</span> <span class="cm-variable" style="color:#000000;">MyContract</span>.<span class="cm-property" style="color:#000000;">deployed</span>(); <span class="cm-comment" style="color:rgb(170,85,0);">//本地环境的合约实例化</span></span></pre><p style="width:inherit;"><span class="md-line md-end-block"><span>合约实例化后，然后就可以调用合约里的方法了。</span></span></p></li>
     <li><p style="width:inherit;"><span class="md-line md-end-block"><span>关于以太坊如何实现支付问题：</span></span></p><p style="width:inherit;"><span class="md-line md-end-block"><span>调用合约中的有payable属性的函数，可以发送以太币给合约，然后通过合约里的函数可以把以太币转给其他用户。当然，也可以自己实现一个代币，那样就不需要用函数有payable属性了，不过这些调用函数转账的过程都是需要额外交少量的gas费的。</span></span></p></li>
    </ol></li>
  </ol>
  <p style="width:inherit;color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:16px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;word-spacing:0px;"><span class="md-line md-end-block"><span><span><span>IPFS:</span></span></span></span></p>
  <ol class="ol-list" style="color:rgb(51,51,51);font-family:'Open Sans', 'Clear Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:16px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;word-spacing:0px;">
   <li><p style="width:inherit;"><span class="md-line md-end-block"><span>引入相关包：</span></span></p><pre class="md-fences md-end-block" style="font-family:Consolas, 'Liberation Mono', Courier, monospace;font-size:.9em;text-align:left;background-color:rgb(248,248,248);border:1px solid rgb(221,221,221);width:inherit;"><span></span>
<span><span class="cm-keyword" style="color:rgb(119,0,136);">const</span> <span class="cm-def" style="color:rgb(0,0,255);">ipfsAPI</span> <span class="cm-operator" style="color:rgb(152,26,26);">=</span> <span class="cm-variable" style="color:#000000;">require</span>(<span class="cm-string" style="color:rgb(170,17,17);">'ipfs-api'</span>); <span class="cm-comment" style="color:rgb(170,85,0);">//ipfs-api可以通过npm下载</span></span></pre></li>
   <li><p style="width:inherit;"><span class="md-line md-end-block"><span>连接ipfs节点:</span></span></p><pre class="md-fences md-end-block" style="font-family:Consolas, 'Liberation Mono', Courier, monospace;font-size:.9em;text-align:left;background-color:rgb(248,248,248);border:1px solid rgb(221,221,221);width:inherit;"><span></span>
<span><span class="cm-keyword" style="color:rgb(119,0,136);">const</span> <span class="cm-def" style="color:rgb(0,0,255);">ipfs</span> <span class="cm-operator" style="color:rgb(152,26,26);">=</span> <span class="cm-variable" style="color:#000000;">ipfsAPI</span>({</span>
<span> &nbsp;<span class="cm-property" style="color:#000000;">host</span>: <span class="cm-string" style="color:rgb(170,17,17);">'localhost'</span>,</span>
<span> &nbsp;<span class="cm-property" style="color:#000000;">port</span>: <span class="cm-string" style="color:rgb(170,17,17);">'5001'</span>,</span>
<span> &nbsp;<span class="cm-property" style="color:#000000;">protocol</span>: <span class="cm-string" style="color:rgb(170,17,17);">'http'</span></span>
<span>});</span></pre></li>
   <li><p style="width:inherit;"><span class="md-line md-end-block"><span>上传文件到ipfs：</span></span></p><pre class="md-fences md-end-block" style="font-family:Consolas, 'Liberation Mono', Courier, monospace;font-size:.9em;text-align:left;background-color:rgb(248,248,248);border:1px solid rgb(221,221,221);width:inherit;"><span></span>
<span><span class="cm-variable" style="color:#000000;">ipfs</span>.<span class="cm-property" style="color:#000000;">add</span>(<span class="cm-variable" style="color:#000000;">buffer</span>)</span>
<span> &nbsp; &nbsp;  .<span class="cm-property" style="color:#000000;">then</span>((<span class="cm-def" style="color:rgb(0,0,255);">response</span>) <span class="cm-operator" style="color:rgb(152,26,26);">=&gt;</span> { <span class="cm-comment" style="color:rgb(170,85,0);">//response为ipfs返回的hash，即文件所存储的位置</span></span>
<span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable" style="color:#000000;">console</span>.<span class="cm-property" style="color:#000000;">log</span>(<span class="cm-variable-2" style="color:rgb(0,85,170);">response</span>)</span>
<span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable" style="color:#000000;">resolve</span>(<span class="cm-variable-2" style="color:rgb(0,85,170);">response</span>[<span class="cm-number" style="color:rgb(17,102,68);">0</span>].<span class="cm-property" style="color:#000000;">hash</span>);</span>
<span> &nbsp; &nbsp;  }).<span class="cm-property" style="color:#000000;">catch</span>((<span class="cm-def" style="color:rgb(0,0,255);">err</span>) <span class="cm-operator" style="color:rgb(152,26,26);">=&gt;</span> {</span>
<span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable" style="color:#000000;">console</span>.<span class="cm-property" style="color:#000000;">error</span>(<span class="cm-variable-2" style="color:rgb(0,85,170);">err</span>)</span>
<span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable" style="color:#000000;">reject</span>(<span class="cm-variable-2" style="color:rgb(0,85,170);">err</span>);</span>
<span> &nbsp; &nbsp;  })</span></pre></li>
   <li><p style="width:inherit;"><span class="md-line md-end-block"><span>访问文件：</span></span></p><p style="width:inherit;"><span class="md-line md-end-block"><span>直接访问链接：</span><span><a href="http://localhost:8080/ipfs/" rel="nofollow" style="color:rgb(65,131,196);">http://localhost:8080/ipfs/</a></span><span> + hash地址 就ok了。</span></span></p></li>
   <li><p style="width:inherit;"><span class="md-line md-end-block"><span>关于安装启动：</span></span></p><p style="width:inherit;"><span class="md-line md-end-block"><span>下载地址：</span><span><a href="https://ipfs.io/docs/install/" rel="nofollow" style="color:rgb(65,131,196);">https://ipfs.io/docs/install/</a></span><span> </span></span></p><p style="width:inherit;"><span class="md-line md-end-block"><span>下载解压后，运行install.sh 脚本就可以安装啦。</span></span></p><p style="width:inherit;"><span class="md-line md-end-block"><span>待安装完成后 运行:</span><span><code style="font-family:Consolas, 'Liberation Mono', Courier, monospace;font-size:.9em;text-align:left;border:1px solid rgb(221,221,221);background-color:rgb(248,248,248);">ipfs init</code></span><span>创建ipfs节点</span></span></p><p style="width:inherit;"><span class="md-line md-end-block"><span>然后运行：</span><span><code style="font-family:Consolas, 'Liberation Mono', Courier, monospace;font-size:.9em;text-align:left;border:1px solid rgb(221,221,221);background-color:rgb(248,248,248);">ipfs daemon</code></span><span>启动服务器</span></span></p><p style="width:inherit;"><span class="md-line md-end-block"><span>启动后浏览器输入下面的网址：</span></span></p><p style="width:inherit;"><span class="md-line md-end-block"><span>打开</span><span><a href="http://localhost:5001/webui" rel="nofollow" style="color:rgb(65,131,196);">http://localhost:5001/webui</a></span><span>会看到一个漂亮的UI界面，那么证明你已经启动成功了。</span></span></p></li>
  </ol> 
 </div> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/AlexTan_/article/details/79893289,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/AlexTan_/article/details/79893289,&quot;}">阅读更多</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?ee64533f3c6a7a284cd39a37ee732c8b";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
