<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>字符串哈希模板 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="字符串哈希模板" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="假设一个字符串的范围是 [1,n] [ 1 , n ] ,然后从中选择一个位置x,使得字符串分成两部分 [1,x],[x+1,n], [ 1 , x ] , [ x + 1 , n ] , 两个串的哈希值分别为 x,y x , y ,那么将后面的串移动到前一个串的前面的哈希值为 x+y×px x + y × p x —————————————————————————————————————————————————————————————————————— 学了一天的字符串哈希，还是不怎么懂，下面写出来我的一些微薄的理解。 模板等做题了再贴！ 翻了很多博客，发现就是没人介绍关于求区间字串的哈希值的方法，希望有大佬能为萌新解答一下。 经过 hash h a s h 处理后，在哈希数组 h h 中，单个的 hash[i] h a s h [ i ] 表示的不仅仅是简单的前缀和，这与前面乘的系数 p p 有关。 又发现了一个规律： hash[i,j] h a s h [ i , j ] 区间的值其实就是 s[i]∗p(j−i)+s[i+1]∗p(j−i−1)+.....+s[j]; s [ i ] ∗ p ( j − i ) + s [ i + 1 ] ∗ p ( j − i − 1 ) + . . . . . + s [ j ] ; 举个例子， hash(2,4) h a s h ( 2 , 4 ) 就是 s[2]∗p2+s[3]∗p+s[4] s [ 2 ] ∗ p 2 + s [ 3 ] ∗ p + s [ 4 ] 当确定一个区间的哈希值的时时候,假设当是[lL,R],那么如果R变大,那么整体哈希值的变化就是先乘上种子p,然后再加上R+1的值,如果是区间减少变成[L+1,R]那么哈希值的变化就是减去L对应这一位的哈希值 ————————————————————————————————————————— 2018年4月24日更新 发现了一个哈希+线段树的题目，这里就要求区间的合并，于是去推了下公式， hash(i,j)=hash[i,k]∗seed(j−k+1)+hash[j,k]; h a s h ( i , j ) = h a s h [ i , k ] ∗ s e e d ( j − k + 1 ) + h a s h [ j , k ] ; ————————————————————————————————————————— 2018年4月28日更新 今天又学到了一种骚操作——如何计算将原字符串改变若干个字母后的哈希值。（不过有一个限制，就是在求字符串的哈希是，只有一个变量，而不是开了一个数组记录每一位的哈希值） 公式推就不推了，只是记录下公式结果： 首先明确字符串下标从1开始，字符串长度是len,改变的元素是s[i],将s[i]要改为c h=h+(c−s[i])∗p(len−i); h = h + ( c − s [ i ] ) ∗ p ( l e n − i ) ; 阅读更多" />
<meta property="og:description" content="假设一个字符串的范围是 [1,n] [ 1 , n ] ,然后从中选择一个位置x,使得字符串分成两部分 [1,x],[x+1,n], [ 1 , x ] , [ x + 1 , n ] , 两个串的哈希值分别为 x,y x , y ,那么将后面的串移动到前一个串的前面的哈希值为 x+y×px x + y × p x —————————————————————————————————————————————————————————————————————— 学了一天的字符串哈希，还是不怎么懂，下面写出来我的一些微薄的理解。 模板等做题了再贴！ 翻了很多博客，发现就是没人介绍关于求区间字串的哈希值的方法，希望有大佬能为萌新解答一下。 经过 hash h a s h 处理后，在哈希数组 h h 中，单个的 hash[i] h a s h [ i ] 表示的不仅仅是简单的前缀和，这与前面乘的系数 p p 有关。 又发现了一个规律： hash[i,j] h a s h [ i , j ] 区间的值其实就是 s[i]∗p(j−i)+s[i+1]∗p(j−i−1)+.....+s[j]; s [ i ] ∗ p ( j − i ) + s [ i + 1 ] ∗ p ( j − i − 1 ) + . . . . . + s [ j ] ; 举个例子， hash(2,4) h a s h ( 2 , 4 ) 就是 s[2]∗p2+s[3]∗p+s[4] s [ 2 ] ∗ p 2 + s [ 3 ] ∗ p + s [ 4 ] 当确定一个区间的哈希值的时时候,假设当是[lL,R],那么如果R变大,那么整体哈希值的变化就是先乘上种子p,然后再加上R+1的值,如果是区间减少变成[L+1,R]那么哈希值的变化就是减去L对应这一位的哈希值 ————————————————————————————————————————— 2018年4月24日更新 发现了一个哈希+线段树的题目，这里就要求区间的合并，于是去推了下公式， hash(i,j)=hash[i,k]∗seed(j−k+1)+hash[j,k]; h a s h ( i , j ) = h a s h [ i , k ] ∗ s e e d ( j − k + 1 ) + h a s h [ j , k ] ; ————————————————————————————————————————— 2018年4月28日更新 今天又学到了一种骚操作——如何计算将原字符串改变若干个字母后的哈希值。（不过有一个限制，就是在求字符串的哈希是，只有一个变量，而不是开了一个数组记录每一位的哈希值） 公式推就不推了，只是记录下公式结果： 首先明确字符串下标从1开始，字符串长度是len,改变的元素是s[i],将s[i]要改为c h=h+(c−s[i])∗p(len−i); h = h + ( c − s [ i ] ) ∗ p ( l e n − i ) ; 阅读更多" />
<link rel="canonical" href="https://mlh.app/2018/04/22/0c6a93069c8cae7494f16a64ae3623c0.html" />
<meta property="og:url" content="https://mlh.app/2018/04/22/0c6a93069c8cae7494f16a64ae3623c0.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-04-22T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"假设一个字符串的范围是 [1,n] [ 1 , n ] ,然后从中选择一个位置x,使得字符串分成两部分 [1,x],[x+1,n], [ 1 , x ] , [ x + 1 , n ] , 两个串的哈希值分别为 x,y x , y ,那么将后面的串移动到前一个串的前面的哈希值为 x+y×px x + y × p x —————————————————————————————————————————————————————————————————————— 学了一天的字符串哈希，还是不怎么懂，下面写出来我的一些微薄的理解。 模板等做题了再贴！ 翻了很多博客，发现就是没人介绍关于求区间字串的哈希值的方法，希望有大佬能为萌新解答一下。 经过 hash h a s h 处理后，在哈希数组 h h 中，单个的 hash[i] h a s h [ i ] 表示的不仅仅是简单的前缀和，这与前面乘的系数 p p 有关。 又发现了一个规律： hash[i,j] h a s h [ i , j ] 区间的值其实就是 s[i]∗p(j−i)+s[i+1]∗p(j−i−1)+.....+s[j]; s [ i ] ∗ p ( j − i ) + s [ i + 1 ] ∗ p ( j − i − 1 ) + . . . . . + s [ j ] ; 举个例子， hash(2,4) h a s h ( 2 , 4 ) 就是 s[2]∗p2+s[3]∗p+s[4] s [ 2 ] ∗ p 2 + s [ 3 ] ∗ p + s [ 4 ] 当确定一个区间的哈希值的时时候,假设当是[lL,R],那么如果R变大,那么整体哈希值的变化就是先乘上种子p,然后再加上R+1的值,如果是区间减少变成[L+1,R]那么哈希值的变化就是减去L对应这一位的哈希值 ————————————————————————————————————————— 2018年4月24日更新 发现了一个哈希+线段树的题目，这里就要求区间的合并，于是去推了下公式， hash(i,j)=hash[i,k]∗seed(j−k+1)+hash[j,k]; h a s h ( i , j ) = h a s h [ i , k ] ∗ s e e d ( j − k + 1 ) + h a s h [ j , k ] ; ————————————————————————————————————————— 2018年4月28日更新 今天又学到了一种骚操作——如何计算将原字符串改变若干个字母后的哈希值。（不过有一个限制，就是在求字符串的哈希是，只有一个变量，而不是开了一个数组记录每一位的哈希值） 公式推就不推了，只是记录下公式结果： 首先明确字符串下标从1开始，字符串长度是len,改变的元素是s[i],将s[i]要改为c h=h+(c−s[i])∗p(len−i); h = h + ( c − s [ i ] ) ∗ p ( l e n − i ) ; 阅读更多","@type":"BlogPosting","url":"https://mlh.app/2018/04/22/0c6a93069c8cae7494f16a64ae3623c0.html","headline":"字符串哈希模板","dateModified":"2018-04-22T00:00:00+08:00","datePublished":"2018-04-22T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2018/04/22/0c6a93069c8cae7494f16a64ae3623c0.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>字符串哈希模板</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <div class="markdown_views"> 
  <p>假设一个字符串的范围是<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-627-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>[</mo><mn>1</mn><mo>,</mo><mi>n</mi><mo stretchy=&quot;false&quot;>]</mo></math>" role="presentation">
    <nobr aria-hidden="true">
     <span class="math" id="MathJax-Span-8145" style="width: 2.451em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.034em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.305em, 1001.93em, 2.607em, -999.997em); top: -2.185em; left: 0em;"><span class="mrow" id="MathJax-Span-8146"><span class="mo" id="MathJax-Span-8147" style="font-family: MathJax_Main;">[</span><span class="mn" id="MathJax-Span-8148" style="font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-8149" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-8150" style="font-family: MathJax_Math-italic; padding-left: 0.159em;">n</span><span class="mo" id="MathJax-Span-8151" style="font-family: MathJax_Main;">]</span></span><span style="display: inline-block; width: 0px; height: 2.19em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span>
    </nobr><span class="MJX_Assistive_MathML" role="presentation">
     <math xmlns="http://www.w3.org/1998/Math/MathML">
      <mo stretchy="false">
       [
      </mo>
      <mn>
       1
      </mn>
      <mo>
       ,
      </mo>
      <mi>
       n
      </mi>
      <mo stretchy="false">
       ]
      </mo>
     </math></span></span><script type="math/tex" id="MathJax-Element-627">[1,n]</script>,然后从中选择一个位置x,使得字符串分成两部分<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-628-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>[</mo><mn>1</mn><mo>,</mo><mi>x</mi><mo stretchy=&quot;false&quot;>]</mo><mo>,</mo><mo stretchy=&quot;false&quot;>[</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo>,</mo><mi>n</mi><mo stretchy=&quot;false&quot;>]</mo><mo>,</mo></math>" role="presentation">
    <nobr aria-hidden="true">
     <span class="math" id="MathJax-Span-8152" style="width: 7.919em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.565em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.305em, 1006.51em, 2.607em, -999.997em); top: -2.185em; left: 0em;"><span class="mrow" id="MathJax-Span-8153"><span class="mo" id="MathJax-Span-8154" style="font-family: MathJax_Main;">[</span><span class="mn" id="MathJax-Span-8155" style="font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-8156" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-8157" style="font-family: MathJax_Math-italic; padding-left: 0.159em;">x</span><span class="mo" id="MathJax-Span-8158" style="font-family: MathJax_Main;">]</span><span class="mo" id="MathJax-Span-8159" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-8160" style="font-family: MathJax_Main; padding-left: 0.159em;">[</span><span class="mi" id="MathJax-Span-8161" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-8162" style="font-family: MathJax_Main; padding-left: 0.211em;">+</span><span class="mn" id="MathJax-Span-8163" style="font-family: MathJax_Main; padding-left: 0.211em;">1</span><span class="mo" id="MathJax-Span-8164" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-8165" style="font-family: MathJax_Math-italic; padding-left: 0.159em;">n</span><span class="mo" id="MathJax-Span-8166" style="font-family: MathJax_Main;">]</span><span class="mo" id="MathJax-Span-8167" style="font-family: MathJax_Main;">,</span></span><span style="display: inline-block; width: 0px; height: 2.19em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span>
    </nobr><span class="MJX_Assistive_MathML" role="presentation">
     <math xmlns="http://www.w3.org/1998/Math/MathML">
      <mo stretchy="false">
       [
      </mo>
      <mn>
       1
      </mn>
      <mo>
       ,
      </mo>
      <mi>
       x
      </mi>
      <mo stretchy="false">
       ]
      </mo>
      <mo>
       ,
      </mo>
      <mo stretchy="false">
       [
      </mo>
      <mi>
       x
      </mi>
      <mo>
       +
      </mo>
      <mn>
       1
      </mn>
      <mo>
       ,
      </mo>
      <mi>
       n
      </mi>
      <mo stretchy="false">
       ]
      </mo>
      <mo>
       ,
      </mo>
     </math></span></span><script type="math/tex" id="MathJax-Element-628">[1,x],[x+1,n],</script>两个串的哈希值分别为<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-629-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi><mo>,</mo><mi>y</mi></math>" role="presentation">
    <nobr aria-hidden="true">
     <span class="math" id="MathJax-Span-8168" style="width: 1.773em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.461em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.617em, 1001.46em, 2.555em, -999.997em); top: -2.185em; left: 0em;"><span class="mrow" id="MathJax-Span-8169"><span class="mi" id="MathJax-Span-8170" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-8171" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-8172" style="font-family: MathJax_Math-italic; padding-left: 0.159em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.19em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;"></span></span>
    </nobr><span class="MJX_Assistive_MathML" role="presentation">
     <math xmlns="http://www.w3.org/1998/Math/MathML">
      <mi>
       x
      </mi>
      <mo>
       ,
      </mo>
      <mi>
       y
      </mi>
     </math></span></span><script type="math/tex" id="MathJax-Element-629">x,y</script>,那么将后面的串移动到前一个串的前面的哈希值为<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-630-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi><mo>+</mo><mi>y</mi><mo>&amp;#x00D7;</mo><msup><mi>p</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>x</mi></mrow></msup></math>" role="presentation">
    <nobr aria-hidden="true">
     <span class="math" id="MathJax-Span-8173" style="width: 5.419em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.482em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.357em, 1004.48em, 2.555em, -999.997em); top: -2.185em; left: 0em;"><span class="mrow" id="MathJax-Span-8174"><span class="mi" id="MathJax-Span-8175" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-8176" style="font-family: MathJax_Main; padding-left: 0.211em;">+</span><span class="mi" id="MathJax-Span-8177" style="font-family: MathJax_Math-italic; padding-left: 0.211em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-8178" style="font-family: MathJax_Main; padding-left: 0.211em;">×</span><span class="msubsup" id="MathJax-Span-8179" style="padding-left: 0.211em;"><span style="display: inline-block; position: relative; width: 0.992em; height: 0px;"><span style="position: absolute; clip: rect(3.44em, 1000.52em, 4.378em, -999.997em); top: -4.008em; left: 0em;"><span class="mi" id="MathJax-Span-8180" style="font-family: MathJax_Math-italic;">p</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; top: -4.372em; left: 0.523em;"><span class="texatom" id="MathJax-Span-8181"><span class="mrow" id="MathJax-Span-8182"><span class="mi" id="MathJax-Span-8183" style="font-size: 70.7%; font-family: MathJax_Math-italic;">x</span></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.19em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span>
    </nobr><span class="MJX_Assistive_MathML" role="presentation">
     <math xmlns="http://www.w3.org/1998/Math/MathML">
      <mi>
       x
      </mi>
      <mo>
       +
      </mo>
      <mi>
       y
      </mi>
      <mo>
       ×
      </mo>
      <msup>
       <mi>
        p
       </mi>
       <mrow class="MJX-TeXAtom-ORD">
        <mi>
         x
        </mi>
       </mrow>
      </msup>
     </math></span></span><script type="math/tex" id="MathJax-Element-630">x+y\times p^{x}</script> <br> —————————————————————————————————————————————————————————————————————— <br> 学了一天的字符串哈希，还是不怎么懂，下面写出来我的一些微薄的理解。</p> 
  <p>模板等做题了再贴！</p> 
  <p>翻了很多博客，发现就是没人介绍关于求区间字串的哈希值的方法，希望有大佬能为萌新解答一下。</p> 
  <p>经过<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-631-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>h</mi><mi>a</mi><mi>s</mi><mi>h</mi></math>" role="presentation">
    <nobr aria-hidden="true">
     <span class="math" id="MathJax-Span-8184" style="width: 2.659em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.19em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.305em, 1002.19em, 2.294em, -999.997em); top: -2.133em; left: 0em;"><span class="mrow" id="MathJax-Span-8185"><span class="mi" id="MathJax-Span-8186" style="font-family: MathJax_Math-italic;">h</span><span class="mi" id="MathJax-Span-8187" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-8188" style="font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-8189" style="font-family: MathJax_Math-italic;">h</span></span><span style="display: inline-block; width: 0px; height: 2.138em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span>
    </nobr><span class="MJX_Assistive_MathML" role="presentation">
     <math xmlns="http://www.w3.org/1998/Math/MathML">
      <mi>
       h
      </mi>
      <mi>
       a
      </mi>
      <mi>
       s
      </mi>
      <mi>
       h
      </mi>
     </math></span></span><script type="math/tex" id="MathJax-Element-631">hash</script>处理后，在哈希数组<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-632-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>h</mi></math>" role="presentation">
    <nobr aria-hidden="true">
     <span class="math" id="MathJax-Span-8190" style="width: 0.732em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.576em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.305em, 1000.58em, 2.294em, -999.997em); top: -2.133em; left: 0em;"><span class="mrow" id="MathJax-Span-8191"><span class="mi" id="MathJax-Span-8192" style="font-family: MathJax_Math-italic;">h</span></span><span style="display: inline-block; width: 0px; height: 2.138em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span>
    </nobr><span class="MJX_Assistive_MathML" role="presentation">
     <math xmlns="http://www.w3.org/1998/Math/MathML">
      <mi>
       h
      </mi>
     </math></span></span><script type="math/tex" id="MathJax-Element-632">h</script>中，单个的<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-633-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>h</mi><mi>a</mi><mi>s</mi><mi>h</mi><mo stretchy=&quot;false&quot;>[</mo><mi>i</mi><mo stretchy=&quot;false&quot;>]</mo></math>" role="presentation">
    <nobr aria-hidden="true">
     <span class="math" id="MathJax-Span-8193" style="width: 3.648em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.023em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.305em, 1002.92em, 2.607em, -999.997em); top: -2.185em; left: 0em;"><span class="mrow" id="MathJax-Span-8194"><span class="mi" id="MathJax-Span-8195" style="font-family: MathJax_Math-italic;">h</span><span class="mi" id="MathJax-Span-8196" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-8197" style="font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-8198" style="font-family: MathJax_Math-italic;">h</span><span class="mo" id="MathJax-Span-8199" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-8200" style="font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-8201" style="font-family: MathJax_Main;">]</span></span><span style="display: inline-block; width: 0px; height: 2.19em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span>
    </nobr><span class="MJX_Assistive_MathML" role="presentation">
     <math xmlns="http://www.w3.org/1998/Math/MathML">
      <mi>
       h
      </mi>
      <mi>
       a
      </mi>
      <mi>
       s
      </mi>
      <mi>
       h
      </mi>
      <mo stretchy="false">
       [
      </mo>
      <mi>
       i
      </mi>
      <mo stretchy="false">
       ]
      </mo>
     </math></span></span><script type="math/tex" id="MathJax-Element-633">hash[i]</script>表示的不仅仅是简单的前缀和，这与前面乘的系数<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-634-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>p</mi></math>" role="presentation">
    <nobr aria-hidden="true">
     <span class="math" id="MathJax-Span-8202" style="width: 0.628em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.565em, 1000.52em, 2.503em, -999.997em); top: -2.133em; left: 0em;"><span class="mrow" id="MathJax-Span-8203"><span class="mi" id="MathJax-Span-8204" style="font-family: MathJax_Math-italic;">p</span></span><span style="display: inline-block; width: 0px; height: 2.138em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;"></span></span>
    </nobr><span class="MJX_Assistive_MathML" role="presentation">
     <math xmlns="http://www.w3.org/1998/Math/MathML">
      <mi>
       p
      </mi>
     </math></span></span><script type="math/tex" id="MathJax-Element-634">p</script>有关。</p> 
  <p><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180422224103722?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lpcXpx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述" title=""> <br> <img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180422224033210?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lpcXpx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述" title=""></p> 
  <p>又发现了一个规律：<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-635-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>h</mi><mi>a</mi><mi>s</mi><mi>h</mi><mo stretchy=&quot;false&quot;>[</mo><mi>i</mi><mo>,</mo><mi>j</mi><mo stretchy=&quot;false&quot;>]</mo></math>" role="presentation">
    <nobr aria-hidden="true">
     <span class="math" id="MathJax-Span-8205" style="width: 4.638em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.857em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.305em, 1003.75em, 2.607em, -999.997em); top: -2.185em; left: 0em;"><span class="mrow" id="MathJax-Span-8206"><span class="mi" id="MathJax-Span-8207" style="font-family: MathJax_Math-italic;">h</span><span class="mi" id="MathJax-Span-8208" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-8209" style="font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-8210" style="font-family: MathJax_Math-italic;">h</span><span class="mo" id="MathJax-Span-8211" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-8212" style="font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-8213" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-8214" style="font-family: MathJax_Math-italic; padding-left: 0.159em;">j</span><span class="mo" id="MathJax-Span-8215" style="font-family: MathJax_Main;">]</span></span><span style="display: inline-block; width: 0px; height: 2.19em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span>
    </nobr><span class="MJX_Assistive_MathML" role="presentation">
     <math xmlns="http://www.w3.org/1998/Math/MathML">
      <mi>
       h
      </mi>
      <mi>
       a
      </mi>
      <mi>
       s
      </mi>
      <mi>
       h
      </mi>
      <mo stretchy="false">
       [
      </mo>
      <mi>
       i
      </mi>
      <mo>
       ,
      </mo>
      <mi>
       j
      </mi>
      <mo stretchy="false">
       ]
      </mo>
     </math></span></span><script type="math/tex" id="MathJax-Element-635">hash[i,j]</script>区间的值其实就是<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-636-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>s</mi><mo stretchy=&quot;false&quot;>[</mo><mi>i</mi><mo stretchy=&quot;false&quot;>]</mo><mo>&amp;#x2217;</mo><msup><mi>p</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>j</mi><mo>&amp;#x2212;</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></mrow></msup><mo>+</mo><mi>s</mi><mo stretchy=&quot;false&quot;>[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy=&quot;false&quot;>]</mo><mo>&amp;#x2217;</mo><msup><mi>p</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>j</mi><mo>&amp;#x2212;</mo><mi>i</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></mrow></msup><mo>+</mo><mo>.</mo><mo>.</mo><mo>.</mo><mo>.</mo><mo>.</mo><mo>+</mo><mi>s</mi><mo stretchy=&quot;false&quot;>[</mo><mi>j</mi><mo stretchy=&quot;false&quot;>]</mo><mo>;</mo></math>" role="presentation">
    <nobr aria-hidden="true">
     <span class="math" id="MathJax-Span-8216" style="width: 21.721em; display: inline-block;"><span style="display: inline-block; position: relative; width: 18.076em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.148em, 1018.02em, 2.607em, -999.997em); top: -2.185em; left: 0em;"><span class="mrow" id="MathJax-Span-8217"><span class="mi" id="MathJax-Span-8218" style="font-family: MathJax_Math-italic;">s</span><span class="mo" id="MathJax-Span-8219" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-8220" style="font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-8221" style="font-family: MathJax_Main;">]</span><span class="mo" id="MathJax-Span-8222" style="font-family: MathJax_Main; padding-left: 0.211em;">∗</span><span class="msubsup" id="MathJax-Span-8223" style="padding-left: 0.211em;"><span style="display: inline-block; position: relative; width: 2.19em; height: 0px;"><span style="position: absolute; clip: rect(3.44em, 1000.52em, 4.378em, -999.997em); top: -4.008em; left: 0em;"><span class="mi" id="MathJax-Span-8224" style="font-family: MathJax_Math-italic;">p</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; top: -4.372em; left: 0.523em;"><span class="texatom" id="MathJax-Span-8225"><span class="mrow" id="MathJax-Span-8226"><span class="mo" id="MathJax-Span-8227" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-8228" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mo" id="MathJax-Span-8229" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mi" id="MathJax-Span-8230" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-8231" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span><span class="mo" id="MathJax-Span-8232" style="font-family: MathJax_Main; padding-left: 0.211em;">+</span><span class="mi" id="MathJax-Span-8233" style="font-family: MathJax_Math-italic; padding-left: 0.211em;">s</span><span class="mo" id="MathJax-Span-8234" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-8235" style="font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-8236" style="font-family: MathJax_Main; padding-left: 0.211em;">+</span><span class="mn" id="MathJax-Span-8237" style="font-family: MathJax_Main; padding-left: 0.211em;">1</span><span class="mo" id="MathJax-Span-8238" style="font-family: MathJax_Main;">]</span><span class="mo" id="MathJax-Span-8239" style="font-family: MathJax_Main; padding-left: 0.211em;">∗</span><span class="msubsup" id="MathJax-Span-8240" style="padding-left: 0.211em;"><span style="display: inline-block; position: relative; width: 3.128em; height: 0px;"><span style="position: absolute; clip: rect(3.44em, 1000.52em, 4.378em, -999.997em); top: -4.008em; left: 0em;"><span class="mi" id="MathJax-Span-8241" style="font-family: MathJax_Math-italic;">p</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; top: -4.372em; left: 0.523em;"><span class="texatom" id="MathJax-Span-8242"><span class="mrow" id="MathJax-Span-8243"><span class="mo" id="MathJax-Span-8244" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-8245" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mo" id="MathJax-Span-8246" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mi" id="MathJax-Span-8247" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-8248" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-8249" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-8250" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span><span class="mo" id="MathJax-Span-8251" style="font-family: MathJax_Main;">+</span><span class="mo" id="MathJax-Span-8252" style="font-family: MathJax_Main;">.</span><span class="mo" id="MathJax-Span-8253" style="font-family: MathJax_Main; padding-left: 0.159em;">.</span><span class="mo" id="MathJax-Span-8254" style="font-family: MathJax_Main; padding-left: 0.159em;">.</span><span class="mo" id="MathJax-Span-8255" style="font-family: MathJax_Main; padding-left: 0.159em;">.</span><span class="mo" id="MathJax-Span-8256" style="font-family: MathJax_Main; padding-left: 0.159em;">.</span><span class="mo" id="MathJax-Span-8257" style="font-family: MathJax_Main; padding-left: 0.159em;">+</span><span class="mi" id="MathJax-Span-8258" style="font-family: MathJax_Math-italic;">s</span><span class="mo" id="MathJax-Span-8259" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-8260" style="font-family: MathJax_Math-italic;">j</span><span class="mo" id="MathJax-Span-8261" style="font-family: MathJax_Main;">]</span><span class="mo" id="MathJax-Span-8262" style="font-family: MathJax_Main;">;</span></span><span style="display: inline-block; width: 0px; height: 2.19em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.503em;"></span></span>
    </nobr><span class="MJX_Assistive_MathML" role="presentation">
     <math xmlns="http://www.w3.org/1998/Math/MathML">
      <mi>
       s
      </mi>
      <mo stretchy="false">
       [
      </mo>
      <mi>
       i
      </mi>
      <mo stretchy="false">
       ]
      </mo>
      <mo>
       ∗
      </mo>
      <msup>
       <mi>
        p
       </mi>
       <mrow class="MJX-TeXAtom-ORD">
        <mo stretchy="false">
         (
        </mo>
        <mi>
         j
        </mi>
        <mo>
         −
        </mo>
        <mi>
         i
        </mi>
        <mo stretchy="false">
         )
        </mo>
       </mrow>
      </msup>
      <mo>
       +
      </mo>
      <mi>
       s
      </mi>
      <mo stretchy="false">
       [
      </mo>
      <mi>
       i
      </mi>
      <mo>
       +
      </mo>
      <mn>
       1
      </mn>
      <mo stretchy="false">
       ]
      </mo>
      <mo>
       ∗
      </mo>
      <msup>
       <mi>
        p
       </mi>
       <mrow class="MJX-TeXAtom-ORD">
        <mo stretchy="false">
         (
        </mo>
        <mi>
         j
        </mi>
        <mo>
         −
        </mo>
        <mi>
         i
        </mi>
        <mo>
         −
        </mo>
        <mn>
         1
        </mn>
        <mo stretchy="false">
         )
        </mo>
       </mrow>
      </msup>
      <mo>
       +
      </mo>
      <mo>
       .
      </mo>
      <mo>
       .
      </mo>
      <mo>
       .
      </mo>
      <mo>
       .
      </mo>
      <mo>
       .
      </mo>
      <mo>
       +
      </mo>
      <mi>
       s
      </mi>
      <mo stretchy="false">
       [
      </mo>
      <mi>
       j
      </mi>
      <mo stretchy="false">
       ]
      </mo>
      <mo>
       ;
      </mo>
     </math></span></span><script type="math/tex" id="MathJax-Element-636">s[i]*p^{(j-i)}+s[i+1]*p^{(j-i-1)}+.....+s[j];</script></p> 
  <p>举个例子，<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-637-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>h</mi><mi>a</mi><mi>s</mi><mi>h</mi><mo stretchy=&quot;false&quot;>(</mo><mn>2</mn><mo>,</mo><mn>4</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation">
    <nobr aria-hidden="true">
     <span class="math" id="MathJax-Span-8263" style="width: 5.211em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.326em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.305em, 1004.22em, 2.607em, -999.997em); top: -2.185em; left: 0em;"><span class="mrow" id="MathJax-Span-8264"><span class="mi" id="MathJax-Span-8265" style="font-family: MathJax_Math-italic;">h</span><span class="mi" id="MathJax-Span-8266" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-8267" style="font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-8268" style="font-family: MathJax_Math-italic;">h</span><span class="mo" id="MathJax-Span-8269" style="font-family: MathJax_Main;">(</span><span class="mn" id="MathJax-Span-8270" style="font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-8271" style="font-family: MathJax_Main;">,</span><span class="mn" id="MathJax-Span-8272" style="font-family: MathJax_Main; padding-left: 0.159em;">4</span><span class="mo" id="MathJax-Span-8273" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.19em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span>
    </nobr><span class="MJX_Assistive_MathML" role="presentation">
     <math xmlns="http://www.w3.org/1998/Math/MathML">
      <mi>
       h
      </mi>
      <mi>
       a
      </mi>
      <mi>
       s
      </mi>
      <mi>
       h
      </mi>
      <mo stretchy="false">
       (
      </mo>
      <mn>
       2
      </mn>
      <mo>
       ,
      </mo>
      <mn>
       4
      </mn>
      <mo stretchy="false">
       )
      </mo>
     </math></span></span><script type="math/tex" id="MathJax-Element-637">hash(2,4)</script>就是<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-638-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>s</mi><mo stretchy=&quot;false&quot;>[</mo><mn>2</mn><mo stretchy=&quot;false&quot;>]</mo><mo>&amp;#x2217;</mo><msup><mi>p</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn></mrow></msup><mo>+</mo><mi>s</mi><mo stretchy=&quot;false&quot;>[</mo><mn>3</mn><mo stretchy=&quot;false&quot;>]</mo><mo>&amp;#x2217;</mo><mi>p</mi><mo>+</mo><mi>s</mi><mo stretchy=&quot;false&quot;>[</mo><mn>4</mn><mo stretchy=&quot;false&quot;>]</mo></math>" role="presentation">
    <nobr aria-hidden="true">
     <span class="math" id="MathJax-Span-8274" style="width: 12.346em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.263em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.201em, 1010.16em, 2.607em, -999.997em); top: -2.185em; left: 0em;"><span class="mrow" id="MathJax-Span-8275"><span class="mi" id="MathJax-Span-8276" style="font-family: MathJax_Math-italic;">s</span><span class="mo" id="MathJax-Span-8277" style="font-family: MathJax_Main;">[</span><span class="mn" id="MathJax-Span-8278" style="font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-8279" style="font-family: MathJax_Main;">]</span><span class="mo" id="MathJax-Span-8280" style="font-family: MathJax_Main; padding-left: 0.211em;">∗</span><span class="msubsup" id="MathJax-Span-8281" style="padding-left: 0.211em;"><span style="display: inline-block; position: relative; width: 0.94em; height: 0px;"><span style="position: absolute; clip: rect(3.44em, 1000.52em, 4.378em, -999.997em); top: -4.008em; left: 0em;"><span class="mi" id="MathJax-Span-8282" style="font-family: MathJax_Math-italic;">p</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; top: -4.372em; left: 0.523em;"><span class="texatom" id="MathJax-Span-8283"><span class="mrow" id="MathJax-Span-8284"><span class="mn" id="MathJax-Span-8285" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span><span class="mo" id="MathJax-Span-8286" style="font-family: MathJax_Main; padding-left: 0.211em;">+</span><span class="mi" id="MathJax-Span-8287" style="font-family: MathJax_Math-italic; padding-left: 0.211em;">s</span><span class="mo" id="MathJax-Span-8288" style="font-family: MathJax_Main;">[</span><span class="mn" id="MathJax-Span-8289" style="font-family: MathJax_Main;">3</span><span class="mo" id="MathJax-Span-8290" style="font-family: MathJax_Main;">]</span><span class="mo" id="MathJax-Span-8291" style="font-family: MathJax_Main; padding-left: 0.211em;">∗</span><span class="mi" id="MathJax-Span-8292" style="font-family: MathJax_Math-italic; padding-left: 0.211em;">p</span><span class="mo" id="MathJax-Span-8293" style="font-family: MathJax_Main; padding-left: 0.211em;">+</span><span class="mi" id="MathJax-Span-8294" style="font-family: MathJax_Math-italic; padding-left: 0.211em;">s</span><span class="mo" id="MathJax-Span-8295" style="font-family: MathJax_Main;">[</span><span class="mn" id="MathJax-Span-8296" style="font-family: MathJax_Main;">4</span><span class="mo" id="MathJax-Span-8297" style="font-family: MathJax_Main;">]</span></span><span style="display: inline-block; width: 0px; height: 2.19em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.441em;"></span></span>
    </nobr><span class="MJX_Assistive_MathML" role="presentation">
     <math xmlns="http://www.w3.org/1998/Math/MathML">
      <mi>
       s
      </mi>
      <mo stretchy="false">
       [
      </mo>
      <mn>
       2
      </mn>
      <mo stretchy="false">
       ]
      </mo>
      <mo>
       ∗
      </mo>
      <msup>
       <mi>
        p
       </mi>
       <mrow class="MJX-TeXAtom-ORD">
        <mn>
         2
        </mn>
       </mrow>
      </msup>
      <mo>
       +
      </mo>
      <mi>
       s
      </mi>
      <mo stretchy="false">
       [
      </mo>
      <mn>
       3
      </mn>
      <mo stretchy="false">
       ]
      </mo>
      <mo>
       ∗
      </mo>
      <mi>
       p
      </mi>
      <mo>
       +
      </mo>
      <mi>
       s
      </mi>
      <mo stretchy="false">
       [
      </mo>
      <mn>
       4
      </mn>
      <mo stretchy="false">
       ]
      </mo>
     </math></span></span><script type="math/tex" id="MathJax-Element-638">s[2]*p^{2}+s[3]*p+s[4]</script></p> 
  <p><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180422232721778?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lpcXpx/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述" title=""></p> 
  <p><font color="red"><strong>当确定一个区间的哈希值的时时候,假设当是[lL,R],那么如果R变大,那么整体哈希值的变化就是先乘上种子p,然后再加上R+1的值,如果是区间减少变成[L+1,R]那么哈希值的变化就是减去L对应这一位的哈希值</strong></font> <br> ————————————————————————————————————————— <br> 2018年4月24日更新</p> 
  <p>发现了一个哈希+线段树的题目，这里就要求区间的合并，于是去推了下公式，<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-639-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>h</mi><mi>a</mi><mi>s</mi><mi>h</mi><mo stretchy=&quot;false&quot;>(</mo><mi>i</mi><mo>,</mo><mi>j</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>h</mi><mi>a</mi><mi>s</mi><mi>h</mi><mo stretchy=&quot;false&quot;>[</mo><mi>i</mi><mo>,</mo><mi>k</mi><mo stretchy=&quot;false&quot;>]</mo><mo>&amp;#x2217;</mo><mi>s</mi><mi>e</mi><mi>e</mi><msup><mi>d</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>j</mi><mo>&amp;#x2212;</mo><mi>k</mi><mo>+</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></mrow></msup><mo>+</mo><mi>h</mi><mi>a</mi><mi>s</mi><mi>h</mi><mo stretchy=&quot;false&quot;>[</mo><mi>j</mi><mo>,</mo><mi>k</mi><mo stretchy=&quot;false&quot;>]</mo><mo>;</mo></math>" role="presentation">
    <nobr aria-hidden="true">
     <span class="math" id="MathJax-Span-8298" style="width: 24.638em; display: inline-block;"><span style="display: inline-block; position: relative; width: 20.523em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.148em, 1020.47em, 2.607em, -999.997em); top: -2.185em; left: 0em;"><span class="mrow" id="MathJax-Span-8299"><span class="mi" id="MathJax-Span-8300" style="font-family: MathJax_Math-italic;">h</span><span class="mi" id="MathJax-Span-8301" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-8302" style="font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-8303" style="font-family: MathJax_Math-italic;">h</span><span class="mo" id="MathJax-Span-8304" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-8305" style="font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-8306" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-8307" style="font-family: MathJax_Math-italic; padding-left: 0.159em;">j</span><span class="mo" id="MathJax-Span-8308" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-8309" style="font-family: MathJax_Main; padding-left: 0.263em;">=</span><span class="mi" id="MathJax-Span-8310" style="font-family: MathJax_Math-italic; padding-left: 0.263em;">h</span><span class="mi" id="MathJax-Span-8311" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-8312" style="font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-8313" style="font-family: MathJax_Math-italic;">h</span><span class="mo" id="MathJax-Span-8314" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-8315" style="font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-8316" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-8317" style="font-family: MathJax_Math-italic; padding-left: 0.159em;">k</span><span class="mo" id="MathJax-Span-8318" style="font-family: MathJax_Main;">]</span><span class="mo" id="MathJax-Span-8319" style="font-family: MathJax_Main; padding-left: 0.211em;">∗</span><span class="mi" id="MathJax-Span-8320" style="font-family: MathJax_Math-italic; padding-left: 0.211em;">s</span><span class="mi" id="MathJax-Span-8321" style="font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-8322" style="font-family: MathJax_Math-italic;">e</span><span class="msubsup" id="MathJax-Span-8323"><span style="display: inline-block; position: relative; width: 3.336em; height: 0px;"><span style="position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;"><span class="mi" id="MathJax-Span-8324" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; top: -4.372em; left: 0.576em;"><span class="texatom" id="MathJax-Span-8325"><span class="mrow" id="MathJax-Span-8326"><span class="mo" id="MathJax-Span-8327" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-8328" style="font-size: 70.7%; font-family: MathJax_Math-italic;">j</span><span class="mo" id="MathJax-Span-8329" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mi" id="MathJax-Span-8330" style="font-size: 70.7%; font-family: MathJax_Math-italic;">k</span><span class="mo" id="MathJax-Span-8331" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-8332" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-8333" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span><span class="mo" id="MathJax-Span-8334" style="font-family: MathJax_Main; padding-left: 0.211em;">+</span><span class="mi" id="MathJax-Span-8335" style="font-family: MathJax_Math-italic; padding-left: 0.211em;">h</span><span class="mi" id="MathJax-Span-8336" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-8337" style="font-family: MathJax_Math-italic;">s</span><span class="mi" id="MathJax-Span-8338" style="font-family: MathJax_Math-italic;">h</span><span class="mo" id="MathJax-Span-8339" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-8340" style="font-family: MathJax_Math-italic;">j</span><span class="mo" id="MathJax-Span-8341" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-8342" style="font-family: MathJax_Math-italic; padding-left: 0.159em;">k</span><span class="mo" id="MathJax-Span-8343" style="font-family: MathJax_Main;">]</span><span class="mo" id="MathJax-Span-8344" style="font-family: MathJax_Main;">;</span></span><span style="display: inline-block; width: 0px; height: 2.19em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.503em;"></span></span>
    </nobr><span class="MJX_Assistive_MathML" role="presentation">
     <math xmlns="http://www.w3.org/1998/Math/MathML">
      <mi>
       h
      </mi>
      <mi>
       a
      </mi>
      <mi>
       s
      </mi>
      <mi>
       h
      </mi>
      <mo stretchy="false">
       (
      </mo>
      <mi>
       i
      </mi>
      <mo>
       ,
      </mo>
      <mi>
       j
      </mi>
      <mo stretchy="false">
       )
      </mo>
      <mo>
       =
      </mo>
      <mi>
       h
      </mi>
      <mi>
       a
      </mi>
      <mi>
       s
      </mi>
      <mi>
       h
      </mi>
      <mo stretchy="false">
       [
      </mo>
      <mi>
       i
      </mi>
      <mo>
       ,
      </mo>
      <mi>
       k
      </mi>
      <mo stretchy="false">
       ]
      </mo>
      <mo>
       ∗
      </mo>
      <mi>
       s
      </mi>
      <mi>
       e
      </mi>
      <mi>
       e
      </mi>
      <msup>
       <mi>
        d
       </mi>
       <mrow class="MJX-TeXAtom-ORD">
        <mo stretchy="false">
         (
        </mo>
        <mi>
         j
        </mi>
        <mo>
         −
        </mo>
        <mi>
         k
        </mi>
        <mo>
         +
        </mo>
        <mn>
         1
        </mn>
        <mo stretchy="false">
         )
        </mo>
       </mrow>
      </msup>
      <mo>
       +
      </mo>
      <mi>
       h
      </mi>
      <mi>
       a
      </mi>
      <mi>
       s
      </mi>
      <mi>
       h
      </mi>
      <mo stretchy="false">
       [
      </mo>
      <mi>
       j
      </mi>
      <mo>
       ,
      </mo>
      <mi>
       k
      </mi>
      <mo stretchy="false">
       ]
      </mo>
      <mo>
       ;
      </mo>
     </math></span></span><script type="math/tex" id="MathJax-Element-639">hash(i,j)=hash[i,k]*seed^{(j-k+1)}+hash[j,k];</script></p> 
  <p>————————————————————————————————————————— <br> 2018年4月28日更新</p> 
  <p>今天又学到了一种骚操作——如何计算将原字符串改变若干个字母后的哈希值。（不过有一个限制，就是在求字符串的哈希是，只有一个变量，而不是开了一个数组记录每一位的哈希值）</p> 
  <p>公式推就不推了，只是记录下公式结果： <br> 首先明确字符串下标从1开始，字符串长度是len,改变的元素是s[i],将s[i]要改为c</p> 
  <p><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-640-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>h</mi><mo>=</mo><mi>h</mi><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mi>c</mi><mo>&amp;#x2212;</mo><mi>s</mi><mo stretchy=&quot;false&quot;>[</mo><mi>i</mi><mo stretchy=&quot;false&quot;>]</mo><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2217;</mo><msup><mi>p</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>l</mi><mi>e</mi><mi>n</mi><mo>&amp;#x2212;</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></mrow></msup><mo>;</mo></math>" role="presentation">
    <nobr aria-hidden="true">
     <span class="math" id="MathJax-Span-8345" style="width: 13.753em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.461em; height: 0px; font-size: 120%;"><span style="position: absolute; clip: rect(1.148em, 1011.41em, 2.607em, -999.997em); top: -2.185em; left: 0em;"><span class="mrow" id="MathJax-Span-8346"><span class="mi" id="MathJax-Span-8347" style="font-family: MathJax_Math-italic;">h</span><span class="mo" id="MathJax-Span-8348" style="font-family: MathJax_Main; padding-left: 0.263em;">=</span><span class="mi" id="MathJax-Span-8349" style="font-family: MathJax_Math-italic; padding-left: 0.263em;">h</span><span class="mo" id="MathJax-Span-8350" style="font-family: MathJax_Main; padding-left: 0.211em;">+</span><span class="mo" id="MathJax-Span-8351" style="font-family: MathJax_Main; padding-left: 0.211em;">(</span><span class="mi" id="MathJax-Span-8352" style="font-family: MathJax_Math-italic;">c</span><span class="mo" id="MathJax-Span-8353" style="font-family: MathJax_Main; padding-left: 0.211em;">−</span><span class="mi" id="MathJax-Span-8354" style="font-family: MathJax_Math-italic; padding-left: 0.211em;">s</span><span class="mo" id="MathJax-Span-8355" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-8356" style="font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-8357" style="font-family: MathJax_Main;">]</span><span class="mo" id="MathJax-Span-8358" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-8359" style="font-family: MathJax_Main; padding-left: 0.211em;">∗</span><span class="msubsup" id="MathJax-Span-8360" style="padding-left: 0.211em;"><span style="display: inline-block; position: relative; width: 2.867em; height: 0px;"><span style="position: absolute; clip: rect(3.44em, 1000.52em, 4.378em, -999.997em); top: -4.008em; left: 0em;"><span class="mi" id="MathJax-Span-8361" style="font-family: MathJax_Math-italic;">p</span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span><span style="position: absolute; top: -4.372em; left: 0.523em;"><span class="texatom" id="MathJax-Span-8362"><span class="mrow" id="MathJax-Span-8363"><span class="mo" id="MathJax-Span-8364" style="font-size: 70.7%; font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-8365" style="font-size: 70.7%; font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-8366" style="font-size: 70.7%; font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-8367" style="font-size: 70.7%; font-family: MathJax_Math-italic;">n</span><span class="mo" id="MathJax-Span-8368" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mi" id="MathJax-Span-8369" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-8370" style="font-size: 70.7%; font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.013em;"></span></span></span></span><span class="mo" id="MathJax-Span-8371" style="font-family: MathJax_Main;">;</span></span><span style="display: inline-block; width: 0px; height: 2.19em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.503em;"></span></span>
    </nobr><span class="MJX_Assistive_MathML" role="presentation">
     <math xmlns="http://www.w3.org/1998/Math/MathML">
      <mi>
       h
      </mi>
      <mo>
       =
      </mo>
      <mi>
       h
      </mi>
      <mo>
       +
      </mo>
      <mo stretchy="false">
       (
      </mo>
      <mi>
       c
      </mi>
      <mo>
       −
      </mo>
      <mi>
       s
      </mi>
      <mo stretchy="false">
       [
      </mo>
      <mi>
       i
      </mi>
      <mo stretchy="false">
       ]
      </mo>
      <mo stretchy="false">
       )
      </mo>
      <mo>
       ∗
      </mo>
      <msup>
       <mi>
        p
       </mi>
       <mrow class="MJX-TeXAtom-ORD">
        <mo stretchy="false">
         (
        </mo>
        <mi>
         l
        </mi>
        <mi>
         e
        </mi>
        <mi>
         n
        </mi>
        <mo>
         −
        </mo>
        <mi>
         i
        </mi>
        <mo stretchy="false">
         )
        </mo>
       </mrow>
      </msup>
      <mo>
       ;
      </mo>
     </math></span></span><script type="math/tex" id="MathJax-Element-640">h=h+(c-s[i])*p^{(len-i)};</script></p> 
 </div> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/markdown_views-ea0013b516.css"> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/yiqzq/article/details/80042131,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/yiqzq/article/details/80042131,&quot;}">阅读更多</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0d1dbe5a3e5863242418b768d1601633";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
