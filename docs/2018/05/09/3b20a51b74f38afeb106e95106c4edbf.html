<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Golang汇编层面代码分析-内置函数和过程调用 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Golang汇编层面代码分析-内置函数和过程调用" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="绍Golang中的内置函数和相关操作代码的汇编实现，可以作为上篇博客的补充和实践。 汇编中过程调用的参数是通过栈来传递的，在栈上的布局如下： 参数3 参数2 参数1 &lt;-FP 保存PC &lt;-SP ... ... 内置函数: new, make, append package main import ( &quot;fmt&quot; ) type new_int int var ( gobal_1 = &quot;this is global var&quot; ) func main() { auto_1 := &quot;this is auto_1&quot; s0 := new(new_int) s1 := make([]int, 10) s2 := make([]int, 10) append(s2, 9999) fmt.Println(s1, s2) fmt.Println(s0) } 下面是汇编代码: &quot;&quot;.main t=1 size=1936 value=0 args=0x0 locals=0x128 // 定义函数main，栈帧大小为296字节，0字节的参数(无参数) 0x0000 00000 (builtin.go:13) TEXT &quot;&quot;.main+0(SB),$296-0 // 将线程本地存储(thread local storage)传送到CX 0x0000 00000 (builtin.go:13) MOVQ (TLS),CX // 下面是检查栈帧的大小是否超过目前分配的小 0x0009 00009 (builtin.go:13) LEAQ -168(SP),AX 0x0011 00017 (builtin.go:13) CMPQ AX,16(CX) 0x0015 00021 (builtin.go:13) JHI ,30 // 如果超过调用runtime.morestack_noctxt 0x0017 00023 (builtin.go:13) CALL ,runtime.morestack_noctxt(SB) 0x001c 00028 (builtin.go:13) JMP ,0 // 扩大栈帧 0x001e 00030 (builtin.go:13) SUBQ $296,SP 0x0025 00037 (builtin.go:13) FUNCDATA $0,gclocals·e14c7473fe07b0ccdc0fdfa1a770087b+0(SB) 0x0025 00037 (builtin.go:13) FUNCDATA $1,gclocals·7a70fcb413ec620f2a7a8c3ba5f394c1+0(SB) // 局部变量auto_1 0x0025 00037 (builtin.go:14) LEAQ go.string.&quot;this is auto_1&quot;+0(SB),BX // string在golang中是由数据本身和其长度组成的 // 将数据的地址移动到BP 0x002c 00044 (builtin.go:14) MOVQ (BX),BP // 移动BP到栈指针152字节的位置 0x002f 00047 (builtin.go:14) MOVQ BP,&quot;&quot;.auto_1+152(SP) // 将字符串长度移动到BP 0x0037 00055 (builtin.go:14) MOVQ 8(BX),BP // 移动BP到栈指针160字节的位置 0x003b 00059 (builtin.go:14) MOVQ BP,&quot;&quot;.auto_1+160(SP) // new_int类型的初始化 // 将类型本身移动到BX 0x0043 00067 (builtin.go:17) MOVQ $type.&quot;&quot;.new_int+0(SB),BX // 将BX移动到栈顶 0x004a 00074 (builtin.go:17) MOVQ BX,(SP) 0x004e 00078 (builtin.go:17) PCDATA $0,$1 // 调用runtime.newobject 0x004e 00078 (builtin.go:17) CALL ,runtime.newobject(SB) // 将返回的结果移动到BX 0x0053 00083 (builtin.go:17) MOVQ 8(SP),BX // 移动BP到栈指针80字节的位置 0x0058 00088 (builtin.go:17) MOVQ BX,&quot;&quot;.s1+80(SP) 0x005d 00093 (builtin.go:17) NOP , // 创建slice s1 // 将类型移动到BX 0x005d 00093 (builtin.go:18) MOVQ $type.[]int+0(SB),BX // 将BX(类型)移动到栈顶 0x0064 00100 (builtin.go:18) MOVQ BX,(SP) // 将长度参数len移动到相对于栈顶8字节的位置 0x0068 00104 (builtin.go:18) MOVQ $10,8(SP) // 将容量参数cap移动到相对于栈顶16字节的位置 0x0071 00113 (builtin.go:18) MOVQ $10,16(SP) 0x007a 00122 (builtin.go:18) PCDATA $0,$2 // 调用runtime.makeslice 0x007a 00122 (builtin.go:18) CALL ,runtime.makeslice(SB) // 创建出的s1的参数分别保存在相对栈顶24, 32, 40字节的位置 0x007f 00127 (builtin.go:18) MOVQ 24(SP),DX 0x0084 00132 (builtin.go:18) MOVQ 32(SP),CX 0x0089 00137 (builtin.go:18) MOVQ 40(SP),BX // CX中保存的是slice的len参数 0x008e 00142 (builtin.go:20) MOVQ CX,&quot;&quot;.s2_len+64(SP) 0x0093 00147 (builtin.go:20) NOP , // 将slice的array, len, cap传送给s2 0x0093 00147 (builtin.go:21) MOVQ DX,&quot;&quot;.s2+168(SP) 0x009b 00155 (builtin.go:21) MOVQ CX,&quot;&quot;.s2+176(SP) 0x00a3 00163 (builtin.go:21) MOVQ BX,&quot;&quot;.s2+184(SP) 0x00ab 00171 (builtin.go:21) MOVQ BX,AX // 从BX中减去CX的值，结果保存在BX 0x00ae 00174 (builtin.go:21) SUBQ CX,BX 0x00b1 00177 (builtin.go:21) CMPQ BX,$1 0x00b5 00181 (builtin.go:21) JGE ,262 // 将类型传送到栈顶 0x00b7 00183 (builtin.go:21) MOVQ $type.[]int+0(SB),BX 0x00be 00190 (builtin.go:21) MOVQ BX,(SP) // 将旧的slice传送到栈的第二个参数 0x00c2 00194 (builtin.go:21) MOVQ DX,&quot;&quot;.autotmp_0001+240(SP) 0x00ca 00202 (builtin.go:21) MOVQ DX,8(SP) // 将长度传送到栈上第三个参数(s2的长度) 0x00cf 00207 (builtin.go:21) MOVQ CX,&quot;&quot;.autotmp_0001+248(SP) 0x00d7 00215 (builtin.go:21) MOVQ CX,16(SP) // 将33行的BX的值重新保存到24(SP)，即s2的array 0x00dc 00220 (builtin.go:21) MOVQ AX,&quot;&quot;.autotmp_0001+256(SP) 0x00e4 00228 (builtin.go:21) MOVQ AX,24(SP) // 将s2的长度置为1 0x00e9 00233 (builtin.go:21) MOVQ $1,32(SP) // 调用growslice 0x00f2 00242 (builtin.go:21) PCDATA $0,$2 0x00f2 00242 (builtin.go:21) CALL ,runtime.growslice(SB) // 3个返回值(sliceStruct) 0x00f7 00247 (builtin.go:21) MOVQ 40(SP),DX 0x00fc 00252 (builtin.go:21) MOVQ 48(SP),CX 0x0101 00257 (builtin.go:21) MOVQ 56(SP),AX // 增加返回的结构中len参数长度，增加1 0x0106 00262 (builtin.go:21) MOVQ CX,SI 0x0109 00265 (builtin.go:21) INCQ ,SI // 变址寻址，DX+CX*8 0x010c 00268 (builtin.go:21) LEAQ (DX)(CX*8),BX // 将立即数9999传递到(BX)的内存位置 0x0110 00272 (builtin.go:21) MOVQ $9999,(BX) 0x0117 00279 (builtin.go:21) NOP , 0x0117 00279 (builtin.go:21) MOVQ DX,&quot;&quot;.autotmp_0001+240(SP) 0x011f 00287 (builtin.go:21) MOVQ SI,&quot;&quot;.autotmp_0001+248(SP) 0x0127 00295 (builtin.go:21) MOVQ AX,&quot;&quot;.autotmp_0001+256(SP) // 将新的slice的参数传递给s2 0x012f 00303 (builtin.go:21) MOVQ DX,&quot;&quot;.s2+168(SP) 0x0137 00311 (builtin.go:21) MOVQ SI,&quot;&quot;.s2+176(SP) 0x013f 00319 (builtin.go:21) MOVQ AX,&quot;&quot;.s2+184(SP) 0x0147 00327 (builtin.go:21) NOP , 内置函数: copy package main import ( &quot;fmt&quot; ) func main() { s1 := make([]int, 10) s2 := make([]int, 10) copy(s1, s2) fmt.Println(s1, s2) } 下面是汇编代码: &quot;&quot;.main t=1 size=624 value=0 args=0x0 locals=0x108 0x0000 00000 (builtin.go:7) TEXT &quot;&quot;.main+0(SB),$264-0 0x0000 00000 (builtin.go:7) MOVQ (TLS),CX 0x0009 00009 (builtin.go:7) LEAQ -136(SP),AX 0x0011 00017 (builtin.go:7) CMPQ AX,16(CX) 0x0015 00021 (builtin.go:7) JHI ,30 0x0017 00023 (builtin.go:7) CALL ,runtime.morestack_noctxt(SB) 0x001c 00028 (builtin.go:7) JMP ,0 0x001e 00030 (builtin.go:7) SUBQ $264,SP 0x0025 00037 (builtin.go:7) FUNCDATA $0,gclocals·7c13896baab3273e10662a9a37b348ce+0(SB) 0x0025 00037 (builtin.go:7) FUNCDATA $1,gclocals·978d33e7717760c8870a69548dc9a2fb+0(SB) // 创建切片s1 0x0025 00037 (builtin.go:8) MOVQ $type.[]int+0(SB),BX 0x002c 00044 (builtin.go:8) MOVQ BX,(SP) 0x0030 00048 (builtin.go:8) MOVQ $10,8(SP) 0x0039 00057 (builtin.go:8) MOVQ $10,16(SP) 0x0042 00066 (builtin.go:8) PCDATA $0,$0 0x0042 00066 (builtin.go:8) CALL ,runtime.makeslice(SB) 0x0047 00071 (builtin.go:8) MOVQ 24(SP),DX 0x004c 00076 (builtin.go:8) MOVQ 32(SP),CX 0x0051 00081 (builtin.go:8) MOVQ 40(SP),AX 0x0056 00086 (builtin.go:8) MOVQ DX,&quot;&quot;.s1+88(SP) 0x005b 00091 (builtin.go:8) MOVQ CX,&quot;&quot;.s1+96(SP) 0x0060 00096 (builtin.go:8) MOVQ AX,&quot;&quot;.s1+104(SP) // 创建切片s2 0x0065 00101 (builtin.go:9) MOVQ $type.[]int+0(SB),BX 0x006c 00108 (builtin.go:9) MOVQ BX,(SP) 0x0070 00112 (builtin.go:9) MOVQ $10,8(SP) 0x0079 00121 (builtin.go:9) MOVQ $10,16(SP) 0x0082 00130 (builtin.go:9) PCDATA $0,$1 0x0082 00130 (builtin.go:9) CALL ,runtime.makeslice(SB) 0x0087 00135 (builtin.go:9) MOVQ 24(SP),DX 0x008c 00140 (builtin.go:9) MOVQ 32(SP),CX 0x0091 00145 (builtin.go:9) MOVQ 40(SP),AX // 将s1的数据保存到SI, BP, BX 0x0096 00150 (builtin.go:11) MOVQ &quot;&quot;.s1+88(SP),SI 0x009b 00155 (builtin.go:11) MOVQ &quot;&quot;.s1+96(SP),BP 0x00a0 00160 (builtin.go:11) MOVQ &quot;&quot;.s1+104(SP),BX // 将BX保存到224(SP) 0x00a5 00165 (builtin.go:11) MOVQ BX,&quot;&quot;.autotmp_0005+224(SP) // 将s2的数据保存到栈上 0x00ad 00173 (builtin.go:11) MOVQ DX,&quot;&quot;.s2+64(SP) 0x00b2 00178 (builtin.go:11) MOVQ CX,&quot;&quot;.s2+72(SP) 0x00b7 00183 (builtin.go:11) MOVQ AX,&quot;&quot;.s2+80(SP) // 将AX保存到152(SP) 0x00bc 00188 (builtin.go:11) MOVQ AX,&quot;&quot;.autotmp_0006+152(SP) // 将BP保存到216(SP) 0x00c4 00196 (builtin.go:11) MOVQ BP,&quot;&quot;.autotmp_0000+216(SP) // 从204到220是比较s1和s2的长度 // 哪个比较大就用它作为参数 // 复制BP到AX, BP保存的是s1的len 0x00cc 00204 (builtin.go:11) MOVQ BP,AX // 将CX保存到144(SP) 0x00cf 00207 (builtin.go:11) MOVQ CX,&quot;&quot;.autotmp_0006+144(SP) // 比较s2的长度(CX)和s1的长度(BP) // 如果小于0则跳转到223 // 否则执行220 0x00d7 00215 (builtin.go:11) CMPQ CX,BP 0x00da 00218 (builtin.go:11) JGE ,223 0x00dc 00220 (builtin.go:11) MOVQ CX,AX // 将s1的array作为第一个参数 0x00df 00223 (builtin.go:11) MOVQ SI,&quot;&quot;.autotmp_0000+208(SP) 0x00e7 00231 (builtin.go:11) MOVQ SI,(SP) // 将s2的array作为第二个参数 0x00eb 00235 (builtin.go:11) MOVQ DX,&quot;&quot;.autotmp_0006+136(SP) 0x00f3 00243 (builtin.go:11) MOVQ DX,8(SP) // AX中保存的是s2的长度 0x00f8 00248 (builtin.go:11) MOVQ AX,BX // shl 左移位操作, 左移3位 0x00fb 00251 (builtin.go:11) SHLQ $3,BX // 将BX作为第三个参数 0x00ff 00255 (builtin.go:11) MOVQ BX,16(SP) 0x0104 00260 (builtin.go:11) PCDATA $0,$2 0x0104 00260 (builtin.go:11) CALL ,runtime.memmove(SB) 函数调用 package main import ( &quot;fmt&quot; ) func f1(a int) int { fmt.Println(a) return a + 123 } func main() { b := f1(123) fmt.Println(b) } 下面是汇编代码: &quot;&quot;.f1 t=1 size=240 value=0 args=0x10 locals=0x70 0x0000 00000 (builtin.3.go:7) TEXT &quot;&quot;.f1+0(SB),$112-16 0x0000 00000 (builtin.3.go:7) MOVQ (TLS),CX 0x0009 00009 (builtin.3.go:7) CMPQ SP,16(CX) 0x000d 00013 (builtin.3.go:7) JHI ,22 0x000f 00015 (builtin.3.go:7) CALL ,runtime.morestack_noctxt(SB) 0x0014 00020 (builtin.3.go:7) JMP ,0 0x0016 00022 (builtin.3.go:7) SUBQ $112,SP 0x001a 00026 (builtin.3.go:7) FUNCDATA $0,gclocals·480b8f52e76ecc554a5236babfd9a6e5+0(SB) 0x001a 00026 (builtin.3.go:7) FUNCDATA $1,gclocals·403a8d79fd24b295e8557f6970497aa3+0(SB) // 因为栈帧的大小是112字节 // 所以在120(FP)处保存的是第一个参数 0x001a 00026 (builtin.3.go:8) MOVQ &quot;&quot;.a+120(FP),BX // 下面的代码将a转换为接口类型 // 因为fmt.Println需要的是空接口类型的参数 0x001f 00031 (builtin.3.go:8) MOVQ BX,&quot;&quot;.autotmp_0001+48(SP) 0x0024 00036 (builtin.3.go:8) LEAQ &quot;&quot;.autotmp_0000+72(SP),BX 0x0029 00041 (builtin.3.go:8) MOVQ $0,(BX) 0x0030 00048 (builtin.3.go:8) MOVQ $0,8(BX) 0x0038 00056 (builtin.3.go:8) LEAQ &quot;&quot;.autotmp_0000+72(SP),BX 0x003d 00061 (builtin.3.go:8) CMPQ BX,$0 0x0041 00065 (builtin.3.go:8) JEQ $1,226 0x0047 00071 (builtin.3.go:8) MOVQ $1,DX 0x004e 00078 (builtin.3.go:8) MOVQ $1,CX 0x0055 00085 (builtin.3.go:8) MOVQ BX,&quot;&quot;.autotmp_0002+88(SP) 0x005a 00090 (builtin.3.go:8) MOVQ DX,&quot;&quot;.autotmp_0002+96(SP) 0x005f 00095 (builtin.3.go:8) MOVQ CX,&quot;&quot;.autotmp_0002+104(SP) 0x0064 00100 (builtin.3.go:8) MOVQ $type.int+0(SB),BX 0x006b 00107 (builtin.3.go:8) MOVQ BX,(SP) 0x006f 00111 (builtin.3.go:8) LEAQ &quot;&quot;.autotmp_0001+48(SP),BX 0x0074 00116 (builtin.3.go:8) MOVQ BX,8(SP) 0x0079 00121 (builtin.3.go:8) PCDATA $0,$1 0x0079 00121 (builtin.3.go:8) CALL ,runtime.convT2E(SB) 0x007e 00126 (builtin.3.go:8) MOVQ 16(SP),CX 0x0083 00131 (builtin.3.go:8) MOVQ 24(SP),AX 0x0088 00136 (builtin.3.go:8) MOVQ &quot;&quot;.autotmp_0002+88(SP),BX 0x008d 00141 (builtin.3.go:8) MOVQ BX,(SP) 0x0091 00145 (builtin.3.go:8) MOVQ CX,&quot;&quot;.autotmp_0004+56(SP) 0x0096 00150 (builtin.3.go:8) MOVQ CX,8(SP) 0x009b 00155 (builtin.3.go:8) MOVQ AX,&quot;&quot;.autotmp_0004+64(SP) 0x00a0 00160 (builtin.3.go:8) MOVQ AX,16(SP) 0x00a5 00165 (builtin.3.go:8) PCDATA $0,$1 0x00a5 00165 (builtin.3.go:8) CALL ,runtime.writebarrieriface(SB) // 传递参数给fmt.Println，并调用 0x00aa 00170 (builtin.3.go:8) MOVQ &quot;&quot;.autotmp_0002+88(SP),BX 0x00af 00175 (builtin.3.go:8) MOVQ BX,(SP) 0x00b3 00179 (builtin.3.go:8) MOVQ &quot;&quot;.autotmp_0002+96(SP),BX 0x00b8 00184 (builtin.3.go:8) MOVQ BX,8(SP) 0x00bd 00189 (builtin.3.go:8) MOVQ &quot;&quot;.autotmp_0002+104(SP),BX 0x00c2 00194 (builtin.3.go:8) MOVQ BX,16(SP) 0x00c7 00199 (builtin.3.go:8) PCDATA $0,$2 0x00c7 00199 (builtin.3.go:8) CALL ,fmt.Println(SB) // 将a加上123，并返回 0x00cc 00204 (builtin.3.go:9) MOVQ &quot;&quot;.a+120(FP),BX 0x00d1 00209 (builtin.3.go:9) ADDQ $123,BX 0x00d5 00213 (builtin.3.go:9) MOVQ BX,&quot;&quot;.~r1+128(FP) 0x00dd 00221 (builtin.3.go:9) ADDQ $112,SP 0x00e1 00225 (builtin.3.go:9) RET , 0x00e2 00226 (builtin.3.go:8) MOVL AX,(BX) 0x00e4 00228 (builtin.3.go:8) JMP ,71 &quot;&quot;.main t=1 size=240 value=0 args=0x0 locals=0x70 0x0000 00000 (builtin.3.go:12) TEXT &quot;&quot;.main+0(SB),$112-0 0x0000 00000 (builtin.3.go:12) MOVQ (TLS),CX 0x0009 00009 (builtin.3.go:12) CMPQ SP,16(CX) 0x000d 00013 (builtin.3.go:12) JHI ,22 0x000f 00015 (builtin.3.go:12) CALL ,runtime.morestack_noctxt(SB) 0x0014 00020 (builtin.3.go:12) JMP ,0 // 将SP减去112(栈的大小)，栈向下增长 0x0016 00022 (builtin.3.go:12) SUBQ $112,SP 0x001a 00026 (builtin.3.go:12) FUNCDATA $0,gclocals·73423680ca5f2d7df4fe760a82d507fb+0(SB) 0x001a 00026 (builtin.3.go:12) FUNCDATA $1,gclocals·403a8d79fd24b295e8557f6970497aa3+0(SB) // 将123放在栈顶 0x001a 00026 (builtin.3.go:13) MOVQ $123,(SP) 0x0022 00034 (builtin.3.go:13) PCDATA $0,$0 // 调用f1 0x0022 00034 (builtin.3.go:13) CALL ,&quot;&quot;.f1(SB) // 将结果8(SP)存入BX 0x0027 00039 (builtin.3.go:13) MOVQ 8(SP),BX 0x002c 00044 (builtin.3.go:13) NOP , // 将BX存放到48(SP), 是一个临时变量，BX中保存的是f1的调用结果 0x002c 00044 (builtin.3.go:14) MOVQ BX,&quot;&quot;.autotmp_0010+48(SP) 阅读更多" />
<meta property="og:description" content="绍Golang中的内置函数和相关操作代码的汇编实现，可以作为上篇博客的补充和实践。 汇编中过程调用的参数是通过栈来传递的，在栈上的布局如下： 参数3 参数2 参数1 &lt;-FP 保存PC &lt;-SP ... ... 内置函数: new, make, append package main import ( &quot;fmt&quot; ) type new_int int var ( gobal_1 = &quot;this is global var&quot; ) func main() { auto_1 := &quot;this is auto_1&quot; s0 := new(new_int) s1 := make([]int, 10) s2 := make([]int, 10) append(s2, 9999) fmt.Println(s1, s2) fmt.Println(s0) } 下面是汇编代码: &quot;&quot;.main t=1 size=1936 value=0 args=0x0 locals=0x128 // 定义函数main，栈帧大小为296字节，0字节的参数(无参数) 0x0000 00000 (builtin.go:13) TEXT &quot;&quot;.main+0(SB),$296-0 // 将线程本地存储(thread local storage)传送到CX 0x0000 00000 (builtin.go:13) MOVQ (TLS),CX // 下面是检查栈帧的大小是否超过目前分配的小 0x0009 00009 (builtin.go:13) LEAQ -168(SP),AX 0x0011 00017 (builtin.go:13) CMPQ AX,16(CX) 0x0015 00021 (builtin.go:13) JHI ,30 // 如果超过调用runtime.morestack_noctxt 0x0017 00023 (builtin.go:13) CALL ,runtime.morestack_noctxt(SB) 0x001c 00028 (builtin.go:13) JMP ,0 // 扩大栈帧 0x001e 00030 (builtin.go:13) SUBQ $296,SP 0x0025 00037 (builtin.go:13) FUNCDATA $0,gclocals·e14c7473fe07b0ccdc0fdfa1a770087b+0(SB) 0x0025 00037 (builtin.go:13) FUNCDATA $1,gclocals·7a70fcb413ec620f2a7a8c3ba5f394c1+0(SB) // 局部变量auto_1 0x0025 00037 (builtin.go:14) LEAQ go.string.&quot;this is auto_1&quot;+0(SB),BX // string在golang中是由数据本身和其长度组成的 // 将数据的地址移动到BP 0x002c 00044 (builtin.go:14) MOVQ (BX),BP // 移动BP到栈指针152字节的位置 0x002f 00047 (builtin.go:14) MOVQ BP,&quot;&quot;.auto_1+152(SP) // 将字符串长度移动到BP 0x0037 00055 (builtin.go:14) MOVQ 8(BX),BP // 移动BP到栈指针160字节的位置 0x003b 00059 (builtin.go:14) MOVQ BP,&quot;&quot;.auto_1+160(SP) // new_int类型的初始化 // 将类型本身移动到BX 0x0043 00067 (builtin.go:17) MOVQ $type.&quot;&quot;.new_int+0(SB),BX // 将BX移动到栈顶 0x004a 00074 (builtin.go:17) MOVQ BX,(SP) 0x004e 00078 (builtin.go:17) PCDATA $0,$1 // 调用runtime.newobject 0x004e 00078 (builtin.go:17) CALL ,runtime.newobject(SB) // 将返回的结果移动到BX 0x0053 00083 (builtin.go:17) MOVQ 8(SP),BX // 移动BP到栈指针80字节的位置 0x0058 00088 (builtin.go:17) MOVQ BX,&quot;&quot;.s1+80(SP) 0x005d 00093 (builtin.go:17) NOP , // 创建slice s1 // 将类型移动到BX 0x005d 00093 (builtin.go:18) MOVQ $type.[]int+0(SB),BX // 将BX(类型)移动到栈顶 0x0064 00100 (builtin.go:18) MOVQ BX,(SP) // 将长度参数len移动到相对于栈顶8字节的位置 0x0068 00104 (builtin.go:18) MOVQ $10,8(SP) // 将容量参数cap移动到相对于栈顶16字节的位置 0x0071 00113 (builtin.go:18) MOVQ $10,16(SP) 0x007a 00122 (builtin.go:18) PCDATA $0,$2 // 调用runtime.makeslice 0x007a 00122 (builtin.go:18) CALL ,runtime.makeslice(SB) // 创建出的s1的参数分别保存在相对栈顶24, 32, 40字节的位置 0x007f 00127 (builtin.go:18) MOVQ 24(SP),DX 0x0084 00132 (builtin.go:18) MOVQ 32(SP),CX 0x0089 00137 (builtin.go:18) MOVQ 40(SP),BX // CX中保存的是slice的len参数 0x008e 00142 (builtin.go:20) MOVQ CX,&quot;&quot;.s2_len+64(SP) 0x0093 00147 (builtin.go:20) NOP , // 将slice的array, len, cap传送给s2 0x0093 00147 (builtin.go:21) MOVQ DX,&quot;&quot;.s2+168(SP) 0x009b 00155 (builtin.go:21) MOVQ CX,&quot;&quot;.s2+176(SP) 0x00a3 00163 (builtin.go:21) MOVQ BX,&quot;&quot;.s2+184(SP) 0x00ab 00171 (builtin.go:21) MOVQ BX,AX // 从BX中减去CX的值，结果保存在BX 0x00ae 00174 (builtin.go:21) SUBQ CX,BX 0x00b1 00177 (builtin.go:21) CMPQ BX,$1 0x00b5 00181 (builtin.go:21) JGE ,262 // 将类型传送到栈顶 0x00b7 00183 (builtin.go:21) MOVQ $type.[]int+0(SB),BX 0x00be 00190 (builtin.go:21) MOVQ BX,(SP) // 将旧的slice传送到栈的第二个参数 0x00c2 00194 (builtin.go:21) MOVQ DX,&quot;&quot;.autotmp_0001+240(SP) 0x00ca 00202 (builtin.go:21) MOVQ DX,8(SP) // 将长度传送到栈上第三个参数(s2的长度) 0x00cf 00207 (builtin.go:21) MOVQ CX,&quot;&quot;.autotmp_0001+248(SP) 0x00d7 00215 (builtin.go:21) MOVQ CX,16(SP) // 将33行的BX的值重新保存到24(SP)，即s2的array 0x00dc 00220 (builtin.go:21) MOVQ AX,&quot;&quot;.autotmp_0001+256(SP) 0x00e4 00228 (builtin.go:21) MOVQ AX,24(SP) // 将s2的长度置为1 0x00e9 00233 (builtin.go:21) MOVQ $1,32(SP) // 调用growslice 0x00f2 00242 (builtin.go:21) PCDATA $0,$2 0x00f2 00242 (builtin.go:21) CALL ,runtime.growslice(SB) // 3个返回值(sliceStruct) 0x00f7 00247 (builtin.go:21) MOVQ 40(SP),DX 0x00fc 00252 (builtin.go:21) MOVQ 48(SP),CX 0x0101 00257 (builtin.go:21) MOVQ 56(SP),AX // 增加返回的结构中len参数长度，增加1 0x0106 00262 (builtin.go:21) MOVQ CX,SI 0x0109 00265 (builtin.go:21) INCQ ,SI // 变址寻址，DX+CX*8 0x010c 00268 (builtin.go:21) LEAQ (DX)(CX*8),BX // 将立即数9999传递到(BX)的内存位置 0x0110 00272 (builtin.go:21) MOVQ $9999,(BX) 0x0117 00279 (builtin.go:21) NOP , 0x0117 00279 (builtin.go:21) MOVQ DX,&quot;&quot;.autotmp_0001+240(SP) 0x011f 00287 (builtin.go:21) MOVQ SI,&quot;&quot;.autotmp_0001+248(SP) 0x0127 00295 (builtin.go:21) MOVQ AX,&quot;&quot;.autotmp_0001+256(SP) // 将新的slice的参数传递给s2 0x012f 00303 (builtin.go:21) MOVQ DX,&quot;&quot;.s2+168(SP) 0x0137 00311 (builtin.go:21) MOVQ SI,&quot;&quot;.s2+176(SP) 0x013f 00319 (builtin.go:21) MOVQ AX,&quot;&quot;.s2+184(SP) 0x0147 00327 (builtin.go:21) NOP , 内置函数: copy package main import ( &quot;fmt&quot; ) func main() { s1 := make([]int, 10) s2 := make([]int, 10) copy(s1, s2) fmt.Println(s1, s2) } 下面是汇编代码: &quot;&quot;.main t=1 size=624 value=0 args=0x0 locals=0x108 0x0000 00000 (builtin.go:7) TEXT &quot;&quot;.main+0(SB),$264-0 0x0000 00000 (builtin.go:7) MOVQ (TLS),CX 0x0009 00009 (builtin.go:7) LEAQ -136(SP),AX 0x0011 00017 (builtin.go:7) CMPQ AX,16(CX) 0x0015 00021 (builtin.go:7) JHI ,30 0x0017 00023 (builtin.go:7) CALL ,runtime.morestack_noctxt(SB) 0x001c 00028 (builtin.go:7) JMP ,0 0x001e 00030 (builtin.go:7) SUBQ $264,SP 0x0025 00037 (builtin.go:7) FUNCDATA $0,gclocals·7c13896baab3273e10662a9a37b348ce+0(SB) 0x0025 00037 (builtin.go:7) FUNCDATA $1,gclocals·978d33e7717760c8870a69548dc9a2fb+0(SB) // 创建切片s1 0x0025 00037 (builtin.go:8) MOVQ $type.[]int+0(SB),BX 0x002c 00044 (builtin.go:8) MOVQ BX,(SP) 0x0030 00048 (builtin.go:8) MOVQ $10,8(SP) 0x0039 00057 (builtin.go:8) MOVQ $10,16(SP) 0x0042 00066 (builtin.go:8) PCDATA $0,$0 0x0042 00066 (builtin.go:8) CALL ,runtime.makeslice(SB) 0x0047 00071 (builtin.go:8) MOVQ 24(SP),DX 0x004c 00076 (builtin.go:8) MOVQ 32(SP),CX 0x0051 00081 (builtin.go:8) MOVQ 40(SP),AX 0x0056 00086 (builtin.go:8) MOVQ DX,&quot;&quot;.s1+88(SP) 0x005b 00091 (builtin.go:8) MOVQ CX,&quot;&quot;.s1+96(SP) 0x0060 00096 (builtin.go:8) MOVQ AX,&quot;&quot;.s1+104(SP) // 创建切片s2 0x0065 00101 (builtin.go:9) MOVQ $type.[]int+0(SB),BX 0x006c 00108 (builtin.go:9) MOVQ BX,(SP) 0x0070 00112 (builtin.go:9) MOVQ $10,8(SP) 0x0079 00121 (builtin.go:9) MOVQ $10,16(SP) 0x0082 00130 (builtin.go:9) PCDATA $0,$1 0x0082 00130 (builtin.go:9) CALL ,runtime.makeslice(SB) 0x0087 00135 (builtin.go:9) MOVQ 24(SP),DX 0x008c 00140 (builtin.go:9) MOVQ 32(SP),CX 0x0091 00145 (builtin.go:9) MOVQ 40(SP),AX // 将s1的数据保存到SI, BP, BX 0x0096 00150 (builtin.go:11) MOVQ &quot;&quot;.s1+88(SP),SI 0x009b 00155 (builtin.go:11) MOVQ &quot;&quot;.s1+96(SP),BP 0x00a0 00160 (builtin.go:11) MOVQ &quot;&quot;.s1+104(SP),BX // 将BX保存到224(SP) 0x00a5 00165 (builtin.go:11) MOVQ BX,&quot;&quot;.autotmp_0005+224(SP) // 将s2的数据保存到栈上 0x00ad 00173 (builtin.go:11) MOVQ DX,&quot;&quot;.s2+64(SP) 0x00b2 00178 (builtin.go:11) MOVQ CX,&quot;&quot;.s2+72(SP) 0x00b7 00183 (builtin.go:11) MOVQ AX,&quot;&quot;.s2+80(SP) // 将AX保存到152(SP) 0x00bc 00188 (builtin.go:11) MOVQ AX,&quot;&quot;.autotmp_0006+152(SP) // 将BP保存到216(SP) 0x00c4 00196 (builtin.go:11) MOVQ BP,&quot;&quot;.autotmp_0000+216(SP) // 从204到220是比较s1和s2的长度 // 哪个比较大就用它作为参数 // 复制BP到AX, BP保存的是s1的len 0x00cc 00204 (builtin.go:11) MOVQ BP,AX // 将CX保存到144(SP) 0x00cf 00207 (builtin.go:11) MOVQ CX,&quot;&quot;.autotmp_0006+144(SP) // 比较s2的长度(CX)和s1的长度(BP) // 如果小于0则跳转到223 // 否则执行220 0x00d7 00215 (builtin.go:11) CMPQ CX,BP 0x00da 00218 (builtin.go:11) JGE ,223 0x00dc 00220 (builtin.go:11) MOVQ CX,AX // 将s1的array作为第一个参数 0x00df 00223 (builtin.go:11) MOVQ SI,&quot;&quot;.autotmp_0000+208(SP) 0x00e7 00231 (builtin.go:11) MOVQ SI,(SP) // 将s2的array作为第二个参数 0x00eb 00235 (builtin.go:11) MOVQ DX,&quot;&quot;.autotmp_0006+136(SP) 0x00f3 00243 (builtin.go:11) MOVQ DX,8(SP) // AX中保存的是s2的长度 0x00f8 00248 (builtin.go:11) MOVQ AX,BX // shl 左移位操作, 左移3位 0x00fb 00251 (builtin.go:11) SHLQ $3,BX // 将BX作为第三个参数 0x00ff 00255 (builtin.go:11) MOVQ BX,16(SP) 0x0104 00260 (builtin.go:11) PCDATA $0,$2 0x0104 00260 (builtin.go:11) CALL ,runtime.memmove(SB) 函数调用 package main import ( &quot;fmt&quot; ) func f1(a int) int { fmt.Println(a) return a + 123 } func main() { b := f1(123) fmt.Println(b) } 下面是汇编代码: &quot;&quot;.f1 t=1 size=240 value=0 args=0x10 locals=0x70 0x0000 00000 (builtin.3.go:7) TEXT &quot;&quot;.f1+0(SB),$112-16 0x0000 00000 (builtin.3.go:7) MOVQ (TLS),CX 0x0009 00009 (builtin.3.go:7) CMPQ SP,16(CX) 0x000d 00013 (builtin.3.go:7) JHI ,22 0x000f 00015 (builtin.3.go:7) CALL ,runtime.morestack_noctxt(SB) 0x0014 00020 (builtin.3.go:7) JMP ,0 0x0016 00022 (builtin.3.go:7) SUBQ $112,SP 0x001a 00026 (builtin.3.go:7) FUNCDATA $0,gclocals·480b8f52e76ecc554a5236babfd9a6e5+0(SB) 0x001a 00026 (builtin.3.go:7) FUNCDATA $1,gclocals·403a8d79fd24b295e8557f6970497aa3+0(SB) // 因为栈帧的大小是112字节 // 所以在120(FP)处保存的是第一个参数 0x001a 00026 (builtin.3.go:8) MOVQ &quot;&quot;.a+120(FP),BX // 下面的代码将a转换为接口类型 // 因为fmt.Println需要的是空接口类型的参数 0x001f 00031 (builtin.3.go:8) MOVQ BX,&quot;&quot;.autotmp_0001+48(SP) 0x0024 00036 (builtin.3.go:8) LEAQ &quot;&quot;.autotmp_0000+72(SP),BX 0x0029 00041 (builtin.3.go:8) MOVQ $0,(BX) 0x0030 00048 (builtin.3.go:8) MOVQ $0,8(BX) 0x0038 00056 (builtin.3.go:8) LEAQ &quot;&quot;.autotmp_0000+72(SP),BX 0x003d 00061 (builtin.3.go:8) CMPQ BX,$0 0x0041 00065 (builtin.3.go:8) JEQ $1,226 0x0047 00071 (builtin.3.go:8) MOVQ $1,DX 0x004e 00078 (builtin.3.go:8) MOVQ $1,CX 0x0055 00085 (builtin.3.go:8) MOVQ BX,&quot;&quot;.autotmp_0002+88(SP) 0x005a 00090 (builtin.3.go:8) MOVQ DX,&quot;&quot;.autotmp_0002+96(SP) 0x005f 00095 (builtin.3.go:8) MOVQ CX,&quot;&quot;.autotmp_0002+104(SP) 0x0064 00100 (builtin.3.go:8) MOVQ $type.int+0(SB),BX 0x006b 00107 (builtin.3.go:8) MOVQ BX,(SP) 0x006f 00111 (builtin.3.go:8) LEAQ &quot;&quot;.autotmp_0001+48(SP),BX 0x0074 00116 (builtin.3.go:8) MOVQ BX,8(SP) 0x0079 00121 (builtin.3.go:8) PCDATA $0,$1 0x0079 00121 (builtin.3.go:8) CALL ,runtime.convT2E(SB) 0x007e 00126 (builtin.3.go:8) MOVQ 16(SP),CX 0x0083 00131 (builtin.3.go:8) MOVQ 24(SP),AX 0x0088 00136 (builtin.3.go:8) MOVQ &quot;&quot;.autotmp_0002+88(SP),BX 0x008d 00141 (builtin.3.go:8) MOVQ BX,(SP) 0x0091 00145 (builtin.3.go:8) MOVQ CX,&quot;&quot;.autotmp_0004+56(SP) 0x0096 00150 (builtin.3.go:8) MOVQ CX,8(SP) 0x009b 00155 (builtin.3.go:8) MOVQ AX,&quot;&quot;.autotmp_0004+64(SP) 0x00a0 00160 (builtin.3.go:8) MOVQ AX,16(SP) 0x00a5 00165 (builtin.3.go:8) PCDATA $0,$1 0x00a5 00165 (builtin.3.go:8) CALL ,runtime.writebarrieriface(SB) // 传递参数给fmt.Println，并调用 0x00aa 00170 (builtin.3.go:8) MOVQ &quot;&quot;.autotmp_0002+88(SP),BX 0x00af 00175 (builtin.3.go:8) MOVQ BX,(SP) 0x00b3 00179 (builtin.3.go:8) MOVQ &quot;&quot;.autotmp_0002+96(SP),BX 0x00b8 00184 (builtin.3.go:8) MOVQ BX,8(SP) 0x00bd 00189 (builtin.3.go:8) MOVQ &quot;&quot;.autotmp_0002+104(SP),BX 0x00c2 00194 (builtin.3.go:8) MOVQ BX,16(SP) 0x00c7 00199 (builtin.3.go:8) PCDATA $0,$2 0x00c7 00199 (builtin.3.go:8) CALL ,fmt.Println(SB) // 将a加上123，并返回 0x00cc 00204 (builtin.3.go:9) MOVQ &quot;&quot;.a+120(FP),BX 0x00d1 00209 (builtin.3.go:9) ADDQ $123,BX 0x00d5 00213 (builtin.3.go:9) MOVQ BX,&quot;&quot;.~r1+128(FP) 0x00dd 00221 (builtin.3.go:9) ADDQ $112,SP 0x00e1 00225 (builtin.3.go:9) RET , 0x00e2 00226 (builtin.3.go:8) MOVL AX,(BX) 0x00e4 00228 (builtin.3.go:8) JMP ,71 &quot;&quot;.main t=1 size=240 value=0 args=0x0 locals=0x70 0x0000 00000 (builtin.3.go:12) TEXT &quot;&quot;.main+0(SB),$112-0 0x0000 00000 (builtin.3.go:12) MOVQ (TLS),CX 0x0009 00009 (builtin.3.go:12) CMPQ SP,16(CX) 0x000d 00013 (builtin.3.go:12) JHI ,22 0x000f 00015 (builtin.3.go:12) CALL ,runtime.morestack_noctxt(SB) 0x0014 00020 (builtin.3.go:12) JMP ,0 // 将SP减去112(栈的大小)，栈向下增长 0x0016 00022 (builtin.3.go:12) SUBQ $112,SP 0x001a 00026 (builtin.3.go:12) FUNCDATA $0,gclocals·73423680ca5f2d7df4fe760a82d507fb+0(SB) 0x001a 00026 (builtin.3.go:12) FUNCDATA $1,gclocals·403a8d79fd24b295e8557f6970497aa3+0(SB) // 将123放在栈顶 0x001a 00026 (builtin.3.go:13) MOVQ $123,(SP) 0x0022 00034 (builtin.3.go:13) PCDATA $0,$0 // 调用f1 0x0022 00034 (builtin.3.go:13) CALL ,&quot;&quot;.f1(SB) // 将结果8(SP)存入BX 0x0027 00039 (builtin.3.go:13) MOVQ 8(SP),BX 0x002c 00044 (builtin.3.go:13) NOP , // 将BX存放到48(SP), 是一个临时变量，BX中保存的是f1的调用结果 0x002c 00044 (builtin.3.go:14) MOVQ BX,&quot;&quot;.autotmp_0010+48(SP) 阅读更多" />
<link rel="canonical" href="https://mlh.app/2018/05/09/3b20a51b74f38afeb106e95106c4edbf.html" />
<meta property="og:url" content="https://mlh.app/2018/05/09/3b20a51b74f38afeb106e95106c4edbf.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-05-09T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"绍Golang中的内置函数和相关操作代码的汇编实现，可以作为上篇博客的补充和实践。 汇编中过程调用的参数是通过栈来传递的，在栈上的布局如下： 参数3 参数2 参数1 &lt;-FP 保存PC &lt;-SP ... ... 内置函数: new, make, append package main import ( &quot;fmt&quot; ) type new_int int var ( gobal_1 = &quot;this is global var&quot; ) func main() { auto_1 := &quot;this is auto_1&quot; s0 := new(new_int) s1 := make([]int, 10) s2 := make([]int, 10) append(s2, 9999) fmt.Println(s1, s2) fmt.Println(s0) } 下面是汇编代码: &quot;&quot;.main t=1 size=1936 value=0 args=0x0 locals=0x128 // 定义函数main，栈帧大小为296字节，0字节的参数(无参数) 0x0000 00000 (builtin.go:13) TEXT &quot;&quot;.main+0(SB),$296-0 // 将线程本地存储(thread local storage)传送到CX 0x0000 00000 (builtin.go:13) MOVQ (TLS),CX // 下面是检查栈帧的大小是否超过目前分配的小 0x0009 00009 (builtin.go:13) LEAQ -168(SP),AX 0x0011 00017 (builtin.go:13) CMPQ AX,16(CX) 0x0015 00021 (builtin.go:13) JHI ,30 // 如果超过调用runtime.morestack_noctxt 0x0017 00023 (builtin.go:13) CALL ,runtime.morestack_noctxt(SB) 0x001c 00028 (builtin.go:13) JMP ,0 // 扩大栈帧 0x001e 00030 (builtin.go:13) SUBQ $296,SP 0x0025 00037 (builtin.go:13) FUNCDATA $0,gclocals·e14c7473fe07b0ccdc0fdfa1a770087b+0(SB) 0x0025 00037 (builtin.go:13) FUNCDATA $1,gclocals·7a70fcb413ec620f2a7a8c3ba5f394c1+0(SB) // 局部变量auto_1 0x0025 00037 (builtin.go:14) LEAQ go.string.&quot;this is auto_1&quot;+0(SB),BX // string在golang中是由数据本身和其长度组成的 // 将数据的地址移动到BP 0x002c 00044 (builtin.go:14) MOVQ (BX),BP // 移动BP到栈指针152字节的位置 0x002f 00047 (builtin.go:14) MOVQ BP,&quot;&quot;.auto_1+152(SP) // 将字符串长度移动到BP 0x0037 00055 (builtin.go:14) MOVQ 8(BX),BP // 移动BP到栈指针160字节的位置 0x003b 00059 (builtin.go:14) MOVQ BP,&quot;&quot;.auto_1+160(SP) // new_int类型的初始化 // 将类型本身移动到BX 0x0043 00067 (builtin.go:17) MOVQ $type.&quot;&quot;.new_int+0(SB),BX // 将BX移动到栈顶 0x004a 00074 (builtin.go:17) MOVQ BX,(SP) 0x004e 00078 (builtin.go:17) PCDATA $0,$1 // 调用runtime.newobject 0x004e 00078 (builtin.go:17) CALL ,runtime.newobject(SB) // 将返回的结果移动到BX 0x0053 00083 (builtin.go:17) MOVQ 8(SP),BX // 移动BP到栈指针80字节的位置 0x0058 00088 (builtin.go:17) MOVQ BX,&quot;&quot;.s1+80(SP) 0x005d 00093 (builtin.go:17) NOP , // 创建slice s1 // 将类型移动到BX 0x005d 00093 (builtin.go:18) MOVQ $type.[]int+0(SB),BX // 将BX(类型)移动到栈顶 0x0064 00100 (builtin.go:18) MOVQ BX,(SP) // 将长度参数len移动到相对于栈顶8字节的位置 0x0068 00104 (builtin.go:18) MOVQ $10,8(SP) // 将容量参数cap移动到相对于栈顶16字节的位置 0x0071 00113 (builtin.go:18) MOVQ $10,16(SP) 0x007a 00122 (builtin.go:18) PCDATA $0,$2 // 调用runtime.makeslice 0x007a 00122 (builtin.go:18) CALL ,runtime.makeslice(SB) // 创建出的s1的参数分别保存在相对栈顶24, 32, 40字节的位置 0x007f 00127 (builtin.go:18) MOVQ 24(SP),DX 0x0084 00132 (builtin.go:18) MOVQ 32(SP),CX 0x0089 00137 (builtin.go:18) MOVQ 40(SP),BX // CX中保存的是slice的len参数 0x008e 00142 (builtin.go:20) MOVQ CX,&quot;&quot;.s2_len+64(SP) 0x0093 00147 (builtin.go:20) NOP , // 将slice的array, len, cap传送给s2 0x0093 00147 (builtin.go:21) MOVQ DX,&quot;&quot;.s2+168(SP) 0x009b 00155 (builtin.go:21) MOVQ CX,&quot;&quot;.s2+176(SP) 0x00a3 00163 (builtin.go:21) MOVQ BX,&quot;&quot;.s2+184(SP) 0x00ab 00171 (builtin.go:21) MOVQ BX,AX // 从BX中减去CX的值，结果保存在BX 0x00ae 00174 (builtin.go:21) SUBQ CX,BX 0x00b1 00177 (builtin.go:21) CMPQ BX,$1 0x00b5 00181 (builtin.go:21) JGE ,262 // 将类型传送到栈顶 0x00b7 00183 (builtin.go:21) MOVQ $type.[]int+0(SB),BX 0x00be 00190 (builtin.go:21) MOVQ BX,(SP) // 将旧的slice传送到栈的第二个参数 0x00c2 00194 (builtin.go:21) MOVQ DX,&quot;&quot;.autotmp_0001+240(SP) 0x00ca 00202 (builtin.go:21) MOVQ DX,8(SP) // 将长度传送到栈上第三个参数(s2的长度) 0x00cf 00207 (builtin.go:21) MOVQ CX,&quot;&quot;.autotmp_0001+248(SP) 0x00d7 00215 (builtin.go:21) MOVQ CX,16(SP) // 将33行的BX的值重新保存到24(SP)，即s2的array 0x00dc 00220 (builtin.go:21) MOVQ AX,&quot;&quot;.autotmp_0001+256(SP) 0x00e4 00228 (builtin.go:21) MOVQ AX,24(SP) // 将s2的长度置为1 0x00e9 00233 (builtin.go:21) MOVQ $1,32(SP) // 调用growslice 0x00f2 00242 (builtin.go:21) PCDATA $0,$2 0x00f2 00242 (builtin.go:21) CALL ,runtime.growslice(SB) // 3个返回值(sliceStruct) 0x00f7 00247 (builtin.go:21) MOVQ 40(SP),DX 0x00fc 00252 (builtin.go:21) MOVQ 48(SP),CX 0x0101 00257 (builtin.go:21) MOVQ 56(SP),AX // 增加返回的结构中len参数长度，增加1 0x0106 00262 (builtin.go:21) MOVQ CX,SI 0x0109 00265 (builtin.go:21) INCQ ,SI // 变址寻址，DX+CX*8 0x010c 00268 (builtin.go:21) LEAQ (DX)(CX*8),BX // 将立即数9999传递到(BX)的内存位置 0x0110 00272 (builtin.go:21) MOVQ $9999,(BX) 0x0117 00279 (builtin.go:21) NOP , 0x0117 00279 (builtin.go:21) MOVQ DX,&quot;&quot;.autotmp_0001+240(SP) 0x011f 00287 (builtin.go:21) MOVQ SI,&quot;&quot;.autotmp_0001+248(SP) 0x0127 00295 (builtin.go:21) MOVQ AX,&quot;&quot;.autotmp_0001+256(SP) // 将新的slice的参数传递给s2 0x012f 00303 (builtin.go:21) MOVQ DX,&quot;&quot;.s2+168(SP) 0x0137 00311 (builtin.go:21) MOVQ SI,&quot;&quot;.s2+176(SP) 0x013f 00319 (builtin.go:21) MOVQ AX,&quot;&quot;.s2+184(SP) 0x0147 00327 (builtin.go:21) NOP , 内置函数: copy package main import ( &quot;fmt&quot; ) func main() { s1 := make([]int, 10) s2 := make([]int, 10) copy(s1, s2) fmt.Println(s1, s2) } 下面是汇编代码: &quot;&quot;.main t=1 size=624 value=0 args=0x0 locals=0x108 0x0000 00000 (builtin.go:7) TEXT &quot;&quot;.main+0(SB),$264-0 0x0000 00000 (builtin.go:7) MOVQ (TLS),CX 0x0009 00009 (builtin.go:7) LEAQ -136(SP),AX 0x0011 00017 (builtin.go:7) CMPQ AX,16(CX) 0x0015 00021 (builtin.go:7) JHI ,30 0x0017 00023 (builtin.go:7) CALL ,runtime.morestack_noctxt(SB) 0x001c 00028 (builtin.go:7) JMP ,0 0x001e 00030 (builtin.go:7) SUBQ $264,SP 0x0025 00037 (builtin.go:7) FUNCDATA $0,gclocals·7c13896baab3273e10662a9a37b348ce+0(SB) 0x0025 00037 (builtin.go:7) FUNCDATA $1,gclocals·978d33e7717760c8870a69548dc9a2fb+0(SB) // 创建切片s1 0x0025 00037 (builtin.go:8) MOVQ $type.[]int+0(SB),BX 0x002c 00044 (builtin.go:8) MOVQ BX,(SP) 0x0030 00048 (builtin.go:8) MOVQ $10,8(SP) 0x0039 00057 (builtin.go:8) MOVQ $10,16(SP) 0x0042 00066 (builtin.go:8) PCDATA $0,$0 0x0042 00066 (builtin.go:8) CALL ,runtime.makeslice(SB) 0x0047 00071 (builtin.go:8) MOVQ 24(SP),DX 0x004c 00076 (builtin.go:8) MOVQ 32(SP),CX 0x0051 00081 (builtin.go:8) MOVQ 40(SP),AX 0x0056 00086 (builtin.go:8) MOVQ DX,&quot;&quot;.s1+88(SP) 0x005b 00091 (builtin.go:8) MOVQ CX,&quot;&quot;.s1+96(SP) 0x0060 00096 (builtin.go:8) MOVQ AX,&quot;&quot;.s1+104(SP) // 创建切片s2 0x0065 00101 (builtin.go:9) MOVQ $type.[]int+0(SB),BX 0x006c 00108 (builtin.go:9) MOVQ BX,(SP) 0x0070 00112 (builtin.go:9) MOVQ $10,8(SP) 0x0079 00121 (builtin.go:9) MOVQ $10,16(SP) 0x0082 00130 (builtin.go:9) PCDATA $0,$1 0x0082 00130 (builtin.go:9) CALL ,runtime.makeslice(SB) 0x0087 00135 (builtin.go:9) MOVQ 24(SP),DX 0x008c 00140 (builtin.go:9) MOVQ 32(SP),CX 0x0091 00145 (builtin.go:9) MOVQ 40(SP),AX // 将s1的数据保存到SI, BP, BX 0x0096 00150 (builtin.go:11) MOVQ &quot;&quot;.s1+88(SP),SI 0x009b 00155 (builtin.go:11) MOVQ &quot;&quot;.s1+96(SP),BP 0x00a0 00160 (builtin.go:11) MOVQ &quot;&quot;.s1+104(SP),BX // 将BX保存到224(SP) 0x00a5 00165 (builtin.go:11) MOVQ BX,&quot;&quot;.autotmp_0005+224(SP) // 将s2的数据保存到栈上 0x00ad 00173 (builtin.go:11) MOVQ DX,&quot;&quot;.s2+64(SP) 0x00b2 00178 (builtin.go:11) MOVQ CX,&quot;&quot;.s2+72(SP) 0x00b7 00183 (builtin.go:11) MOVQ AX,&quot;&quot;.s2+80(SP) // 将AX保存到152(SP) 0x00bc 00188 (builtin.go:11) MOVQ AX,&quot;&quot;.autotmp_0006+152(SP) // 将BP保存到216(SP) 0x00c4 00196 (builtin.go:11) MOVQ BP,&quot;&quot;.autotmp_0000+216(SP) // 从204到220是比较s1和s2的长度 // 哪个比较大就用它作为参数 // 复制BP到AX, BP保存的是s1的len 0x00cc 00204 (builtin.go:11) MOVQ BP,AX // 将CX保存到144(SP) 0x00cf 00207 (builtin.go:11) MOVQ CX,&quot;&quot;.autotmp_0006+144(SP) // 比较s2的长度(CX)和s1的长度(BP) // 如果小于0则跳转到223 // 否则执行220 0x00d7 00215 (builtin.go:11) CMPQ CX,BP 0x00da 00218 (builtin.go:11) JGE ,223 0x00dc 00220 (builtin.go:11) MOVQ CX,AX // 将s1的array作为第一个参数 0x00df 00223 (builtin.go:11) MOVQ SI,&quot;&quot;.autotmp_0000+208(SP) 0x00e7 00231 (builtin.go:11) MOVQ SI,(SP) // 将s2的array作为第二个参数 0x00eb 00235 (builtin.go:11) MOVQ DX,&quot;&quot;.autotmp_0006+136(SP) 0x00f3 00243 (builtin.go:11) MOVQ DX,8(SP) // AX中保存的是s2的长度 0x00f8 00248 (builtin.go:11) MOVQ AX,BX // shl 左移位操作, 左移3位 0x00fb 00251 (builtin.go:11) SHLQ $3,BX // 将BX作为第三个参数 0x00ff 00255 (builtin.go:11) MOVQ BX,16(SP) 0x0104 00260 (builtin.go:11) PCDATA $0,$2 0x0104 00260 (builtin.go:11) CALL ,runtime.memmove(SB) 函数调用 package main import ( &quot;fmt&quot; ) func f1(a int) int { fmt.Println(a) return a + 123 } func main() { b := f1(123) fmt.Println(b) } 下面是汇编代码: &quot;&quot;.f1 t=1 size=240 value=0 args=0x10 locals=0x70 0x0000 00000 (builtin.3.go:7) TEXT &quot;&quot;.f1+0(SB),$112-16 0x0000 00000 (builtin.3.go:7) MOVQ (TLS),CX 0x0009 00009 (builtin.3.go:7) CMPQ SP,16(CX) 0x000d 00013 (builtin.3.go:7) JHI ,22 0x000f 00015 (builtin.3.go:7) CALL ,runtime.morestack_noctxt(SB) 0x0014 00020 (builtin.3.go:7) JMP ,0 0x0016 00022 (builtin.3.go:7) SUBQ $112,SP 0x001a 00026 (builtin.3.go:7) FUNCDATA $0,gclocals·480b8f52e76ecc554a5236babfd9a6e5+0(SB) 0x001a 00026 (builtin.3.go:7) FUNCDATA $1,gclocals·403a8d79fd24b295e8557f6970497aa3+0(SB) // 因为栈帧的大小是112字节 // 所以在120(FP)处保存的是第一个参数 0x001a 00026 (builtin.3.go:8) MOVQ &quot;&quot;.a+120(FP),BX // 下面的代码将a转换为接口类型 // 因为fmt.Println需要的是空接口类型的参数 0x001f 00031 (builtin.3.go:8) MOVQ BX,&quot;&quot;.autotmp_0001+48(SP) 0x0024 00036 (builtin.3.go:8) LEAQ &quot;&quot;.autotmp_0000+72(SP),BX 0x0029 00041 (builtin.3.go:8) MOVQ $0,(BX) 0x0030 00048 (builtin.3.go:8) MOVQ $0,8(BX) 0x0038 00056 (builtin.3.go:8) LEAQ &quot;&quot;.autotmp_0000+72(SP),BX 0x003d 00061 (builtin.3.go:8) CMPQ BX,$0 0x0041 00065 (builtin.3.go:8) JEQ $1,226 0x0047 00071 (builtin.3.go:8) MOVQ $1,DX 0x004e 00078 (builtin.3.go:8) MOVQ $1,CX 0x0055 00085 (builtin.3.go:8) MOVQ BX,&quot;&quot;.autotmp_0002+88(SP) 0x005a 00090 (builtin.3.go:8) MOVQ DX,&quot;&quot;.autotmp_0002+96(SP) 0x005f 00095 (builtin.3.go:8) MOVQ CX,&quot;&quot;.autotmp_0002+104(SP) 0x0064 00100 (builtin.3.go:8) MOVQ $type.int+0(SB),BX 0x006b 00107 (builtin.3.go:8) MOVQ BX,(SP) 0x006f 00111 (builtin.3.go:8) LEAQ &quot;&quot;.autotmp_0001+48(SP),BX 0x0074 00116 (builtin.3.go:8) MOVQ BX,8(SP) 0x0079 00121 (builtin.3.go:8) PCDATA $0,$1 0x0079 00121 (builtin.3.go:8) CALL ,runtime.convT2E(SB) 0x007e 00126 (builtin.3.go:8) MOVQ 16(SP),CX 0x0083 00131 (builtin.3.go:8) MOVQ 24(SP),AX 0x0088 00136 (builtin.3.go:8) MOVQ &quot;&quot;.autotmp_0002+88(SP),BX 0x008d 00141 (builtin.3.go:8) MOVQ BX,(SP) 0x0091 00145 (builtin.3.go:8) MOVQ CX,&quot;&quot;.autotmp_0004+56(SP) 0x0096 00150 (builtin.3.go:8) MOVQ CX,8(SP) 0x009b 00155 (builtin.3.go:8) MOVQ AX,&quot;&quot;.autotmp_0004+64(SP) 0x00a0 00160 (builtin.3.go:8) MOVQ AX,16(SP) 0x00a5 00165 (builtin.3.go:8) PCDATA $0,$1 0x00a5 00165 (builtin.3.go:8) CALL ,runtime.writebarrieriface(SB) // 传递参数给fmt.Println，并调用 0x00aa 00170 (builtin.3.go:8) MOVQ &quot;&quot;.autotmp_0002+88(SP),BX 0x00af 00175 (builtin.3.go:8) MOVQ BX,(SP) 0x00b3 00179 (builtin.3.go:8) MOVQ &quot;&quot;.autotmp_0002+96(SP),BX 0x00b8 00184 (builtin.3.go:8) MOVQ BX,8(SP) 0x00bd 00189 (builtin.3.go:8) MOVQ &quot;&quot;.autotmp_0002+104(SP),BX 0x00c2 00194 (builtin.3.go:8) MOVQ BX,16(SP) 0x00c7 00199 (builtin.3.go:8) PCDATA $0,$2 0x00c7 00199 (builtin.3.go:8) CALL ,fmt.Println(SB) // 将a加上123，并返回 0x00cc 00204 (builtin.3.go:9) MOVQ &quot;&quot;.a+120(FP),BX 0x00d1 00209 (builtin.3.go:9) ADDQ $123,BX 0x00d5 00213 (builtin.3.go:9) MOVQ BX,&quot;&quot;.~r1+128(FP) 0x00dd 00221 (builtin.3.go:9) ADDQ $112,SP 0x00e1 00225 (builtin.3.go:9) RET , 0x00e2 00226 (builtin.3.go:8) MOVL AX,(BX) 0x00e4 00228 (builtin.3.go:8) JMP ,71 &quot;&quot;.main t=1 size=240 value=0 args=0x0 locals=0x70 0x0000 00000 (builtin.3.go:12) TEXT &quot;&quot;.main+0(SB),$112-0 0x0000 00000 (builtin.3.go:12) MOVQ (TLS),CX 0x0009 00009 (builtin.3.go:12) CMPQ SP,16(CX) 0x000d 00013 (builtin.3.go:12) JHI ,22 0x000f 00015 (builtin.3.go:12) CALL ,runtime.morestack_noctxt(SB) 0x0014 00020 (builtin.3.go:12) JMP ,0 // 将SP减去112(栈的大小)，栈向下增长 0x0016 00022 (builtin.3.go:12) SUBQ $112,SP 0x001a 00026 (builtin.3.go:12) FUNCDATA $0,gclocals·73423680ca5f2d7df4fe760a82d507fb+0(SB) 0x001a 00026 (builtin.3.go:12) FUNCDATA $1,gclocals·403a8d79fd24b295e8557f6970497aa3+0(SB) // 将123放在栈顶 0x001a 00026 (builtin.3.go:13) MOVQ $123,(SP) 0x0022 00034 (builtin.3.go:13) PCDATA $0,$0 // 调用f1 0x0022 00034 (builtin.3.go:13) CALL ,&quot;&quot;.f1(SB) // 将结果8(SP)存入BX 0x0027 00039 (builtin.3.go:13) MOVQ 8(SP),BX 0x002c 00044 (builtin.3.go:13) NOP , // 将BX存放到48(SP), 是一个临时变量，BX中保存的是f1的调用结果 0x002c 00044 (builtin.3.go:14) MOVQ BX,&quot;&quot;.autotmp_0010+48(SP) 阅读更多","@type":"BlogPosting","url":"https://mlh.app/2018/05/09/3b20a51b74f38afeb106e95106c4edbf.html","headline":"Golang汇编层面代码分析-内置函数和过程调用","dateModified":"2018-05-09T00:00:00+08:00","datePublished":"2018-05-09T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2018/05/09/3b20a51b74f38afeb106e95106c4edbf.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>Golang汇编层面代码分析-内置函数和过程调用</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css"> 
 <div class="htmledit_views"> 
  <p style="color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;background-color:rgb(255,255,255);"> 绍Golang中的内置函数和相关操作代码的汇编实现，可以作为上篇博客的补充和实践。</p> 
  <p style="color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;background-color:rgb(255,255,255);"> 汇编中过程调用的参数是通过栈来传递的，在栈上的布局如下：</p> 
  <pre class="hljs" style="font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:13px;line-height:1.428571429;color:rgb(104,97,94);border:1px solid rgb(204,204,204);background-color:rgb(241,239,238);"><code style="font-family:consolas, sans-serif;color:inherit;background-color:transparent;">参数3
参数2
参数1  &lt;-FP
保存PC &lt;-SP
...
...
</code></pre> 
  <h4 style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;line-height:1.5;color:rgb(51,51,51);font-size:16px;background-color:rgb(255,255,255);"> 内置函数: new, make, append</h4> 
  <pre class="hljs go" style="font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:13px;line-height:1.428571429;color:rgb(104,97,94);border:1px solid rgb(204,204,204);background-color:rgb(241,239,238);"><code class="language-go" style="font-family:consolas, sans-serif;color:inherit;background-color:transparent;"><span class="hljs-keyword" style="color:rgb(102,102,234);">package</span> main

<span class="hljs-keyword" style="color:rgb(102,102,234);">import</span> (
    <span class="hljs-string" style="color:rgb(90,183,56);">"fmt"</span>
)

<span class="hljs-keyword" style="color:rgb(102,102,234);">type</span> new_int <span class="hljs-typename">int</span>

<span class="hljs-keyword" style="color:rgb(102,102,234);">var</span> (
    gobal_1 = <span class="hljs-string" style="color:rgb(90,183,56);">"this is global var"</span>
)

<span class="hljs-keyword" style="color:rgb(102,102,234);">func</span> main() {
    auto_1 := <span class="hljs-string" style="color:rgb(90,183,56);">"this is auto_1"</span>

    s0 := <span class="hljs-built_in" style="color:rgb(223,83,32);">new</span>(new_int)

    s1 := <span class="hljs-built_in" style="color:rgb(223,83,32);">make</span>([]<span class="hljs-typename">int</span>,<span class="hljs-number" style="color:rgb(223,83,32);"> 10</span>)
    s2 := <span class="hljs-built_in" style="color:rgb(223,83,32);">make</span>([]<span class="hljs-typename">int</span>,<span class="hljs-number" style="color:rgb(223,83,32);"> 10</span>)

    <span class="hljs-built_in" style="color:rgb(223,83,32);">append</span>(s2,<span class="hljs-number" style="color:rgb(223,83,32);"> 9999</span>)
    fmt.Println(s1, s2)
    fmt.Println(s0)
}
</code></pre> 
  <p style="color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;background-color:rgb(255,255,255);"> 下面是汇编代码:</p> 
  <pre class="hljs go" style="font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:13px;line-height:1.428571429;color:rgb(104,97,94);border:1px solid rgb(204,204,204);background-color:rgb(241,239,238);"><code class="language-asm" style="font-family:consolas, sans-serif;color:inherit;background-color:transparent;"><span class="hljs-string" style="color:rgb(90,183,56);">""</span>.main t<span class="hljs-number" style="color:rgb(223,83,32);">=1</span> size<span class="hljs-number" style="color:rgb(223,83,32);">=1936</span> value<span class="hljs-number" style="color:rgb(223,83,32);">=0</span> args<span class="hljs-number" style="color:rgb(223,83,32);">=0</span>x0 locals<span class="hljs-number" style="color:rgb(223,83,32);">=0</span>x128
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 定义函数main，栈帧大小为296字节，0字节的参数(无参数)</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0000<span class="hljs-number" style="color:rgb(223,83,32);"> 00000</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:13</span>)    TEXT    <span class="hljs-string" style="color:rgb(90,183,56);">""</span>.main<span class="hljs-number" style="color:rgb(223,83,32);">+0</span>(SB),<span class="hljs-number" style="color:rgb(223,83,32);">$296</span><span class="hljs-number" style="color:rgb(223,83,32);">-0</span>
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将线程本地存储(thread local storage)传送到CX</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0000<span class="hljs-number" style="color:rgb(223,83,32);"> 00000</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:13</span>)    MOVQ    (TLS),CX
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 下面是检查栈帧的大小是否超过目前分配的小</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0009<span class="hljs-number" style="color:rgb(223,83,32);"> 00009</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:13</span>)    LEAQ   <span class="hljs-number" style="color:rgb(223,83,32);"> -168</span>(SP),AX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0011<span class="hljs-number" style="color:rgb(223,83,32);"> 00017</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:13</span>)    CMPQ    AX<span class="hljs-number" style="color:rgb(223,83,32);">,16</span>(CX)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0015<span class="hljs-number" style="color:rgb(223,83,32);"> 00021</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:13</span>)    JHI <span class="hljs-number" style="color:rgb(223,83,32);">,30</span>
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 如果超过调用runtime.morestack_noctxt</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0017<span class="hljs-number" style="color:rgb(223,83,32);"> 00023</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:13</span>)    CALL    ,runtime.morestack_noctxt(SB)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x001c<span class="hljs-number" style="color:rgb(223,83,32);"> 00028</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:13</span>)    JMP <span class="hljs-number" style="color:rgb(223,83,32);">,0</span>
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 扩大栈帧</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x001e<span class="hljs-number" style="color:rgb(223,83,32);"> 00030</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:13</span>)    SUBQ    <span class="hljs-number" style="color:rgb(223,83,32);">$296</span>,SP
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0025<span class="hljs-number" style="color:rgb(223,83,32);"> 00037</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:13</span>)    FUNCDATA    <span class="hljs-number" style="color:rgb(223,83,32);">$0</span>,gclocals·e14c7473fe07b0ccdc0fdfa1a770087b<span class="hljs-number" style="color:rgb(223,83,32);">+0</span>(SB)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0025<span class="hljs-number" style="color:rgb(223,83,32);"> 00037</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:13</span>)    FUNCDATA    <span class="hljs-number" style="color:rgb(223,83,32);">$1</span>,gclocals<span class="hljs-number" style="color:rgb(223,83,32);">·7</span>a70fcb413ec620f2a7a8c3ba5f394c1<span class="hljs-number" style="color:rgb(223,83,32);">+0</span>(SB)

    <span class="hljs-comment" style="color:rgb(118,110,107);">// 局部变量auto_1</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0025<span class="hljs-number" style="color:rgb(223,83,32);"> 00037</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:14</span>)    LEAQ    <span class="hljs-keyword" style="color:rgb(102,102,234);">go</span>.<span class="hljs-typename">string</span>.<span class="hljs-string" style="color:rgb(90,183,56);">"this is auto_1"</span><span class="hljs-number" style="color:rgb(223,83,32);">+0</span>(SB),BX
    <span class="hljs-comment" style="color:rgb(118,110,107);">// string在golang中是由数据本身和其长度组成的</span>
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将数据的地址移动到BP</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x002c<span class="hljs-number" style="color:rgb(223,83,32);"> 00044</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:14</span>)    MOVQ    (BX),BP
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 移动BP到栈指针152字节的位置</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x002f<span class="hljs-number" style="color:rgb(223,83,32);"> 00047</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:14</span>)    MOVQ    BP,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.auto_1<span class="hljs-number" style="color:rgb(223,83,32);">+152</span>(SP)
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将字符串长度移动到BP</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0037<span class="hljs-number" style="color:rgb(223,83,32);"> 00055</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:14</span>)    MOVQ   <span class="hljs-number" style="color:rgb(223,83,32);"> 8</span>(BX),BP
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 移动BP到栈指针160字节的位置</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x003b<span class="hljs-number" style="color:rgb(223,83,32);"> 00059</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:14</span>)    MOVQ    BP,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.auto_1<span class="hljs-number" style="color:rgb(223,83,32);">+160</span>(SP)

    <span class="hljs-comment" style="color:rgb(118,110,107);">// new_int类型的初始化</span>
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将类型本身移动到BX</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0043<span class="hljs-number" style="color:rgb(223,83,32);"> 00067</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:17</span>)    MOVQ    $<span class="hljs-keyword" style="color:rgb(102,102,234);">type</span>.<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.new_int<span class="hljs-number" style="color:rgb(223,83,32);">+0</span>(SB),BX
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将BX移动到栈顶</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x004a<span class="hljs-number" style="color:rgb(223,83,32);"> 00074</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:17</span>)    MOVQ    BX,(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x004e<span class="hljs-number" style="color:rgb(223,83,32);"> 00078</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:17</span>)    PCDATA  <span class="hljs-number" style="color:rgb(223,83,32);">$0</span>,<span class="hljs-number" style="color:rgb(223,83,32);">$1</span>
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 调用runtime.newobject</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x004e<span class="hljs-number" style="color:rgb(223,83,32);"> 00078</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:17</span>)    CALL    ,runtime.newobject(SB)
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将返回的结果移动到BX</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0053<span class="hljs-number" style="color:rgb(223,83,32);"> 00083</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:17</span>)    MOVQ   <span class="hljs-number" style="color:rgb(223,83,32);"> 8</span>(SP),BX
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 移动BP到栈指针80字节的位置</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0058<span class="hljs-number" style="color:rgb(223,83,32);"> 00088</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:17</span>)    MOVQ    BX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.s1<span class="hljs-number" style="color:rgb(223,83,32);">+80</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x005d<span class="hljs-number" style="color:rgb(223,83,32);"> 00093</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:17</span>)    NOP ,

    <span class="hljs-comment" style="color:rgb(118,110,107);">// 创建slice s1</span>
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将类型移动到BX</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x005d<span class="hljs-number" style="color:rgb(223,83,32);"> 00093</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:18</span>)    MOVQ    $<span class="hljs-keyword" style="color:rgb(102,102,234);">type</span>.[]<span class="hljs-typename">int</span><span class="hljs-number" style="color:rgb(223,83,32);">+0</span>(SB),BX
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将BX(类型)移动到栈顶</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0064<span class="hljs-number" style="color:rgb(223,83,32);"> 00100</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:18</span>)    MOVQ    BX,(SP)
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将长度参数len移动到相对于栈顶8字节的位置</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0068<span class="hljs-number" style="color:rgb(223,83,32);"> 00104</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:18</span>)    MOVQ    <span class="hljs-number" style="color:rgb(223,83,32);">$10</span><span class="hljs-number" style="color:rgb(223,83,32);">,8</span>(SP)
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将容量参数cap移动到相对于栈顶16字节的位置</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0071<span class="hljs-number" style="color:rgb(223,83,32);"> 00113</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:18</span>)    MOVQ    <span class="hljs-number" style="color:rgb(223,83,32);">$10</span><span class="hljs-number" style="color:rgb(223,83,32);">,16</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x007a<span class="hljs-number" style="color:rgb(223,83,32);"> 00122</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:18</span>)    PCDATA  <span class="hljs-number" style="color:rgb(223,83,32);">$0</span>,<span class="hljs-number" style="color:rgb(223,83,32);">$2</span>
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 调用runtime.makeslice</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x007a<span class="hljs-number" style="color:rgb(223,83,32);"> 00122</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:18</span>)    CALL    ,runtime.makeslice(SB)
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 创建出的s1的参数分别保存在相对栈顶24, 32, 40字节的位置</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x007f<span class="hljs-number" style="color:rgb(223,83,32);"> 00127</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:18</span>)    MOVQ   <span class="hljs-number" style="color:rgb(223,83,32);"> 24</span>(SP),DX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0084<span class="hljs-number" style="color:rgb(223,83,32);"> 00132</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:18</span>)    MOVQ   <span class="hljs-number" style="color:rgb(223,83,32);"> 32</span>(SP),CX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0089<span class="hljs-number" style="color:rgb(223,83,32);"> 00137</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:18</span>)    MOVQ   <span class="hljs-number" style="color:rgb(223,83,32);"> 40</span>(SP),BX

    <span class="hljs-comment" style="color:rgb(118,110,107);">// CX中保存的是slice的len参数</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x008e<span class="hljs-number" style="color:rgb(223,83,32);"> 00142</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:20</span>)    MOVQ    CX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.s2_len<span class="hljs-number" style="color:rgb(223,83,32);">+64</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0093<span class="hljs-number" style="color:rgb(223,83,32);"> 00147</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:20</span>)    NOP ,

    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将slice的array, len, cap传送给s2</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0093<span class="hljs-number" style="color:rgb(223,83,32);"> 00147</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ    DX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.s2<span class="hljs-number" style="color:rgb(223,83,32);">+168</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x009b<span class="hljs-number" style="color:rgb(223,83,32);"> 00155</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ    CX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.s2<span class="hljs-number" style="color:rgb(223,83,32);">+176</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00a3<span class="hljs-number" style="color:rgb(223,83,32);"> 00163</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ    BX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.s2<span class="hljs-number" style="color:rgb(223,83,32);">+184</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00ab<span class="hljs-number" style="color:rgb(223,83,32);"> 00171</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ    BX,AX
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 从BX中减去CX的值，结果保存在BX</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00ae<span class="hljs-number" style="color:rgb(223,83,32);"> 00174</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    SUBQ    CX,BX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00b1<span class="hljs-number" style="color:rgb(223,83,32);"> 00177</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    CMPQ    BX,<span class="hljs-number" style="color:rgb(223,83,32);">$1</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00b5<span class="hljs-number" style="color:rgb(223,83,32);"> 00181</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    JGE <span class="hljs-number" style="color:rgb(223,83,32);">,262</span>
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将类型传送到栈顶</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00b7<span class="hljs-number" style="color:rgb(223,83,32);"> 00183</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ    $<span class="hljs-keyword" style="color:rgb(102,102,234);">type</span>.[]<span class="hljs-typename">int</span><span class="hljs-number" style="color:rgb(223,83,32);">+0</span>(SB),BX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00be<span class="hljs-number" style="color:rgb(223,83,32);"> 00190</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ    BX,(SP)
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将旧的slice传送到栈的第二个参数</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00c2<span class="hljs-number" style="color:rgb(223,83,32);"> 00194</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ    DX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0001<span class="hljs-number" style="color:rgb(223,83,32);">+240</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00ca<span class="hljs-number" style="color:rgb(223,83,32);"> 00202</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ    DX<span class="hljs-number" style="color:rgb(223,83,32);">,8</span>(SP)
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将长度传送到栈上第三个参数(s2的长度)</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00cf<span class="hljs-number" style="color:rgb(223,83,32);"> 00207</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ    CX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0001<span class="hljs-number" style="color:rgb(223,83,32);">+248</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00d7<span class="hljs-number" style="color:rgb(223,83,32);"> 00215</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ    CX<span class="hljs-number" style="color:rgb(223,83,32);">,16</span>(SP)
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将33行的BX的值重新保存到24(SP)，即s2的array</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00dc<span class="hljs-number" style="color:rgb(223,83,32);"> 00220</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ    AX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0001<span class="hljs-number" style="color:rgb(223,83,32);">+256</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00e4<span class="hljs-number" style="color:rgb(223,83,32);"> 00228</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ    AX<span class="hljs-number" style="color:rgb(223,83,32);">,24</span>(SP)
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将s2的长度置为1</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00e9<span class="hljs-number" style="color:rgb(223,83,32);"> 00233</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ    <span class="hljs-number" style="color:rgb(223,83,32);">$1</span><span class="hljs-number" style="color:rgb(223,83,32);">,32</span>(SP)
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 调用growslice</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00f2<span class="hljs-number" style="color:rgb(223,83,32);"> 00242</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    PCDATA  <span class="hljs-number" style="color:rgb(223,83,32);">$0</span>,<span class="hljs-number" style="color:rgb(223,83,32);">$2</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00f2<span class="hljs-number" style="color:rgb(223,83,32);"> 00242</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    CALL    ,runtime.growslice(SB)
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 3个返回值(sliceStruct)</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00f7<span class="hljs-number" style="color:rgb(223,83,32);"> 00247</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ   <span class="hljs-number" style="color:rgb(223,83,32);"> 40</span>(SP),DX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00fc<span class="hljs-number" style="color:rgb(223,83,32);"> 00252</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ   <span class="hljs-number" style="color:rgb(223,83,32);"> 48</span>(SP),CX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0101<span class="hljs-number" style="color:rgb(223,83,32);"> 00257</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ   <span class="hljs-number" style="color:rgb(223,83,32);"> 56</span>(SP),AX
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 增加返回的结构中len参数长度，增加1</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0106<span class="hljs-number" style="color:rgb(223,83,32);"> 00262</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ    CX,SI
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0109<span class="hljs-number" style="color:rgb(223,83,32);"> 00265</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    INCQ    ,SI
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 变址寻址，DX+CX*8</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x010c<span class="hljs-number" style="color:rgb(223,83,32);"> 00268</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    LEAQ    (DX)(CX<span class="hljs-number" style="color:rgb(223,83,32);">*8</span>),BX
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将立即数9999传递到(BX)的内存位置</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0110<span class="hljs-number" style="color:rgb(223,83,32);"> 00272</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ    <span class="hljs-number" style="color:rgb(223,83,32);">$9999</span>,(BX)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0117<span class="hljs-number" style="color:rgb(223,83,32);"> 00279</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    NOP ,
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0117<span class="hljs-number" style="color:rgb(223,83,32);"> 00279</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ    DX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0001<span class="hljs-number" style="color:rgb(223,83,32);">+240</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x011f<span class="hljs-number" style="color:rgb(223,83,32);"> 00287</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ    SI,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0001<span class="hljs-number" style="color:rgb(223,83,32);">+248</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0127<span class="hljs-number" style="color:rgb(223,83,32);"> 00295</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ    AX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0001<span class="hljs-number" style="color:rgb(223,83,32);">+256</span>(SP)
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将新的slice的参数传递给s2</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x012f<span class="hljs-number" style="color:rgb(223,83,32);"> 00303</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ    DX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.s2<span class="hljs-number" style="color:rgb(223,83,32);">+168</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0137<span class="hljs-number" style="color:rgb(223,83,32);"> 00311</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ    SI,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.s2<span class="hljs-number" style="color:rgb(223,83,32);">+176</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x013f<span class="hljs-number" style="color:rgb(223,83,32);"> 00319</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    MOVQ    AX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.s2<span class="hljs-number" style="color:rgb(223,83,32);">+184</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0147<span class="hljs-number" style="color:rgb(223,83,32);"> 00327</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:21</span>)    NOP ,
</code></pre> 
  <h4 style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;line-height:1.5;color:rgb(51,51,51);font-size:16px;background-color:rgb(255,255,255);"> 内置函数: copy</h4> 
  <pre class="hljs go" style="font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:13px;line-height:1.428571429;color:rgb(104,97,94);border:1px solid rgb(204,204,204);background-color:rgb(241,239,238);"><code class="language-go" style="font-family:consolas, sans-serif;color:inherit;background-color:transparent;"><span class="hljs-keyword" style="color:rgb(102,102,234);">package</span> main

<span class="hljs-keyword" style="color:rgb(102,102,234);">import</span> (
    <span class="hljs-string" style="color:rgb(90,183,56);">"fmt"</span>
)

<span class="hljs-keyword" style="color:rgb(102,102,234);">func</span> main() {
    s1 := <span class="hljs-built_in" style="color:rgb(223,83,32);">make</span>([]<span class="hljs-typename">int</span>,<span class="hljs-number" style="color:rgb(223,83,32);"> 10</span>)
    s2 := <span class="hljs-built_in" style="color:rgb(223,83,32);">make</span>([]<span class="hljs-typename">int</span>,<span class="hljs-number" style="color:rgb(223,83,32);"> 10</span>)

    <span class="hljs-built_in" style="color:rgb(223,83,32);">copy</span>(s1, s2)
    fmt.Println(s1, s2)
}
</code></pre> 
  <p style="color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;background-color:rgb(255,255,255);"> 下面是汇编代码:</p> 
  <pre class="hljs go" style="font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:13px;line-height:1.428571429;color:rgb(104,97,94);border:1px solid rgb(204,204,204);background-color:rgb(241,239,238);"><code class="language-asm" style="font-family:consolas, sans-serif;color:inherit;background-color:transparent;"><span class="hljs-string" style="color:rgb(90,183,56);">""</span>.main t<span class="hljs-number" style="color:rgb(223,83,32);">=1</span> size<span class="hljs-number" style="color:rgb(223,83,32);">=624</span> value<span class="hljs-number" style="color:rgb(223,83,32);">=0</span> args<span class="hljs-number" style="color:rgb(223,83,32);">=0</span>x0 locals<span class="hljs-number" style="color:rgb(223,83,32);">=0</span>x108
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0000<span class="hljs-number" style="color:rgb(223,83,32);"> 00000</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:7</span>) TEXT    <span class="hljs-string" style="color:rgb(90,183,56);">""</span>.main<span class="hljs-number" style="color:rgb(223,83,32);">+0</span>(SB),<span class="hljs-number" style="color:rgb(223,83,32);">$264</span><span class="hljs-number" style="color:rgb(223,83,32);">-0</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0000<span class="hljs-number" style="color:rgb(223,83,32);"> 00000</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:7</span>) MOVQ    (TLS),CX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0009<span class="hljs-number" style="color:rgb(223,83,32);"> 00009</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:7</span>) LEAQ   <span class="hljs-number" style="color:rgb(223,83,32);"> -136</span>(SP),AX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0011<span class="hljs-number" style="color:rgb(223,83,32);"> 00017</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:7</span>) CMPQ    AX<span class="hljs-number" style="color:rgb(223,83,32);">,16</span>(CX)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0015<span class="hljs-number" style="color:rgb(223,83,32);"> 00021</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:7</span>) JHI <span class="hljs-number" style="color:rgb(223,83,32);">,30</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0017<span class="hljs-number" style="color:rgb(223,83,32);"> 00023</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:7</span>) CALL    ,runtime.morestack_noctxt(SB)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x001c<span class="hljs-number" style="color:rgb(223,83,32);"> 00028</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:7</span>) JMP <span class="hljs-number" style="color:rgb(223,83,32);">,0</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x001e<span class="hljs-number" style="color:rgb(223,83,32);"> 00030</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:7</span>) SUBQ    <span class="hljs-number" style="color:rgb(223,83,32);">$264</span>,SP
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0025<span class="hljs-number" style="color:rgb(223,83,32);"> 00037</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:7</span>) FUNCDATA    <span class="hljs-number" style="color:rgb(223,83,32);">$0</span>,gclocals<span class="hljs-number" style="color:rgb(223,83,32);">·7</span>c13896baab3273e10662a9a37b348ce<span class="hljs-number" style="color:rgb(223,83,32);">+0</span>(SB)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0025<span class="hljs-number" style="color:rgb(223,83,32);"> 00037</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:7</span>) FUNCDATA    <span class="hljs-number" style="color:rgb(223,83,32);">$1</span>,gclocals<span class="hljs-number" style="color:rgb(223,83,32);">·978d33</span>e7717760c8870a69548dc9a2fb<span class="hljs-number" style="color:rgb(223,83,32);">+0</span>(SB)

    <span class="hljs-comment" style="color:rgb(118,110,107);">// 创建切片s1</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0025<span class="hljs-number" style="color:rgb(223,83,32);"> 00037</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>) MOVQ    $<span class="hljs-keyword" style="color:rgb(102,102,234);">type</span>.[]<span class="hljs-typename">int</span><span class="hljs-number" style="color:rgb(223,83,32);">+0</span>(SB),BX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x002c<span class="hljs-number" style="color:rgb(223,83,32);"> 00044</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>) MOVQ    BX,(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0030<span class="hljs-number" style="color:rgb(223,83,32);"> 00048</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>) MOVQ    <span class="hljs-number" style="color:rgb(223,83,32);">$10</span><span class="hljs-number" style="color:rgb(223,83,32);">,8</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0039<span class="hljs-number" style="color:rgb(223,83,32);"> 00057</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>) MOVQ    <span class="hljs-number" style="color:rgb(223,83,32);">$10</span><span class="hljs-number" style="color:rgb(223,83,32);">,16</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0042<span class="hljs-number" style="color:rgb(223,83,32);"> 00066</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>) PCDATA  <span class="hljs-number" style="color:rgb(223,83,32);">$0</span>,<span class="hljs-number" style="color:rgb(223,83,32);">$0</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0042<span class="hljs-number" style="color:rgb(223,83,32);"> 00066</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>) CALL    ,runtime.makeslice(SB)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0047<span class="hljs-number" style="color:rgb(223,83,32);"> 00071</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>) MOVQ   <span class="hljs-number" style="color:rgb(223,83,32);"> 24</span>(SP),DX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x004c<span class="hljs-number" style="color:rgb(223,83,32);"> 00076</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>) MOVQ   <span class="hljs-number" style="color:rgb(223,83,32);"> 32</span>(SP),CX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0051<span class="hljs-number" style="color:rgb(223,83,32);"> 00081</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>) MOVQ   <span class="hljs-number" style="color:rgb(223,83,32);"> 40</span>(SP),AX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0056<span class="hljs-number" style="color:rgb(223,83,32);"> 00086</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>) MOVQ    DX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.s1<span class="hljs-number" style="color:rgb(223,83,32);">+88</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x005b<span class="hljs-number" style="color:rgb(223,83,32);"> 00091</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>) MOVQ    CX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.s1<span class="hljs-number" style="color:rgb(223,83,32);">+96</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0060<span class="hljs-number" style="color:rgb(223,83,32);"> 00096</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>) MOVQ    AX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.s1<span class="hljs-number" style="color:rgb(223,83,32);">+104</span>(SP)

    <span class="hljs-comment" style="color:rgb(118,110,107);">// 创建切片s2</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0065<span class="hljs-number" style="color:rgb(223,83,32);"> 00101</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:9</span>) MOVQ    $<span class="hljs-keyword" style="color:rgb(102,102,234);">type</span>.[]<span class="hljs-typename">int</span><span class="hljs-number" style="color:rgb(223,83,32);">+0</span>(SB),BX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x006c<span class="hljs-number" style="color:rgb(223,83,32);"> 00108</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:9</span>) MOVQ    BX,(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0070<span class="hljs-number" style="color:rgb(223,83,32);"> 00112</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:9</span>) MOVQ    <span class="hljs-number" style="color:rgb(223,83,32);">$10</span><span class="hljs-number" style="color:rgb(223,83,32);">,8</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0079<span class="hljs-number" style="color:rgb(223,83,32);"> 00121</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:9</span>) MOVQ    <span class="hljs-number" style="color:rgb(223,83,32);">$10</span><span class="hljs-number" style="color:rgb(223,83,32);">,16</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0082<span class="hljs-number" style="color:rgb(223,83,32);"> 00130</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:9</span>) PCDATA  <span class="hljs-number" style="color:rgb(223,83,32);">$0</span>,<span class="hljs-number" style="color:rgb(223,83,32);">$1</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0082<span class="hljs-number" style="color:rgb(223,83,32);"> 00130</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:9</span>) CALL    ,runtime.makeslice(SB)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0087<span class="hljs-number" style="color:rgb(223,83,32);"> 00135</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:9</span>) MOVQ   <span class="hljs-number" style="color:rgb(223,83,32);"> 24</span>(SP),DX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x008c<span class="hljs-number" style="color:rgb(223,83,32);"> 00140</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:9</span>) MOVQ   <span class="hljs-number" style="color:rgb(223,83,32);"> 32</span>(SP),CX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0091<span class="hljs-number" style="color:rgb(223,83,32);"> 00145</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:9</span>) MOVQ   <span class="hljs-number" style="color:rgb(223,83,32);"> 40</span>(SP),AX

    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将s1的数据保存到SI, BP, BX</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0096<span class="hljs-number" style="color:rgb(223,83,32);"> 00150</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    MOVQ    <span class="hljs-string" style="color:rgb(90,183,56);">""</span>.s1<span class="hljs-number" style="color:rgb(223,83,32);">+88</span>(SP),SI
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x009b<span class="hljs-number" style="color:rgb(223,83,32);"> 00155</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    MOVQ    <span class="hljs-string" style="color:rgb(90,183,56);">""</span>.s1<span class="hljs-number" style="color:rgb(223,83,32);">+96</span>(SP),BP
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00a0<span class="hljs-number" style="color:rgb(223,83,32);"> 00160</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    MOVQ    <span class="hljs-string" style="color:rgb(90,183,56);">""</span>.s1<span class="hljs-number" style="color:rgb(223,83,32);">+104</span>(SP),BX

    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将BX保存到224(SP)</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00a5<span class="hljs-number" style="color:rgb(223,83,32);"> 00165</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    MOVQ    BX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0005<span class="hljs-number" style="color:rgb(223,83,32);">+224</span>(SP)

    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将s2的数据保存到栈上</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00ad<span class="hljs-number" style="color:rgb(223,83,32);"> 00173</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    MOVQ    DX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.s2<span class="hljs-number" style="color:rgb(223,83,32);">+64</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00b2<span class="hljs-number" style="color:rgb(223,83,32);"> 00178</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    MOVQ    CX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.s2<span class="hljs-number" style="color:rgb(223,83,32);">+72</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00b7<span class="hljs-number" style="color:rgb(223,83,32);"> 00183</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    MOVQ    AX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.s2<span class="hljs-number" style="color:rgb(223,83,32);">+80</span>(SP)

    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将AX保存到152(SP)</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00bc<span class="hljs-number" style="color:rgb(223,83,32);"> 00188</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    MOVQ    AX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0006<span class="hljs-number" style="color:rgb(223,83,32);">+152</span>(SP)
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将BP保存到216(SP)</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00c4<span class="hljs-number" style="color:rgb(223,83,32);"> 00196</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    MOVQ    BP,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0000<span class="hljs-number" style="color:rgb(223,83,32);">+216</span>(SP)

    <span class="hljs-comment" style="color:rgb(118,110,107);">// 从204到220是比较s1和s2的长度</span>
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 哪个比较大就用它作为参数</span>
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 复制BP到AX, BP保存的是s1的len</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00cc<span class="hljs-number" style="color:rgb(223,83,32);"> 00204</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    MOVQ    BP,AX
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将CX保存到144(SP)</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00cf<span class="hljs-number" style="color:rgb(223,83,32);"> 00207</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    MOVQ    CX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0006<span class="hljs-number" style="color:rgb(223,83,32);">+144</span>(SP)
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 比较s2的长度(CX)和s1的长度(BP)</span>
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 如果小于0则跳转到223</span>
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 否则执行220</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00d7<span class="hljs-number" style="color:rgb(223,83,32);"> 00215</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    CMPQ    CX,BP
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00da<span class="hljs-number" style="color:rgb(223,83,32);"> 00218</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    JGE <span class="hljs-number" style="color:rgb(223,83,32);">,223</span>

   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00dc<span class="hljs-number" style="color:rgb(223,83,32);"> 00220</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    MOVQ    CX,AX
    
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将s1的array作为第一个参数</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00df<span class="hljs-number" style="color:rgb(223,83,32);"> 00223</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    MOVQ    SI,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0000<span class="hljs-number" style="color:rgb(223,83,32);">+208</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00e7<span class="hljs-number" style="color:rgb(223,83,32);"> 00231</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    MOVQ    SI,(SP)
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将s2的array作为第二个参数</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00eb<span class="hljs-number" style="color:rgb(223,83,32);"> 00235</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    MOVQ    DX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0006<span class="hljs-number" style="color:rgb(223,83,32);">+136</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00f3<span class="hljs-number" style="color:rgb(223,83,32);"> 00243</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    MOVQ    DX<span class="hljs-number" style="color:rgb(223,83,32);">,8</span>(SP)

    <span class="hljs-comment" style="color:rgb(118,110,107);">// AX中保存的是s2的长度</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00f8<span class="hljs-number" style="color:rgb(223,83,32);"> 00248</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    MOVQ    AX,BX
    <span class="hljs-comment" style="color:rgb(118,110,107);">// shl 左移位操作, 左移3位</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00fb<span class="hljs-number" style="color:rgb(223,83,32);"> 00251</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    SHLQ    <span class="hljs-number" style="color:rgb(223,83,32);">$3</span>,BX
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将BX作为第三个参数</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00ff<span class="hljs-number" style="color:rgb(223,83,32);"> 00255</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    MOVQ    BX<span class="hljs-number" style="color:rgb(223,83,32);">,16</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0104<span class="hljs-number" style="color:rgb(223,83,32);"> 00260</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    PCDATA  <span class="hljs-number" style="color:rgb(223,83,32);">$0</span>,<span class="hljs-number" style="color:rgb(223,83,32);">$2</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0104<span class="hljs-number" style="color:rgb(223,83,32);"> 00260</span> (builtin.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:11</span>)    CALL    ,runtime.memmove(SB)
</code></pre> 
  <h4 style="font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;line-height:1.5;color:rgb(51,51,51);font-size:16px;background-color:rgb(255,255,255);"> 函数调用</h4> 
  <pre class="hljs go" style="font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:13px;line-height:1.428571429;color:rgb(104,97,94);border:1px solid rgb(204,204,204);background-color:rgb(241,239,238);"><code class="language-go" style="font-family:consolas, sans-serif;color:inherit;background-color:transparent;"><span class="hljs-keyword" style="color:rgb(102,102,234);">package</span> main

<span class="hljs-keyword" style="color:rgb(102,102,234);">import</span> (
    <span class="hljs-string" style="color:rgb(90,183,56);">"fmt"</span>
)

<span class="hljs-keyword" style="color:rgb(102,102,234);">func</span> f1(a <span class="hljs-typename">int</span>) <span class="hljs-typename">int</span> {
    fmt.Println(a)
    <span class="hljs-keyword" style="color:rgb(102,102,234);">return</span> a +<span class="hljs-number" style="color:rgb(223,83,32);"> 123</span>
}

<span class="hljs-keyword" style="color:rgb(102,102,234);">func</span> main() {
    b := f1<span class="hljs-number" style="color:rgb(223,83,32);">(123</span>)
    fmt.Println(b)
}
</code></pre> 
  <p style="color:rgb(51,51,51);font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:20px;background-color:rgb(255,255,255);"> 下面是汇编代码:</p> 
  <pre class="hljs go" style="font-family:Menlo, Monaco, Consolas, 'Courier New', monospace;font-size:13px;line-height:1.428571429;color:rgb(104,97,94);border:1px solid rgb(204,204,204);background-color:rgb(241,239,238);"><code class="language-asm" style="font-family:consolas, sans-serif;color:inherit;background-color:transparent;"><span class="hljs-string" style="color:rgb(90,183,56);">""</span>.f1 t<span class="hljs-number" style="color:rgb(223,83,32);">=1</span> size<span class="hljs-number" style="color:rgb(223,83,32);">=240</span> value<span class="hljs-number" style="color:rgb(223,83,32);">=0</span> args<span class="hljs-number" style="color:rgb(223,83,32);">=0</span>x10 locals<span class="hljs-number" style="color:rgb(223,83,32);">=0</span>x70
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0000<span class="hljs-number" style="color:rgb(223,83,32);"> 00000</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:7</span>)   TEXT    <span class="hljs-string" style="color:rgb(90,183,56);">""</span>.f1<span class="hljs-number" style="color:rgb(223,83,32);">+0</span>(SB),<span class="hljs-number" style="color:rgb(223,83,32);">$112</span><span class="hljs-number" style="color:rgb(223,83,32);">-16</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0000<span class="hljs-number" style="color:rgb(223,83,32);"> 00000</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:7</span>)   MOVQ    (TLS),CX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0009<span class="hljs-number" style="color:rgb(223,83,32);"> 00009</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:7</span>)   CMPQ    SP<span class="hljs-number" style="color:rgb(223,83,32);">,16</span>(CX)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x000d<span class="hljs-number" style="color:rgb(223,83,32);"> 00013</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:7</span>)   JHI <span class="hljs-number" style="color:rgb(223,83,32);">,22</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x000f<span class="hljs-number" style="color:rgb(223,83,32);"> 00015</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:7</span>)   CALL    ,runtime.morestack_noctxt(SB)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0014<span class="hljs-number" style="color:rgb(223,83,32);"> 00020</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:7</span>)   JMP <span class="hljs-number" style="color:rgb(223,83,32);">,0</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0016<span class="hljs-number" style="color:rgb(223,83,32);"> 00022</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:7</span>)   SUBQ    <span class="hljs-number" style="color:rgb(223,83,32);">$112</span>,SP
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x001a<span class="hljs-number" style="color:rgb(223,83,32);"> 00026</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:7</span>)   FUNCDATA    <span class="hljs-number" style="color:rgb(223,83,32);">$0</span>,gclocals<span class="hljs-number" style="color:rgb(223,83,32);">·480</span>b8f52e76ecc554a5236babfd9a6e5<span class="hljs-number" style="color:rgb(223,83,32);">+0</span>(SB)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x001a<span class="hljs-number" style="color:rgb(223,83,32);"> 00026</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:7</span>)   FUNCDATA    <span class="hljs-number" style="color:rgb(223,83,32);">$1</span>,gclocals<span class="hljs-number" style="color:rgb(223,83,32);">·403</span>a8d79fd24b295e8557f6970497aa3<span class="hljs-number" style="color:rgb(223,83,32);">+0</span>(SB)

    <span class="hljs-comment" style="color:rgb(118,110,107);">// 因为栈帧的大小是112字节</span>
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 所以在120(FP)处保存的是第一个参数</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x001a<span class="hljs-number" style="color:rgb(223,83,32);"> 00026</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    <span class="hljs-string" style="color:rgb(90,183,56);">""</span>.a<span class="hljs-number" style="color:rgb(223,83,32);">+120</span>(FP),BX

    <span class="hljs-comment" style="color:rgb(118,110,107);">// 下面的代码将a转换为接口类型</span>
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 因为fmt.Println需要的是空接口类型的参数</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x001f<span class="hljs-number" style="color:rgb(223,83,32);"> 00031</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    BX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0001<span class="hljs-number" style="color:rgb(223,83,32);">+48</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0024<span class="hljs-number" style="color:rgb(223,83,32);"> 00036</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   LEAQ    <span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0000<span class="hljs-number" style="color:rgb(223,83,32);">+72</span>(SP),BX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0029<span class="hljs-number" style="color:rgb(223,83,32);"> 00041</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    <span class="hljs-number" style="color:rgb(223,83,32);">$0</span>,(BX)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0030<span class="hljs-number" style="color:rgb(223,83,32);"> 00048</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    <span class="hljs-number" style="color:rgb(223,83,32);">$0</span><span class="hljs-number" style="color:rgb(223,83,32);">,8</span>(BX)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0038<span class="hljs-number" style="color:rgb(223,83,32);"> 00056</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   LEAQ    <span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0000<span class="hljs-number" style="color:rgb(223,83,32);">+72</span>(SP),BX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x003d<span class="hljs-number" style="color:rgb(223,83,32);"> 00061</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   CMPQ    BX,<span class="hljs-number" style="color:rgb(223,83,32);">$0</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0041<span class="hljs-number" style="color:rgb(223,83,32);"> 00065</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   JEQ <span class="hljs-number" style="color:rgb(223,83,32);">$1</span><span class="hljs-number" style="color:rgb(223,83,32);">,226</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0047<span class="hljs-number" style="color:rgb(223,83,32);"> 00071</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    <span class="hljs-number" style="color:rgb(223,83,32);">$1</span>,DX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x004e<span class="hljs-number" style="color:rgb(223,83,32);"> 00078</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    <span class="hljs-number" style="color:rgb(223,83,32);">$1</span>,CX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0055<span class="hljs-number" style="color:rgb(223,83,32);"> 00085</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    BX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0002<span class="hljs-number" style="color:rgb(223,83,32);">+88</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x005a<span class="hljs-number" style="color:rgb(223,83,32);"> 00090</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    DX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0002<span class="hljs-number" style="color:rgb(223,83,32);">+96</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x005f<span class="hljs-number" style="color:rgb(223,83,32);"> 00095</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    CX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0002<span class="hljs-number" style="color:rgb(223,83,32);">+104</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0064<span class="hljs-number" style="color:rgb(223,83,32);"> 00100</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    $<span class="hljs-keyword" style="color:rgb(102,102,234);">type</span>.<span class="hljs-typename">int</span><span class="hljs-number" style="color:rgb(223,83,32);">+0</span>(SB),BX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x006b<span class="hljs-number" style="color:rgb(223,83,32);"> 00107</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    BX,(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x006f<span class="hljs-number" style="color:rgb(223,83,32);"> 00111</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   LEAQ    <span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0001<span class="hljs-number" style="color:rgb(223,83,32);">+48</span>(SP),BX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0074<span class="hljs-number" style="color:rgb(223,83,32);"> 00116</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    BX<span class="hljs-number" style="color:rgb(223,83,32);">,8</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0079<span class="hljs-number" style="color:rgb(223,83,32);"> 00121</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   PCDATA  <span class="hljs-number" style="color:rgb(223,83,32);">$0</span>,<span class="hljs-number" style="color:rgb(223,83,32);">$1</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0079<span class="hljs-number" style="color:rgb(223,83,32);"> 00121</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   CALL    ,runtime.convT2E(SB)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x007e<span class="hljs-number" style="color:rgb(223,83,32);"> 00126</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ   <span class="hljs-number" style="color:rgb(223,83,32);"> 16</span>(SP),CX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0083<span class="hljs-number" style="color:rgb(223,83,32);"> 00131</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ   <span class="hljs-number" style="color:rgb(223,83,32);"> 24</span>(SP),AX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0088<span class="hljs-number" style="color:rgb(223,83,32);"> 00136</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    <span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0002<span class="hljs-number" style="color:rgb(223,83,32);">+88</span>(SP),BX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x008d<span class="hljs-number" style="color:rgb(223,83,32);"> 00141</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    BX,(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0091<span class="hljs-number" style="color:rgb(223,83,32);"> 00145</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    CX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0004<span class="hljs-number" style="color:rgb(223,83,32);">+56</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0096<span class="hljs-number" style="color:rgb(223,83,32);"> 00150</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    CX<span class="hljs-number" style="color:rgb(223,83,32);">,8</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x009b<span class="hljs-number" style="color:rgb(223,83,32);"> 00155</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    AX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0004<span class="hljs-number" style="color:rgb(223,83,32);">+64</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00a0<span class="hljs-number" style="color:rgb(223,83,32);"> 00160</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    AX<span class="hljs-number" style="color:rgb(223,83,32);">,16</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00a5<span class="hljs-number" style="color:rgb(223,83,32);"> 00165</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   PCDATA  <span class="hljs-number" style="color:rgb(223,83,32);">$0</span>,<span class="hljs-number" style="color:rgb(223,83,32);">$1</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00a5<span class="hljs-number" style="color:rgb(223,83,32);"> 00165</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   CALL    ,runtime.writebarrieriface(SB)
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 传递参数给fmt.Println，并调用</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00aa<span class="hljs-number" style="color:rgb(223,83,32);"> 00170</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    <span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0002<span class="hljs-number" style="color:rgb(223,83,32);">+88</span>(SP),BX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00af<span class="hljs-number" style="color:rgb(223,83,32);"> 00175</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    BX,(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00b3<span class="hljs-number" style="color:rgb(223,83,32);"> 00179</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    <span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0002<span class="hljs-number" style="color:rgb(223,83,32);">+96</span>(SP),BX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00b8<span class="hljs-number" style="color:rgb(223,83,32);"> 00184</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    BX<span class="hljs-number" style="color:rgb(223,83,32);">,8</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00bd<span class="hljs-number" style="color:rgb(223,83,32);"> 00189</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    <span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0002<span class="hljs-number" style="color:rgb(223,83,32);">+104</span>(SP),BX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00c2<span class="hljs-number" style="color:rgb(223,83,32);"> 00194</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVQ    BX<span class="hljs-number" style="color:rgb(223,83,32);">,16</span>(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00c7<span class="hljs-number" style="color:rgb(223,83,32);"> 00199</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   PCDATA  <span class="hljs-number" style="color:rgb(223,83,32);">$0</span>,<span class="hljs-number" style="color:rgb(223,83,32);">$2</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00c7<span class="hljs-number" style="color:rgb(223,83,32);"> 00199</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   CALL    ,fmt.Println(SB)

    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将a加上123，并返回</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00cc<span class="hljs-number" style="color:rgb(223,83,32);"> 00204</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:9</span>)   MOVQ    <span class="hljs-string" style="color:rgb(90,183,56);">""</span>.a<span class="hljs-number" style="color:rgb(223,83,32);">+120</span>(FP),BX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00d1<span class="hljs-number" style="color:rgb(223,83,32);"> 00209</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:9</span>)   ADDQ    <span class="hljs-number" style="color:rgb(223,83,32);">$123</span>,BX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00d5<span class="hljs-number" style="color:rgb(223,83,32);"> 00213</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:9</span>)   MOVQ    BX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.~r1<span class="hljs-number" style="color:rgb(223,83,32);">+128</span>(FP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00dd<span class="hljs-number" style="color:rgb(223,83,32);"> 00221</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:9</span>)   ADDQ    <span class="hljs-number" style="color:rgb(223,83,32);">$112</span>,SP
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00e1<span class="hljs-number" style="color:rgb(223,83,32);"> 00225</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:9</span>)   RET ,
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00e2<span class="hljs-number" style="color:rgb(223,83,32);"> 00226</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   MOVL    AX,(BX)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x00e4<span class="hljs-number" style="color:rgb(223,83,32);"> 00228</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:8</span>)   JMP <span class="hljs-number" style="color:rgb(223,83,32);">,71</span>
    
    
    <span class="hljs-string" style="color:rgb(90,183,56);">""</span>.main t<span class="hljs-number" style="color:rgb(223,83,32);">=1</span> size<span class="hljs-number" style="color:rgb(223,83,32);">=240</span> value<span class="hljs-number" style="color:rgb(223,83,32);">=0</span> args<span class="hljs-number" style="color:rgb(223,83,32);">=0</span>x0 locals<span class="hljs-number" style="color:rgb(223,83,32);">=0</span>x70
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0000<span class="hljs-number" style="color:rgb(223,83,32);"> 00000</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:12</span>)  TEXT    <span class="hljs-string" style="color:rgb(90,183,56);">""</span>.main<span class="hljs-number" style="color:rgb(223,83,32);">+0</span>(SB),<span class="hljs-number" style="color:rgb(223,83,32);">$112</span><span class="hljs-number" style="color:rgb(223,83,32);">-0</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0000<span class="hljs-number" style="color:rgb(223,83,32);"> 00000</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:12</span>)  MOVQ    (TLS),CX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0009<span class="hljs-number" style="color:rgb(223,83,32);"> 00009</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:12</span>)  CMPQ    SP<span class="hljs-number" style="color:rgb(223,83,32);">,16</span>(CX)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x000d<span class="hljs-number" style="color:rgb(223,83,32);"> 00013</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:12</span>)  JHI <span class="hljs-number" style="color:rgb(223,83,32);">,22</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x000f<span class="hljs-number" style="color:rgb(223,83,32);"> 00015</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:12</span>)  CALL    ,runtime.morestack_noctxt(SB)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0014<span class="hljs-number" style="color:rgb(223,83,32);"> 00020</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:12</span>)  JMP <span class="hljs-number" style="color:rgb(223,83,32);">,0</span>
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将SP减去112(栈的大小)，栈向下增长</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0016<span class="hljs-number" style="color:rgb(223,83,32);"> 00022</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:12</span>)  SUBQ    <span class="hljs-number" style="color:rgb(223,83,32);">$112</span>,SP
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x001a<span class="hljs-number" style="color:rgb(223,83,32);"> 00026</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:12</span>)  FUNCDATA    <span class="hljs-number" style="color:rgb(223,83,32);">$0</span>,gclocals<span class="hljs-number" style="color:rgb(223,83,32);">·73423680</span>ca5f2d7df4fe760a82d507fb<span class="hljs-number" style="color:rgb(223,83,32);">+0</span>(SB)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x001a<span class="hljs-number" style="color:rgb(223,83,32);"> 00026</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:12</span>)  FUNCDATA    <span class="hljs-number" style="color:rgb(223,83,32);">$1</span>,gclocals<span class="hljs-number" style="color:rgb(223,83,32);">·403</span>a8d79fd24b295e8557f6970497aa3<span class="hljs-number" style="color:rgb(223,83,32);">+0</span>(SB)
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将123放在栈顶</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x001a<span class="hljs-number" style="color:rgb(223,83,32);"> 00026</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:13</span>)  MOVQ    <span class="hljs-number" style="color:rgb(223,83,32);">$123</span>,(SP)
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0022<span class="hljs-number" style="color:rgb(223,83,32);"> 00034</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:13</span>)  PCDATA  <span class="hljs-number" style="color:rgb(223,83,32);">$0</span>,<span class="hljs-number" style="color:rgb(223,83,32);">$0</span>
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 调用f1</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0022<span class="hljs-number" style="color:rgb(223,83,32);"> 00034</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:13</span>)  CALL    ,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.f1(SB)
    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将结果8(SP)存入BX</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x0027<span class="hljs-number" style="color:rgb(223,83,32);"> 00039</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:13</span>)  MOVQ   <span class="hljs-number" style="color:rgb(223,83,32);"> 8</span>(SP),BX
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x002c<span class="hljs-number" style="color:rgb(223,83,32);"> 00044</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:13</span>)  NOP ,

    <span class="hljs-comment" style="color:rgb(118,110,107);">// 将BX存放到48(SP), 是一个临时变量，BX中保存的是f1的调用结果</span>
   <span class="hljs-number" style="color:rgb(223,83,32);"> 0</span>x002c<span class="hljs-number" style="color:rgb(223,83,32);"> 00044</span> (builtin<span class="hljs-number" style="color:rgb(223,83,32);">.3</span>.<span class="hljs-keyword" style="color:rgb(102,102,234);">go</span><span class="hljs-number" style="color:rgb(223,83,32);">:14</span>)  MOVQ    BX,<span class="hljs-string" style="color:rgb(90,183,56);">""</span>.autotmp_0010<span class="hljs-number" style="color:rgb(223,83,32);">+48</span>(SP)</code></pre> 
 </div> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/bravezhe/article/details/80256035,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/bravezhe/article/details/80256035,&quot;}">阅读更多</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0d1dbe5a3e5863242418b768d1601633";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
