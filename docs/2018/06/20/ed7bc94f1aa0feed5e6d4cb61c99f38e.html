<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>区块链学习—从零开始创建自己的区块链应用 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="区块链学习—从零开始创建自己的区块链应用" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="阅读对象 本文阅读对象，主要是希望和即将从事区块链开发的项目架构师，开发工程师，项目设计或产品设计师。要求阅读者具备一定的“区块链”基础知识、概念和以及相关的技术知识。 如果你只需要对区块链应用做一个更深更直观的了解，通过本文的例子更清晰了解区块链是怎么回事，大概是怎么开发出来的，怎么使用，那么知道一些区块链相关知识即可。 如果你是一个想从事这方面工作的人，尤其是从事开发和架构的技术人员，那么需要的技术知识就相当的多了，无法一一列举，大概一个高级网络开发工程师和中级以上的架构师水平，是需要的。 &nbsp; 前言 很多新的概念，人们在刚接触的时候，会让人感到非常困惑，学了好多次都稀里糊涂，并不仅仅是技术，很多地方都是如此。对于比较难理解的概念，用什么办法去学习最高效呢？我一直认为，就是找一个例子，或者写一个Demo，世上无难事，for一个example即可。。。 &nbsp; 最近一段时间，AI人工智能方兴未艾，区块链技术又迎面走来，对数字货币的崛起感到新奇的我们，估计很想知道其背后的技术--区块链是怎样的一个东西。但是完全搞懂区块链并非易事，在实践中学习方为上策。 &nbsp; 我喜欢把程序当成诗歌来写，理所当然要通过写代码来实现并运行一个例子，来理解并学习这门技术。这里，就通过用JAVA语言实现和构建一个区块链来探讨对区块链的理解。 &nbsp; 本文，我们要用区块链来实现这么一个例子，名字叫“区块链成语接龙”。用户通过这个例子，可以不断的接龙前面一个用户的成语，规则和普通游戏一样，前面一个用户的成语的最后一个字，作为后面一个成语的第一个字。 &nbsp; 单单作为一个应用，这个很简单呐，问题是，我们要用区块链的原理和相关技术实现它。 &nbsp; OK，let’s go… … &nbsp; 准备工作 这个时候其实我很想大喊一声：“区块链”其实不是某一种单纯的技术，而是基于某一种思想的多种技术的结合。 需要的技术包括分布式存储，分布式计算，P2P数据同步，加密解密，安全传输，一些语言，一些开发工具。。。还有一些新型的概念&nbsp;–&nbsp;分布式节点，工作量证明，共识算法。。。等等 基于哪一种思想呢，大家都说是“去中心化”，我觉得就是“反垄断”“反。。。”，敏感话题，不展开了。但是我事实上是一个喜欢民主的人，所以区块链的“去中心化”对我吸引力颇大。。。all men are created equal…J &nbsp; 本文里面涉及到的一些例子，来源是网上，有些是Python版本，有些是Java版本，C版本，考虑到JAVA更为通用和易读写（其实我是认为JAVA语言更像诗歌了），就把他们改成了JAVA版，所以要求读者对诗歌..哦，不是，是对JAVA非常了解，能读写基本的语法框架和逻辑，并且因为这个DEMO的特殊性，需要对网络框架和HTTP请求有基本的了解。 &nbsp; 我们知道区块链是数据块和链的存储方式的组合，是由N多个数据区块按照链的组织和记录构成的不可变、有序的链结构，记录可以是交易、文件或任何你想要的数据，同时它们是通过哈希值（hashes）链接起来的。所以，在阅读本文之前，一定要阅读几篇关于区块链的文章，了解里面块，链，数据，工作量证明等等概念，最好也了解一些相关技术比如Hash，分布式存储等等的概念。如果你还不是很了解这些，请找度娘。 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如果在了解这些概念的过程中，一不小心接触到了比特币，请一定要明白，比特币只是区块链技术的一个产品实现。如果还接触到其它一些诸如以太网等等的名词，那么需要知道，这些都是区块链技术下实现的一些框架和产品。 &nbsp; &nbsp; 环境准备 理论上来说，可以用任何一种语言来创建任何一种技术的例子，包括区块链的例子，我们这里选用了JAVA，所以要在自己的电脑上，准备JAVA的相关开发环境。 &nbsp; 确保你的电脑上已经安装了较新版本的JDK，Tomcat和某一种你熟悉的最好能整合Tomcat的JAVA IDE，本例用的是Eclipse。Tomcat在我们这个例子中间，是一个WEB工具，因为我们的项目，需要基于WEB&nbsp; HTTP&nbsp;发布和运行。 &nbsp; 如何安装Java和各种工具，包括如何用Eclipse创建Dynamic web项目并发布到Tomcat等等步骤，既然你已经如此熟悉JAVA了，这里就不再多讲。 &nbsp; &nbsp; 开始创建区块链 &nbsp; 区块或称数据块Block类 区块链中每个区块包含以下基本内容：索引（index），Unix时间戳（timestamp），数据块(data)（包括交易，文字，申明，奖励等任何和合适的内容），证明或工作量证明（proof稍后解释）以及前一个区块的Hash值，Hash&nbsp;用来链接数据块，同时确保数据块不被非法修改。 以下是一个区块的结构： public&nbsp;class&nbsp;Block { &nbsp; &nbsp;&nbsp;&nbsp;int&nbsp;iIndex;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//索引 &nbsp;&nbsp; String&nbsp;sProof;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//工作量证明，在这个例子里面，其实就是一个经过验证的正确的成语 &nbsp;&nbsp; String&nbsp;sPreviousHash;&nbsp;&nbsp;&nbsp;&nbsp;//前一个区块的Hash值 &nbsp;&nbsp; Timestamp&nbsp;tsCreateTime;&nbsp;&nbsp;//区块创建时间戳 &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;/*数据块 &nbsp;&nbsp; &nbsp;* &nbsp;&nbsp; &nbsp;*&nbsp;用户每接上一个成语，会得到系统10元钱的奖励，同时会赢得前面一个用户的2元钱 &nbsp;&nbsp; &nbsp;*&nbsp;数据区同时需要记录自己的用户名和回答出上一个成语的用户名 &nbsp;&nbsp; &nbsp;* &nbsp;&nbsp; &nbsp;* */ &nbsp;&nbsp; String&nbsp;sSender;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//回答出上一个成语的用户名 &nbsp;&nbsp; String&nbsp;sRecipient;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//回答出当前这个成语的用户名 &nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;iMoneyAward=10;&nbsp;//系统奖励，数额固定 &nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;iMoneyWin=2;&nbsp;&nbsp;&nbsp;&nbsp;//赢取奖励，数额固定 &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;public&nbsp;Block(){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; } &nbsp;&nbsp; &nbsp;&nbsp; } &nbsp; &nbsp; 区块链实现Blockchain类 &nbsp; import java.util.*; import&nbsp;blockchain.Block; &nbsp; public&nbsp;class&nbsp;BlockChain { &nbsp;&nbsp;&nbsp;//用来存储区块 private&nbsp;List&lt;Block&gt; lBlockchain=new ArrayList&lt;&gt;[];&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;public&nbsp;BlockChain(){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; } &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//创建新块 &nbsp;&nbsp;&nbsp;public&nbsp;Block NewBlock(){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Block bRet=null; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//在这里创建一个新块 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;bRet; &nbsp;&nbsp; } &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//Hash&nbsp;一个块 &nbsp;&nbsp;&nbsp;public&nbsp;String Hash(Block block){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sHash=null; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//在这里Hash&nbsp;一个块 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;sHash; &nbsp;&nbsp; } &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//其他方法 &nbsp;&nbsp;&nbsp;//.... } &nbsp; &nbsp; &nbsp; Blockchain类用来管理链条，它能存储和更新链数据，加入新块等等，下面我们来进一步增加和完善里面的一些方法 &nbsp; 创建新块和创世块 &nbsp; 当一个用户按照成语接龙的规则，对上上一个成语，并且系统验证这成语正确（工作量被证明）。这个时候我们就可以创建一个新块，并且加到链里面。 &nbsp; 一旦工作量证明确认，并且上一个块hash&nbsp;生成后，就可以简单调用函数创建一个新块了。 &nbsp; 创建新块方法如下： &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;//创建新块 &nbsp;&nbsp;&nbsp;public&nbsp;Block&nbsp;NewBlock(int&nbsp;i,String proof,String hash,Timestamp c,String sender,String recipient){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Block bRet=null; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//在这里创建一个新块 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bRet = new Block(i,proof,hash,c,sender,recipient); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;return&nbsp;bRet; &nbsp;&nbsp; } &nbsp; &nbsp; 这里，我们需要提一下创世块的概念，创世块是区块链的第一个区块，它是没有前区块的。逻辑上只在第一个用户第一次启动系统的时候，才需要创建创世块，后面的都是通过同步获得。创世块索引是0，同样需要给它加上一个工作量证明，我们这里就是初始成语“海阔天空”，因为没有前面的块，所以hash=””，同时给一个固定的创建时间。方法如下： &nbsp; &nbsp;&nbsp;&nbsp;//创始块的创建，创世块是一个块，必须是固定的信息 &nbsp;&nbsp;&nbsp;//逻辑上来说，只有在区块链产品的第一个用户第一次启动的时候，才会需要创建创世块 &nbsp;&nbsp;&nbsp;public&nbsp;Block CreateFirstBlock(){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Timestamp t=new&nbsp;Timestamp((new&nbsp;java.text.SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;)).parse(&quot;2018-01-01 01:01:01&quot;).getTime()); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;NewBlock(0,&quot;海阔天空&quot;,&quot;&quot;,t,&quot;&quot;,&quot;&quot;); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }catch(Exception e){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;null; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp; } &nbsp; &nbsp; &nbsp; 这里顺便贴上生成块的Hash字符串的方法： &nbsp;&nbsp;&nbsp;//Hash&nbsp;一个块 &nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;String Hash(Block block){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sHash=null; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//在这里Hash&nbsp;一个块 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String s=block.sPreviousHash+block.sProof+block.sRecipient+block.sSender+block.tsCreateTime.toString(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sHash =&nbsp;MD5(s); &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;sHash; &nbsp;&nbsp; } &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;String MD5(String key) { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;hexDigits[] = { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;0&#39;,&nbsp;&#39;1&#39;,&nbsp;&#39;2&#39;,&nbsp;&#39;3&#39;,&nbsp;&#39;4&#39;,&nbsp;&#39;5&#39;,&nbsp;&#39;6&#39;,&nbsp;&#39;7&#39;,&nbsp;&#39;8&#39;,&nbsp;&#39;9&#39;,&nbsp;&#39;A&#39;,&nbsp;&#39;B&#39;,&nbsp;&#39;C&#39;,&#39;D&#39;,&nbsp;&#39;E&#39;,&nbsp;&#39;F&#39; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[] btInput = key.getBytes(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;获得MD5摘要算法的&nbsp;MessageDigest&nbsp;对象 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; java.security.MessageDigest mdInst = java.security.MessageDigest.getInstance(&quot;MD5&quot;); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;使用指定的字节更新摘要 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mdInst.update(btInput); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;获得密文 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[] md = mdInst.digest(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;把密文转换成十六进制的字符串形式 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;j = md.length; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;str[] =&nbsp;new&nbsp;char[j * 2]; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;k = 0; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;i = 0; i &lt; j; i++) { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte&nbsp;byte0 = md[i]; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; str[k++] = hexDigits[byte0 &gt;&gt;&gt; 4 &amp; 0xf]; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; str[k++] = hexDigits[byte0 &amp; 0xf]; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;String(str); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;catch&nbsp;(Exception e) { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;null; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp; } &nbsp; &nbsp; &nbsp; 理解工作量证明 &nbsp; 新的区块生成，必须依赖工作量证明算法（PoW）来构造。 &nbsp; PoW的目标是找出一个能被公认的方法，来证明你所从事工作的正确性。 &nbsp; 在当前区块链应用中，PoW经常是被设计成通过寻找某一个符合特定条件的数字来证明，这个数字可能很难计算出来，但很容易验证。 &nbsp; 这就是工作量证明的核心思想。 为了方便理解，举个例子： 假设一个整数&nbsp;x&nbsp;乘以另一个整数&nbsp;y&nbsp;的积的&nbsp;Hash&nbsp;值必须以两个零&nbsp;‘00’&nbsp;结尾，即&nbsp;hash(x * y) = xxxxxx...00。设变量&nbsp;x = 5，求&nbsp;y&nbsp;的值？ 用Java实现如下： &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;x=5; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;y=0; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(true){ &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String md5=BlockChain.MD5(&quot;&quot;+(x*y)); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(md5.charAt(md5.length()-1)==&#39;0&#39;){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; y+=1; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp; 最后得出&nbsp;y=69 因为MD5(5*69)=D81F9C1BE2E08964BF9F24B15F0E4900 &nbsp; 随着区块链应用的扩展，应该有更多合理的工作量证明算法。 &nbsp; 在比特币中，使用称为Hashcash的工作量证明算法，它和上面的问题很类似。矿工们为了争夺创建区块的权利而争相计算结果，甚至动用N台电脑，这就是称之为挖矿。通常，计算难度与目标字符串需要满足的特定字符的数量成正比，矿工算出结果后，会获得比特币奖励。当然，一旦计算出来，会非常容易验证这个结果。 &nbsp; 实现我们的工作量证明 &nbsp; 我们的工作量证明，那就比较简单，当用户输入下一个成语的时候，我们打开成语词典或者百度，一查。。。。就可以知道它接的对还是错了。 &nbsp; 从系统上来说，我们可以通过调用外部开发查询接口，或者自带成语词库，来实现这个工作量证明，代码如下（此处引用了一个外部成语真实性查询接口）： &nbsp; &nbsp;&nbsp;&nbsp;//验证当前的成语是否符合规则 &nbsp;&nbsp;&nbsp;//pre&nbsp;前一个成语 &nbsp;&nbsp;&nbsp;//cur&nbsp;这一个成语 &nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;boolean&nbsp;ValidProof(String pre,String cur){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//验证这个成语的头一个字是不是上一个成语的最后一个字 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(cur.charAt(0)!=pre.charAt(pre.length()-1)){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;return&nbsp;false; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//验证是否是成语 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//http://chengyu.t086.com/chaxun.php?q=%B9%E2%C3%F7%D5%FD%B4%F3&amp;t=ChengYu &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String content=httpRequest(&quot;http://chengyu.t086.com/chaxun.php?q=&quot;+cur+&quot;&amp;t=ChengYu&quot;); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(content.indexOf(&quot;没有找到与您搜索相关的成语&quot;)!=-1 || content.indexOf(&quot;搜索词太长&quot;)!=-1){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;true; &nbsp;&nbsp; } &nbsp; &nbsp; &nbsp; &nbsp; 小结：通过上面的讲解，描述了区块链涉及到的一些新概念，区块，创世块，链式存储，工作量证明，主数据形式和内容，Hash加密等等。同时我们通过“成语接龙”的例子，在例子中用Java构造了相关的类和方法。 &nbsp; 具备了区块链项目的基础组件后，下一步就是将这些组件运行起来，构造一个可以真正运行起来的区块链项目。 &nbsp; &nbsp; 启动一个Blockchain项目 我们都知道，区块链是一个分布式存储和分布式计算互相结合的技术和产品框架。其核心是去中心化存储。这个意味着，所有区块链的数据都应该存储在用户本地而不是某个中心服务器。所以，一个真正的区块链产品，需要在没有中心服务器支持情况下，解决如下几个基本的问题： 1、&nbsp;&nbsp;每个用户端启动区块链产品时，如何将区块数据的初始下载到本地； 2、&nbsp;&nbsp;新增加区块时，区块链内容的更新发布以及不同用户新增区块时间冲突的处理； 3、&nbsp;&nbsp;日常运行过程中如何保证每个用户端（节点）数据的最新和及时同步； &nbsp; &nbsp; 创建节点 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;区块链项目中，一个正在运行着区块链项目的用户终端，称为一个节点。 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;每个用户第一次启动某个区块链项目，就相当于创建了一个节点。而以后每次启动项目，都意味着启动了这个节点。 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;为什么说是创建一个节点？原因很简单，区块链的基本思想是去中心化，去中心化的换一种说法，中间任何一个终端，都可以是中心，各自是对等的组网模型，也就是P2P组网模型。因为任何启动的终端，除了需要完成数据下载，使用，运算之外，还需要完成对外提供数据，同步，验证等等功能。 &nbsp; 区块链网络系统之所以选择P2P作为其组网模型，这是由于二者思想的契合度确定的；区块链的根本出发点之一是去中心化，中本聪在他的白皮书里，提到电子现金系统中，第三方系统是多余的，没有价值，意思就是整个系统不要依赖任何特殊的第三方来完成自身系统的运转；而P2P网络的天然属性，就是全网节点平等，无特殊节点；由于区块链和对等网络的建设思想，高度契合，再加上P2P网络已经是一个发展成熟的网络技术；二者走到一起，几乎是一种必然。 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;所以我们在这个例子里面引入Tomcat，一方面是为了将一些用户操作转换到浏览器，演示方便，另外一方面，是为了方便发布一些对外接口，用来模拟在P2P对等网络之间数据同步。 &nbsp; 首先我们使用Eclipse建立一个动态WEB&nbsp;项目，将上面相关类导入，同时新建一个类似下面的&nbsp;index.jsp&nbsp;欢迎页面 &nbsp; &lt;%@&nbsp;page&nbsp;language=&quot;java&quot;&nbsp;contentType=&quot;text/html; charset=gb2312&quot; &nbsp;&nbsp;&nbsp;&nbsp;pageEncoding=&quot;gb2312&quot;%&gt; &lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt; &lt;html&gt; &lt;head&gt; &lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html; charset=ISO-8859-1&quot;&gt; &lt;title&gt;区块链测试&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &nbsp; &lt;%&nbsp;java.util.Date d =&nbsp;new&nbsp;java.util.Date();&nbsp;%&gt; &lt;h1&gt; 欢迎使用区块链成语接龙。&nbsp;&lt;br&gt; &lt;/h1&gt; &nbsp; 区块数据同步中，请稍等。。。&lt;br&gt; &nbsp; &lt;%=&nbsp;d.toString()&nbsp;%&gt;&nbsp;! &nbsp; &lt;/body&gt; &lt;/html&gt; &nbsp; 发布项目到你安装的Tomcat，启动Tomcat，输入如下地址，当看到如下图所示页面，即创建区块链项目“成语接龙”的节点准备工作已经完成。 &nbsp; &nbsp; 启动区块链应用，创建节点，包括以后每次启动应用，都需要完成的第一个工作，是同步区块链数据到本地或者更新本地区块数据。碰到的第一个问题是，我怎么知道到哪里去同步数据呢，或者说我怎么知道其它可以同步数据的节点的地址呢？ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;找遍百度，很多都说的很模糊，大致是需要&nbsp;node-seed&nbsp;也就是种子节点支持，最后找到了区块链师祖比特币的开发者的一段说明如下： 翻译成中文，简而言之就是在代码里面写死了一个域名数组和IP地址数组，程序启动的时候就去连这些域名和IP。 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;当然，觉得这种方法可以解决问题，但是，这或多或少使得“去中心化”蒙上了一层淡淡的阴影。 &nbsp; 那么根据我这个例子的模拟环境，我就把公司局域网可能的IP都&nbsp;hard-code&nbsp;在程序里，逐个扫描查找最长链，作为下载区块链数据的扫描地址吧。下面是Java代码： &nbsp; &nbsp;&nbsp;&nbsp;static&nbsp;final&nbsp;String&nbsp;&nbsp;sIPPre=&quot;10.70.5.&quot;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //对局域网内的电脑进行扫描，找到最长的链，下载到本地 &nbsp; &nbsp;&nbsp;&nbsp;static&nbsp;final&nbsp;String&nbsp;&nbsp;sDataFileDir=&quot;c://blockchain&quot;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//本地存储路径 &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//从网络读取区块链数据到本地文件 &nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;DowloadData(){ &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//检查数据文件目录，不存在就创建 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; File dirFile =&nbsp;new&nbsp;File(sDataFileDir); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;bFile&nbsp;&nbsp; = dirFile.exists(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(!bFile ){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bFile = dirFile.mkdir(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//往新创建的本地文件里面写一个创世块 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FileOutputStream out =&nbsp;new&nbsp;FileOutputStream(new&nbsp;File(dirFile+&quot;//data.txt&quot;)); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; out.write((BlockChain.CreateFirstBlock().toInfoString()+&quot;\r\n&quot;).getBytes()); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out.close(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }catch(Exception e){&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//扫描周边的节点，找到最长的链，下载到本地 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;iLastLen=0; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sLastChain=&quot;&quot;; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i=0;i&lt;255;i+=1){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sThisURL=&quot;http://&quot;+sIPPre+i+&quot;:8080/blockchain/chain.jsp&quot;; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(sThisURL); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sChain=httpRequest(sThisURL); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(sChain!=&quot;&quot;){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(sChain); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sTemp[]=sChain.split(&quot;##&quot;); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(sTemp.length&gt;iLastLen){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; iLastLen=sTemp.length; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sLastChain=sChain; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(sLastChain!=&quot;&quot;){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FileOutputStream out =&nbsp;new&nbsp;FileOutputStream(new&nbsp;File(dirFile+&quot;//data.txt&quot;)); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//System.out.println(&quot;before:&quot;+sLastChain); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sLastChain=sLastChain.replace(&quot;##&quot;,&nbsp;&quot;\r\n&quot;); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//System.out.println(&quot;after:&quot;+sLastChain); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out.write((sLastChain+&quot;\r\n&quot;).getBytes()); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out.close(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }catch(Exception e){&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; } &nbsp; &nbsp; DowloadData（）这个方法，应该在应用启动的时候被调用。也可能在应用执行过程中，后台间隔性被调用。 &nbsp; 你可能马上会发现，多了一个外部接口： http://&quot;+IP+&quot;:8080/blockchain/chain.jsp &nbsp; 这个接口是每个节点都需要实现的，用来输出自己节点最新的区块链数据，在平时各个节点彼此互相调用，初始化和同步区块链数据。在本例中，简单实现方法如下： &nbsp; 建立一个&nbsp;chain.jsp&nbsp;页面，放到Tomcat&nbsp;路径下，贴上里面主要代码 &nbsp; &lt;%@&nbsp;page&nbsp;language=&quot;java&quot;&nbsp;contentType=&quot;text/html; charset=gb2312&quot; &nbsp;&nbsp;&nbsp;&nbsp;pageEncoding=&quot;gb2312&quot;%&gt;&lt;% //java.util.Date d = new java.util.Date(); blockchain.BlockChain.LoadData(); %&gt; &lt;%=&nbsp;blockchain.BlockChain.StringBlockchain()&nbsp;%&gt; &nbsp; &nbsp; 用户怎么挖矿 到了这一步，可以把我们例子程序稍微完善一下，为后面的“挖矿”概念做准备。 &nbsp; 完善后的产品界面如下 &nbsp; &nbsp; 启动应用，首先是一个数据同步的欢迎页面。此页面用ajax方式实现后台数据同步。 同步完成后，输入手机号码，进入下一个页面。 注意页面下方，增加了一个自动更新区块链功能，也通过ajax实现。 &nbsp; 所谓“挖矿”和“矿工”，只不过是借用了比特币里面的相关说法。“矿工”就是用户了，“挖矿”就是用户在这个区块链应用上面做的事情，一般带有一定的价值和目的，目前很多区块链应用，“挖矿”就是完成某个工作，获得系统一些奖励。 在我们这个演示应用里面，挖矿就是用户根据上一个成语，遵守成语接龙的规则，想出并输入下一个成语，系统验证无误，就会为你在区块链增加一条记录，同时把奖励也给你记录。 其实把名字取得那么神奇，事实却很简单，系统就是做了以下三件事： 1、计算工作量证明PoW，验证用户递交的工作； 2、对于“挖矿”成功的用户，通过新增一个区块授予矿工即用户一些分数或者虚拟币奖励； 3、构造新区块并将其添加到链中，同步到每个节点。 &nbsp; 代码如下: if(request.getParameter(&quot;answer&quot;)!=null){&nbsp;&nbsp; //读取到用户的输入 &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//加载区块链数据 &nbsp;&nbsp; blockchain.BlockChain.LoadData(); &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//获取区块链中最后一个成语 &nbsp;&nbsp; String sPre=blockchain.BlockChain.lBlockchain.get(blockchain.BlockChain.lBlockchain.size()-1).sProof; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//用户输入的成语 &nbsp;&nbsp; String sCur=new&nbsp;String(request.getParameter(&quot;answer&quot;).getBytes(&quot;ISO8859-1&quot;),&quot;gb2312&quot;); &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//判断是不是正确答案，如果是，就要创建新块并添加到区块链中 &nbsp;&nbsp;&nbsp;if(blockchain.BlockChain.ValidProof(sPre,sCur)){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; blockchain.Block bPre=blockchain.BlockChain.lBlockchain.get(blockchain.BlockChain.lBlockchain.size()-1); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//获取前一个块的Hash &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sHash=blockchain.BlockChain.Hash(bPre); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//创建新块 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; blockchain.Block bCur=blockchain.BlockChain.NewBlock(bPre.iIndex+1, sCur, sHash,&nbsp;new&nbsp;java.sql.Timestamp(System.currentTimeMillis()), bPre.sRecipient, (String)session.getAttribute(&quot;mobile&quot;)); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//加入区块链并保存到本地文件 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; blockchain.BlockChain.lBlockchain.add(bCur); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; blockchain.BlockChain.WriteData(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;。。。 &nbsp;&nbsp; }else{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;。。。。 &nbsp;&nbsp; } } &nbsp; 下面是经过几个接龙后的页面： 这是可以打开本地区块链数据文件&nbsp;“c:/blockchain/data.txt”可以看到如下内容，为了查看简单，数据文件用明文txt存储。 其中第一条，是创世块的数据，在区块链中，它是根区块。 在实际项目中，数据文件一般都会以某种较复杂的方式存储，比如采用某种加密方式。 &nbsp; &nbsp; 节点数据一致性（共识算法/一致性算法） 到目前为止我们已经有了一个基本的区块链产品和界面，并且可以做简单的“挖矿”，在应用启动的时候，我们也看到了第一次数据同步和后面每隔一段时间数据同步的实现方法，在一个节点上运行没有问题。 但是，区块链系统应该是分布式的。既然是分布式的，那么我们就需要考虑究竟拿什么保证所有节点有同样的链呢？这就是一致性问题，我们要想在网络上有很多个节点并且他们的数据保持一致，那就必须实现一个一致性的算法。 &nbsp; 实现共识算法（一致性算法） &nbsp; 单个节点分布在不同的计算机或手机等等终端，各自工作，必然有一些冲突产生。冲突的产生，主要来自两方面，一是链长的不一致，二是链分叉的产生。 &nbsp; 用本例来说明。第一种情况是，每个节点同步后，各自做各自的题目，各自的链数据都在扩展，导致每个人的链长度不一致。还有一种情况是，在某个区块下面，存在不同的都正确的答案，那么，即使长度一致，但链的内容不一致。比如在本例中“海阔天空”后面可以接的成语有很多，比如“空中楼阁”、“空前绝后”、“空口无凭”，他们都是正确的。这种情况下，系统必须定义一个唯一性的算法。 &nbsp; 解决上面问题的算法，称之为“共识算法”或“一致性算法”。 &nbsp; 通过上面的描述，我们知道“共识算法”其实是解决不同用户（或称不同节点）在完成被“工作量证明”算法承认的工作之后，如何公平合理的奖励问题。他必须合理，体现公平、公正。在不同的区块链应用中，在不同的“工作量证明”基础下，其实现方法是不同的，在基于某些复杂的“工作量证明”的区块链应用中，可以想象，这些复杂的“工作量证明”，会导致需要非常复杂的“共识算法”去解决冲突。 &nbsp; 如果每个节点在增加一个新区块的时候，都可以实时同步到每个节点，并且在同步过程中，能锁定其它节点，当然这是最理想的。但事实上，在现实场景中，这很难做到。网上有很多共识性算法讨论，大家可以查询参考，不过很多都存在一个问题，需要中心节点支持，我觉得这个是“去中心化”不可接受的，所以非常不以为然。 &nbsp; 就本例子而言，可以设计一个相对简单的“共识算法”，我们称之为最长链法，为了解决这个问题，规定最长的、有效的链才是最终的链，换句话说，网络中有效最长链才是实际的链。具体实现如下： &nbsp; 当一个用户完成一个成语接龙并被系统判断答案正确的时候，他将计划新增一个区块，并且希望添加到区块链中，但这之前，系统会先去扫描当前所有节点目前的链，如果发现存在长度比当前节点加一还要长的链，那么系统认为，当前节点虽然完成了题目，但已经不是最快的那个人了，因此不再承认这次工作的有效性。并且同时同步最长链到本地，提示用户重新做成语接龙。 &nbsp; 这个算法在本例中，理论上是合理的，因为不能说一个用户花了一分钟就回答出来的答案，另外一个花了一天才回答出来，当然后面的就不能说有效了。没有更仔细的想过这个“共识算法”的合理性，作为演示，暂时就那么用一下了。下面说一下在本例中实现需要的两个材料： &nbsp; 1、&nbsp;&nbsp;每个节点需要一个能被扫描后提供它自己的区块链数据的接口，这个其实接口已经有了，就是http:/…/blockchain/chain.jsp，回顾前面，在启动节点的时候用到过； 2、&nbsp;&nbsp;实现一个共识算法方法，在每次“挖矿”完成后，判断工作的有效性。 &nbsp; 共识算法如下： &nbsp; &nbsp;&nbsp;&nbsp;//共识算法 &nbsp;&nbsp;&nbsp;//返回&nbsp;true&nbsp;表示当前节点工作可以被认可 &nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;boolean&nbsp;Unanimous(){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;bRet=true; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//扫描周边的节点，找到最长的链，下载到本地 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;iLastLen=0; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sLastChain=&quot;&quot;; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i=0;i&lt;255;i+=1){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sThisURL=&quot;http://&quot;+sIPPre+i+&quot;:8080/blockchain/chain.jsp&quot;; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(sThisURL); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sChain=httpRequest(sThisURL); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(sChain!=&quot;&quot;){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(sChain); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; String sTemp[]=sChain.split(&quot;##&quot;); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(sTemp.length&gt;iLastLen){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; iLastLen=sTemp.length; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sLastChain=sChain; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BlockChain.LoadData(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//如果其它节点存在长度大于本地节点+1的链，则本次“挖矿”无效 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(sLastChain!=&quot;&quot;&nbsp;&amp;&amp; iLastLen &gt;= BlockChain.lBlockchain.size()+1){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bRet=false; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FileOutputStream out =&nbsp;new&nbsp;FileOutputStream(new&nbsp;File(sDataFileDir+&quot;//data.txt&quot;)); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sLastChain=sLastChain.replace(&quot;##&quot;,&nbsp;&quot;\r\n&quot;); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out.write((sLastChain+&quot;\r\n&quot;).getBytes()); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out.close(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }catch(Exception e){&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;bRet; &nbsp;&nbsp; } &nbsp; &nbsp; 加入“共识算法”后的界面变成如下： 当用户递交一个成语后，系统会通过Ajax首先检测区块链的一致性，一致性通过了，用户递交的这个新的成语，才会加入到区块链。如果发现有更长的链条存在，则系统会提示你慢了一步，已经被抢答了，必须重新开始。 页面大致如下： 发布和运行区块链成语接龙 &nbsp; 到这里，这个“区块链成语接龙”游戏就基本搭建和测试完成。 &nbsp; 接下来的事情，你可以将此项目打包war，然后发布到你所在局域网不同的节点的机器上，因为环境的支持问题，所以节点必须有Windows+JDK+Tomcat运行环境，将项目打包成&nbsp;blockchain.war，放到你的Tomcat目录&nbsp;webapps下面，然后启动Tomcat，打开你的浏览器，输入：http://localhost:8080/blockchain/ 过程不再累述。如果局域网的环境和本地目录结构有所改变，则需要对项目的部分地方稍作修改，比如： &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //对局域网内的电脑进行扫描，找到最长的链，下载到本地 static&nbsp;final&nbsp;String&nbsp;&nbsp;sIPPre=&quot;10.70.5.&quot;; //本地存储路径 &nbsp;&nbsp;&nbsp;static&nbsp;final&nbsp;String&nbsp;&nbsp;sDataFileDir=&quot;c://blockchain&quot;;&nbsp; &nbsp;&nbsp; 好啦，你可以邀请你的同事和朋友们一起来测试你的区块链成语接龙！ &nbsp; &nbsp; 总结： &nbsp; 通过搭建一个区块链项目，我们可以了解一个区块链项目启动所需要的所有知识，环境和其基本算法所代表的概念，在例子中，我们一一讲解并且实现，我们可以非常具体地体会到“去中心化”的真实含义。事实上，可以在测试过程中，加入很多终端，然后，关闭中间任何一台终端，看这个产品是否还是可以正常运行。 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;虽然如此，在这个过程中，也可以看到有些问题并没有很好和彻底的解决方案，区块链作为一个新起的概念和技术，这个当然也可以理解，同样，这个可以作为我们研究人员进一步仔细考虑的点。 &nbsp; 1、&nbsp;关于种子节点的问题 在任何一个节点启动的时候，如何获得其它节点的位置信息，从而下载和初始化区块链呢？种子节点的存在，的确可以解决这个问题，但种子节点本身，就带有“中心化”这个概念，所以，如果没有种子节点会更加好，但如何实现呢？ &nbsp; 2、&nbsp;关于“工作量证明” 一个技术是否能普及和商业化，或者说对用户对社会是否有真正的价值，就在于它能不能解决我们具体生活场景的问题。区块链里面具体所做的事情，都在“工作量证明”里面，当前很多区块链项目，比如“比特币”，都是用一个计算机化的方式，来描述和做某一种工作，但这类工作的意义究竟有多大，或者其适用性有多大，真的需要思考。这种方式用来产生“虚拟币”是不错，但“虚拟币”有真的价值么？还有就是，真的所有工作，都可以不需要“中心节点”支持么？所以，设计更多的符合人们生活场景的“工作量证明”算法，将大大拓展这个技术的前景。 &nbsp; 3、&nbsp;关于“共识算法” “共识算法”和“工作量证明”戚戚相关，但所有“共识算法”都需要考虑解决起码两个问题，当各个节点独自运作的时候，不可避免会产生每个节点区块链不同步的问题，不同步可能在时间上，也可能在“工作量证明”的多重结果上，这两种，需要最终达成共识，使得系统中始终只有一条正确的链，应该说是相当困难。网络有延迟，终端有差异，不同的结果都合理，怎么公平取舍。。。等等。实在不是那么简单的。 &nbsp; 4、&nbsp;&nbsp;关于巨量区块链数据同步速度 即使解决了上面1，2，3&nbsp;提出的问题，也存在数据同步速度问题。 &nbsp; 理论上来说，区块链每个节点，应该是数据的全备份。在我们这个例子中，同步数据量比较少，同步节点也不多，所以每次同步时间很短。但是在商用系统中，如果出现大量的节点，大量的数据，这个同步肯定会有时间。一个是节点存储容量问题，一个是同步带宽问题，两者都是不可预料的。目前基于区块链的智能合约开发框架以太访（Ethereum）需要同步的数据已经接近了惊人的100G，还在不断增长，我下载安装一个同步了一个星期。在如此大的数据两下，简单的同步和拷贝，肯定是不合理的，既会带来巨大的资源浪费，也会带来应用的可使用性及差。所以这里面需要解决的问题还很多。 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;以上这些，任何一点，仔细研究都是一个巨大的课题，做一个简单那的区块链项目不难，要做好并且做成社会真正有用而非炒作的产品，估计还有很远的路，具体想来都是需要好好解决的问题。让我们一起努力吧。 阅读更多" />
<meta property="og:description" content="阅读对象 本文阅读对象，主要是希望和即将从事区块链开发的项目架构师，开发工程师，项目设计或产品设计师。要求阅读者具备一定的“区块链”基础知识、概念和以及相关的技术知识。 如果你只需要对区块链应用做一个更深更直观的了解，通过本文的例子更清晰了解区块链是怎么回事，大概是怎么开发出来的，怎么使用，那么知道一些区块链相关知识即可。 如果你是一个想从事这方面工作的人，尤其是从事开发和架构的技术人员，那么需要的技术知识就相当的多了，无法一一列举，大概一个高级网络开发工程师和中级以上的架构师水平，是需要的。 &nbsp; 前言 很多新的概念，人们在刚接触的时候，会让人感到非常困惑，学了好多次都稀里糊涂，并不仅仅是技术，很多地方都是如此。对于比较难理解的概念，用什么办法去学习最高效呢？我一直认为，就是找一个例子，或者写一个Demo，世上无难事，for一个example即可。。。 &nbsp; 最近一段时间，AI人工智能方兴未艾，区块链技术又迎面走来，对数字货币的崛起感到新奇的我们，估计很想知道其背后的技术--区块链是怎样的一个东西。但是完全搞懂区块链并非易事，在实践中学习方为上策。 &nbsp; 我喜欢把程序当成诗歌来写，理所当然要通过写代码来实现并运行一个例子，来理解并学习这门技术。这里，就通过用JAVA语言实现和构建一个区块链来探讨对区块链的理解。 &nbsp; 本文，我们要用区块链来实现这么一个例子，名字叫“区块链成语接龙”。用户通过这个例子，可以不断的接龙前面一个用户的成语，规则和普通游戏一样，前面一个用户的成语的最后一个字，作为后面一个成语的第一个字。 &nbsp; 单单作为一个应用，这个很简单呐，问题是，我们要用区块链的原理和相关技术实现它。 &nbsp; OK，let’s go… … &nbsp; 准备工作 这个时候其实我很想大喊一声：“区块链”其实不是某一种单纯的技术，而是基于某一种思想的多种技术的结合。 需要的技术包括分布式存储，分布式计算，P2P数据同步，加密解密，安全传输，一些语言，一些开发工具。。。还有一些新型的概念&nbsp;–&nbsp;分布式节点，工作量证明，共识算法。。。等等 基于哪一种思想呢，大家都说是“去中心化”，我觉得就是“反垄断”“反。。。”，敏感话题，不展开了。但是我事实上是一个喜欢民主的人，所以区块链的“去中心化”对我吸引力颇大。。。all men are created equal…J &nbsp; 本文里面涉及到的一些例子，来源是网上，有些是Python版本，有些是Java版本，C版本，考虑到JAVA更为通用和易读写（其实我是认为JAVA语言更像诗歌了），就把他们改成了JAVA版，所以要求读者对诗歌..哦，不是，是对JAVA非常了解，能读写基本的语法框架和逻辑，并且因为这个DEMO的特殊性，需要对网络框架和HTTP请求有基本的了解。 &nbsp; 我们知道区块链是数据块和链的存储方式的组合，是由N多个数据区块按照链的组织和记录构成的不可变、有序的链结构，记录可以是交易、文件或任何你想要的数据，同时它们是通过哈希值（hashes）链接起来的。所以，在阅读本文之前，一定要阅读几篇关于区块链的文章，了解里面块，链，数据，工作量证明等等概念，最好也了解一些相关技术比如Hash，分布式存储等等的概念。如果你还不是很了解这些，请找度娘。 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如果在了解这些概念的过程中，一不小心接触到了比特币，请一定要明白，比特币只是区块链技术的一个产品实现。如果还接触到其它一些诸如以太网等等的名词，那么需要知道，这些都是区块链技术下实现的一些框架和产品。 &nbsp; &nbsp; 环境准备 理论上来说，可以用任何一种语言来创建任何一种技术的例子，包括区块链的例子，我们这里选用了JAVA，所以要在自己的电脑上，准备JAVA的相关开发环境。 &nbsp; 确保你的电脑上已经安装了较新版本的JDK，Tomcat和某一种你熟悉的最好能整合Tomcat的JAVA IDE，本例用的是Eclipse。Tomcat在我们这个例子中间，是一个WEB工具，因为我们的项目，需要基于WEB&nbsp; HTTP&nbsp;发布和运行。 &nbsp; 如何安装Java和各种工具，包括如何用Eclipse创建Dynamic web项目并发布到Tomcat等等步骤，既然你已经如此熟悉JAVA了，这里就不再多讲。 &nbsp; &nbsp; 开始创建区块链 &nbsp; 区块或称数据块Block类 区块链中每个区块包含以下基本内容：索引（index），Unix时间戳（timestamp），数据块(data)（包括交易，文字，申明，奖励等任何和合适的内容），证明或工作量证明（proof稍后解释）以及前一个区块的Hash值，Hash&nbsp;用来链接数据块，同时确保数据块不被非法修改。 以下是一个区块的结构： public&nbsp;class&nbsp;Block { &nbsp; &nbsp;&nbsp;&nbsp;int&nbsp;iIndex;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//索引 &nbsp;&nbsp; String&nbsp;sProof;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//工作量证明，在这个例子里面，其实就是一个经过验证的正确的成语 &nbsp;&nbsp; String&nbsp;sPreviousHash;&nbsp;&nbsp;&nbsp;&nbsp;//前一个区块的Hash值 &nbsp;&nbsp; Timestamp&nbsp;tsCreateTime;&nbsp;&nbsp;//区块创建时间戳 &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;/*数据块 &nbsp;&nbsp; &nbsp;* &nbsp;&nbsp; &nbsp;*&nbsp;用户每接上一个成语，会得到系统10元钱的奖励，同时会赢得前面一个用户的2元钱 &nbsp;&nbsp; &nbsp;*&nbsp;数据区同时需要记录自己的用户名和回答出上一个成语的用户名 &nbsp;&nbsp; &nbsp;* &nbsp;&nbsp; &nbsp;* */ &nbsp;&nbsp; String&nbsp;sSender;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//回答出上一个成语的用户名 &nbsp;&nbsp; String&nbsp;sRecipient;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//回答出当前这个成语的用户名 &nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;iMoneyAward=10;&nbsp;//系统奖励，数额固定 &nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;iMoneyWin=2;&nbsp;&nbsp;&nbsp;&nbsp;//赢取奖励，数额固定 &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;public&nbsp;Block(){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; } &nbsp;&nbsp; &nbsp;&nbsp; } &nbsp; &nbsp; 区块链实现Blockchain类 &nbsp; import java.util.*; import&nbsp;blockchain.Block; &nbsp; public&nbsp;class&nbsp;BlockChain { &nbsp;&nbsp;&nbsp;//用来存储区块 private&nbsp;List&lt;Block&gt; lBlockchain=new ArrayList&lt;&gt;[];&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;public&nbsp;BlockChain(){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; } &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//创建新块 &nbsp;&nbsp;&nbsp;public&nbsp;Block NewBlock(){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Block bRet=null; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//在这里创建一个新块 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;bRet; &nbsp;&nbsp; } &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//Hash&nbsp;一个块 &nbsp;&nbsp;&nbsp;public&nbsp;String Hash(Block block){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sHash=null; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//在这里Hash&nbsp;一个块 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;sHash; &nbsp;&nbsp; } &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//其他方法 &nbsp;&nbsp;&nbsp;//.... } &nbsp; &nbsp; &nbsp; Blockchain类用来管理链条，它能存储和更新链数据，加入新块等等，下面我们来进一步增加和完善里面的一些方法 &nbsp; 创建新块和创世块 &nbsp; 当一个用户按照成语接龙的规则，对上上一个成语，并且系统验证这成语正确（工作量被证明）。这个时候我们就可以创建一个新块，并且加到链里面。 &nbsp; 一旦工作量证明确认，并且上一个块hash&nbsp;生成后，就可以简单调用函数创建一个新块了。 &nbsp; 创建新块方法如下： &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;//创建新块 &nbsp;&nbsp;&nbsp;public&nbsp;Block&nbsp;NewBlock(int&nbsp;i,String proof,String hash,Timestamp c,String sender,String recipient){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Block bRet=null; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//在这里创建一个新块 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bRet = new Block(i,proof,hash,c,sender,recipient); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;return&nbsp;bRet; &nbsp;&nbsp; } &nbsp; &nbsp; 这里，我们需要提一下创世块的概念，创世块是区块链的第一个区块，它是没有前区块的。逻辑上只在第一个用户第一次启动系统的时候，才需要创建创世块，后面的都是通过同步获得。创世块索引是0，同样需要给它加上一个工作量证明，我们这里就是初始成语“海阔天空”，因为没有前面的块，所以hash=””，同时给一个固定的创建时间。方法如下： &nbsp; &nbsp;&nbsp;&nbsp;//创始块的创建，创世块是一个块，必须是固定的信息 &nbsp;&nbsp;&nbsp;//逻辑上来说，只有在区块链产品的第一个用户第一次启动的时候，才会需要创建创世块 &nbsp;&nbsp;&nbsp;public&nbsp;Block CreateFirstBlock(){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Timestamp t=new&nbsp;Timestamp((new&nbsp;java.text.SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;)).parse(&quot;2018-01-01 01:01:01&quot;).getTime()); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;NewBlock(0,&quot;海阔天空&quot;,&quot;&quot;,t,&quot;&quot;,&quot;&quot;); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }catch(Exception e){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;null; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp; } &nbsp; &nbsp; &nbsp; 这里顺便贴上生成块的Hash字符串的方法： &nbsp;&nbsp;&nbsp;//Hash&nbsp;一个块 &nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;String Hash(Block block){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sHash=null; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//在这里Hash&nbsp;一个块 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String s=block.sPreviousHash+block.sProof+block.sRecipient+block.sSender+block.tsCreateTime.toString(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sHash =&nbsp;MD5(s); &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;sHash; &nbsp;&nbsp; } &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;String MD5(String key) { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;hexDigits[] = { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;0&#39;,&nbsp;&#39;1&#39;,&nbsp;&#39;2&#39;,&nbsp;&#39;3&#39;,&nbsp;&#39;4&#39;,&nbsp;&#39;5&#39;,&nbsp;&#39;6&#39;,&nbsp;&#39;7&#39;,&nbsp;&#39;8&#39;,&nbsp;&#39;9&#39;,&nbsp;&#39;A&#39;,&nbsp;&#39;B&#39;,&nbsp;&#39;C&#39;,&#39;D&#39;,&nbsp;&#39;E&#39;,&nbsp;&#39;F&#39; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[] btInput = key.getBytes(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;获得MD5摘要算法的&nbsp;MessageDigest&nbsp;对象 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; java.security.MessageDigest mdInst = java.security.MessageDigest.getInstance(&quot;MD5&quot;); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;使用指定的字节更新摘要 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mdInst.update(btInput); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;获得密文 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[] md = mdInst.digest(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;把密文转换成十六进制的字符串形式 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;j = md.length; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;str[] =&nbsp;new&nbsp;char[j * 2]; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;k = 0; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;i = 0; i &lt; j; i++) { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte&nbsp;byte0 = md[i]; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; str[k++] = hexDigits[byte0 &gt;&gt;&gt; 4 &amp; 0xf]; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; str[k++] = hexDigits[byte0 &amp; 0xf]; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;String(str); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;catch&nbsp;(Exception e) { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;null; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp; } &nbsp; &nbsp; &nbsp; 理解工作量证明 &nbsp; 新的区块生成，必须依赖工作量证明算法（PoW）来构造。 &nbsp; PoW的目标是找出一个能被公认的方法，来证明你所从事工作的正确性。 &nbsp; 在当前区块链应用中，PoW经常是被设计成通过寻找某一个符合特定条件的数字来证明，这个数字可能很难计算出来，但很容易验证。 &nbsp; 这就是工作量证明的核心思想。 为了方便理解，举个例子： 假设一个整数&nbsp;x&nbsp;乘以另一个整数&nbsp;y&nbsp;的积的&nbsp;Hash&nbsp;值必须以两个零&nbsp;‘00’&nbsp;结尾，即&nbsp;hash(x * y) = xxxxxx...00。设变量&nbsp;x = 5，求&nbsp;y&nbsp;的值？ 用Java实现如下： &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;x=5; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;y=0; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(true){ &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String md5=BlockChain.MD5(&quot;&quot;+(x*y)); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(md5.charAt(md5.length()-1)==&#39;0&#39;){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; y+=1; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp; 最后得出&nbsp;y=69 因为MD5(5*69)=D81F9C1BE2E08964BF9F24B15F0E4900 &nbsp; 随着区块链应用的扩展，应该有更多合理的工作量证明算法。 &nbsp; 在比特币中，使用称为Hashcash的工作量证明算法，它和上面的问题很类似。矿工们为了争夺创建区块的权利而争相计算结果，甚至动用N台电脑，这就是称之为挖矿。通常，计算难度与目标字符串需要满足的特定字符的数量成正比，矿工算出结果后，会获得比特币奖励。当然，一旦计算出来，会非常容易验证这个结果。 &nbsp; 实现我们的工作量证明 &nbsp; 我们的工作量证明，那就比较简单，当用户输入下一个成语的时候，我们打开成语词典或者百度，一查。。。。就可以知道它接的对还是错了。 &nbsp; 从系统上来说，我们可以通过调用外部开发查询接口，或者自带成语词库，来实现这个工作量证明，代码如下（此处引用了一个外部成语真实性查询接口）： &nbsp; &nbsp;&nbsp;&nbsp;//验证当前的成语是否符合规则 &nbsp;&nbsp;&nbsp;//pre&nbsp;前一个成语 &nbsp;&nbsp;&nbsp;//cur&nbsp;这一个成语 &nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;boolean&nbsp;ValidProof(String pre,String cur){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//验证这个成语的头一个字是不是上一个成语的最后一个字 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(cur.charAt(0)!=pre.charAt(pre.length()-1)){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;return&nbsp;false; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//验证是否是成语 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//http://chengyu.t086.com/chaxun.php?q=%B9%E2%C3%F7%D5%FD%B4%F3&amp;t=ChengYu &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String content=httpRequest(&quot;http://chengyu.t086.com/chaxun.php?q=&quot;+cur+&quot;&amp;t=ChengYu&quot;); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(content.indexOf(&quot;没有找到与您搜索相关的成语&quot;)!=-1 || content.indexOf(&quot;搜索词太长&quot;)!=-1){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;true; &nbsp;&nbsp; } &nbsp; &nbsp; &nbsp; &nbsp; 小结：通过上面的讲解，描述了区块链涉及到的一些新概念，区块，创世块，链式存储，工作量证明，主数据形式和内容，Hash加密等等。同时我们通过“成语接龙”的例子，在例子中用Java构造了相关的类和方法。 &nbsp; 具备了区块链项目的基础组件后，下一步就是将这些组件运行起来，构造一个可以真正运行起来的区块链项目。 &nbsp; &nbsp; 启动一个Blockchain项目 我们都知道，区块链是一个分布式存储和分布式计算互相结合的技术和产品框架。其核心是去中心化存储。这个意味着，所有区块链的数据都应该存储在用户本地而不是某个中心服务器。所以，一个真正的区块链产品，需要在没有中心服务器支持情况下，解决如下几个基本的问题： 1、&nbsp;&nbsp;每个用户端启动区块链产品时，如何将区块数据的初始下载到本地； 2、&nbsp;&nbsp;新增加区块时，区块链内容的更新发布以及不同用户新增区块时间冲突的处理； 3、&nbsp;&nbsp;日常运行过程中如何保证每个用户端（节点）数据的最新和及时同步； &nbsp; &nbsp; 创建节点 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;区块链项目中，一个正在运行着区块链项目的用户终端，称为一个节点。 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;每个用户第一次启动某个区块链项目，就相当于创建了一个节点。而以后每次启动项目，都意味着启动了这个节点。 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;为什么说是创建一个节点？原因很简单，区块链的基本思想是去中心化，去中心化的换一种说法，中间任何一个终端，都可以是中心，各自是对等的组网模型，也就是P2P组网模型。因为任何启动的终端，除了需要完成数据下载，使用，运算之外，还需要完成对外提供数据，同步，验证等等功能。 &nbsp; 区块链网络系统之所以选择P2P作为其组网模型，这是由于二者思想的契合度确定的；区块链的根本出发点之一是去中心化，中本聪在他的白皮书里，提到电子现金系统中，第三方系统是多余的，没有价值，意思就是整个系统不要依赖任何特殊的第三方来完成自身系统的运转；而P2P网络的天然属性，就是全网节点平等，无特殊节点；由于区块链和对等网络的建设思想，高度契合，再加上P2P网络已经是一个发展成熟的网络技术；二者走到一起，几乎是一种必然。 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;所以我们在这个例子里面引入Tomcat，一方面是为了将一些用户操作转换到浏览器，演示方便，另外一方面，是为了方便发布一些对外接口，用来模拟在P2P对等网络之间数据同步。 &nbsp; 首先我们使用Eclipse建立一个动态WEB&nbsp;项目，将上面相关类导入，同时新建一个类似下面的&nbsp;index.jsp&nbsp;欢迎页面 &nbsp; &lt;%@&nbsp;page&nbsp;language=&quot;java&quot;&nbsp;contentType=&quot;text/html; charset=gb2312&quot; &nbsp;&nbsp;&nbsp;&nbsp;pageEncoding=&quot;gb2312&quot;%&gt; &lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt; &lt;html&gt; &lt;head&gt; &lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html; charset=ISO-8859-1&quot;&gt; &lt;title&gt;区块链测试&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &nbsp; &lt;%&nbsp;java.util.Date d =&nbsp;new&nbsp;java.util.Date();&nbsp;%&gt; &lt;h1&gt; 欢迎使用区块链成语接龙。&nbsp;&lt;br&gt; &lt;/h1&gt; &nbsp; 区块数据同步中，请稍等。。。&lt;br&gt; &nbsp; &lt;%=&nbsp;d.toString()&nbsp;%&gt;&nbsp;! &nbsp; &lt;/body&gt; &lt;/html&gt; &nbsp; 发布项目到你安装的Tomcat，启动Tomcat，输入如下地址，当看到如下图所示页面，即创建区块链项目“成语接龙”的节点准备工作已经完成。 &nbsp; &nbsp; 启动区块链应用，创建节点，包括以后每次启动应用，都需要完成的第一个工作，是同步区块链数据到本地或者更新本地区块数据。碰到的第一个问题是，我怎么知道到哪里去同步数据呢，或者说我怎么知道其它可以同步数据的节点的地址呢？ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;找遍百度，很多都说的很模糊，大致是需要&nbsp;node-seed&nbsp;也就是种子节点支持，最后找到了区块链师祖比特币的开发者的一段说明如下： 翻译成中文，简而言之就是在代码里面写死了一个域名数组和IP地址数组，程序启动的时候就去连这些域名和IP。 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;当然，觉得这种方法可以解决问题，但是，这或多或少使得“去中心化”蒙上了一层淡淡的阴影。 &nbsp; 那么根据我这个例子的模拟环境，我就把公司局域网可能的IP都&nbsp;hard-code&nbsp;在程序里，逐个扫描查找最长链，作为下载区块链数据的扫描地址吧。下面是Java代码： &nbsp; &nbsp;&nbsp;&nbsp;static&nbsp;final&nbsp;String&nbsp;&nbsp;sIPPre=&quot;10.70.5.&quot;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //对局域网内的电脑进行扫描，找到最长的链，下载到本地 &nbsp; &nbsp;&nbsp;&nbsp;static&nbsp;final&nbsp;String&nbsp;&nbsp;sDataFileDir=&quot;c://blockchain&quot;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//本地存储路径 &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//从网络读取区块链数据到本地文件 &nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;DowloadData(){ &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//检查数据文件目录，不存在就创建 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; File dirFile =&nbsp;new&nbsp;File(sDataFileDir); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;bFile&nbsp;&nbsp; = dirFile.exists(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(!bFile ){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bFile = dirFile.mkdir(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//往新创建的本地文件里面写一个创世块 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FileOutputStream out =&nbsp;new&nbsp;FileOutputStream(new&nbsp;File(dirFile+&quot;//data.txt&quot;)); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; out.write((BlockChain.CreateFirstBlock().toInfoString()+&quot;\r\n&quot;).getBytes()); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out.close(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }catch(Exception e){&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//扫描周边的节点，找到最长的链，下载到本地 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;iLastLen=0; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sLastChain=&quot;&quot;; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i=0;i&lt;255;i+=1){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sThisURL=&quot;http://&quot;+sIPPre+i+&quot;:8080/blockchain/chain.jsp&quot;; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(sThisURL); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sChain=httpRequest(sThisURL); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(sChain!=&quot;&quot;){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(sChain); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sTemp[]=sChain.split(&quot;##&quot;); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(sTemp.length&gt;iLastLen){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; iLastLen=sTemp.length; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sLastChain=sChain; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(sLastChain!=&quot;&quot;){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FileOutputStream out =&nbsp;new&nbsp;FileOutputStream(new&nbsp;File(dirFile+&quot;//data.txt&quot;)); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//System.out.println(&quot;before:&quot;+sLastChain); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sLastChain=sLastChain.replace(&quot;##&quot;,&nbsp;&quot;\r\n&quot;); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//System.out.println(&quot;after:&quot;+sLastChain); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out.write((sLastChain+&quot;\r\n&quot;).getBytes()); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out.close(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }catch(Exception e){&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; } &nbsp; &nbsp; DowloadData（）这个方法，应该在应用启动的时候被调用。也可能在应用执行过程中，后台间隔性被调用。 &nbsp; 你可能马上会发现，多了一个外部接口： http://&quot;+IP+&quot;:8080/blockchain/chain.jsp &nbsp; 这个接口是每个节点都需要实现的，用来输出自己节点最新的区块链数据，在平时各个节点彼此互相调用，初始化和同步区块链数据。在本例中，简单实现方法如下： &nbsp; 建立一个&nbsp;chain.jsp&nbsp;页面，放到Tomcat&nbsp;路径下，贴上里面主要代码 &nbsp; &lt;%@&nbsp;page&nbsp;language=&quot;java&quot;&nbsp;contentType=&quot;text/html; charset=gb2312&quot; &nbsp;&nbsp;&nbsp;&nbsp;pageEncoding=&quot;gb2312&quot;%&gt;&lt;% //java.util.Date d = new java.util.Date(); blockchain.BlockChain.LoadData(); %&gt; &lt;%=&nbsp;blockchain.BlockChain.StringBlockchain()&nbsp;%&gt; &nbsp; &nbsp; 用户怎么挖矿 到了这一步，可以把我们例子程序稍微完善一下，为后面的“挖矿”概念做准备。 &nbsp; 完善后的产品界面如下 &nbsp; &nbsp; 启动应用，首先是一个数据同步的欢迎页面。此页面用ajax方式实现后台数据同步。 同步完成后，输入手机号码，进入下一个页面。 注意页面下方，增加了一个自动更新区块链功能，也通过ajax实现。 &nbsp; 所谓“挖矿”和“矿工”，只不过是借用了比特币里面的相关说法。“矿工”就是用户了，“挖矿”就是用户在这个区块链应用上面做的事情，一般带有一定的价值和目的，目前很多区块链应用，“挖矿”就是完成某个工作，获得系统一些奖励。 在我们这个演示应用里面，挖矿就是用户根据上一个成语，遵守成语接龙的规则，想出并输入下一个成语，系统验证无误，就会为你在区块链增加一条记录，同时把奖励也给你记录。 其实把名字取得那么神奇，事实却很简单，系统就是做了以下三件事： 1、计算工作量证明PoW，验证用户递交的工作； 2、对于“挖矿”成功的用户，通过新增一个区块授予矿工即用户一些分数或者虚拟币奖励； 3、构造新区块并将其添加到链中，同步到每个节点。 &nbsp; 代码如下: if(request.getParameter(&quot;answer&quot;)!=null){&nbsp;&nbsp; //读取到用户的输入 &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//加载区块链数据 &nbsp;&nbsp; blockchain.BlockChain.LoadData(); &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//获取区块链中最后一个成语 &nbsp;&nbsp; String sPre=blockchain.BlockChain.lBlockchain.get(blockchain.BlockChain.lBlockchain.size()-1).sProof; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//用户输入的成语 &nbsp;&nbsp; String sCur=new&nbsp;String(request.getParameter(&quot;answer&quot;).getBytes(&quot;ISO8859-1&quot;),&quot;gb2312&quot;); &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//判断是不是正确答案，如果是，就要创建新块并添加到区块链中 &nbsp;&nbsp;&nbsp;if(blockchain.BlockChain.ValidProof(sPre,sCur)){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; blockchain.Block bPre=blockchain.BlockChain.lBlockchain.get(blockchain.BlockChain.lBlockchain.size()-1); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//获取前一个块的Hash &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sHash=blockchain.BlockChain.Hash(bPre); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//创建新块 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; blockchain.Block bCur=blockchain.BlockChain.NewBlock(bPre.iIndex+1, sCur, sHash,&nbsp;new&nbsp;java.sql.Timestamp(System.currentTimeMillis()), bPre.sRecipient, (String)session.getAttribute(&quot;mobile&quot;)); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//加入区块链并保存到本地文件 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; blockchain.BlockChain.lBlockchain.add(bCur); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; blockchain.BlockChain.WriteData(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;。。。 &nbsp;&nbsp; }else{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;。。。。 &nbsp;&nbsp; } } &nbsp; 下面是经过几个接龙后的页面： 这是可以打开本地区块链数据文件&nbsp;“c:/blockchain/data.txt”可以看到如下内容，为了查看简单，数据文件用明文txt存储。 其中第一条，是创世块的数据，在区块链中，它是根区块。 在实际项目中，数据文件一般都会以某种较复杂的方式存储，比如采用某种加密方式。 &nbsp; &nbsp; 节点数据一致性（共识算法/一致性算法） 到目前为止我们已经有了一个基本的区块链产品和界面，并且可以做简单的“挖矿”，在应用启动的时候，我们也看到了第一次数据同步和后面每隔一段时间数据同步的实现方法，在一个节点上运行没有问题。 但是，区块链系统应该是分布式的。既然是分布式的，那么我们就需要考虑究竟拿什么保证所有节点有同样的链呢？这就是一致性问题，我们要想在网络上有很多个节点并且他们的数据保持一致，那就必须实现一个一致性的算法。 &nbsp; 实现共识算法（一致性算法） &nbsp; 单个节点分布在不同的计算机或手机等等终端，各自工作，必然有一些冲突产生。冲突的产生，主要来自两方面，一是链长的不一致，二是链分叉的产生。 &nbsp; 用本例来说明。第一种情况是，每个节点同步后，各自做各自的题目，各自的链数据都在扩展，导致每个人的链长度不一致。还有一种情况是，在某个区块下面，存在不同的都正确的答案，那么，即使长度一致，但链的内容不一致。比如在本例中“海阔天空”后面可以接的成语有很多，比如“空中楼阁”、“空前绝后”、“空口无凭”，他们都是正确的。这种情况下，系统必须定义一个唯一性的算法。 &nbsp; 解决上面问题的算法，称之为“共识算法”或“一致性算法”。 &nbsp; 通过上面的描述，我们知道“共识算法”其实是解决不同用户（或称不同节点）在完成被“工作量证明”算法承认的工作之后，如何公平合理的奖励问题。他必须合理，体现公平、公正。在不同的区块链应用中，在不同的“工作量证明”基础下，其实现方法是不同的，在基于某些复杂的“工作量证明”的区块链应用中，可以想象，这些复杂的“工作量证明”，会导致需要非常复杂的“共识算法”去解决冲突。 &nbsp; 如果每个节点在增加一个新区块的时候，都可以实时同步到每个节点，并且在同步过程中，能锁定其它节点，当然这是最理想的。但事实上，在现实场景中，这很难做到。网上有很多共识性算法讨论，大家可以查询参考，不过很多都存在一个问题，需要中心节点支持，我觉得这个是“去中心化”不可接受的，所以非常不以为然。 &nbsp; 就本例子而言，可以设计一个相对简单的“共识算法”，我们称之为最长链法，为了解决这个问题，规定最长的、有效的链才是最终的链，换句话说，网络中有效最长链才是实际的链。具体实现如下： &nbsp; 当一个用户完成一个成语接龙并被系统判断答案正确的时候，他将计划新增一个区块，并且希望添加到区块链中，但这之前，系统会先去扫描当前所有节点目前的链，如果发现存在长度比当前节点加一还要长的链，那么系统认为，当前节点虽然完成了题目，但已经不是最快的那个人了，因此不再承认这次工作的有效性。并且同时同步最长链到本地，提示用户重新做成语接龙。 &nbsp; 这个算法在本例中，理论上是合理的，因为不能说一个用户花了一分钟就回答出来的答案，另外一个花了一天才回答出来，当然后面的就不能说有效了。没有更仔细的想过这个“共识算法”的合理性，作为演示，暂时就那么用一下了。下面说一下在本例中实现需要的两个材料： &nbsp; 1、&nbsp;&nbsp;每个节点需要一个能被扫描后提供它自己的区块链数据的接口，这个其实接口已经有了，就是http:/…/blockchain/chain.jsp，回顾前面，在启动节点的时候用到过； 2、&nbsp;&nbsp;实现一个共识算法方法，在每次“挖矿”完成后，判断工作的有效性。 &nbsp; 共识算法如下： &nbsp; &nbsp;&nbsp;&nbsp;//共识算法 &nbsp;&nbsp;&nbsp;//返回&nbsp;true&nbsp;表示当前节点工作可以被认可 &nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;boolean&nbsp;Unanimous(){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;bRet=true; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//扫描周边的节点，找到最长的链，下载到本地 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;iLastLen=0; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sLastChain=&quot;&quot;; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i=0;i&lt;255;i+=1){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sThisURL=&quot;http://&quot;+sIPPre+i+&quot;:8080/blockchain/chain.jsp&quot;; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(sThisURL); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sChain=httpRequest(sThisURL); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(sChain!=&quot;&quot;){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(sChain); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; String sTemp[]=sChain.split(&quot;##&quot;); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(sTemp.length&gt;iLastLen){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; iLastLen=sTemp.length; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sLastChain=sChain; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BlockChain.LoadData(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//如果其它节点存在长度大于本地节点+1的链，则本次“挖矿”无效 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(sLastChain!=&quot;&quot;&nbsp;&amp;&amp; iLastLen &gt;= BlockChain.lBlockchain.size()+1){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bRet=false; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FileOutputStream out =&nbsp;new&nbsp;FileOutputStream(new&nbsp;File(sDataFileDir+&quot;//data.txt&quot;)); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sLastChain=sLastChain.replace(&quot;##&quot;,&nbsp;&quot;\r\n&quot;); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out.write((sLastChain+&quot;\r\n&quot;).getBytes()); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out.close(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }catch(Exception e){&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;bRet; &nbsp;&nbsp; } &nbsp; &nbsp; 加入“共识算法”后的界面变成如下： 当用户递交一个成语后，系统会通过Ajax首先检测区块链的一致性，一致性通过了，用户递交的这个新的成语，才会加入到区块链。如果发现有更长的链条存在，则系统会提示你慢了一步，已经被抢答了，必须重新开始。 页面大致如下： 发布和运行区块链成语接龙 &nbsp; 到这里，这个“区块链成语接龙”游戏就基本搭建和测试完成。 &nbsp; 接下来的事情，你可以将此项目打包war，然后发布到你所在局域网不同的节点的机器上，因为环境的支持问题，所以节点必须有Windows+JDK+Tomcat运行环境，将项目打包成&nbsp;blockchain.war，放到你的Tomcat目录&nbsp;webapps下面，然后启动Tomcat，打开你的浏览器，输入：http://localhost:8080/blockchain/ 过程不再累述。如果局域网的环境和本地目录结构有所改变，则需要对项目的部分地方稍作修改，比如： &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //对局域网内的电脑进行扫描，找到最长的链，下载到本地 static&nbsp;final&nbsp;String&nbsp;&nbsp;sIPPre=&quot;10.70.5.&quot;; //本地存储路径 &nbsp;&nbsp;&nbsp;static&nbsp;final&nbsp;String&nbsp;&nbsp;sDataFileDir=&quot;c://blockchain&quot;;&nbsp; &nbsp;&nbsp; 好啦，你可以邀请你的同事和朋友们一起来测试你的区块链成语接龙！ &nbsp; &nbsp; 总结： &nbsp; 通过搭建一个区块链项目，我们可以了解一个区块链项目启动所需要的所有知识，环境和其基本算法所代表的概念，在例子中，我们一一讲解并且实现，我们可以非常具体地体会到“去中心化”的真实含义。事实上，可以在测试过程中，加入很多终端，然后，关闭中间任何一台终端，看这个产品是否还是可以正常运行。 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;虽然如此，在这个过程中，也可以看到有些问题并没有很好和彻底的解决方案，区块链作为一个新起的概念和技术，这个当然也可以理解，同样，这个可以作为我们研究人员进一步仔细考虑的点。 &nbsp; 1、&nbsp;关于种子节点的问题 在任何一个节点启动的时候，如何获得其它节点的位置信息，从而下载和初始化区块链呢？种子节点的存在，的确可以解决这个问题，但种子节点本身，就带有“中心化”这个概念，所以，如果没有种子节点会更加好，但如何实现呢？ &nbsp; 2、&nbsp;关于“工作量证明” 一个技术是否能普及和商业化，或者说对用户对社会是否有真正的价值，就在于它能不能解决我们具体生活场景的问题。区块链里面具体所做的事情，都在“工作量证明”里面，当前很多区块链项目，比如“比特币”，都是用一个计算机化的方式，来描述和做某一种工作，但这类工作的意义究竟有多大，或者其适用性有多大，真的需要思考。这种方式用来产生“虚拟币”是不错，但“虚拟币”有真的价值么？还有就是，真的所有工作，都可以不需要“中心节点”支持么？所以，设计更多的符合人们生活场景的“工作量证明”算法，将大大拓展这个技术的前景。 &nbsp; 3、&nbsp;关于“共识算法” “共识算法”和“工作量证明”戚戚相关，但所有“共识算法”都需要考虑解决起码两个问题，当各个节点独自运作的时候，不可避免会产生每个节点区块链不同步的问题，不同步可能在时间上，也可能在“工作量证明”的多重结果上，这两种，需要最终达成共识，使得系统中始终只有一条正确的链，应该说是相当困难。网络有延迟，终端有差异，不同的结果都合理，怎么公平取舍。。。等等。实在不是那么简单的。 &nbsp; 4、&nbsp;&nbsp;关于巨量区块链数据同步速度 即使解决了上面1，2，3&nbsp;提出的问题，也存在数据同步速度问题。 &nbsp; 理论上来说，区块链每个节点，应该是数据的全备份。在我们这个例子中，同步数据量比较少，同步节点也不多，所以每次同步时间很短。但是在商用系统中，如果出现大量的节点，大量的数据，这个同步肯定会有时间。一个是节点存储容量问题，一个是同步带宽问题，两者都是不可预料的。目前基于区块链的智能合约开发框架以太访（Ethereum）需要同步的数据已经接近了惊人的100G，还在不断增长，我下载安装一个同步了一个星期。在如此大的数据两下，简单的同步和拷贝，肯定是不合理的，既会带来巨大的资源浪费，也会带来应用的可使用性及差。所以这里面需要解决的问题还很多。 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;以上这些，任何一点，仔细研究都是一个巨大的课题，做一个简单那的区块链项目不难，要做好并且做成社会真正有用而非炒作的产品，估计还有很远的路，具体想来都是需要好好解决的问题。让我们一起努力吧。 阅读更多" />
<link rel="canonical" href="https://mlh.app/2018/06/20/ed7bc94f1aa0feed5e6d4cb61c99f38e.html" />
<meta property="og:url" content="https://mlh.app/2018/06/20/ed7bc94f1aa0feed5e6d4cb61c99f38e.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-06-20T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"阅读对象 本文阅读对象，主要是希望和即将从事区块链开发的项目架构师，开发工程师，项目设计或产品设计师。要求阅读者具备一定的“区块链”基础知识、概念和以及相关的技术知识。 如果你只需要对区块链应用做一个更深更直观的了解，通过本文的例子更清晰了解区块链是怎么回事，大概是怎么开发出来的，怎么使用，那么知道一些区块链相关知识即可。 如果你是一个想从事这方面工作的人，尤其是从事开发和架构的技术人员，那么需要的技术知识就相当的多了，无法一一列举，大概一个高级网络开发工程师和中级以上的架构师水平，是需要的。 &nbsp; 前言 很多新的概念，人们在刚接触的时候，会让人感到非常困惑，学了好多次都稀里糊涂，并不仅仅是技术，很多地方都是如此。对于比较难理解的概念，用什么办法去学习最高效呢？我一直认为，就是找一个例子，或者写一个Demo，世上无难事，for一个example即可。。。 &nbsp; 最近一段时间，AI人工智能方兴未艾，区块链技术又迎面走来，对数字货币的崛起感到新奇的我们，估计很想知道其背后的技术--区块链是怎样的一个东西。但是完全搞懂区块链并非易事，在实践中学习方为上策。 &nbsp; 我喜欢把程序当成诗歌来写，理所当然要通过写代码来实现并运行一个例子，来理解并学习这门技术。这里，就通过用JAVA语言实现和构建一个区块链来探讨对区块链的理解。 &nbsp; 本文，我们要用区块链来实现这么一个例子，名字叫“区块链成语接龙”。用户通过这个例子，可以不断的接龙前面一个用户的成语，规则和普通游戏一样，前面一个用户的成语的最后一个字，作为后面一个成语的第一个字。 &nbsp; 单单作为一个应用，这个很简单呐，问题是，我们要用区块链的原理和相关技术实现它。 &nbsp; OK，let’s go… … &nbsp; 准备工作 这个时候其实我很想大喊一声：“区块链”其实不是某一种单纯的技术，而是基于某一种思想的多种技术的结合。 需要的技术包括分布式存储，分布式计算，P2P数据同步，加密解密，安全传输，一些语言，一些开发工具。。。还有一些新型的概念&nbsp;–&nbsp;分布式节点，工作量证明，共识算法。。。等等 基于哪一种思想呢，大家都说是“去中心化”，我觉得就是“反垄断”“反。。。”，敏感话题，不展开了。但是我事实上是一个喜欢民主的人，所以区块链的“去中心化”对我吸引力颇大。。。all men are created equal…J &nbsp; 本文里面涉及到的一些例子，来源是网上，有些是Python版本，有些是Java版本，C版本，考虑到JAVA更为通用和易读写（其实我是认为JAVA语言更像诗歌了），就把他们改成了JAVA版，所以要求读者对诗歌..哦，不是，是对JAVA非常了解，能读写基本的语法框架和逻辑，并且因为这个DEMO的特殊性，需要对网络框架和HTTP请求有基本的了解。 &nbsp; 我们知道区块链是数据块和链的存储方式的组合，是由N多个数据区块按照链的组织和记录构成的不可变、有序的链结构，记录可以是交易、文件或任何你想要的数据，同时它们是通过哈希值（hashes）链接起来的。所以，在阅读本文之前，一定要阅读几篇关于区块链的文章，了解里面块，链，数据，工作量证明等等概念，最好也了解一些相关技术比如Hash，分布式存储等等的概念。如果你还不是很了解这些，请找度娘。 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如果在了解这些概念的过程中，一不小心接触到了比特币，请一定要明白，比特币只是区块链技术的一个产品实现。如果还接触到其它一些诸如以太网等等的名词，那么需要知道，这些都是区块链技术下实现的一些框架和产品。 &nbsp; &nbsp; 环境准备 理论上来说，可以用任何一种语言来创建任何一种技术的例子，包括区块链的例子，我们这里选用了JAVA，所以要在自己的电脑上，准备JAVA的相关开发环境。 &nbsp; 确保你的电脑上已经安装了较新版本的JDK，Tomcat和某一种你熟悉的最好能整合Tomcat的JAVA IDE，本例用的是Eclipse。Tomcat在我们这个例子中间，是一个WEB工具，因为我们的项目，需要基于WEB&nbsp; HTTP&nbsp;发布和运行。 &nbsp; 如何安装Java和各种工具，包括如何用Eclipse创建Dynamic web项目并发布到Tomcat等等步骤，既然你已经如此熟悉JAVA了，这里就不再多讲。 &nbsp; &nbsp; 开始创建区块链 &nbsp; 区块或称数据块Block类 区块链中每个区块包含以下基本内容：索引（index），Unix时间戳（timestamp），数据块(data)（包括交易，文字，申明，奖励等任何和合适的内容），证明或工作量证明（proof稍后解释）以及前一个区块的Hash值，Hash&nbsp;用来链接数据块，同时确保数据块不被非法修改。 以下是一个区块的结构： public&nbsp;class&nbsp;Block { &nbsp; &nbsp;&nbsp;&nbsp;int&nbsp;iIndex;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//索引 &nbsp;&nbsp; String&nbsp;sProof;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//工作量证明，在这个例子里面，其实就是一个经过验证的正确的成语 &nbsp;&nbsp; String&nbsp;sPreviousHash;&nbsp;&nbsp;&nbsp;&nbsp;//前一个区块的Hash值 &nbsp;&nbsp; Timestamp&nbsp;tsCreateTime;&nbsp;&nbsp;//区块创建时间戳 &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;/*数据块 &nbsp;&nbsp; &nbsp;* &nbsp;&nbsp; &nbsp;*&nbsp;用户每接上一个成语，会得到系统10元钱的奖励，同时会赢得前面一个用户的2元钱 &nbsp;&nbsp; &nbsp;*&nbsp;数据区同时需要记录自己的用户名和回答出上一个成语的用户名 &nbsp;&nbsp; &nbsp;* &nbsp;&nbsp; &nbsp;* */ &nbsp;&nbsp; String&nbsp;sSender;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//回答出上一个成语的用户名 &nbsp;&nbsp; String&nbsp;sRecipient;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//回答出当前这个成语的用户名 &nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;iMoneyAward=10;&nbsp;//系统奖励，数额固定 &nbsp;&nbsp;&nbsp;final&nbsp;int&nbsp;iMoneyWin=2;&nbsp;&nbsp;&nbsp;&nbsp;//赢取奖励，数额固定 &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;public&nbsp;Block(){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; } &nbsp;&nbsp; &nbsp;&nbsp; } &nbsp; &nbsp; 区块链实现Blockchain类 &nbsp; import java.util.*; import&nbsp;blockchain.Block; &nbsp; public&nbsp;class&nbsp;BlockChain { &nbsp;&nbsp;&nbsp;//用来存储区块 private&nbsp;List&lt;Block&gt; lBlockchain=new ArrayList&lt;&gt;[];&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;public&nbsp;BlockChain(){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; } &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//创建新块 &nbsp;&nbsp;&nbsp;public&nbsp;Block NewBlock(){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Block bRet=null; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//在这里创建一个新块 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;bRet; &nbsp;&nbsp; } &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//Hash&nbsp;一个块 &nbsp;&nbsp;&nbsp;public&nbsp;String Hash(Block block){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sHash=null; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//在这里Hash&nbsp;一个块 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;sHash; &nbsp;&nbsp; } &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//其他方法 &nbsp;&nbsp;&nbsp;//.... } &nbsp; &nbsp; &nbsp; Blockchain类用来管理链条，它能存储和更新链数据，加入新块等等，下面我们来进一步增加和完善里面的一些方法 &nbsp; 创建新块和创世块 &nbsp; 当一个用户按照成语接龙的规则，对上上一个成语，并且系统验证这成语正确（工作量被证明）。这个时候我们就可以创建一个新块，并且加到链里面。 &nbsp; 一旦工作量证明确认，并且上一个块hash&nbsp;生成后，就可以简单调用函数创建一个新块了。 &nbsp; 创建新块方法如下： &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;//创建新块 &nbsp;&nbsp;&nbsp;public&nbsp;Block&nbsp;NewBlock(int&nbsp;i,String proof,String hash,Timestamp c,String sender,String recipient){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Block bRet=null; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//在这里创建一个新块 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bRet = new Block(i,proof,hash,c,sender,recipient); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;return&nbsp;bRet; &nbsp;&nbsp; } &nbsp; &nbsp; 这里，我们需要提一下创世块的概念，创世块是区块链的第一个区块，它是没有前区块的。逻辑上只在第一个用户第一次启动系统的时候，才需要创建创世块，后面的都是通过同步获得。创世块索引是0，同样需要给它加上一个工作量证明，我们这里就是初始成语“海阔天空”，因为没有前面的块，所以hash=””，同时给一个固定的创建时间。方法如下： &nbsp; &nbsp;&nbsp;&nbsp;//创始块的创建，创世块是一个块，必须是固定的信息 &nbsp;&nbsp;&nbsp;//逻辑上来说，只有在区块链产品的第一个用户第一次启动的时候，才会需要创建创世块 &nbsp;&nbsp;&nbsp;public&nbsp;Block CreateFirstBlock(){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Timestamp t=new&nbsp;Timestamp((new&nbsp;java.text.SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;)).parse(&quot;2018-01-01 01:01:01&quot;).getTime()); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;NewBlock(0,&quot;海阔天空&quot;,&quot;&quot;,t,&quot;&quot;,&quot;&quot;); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }catch(Exception e){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;null; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp; } &nbsp; &nbsp; &nbsp; 这里顺便贴上生成块的Hash字符串的方法： &nbsp;&nbsp;&nbsp;//Hash&nbsp;一个块 &nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;String Hash(Block block){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sHash=null; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//在这里Hash&nbsp;一个块 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String s=block.sPreviousHash+block.sProof+block.sRecipient+block.sSender+block.tsCreateTime.toString(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sHash =&nbsp;MD5(s); &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;sHash; &nbsp;&nbsp; } &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;String MD5(String key) { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;hexDigits[] = { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;0&#39;,&nbsp;&#39;1&#39;,&nbsp;&#39;2&#39;,&nbsp;&#39;3&#39;,&nbsp;&#39;4&#39;,&nbsp;&#39;5&#39;,&nbsp;&#39;6&#39;,&nbsp;&#39;7&#39;,&nbsp;&#39;8&#39;,&nbsp;&#39;9&#39;,&nbsp;&#39;A&#39;,&nbsp;&#39;B&#39;,&nbsp;&#39;C&#39;,&#39;D&#39;,&nbsp;&#39;E&#39;,&nbsp;&#39;F&#39; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[] btInput = key.getBytes(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;获得MD5摘要算法的&nbsp;MessageDigest&nbsp;对象 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; java.security.MessageDigest mdInst = java.security.MessageDigest.getInstance(&quot;MD5&quot;); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;使用指定的字节更新摘要 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mdInst.update(btInput); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;获得密文 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[] md = mdInst.digest(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;把密文转换成十六进制的字符串形式 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;j = md.length; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;str[] =&nbsp;new&nbsp;char[j * 2]; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;k = 0; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;i = 0; i &lt; j; i++) { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte&nbsp;byte0 = md[i]; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; str[k++] = hexDigits[byte0 &gt;&gt;&gt; 4 &amp; 0xf]; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; str[k++] = hexDigits[byte0 &amp; 0xf]; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;String(str); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;catch&nbsp;(Exception e) { &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;null; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp; } &nbsp; &nbsp; &nbsp; 理解工作量证明 &nbsp; 新的区块生成，必须依赖工作量证明算法（PoW）来构造。 &nbsp; PoW的目标是找出一个能被公认的方法，来证明你所从事工作的正确性。 &nbsp; 在当前区块链应用中，PoW经常是被设计成通过寻找某一个符合特定条件的数字来证明，这个数字可能很难计算出来，但很容易验证。 &nbsp; 这就是工作量证明的核心思想。 为了方便理解，举个例子： 假设一个整数&nbsp;x&nbsp;乘以另一个整数&nbsp;y&nbsp;的积的&nbsp;Hash&nbsp;值必须以两个零&nbsp;‘00’&nbsp;结尾，即&nbsp;hash(x * y) = xxxxxx...00。设变量&nbsp;x = 5，求&nbsp;y&nbsp;的值？ 用Java实现如下： &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;x=5; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;y=0; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(true){ &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String md5=BlockChain.MD5(&quot;&quot;+(x*y)); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(md5.charAt(md5.length()-1)==&#39;0&#39;){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; y+=1; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp; 最后得出&nbsp;y=69 因为MD5(5*69)=D81F9C1BE2E08964BF9F24B15F0E4900 &nbsp; 随着区块链应用的扩展，应该有更多合理的工作量证明算法。 &nbsp; 在比特币中，使用称为Hashcash的工作量证明算法，它和上面的问题很类似。矿工们为了争夺创建区块的权利而争相计算结果，甚至动用N台电脑，这就是称之为挖矿。通常，计算难度与目标字符串需要满足的特定字符的数量成正比，矿工算出结果后，会获得比特币奖励。当然，一旦计算出来，会非常容易验证这个结果。 &nbsp; 实现我们的工作量证明 &nbsp; 我们的工作量证明，那就比较简单，当用户输入下一个成语的时候，我们打开成语词典或者百度，一查。。。。就可以知道它接的对还是错了。 &nbsp; 从系统上来说，我们可以通过调用外部开发查询接口，或者自带成语词库，来实现这个工作量证明，代码如下（此处引用了一个外部成语真实性查询接口）： &nbsp; &nbsp;&nbsp;&nbsp;//验证当前的成语是否符合规则 &nbsp;&nbsp;&nbsp;//pre&nbsp;前一个成语 &nbsp;&nbsp;&nbsp;//cur&nbsp;这一个成语 &nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;boolean&nbsp;ValidProof(String pre,String cur){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//验证这个成语的头一个字是不是上一个成语的最后一个字 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(cur.charAt(0)!=pre.charAt(pre.length()-1)){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;return&nbsp;false; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//验证是否是成语 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//http://chengyu.t086.com/chaxun.php?q=%B9%E2%C3%F7%D5%FD%B4%F3&amp;t=ChengYu &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String content=httpRequest(&quot;http://chengyu.t086.com/chaxun.php?q=&quot;+cur+&quot;&amp;t=ChengYu&quot;); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(content.indexOf(&quot;没有找到与您搜索相关的成语&quot;)!=-1 || content.indexOf(&quot;搜索词太长&quot;)!=-1){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;true; &nbsp;&nbsp; } &nbsp; &nbsp; &nbsp; &nbsp; 小结：通过上面的讲解，描述了区块链涉及到的一些新概念，区块，创世块，链式存储，工作量证明，主数据形式和内容，Hash加密等等。同时我们通过“成语接龙”的例子，在例子中用Java构造了相关的类和方法。 &nbsp; 具备了区块链项目的基础组件后，下一步就是将这些组件运行起来，构造一个可以真正运行起来的区块链项目。 &nbsp; &nbsp; 启动一个Blockchain项目 我们都知道，区块链是一个分布式存储和分布式计算互相结合的技术和产品框架。其核心是去中心化存储。这个意味着，所有区块链的数据都应该存储在用户本地而不是某个中心服务器。所以，一个真正的区块链产品，需要在没有中心服务器支持情况下，解决如下几个基本的问题： 1、&nbsp;&nbsp;每个用户端启动区块链产品时，如何将区块数据的初始下载到本地； 2、&nbsp;&nbsp;新增加区块时，区块链内容的更新发布以及不同用户新增区块时间冲突的处理； 3、&nbsp;&nbsp;日常运行过程中如何保证每个用户端（节点）数据的最新和及时同步； &nbsp; &nbsp; 创建节点 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;区块链项目中，一个正在运行着区块链项目的用户终端，称为一个节点。 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;每个用户第一次启动某个区块链项目，就相当于创建了一个节点。而以后每次启动项目，都意味着启动了这个节点。 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;为什么说是创建一个节点？原因很简单，区块链的基本思想是去中心化，去中心化的换一种说法，中间任何一个终端，都可以是中心，各自是对等的组网模型，也就是P2P组网模型。因为任何启动的终端，除了需要完成数据下载，使用，运算之外，还需要完成对外提供数据，同步，验证等等功能。 &nbsp; 区块链网络系统之所以选择P2P作为其组网模型，这是由于二者思想的契合度确定的；区块链的根本出发点之一是去中心化，中本聪在他的白皮书里，提到电子现金系统中，第三方系统是多余的，没有价值，意思就是整个系统不要依赖任何特殊的第三方来完成自身系统的运转；而P2P网络的天然属性，就是全网节点平等，无特殊节点；由于区块链和对等网络的建设思想，高度契合，再加上P2P网络已经是一个发展成熟的网络技术；二者走到一起，几乎是一种必然。 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;所以我们在这个例子里面引入Tomcat，一方面是为了将一些用户操作转换到浏览器，演示方便，另外一方面，是为了方便发布一些对外接口，用来模拟在P2P对等网络之间数据同步。 &nbsp; 首先我们使用Eclipse建立一个动态WEB&nbsp;项目，将上面相关类导入，同时新建一个类似下面的&nbsp;index.jsp&nbsp;欢迎页面 &nbsp; &lt;%@&nbsp;page&nbsp;language=&quot;java&quot;&nbsp;contentType=&quot;text/html; charset=gb2312&quot; &nbsp;&nbsp;&nbsp;&nbsp;pageEncoding=&quot;gb2312&quot;%&gt; &lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt; &lt;html&gt; &lt;head&gt; &lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html; charset=ISO-8859-1&quot;&gt; &lt;title&gt;区块链测试&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &nbsp; &lt;%&nbsp;java.util.Date d =&nbsp;new&nbsp;java.util.Date();&nbsp;%&gt; &lt;h1&gt; 欢迎使用区块链成语接龙。&nbsp;&lt;br&gt; &lt;/h1&gt; &nbsp; 区块数据同步中，请稍等。。。&lt;br&gt; &nbsp; &lt;%=&nbsp;d.toString()&nbsp;%&gt;&nbsp;! &nbsp; &lt;/body&gt; &lt;/html&gt; &nbsp; 发布项目到你安装的Tomcat，启动Tomcat，输入如下地址，当看到如下图所示页面，即创建区块链项目“成语接龙”的节点准备工作已经完成。 &nbsp; &nbsp; 启动区块链应用，创建节点，包括以后每次启动应用，都需要完成的第一个工作，是同步区块链数据到本地或者更新本地区块数据。碰到的第一个问题是，我怎么知道到哪里去同步数据呢，或者说我怎么知道其它可以同步数据的节点的地址呢？ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;找遍百度，很多都说的很模糊，大致是需要&nbsp;node-seed&nbsp;也就是种子节点支持，最后找到了区块链师祖比特币的开发者的一段说明如下： 翻译成中文，简而言之就是在代码里面写死了一个域名数组和IP地址数组，程序启动的时候就去连这些域名和IP。 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;当然，觉得这种方法可以解决问题，但是，这或多或少使得“去中心化”蒙上了一层淡淡的阴影。 &nbsp; 那么根据我这个例子的模拟环境，我就把公司局域网可能的IP都&nbsp;hard-code&nbsp;在程序里，逐个扫描查找最长链，作为下载区块链数据的扫描地址吧。下面是Java代码： &nbsp; &nbsp;&nbsp;&nbsp;static&nbsp;final&nbsp;String&nbsp;&nbsp;sIPPre=&quot;10.70.5.&quot;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //对局域网内的电脑进行扫描，找到最长的链，下载到本地 &nbsp; &nbsp;&nbsp;&nbsp;static&nbsp;final&nbsp;String&nbsp;&nbsp;sDataFileDir=&quot;c://blockchain&quot;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//本地存储路径 &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//从网络读取区块链数据到本地文件 &nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;DowloadData(){ &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//检查数据文件目录，不存在就创建 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; File dirFile =&nbsp;new&nbsp;File(sDataFileDir); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;bFile&nbsp;&nbsp; = dirFile.exists(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(!bFile ){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bFile = dirFile.mkdir(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//往新创建的本地文件里面写一个创世块 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FileOutputStream out =&nbsp;new&nbsp;FileOutputStream(new&nbsp;File(dirFile+&quot;//data.txt&quot;)); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; out.write((BlockChain.CreateFirstBlock().toInfoString()+&quot;\\r\\n&quot;).getBytes()); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out.close(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }catch(Exception e){&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//扫描周边的节点，找到最长的链，下载到本地 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;iLastLen=0; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sLastChain=&quot;&quot;; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i=0;i&lt;255;i+=1){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sThisURL=&quot;http://&quot;+sIPPre+i+&quot;:8080/blockchain/chain.jsp&quot;; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(sThisURL); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sChain=httpRequest(sThisURL); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(sChain!=&quot;&quot;){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(sChain); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sTemp[]=sChain.split(&quot;##&quot;); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(sTemp.length&gt;iLastLen){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; iLastLen=sTemp.length; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sLastChain=sChain; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(sLastChain!=&quot;&quot;){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FileOutputStream out =&nbsp;new&nbsp;FileOutputStream(new&nbsp;File(dirFile+&quot;//data.txt&quot;)); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//System.out.println(&quot;before:&quot;+sLastChain); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sLastChain=sLastChain.replace(&quot;##&quot;,&nbsp;&quot;\\r\\n&quot;); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//System.out.println(&quot;after:&quot;+sLastChain); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out.write((sLastChain+&quot;\\r\\n&quot;).getBytes()); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out.close(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }catch(Exception e){&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; } &nbsp; &nbsp; DowloadData（）这个方法，应该在应用启动的时候被调用。也可能在应用执行过程中，后台间隔性被调用。 &nbsp; 你可能马上会发现，多了一个外部接口： http://&quot;+IP+&quot;:8080/blockchain/chain.jsp &nbsp; 这个接口是每个节点都需要实现的，用来输出自己节点最新的区块链数据，在平时各个节点彼此互相调用，初始化和同步区块链数据。在本例中，简单实现方法如下： &nbsp; 建立一个&nbsp;chain.jsp&nbsp;页面，放到Tomcat&nbsp;路径下，贴上里面主要代码 &nbsp; &lt;%@&nbsp;page&nbsp;language=&quot;java&quot;&nbsp;contentType=&quot;text/html; charset=gb2312&quot; &nbsp;&nbsp;&nbsp;&nbsp;pageEncoding=&quot;gb2312&quot;%&gt;&lt;% //java.util.Date d = new java.util.Date(); blockchain.BlockChain.LoadData(); %&gt; &lt;%=&nbsp;blockchain.BlockChain.StringBlockchain()&nbsp;%&gt; &nbsp; &nbsp; 用户怎么挖矿 到了这一步，可以把我们例子程序稍微完善一下，为后面的“挖矿”概念做准备。 &nbsp; 完善后的产品界面如下 &nbsp; &nbsp; 启动应用，首先是一个数据同步的欢迎页面。此页面用ajax方式实现后台数据同步。 同步完成后，输入手机号码，进入下一个页面。 注意页面下方，增加了一个自动更新区块链功能，也通过ajax实现。 &nbsp; 所谓“挖矿”和“矿工”，只不过是借用了比特币里面的相关说法。“矿工”就是用户了，“挖矿”就是用户在这个区块链应用上面做的事情，一般带有一定的价值和目的，目前很多区块链应用，“挖矿”就是完成某个工作，获得系统一些奖励。 在我们这个演示应用里面，挖矿就是用户根据上一个成语，遵守成语接龙的规则，想出并输入下一个成语，系统验证无误，就会为你在区块链增加一条记录，同时把奖励也给你记录。 其实把名字取得那么神奇，事实却很简单，系统就是做了以下三件事： 1、计算工作量证明PoW，验证用户递交的工作； 2、对于“挖矿”成功的用户，通过新增一个区块授予矿工即用户一些分数或者虚拟币奖励； 3、构造新区块并将其添加到链中，同步到每个节点。 &nbsp; 代码如下: if(request.getParameter(&quot;answer&quot;)!=null){&nbsp;&nbsp; //读取到用户的输入 &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//加载区块链数据 &nbsp;&nbsp; blockchain.BlockChain.LoadData(); &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//获取区块链中最后一个成语 &nbsp;&nbsp; String sPre=blockchain.BlockChain.lBlockchain.get(blockchain.BlockChain.lBlockchain.size()-1).sProof; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//用户输入的成语 &nbsp;&nbsp; String sCur=new&nbsp;String(request.getParameter(&quot;answer&quot;).getBytes(&quot;ISO8859-1&quot;),&quot;gb2312&quot;); &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;//判断是不是正确答案，如果是，就要创建新块并添加到区块链中 &nbsp;&nbsp;&nbsp;if(blockchain.BlockChain.ValidProof(sPre,sCur)){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; blockchain.Block bPre=blockchain.BlockChain.lBlockchain.get(blockchain.BlockChain.lBlockchain.size()-1); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//获取前一个块的Hash &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sHash=blockchain.BlockChain.Hash(bPre); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//创建新块 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; blockchain.Block bCur=blockchain.BlockChain.NewBlock(bPre.iIndex+1, sCur, sHash,&nbsp;new&nbsp;java.sql.Timestamp(System.currentTimeMillis()), bPre.sRecipient, (String)session.getAttribute(&quot;mobile&quot;)); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//加入区块链并保存到本地文件 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; blockchain.BlockChain.lBlockchain.add(bCur); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; blockchain.BlockChain.WriteData(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;。。。 &nbsp;&nbsp; }else{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;。。。。 &nbsp;&nbsp; } } &nbsp; 下面是经过几个接龙后的页面： 这是可以打开本地区块链数据文件&nbsp;“c:/blockchain/data.txt”可以看到如下内容，为了查看简单，数据文件用明文txt存储。 其中第一条，是创世块的数据，在区块链中，它是根区块。 在实际项目中，数据文件一般都会以某种较复杂的方式存储，比如采用某种加密方式。 &nbsp; &nbsp; 节点数据一致性（共识算法/一致性算法） 到目前为止我们已经有了一个基本的区块链产品和界面，并且可以做简单的“挖矿”，在应用启动的时候，我们也看到了第一次数据同步和后面每隔一段时间数据同步的实现方法，在一个节点上运行没有问题。 但是，区块链系统应该是分布式的。既然是分布式的，那么我们就需要考虑究竟拿什么保证所有节点有同样的链呢？这就是一致性问题，我们要想在网络上有很多个节点并且他们的数据保持一致，那就必须实现一个一致性的算法。 &nbsp; 实现共识算法（一致性算法） &nbsp; 单个节点分布在不同的计算机或手机等等终端，各自工作，必然有一些冲突产生。冲突的产生，主要来自两方面，一是链长的不一致，二是链分叉的产生。 &nbsp; 用本例来说明。第一种情况是，每个节点同步后，各自做各自的题目，各自的链数据都在扩展，导致每个人的链长度不一致。还有一种情况是，在某个区块下面，存在不同的都正确的答案，那么，即使长度一致，但链的内容不一致。比如在本例中“海阔天空”后面可以接的成语有很多，比如“空中楼阁”、“空前绝后”、“空口无凭”，他们都是正确的。这种情况下，系统必须定义一个唯一性的算法。 &nbsp; 解决上面问题的算法，称之为“共识算法”或“一致性算法”。 &nbsp; 通过上面的描述，我们知道“共识算法”其实是解决不同用户（或称不同节点）在完成被“工作量证明”算法承认的工作之后，如何公平合理的奖励问题。他必须合理，体现公平、公正。在不同的区块链应用中，在不同的“工作量证明”基础下，其实现方法是不同的，在基于某些复杂的“工作量证明”的区块链应用中，可以想象，这些复杂的“工作量证明”，会导致需要非常复杂的“共识算法”去解决冲突。 &nbsp; 如果每个节点在增加一个新区块的时候，都可以实时同步到每个节点，并且在同步过程中，能锁定其它节点，当然这是最理想的。但事实上，在现实场景中，这很难做到。网上有很多共识性算法讨论，大家可以查询参考，不过很多都存在一个问题，需要中心节点支持，我觉得这个是“去中心化”不可接受的，所以非常不以为然。 &nbsp; 就本例子而言，可以设计一个相对简单的“共识算法”，我们称之为最长链法，为了解决这个问题，规定最长的、有效的链才是最终的链，换句话说，网络中有效最长链才是实际的链。具体实现如下： &nbsp; 当一个用户完成一个成语接龙并被系统判断答案正确的时候，他将计划新增一个区块，并且希望添加到区块链中，但这之前，系统会先去扫描当前所有节点目前的链，如果发现存在长度比当前节点加一还要长的链，那么系统认为，当前节点虽然完成了题目，但已经不是最快的那个人了，因此不再承认这次工作的有效性。并且同时同步最长链到本地，提示用户重新做成语接龙。 &nbsp; 这个算法在本例中，理论上是合理的，因为不能说一个用户花了一分钟就回答出来的答案，另外一个花了一天才回答出来，当然后面的就不能说有效了。没有更仔细的想过这个“共识算法”的合理性，作为演示，暂时就那么用一下了。下面说一下在本例中实现需要的两个材料： &nbsp; 1、&nbsp;&nbsp;每个节点需要一个能被扫描后提供它自己的区块链数据的接口，这个其实接口已经有了，就是http:/…/blockchain/chain.jsp，回顾前面，在启动节点的时候用到过； 2、&nbsp;&nbsp;实现一个共识算法方法，在每次“挖矿”完成后，判断工作的有效性。 &nbsp; 共识算法如下： &nbsp; &nbsp;&nbsp;&nbsp;//共识算法 &nbsp;&nbsp;&nbsp;//返回&nbsp;true&nbsp;表示当前节点工作可以被认可 &nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;boolean&nbsp;Unanimous(){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;bRet=true; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//扫描周边的节点，找到最长的链，下载到本地 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;iLastLen=0; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sLastChain=&quot;&quot;; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i=0;i&lt;255;i+=1){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sThisURL=&quot;http://&quot;+sIPPre+i+&quot;:8080/blockchain/chain.jsp&quot;; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(sThisURL); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sChain=httpRequest(sThisURL); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(sChain!=&quot;&quot;){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(sChain); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; String sTemp[]=sChain.split(&quot;##&quot;); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(sTemp.length&gt;iLastLen){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; iLastLen=sTemp.length; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sLastChain=sChain; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BlockChain.LoadData(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//如果其它节点存在长度大于本地节点+1的链，则本次“挖矿”无效 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(sLastChain!=&quot;&quot;&nbsp;&amp;&amp; iLastLen &gt;= BlockChain.lBlockchain.size()+1){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bRet=false; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FileOutputStream out =&nbsp;new&nbsp;FileOutputStream(new&nbsp;File(sDataFileDir+&quot;//data.txt&quot;)); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sLastChain=sLastChain.replace(&quot;##&quot;,&nbsp;&quot;\\r\\n&quot;); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out.write((sLastChain+&quot;\\r\\n&quot;).getBytes()); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out.close(); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }catch(Exception e){&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;bRet; &nbsp;&nbsp; } &nbsp; &nbsp; 加入“共识算法”后的界面变成如下： 当用户递交一个成语后，系统会通过Ajax首先检测区块链的一致性，一致性通过了，用户递交的这个新的成语，才会加入到区块链。如果发现有更长的链条存在，则系统会提示你慢了一步，已经被抢答了，必须重新开始。 页面大致如下： 发布和运行区块链成语接龙 &nbsp; 到这里，这个“区块链成语接龙”游戏就基本搭建和测试完成。 &nbsp; 接下来的事情，你可以将此项目打包war，然后发布到你所在局域网不同的节点的机器上，因为环境的支持问题，所以节点必须有Windows+JDK+Tomcat运行环境，将项目打包成&nbsp;blockchain.war，放到你的Tomcat目录&nbsp;webapps下面，然后启动Tomcat，打开你的浏览器，输入：http://localhost:8080/blockchain/ 过程不再累述。如果局域网的环境和本地目录结构有所改变，则需要对项目的部分地方稍作修改，比如： &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //对局域网内的电脑进行扫描，找到最长的链，下载到本地 static&nbsp;final&nbsp;String&nbsp;&nbsp;sIPPre=&quot;10.70.5.&quot;; //本地存储路径 &nbsp;&nbsp;&nbsp;static&nbsp;final&nbsp;String&nbsp;&nbsp;sDataFileDir=&quot;c://blockchain&quot;;&nbsp; &nbsp;&nbsp; 好啦，你可以邀请你的同事和朋友们一起来测试你的区块链成语接龙！ &nbsp; &nbsp; 总结： &nbsp; 通过搭建一个区块链项目，我们可以了解一个区块链项目启动所需要的所有知识，环境和其基本算法所代表的概念，在例子中，我们一一讲解并且实现，我们可以非常具体地体会到“去中心化”的真实含义。事实上，可以在测试过程中，加入很多终端，然后，关闭中间任何一台终端，看这个产品是否还是可以正常运行。 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;虽然如此，在这个过程中，也可以看到有些问题并没有很好和彻底的解决方案，区块链作为一个新起的概念和技术，这个当然也可以理解，同样，这个可以作为我们研究人员进一步仔细考虑的点。 &nbsp; 1、&nbsp;关于种子节点的问题 在任何一个节点启动的时候，如何获得其它节点的位置信息，从而下载和初始化区块链呢？种子节点的存在，的确可以解决这个问题，但种子节点本身，就带有“中心化”这个概念，所以，如果没有种子节点会更加好，但如何实现呢？ &nbsp; 2、&nbsp;关于“工作量证明” 一个技术是否能普及和商业化，或者说对用户对社会是否有真正的价值，就在于它能不能解决我们具体生活场景的问题。区块链里面具体所做的事情，都在“工作量证明”里面，当前很多区块链项目，比如“比特币”，都是用一个计算机化的方式，来描述和做某一种工作，但这类工作的意义究竟有多大，或者其适用性有多大，真的需要思考。这种方式用来产生“虚拟币”是不错，但“虚拟币”有真的价值么？还有就是，真的所有工作，都可以不需要“中心节点”支持么？所以，设计更多的符合人们生活场景的“工作量证明”算法，将大大拓展这个技术的前景。 &nbsp; 3、&nbsp;关于“共识算法” “共识算法”和“工作量证明”戚戚相关，但所有“共识算法”都需要考虑解决起码两个问题，当各个节点独自运作的时候，不可避免会产生每个节点区块链不同步的问题，不同步可能在时间上，也可能在“工作量证明”的多重结果上，这两种，需要最终达成共识，使得系统中始终只有一条正确的链，应该说是相当困难。网络有延迟，终端有差异，不同的结果都合理，怎么公平取舍。。。等等。实在不是那么简单的。 &nbsp; 4、&nbsp;&nbsp;关于巨量区块链数据同步速度 即使解决了上面1，2，3&nbsp;提出的问题，也存在数据同步速度问题。 &nbsp; 理论上来说，区块链每个节点，应该是数据的全备份。在我们这个例子中，同步数据量比较少，同步节点也不多，所以每次同步时间很短。但是在商用系统中，如果出现大量的节点，大量的数据，这个同步肯定会有时间。一个是节点存储容量问题，一个是同步带宽问题，两者都是不可预料的。目前基于区块链的智能合约开发框架以太访（Ethereum）需要同步的数据已经接近了惊人的100G，还在不断增长，我下载安装一个同步了一个星期。在如此大的数据两下，简单的同步和拷贝，肯定是不合理的，既会带来巨大的资源浪费，也会带来应用的可使用性及差。所以这里面需要解决的问题还很多。 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;以上这些，任何一点，仔细研究都是一个巨大的课题，做一个简单那的区块链项目不难，要做好并且做成社会真正有用而非炒作的产品，估计还有很远的路，具体想来都是需要好好解决的问题。让我们一起努力吧。 阅读更多","@type":"BlogPosting","url":"https://mlh.app/2018/06/20/ed7bc94f1aa0feed5e6d4cb61c99f38e.html","headline":"区块链学习—从零开始创建自己的区块链应用","dateModified":"2018-06-20T00:00:00+08:00","datePublished":"2018-06-20T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2018/06/20/ed7bc94f1aa0feed5e6d4cb61c99f38e.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>区块链学习—从零开始创建自己的区块链应用</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css"> 
 <div class="htmledit_views"> 
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;font-size:19px;">阅读对象</span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">本文阅读对象，主要是希望和即将从事区块链开发的项目架构师，开发工程师，项目设计或产品设计师。要求阅读者具备一定的“区块链”基础知识、概念和以及相关的技术知识。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">如果你只需要对区块链应用做一个更深更直观的了解，通过本文的例子更清晰了解区块链是怎么回事，大概是怎么开发出来的，怎么使用，那么知道一些区块链相关知识即可。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">如果你是一个想从事这方面工作的人，尤其是从事开发和架构的技术人员，那么需要的技术知识就相当的多了，无法一一列举，大概一个高级网络开发工程师和中级以上的架构师水平，是需要的。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;font-size:19px;">前言</span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">很多新的概念，人们在刚接触的时候，会让人感到非常困惑，学了好多次都稀里糊涂，并不仅仅是技术，很多地方都是如此。对于比较难理解的概念，用什么办法去学习最高效呢？我一直认为，就是找一个例子，或者写一个</span>Demo<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">，世上无难事，</span>for<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">一个</span>example<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">即可。。。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;">最近一段时间，<span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">AI</span>人工智能方兴未艾，区块链技术又迎面走来，对数字货币的崛起感到新奇的我们，估计很想知道其背后的技术<span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">--</span>区块链是怎样的一个东西。但是完全搞懂区块链并非易事，在实践中学习方为上策。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;background:#FFFFFF;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;">我喜欢把程序当成诗歌来写，理所当然要通过写代码来实现并运行一个例子，来理解并学习这门技术。这里，就通过用<span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">JAVA</span>语言实现和构建一个区块链来探讨对区块链的理解。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;background:#FFFFFF;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;">本文，我们要用区块链来实现这么一个例子，名字叫“区块链成语接龙”。用户通过这个例子，可以不断的接龙前面一个用户的成语，规则和普通游戏一样，前面一个用户的成语的最后一个字，作为后面一个成语的第一个字。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;background:#FFFFFF;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;">单单作为一个应用，这个很简单呐，问题是，我们要用区块链的原理和相关技术实现它。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;background:#FFFFFF;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">OK</span>，<span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">let’s go… …</span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;background:#FFFFFF;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;font-size:21px;">准备工作</span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;">这个时候其实我很想大喊一声：“区块链”其实不是某一种单纯的技术，而是基于某一种思想的多种技术的结合。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;">需要的技术包括分布式存储，分布式计算，<span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">P2P</span>数据同步，加密解密，安全传输，一些语言，一些开发工具。。。还有一些新型的概念<span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">&nbsp;–&nbsp;</span>分布式节点，工作量证明，共识算法。。。等等</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;">基于哪一种思想呢，大家都说是“去中心化”，我觉得就是“反垄断”“反。。。”，敏感话题，不展开了。但是我事实上是一个喜欢民主的人，所以区块链的“去中心化”对我吸引力颇大。。。<span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">all men are created equal…</span><span style="font-family:Wingdings;margin:0px;padding:0px;max-width:100%;">J</span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;background:#FFFFFF;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">本文里面涉及到的一些例子，来源是网上，有些是</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">Python</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">版本，有些是</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">Java</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">版本，</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">C</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">版本，考虑到</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">JAVA</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">更为通用和易读写（其实我是认为</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">JAVA</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">语言更像诗歌了），就把他们改成了</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">JAVA</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">版，所以要求读者对诗歌</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">..</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">哦，不是，是对</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">JAVA</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">非常了解，能读写基本的语法框架和逻辑，并且因为这个</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">DEMO</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">的特殊性，需要对网络框架和</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">HTTP</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">请求有基本的了解。</span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;background:#FFFFFF;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">我们知道区块链是数据块和链的存储方式的组合，是由</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">N</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">多个数据区块按照链的组织和记录构成的不可变、有序的链结构，记录可以是交易、文件或任何你想要的数据，同时它们是通过哈希值（</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">hashes</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">）链接起来的。所以，在阅读本文之前，一定要阅读几篇关于区块链的文章，了解里面块，链，数据，工作量证明等等概念，最好也了解一些相关技术比如</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">Hash</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">，分布式存储等等的概念。如果你还不是很了解这些，请找度娘。</span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">如果在了解这些概念的过程中，一不小心接触到了比特币，请一定要明白，比特币只是区块链技术的一个产品实现。如果还接触到其它一些诸如以太网等等的名词，那么需要知道，这些都是区块链技术下实现的一些框架和产品。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <h3 style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;padding:0px;max-width:100%;font-size:16px;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;line-height:27.68px;">环境准备</span></h3>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">理论上来说，可以用任何一种语言来创建任何一种技术的例子，包括区块链的例子，我们这里选用了</span>JAVA<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">，所以要在自己的电脑上，准备</span>JAVA<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">的相关开发环境。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">确保你的电脑上已经安装了较新版本的</span>JDK<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">，</span>Tomcat<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">和某一种你熟悉的最好能整合</span>Tomcat<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">的</span>JAVA IDE<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">，本例用的是</span>Eclipse<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">。</span>Tomcat<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">在我们这个例子中间，是一个</span>WEB<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">工具，因为我们的项目，需要基于</span>WEB&nbsp; HTTP&nbsp;<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">发布和运行。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">如何安装</span>Java<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">和各种工具，包括如何用</span>Eclipse<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">创建</span>Dynamic web<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">项目并发布到</span>Tomcat<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">等等步骤，既然你已经如此熟悉</span>JAVA<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">了，这里就不再多讲。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <h2 style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;padding:0px;max-width:100%;font-size:16px;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;font-size:21px;">开始创建区块链</span></h2>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <h3 style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;padding:0px;max-width:100%;font-size:16px;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;line-height:27.68px;">区块或称数据块</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;line-height:27.68px;">Block</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;line-height:27.68px;">类</span></h3>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">区块链中每个区块包含以下基本内容：索引（</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">index</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">），</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">Unix</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">时间戳（</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">timestamp</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">），数据块</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">(data)</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">（包括交易，文字，申明，奖励等任何和合适的内容），证明或工作量证明（</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">proof</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">稍后解释）以及前一个区块的</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">Hash</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">值，</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">Hash&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">用来链接数据块，同时确保数据块不被非法修改。</span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">以下是一个区块的结构：</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">public</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">class</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;Block {</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">int</span></span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">iIndex</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">索引</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; String&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">sProof</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">工作量证明，在这个例子里面，其实就是一个经过验证的正确的成语</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; String&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">sPreviousHash</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">前一个区块的</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">Hash</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">值</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; Timestamp&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">tsCreateTime</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">区块创建时间戳</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">/*</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">数据块</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">&nbsp;&nbsp; &nbsp;*</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">&nbsp;&nbsp; &nbsp;*&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">用户每接上一个成语，会得到系统</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">10</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">元钱的奖励，同时会赢得前面一个用户的</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">2</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">元钱</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">&nbsp;&nbsp; &nbsp;*&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">数据区同时需要记录自己的用户名和回答出上一个成语的用户名</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">&nbsp;&nbsp; &nbsp;*</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">&nbsp;&nbsp; &nbsp;* */</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; String&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">sSender</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">回答出上一个成语的用户名</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; String&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">sRecipient</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">回答出当前这个成语的用户名</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">final</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">int</span></span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">iMoneyAward</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">=10;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">系统奖励，数额固定</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">final</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">int</span></span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">iMoneyWin</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">=2;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">赢取奖励，数额固定</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">public</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;Block(){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">}</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <h3 style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;padding:0px;max-width:100%;font-size:16px;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;line-height:27.68px;">区块链实现</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;line-height:27.68px;">Blockchain</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;line-height:27.68px;">类</span></h3>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;font-size:19px;color:rgb(127,0,85);">import java.util.*;</span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">import</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;blockchain.Block;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">public</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">class</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;BlockChain {</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">用来存储区块</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:31px;"><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">private</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;List&lt;Block&gt; lB</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);"><u>lockchain=new ArrayList&lt;&gt;</u></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">[];&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">public</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;BlockChain(){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">创建新块</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">public</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;Block NewBlock(){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Block bRet=</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">null</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">在这里创建一个新块</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">return</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;bRet;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//Hash&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">一个块</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">public</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;String Hash(Block block){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sHash=</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">null</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">在这里</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">Hash&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">一个块</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">return</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;sHash;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">其他方法</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//....</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">}</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">Blockchain</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">类用来管理链条，它能存储和更新链数据，加入新块等等，下面我们来进一步增加和完善里面的一些方法</span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <h3 style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;padding:0px;max-width:100%;font-size:16px;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;line-height:27.68px;">创建新块和创世块</span></h3>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">当一个用户按照成语接龙的规则，对上上一个成语，并且系统验证这成语正确（工作量被证明）。这个时候我们就可以创建一个新块，并且加到链里面。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;font-size:12px;background:#FFFFFF;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">一旦工作量证明确认，并且上一个块</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">hash&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">生成后，就可以简单调用函数创建一个新块了。</span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">创建新块方法如下：</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">创建新块</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">public</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;">Block</span>&nbsp;NewBlock(</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">int</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;i,String proof,String hash,Timestamp c,String sender,String recipient){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Block bRet=</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">null</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">在这里创建一个新块</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bRet = new Block(i,proof,hash,c,sender,recipient);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">return</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;bRet;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">这里，我们需要提一下创世块的概念，创世块是区块链的第一个区块，它是没有前区块的。逻辑上只在第一个用户第一次启动系统的时候，才需要创建创世块，后面的都是通过同步获得。创世块索引是</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">0</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">，同样需要给它加上一个工作量证明，我们这里就是初始成语“海阔天空”，因为没有前面的块，所以</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">hash=””</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">，同时给一个固定的创建时间。方法如下：</span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">创始块的创建，创世块是一个块，必须是固定的信息</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">逻辑上来说，只有在区块链产品的第一个用户第一次启动的时候，才会需要创建创世块</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">public</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;Block CreateFirstBlock(){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">try</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">{</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Timestamp t=</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">new</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;Timestamp((</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">new</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;java.text.SimpleDateFormat(</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"yyyy-MM-dd HH:mm:ss"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">)).parse(</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"2018-01-01 01:01:01"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">).getTime());</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">return</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;NewBlock(0,</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">海阔天空</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">,</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">""</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">,t,</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">""</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">,</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">""</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">catch</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">(Exception e){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">return</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">null</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">这里顺便贴上生成块的</span>Hash<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">字符串的方法：</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//Hash&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">一个块</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">public</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">static</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;String Hash(Block block){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sHash=</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">null</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">在这里</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">Hash&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">一个块</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String s=block.</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">sPreviousHash</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">+block.</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">sProof</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">+block.</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">sRecipient</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">+block.</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">sSender</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">+block.</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">tsCreateTime</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">.toString();</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sHash =&nbsp;<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;">MD5</span>(s);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">return</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;sHash;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">public</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">static</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;String MD5(String key) {</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">char</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;hexDigits[] = {</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">'0'</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">,&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">'1'</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">,&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">'2'</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">,&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">'3'</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">,&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">'4'</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">,&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">'5'</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">,&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">'6'</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">,&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">'7'</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">,&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">'8'</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">,&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">'9'</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">,&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">'A'</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">,&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">'B'</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">,&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">'C'</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">,</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">'D'</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">,&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">'E'</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">,&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">'F'</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; };</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">try</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;{</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">byte</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">[] btInput = key.getBytes();</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">获得</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">MD5</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">摘要算法的</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">&nbsp;MessageDigest&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">对象</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; java.security.MessageDigest mdInst = java.security.MessageDigest.<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;">getInstance</span>(</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"MD5"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">使用指定的字节更新摘要</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mdInst.update(btInput);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">获得密文</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">byte</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">[] md = mdInst.digest();</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">把密文转换成十六进制的字符串形式</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">int</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;j = md.</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">length</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">char</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;str[] =&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">new</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">char</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">[j * 2];</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">int</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;k = 0;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">for</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;(</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">int</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;i = 0; i &lt; j; i++) {</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">byte</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;byte0 = md[i];</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; str[k++] = hexDigits[byte0 &gt;&gt;&gt; 4 &amp; 0xf];</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; str[k++] = hexDigits[byte0 &amp; 0xf];</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">return</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">new</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;String(str);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">catch</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;(Exception e) {</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">return</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">null</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <h3 style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;padding:0px;max-width:100%;font-size:16px;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;line-height:27.68px;">理解工作量证明</span></h3>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;">新的区块生成，必须依赖工作量证明算法（<span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">PoW</span>）来构造。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">PoW</span>的目标是找出一个能被公认的方法，来证明你所从事工作的正确性。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;">在当前区块链应用中，<span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">PoW</span>经常是被设计成通过寻找某一个符合特定条件的数字来证明，<span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">这个数字可能很难计算出来，但很容易验证</span></span>。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;font-size:12px;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;">这就是工作量证明的核心思想。<span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;"></span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;">为了方便理解，举个例子：</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;">假设一个整数<span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">&nbsp;x&nbsp;</span>乘以另一个整数<span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">&nbsp;y&nbsp;</span>的积的<span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">&nbsp;Hash&nbsp;</span>值必须以两个零<span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">&nbsp;‘00’&nbsp;</span>结尾，即<span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">&nbsp;hash(x * y) = xxxxxx...00</span>。设变量<span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">&nbsp;x = 5</span>，求<span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">&nbsp;y&nbsp;</span>的值？</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;">用<span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">Java</span>实现如下：</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">int</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;x=5;</span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">int</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;y=0;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">while</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">(</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">true</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String md5=BlockChain.<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;">MD5</span>(</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">""</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">+(x*y));</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">if</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">(md5.charAt(md5.length()-1)==</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">'0'</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">break</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; y+=1;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;">}</span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;">最后得出<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;y=69</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;font-size:19px;">因为</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;font-size:19px;">MD5(5*69)=D81F9C1BE2E08964BF9F24B15F0E4900</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;">随着区块链应用的扩展，应该有更多合理的工作量证明算法。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;font-size:11px;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;">在比特币中，使用称为<span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;"><a href="https://en.wikipedia.org/wiki/Hashcash" rel="nofollow" style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;color:rgb(66,133,244);max-width:100%;"><span style="margin:0px;padding:0px;max-width:100%;color:rgb(59,89,153);">Hashcash</span></a></span>的工作量证明算法，它和上面的问题很类似。矿工们为了争夺创建区块的权利而争相计算结果，甚至动用<span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">N</span>台电脑，这就是称之为挖矿。通常，计算难度与目标字符串需要满足的特定字符的数量成正比，矿工算出结果后，会获得比特币奖励。当然，一旦计算出来，会非常容易验证这个结果。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <h3 style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;padding:0px;max-width:100%;font-size:16px;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;line-height:27.68px;">实现我们的工作量证明</span></h3>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">我们的工作量证明，那就比较简单，当用户输入下一个成语的时候，我们打开成语词典或者百度，一查。。。。就可以知道它接的对还是错了。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">从系统上来说，我们可以通过调用外部开发查询接口，或者自带成语词库，来实现这个工作量证明，代码如下（此处引用了一个外部成语真实性查询接口）：</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">验证当前的成语是否符合规则</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;"><u>pre</u></span>&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">前一个成语</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//cur&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">这一个成语</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">public</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">static</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">boolean</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;ValidProof(String pre,String cur){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">验证这个成语的头一个字是不是上一个成语的最后一个字</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">if</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">(cur.charAt(0)!=pre.charAt(pre.length()-1)){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">return</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">false</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">验证是否是成语</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//http://chengyu.t086.com/chaxun.php?q=%B9%E2%C3%F7%D5%FD%B4%F3&amp;t=ChengYu</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String content=<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;">httpRequest</span>(</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"http://chengyu.t086.com/chaxun.php?q="</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">+cur+</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"&amp;t=ChengYu"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">if</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">(content.indexOf(</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">没有找到与您搜索相关的成语</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">)!=-1 || content.indexOf(</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">搜索词太长</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">)!=-1){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">return</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">false</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">return</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">true</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">小结：通过上面的讲解，描述了区块链涉及到的一些新概念，区块，创世块，链式存储，工作量证明，主数据形式和内容，</span>Hash<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">加密等等。同时我们通过“成语接龙”的例子，在例子中用</span>Java<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">构造了相关的类和方法。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">具备了区块链项目的基础组件后，下一步就是将这些组件运行起来，构造一个可以真正运行起来的区块链项目。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <h2 style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;padding:0px;max-width:100%;font-size:16px;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;font-size:21px;">启动一个</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;font-size:21px;">Blockchain</span><span style="margin:0px;padding:0px;max-width:100%;font-size:21px;">项目</span></h2>
  <div>
   <span style="margin:0px;padding:0px;max-width:100%;font-size:21px;"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180620105231718?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3N1cHBlcmxpbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></span>
  </div>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">我们都知道，区块链是一个分布式存储和分布式计算互相结合的技术和产品框架。其核心是去中心化存储。这个意味着，所有区块链的数据都应该存储在用户本地而不是某个中心服务器。所以，一个真正的区块链产品，需要在没有中心服务器支持情况下，解决如下几个基本的问题：</span></p>
  <p class="MsoListParagraph" style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;margin-left:24px;max-width:100%;color:rgb(51,51,51);text-align:left;">1、<span style="font-family:'Times New Roman';margin:0px;padding:0px;max-width:100%;font-size:9px;line-height:normal;">&nbsp;&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">每个用户端启动区块链产品时，如何将区块数据的初始下载到本地；</span></p>
  <p class="MsoListParagraph" style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;margin-left:24px;max-width:100%;color:rgb(51,51,51);text-align:left;">2、<span style="font-family:'Times New Roman';margin:0px;padding:0px;max-width:100%;font-size:9px;line-height:normal;">&nbsp;&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">新增加区块时，区块链内容的更新发布以及不同用户新增区块时间冲突的处理；</span></p>
  <p class="MsoListParagraph" style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;margin-left:24px;max-width:100%;color:rgb(51,51,51);text-align:left;">3、<span style="font-family:'Times New Roman';margin:0px;padding:0px;max-width:100%;font-size:9px;line-height:normal;">&nbsp;&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">日常运行过程中如何保证每个用户端（节点）数据的最新和及时同步；</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <h3 style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;padding:0px;max-width:100%;font-size:16px;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;line-height:27.68px;">创建节点</span></h3>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">区块链项目中，一个正在运行着区块链项目的用户终端，称为一个节点。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">每个用户第一次启动某个区块链项目，就相当于创建了一个节点。而以后每次启动项目，都意味着启动了这个节点。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">为什么说是创建一个节点？原因很简单，区块链的基本思想是去中心化，去中心化的换一种说法，中间任何一个终端，都可以是中心，各自是对等的组网模型，也就是</span>P2P<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">组网模型。因为任何启动的终端，除了需要完成数据下载，使用，运算之外，还需要完成对外提供数据，同步，验证等等功能。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(79,79,79);background:#FFFFFF;">区块链网络系统之所以选择</span><span style="font-family:Arial, sans-serif;margin:0px;padding:0px;max-width:100%;color:rgb(79,79,79);background:#FFFFFF;">P2P</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(79,79,79);background:#FFFFFF;">作为其组网模型，这是由于二者思想的契合度确定的；区块链的根本出发点之一是去中心化，中本聪在他的白皮书里，提到电子现金系统中，第三方系统是多余的，没有价值，意思就是整个系统不要依赖任何特殊的第三方来完成自身系统的运转；而</span><span style="font-family:Arial, sans-serif;margin:0px;padding:0px;max-width:100%;color:rgb(79,79,79);background:#FFFFFF;">P2P</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(79,79,79);background:#FFFFFF;">网络的天然属性，就是全网节点平等，无特殊节点；由于区块链和对等网络的建设思想，高度契合，再加上</span><span style="font-family:Arial, sans-serif;margin:0px;padding:0px;max-width:100%;color:rgb(79,79,79);background:#FFFFFF;">P2P</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(79,79,79);background:#FFFFFF;">网络已经是一个发展成熟的网络技术；二者走到一起，几乎是一种必然。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">所以我们在这个例子里面引入</span>Tomcat<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">，一方面是为了将一些用户操作转换到浏览器，演示方便，另外一方面，是为了方便发布一些对外接口，用来模拟在</span>P2P<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">对等网络之间数据同步。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">首先我们使用</span>Eclipse<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">建立一个动态</span>WEB&nbsp;<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">项目，将上面相关类导入，同时新建一个类似下面的</span>&nbsp;index.jsp&nbsp;<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">欢迎页面</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(191,95,63);">&lt;%@</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,127);">page</span>&nbsp;<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,127);">language</span>=<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;"><span style="margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"java"</span></span>&nbsp;<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,127);">contentType</span>=<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;"><span style="margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"text/html; charset=gb2312"</span></span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,127);">pageEncoding</span>=<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;"><span style="margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"gb2312"</span></span><span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;color:rgb(191,95,63);">%&gt;</span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&lt;!</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,127);">DOCTYPE</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;color:#008080;">html</span>&nbsp;<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;color:#808080;">PUBLIC</span>&nbsp;<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;color:#008080;">"-//W3C//DTD HTML 4.01 Transitional//EN"</span><span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">"http://www.w3.org/TR/html4/loose.dtd"</span><span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;color:#008080;">&gt;</span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&lt;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,127);">html</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&gt;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&lt;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,127);">head</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&gt;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&lt;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,127);">meta</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,127);">http-equiv</span>=<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;"><span style="margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"Content-Type"</span></span>&nbsp;<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,127);">content</span>=<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;"><span style="margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"text/html; charset=ISO-8859-1"</span></span><span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;color:#008080;">&gt;</span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&lt;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,127);">title</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&gt;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">区块链测试</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&lt;/</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,127);">title</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&gt;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&lt;/</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,127);">head</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&gt;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&lt;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,127);">body</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&gt;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(191,95,63);">&lt;%</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;java.util.Date d =&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">new</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;java.util.Date();&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(191,95,63);">%&gt;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&lt;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,127);">h1</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&gt;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">欢迎使用区块链成语接龙。</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&lt;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,127);">br</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&gt;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&lt;/</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,127);">h1</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&gt;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">区块数据同步中，请稍等。。。</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&lt;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,127);">br</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&gt;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(191,95,63);">&lt;%=</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;d.toString()&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(191,95,63);">%&gt;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;!</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&lt;/</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,127);">body</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&gt;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&lt;/</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,127);">html</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:#008080;">&gt;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">发布项目到你安装的</span>Tomcat<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">，启动</span>Tomcat<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">，输入如下地址，当看到如下图所示页面，即创建区块链项目“成语接龙”的节点准备工作已经完成。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;<img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180620105251250?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3N1cHBlcmxpbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">启动区块链应用，创建节点，包括以后每次启动应用，都需要完成的第一个工作，是同步区块链数据到本地或者更新本地区块数据。碰到的第一个问题是，我怎么知道到哪里去同步数据呢，或者说我怎么知道其它可以同步数据的节点的地址呢？</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">找遍百度，很多都说的很模糊，大致是需要</span>&nbsp;node-seed&nbsp;<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">也就是种子节点支持，最后找到了区块链师祖比特币的开发者的一段说明如下：</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180620105320152?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3N1cHBlcmxpbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">翻译成中文，<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;color:rgb(26,26,26);background:#FFFFFF;">简而言之就是在代码里面写死了一个域名数组和IP地址数组，程序启动的时候就去连这些域名和IP。</span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">当然，觉得这种方法可以解决问题，但是，这或多或少使得“去中心化”蒙上了一层淡淡的阴影。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">那么根据我这个例子的模拟环境，我就把公司局域网可能的</span>IP<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">都</span>&nbsp;hard-code&nbsp;<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">在程序里，逐个扫描查找最长链，作为下载区块链数据的扫描地址吧。下面是</span>Java<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">代码：</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">static</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">final</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;String&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">sIPPre</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">=</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"10.70.5."</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">对局域网内的电脑进行扫描，找到最长的链，下载到本地</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">static</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">final</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;String&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">sDataFileDir</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">=</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"c://blockchain"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">本地存储路径</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">从网络读取区块链数据到本地文件</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">public</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">static</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">void</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;DowloadData(){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">检查数据文件目录，不存在就创建</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; File dirFile =&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">new</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;File(</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">sDataFileDir</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">boolean</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;bFile&nbsp;&nbsp; = dirFile.exists();</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">if</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">(!bFile ){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bFile = dirFile.mkdir();</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">往新创建的本地文件里面写一个创世块</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">try</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">{</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FileOutputStream out =&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">new</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;FileOutputStream(</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">new</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;File(dirFile+</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"//data.txt"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">));</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; out.write((BlockChain.<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;">CreateFirstBlock</span>().toInfoString()+</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"\r\n"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">).getBytes());</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out.close();</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">catch</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">(Exception e){&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">扫描周边的节点，找到最长的链，下载到本地</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">int</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;iLastLen=0;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sLastChain=</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">""</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">for</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">(</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">int</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;i=0;i&lt;255;i+=1){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sThisURL=</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"http://"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">+</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">sIPPre</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">+i+</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">":8080/blockchain/chain.jsp"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">out</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">.println(sThisURL);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sChain=<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;">httpRequest</span>(sThisURL);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">if</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">(sChain!=</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">""</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">out</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">.println(sChain);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sTemp[]=sChain.split(</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"##"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">if</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">(sTemp.</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">length</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&gt;iLastLen){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; iLastLen=sTemp.</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">length</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sLastChain=sChain;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">try</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">{</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">if</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">(sLastChain!=</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">""</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FileOutputStream out =&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">new</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;FileOutputStream(</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">new</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;File(dirFile+</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"//data.txt"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">));</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//System.out.println("before:"+sLastChain);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sLastChain=sLastChain.replace(</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"##"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">,&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"\r\n"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//System.out.println("after:"+sLastChain);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out.write((sLastChain+</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"\r\n"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">).getBytes());</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out.close();</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">catch</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">(Exception e){&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">DowloadData<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">（）这个方法，应该在应用启动的时候被调用。也可能在应用执行过程中，后台间隔性被调用。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">你可能马上会发现，多了一个外部接口：</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">http://"+<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;">IP</span>+":8080/blockchain/chain.jsp</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">这个接口是每个节点都需要实现的，用来输出自己节点最新的区块链数据，在平时各个节点彼此互相调用，初始化和同步区块链数据。在本例中，简单实现方法如下：</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">建立一个</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;chain.jsp&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">页面，放到</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">Tomcat&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">路径下，贴上里面主要代码</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(191,95,63);">&lt;%@</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,127);">page</span>&nbsp;<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,127);">language</span>=<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;"><span style="margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"java"</span></span>&nbsp;<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,127);">contentType</span>=<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;"><span style="margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"text/html; charset=gb2312"</span></span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,127);">pageEncoding</span>=<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;"><span style="margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"gb2312"</span></span><span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;color:rgb(191,95,63);">%&gt;&lt;%</span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//java.util.Date d = new java.util.Date();</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">blockchain.BlockChain.LoadData();</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(191,95,63);">%&gt;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(191,95,63);">&lt;%=</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;blockchain.BlockChain.StringBlockchain()&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(191,95,63);">%&gt;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <h3 style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;padding:0px;max-width:100%;font-size:16px;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;line-height:27.68px;">用户怎么挖矿</span></h3>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">到了这一步，可以把我们例子程序稍微完善一下，为后面的“挖矿”概念做准备。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">完善后的产品界面如下</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180620105337783?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3N1cHBlcmxpbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">启动应用，首先是一个数据同步的欢迎页面。此页面用</span>ajax<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">方式实现后台数据同步。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">同步完成后，输入手机号码，进入下一个页面。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180620105637618?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3N1cHBlcmxpbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180620105655977?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3N1cHBlcmxpbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">注意页面下方，增加了一个自动更新区块链功能，也通过</span>ajax<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">实现。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180620105428404?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3N1cHBlcmxpbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">所谓“挖矿”和“矿工”，只不过是借用了比特币里面的相关说法。“矿工”就是用户了，“挖矿”就是用户在这个区块链应用上面做的事情，一般带有一定的价值和目的，目前很多区块链应用，“挖矿”就是完成某个工作，获得系统一些奖励。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">在我们这个演示应用里面，挖矿就是用户根据上一个成语，遵守成语接龙的规则，想出并输入下一个成语，系统验证无误，就会为你在区块链增加一条记录，同时把奖励也给你记录。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">其实把名字取得那么神奇，事实却很简单，系统就是做了以下三件事：</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">1</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">、计算工作量证明</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">PoW</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">，验证用户递交的工作；</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">2</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">、对于“挖矿”成功的用户，通过新增一个区块授予矿工即用户一些分数或者虚拟币奖励；</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">3</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">、构造新区块并将其添加到链中，同步到每个节点。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">代码如下</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">:</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">if</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">(request.getParameter(</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"answer"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">)!=</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">null</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">){&nbsp;&nbsp; //</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">读取到用户的输入</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">加载区块链数据</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; blockchain.BlockChain.LoadData();</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">获取区块链中最后一个成语</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; String sPre=blockchain.BlockChain.lBlockchain.get(blockchain.BlockChain.lBlockchain.size()-1).sProof;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">用户输入的成语</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; String sCur=</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">new</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;String(request.getParameter(</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"answer"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">).getBytes(</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"ISO8859-1"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">),</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"gb2312"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">判断是不是正确答案，如果是，就要创建新块并添加到区块链中</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">if</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">(blockchain.BlockChain.ValidProof(sPre,sCur)){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; blockchain.Block bPre=blockchain.BlockChain.lBlockchain.get(blockchain.BlockChain.lBlockchain.size()-1);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">获取前一个块的</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">Hash</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sHash=blockchain.BlockChain.Hash(bPre);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">创建新块</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; blockchain.Block bCur=blockchain.BlockChain.NewBlock(bPre.iIndex+1, sCur, sHash,&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">new</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;java.sql.Timestamp(System.currentTimeMillis()), bPre.sRecipient, (String)session.getAttribute(</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"mobile"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">));</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">加入区块链并保存到本地文件</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; blockchain.BlockChain.lBlockchain.add(bCur);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; blockchain.BlockChain.WriteData();</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">。。。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; }</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">else</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">{</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">。。。。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">}</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">下面是经过几个接龙后的页面：</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180620105442497?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3N1cHBlcmxpbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">这是可以打开本地区块链数据文件</span>&nbsp;<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">“</span>c:/blockchain/data.txt<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">”可以看到如下内容，为了查看简单，数据文件用明文</span>txt<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">存储。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180620105456566?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3N1cHBlcmxpbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">其中第一条，是创世块的数据，在区块链中，它是根区块。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">在实际项目中，数据文件一般都会以某种较复杂的方式存储，比如采用某种加密方式。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <h2 style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;padding:0px;max-width:100%;font-size:16px;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;font-size:21px;">节点数据一致性（共识算法</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;font-size:21px;">/</span><span style="margin:0px;padding:0px;max-width:100%;font-size:21px;">一致性算法）</span></h2>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">到目前为止我们已经有了一个基本的区块链产品和界面，并且可以做简单的“挖矿”，在应用启动的时候，我们也看到了第一次数据同步和后面每隔一段时间数据同步的实现方法，在一个节点上运行没有问题。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">但是，区块链系统应该是分布式的。既然是分布式的，那么我们就需要考虑究竟拿什么保证所有节点有同样的链呢？这就是一致性问题，我们要想在网络上有很多个节点并且他们的数据保持一致，那就必须实现一个一致性的算法。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <h3 style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;padding:0px;max-width:100%;font-size:16px;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;line-height:27.68px;">实现共识算法（一致性算法）</span></h3>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">单个节点分布在不同的计算机或手机等等终端，各自工作，必然有一些冲突产生。冲突的产生，主要来自两方面，一是链长的不一致，二是链分叉的产生。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">用本例来说明。第一种情况是，每个节点同步后，各自做各自的题目，各自的链数据都在扩展，导致每个人的链长度不一致。还有一种情况是，在某个区块下面，存在不同的都正确的答案，那么，即使长度一致，但链的内容不一致。比如在本例中“海阔天空”后面可以接的成语有很多，比如“空中楼阁”、“空前绝后”、“空口无凭”，他们都是正确的。这种情况下，系统必须定义一个唯一性的算法。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">解决上面问题的算法，称之为“共识算法”或“一致性算法”。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">通过上面的描述，我们知道“共识算法”其实是解决不同用户（或称不同节点）在完成被“工作量证明”算法承认的工作之后，如何公平合理的奖励问题。他必须合理，体现公平、公正。在不同的区块链应用中，在不同的“工作量证明”基础下，其实现方法是不同的，在基于某些复杂的“工作量证明”的区块链应用中，可以想象，这些复杂的“工作量证明”，会导致需要非常复杂的“共识算法”去解决冲突。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">如果每个节点在增加一个新区块的时候，都可以实时同步到每个节点，并且在同步过程中，能锁定其它节点，当然这是最理想的。但事实上，在现实场景中，这很难做到。网上有很多共识性算法讨论，大家可以查询参考，不过很多都存在一个问题，需要中心节点支持，我觉得这个是“去中心化”不可接受的，所以非常不以为然。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">就本例子而言，可以设计一个相对简单的“共识算法”，我们称之为最长链法，为了解决这个问题，规定最长的、有效的链才是最终的链，换句话说，网络中有效最长链才是实际的链。具体实现如下：</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">当一个用户完成一个成语接龙并被系统判断答案正确的时候，他将计划新增一个区块，并且希望添加到区块链中，但这之前，系统会先去扫描当前所有节点目前的链，如果发现存在长度比当前节点加一还要长的链，那么系统认为，当前节点虽然完成了题目，但已经不是最快的那个人了，因此不再承认这次工作的有效性。并且同时同步最长链到本地，提示用户重新做成语接龙。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">这个算法在本例中，理论上是合理的，因为不能说一个用户花了一分钟就回答出来的答案，另外一个花了一天才回答出来，当然后面的就不能说有效了。没有更仔细的想过这个“共识算法”的合理性，作为演示，暂时就那么用一下了。下面说一下在本例中实现需要的两个材料：</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">&nbsp;</span></p>
  <p class="MsoListParagraph" style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;margin-left:52px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;">1、<span style="font-family:'Times New Roman';margin:0px;padding:0px;max-width:100%;line-height:normal;">&nbsp;&nbsp;</span></span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">每个节点需要一个能被扫描后提供它自己的区块链数据的接口，这个其实接口已经有了，就是</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">http:/…/blockchain/chain.jsp</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">，回顾前面，在启动节点的时候用到过；</span></span></p>
  <p class="MsoListParagraph" style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;margin-left:52px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;">2、<span style="font-family:'Times New Roman';margin:0px;padding:0px;max-width:100%;font-size:9px;line-height:normal;">&nbsp;&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">实现一个共识算法方法，在每次“挖矿”完成后，判断工作的有效性。</span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">共识算法如下：</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">共识算法</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">返回</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">&nbsp;true&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">表示当前节点工作可以被认可</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">public</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">static</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">boolean</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;Unanimous(){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">boolean</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;bRet=</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">true</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">扫描周边的节点，找到最长的链，下载到本地</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">int</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;iLastLen=0;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sLastChain=</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">""</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">for</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">(</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">int</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;i=0;i&lt;255;i+=1){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sThisURL=</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"http://"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">+</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">sIPPre</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">+i+</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">":8080/blockchain/chain.jsp"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">out</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">.println(sThisURL);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String sChain=<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;">httpRequest</span>(sThisURL);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">if</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">(sChain!=</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">""</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">out</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">.println(sChain);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; String sTemp[]=sChain.split(</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"##"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">if</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">(sTemp.</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">length</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&gt;iLastLen){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; iLastLen=sTemp.</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">length</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sLastChain=sChain;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BlockChain.<span style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin:0px;padding:0px;max-width:100%;">LoadData</span>();</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">try</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">{</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">如果其它节点存在长度大于本地节</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">点</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">+1</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">的链，则本次</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">“</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">挖矿</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">”</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">无效</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">if</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">(sLastChain!=</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">""</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&amp;&amp; iLastLen &gt;= BlockChain.</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">lBlockchain</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">.size()+1){</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bRet=</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">false</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FileOutputStream out =&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">new</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;FileOutputStream(</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">new</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;File(</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">sDataFileDir</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">+</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"//data.txt"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">));</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sLastChain=sLastChain.replace(</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"##"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">,&nbsp;</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"\r\n"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">);</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out.write((sLastChain+</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"\r\n"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">).getBytes());</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; out.close();</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">catch</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">(Exception e){&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">return</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;bRet;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; }</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">加入“共识算法”后的界面变成如下：</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/20180620105522413?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3N1cHBlcmxpbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">当用户递交一个成语后，系统会通过</span>Ajax<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">首先检测区块链的一致性，一致性通过了，用户递交的这个新的成语，才会加入到区块链。如果发现有更长的链条存在，则系统会提示你慢了一步，已经被抢答了，必须重新开始。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">页面大致如下：</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><img src="https://blog.uzzz.org/_p?https://img-blog.csdn.net/2018062010553839?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3N1cHBlcmxpbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""><br></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <h2 style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-top:10px;margin-bottom:10px;padding:0px;max-width:100%;font-size:16px;color:rgb(51,51,51);text-align:left;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;font-size:21px;">发布和运行区块链成语接龙</span></h2>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">到这里，这个“区块链成语接龙”游戏就基本搭建和测试完成。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">接下来的事情，你可以将此项目打包</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">war</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">，然后发布到你所在局域网不同的节点的机器上，因为环境的支持问题，所以节点必须有</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">Windows+JDK+Tomcat</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">运行环境，将项目打包成</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">&nbsp;blockchain.war</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">，放到你的</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">Tomcat</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">目录</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">&nbsp;webapps</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">下面，然后启动</span><span style="font-family:Verdana, sans-serif;margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">Tomcat</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">，打开你的浏览器，输入：</span></span><a href="http://localhost:8080/blockchain/" rel="nofollow" style="font-family:Verdana, sans-serif;margin:0px;padding:0px;text-decoration:underline;color:rgb(66,133,244);max-width:100%;background:#FFFFFF;"><span style="margin:0px;padding:0px;max-width:100%;">http://localhost:8080/blockchain/</span></a></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">过程不再累述。如果局域网的环境和本地目录结构有所改变，则需要对项目的部分地方稍作修改，比如：</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">对局域网内的电脑进行扫描，找到最长的链，下载到本地</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:28px;"><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">static</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">final</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;String&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">sIPPre</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">=</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"10.70.5."</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">//</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;color:rgb(63,127,95);">本地存储路径</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">static</span>&nbsp;<span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(127,0,85);">final</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">&nbsp;String&nbsp;&nbsp;</span><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(0,0,192);">sDataFileDir</span></span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">=</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;color:rgb(42,0,255);">"c://blockchain"</span><span style="font-family:Consolas;margin:0px;padding:0px;max-width:100%;">;&nbsp; &nbsp;&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><br style="margin:0px;padding:0px;max-width:100%;"></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">好啦，你可以邀请你的同事和朋友们一起来测试你的区块链成语接龙！</span><span style="margin:0px;padding:0px;max-width:100%;"></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;font-size:24px;">总结：</span></span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;text-indent:24px;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">通过搭建一个区块链项目，我们可以了解一个区块链项目启动所需要的所有知识，环境和其基本算法所代表的概念，在例子中，我们一一讲解并且实现，我们可以非常具体地体会到“去中心化”的真实含义。</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;background:#FFFFFF;">事实上，可以在测试过程中，加入很多终端，然后，关闭中间任何一台终端，看这个产品是否还是可以正常运行。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;">&nbsp;</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">虽然如此，在这个过程中，也可以看到有些问题并没有很好和彻底的解决方案，区块链作为一个新起的概念和技术，这个当然也可以理解，同样，这个可以作为我们研究人员进一步仔细考虑的点。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p class="MsoListParagraph" style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;margin-left:24px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;">1、&nbsp;<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">关于种子节点的问题</span></span></p>
  <p class="MsoListParagraph" style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;margin-left:24px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">在任何一个节点启动的时候，如何获得其它节点的位置信息，从而下载和初始化区块链呢？种子节点的存在，的确可以解决这个问题，但种子节点本身，就带有“中心化”这个概念，所以，如果没有种子节点会更加好，但如何实现呢？</span></p>
  <p class="MsoListParagraph" style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;margin-left:24px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p class="MsoListParagraph" style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;margin-left:24px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;">2、&nbsp;<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">关于“工作量证明”</span></span></p>
  <p class="MsoListParagraph" style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;margin-left:24px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">一个技术是否能普及和商业化，或者说对用户对社会是否有真正的价值，就在于它能不能解决我们具体生活场景的问题。区块链里面具体所做的事情，都在“工作量证明”里面，当前很多区块链项目，比如“比特币”，都是用一个计算机化的方式，来描述和做某一种工作，但这类工作的意义究竟有多大，或者其适用性有多大，真的需要思考。这种方式用来产生“虚拟币”是不错，但“虚拟币”有真的价值么？还有就是，真的所有工作，都可以不需要“中心节点”支持么？所以，设计更多的符合人们生活场景的“工作量证明”算法，将大大拓展这个技术的前景。</span></p>
  <p class="MsoListParagraph" style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;margin-left:24px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p class="MsoListParagraph" style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;margin-left:24px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="margin:0px;padding:0px;max-width:100%;">3、&nbsp;<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">关于“共识算法”</span></span></p>
  <p class="MsoListParagraph" style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">“共识算法”和“工作量证明”戚戚相关，但所有“共识算法”都需要考虑解决起码两个问题，当各个节点独自运作的时候，不可避免会产生每个节点区块链不同步的问题，不同步可能在时间上，也可能在“工作量证明”的多重结果上，这两种，需要最终达成共识，使得系统中始终只有一条正确的链，应该说是相当困难。网络有延迟，终端有差异，不同的结果都合理，怎么公平取舍。。。等等。实在不是那么简单的。</span></p>
  <p class="MsoListParagraph" style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;margin-left:24px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p class="MsoListParagraph" style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;margin-left:24px;max-width:100%;color:rgb(51,51,51);text-align:left;">4、<span style="font-family:'Times New Roman';margin:0px;padding:0px;max-width:100%;font-size:9px;line-height:normal;">&nbsp;&nbsp;</span><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">关于巨量区块链数据同步速度</span></p>
  <p class="MsoListParagraph" style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;margin-left:24px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">即使解决了上面</span>1<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">，</span>2<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">，</span>3&nbsp;<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">提出的问题，也存在数据同步速度问题。</span></p>
  <p class="MsoListParagraph" style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;margin-left:24px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;margin-left:24px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">理论上来说，区块链每个节点，应该是数据的全备份。在我们这个例子中，同步数据量比较少，同步节点也不多，所以每次同步时间很短。但是在商用系统中，如果出现大量的节点，大量的数据，这个同步肯定会有时间。一个是节点存储容量问题，一个是同步带宽问题，两者都是不可预料的。目前基于区块链的智能合约开发框架以太访（</span>Ethereum<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">）需要同步的数据已经接近了惊人的</span>100G<span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">，还在不断增长，我下载安装一个同步了一个星期。在如此大的数据两下，简单的同步和拷贝，肯定是不合理的，既会带来巨大的资源浪费，也会带来应用的可使用性及差。所以这里面需要解决的问题还很多。</span></p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;">&nbsp;</p>
  <p style="font-family:'-apple-system', 'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Microsoft Yahei', sans-serif;margin-bottom:0px;max-width:100%;color:rgb(51,51,51);text-align:left;"><span style="font-family:'宋体';margin:0px;padding:0px;max-width:100%;">&nbsp; &nbsp; &nbsp;以上这些，任何一点，仔细研究都是一个巨大的课题，做一个简单那的区块链项目不难，要做好并且做成社会真正有用而非炒作的产品，估计还有很远的路，具体想来都是需要好好解决的问题。让我们一起努力吧。</span></p> 
 </div> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/supperling/article/details/80743092,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/supperling/article/details/80743092,&quot;}">阅读更多</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0d1dbe5a3e5863242418b768d1601633";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
