<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>区块链杂谈—dpos | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="区块链杂谈—dpos" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="最新在研究&nbsp;EOS高吞吐量的杀手锏BFT-DPoS， 之前有分别简单的介绍dpos 和 bft，但是那都是概念的简单介绍， 如果不深入了解的话可能对dpos产生很多偏见误解。本章先来重点讲述下dpos，后面会有文章介绍bft和&nbsp;BFT-DPoS。 本章目的： &nbsp; &nbsp;&nbsp;1. 深入了解dpos的工作机制原理 &nbsp; &nbsp; 2. &nbsp;恶意攻击节点的惩罚机制 &nbsp; &nbsp; 3. 优点 &nbsp;&nbsp;&nbsp;&nbsp;1. 什么是 DPoS DPoS 即 Delegated Proof of Stake 译为股份授权证明。 最早于2013年由比特股Bitshares提出，目的为解决PoW和PoS机制的不足。 2. DPoS 基本原理 对于PoS机制的加密货币，每个节点都可以创建区块，并按照个人的持股比例获得“利息”。DPoS是由被社区选举的可信帐户（受托人，得票数排行前101位）来创建区块。为了成为正式受托人，用户要去社区拉票，获得足够多用户的信任。用户根据自己持有的加密货币数量占总量的百分比来投票。DPoS机制类似于股份制公司，普通股民进不了董事会，要投票选举代表（受托人）代他们做决策。 这101个受托人可以理解为101个矿池，而这101个矿池彼此的权利是完全相等的。那些握着加密货币的用户可以随时通过投票更换这些代表（矿池），只要他们提供的算力不稳定，计算机宕机、或者试图利用手中的权力作恶，他们将会立刻被愤怒的选民门踢出整个系统，而后备代表可以随时顶上去。 3. &nbsp;DPos的处理机制 PoS 股份授权证明机制引入了“受托人”的角色。 DPoS 的运作机制如下： 所有持币者先选出受托人负责签署区块：选举过程比较类似由股东会选举出董事会（101人代表），代替股东会做出日常营运决策。授权董事会后，决策会更有效率 （相较于PoW每10分钟产生一个区块，DPoS每3秒钟即可产生一个区块。） 与PoW相同，DPoS的规则也是最长链胜出。其中每个受托人必须按照生产排程，轮流产生区块，拿一间工厂作为比方，假设排程排定A、Ｂ、Ｃ分别轮早、中、晚班生产，Ａ在晚上是无法刷门禁卡进入厂房生产的，同样地，C在早班时段也是无法进厂房的。 今天有一些恶意的节点生产了分叉区块，假设Ａ、Ｃ都是诚实的节点，只有B节点是恶意的，由于B产生区块的速度（每9秒只能产生1个）慢于A、Ｃ合力产生区块的速度（每9秒产生2个），根据最长链胜出的规则，诚实的节点还是会胜出。 同理，因为一个节点要产生重复两个区块的速度必定慢于诚实区块产生的速度，所以根据最长链胜出的规则，诚实的节点还是会胜出。 如果今天A、Ｂ、Ｃ三个受托人的网络有段时间是碎片化、各自为政的呢？在短期内的确有可能三链并行，但一旦网络连结恢复，短链自然会向最长的链回归。 因为受托可签署人数为奇数，所以两大派系势均力敌僵持不下的情况不会维持太久，最终势必会有其中一方的链更长。 4. 对恶意节点的惩罚 注册成为候选受托人需要支付一笔保证金，就像是参与民意代表选举前缴纳的保证金一样，一般来说担任受托人约两周后才可达到损益平衡，这促进了受托人的稳定性，确保至少会挖满两周的矿。 惩罚机制为：不按排程产生区块的节点将在下一轮被投票剔除，也会被没收之前缴纳的保证金。 DPoS是效率较PoW和PoS更高、产生区块的速度更快； 虽然恶意的节点将在下一轮投票被踢出，但单个恶意区块在短期仍有可能是有效的状态。 短期虽然可能存在恶意区块，但长期下来，可以透过受托人的自主选择来回归链条的有效性 假定现在总共有3个受托人A、Ｂ、Ｃ，D加入排程后，只要确认之前的区块中，有2/3以上个受托人遵循的链是哪条就可以了。 5. 优点 &nbsp;&nbsp;&nbsp;&nbsp; 能耗更低。DPoS机制将节点数量进一步减少到101个，在保证网络安全的前提下，整个网络的能耗进一步降低，网络运行成本最低。 更加去中心化。目前，对于比特币而言，个人挖矿已经不现实了，比特币的算力都集中在几个大的矿池手里，每个矿池都是中心化的，就像DPoS的一个受托人，因此DPoS机制的加密货币更加去中心化。PoS机制的加密货币（比如未来币），要求用户开着客户端，事实上用户并不会天天开着电脑，因此真正的网络节点是由几个股东保持的，去中心化程度也不能与DPoS机制的加密货币相比。 更快的确认速度。每个块的时间为10秒，一笔交易（在得到6-10个确认后）大概1分钟，一个完整的101个块的周期大概仅仅需要16分钟。而比特币（PoW机制）产生一个区块需要10分钟，一笔交易完成（6个区块确认后）需要1个小时。点点币（PoS机制）确认一笔交易大概也需要1小时。 好了本章结束，下章见 go 实现简单的dpos。 阅读更多" />
<meta property="og:description" content="最新在研究&nbsp;EOS高吞吐量的杀手锏BFT-DPoS， 之前有分别简单的介绍dpos 和 bft，但是那都是概念的简单介绍， 如果不深入了解的话可能对dpos产生很多偏见误解。本章先来重点讲述下dpos，后面会有文章介绍bft和&nbsp;BFT-DPoS。 本章目的： &nbsp; &nbsp;&nbsp;1. 深入了解dpos的工作机制原理 &nbsp; &nbsp; 2. &nbsp;恶意攻击节点的惩罚机制 &nbsp; &nbsp; 3. 优点 &nbsp;&nbsp;&nbsp;&nbsp;1. 什么是 DPoS DPoS 即 Delegated Proof of Stake 译为股份授权证明。 最早于2013年由比特股Bitshares提出，目的为解决PoW和PoS机制的不足。 2. DPoS 基本原理 对于PoS机制的加密货币，每个节点都可以创建区块，并按照个人的持股比例获得“利息”。DPoS是由被社区选举的可信帐户（受托人，得票数排行前101位）来创建区块。为了成为正式受托人，用户要去社区拉票，获得足够多用户的信任。用户根据自己持有的加密货币数量占总量的百分比来投票。DPoS机制类似于股份制公司，普通股民进不了董事会，要投票选举代表（受托人）代他们做决策。 这101个受托人可以理解为101个矿池，而这101个矿池彼此的权利是完全相等的。那些握着加密货币的用户可以随时通过投票更换这些代表（矿池），只要他们提供的算力不稳定，计算机宕机、或者试图利用手中的权力作恶，他们将会立刻被愤怒的选民门踢出整个系统，而后备代表可以随时顶上去。 3. &nbsp;DPos的处理机制 PoS 股份授权证明机制引入了“受托人”的角色。 DPoS 的运作机制如下： 所有持币者先选出受托人负责签署区块：选举过程比较类似由股东会选举出董事会（101人代表），代替股东会做出日常营运决策。授权董事会后，决策会更有效率 （相较于PoW每10分钟产生一个区块，DPoS每3秒钟即可产生一个区块。） 与PoW相同，DPoS的规则也是最长链胜出。其中每个受托人必须按照生产排程，轮流产生区块，拿一间工厂作为比方，假设排程排定A、Ｂ、Ｃ分别轮早、中、晚班生产，Ａ在晚上是无法刷门禁卡进入厂房生产的，同样地，C在早班时段也是无法进厂房的。 今天有一些恶意的节点生产了分叉区块，假设Ａ、Ｃ都是诚实的节点，只有B节点是恶意的，由于B产生区块的速度（每9秒只能产生1个）慢于A、Ｃ合力产生区块的速度（每9秒产生2个），根据最长链胜出的规则，诚实的节点还是会胜出。 同理，因为一个节点要产生重复两个区块的速度必定慢于诚实区块产生的速度，所以根据最长链胜出的规则，诚实的节点还是会胜出。 如果今天A、Ｂ、Ｃ三个受托人的网络有段时间是碎片化、各自为政的呢？在短期内的确有可能三链并行，但一旦网络连结恢复，短链自然会向最长的链回归。 因为受托可签署人数为奇数，所以两大派系势均力敌僵持不下的情况不会维持太久，最终势必会有其中一方的链更长。 4. 对恶意节点的惩罚 注册成为候选受托人需要支付一笔保证金，就像是参与民意代表选举前缴纳的保证金一样，一般来说担任受托人约两周后才可达到损益平衡，这促进了受托人的稳定性，确保至少会挖满两周的矿。 惩罚机制为：不按排程产生区块的节点将在下一轮被投票剔除，也会被没收之前缴纳的保证金。 DPoS是效率较PoW和PoS更高、产生区块的速度更快； 虽然恶意的节点将在下一轮投票被踢出，但单个恶意区块在短期仍有可能是有效的状态。 短期虽然可能存在恶意区块，但长期下来，可以透过受托人的自主选择来回归链条的有效性 假定现在总共有3个受托人A、Ｂ、Ｃ，D加入排程后，只要确认之前的区块中，有2/3以上个受托人遵循的链是哪条就可以了。 5. 优点 &nbsp;&nbsp;&nbsp;&nbsp; 能耗更低。DPoS机制将节点数量进一步减少到101个，在保证网络安全的前提下，整个网络的能耗进一步降低，网络运行成本最低。 更加去中心化。目前，对于比特币而言，个人挖矿已经不现实了，比特币的算力都集中在几个大的矿池手里，每个矿池都是中心化的，就像DPoS的一个受托人，因此DPoS机制的加密货币更加去中心化。PoS机制的加密货币（比如未来币），要求用户开着客户端，事实上用户并不会天天开着电脑，因此真正的网络节点是由几个股东保持的，去中心化程度也不能与DPoS机制的加密货币相比。 更快的确认速度。每个块的时间为10秒，一笔交易（在得到6-10个确认后）大概1分钟，一个完整的101个块的周期大概仅仅需要16分钟。而比特币（PoW机制）产生一个区块需要10分钟，一笔交易完成（6个区块确认后）需要1个小时。点点币（PoS机制）确认一笔交易大概也需要1小时。 好了本章结束，下章见 go 实现简单的dpos。 阅读更多" />
<link rel="canonical" href="https://mlh.app/2018/06/10/cb44744dedd4933060ee4f73f4a5db17.html" />
<meta property="og:url" content="https://mlh.app/2018/06/10/cb44744dedd4933060ee4f73f4a5db17.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-06-10T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"最新在研究&nbsp;EOS高吞吐量的杀手锏BFT-DPoS， 之前有分别简单的介绍dpos 和 bft，但是那都是概念的简单介绍， 如果不深入了解的话可能对dpos产生很多偏见误解。本章先来重点讲述下dpos，后面会有文章介绍bft和&nbsp;BFT-DPoS。 本章目的： &nbsp; &nbsp;&nbsp;1. 深入了解dpos的工作机制原理 &nbsp; &nbsp; 2. &nbsp;恶意攻击节点的惩罚机制 &nbsp; &nbsp; 3. 优点 &nbsp;&nbsp;&nbsp;&nbsp;1. 什么是 DPoS DPoS 即 Delegated Proof of Stake 译为股份授权证明。 最早于2013年由比特股Bitshares提出，目的为解决PoW和PoS机制的不足。 2. DPoS 基本原理 对于PoS机制的加密货币，每个节点都可以创建区块，并按照个人的持股比例获得“利息”。DPoS是由被社区选举的可信帐户（受托人，得票数排行前101位）来创建区块。为了成为正式受托人，用户要去社区拉票，获得足够多用户的信任。用户根据自己持有的加密货币数量占总量的百分比来投票。DPoS机制类似于股份制公司，普通股民进不了董事会，要投票选举代表（受托人）代他们做决策。 这101个受托人可以理解为101个矿池，而这101个矿池彼此的权利是完全相等的。那些握着加密货币的用户可以随时通过投票更换这些代表（矿池），只要他们提供的算力不稳定，计算机宕机、或者试图利用手中的权力作恶，他们将会立刻被愤怒的选民门踢出整个系统，而后备代表可以随时顶上去。 3. &nbsp;DPos的处理机制 PoS 股份授权证明机制引入了“受托人”的角色。 DPoS 的运作机制如下： 所有持币者先选出受托人负责签署区块：选举过程比较类似由股东会选举出董事会（101人代表），代替股东会做出日常营运决策。授权董事会后，决策会更有效率 （相较于PoW每10分钟产生一个区块，DPoS每3秒钟即可产生一个区块。） 与PoW相同，DPoS的规则也是最长链胜出。其中每个受托人必须按照生产排程，轮流产生区块，拿一间工厂作为比方，假设排程排定A、Ｂ、Ｃ分别轮早、中、晚班生产，Ａ在晚上是无法刷门禁卡进入厂房生产的，同样地，C在早班时段也是无法进厂房的。 今天有一些恶意的节点生产了分叉区块，假设Ａ、Ｃ都是诚实的节点，只有B节点是恶意的，由于B产生区块的速度（每9秒只能产生1个）慢于A、Ｃ合力产生区块的速度（每9秒产生2个），根据最长链胜出的规则，诚实的节点还是会胜出。 同理，因为一个节点要产生重复两个区块的速度必定慢于诚实区块产生的速度，所以根据最长链胜出的规则，诚实的节点还是会胜出。 如果今天A、Ｂ、Ｃ三个受托人的网络有段时间是碎片化、各自为政的呢？在短期内的确有可能三链并行，但一旦网络连结恢复，短链自然会向最长的链回归。 因为受托可签署人数为奇数，所以两大派系势均力敌僵持不下的情况不会维持太久，最终势必会有其中一方的链更长。 4. 对恶意节点的惩罚 注册成为候选受托人需要支付一笔保证金，就像是参与民意代表选举前缴纳的保证金一样，一般来说担任受托人约两周后才可达到损益平衡，这促进了受托人的稳定性，确保至少会挖满两周的矿。 惩罚机制为：不按排程产生区块的节点将在下一轮被投票剔除，也会被没收之前缴纳的保证金。 DPoS是效率较PoW和PoS更高、产生区块的速度更快； 虽然恶意的节点将在下一轮投票被踢出，但单个恶意区块在短期仍有可能是有效的状态。 短期虽然可能存在恶意区块，但长期下来，可以透过受托人的自主选择来回归链条的有效性 假定现在总共有3个受托人A、Ｂ、Ｃ，D加入排程后，只要确认之前的区块中，有2/3以上个受托人遵循的链是哪条就可以了。 5. 优点 &nbsp;&nbsp;&nbsp;&nbsp; 能耗更低。DPoS机制将节点数量进一步减少到101个，在保证网络安全的前提下，整个网络的能耗进一步降低，网络运行成本最低。 更加去中心化。目前，对于比特币而言，个人挖矿已经不现实了，比特币的算力都集中在几个大的矿池手里，每个矿池都是中心化的，就像DPoS的一个受托人，因此DPoS机制的加密货币更加去中心化。PoS机制的加密货币（比如未来币），要求用户开着客户端，事实上用户并不会天天开着电脑，因此真正的网络节点是由几个股东保持的，去中心化程度也不能与DPoS机制的加密货币相比。 更快的确认速度。每个块的时间为10秒，一笔交易（在得到6-10个确认后）大概1分钟，一个完整的101个块的周期大概仅仅需要16分钟。而比特币（PoW机制）产生一个区块需要10分钟，一笔交易完成（6个区块确认后）需要1个小时。点点币（PoS机制）确认一笔交易大概也需要1小时。 好了本章结束，下章见 go 实现简单的dpos。 阅读更多","@type":"BlogPosting","url":"https://mlh.app/2018/06/10/cb44744dedd4933060ee4f73f4a5db17.html","headline":"区块链杂谈—dpos","dateModified":"2018-06-10T00:00:00+08:00","datePublished":"2018-06-10T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2018/06/10/cb44744dedd4933060ee4f73f4a5db17.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>区块链杂谈---dpos</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css"> 
 <div class="htmledit_views"> 
  <p>最新在研究<span style="color:#000000;">&nbsp;</span><span style="font-size:14px;"><span style="color:#000000;"><span style="font-family:'Microsoft Yahei', SimSun, sans-serif;"><span style="font-family:'Microsoft YaHei', SimHei, Verdana, Arial, sans-serif;line-height:30px;"><span style="line-height:30px;">EOS</span></span></span><span style="font-family:'Microsoft Yahei', SimSun, sans-serif;"><span style="font-family:'Microsoft YaHei', SimHei, Verdana, Arial, sans-serif;line-height:30px;"><span style="line-height:30px;">高吞吐量的杀手锏</span></span></span></span><span style="font-family:'Microsoft Yahei', SimSun, sans-serif;"><span style="font-family:'Microsoft YaHei', SimHei, Verdana, Arial, sans-serif;line-height:30px;"><span style="line-height:30px;"><span style="color:#ff0000;">BFT-DPoS， </span><span style="color:#000000;">之前有分别简单的介绍</span><span style="color:#ff0000;">dpos</span><span style="color:#000000;"> 和 </span><span style="color:#ff0000;">bft</span><span style="color:#000000;">，但是那都是概念的简单介绍，</span></span></span></span></span></p>
  <p><span style="color:rgb(0,0,0);font-family:'Microsoft YaHei', SimHei, Verdana, Arial, sans-serif;font-size:14px;">如果不深入了解的话可能对dpos产生很多偏见误解。本章先来重点讲述下</span><span style="font-family:'Microsoft YaHei', SimHei, Verdana, Arial, sans-serif;font-size:14px;"><span style="color:#ff0000;">dpos</span></span><span style="color:rgb(0,0,0);font-family:'Microsoft YaHei', SimHei, Verdana, Arial, sans-serif;font-size:14px;">，后面会有文章介绍</span><span style="font-family:'Microsoft YaHei', SimHei, Verdana, Arial, sans-serif;font-size:14px;"><span style="color:#ff0000;">bft</span></span><span style="color:rgb(0,0,0);font-family:'Microsoft YaHei', SimHei, Verdana, Arial, sans-serif;font-size:14px;">和&nbsp;<span style="color:rgb(255,0,0);font-family:'Microsoft YaHei', SimHei, Verdana, Arial, sans-serif;font-size:14px;">BFT-DPoS。</span></span></p>
  <p><strong style="color:rgb(255,0,0);font-family:'Microsoft YaHei', SimHei, Verdana, Arial, sans-serif;"><br></strong></p>
  <p><span style="font-family:'Microsoft YaHei', SimHei, Verdana, Arial, sans-serif;"><span style="font-size:16px;color:#000000;"><strong>本章目的：</strong></span></span></p>
  <p><span style="font-family:'Microsoft YaHei', SimHei, Verdana, Arial, sans-serif;"><span style="font-size:16px;color:#000000;"><strong>&nbsp; &nbsp;</strong>&nbsp;1. 深入</span><span style="font-size:14px;color:#000000;">了解dpos的工作机制原理</span></span></p>
  <p><span style="font-family:'Microsoft YaHei', SimHei, Verdana, Arial, sans-serif;"><span style="font-size:14px;color:#000000;">&nbsp; &nbsp; 2. &nbsp;恶意攻击节点的惩罚机制</span></span></p>
  <p><span style="font-family:'Microsoft YaHei', SimHei, Verdana, Arial, sans-serif;"><span style="font-size:14px;color:#000000;">&nbsp; &nbsp; 3. 优点</span></span></p>
  <p><strong style="color:rgb(51,51,51);font-family:'ff-tisa-web-pro-1', 'ff-tisa-web-pro-2', 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;"><span style="font-size:16px;">&nbsp;&nbsp;&nbsp;&nbsp;1. 什么是 DPoS</span></strong></p>
  <p><span style="color:rgb(0,0,0);font-family:'Microsoft YaHei', SimHei, Verdana, Arial, sans-serif;"><strong></strong></span></p>
  <p style="font-size:14px;border:0px;font-family:'ff-tisa-web-pro-1', 'ff-tisa-web-pro-2', 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;line-height:1.7em;vertical-align:baseline;color:rgb(51,51,51);">DPoS 即 Delegated Proof of Stake 译为股份授权证明。 最早于2013年由比特股Bitshares提出，目的为解决PoW和PoS机制的不足。</p>
  <p style="border:0px;font-family:'ff-tisa-web-pro-1', 'ff-tisa-web-pro-2', 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;line-height:1.7em;vertical-align:baseline;color:rgb(51,51,51);"><span style="font-weight:bold;"><span style="font-size:16px;">2. DPoS 基本原理</span></span></p>
  <p style="font-size:14px;border:0px;font-family:'ff-tisa-web-pro-1', 'ff-tisa-web-pro-2', 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;line-height:1.7em;vertical-align:baseline;color:rgb(51,51,51);">对于PoS机制的加密货币，每个节点都可以创建区块，并按照个人的持股比例获得“利息”。DPoS是由被社区选举的可信帐户（受托人，得票数排行前101位）来创建区块。为了成为正式受托人，用户要去社区拉票，获得足够多用户的信任。用户根据自己持有的加密货币数量占总量的百分比来投票。DPoS机制类似于股份制公司，普通股民进不了董事会，要投票选举代表（受托人）代他们做决策。</p>
  <p style="font-size:14px;border:0px;font-family:'ff-tisa-web-pro-1', 'ff-tisa-web-pro-2', 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;line-height:1.7em;vertical-align:baseline;color:rgb(51,51,51);">这101个受托人可以理解为101个矿池，而这101个矿池彼此的权利是完全相等的。那些握着加密货币的用户可以随时通过投票更换这些代表（矿池），只要他们提供的算力不稳定，计算机宕机、或者试图利用手中的权力作恶，他们将会立刻被愤怒的选民门踢出整个系统，而后备代表可以随时顶上去。</p>
  <p style="font-size:14px;border:0px;font-family:'ff-tisa-web-pro-1', 'ff-tisa-web-pro-2', 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;line-height:1.7em;vertical-align:baseline;color:rgb(51,51,51);"><strong style="font-size:16px;"><span style="font-size:16px;">3. &nbsp;DPos的处理机制</span></strong></p>
  <p style="border:0px;font-family:'ff-tisa-web-pro-1', 'ff-tisa-web-pro-2', 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;line-height:1.7em;vertical-align:baseline;color:rgb(51,51,51);"><strong style="font-size:16px;"><span style="font-size:16px;"></span></strong></p>
  <p style="border:0px;font-family:'ff-tisa-web-pro-1', 'ff-tisa-web-pro-2', 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;font-size:14px;line-height:1.7em;vertical-align:baseline;color:rgb(51,51,51);">PoS 股份授权证明机制引入了“受托人”的角色。</p>
  <p style="border:0px;font-family:'ff-tisa-web-pro-1', 'ff-tisa-web-pro-2', 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;font-size:14px;line-height:1.7em;vertical-align:baseline;color:rgb(51,51,51);">DPoS 的运作机制如下：</p>
  <ol style="margin-left:2.5em;border:0px;font-family:'ff-tisa-web-pro-1', 'ff-tisa-web-pro-2', 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;font-size:14px;line-height:inherit;vertical-align:baseline;color:rgb(51,51,51);">
   <li style="border:0px;font-family:inherit;font-style:inherit;line-height:1.6em;vertical-align:baseline;"><p style="border:0px;font-family:inherit;font-style:inherit;line-height:1.7em;vertical-align:baseline;">所有持币者先选出受托人负责签署区块：选举过程比较类似由股东会选举出董事会（101人代表），代替股东会做出日常营运决策。授权董事会后，决策会更有效率 （相较于PoW每10分钟产生一个区块，DPoS每3秒钟即可产生一个区块。）</p></li>
   <li style="border:0px;font-family:inherit;font-style:inherit;line-height:1.6em;vertical-align:baseline;"><p style="border:0px;font-family:inherit;font-style:inherit;line-height:1.7em;vertical-align:baseline;">与PoW相同，DPoS的规则也是最长链胜出。其中每个受托人必须按照生产排程，轮流产生区块，拿一间工厂作为比方，假设排程排定A、Ｂ、Ｃ分别轮早、中、晚班生产，Ａ在晚上是无法刷门禁卡进入厂房生产的，同样地，C在早班时段也是无法进厂房的。</p><p style="border:0px;font-family:inherit;font-style:inherit;line-height:1.7em;vertical-align:baseline;"><img src="http://olgjbx93m.bkt.clouddn.com/WX20180419-150338.png" alt="" style="margin-left:auto;border:0px;font-family:inherit;font-style:inherit;line-height:inherit;vertical-align:baseline;text-align:center;"></p></li>
   <li style="border:0px;font-family:inherit;font-style:inherit;line-height:1.6em;vertical-align:baseline;"><p style="border:0px;font-family:inherit;font-style:inherit;line-height:1.7em;vertical-align:baseline;">今天有一些恶意的节点生产了分叉区块，假设Ａ、Ｃ都是诚实的节点，只有B节点是恶意的，由于B产生区块的速度（每9秒只能产生1个）慢于A、Ｃ合力产生区块的速度（每9秒产生2个），根据最长链胜出的规则，诚实的节点还是会胜出。</p><p style="border:0px;font-family:inherit;font-style:inherit;line-height:1.7em;vertical-align:baseline;"><img src="http://olgjbx93m.bkt.clouddn.com/WX20180419-150411.png" alt="" style="margin-left:auto;border:0px;font-family:inherit;font-style:inherit;line-height:inherit;vertical-align:baseline;text-align:center;"></p></li>
   <li style="border:0px;font-family:inherit;font-style:inherit;line-height:1.6em;vertical-align:baseline;"><p style="border:0px;font-family:inherit;font-style:inherit;line-height:1.7em;vertical-align:baseline;">同理，因为一个节点要产生重复两个区块的速度必定慢于诚实区块产生的速度，所以根据最长链胜出的规则，诚实的节点还是会胜出。</p><p style="border:0px;font-family:inherit;font-style:inherit;line-height:1.7em;vertical-align:baseline;"><img src="http://olgjbx93m.bkt.clouddn.com/WX20180419-150425.png" alt="" style="margin-left:auto;border:0px;font-family:inherit;font-style:inherit;line-height:inherit;vertical-align:baseline;text-align:center;"></p></li>
   <li style="border:0px;font-family:inherit;font-style:inherit;line-height:1.6em;vertical-align:baseline;"><p style="border:0px;font-family:inherit;font-style:inherit;line-height:1.7em;vertical-align:baseline;">如果今天A、Ｂ、Ｃ三个受托人的网络有段时间是碎片化、各自为政的呢？在短期内的确有可能三链并行，但一旦网络连结恢复，短链自然会向最长的链回归。</p><p style="border:0px;font-family:inherit;font-style:inherit;line-height:1.7em;vertical-align:baseline;"><img src="http://olgjbx93m.bkt.clouddn.com/WX20180419-150435.png" alt="" style="margin-left:auto;border:0px;font-family:inherit;font-style:inherit;line-height:inherit;vertical-align:baseline;text-align:center;"></p></li>
  </ol>
  <p style="border:0px;font-family:'ff-tisa-web-pro-1', 'ff-tisa-web-pro-2', 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;font-size:14px;line-height:1.7em;vertical-align:baseline;color:rgb(51,51,51);">因为受托可签署人数为奇数，所以两大派系势均力敌僵持不下的情况不会维持太久，最终势必会有其中一方的链更长。</p>
  <p style="font-size:14px;"><strong style="font-size:16px;"><span style="font-size:16px;">4. 对恶意节点的惩罚</span></strong></p>
  <p><strong><span style="font-size:16px;"></span></strong></p>
  <p style="font-size:14px;border:0px;font-family:'ff-tisa-web-pro-1', 'ff-tisa-web-pro-2', 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;line-height:1.7em;vertical-align:baseline;color:rgb(51,51,51);">注册成为候选受托人需要支付一笔保证金，就像是参与民意代表选举前缴纳的保证金一样，一般来说担任受托人约两周后才可达到损益平衡，这促进了受托人的稳定性，确保至少会挖满两周的矿。</p>
  <p style="font-size:14px;border:0px;font-family:'ff-tisa-web-pro-1', 'ff-tisa-web-pro-2', 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;line-height:1.7em;vertical-align:baseline;color:rgb(51,51,51);">惩罚机制为：不按排程产生区块的节点将在下一轮被投票剔除，也会被没收之前缴纳的保证金。</p>
  <p style="font-size:14px;border:0px;font-family:'ff-tisa-web-pro-1', 'ff-tisa-web-pro-2', 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;line-height:1.7em;vertical-align:baseline;color:rgb(51,51,51);">DPoS是效率较PoW和PoS更高、产生区块的速度更快；</p>
  <p style="font-size:14px;border:0px;font-family:'ff-tisa-web-pro-1', 'ff-tisa-web-pro-2', 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;line-height:1.7em;vertical-align:baseline;color:rgb(51,51,51);">虽然恶意的节点将在下一轮投票被踢出，但单个恶意区块在短期仍有可能是有效的状态。</p>
  <p style="font-size:14px;border:0px;font-family:'ff-tisa-web-pro-1', 'ff-tisa-web-pro-2', 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;line-height:1.7em;vertical-align:baseline;color:rgb(51,51,51);">短期虽然可能存在恶意区块，但长期下来，可以透过受托人的自主选择来回归链条的有效性</p>
  <p style="font-size:14px;border:0px;font-family:'ff-tisa-web-pro-1', 'ff-tisa-web-pro-2', 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;line-height:1.7em;vertical-align:baseline;color:rgb(51,51,51);">假定现在总共有3个受托人A、Ｂ、Ｃ，D加入排程后，只要确认之前的区块中，有2/3以上个受托人遵循的链是哪条就可以了。</p>
  <p style="font-size:14px;border:0px;font-family:'ff-tisa-web-pro-1', 'ff-tisa-web-pro-2', 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;line-height:1.7em;vertical-align:baseline;color:rgb(51,51,51);"><strong><br></strong></p>
  <h5><strong>5. 优点</strong></h5>
  <p>&nbsp;&nbsp;&nbsp;&nbsp;</p>
  <ol style="margin-left:2.5em;border:0px;font-family:'ff-tisa-web-pro-1', 'ff-tisa-web-pro-2', 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;font-size:14px;line-height:inherit;vertical-align:baseline;color:rgb(51,51,51);">
   <li style="border:0px;font-family:inherit;font-style:inherit;line-height:1.6em;vertical-align:baseline;"><p style="border:0px;font-family:inherit;font-style:inherit;line-height:1.7em;vertical-align:baseline;">能耗更低。DPoS机制将节点数量进一步减少到101个，在保证网络安全的前提下，整个网络的能耗进一步降低，网络运行成本最低。</p></li>
   <li style="border:0px;font-family:inherit;font-style:inherit;line-height:1.6em;vertical-align:baseline;"><p style="border:0px;font-family:inherit;font-style:inherit;line-height:1.7em;vertical-align:baseline;">更加去中心化。目前，对于比特币而言，个人挖矿已经不现实了，比特币的算力都集中在几个大的矿池手里，每个矿池都是中心化的，就像DPoS的一个受托人，因此DPoS机制的加密货币更加去中心化。PoS机制的加密货币（比如未来币），要求用户开着客户端，事实上用户并不会天天开着电脑，因此真正的网络节点是由几个股东保持的，去中心化程度也不能与DPoS机制的加密货币相比。</p></li>
   <li style="border:0px;font-family:inherit;font-style:inherit;line-height:1.6em;vertical-align:baseline;"><p style="border:0px;font-family:inherit;font-style:inherit;line-height:1.7em;vertical-align:baseline;">更快的确认速度。每个块的时间为10秒，一笔交易（在得到6-10个确认后）大概1分钟，一个完整的101个块的周期大概仅仅需要16分钟。而比特币（PoW机制）产生一个区块需要10分钟，一笔交易完成（6个区块确认后）需要1个小时。点点币（PoS机制）确认一笔交易大概也需要1小时。</p></li>
  </ol>
  <p style="font-size:14px;border:0px;font-family:'ff-tisa-web-pro-1', 'ff-tisa-web-pro-2', 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;line-height:1.7em;vertical-align:baseline;color:rgb(51,51,51);"><br></p>
  <p><span style="font-family:'ff-tisa-web-pro-1', 'ff-tisa-web-pro-2', 'Lucida Grande', 'Hiragino Sans GB', 'Hiragino Sans GB W3', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;font-size:16px;"><span><strong>好了本章结束，下章见 go 实现简单的dpos。</strong></span></span></p> 
 </div> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/weixin_41806245/article/details/80642086,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/weixin_41806245/article/details/80642086,&quot;}">阅读更多</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0d1dbe5a3e5863242418b768d1601633";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
