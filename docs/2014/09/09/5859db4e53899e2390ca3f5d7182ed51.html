<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>c++中局部变量未初始化引发的离奇惨案~~ | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="c++中局部变量未初始化引发的离奇惨案~~" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="今天在调试一段全志原厂的android hardware test代码时，碰到个奇异的问题，最后查出由于局部变量未初始化造成的， 写了个简单的重现test： #include &lt;stdio.h&gt; #include &lt;pthread.h&gt; typedef struct buf{ char* datas[5]; int n; }buf_t; buf_t buffer; void* thr_func(void* arg){ int index; printf(&quot;index=%d\n&quot;, index); printf(&quot;pdata=%p\n&quot;, buffer.datas[index], index); return (void*)0; } int main() { pthread_t pid; pthread_create(&amp;pid, NULL, thr_func, NULL); if(pid !=0) { pthread_join(pid,NULL); } return 0; }在&nbsp;gcc (Ubuntu/Linaro 4.6.3-1ubuntu5) 4.6.3 下测试得到结果： index=32605 Segmentation fault (core dumped) 可使用gdb 调试获取更多信息！ 发现问题的工程代码片段： 代码：printf为我添加的调试log； thread_func(){ int read_id; .... whle（）{ printf(&quot;++++++++++++++ dump yuv data: %p, %d&quot;, gBufMrgQ.omx_bufhead[read_id].buf_info.addrY, mWidth*mHeight*3/2); } } 原来的代码。。。。 编译警告信息：&nbsp; hardware/aw/AWcodecTest/AWcodecTest.cpp:303:1: warning: &#39;read_id&#39; may be used uninitialized in this function [-Wmaybe-uninitialized] 运行时的崩溃信息： F/libc ( 4389): Fatal signal 11 (SIGSEGV) at 0xe6a65658 (code=1), thread 4391 (awcodec_test) I/DEBUG ( 1442): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** I/DEBUG ( 1442): Build fingerprint: &#39;softwinners/mars_A31/mars-A31:4.4.2/KOT49H/20140801:eng/test-keys&#39; I/DEBUG ( 1442): Revision: &#39;13&#39; I/DEBUG ( 1442): pid: 4389, tid: 4391, name: awcodec_test &gt;&gt;&gt; ./awcodec_test &lt;&lt;&lt; I/DEBUG ( 1442): AM write failure (32 / Broken pipe) I/DEBUG ( 1442): signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr e6a65658 W/NativeCrashListener( 1957): Couldn&#39;t find ProcessRecord for pid 4389 I/DEBUG ( 1442): r0 00070800 r1 00001186 r2 00001213 r3 00000000 I/DEBUG ( 1442): r4 b6ff2008 r5 00000050 r6 2fa73650 r7 b6ff2164 I/DEBUG ( 1442): r8 b6fee3e1 r9 b5d8a000 sl b6ff2174 fp b6fb72ec I/DEBUG ( 1442): ip b6ff1f44 sp b5e87d10 lr b6fee451 pc b6fee45a cpsr 600e0030 I/DEBUG ( 1442): d0 3830303266663662 d1 000000000000000b I/DEBUG ( 1442): d2 6f6f6c206f67202c d3 2e2e2e2e2e2e2e70 I/DEBUG ( 1442): d4 3ff0000000000000 d5 0000000000000000 I/DEBUG ( 1442): d6 0000000000000000 d7 4a40000000000000 I/DEBUG ( 1442): d8 0000000000000000 d9 0000000000000000 I/DEBUG ( 1442): d10 0000000000000000 d11 0000000000000000 I/DEBUG ( 1442): d12 0000000000000000 d13 0000000000000000 I/DEBUG ( 1442): d14 0000000000000000 d15 0000000000000000 I/DEBUG ( 1442): d16 3fe0000000000000 d17 000000000000000b I/DEBUG ( 1442): d18 41c0e6bd89800000 d19 0000000000000000 I/DEBUG ( 1442): d20 0000000000000000 d21 0000000000000000 I/DEBUG ( 1442): d22 0000000000000000 d23 0000000000000000 I/DEBUG ( 1442): d24 0000000000000000 d25 0000000000000000 I/DEBUG ( 1442): d26 0000000000000000 d27 0000000000000000 I/DEBUG ( 1442): d28 0000000000000000 d29 0000000000000000 I/DEBUG ( 1442): d30 0000000000000000 d31 0000000000000000 I/DEBUG ( 1442): scr 00000010 I/DEBUG ( 1442): I/DEBUG ( 1442): backtrace: I/DEBUG ( 1442): #00 pc 0000145a /data/test/awcodec_test I/DEBUG ( 1442): #01 pc 0000d240 /system/lib/libc.so (__thread_entry+72) I/DEBUG ( 1442): #02 pc 0000d3dc /system/lib/libc.so (pthread_create+240) I/DEBUG ( 1442): I/DEBUG ( 1442): stack: I/DEBUG ( 1442): b5e87cd0 00000000 I/DEBUG ( 1442): b5e87cd4 00000000 I/DEBUG ( 1442): b5e87cd8 00000000 I/DEBUG ( 1442): b5e87cdc 00000000 I/DEBUG ( 1442): b5e87ce0 b763b430 [heap] I/DEBUG ( 1442): b5e87ce4 b6eec190 /system/lib/libcedarxbase.so I/DEBUG ( 1442): b5e87ce8 540ebe94 I/DEBUG ( 1442): b5e87cec 0001ec3a I/DEBUG ( 1442): b5e87cf0 00000000 I/DEBUG ( 1442): b5e87cf4 b6ed8c9c /system/lib/libcedarxbase.so (ve_mutex_lock+240) I/DEBUG ( 1442): b5e87cf8 b6ff2008 I/DEBUG ( 1442): b5e87cfc 00000050 I/DEBUG ( 1442): b5e87d00 2fa73650 I/DEBUG ( 1442): b5e87d04 b6ff2164 I/DEBUG ( 1442): b5e87d08 b6fee3e1 /data/test/awcodec_test I/DEBUG ( 1442): b5e87d0c b6fee451 /data/test/awcodec_test I/DEBUG ( 1442): #00 b5e87d10 00070800 I/DEBUG ( 1442): b5e87d14 00000000 I/DEBUG ( 1442): b5e87d18 00000000 I/DEBUG ( 1442): b5e87d1c 00000000 I/DEBUG ( 1442): b5e87d20 00000000 I/DEBUG ( 1442): b5e87d24 00000000 I/DEBUG ( 1442): b5e87d28 00000000 I/DEBUG ( 1442): b5e87d2c 00000000 I/DEBUG ( 1442): b5e87d30 00000000 I/DEBUG ( 1442): b5e87d34 00000000 I/DEBUG ( 1442): b5e87d38 00000000 I/DEBUG ( 1442): b5e87d3c 00000000 I/DEBUG ( 1442): b5e87d40 00000000 I/DEBUG ( 1442): b5e87d44 00000000 I/DEBUG ( 1442): b5e87d48 00000000 I/DEBUG ( 1442): b5e87d4c 00000000 I/DEBUG ( 1442): ........ ........ I/DEBUG ( 1442): #01 b5e87db8 00000000 I/DEBUG ( 1442): b5e87dbc b763dfc0 [heap] I/DEBUG ( 1442): b5e87dc0 b5e87dd0 I/DEBUG ( 1442): b5e87dc4 00000000 I/DEBUG ( 1442): b5e87dc8 00000078 I/DEBUG ( 1442): b5e87dcc b6f783e0 /system/lib/libc.so (pthread_create+244) I/DEBUG ( 1442): #02 b5e87dd0 b5e87dd0 I/DEBUG ( 1442): b5e87dd4 b763dfc0 [heap] I/DEBUG ( 1442): b5e87dd8 00000000 I/DEBUG ( 1442): b5e87ddc 00000000 I/DEBUG ( 1442): b5e87de0 00000000 I/DEBUG ( 1442): b5e87de4 bf975466 I/DEBUG ( 1442): b5e87de8 00000000 I/DEBUG ( 1442): b5e87dec 00000000 I/DEBUG ( 1442): b5e87df0 00000000 I/DEBUG ( 1442): b5e87df4 00000000 I/DEBUG ( 1442): b5e87df8 00000000 I/DEBUG ( 1442): b5e87dfc 00000000 I/DEBUG ( 1442): b5e87e00 00000000 I/DEBUG ( 1442): b5e87e04 00000000 I/DEBUG ( 1442): b5e87e08 00000000 I/DEBUG ( 1442): b5e87e0c 00000000 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r0: I/DEBUG ( 1442): 000707e0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000707f0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070800 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070810 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070820 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070830 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070840 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070850 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070860 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070870 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070880 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070890 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000708a0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000708b0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000708c0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000708d0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r1: I/DEBUG ( 1442): 00001164 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001174 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001184 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001194 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000011a4 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000011b4 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000011c4 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000011d4 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000011e4 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000011f4 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001204 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001214 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001224 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001234 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001244 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001254 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r2: I/DEBUG ( 1442): 000011f0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001200 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001210 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001220 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001230 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001240 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001250 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001260 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001270 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001280 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001290 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000012a0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000012b0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000012c0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000012d0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000012e0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r4: I/DEBUG ( 1442): b6ff1fe8 b6f4549d b6f453cd b6f457d5 b6f45811 I/DEBUG ( 1442): b6ff1ff8 b6f45a59 b6f45a4d 00000000 b763dc58 I/DEBUG ( 1442): b6ff2008 03e70000 03ebb000 00000000 00000000 I/DEBUG ( 1442): b6ff2018 00000000 00000000 fb7fb489 0005029d I/DEBUG ( 1442): b6ff2028 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2038 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2048 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2058 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2068 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2078 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2088 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2098 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff20a8 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff20b8 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff20c8 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff20d8 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r6: I/DEBUG ( 1442): 2fa73630 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73640 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73650 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73660 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73670 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73680 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73690 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa736a0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa736b0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa736c0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa736d0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa736e0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa736f0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73700 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73710 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73720 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r7: I/DEBUG ( 1442): b6ff2144 00000000 00000001 00000000 00000003 I/DEBUG ( 1442): b6ff2154 00000000 00000015 00000002 b763dc10 I/DEBUG ( 1442): b6ff2164 00000001 b6fc2d8c b763b498 b763b430 I/DEBUG ( 1442): b6ff2174 b763dfc0 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2184 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2194 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21a4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21b4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21c4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21d4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21e4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21f4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2204 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2214 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2224 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2234 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r8: I/DEBUG ( 1442): b6fee3c0 83f0e8bd 00003c00 fffffff4 000012a8 I/DEBUG ( 1442): b6fee3d0 000012b2 00001256 0000126c 0000126d I/DEBUG ( 1442): b6fee3e0 4ff0e92d 4a784c77 4621447c 447ab0a1 I/DEBUG ( 1442): b6fee3f0 f7ff2006 4a75edc0 46214b75 4c764f75 I/DEBUG ( 1442): b6fee400 447a2003 f7ff447b 447fedb6 e0c8447c I/DEBUG ( 1442): b6fee410 21004d72 447d2248 f7ffa80e 4628edb8 I/DEBUG ( 1442): b6fee420 edbaf7ff 3148f8d4 2b044628 f7ffd102 I/DEBUG ( 1442): b6fee430 e081edba edb6f7ff 44784869 edb8f7ff I/DEBUG ( 1442): b6fee440 da002800 4628e078 436e2550 eda4f7ff I/DEBUG ( 1442): b6fee450 20e1f44f 4a644963 59a39000 44792003 I/DEBUG ( 1442): b6fee460 f7ff447a f8d4ed88 20126144 19614375 I/DEBUG ( 1442): b6fee470 5962684b 4b52930f 8906e9d1 f8d1920e I/DEBUG ( 1442): b6fee480 2200a048 92121c71 ea01921e 25010203 I/DEBUG ( 1442): b6fee490 95162a00 8914e9cd da039011 f0651e55 I/DEBUG ( 1442): b6fee4a0 1c420003 f8c44851 44782144 ed7af7ff I/DEBUG ( 1442): b6fee4b0 f06f990e f8df4540 9b0f8138 bfc842a9 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r9: I/DEBUG ( 1442): b5d89fe0 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d89ff0 00000000 00000000 df0027ad 00000000 I/DEBUG ( 1442): b5d8a000 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a010 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a020 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a030 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a040 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a050 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a060 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a070 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a080 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a090 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a0a0 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a0b0 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a0c0 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a0d0 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near sl: I/DEBUG ( 1442): b6ff2154 00000000 00000015 00000002 b763dc10 I/DEBUG ( 1442): b6ff2164 00000001 b6fc2d8c b763b498 b763b430 I/DEBUG ( 1442): b6ff2174 b763dfc0 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2184 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2194 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21a4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21b4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21c4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21d4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21e4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21f4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2204 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2214 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2224 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2234 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2244 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near fp: I/DEBUG ( 1442): b6fb72cc 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb72dc 00000000 00000000 ffffffff 00000000 I/DEBUG ( 1442): b6fb72ec 00000000 00000001 000007ff 00000000 I/DEBUG ( 1442): b6fb72fc 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb730c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb731c 00000000 00000000 b6f7db05 b6f7db01 I/DEBUG ( 1442): b6fb732c b6f7e4b3 b6f7e5ed 00000000 00000000 I/DEBUG ( 1442): b6fb733c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb734c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb735c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb736c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb737c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb738c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb739c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb73ac 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb73bc 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near ip: I/DEBUG ( 1442): b6ff1f24 b6f793f1 b6f93c55 b6f44029 b6f68927 I/DEBUG ( 1442): b6ff1f34 b6ec7341 b6fd19d9 b6f7cfad b6f8d290 I/DEBUG ( 1442): b6ff1f44 b6f798b4 b6f799b8 b6ed8bac b6ed8f64 I/DEBUG ( 1442): b6ff1f54 b6f9ab71 b6f7fbb5 b6f4422d b6ed8b04 I/DEBUG ( 1442): b6ff1f64 b6f78cc5 b6f8d014 b6f79690 b6f68919 I/DEBUG ( 1442): b6ff1f74 b6f4406f b6f44117 b6f7f9d1 b6f782ec I/DEBUG ( 1442): b6ff1f84 b6f99563 b6f7dfe1 b6ec7615 b6f78cd9 I/DEBUG ( 1442): b6ff1f94 b6ed9330 b6f79d40 b6f7f53d b6f68931 I/DEBUG ( 1442): b6ff1fa4 b6f42553 b6f42553 b6f44021 b6f42553 I/DEBUG ( 1442): b6ff1fb4 b6f45823 b6f980c1 b6f7f4f1 b6f7e4cd I/DEBUG ( 1442): b6ff1fc4 b6f98cdd b6f8b3d8 b6f7dd15 b6f8d90c I/DEBUG ( 1442): b6ff1fd4 b6f8b488 b6f8b70c b6f4567d b6f455f5 I/DEBUG ( 1442): b6ff1fe4 b6f4586d b6f4549d b6f453cd b6f457d5 I/DEBUG ( 1442): b6ff1ff4 b6f45811 b6f45a59 b6f45a4d 00000000 I/DEBUG ( 1442): b6ff2004 b763dc58 03e70000 03ebb000 00000000 I/DEBUG ( 1442): b6ff2014 00000000 00000000 00000000 fb7fb489 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near sp: I/DEBUG ( 1442): b5e87cf0 00000000 b6ed8c9c b6ff2008 00000050 I/DEBUG ( 1442): b5e87d00 2fa73650 b6ff2164 b6fee3e1 b6fee451 I/DEBUG ( 1442): b5e87d10 00070800 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d20 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d30 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d40 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d50 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d60 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d70 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d80 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d90 00000000 b5e87dd0 b763dfc0 b6fee3e1 I/DEBUG ( 1442): b5e87da0 00000000 b6fee3e1 b5d8a000 b6ff2174 I/DEBUG ( 1442): b5e87db0 b6fb72ec b6f78244 00000000 b763dfc0 I/DEBUG ( 1442): b5e87dc0 b5e87dd0 00000000 00000078 b6f783e0 I/DEBUG ( 1442): b5e87dd0 b5e87dd0 b763dfc0 00000000 00000000 I/DEBUG ( 1442): b5e87de0 00000000 bf975466 00000000 00000000 I/DEBUG ( 1442): I/DEBUG ( 1442): code around pc: I/DEBUG ( 1442): b6fee438 44784869 edb8f7ff da002800 4628e078 I/DEBUG ( 1442): b6fee448 436e2550 eda4f7ff 20e1f44f 4a644963 I/DEBUG ( 1442): b6fee458 59a39000 44792003 f7ff447a f8d4ed88 I/DEBUG ( 1442): b6fee468 20126144 19614375 5962684b 4b52930f I/DEBUG ( 1442): b6fee478 8906e9d1 f8d1920e 2200a048 92121c71 I/DEBUG ( 1442): b6fee488 ea01921e 25010203 95162a00 8914e9cd I/DEBUG ( 1442): b6fee498 da039011 f0651e55 1c420003 f8c44851 I/DEBUG ( 1442): b6fee4a8 44782144 ed7af7ff f06f990e f8df4540 I/DEBUG ( 1442): b6fee4b8 9b0f8138 bfc842a9 4140f101 bfc844f8 I/DEBUG ( 1442): b6fee4c8 f8d8910e 42ab0000 f103bfc4 930f4340 I/DEBUG ( 1442): b6fee4d8 a90e69c2 46054790 f8df4844 44789114 I/DEBUG ( 1442): b6fee4e8 ed68f7ff b10cf8df 44f94a43 4649447a I/DEBUG ( 1442): b6fee4f8 44fb462b f7ff2003 4658ed3a ed4ef7ff I/DEBUG ( 1442): b6fee508 4478483e 1148f8d0 f8c01c4b 46583148 I/DEBUG ( 1442): b6fee518 ed44f7ff 46514a3a 6810447a fb0cf000 I/DEBUG ( 1442): b6fee528 4a38b15d 46492006 462b447a ed1ef7ff I/DEBUG ( 1442): I/DEBUG ( 1442): code around lr: I/DEBUG ( 1442): b6fee430 e081edba edb6f7ff 44784869 edb8f7ff I/DEBUG ( 1442): b6fee440 da002800 4628e078 436e2550 eda4f7ff I/DEBUG ( 1442): b6fee450 20e1f44f 4a644963 59a39000 44792003 I/DEBUG ( 1442): b6fee460 f7ff447a f8d4ed88 20126144 19614375 I/DEBUG ( 1442): b6fee470 5962684b 4b52930f 8906e9d1 f8d1920e I/DEBUG ( 1442): b6fee480 2200a048 92121c71 ea01921e 25010203 I/DEBUG ( 1442): b6fee490 95162a00 8914e9cd da039011 f0651e55 I/DEBUG ( 1442): b6fee4a0 1c420003 f8c44851 44782144 ed7af7ff I/DEBUG ( 1442): b6fee4b0 f06f990e f8df4540 9b0f8138 bfc842a9 I/DEBUG ( 1442): b6fee4c0 4140f101 bfc844f8 f8d8910e 42ab0000 I/DEBUG ( 1442): b6fee4d0 f103bfc4 930f4340 a90e69c2 46054790 I/DEBUG ( 1442): b6fee4e0 f8df4844 44789114 ed68f7ff b10cf8df I/DEBUG ( 1442): b6fee4f0 44f94a43 4649447a 44fb462b f7ff2003 I/DEBUG ( 1442): b6fee500 4658ed3a ed4ef7ff 4478483e 1148f8d0 I/DEBUG ( 1442): b6fee510 f8c01c4b 46583148 ed44f7ff 46514a3a I/DEBUG ( 1442): b6fee520 6810447a fb0cf000 4a38b15d 46492006 I/DEBUG ( 1442): I/DEBUG ( 1442): memory map around fault addr e6a65658: I/DEBUG ( 1442): beb04000-beb25000 rw- [stack] I/DEBUG ( 1442): (no map for address) I/DEBUG ( 1442): ffff0000-ffff1000 r-x [vectors] 阅读更多" />
<meta property="og:description" content="今天在调试一段全志原厂的android hardware test代码时，碰到个奇异的问题，最后查出由于局部变量未初始化造成的， 写了个简单的重现test： #include &lt;stdio.h&gt; #include &lt;pthread.h&gt; typedef struct buf{ char* datas[5]; int n; }buf_t; buf_t buffer; void* thr_func(void* arg){ int index; printf(&quot;index=%d\n&quot;, index); printf(&quot;pdata=%p\n&quot;, buffer.datas[index], index); return (void*)0; } int main() { pthread_t pid; pthread_create(&amp;pid, NULL, thr_func, NULL); if(pid !=0) { pthread_join(pid,NULL); } return 0; }在&nbsp;gcc (Ubuntu/Linaro 4.6.3-1ubuntu5) 4.6.3 下测试得到结果： index=32605 Segmentation fault (core dumped) 可使用gdb 调试获取更多信息！ 发现问题的工程代码片段： 代码：printf为我添加的调试log； thread_func(){ int read_id; .... whle（）{ printf(&quot;++++++++++++++ dump yuv data: %p, %d&quot;, gBufMrgQ.omx_bufhead[read_id].buf_info.addrY, mWidth*mHeight*3/2); } } 原来的代码。。。。 编译警告信息：&nbsp; hardware/aw/AWcodecTest/AWcodecTest.cpp:303:1: warning: &#39;read_id&#39; may be used uninitialized in this function [-Wmaybe-uninitialized] 运行时的崩溃信息： F/libc ( 4389): Fatal signal 11 (SIGSEGV) at 0xe6a65658 (code=1), thread 4391 (awcodec_test) I/DEBUG ( 1442): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** I/DEBUG ( 1442): Build fingerprint: &#39;softwinners/mars_A31/mars-A31:4.4.2/KOT49H/20140801:eng/test-keys&#39; I/DEBUG ( 1442): Revision: &#39;13&#39; I/DEBUG ( 1442): pid: 4389, tid: 4391, name: awcodec_test &gt;&gt;&gt; ./awcodec_test &lt;&lt;&lt; I/DEBUG ( 1442): AM write failure (32 / Broken pipe) I/DEBUG ( 1442): signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr e6a65658 W/NativeCrashListener( 1957): Couldn&#39;t find ProcessRecord for pid 4389 I/DEBUG ( 1442): r0 00070800 r1 00001186 r2 00001213 r3 00000000 I/DEBUG ( 1442): r4 b6ff2008 r5 00000050 r6 2fa73650 r7 b6ff2164 I/DEBUG ( 1442): r8 b6fee3e1 r9 b5d8a000 sl b6ff2174 fp b6fb72ec I/DEBUG ( 1442): ip b6ff1f44 sp b5e87d10 lr b6fee451 pc b6fee45a cpsr 600e0030 I/DEBUG ( 1442): d0 3830303266663662 d1 000000000000000b I/DEBUG ( 1442): d2 6f6f6c206f67202c d3 2e2e2e2e2e2e2e70 I/DEBUG ( 1442): d4 3ff0000000000000 d5 0000000000000000 I/DEBUG ( 1442): d6 0000000000000000 d7 4a40000000000000 I/DEBUG ( 1442): d8 0000000000000000 d9 0000000000000000 I/DEBUG ( 1442): d10 0000000000000000 d11 0000000000000000 I/DEBUG ( 1442): d12 0000000000000000 d13 0000000000000000 I/DEBUG ( 1442): d14 0000000000000000 d15 0000000000000000 I/DEBUG ( 1442): d16 3fe0000000000000 d17 000000000000000b I/DEBUG ( 1442): d18 41c0e6bd89800000 d19 0000000000000000 I/DEBUG ( 1442): d20 0000000000000000 d21 0000000000000000 I/DEBUG ( 1442): d22 0000000000000000 d23 0000000000000000 I/DEBUG ( 1442): d24 0000000000000000 d25 0000000000000000 I/DEBUG ( 1442): d26 0000000000000000 d27 0000000000000000 I/DEBUG ( 1442): d28 0000000000000000 d29 0000000000000000 I/DEBUG ( 1442): d30 0000000000000000 d31 0000000000000000 I/DEBUG ( 1442): scr 00000010 I/DEBUG ( 1442): I/DEBUG ( 1442): backtrace: I/DEBUG ( 1442): #00 pc 0000145a /data/test/awcodec_test I/DEBUG ( 1442): #01 pc 0000d240 /system/lib/libc.so (__thread_entry+72) I/DEBUG ( 1442): #02 pc 0000d3dc /system/lib/libc.so (pthread_create+240) I/DEBUG ( 1442): I/DEBUG ( 1442): stack: I/DEBUG ( 1442): b5e87cd0 00000000 I/DEBUG ( 1442): b5e87cd4 00000000 I/DEBUG ( 1442): b5e87cd8 00000000 I/DEBUG ( 1442): b5e87cdc 00000000 I/DEBUG ( 1442): b5e87ce0 b763b430 [heap] I/DEBUG ( 1442): b5e87ce4 b6eec190 /system/lib/libcedarxbase.so I/DEBUG ( 1442): b5e87ce8 540ebe94 I/DEBUG ( 1442): b5e87cec 0001ec3a I/DEBUG ( 1442): b5e87cf0 00000000 I/DEBUG ( 1442): b5e87cf4 b6ed8c9c /system/lib/libcedarxbase.so (ve_mutex_lock+240) I/DEBUG ( 1442): b5e87cf8 b6ff2008 I/DEBUG ( 1442): b5e87cfc 00000050 I/DEBUG ( 1442): b5e87d00 2fa73650 I/DEBUG ( 1442): b5e87d04 b6ff2164 I/DEBUG ( 1442): b5e87d08 b6fee3e1 /data/test/awcodec_test I/DEBUG ( 1442): b5e87d0c b6fee451 /data/test/awcodec_test I/DEBUG ( 1442): #00 b5e87d10 00070800 I/DEBUG ( 1442): b5e87d14 00000000 I/DEBUG ( 1442): b5e87d18 00000000 I/DEBUG ( 1442): b5e87d1c 00000000 I/DEBUG ( 1442): b5e87d20 00000000 I/DEBUG ( 1442): b5e87d24 00000000 I/DEBUG ( 1442): b5e87d28 00000000 I/DEBUG ( 1442): b5e87d2c 00000000 I/DEBUG ( 1442): b5e87d30 00000000 I/DEBUG ( 1442): b5e87d34 00000000 I/DEBUG ( 1442): b5e87d38 00000000 I/DEBUG ( 1442): b5e87d3c 00000000 I/DEBUG ( 1442): b5e87d40 00000000 I/DEBUG ( 1442): b5e87d44 00000000 I/DEBUG ( 1442): b5e87d48 00000000 I/DEBUG ( 1442): b5e87d4c 00000000 I/DEBUG ( 1442): ........ ........ I/DEBUG ( 1442): #01 b5e87db8 00000000 I/DEBUG ( 1442): b5e87dbc b763dfc0 [heap] I/DEBUG ( 1442): b5e87dc0 b5e87dd0 I/DEBUG ( 1442): b5e87dc4 00000000 I/DEBUG ( 1442): b5e87dc8 00000078 I/DEBUG ( 1442): b5e87dcc b6f783e0 /system/lib/libc.so (pthread_create+244) I/DEBUG ( 1442): #02 b5e87dd0 b5e87dd0 I/DEBUG ( 1442): b5e87dd4 b763dfc0 [heap] I/DEBUG ( 1442): b5e87dd8 00000000 I/DEBUG ( 1442): b5e87ddc 00000000 I/DEBUG ( 1442): b5e87de0 00000000 I/DEBUG ( 1442): b5e87de4 bf975466 I/DEBUG ( 1442): b5e87de8 00000000 I/DEBUG ( 1442): b5e87dec 00000000 I/DEBUG ( 1442): b5e87df0 00000000 I/DEBUG ( 1442): b5e87df4 00000000 I/DEBUG ( 1442): b5e87df8 00000000 I/DEBUG ( 1442): b5e87dfc 00000000 I/DEBUG ( 1442): b5e87e00 00000000 I/DEBUG ( 1442): b5e87e04 00000000 I/DEBUG ( 1442): b5e87e08 00000000 I/DEBUG ( 1442): b5e87e0c 00000000 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r0: I/DEBUG ( 1442): 000707e0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000707f0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070800 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070810 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070820 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070830 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070840 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070850 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070860 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070870 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070880 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070890 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000708a0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000708b0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000708c0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000708d0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r1: I/DEBUG ( 1442): 00001164 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001174 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001184 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001194 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000011a4 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000011b4 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000011c4 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000011d4 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000011e4 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000011f4 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001204 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001214 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001224 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001234 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001244 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001254 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r2: I/DEBUG ( 1442): 000011f0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001200 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001210 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001220 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001230 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001240 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001250 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001260 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001270 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001280 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001290 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000012a0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000012b0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000012c0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000012d0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000012e0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r4: I/DEBUG ( 1442): b6ff1fe8 b6f4549d b6f453cd b6f457d5 b6f45811 I/DEBUG ( 1442): b6ff1ff8 b6f45a59 b6f45a4d 00000000 b763dc58 I/DEBUG ( 1442): b6ff2008 03e70000 03ebb000 00000000 00000000 I/DEBUG ( 1442): b6ff2018 00000000 00000000 fb7fb489 0005029d I/DEBUG ( 1442): b6ff2028 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2038 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2048 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2058 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2068 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2078 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2088 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2098 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff20a8 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff20b8 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff20c8 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff20d8 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r6: I/DEBUG ( 1442): 2fa73630 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73640 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73650 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73660 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73670 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73680 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73690 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa736a0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa736b0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa736c0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa736d0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa736e0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa736f0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73700 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73710 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73720 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r7: I/DEBUG ( 1442): b6ff2144 00000000 00000001 00000000 00000003 I/DEBUG ( 1442): b6ff2154 00000000 00000015 00000002 b763dc10 I/DEBUG ( 1442): b6ff2164 00000001 b6fc2d8c b763b498 b763b430 I/DEBUG ( 1442): b6ff2174 b763dfc0 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2184 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2194 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21a4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21b4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21c4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21d4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21e4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21f4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2204 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2214 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2224 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2234 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r8: I/DEBUG ( 1442): b6fee3c0 83f0e8bd 00003c00 fffffff4 000012a8 I/DEBUG ( 1442): b6fee3d0 000012b2 00001256 0000126c 0000126d I/DEBUG ( 1442): b6fee3e0 4ff0e92d 4a784c77 4621447c 447ab0a1 I/DEBUG ( 1442): b6fee3f0 f7ff2006 4a75edc0 46214b75 4c764f75 I/DEBUG ( 1442): b6fee400 447a2003 f7ff447b 447fedb6 e0c8447c I/DEBUG ( 1442): b6fee410 21004d72 447d2248 f7ffa80e 4628edb8 I/DEBUG ( 1442): b6fee420 edbaf7ff 3148f8d4 2b044628 f7ffd102 I/DEBUG ( 1442): b6fee430 e081edba edb6f7ff 44784869 edb8f7ff I/DEBUG ( 1442): b6fee440 da002800 4628e078 436e2550 eda4f7ff I/DEBUG ( 1442): b6fee450 20e1f44f 4a644963 59a39000 44792003 I/DEBUG ( 1442): b6fee460 f7ff447a f8d4ed88 20126144 19614375 I/DEBUG ( 1442): b6fee470 5962684b 4b52930f 8906e9d1 f8d1920e I/DEBUG ( 1442): b6fee480 2200a048 92121c71 ea01921e 25010203 I/DEBUG ( 1442): b6fee490 95162a00 8914e9cd da039011 f0651e55 I/DEBUG ( 1442): b6fee4a0 1c420003 f8c44851 44782144 ed7af7ff I/DEBUG ( 1442): b6fee4b0 f06f990e f8df4540 9b0f8138 bfc842a9 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r9: I/DEBUG ( 1442): b5d89fe0 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d89ff0 00000000 00000000 df0027ad 00000000 I/DEBUG ( 1442): b5d8a000 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a010 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a020 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a030 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a040 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a050 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a060 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a070 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a080 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a090 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a0a0 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a0b0 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a0c0 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a0d0 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near sl: I/DEBUG ( 1442): b6ff2154 00000000 00000015 00000002 b763dc10 I/DEBUG ( 1442): b6ff2164 00000001 b6fc2d8c b763b498 b763b430 I/DEBUG ( 1442): b6ff2174 b763dfc0 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2184 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2194 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21a4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21b4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21c4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21d4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21e4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21f4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2204 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2214 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2224 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2234 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2244 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near fp: I/DEBUG ( 1442): b6fb72cc 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb72dc 00000000 00000000 ffffffff 00000000 I/DEBUG ( 1442): b6fb72ec 00000000 00000001 000007ff 00000000 I/DEBUG ( 1442): b6fb72fc 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb730c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb731c 00000000 00000000 b6f7db05 b6f7db01 I/DEBUG ( 1442): b6fb732c b6f7e4b3 b6f7e5ed 00000000 00000000 I/DEBUG ( 1442): b6fb733c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb734c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb735c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb736c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb737c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb738c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb739c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb73ac 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb73bc 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near ip: I/DEBUG ( 1442): b6ff1f24 b6f793f1 b6f93c55 b6f44029 b6f68927 I/DEBUG ( 1442): b6ff1f34 b6ec7341 b6fd19d9 b6f7cfad b6f8d290 I/DEBUG ( 1442): b6ff1f44 b6f798b4 b6f799b8 b6ed8bac b6ed8f64 I/DEBUG ( 1442): b6ff1f54 b6f9ab71 b6f7fbb5 b6f4422d b6ed8b04 I/DEBUG ( 1442): b6ff1f64 b6f78cc5 b6f8d014 b6f79690 b6f68919 I/DEBUG ( 1442): b6ff1f74 b6f4406f b6f44117 b6f7f9d1 b6f782ec I/DEBUG ( 1442): b6ff1f84 b6f99563 b6f7dfe1 b6ec7615 b6f78cd9 I/DEBUG ( 1442): b6ff1f94 b6ed9330 b6f79d40 b6f7f53d b6f68931 I/DEBUG ( 1442): b6ff1fa4 b6f42553 b6f42553 b6f44021 b6f42553 I/DEBUG ( 1442): b6ff1fb4 b6f45823 b6f980c1 b6f7f4f1 b6f7e4cd I/DEBUG ( 1442): b6ff1fc4 b6f98cdd b6f8b3d8 b6f7dd15 b6f8d90c I/DEBUG ( 1442): b6ff1fd4 b6f8b488 b6f8b70c b6f4567d b6f455f5 I/DEBUG ( 1442): b6ff1fe4 b6f4586d b6f4549d b6f453cd b6f457d5 I/DEBUG ( 1442): b6ff1ff4 b6f45811 b6f45a59 b6f45a4d 00000000 I/DEBUG ( 1442): b6ff2004 b763dc58 03e70000 03ebb000 00000000 I/DEBUG ( 1442): b6ff2014 00000000 00000000 00000000 fb7fb489 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near sp: I/DEBUG ( 1442): b5e87cf0 00000000 b6ed8c9c b6ff2008 00000050 I/DEBUG ( 1442): b5e87d00 2fa73650 b6ff2164 b6fee3e1 b6fee451 I/DEBUG ( 1442): b5e87d10 00070800 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d20 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d30 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d40 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d50 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d60 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d70 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d80 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d90 00000000 b5e87dd0 b763dfc0 b6fee3e1 I/DEBUG ( 1442): b5e87da0 00000000 b6fee3e1 b5d8a000 b6ff2174 I/DEBUG ( 1442): b5e87db0 b6fb72ec b6f78244 00000000 b763dfc0 I/DEBUG ( 1442): b5e87dc0 b5e87dd0 00000000 00000078 b6f783e0 I/DEBUG ( 1442): b5e87dd0 b5e87dd0 b763dfc0 00000000 00000000 I/DEBUG ( 1442): b5e87de0 00000000 bf975466 00000000 00000000 I/DEBUG ( 1442): I/DEBUG ( 1442): code around pc: I/DEBUG ( 1442): b6fee438 44784869 edb8f7ff da002800 4628e078 I/DEBUG ( 1442): b6fee448 436e2550 eda4f7ff 20e1f44f 4a644963 I/DEBUG ( 1442): b6fee458 59a39000 44792003 f7ff447a f8d4ed88 I/DEBUG ( 1442): b6fee468 20126144 19614375 5962684b 4b52930f I/DEBUG ( 1442): b6fee478 8906e9d1 f8d1920e 2200a048 92121c71 I/DEBUG ( 1442): b6fee488 ea01921e 25010203 95162a00 8914e9cd I/DEBUG ( 1442): b6fee498 da039011 f0651e55 1c420003 f8c44851 I/DEBUG ( 1442): b6fee4a8 44782144 ed7af7ff f06f990e f8df4540 I/DEBUG ( 1442): b6fee4b8 9b0f8138 bfc842a9 4140f101 bfc844f8 I/DEBUG ( 1442): b6fee4c8 f8d8910e 42ab0000 f103bfc4 930f4340 I/DEBUG ( 1442): b6fee4d8 a90e69c2 46054790 f8df4844 44789114 I/DEBUG ( 1442): b6fee4e8 ed68f7ff b10cf8df 44f94a43 4649447a I/DEBUG ( 1442): b6fee4f8 44fb462b f7ff2003 4658ed3a ed4ef7ff I/DEBUG ( 1442): b6fee508 4478483e 1148f8d0 f8c01c4b 46583148 I/DEBUG ( 1442): b6fee518 ed44f7ff 46514a3a 6810447a fb0cf000 I/DEBUG ( 1442): b6fee528 4a38b15d 46492006 462b447a ed1ef7ff I/DEBUG ( 1442): I/DEBUG ( 1442): code around lr: I/DEBUG ( 1442): b6fee430 e081edba edb6f7ff 44784869 edb8f7ff I/DEBUG ( 1442): b6fee440 da002800 4628e078 436e2550 eda4f7ff I/DEBUG ( 1442): b6fee450 20e1f44f 4a644963 59a39000 44792003 I/DEBUG ( 1442): b6fee460 f7ff447a f8d4ed88 20126144 19614375 I/DEBUG ( 1442): b6fee470 5962684b 4b52930f 8906e9d1 f8d1920e I/DEBUG ( 1442): b6fee480 2200a048 92121c71 ea01921e 25010203 I/DEBUG ( 1442): b6fee490 95162a00 8914e9cd da039011 f0651e55 I/DEBUG ( 1442): b6fee4a0 1c420003 f8c44851 44782144 ed7af7ff I/DEBUG ( 1442): b6fee4b0 f06f990e f8df4540 9b0f8138 bfc842a9 I/DEBUG ( 1442): b6fee4c0 4140f101 bfc844f8 f8d8910e 42ab0000 I/DEBUG ( 1442): b6fee4d0 f103bfc4 930f4340 a90e69c2 46054790 I/DEBUG ( 1442): b6fee4e0 f8df4844 44789114 ed68f7ff b10cf8df I/DEBUG ( 1442): b6fee4f0 44f94a43 4649447a 44fb462b f7ff2003 I/DEBUG ( 1442): b6fee500 4658ed3a ed4ef7ff 4478483e 1148f8d0 I/DEBUG ( 1442): b6fee510 f8c01c4b 46583148 ed44f7ff 46514a3a I/DEBUG ( 1442): b6fee520 6810447a fb0cf000 4a38b15d 46492006 I/DEBUG ( 1442): I/DEBUG ( 1442): memory map around fault addr e6a65658: I/DEBUG ( 1442): beb04000-beb25000 rw- [stack] I/DEBUG ( 1442): (no map for address) I/DEBUG ( 1442): ffff0000-ffff1000 r-x [vectors] 阅读更多" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2014-09-09T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"今天在调试一段全志原厂的android hardware test代码时，碰到个奇异的问题，最后查出由于局部变量未初始化造成的， 写了个简单的重现test： #include &lt;stdio.h&gt; #include &lt;pthread.h&gt; typedef struct buf{ char* datas[5]; int n; }buf_t; buf_t buffer; void* thr_func(void* arg){ int index; printf(&quot;index=%d\\n&quot;, index); printf(&quot;pdata=%p\\n&quot;, buffer.datas[index], index); return (void*)0; } int main() { pthread_t pid; pthread_create(&amp;pid, NULL, thr_func, NULL); if(pid !=0) { pthread_join(pid,NULL); } return 0; }在&nbsp;gcc (Ubuntu/Linaro 4.6.3-1ubuntu5) 4.6.3 下测试得到结果： index=32605 Segmentation fault (core dumped) 可使用gdb 调试获取更多信息！ 发现问题的工程代码片段： 代码：printf为我添加的调试log； thread_func(){ int read_id; .... whle（）{ printf(&quot;++++++++++++++ dump yuv data: %p, %d&quot;, gBufMrgQ.omx_bufhead[read_id].buf_info.addrY, mWidth*mHeight*3/2); } } 原来的代码。。。。 编译警告信息：&nbsp; hardware/aw/AWcodecTest/AWcodecTest.cpp:303:1: warning: &#39;read_id&#39; may be used uninitialized in this function [-Wmaybe-uninitialized] 运行时的崩溃信息： F/libc ( 4389): Fatal signal 11 (SIGSEGV) at 0xe6a65658 (code=1), thread 4391 (awcodec_test) I/DEBUG ( 1442): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** I/DEBUG ( 1442): Build fingerprint: &#39;softwinners/mars_A31/mars-A31:4.4.2/KOT49H/20140801:eng/test-keys&#39; I/DEBUG ( 1442): Revision: &#39;13&#39; I/DEBUG ( 1442): pid: 4389, tid: 4391, name: awcodec_test &gt;&gt;&gt; ./awcodec_test &lt;&lt;&lt; I/DEBUG ( 1442): AM write failure (32 / Broken pipe) I/DEBUG ( 1442): signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr e6a65658 W/NativeCrashListener( 1957): Couldn&#39;t find ProcessRecord for pid 4389 I/DEBUG ( 1442): r0 00070800 r1 00001186 r2 00001213 r3 00000000 I/DEBUG ( 1442): r4 b6ff2008 r5 00000050 r6 2fa73650 r7 b6ff2164 I/DEBUG ( 1442): r8 b6fee3e1 r9 b5d8a000 sl b6ff2174 fp b6fb72ec I/DEBUG ( 1442): ip b6ff1f44 sp b5e87d10 lr b6fee451 pc b6fee45a cpsr 600e0030 I/DEBUG ( 1442): d0 3830303266663662 d1 000000000000000b I/DEBUG ( 1442): d2 6f6f6c206f67202c d3 2e2e2e2e2e2e2e70 I/DEBUG ( 1442): d4 3ff0000000000000 d5 0000000000000000 I/DEBUG ( 1442): d6 0000000000000000 d7 4a40000000000000 I/DEBUG ( 1442): d8 0000000000000000 d9 0000000000000000 I/DEBUG ( 1442): d10 0000000000000000 d11 0000000000000000 I/DEBUG ( 1442): d12 0000000000000000 d13 0000000000000000 I/DEBUG ( 1442): d14 0000000000000000 d15 0000000000000000 I/DEBUG ( 1442): d16 3fe0000000000000 d17 000000000000000b I/DEBUG ( 1442): d18 41c0e6bd89800000 d19 0000000000000000 I/DEBUG ( 1442): d20 0000000000000000 d21 0000000000000000 I/DEBUG ( 1442): d22 0000000000000000 d23 0000000000000000 I/DEBUG ( 1442): d24 0000000000000000 d25 0000000000000000 I/DEBUG ( 1442): d26 0000000000000000 d27 0000000000000000 I/DEBUG ( 1442): d28 0000000000000000 d29 0000000000000000 I/DEBUG ( 1442): d30 0000000000000000 d31 0000000000000000 I/DEBUG ( 1442): scr 00000010 I/DEBUG ( 1442): I/DEBUG ( 1442): backtrace: I/DEBUG ( 1442): #00 pc 0000145a /data/test/awcodec_test I/DEBUG ( 1442): #01 pc 0000d240 /system/lib/libc.so (__thread_entry+72) I/DEBUG ( 1442): #02 pc 0000d3dc /system/lib/libc.so (pthread_create+240) I/DEBUG ( 1442): I/DEBUG ( 1442): stack: I/DEBUG ( 1442): b5e87cd0 00000000 I/DEBUG ( 1442): b5e87cd4 00000000 I/DEBUG ( 1442): b5e87cd8 00000000 I/DEBUG ( 1442): b5e87cdc 00000000 I/DEBUG ( 1442): b5e87ce0 b763b430 [heap] I/DEBUG ( 1442): b5e87ce4 b6eec190 /system/lib/libcedarxbase.so I/DEBUG ( 1442): b5e87ce8 540ebe94 I/DEBUG ( 1442): b5e87cec 0001ec3a I/DEBUG ( 1442): b5e87cf0 00000000 I/DEBUG ( 1442): b5e87cf4 b6ed8c9c /system/lib/libcedarxbase.so (ve_mutex_lock+240) I/DEBUG ( 1442): b5e87cf8 b6ff2008 I/DEBUG ( 1442): b5e87cfc 00000050 I/DEBUG ( 1442): b5e87d00 2fa73650 I/DEBUG ( 1442): b5e87d04 b6ff2164 I/DEBUG ( 1442): b5e87d08 b6fee3e1 /data/test/awcodec_test I/DEBUG ( 1442): b5e87d0c b6fee451 /data/test/awcodec_test I/DEBUG ( 1442): #00 b5e87d10 00070800 I/DEBUG ( 1442): b5e87d14 00000000 I/DEBUG ( 1442): b5e87d18 00000000 I/DEBUG ( 1442): b5e87d1c 00000000 I/DEBUG ( 1442): b5e87d20 00000000 I/DEBUG ( 1442): b5e87d24 00000000 I/DEBUG ( 1442): b5e87d28 00000000 I/DEBUG ( 1442): b5e87d2c 00000000 I/DEBUG ( 1442): b5e87d30 00000000 I/DEBUG ( 1442): b5e87d34 00000000 I/DEBUG ( 1442): b5e87d38 00000000 I/DEBUG ( 1442): b5e87d3c 00000000 I/DEBUG ( 1442): b5e87d40 00000000 I/DEBUG ( 1442): b5e87d44 00000000 I/DEBUG ( 1442): b5e87d48 00000000 I/DEBUG ( 1442): b5e87d4c 00000000 I/DEBUG ( 1442): ........ ........ I/DEBUG ( 1442): #01 b5e87db8 00000000 I/DEBUG ( 1442): b5e87dbc b763dfc0 [heap] I/DEBUG ( 1442): b5e87dc0 b5e87dd0 I/DEBUG ( 1442): b5e87dc4 00000000 I/DEBUG ( 1442): b5e87dc8 00000078 I/DEBUG ( 1442): b5e87dcc b6f783e0 /system/lib/libc.so (pthread_create+244) I/DEBUG ( 1442): #02 b5e87dd0 b5e87dd0 I/DEBUG ( 1442): b5e87dd4 b763dfc0 [heap] I/DEBUG ( 1442): b5e87dd8 00000000 I/DEBUG ( 1442): b5e87ddc 00000000 I/DEBUG ( 1442): b5e87de0 00000000 I/DEBUG ( 1442): b5e87de4 bf975466 I/DEBUG ( 1442): b5e87de8 00000000 I/DEBUG ( 1442): b5e87dec 00000000 I/DEBUG ( 1442): b5e87df0 00000000 I/DEBUG ( 1442): b5e87df4 00000000 I/DEBUG ( 1442): b5e87df8 00000000 I/DEBUG ( 1442): b5e87dfc 00000000 I/DEBUG ( 1442): b5e87e00 00000000 I/DEBUG ( 1442): b5e87e04 00000000 I/DEBUG ( 1442): b5e87e08 00000000 I/DEBUG ( 1442): b5e87e0c 00000000 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r0: I/DEBUG ( 1442): 000707e0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000707f0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070800 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070810 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070820 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070830 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070840 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070850 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070860 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070870 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070880 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00070890 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000708a0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000708b0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000708c0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000708d0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r1: I/DEBUG ( 1442): 00001164 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001174 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001184 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001194 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000011a4 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000011b4 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000011c4 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000011d4 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000011e4 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000011f4 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001204 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001214 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001224 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001234 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001244 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001254 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r2: I/DEBUG ( 1442): 000011f0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001200 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001210 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001220 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001230 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001240 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001250 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001260 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001270 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001280 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 00001290 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000012a0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000012b0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000012c0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000012d0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 000012e0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r4: I/DEBUG ( 1442): b6ff1fe8 b6f4549d b6f453cd b6f457d5 b6f45811 I/DEBUG ( 1442): b6ff1ff8 b6f45a59 b6f45a4d 00000000 b763dc58 I/DEBUG ( 1442): b6ff2008 03e70000 03ebb000 00000000 00000000 I/DEBUG ( 1442): b6ff2018 00000000 00000000 fb7fb489 0005029d I/DEBUG ( 1442): b6ff2028 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2038 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2048 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2058 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2068 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2078 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2088 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2098 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff20a8 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff20b8 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff20c8 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff20d8 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r6: I/DEBUG ( 1442): 2fa73630 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73640 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73650 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73660 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73670 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73680 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73690 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa736a0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa736b0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa736c0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa736d0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa736e0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa736f0 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73700 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73710 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): 2fa73720 ffffffff ffffffff ffffffff ffffffff I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r7: I/DEBUG ( 1442): b6ff2144 00000000 00000001 00000000 00000003 I/DEBUG ( 1442): b6ff2154 00000000 00000015 00000002 b763dc10 I/DEBUG ( 1442): b6ff2164 00000001 b6fc2d8c b763b498 b763b430 I/DEBUG ( 1442): b6ff2174 b763dfc0 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2184 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2194 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21a4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21b4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21c4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21d4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21e4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21f4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2204 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2214 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2224 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2234 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r8: I/DEBUG ( 1442): b6fee3c0 83f0e8bd 00003c00 fffffff4 000012a8 I/DEBUG ( 1442): b6fee3d0 000012b2 00001256 0000126c 0000126d I/DEBUG ( 1442): b6fee3e0 4ff0e92d 4a784c77 4621447c 447ab0a1 I/DEBUG ( 1442): b6fee3f0 f7ff2006 4a75edc0 46214b75 4c764f75 I/DEBUG ( 1442): b6fee400 447a2003 f7ff447b 447fedb6 e0c8447c I/DEBUG ( 1442): b6fee410 21004d72 447d2248 f7ffa80e 4628edb8 I/DEBUG ( 1442): b6fee420 edbaf7ff 3148f8d4 2b044628 f7ffd102 I/DEBUG ( 1442): b6fee430 e081edba edb6f7ff 44784869 edb8f7ff I/DEBUG ( 1442): b6fee440 da002800 4628e078 436e2550 eda4f7ff I/DEBUG ( 1442): b6fee450 20e1f44f 4a644963 59a39000 44792003 I/DEBUG ( 1442): b6fee460 f7ff447a f8d4ed88 20126144 19614375 I/DEBUG ( 1442): b6fee470 5962684b 4b52930f 8906e9d1 f8d1920e I/DEBUG ( 1442): b6fee480 2200a048 92121c71 ea01921e 25010203 I/DEBUG ( 1442): b6fee490 95162a00 8914e9cd da039011 f0651e55 I/DEBUG ( 1442): b6fee4a0 1c420003 f8c44851 44782144 ed7af7ff I/DEBUG ( 1442): b6fee4b0 f06f990e f8df4540 9b0f8138 bfc842a9 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near r9: I/DEBUG ( 1442): b5d89fe0 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d89ff0 00000000 00000000 df0027ad 00000000 I/DEBUG ( 1442): b5d8a000 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a010 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a020 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a030 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a040 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a050 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a060 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a070 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a080 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a090 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a0a0 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a0b0 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a0c0 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5d8a0d0 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near sl: I/DEBUG ( 1442): b6ff2154 00000000 00000015 00000002 b763dc10 I/DEBUG ( 1442): b6ff2164 00000001 b6fc2d8c b763b498 b763b430 I/DEBUG ( 1442): b6ff2174 b763dfc0 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2184 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2194 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21a4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21b4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21c4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21d4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21e4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff21f4 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2204 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2214 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2224 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2234 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6ff2244 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near fp: I/DEBUG ( 1442): b6fb72cc 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb72dc 00000000 00000000 ffffffff 00000000 I/DEBUG ( 1442): b6fb72ec 00000000 00000001 000007ff 00000000 I/DEBUG ( 1442): b6fb72fc 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb730c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb731c 00000000 00000000 b6f7db05 b6f7db01 I/DEBUG ( 1442): b6fb732c b6f7e4b3 b6f7e5ed 00000000 00000000 I/DEBUG ( 1442): b6fb733c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb734c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb735c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb736c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb737c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb738c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb739c 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb73ac 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b6fb73bc 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near ip: I/DEBUG ( 1442): b6ff1f24 b6f793f1 b6f93c55 b6f44029 b6f68927 I/DEBUG ( 1442): b6ff1f34 b6ec7341 b6fd19d9 b6f7cfad b6f8d290 I/DEBUG ( 1442): b6ff1f44 b6f798b4 b6f799b8 b6ed8bac b6ed8f64 I/DEBUG ( 1442): b6ff1f54 b6f9ab71 b6f7fbb5 b6f4422d b6ed8b04 I/DEBUG ( 1442): b6ff1f64 b6f78cc5 b6f8d014 b6f79690 b6f68919 I/DEBUG ( 1442): b6ff1f74 b6f4406f b6f44117 b6f7f9d1 b6f782ec I/DEBUG ( 1442): b6ff1f84 b6f99563 b6f7dfe1 b6ec7615 b6f78cd9 I/DEBUG ( 1442): b6ff1f94 b6ed9330 b6f79d40 b6f7f53d b6f68931 I/DEBUG ( 1442): b6ff1fa4 b6f42553 b6f42553 b6f44021 b6f42553 I/DEBUG ( 1442): b6ff1fb4 b6f45823 b6f980c1 b6f7f4f1 b6f7e4cd I/DEBUG ( 1442): b6ff1fc4 b6f98cdd b6f8b3d8 b6f7dd15 b6f8d90c I/DEBUG ( 1442): b6ff1fd4 b6f8b488 b6f8b70c b6f4567d b6f455f5 I/DEBUG ( 1442): b6ff1fe4 b6f4586d b6f4549d b6f453cd b6f457d5 I/DEBUG ( 1442): b6ff1ff4 b6f45811 b6f45a59 b6f45a4d 00000000 I/DEBUG ( 1442): b6ff2004 b763dc58 03e70000 03ebb000 00000000 I/DEBUG ( 1442): b6ff2014 00000000 00000000 00000000 fb7fb489 I/DEBUG ( 1442): I/DEBUG ( 1442): memory near sp: I/DEBUG ( 1442): b5e87cf0 00000000 b6ed8c9c b6ff2008 00000050 I/DEBUG ( 1442): b5e87d00 2fa73650 b6ff2164 b6fee3e1 b6fee451 I/DEBUG ( 1442): b5e87d10 00070800 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d20 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d30 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d40 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d50 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d60 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d70 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d80 00000000 00000000 00000000 00000000 I/DEBUG ( 1442): b5e87d90 00000000 b5e87dd0 b763dfc0 b6fee3e1 I/DEBUG ( 1442): b5e87da0 00000000 b6fee3e1 b5d8a000 b6ff2174 I/DEBUG ( 1442): b5e87db0 b6fb72ec b6f78244 00000000 b763dfc0 I/DEBUG ( 1442): b5e87dc0 b5e87dd0 00000000 00000078 b6f783e0 I/DEBUG ( 1442): b5e87dd0 b5e87dd0 b763dfc0 00000000 00000000 I/DEBUG ( 1442): b5e87de0 00000000 bf975466 00000000 00000000 I/DEBUG ( 1442): I/DEBUG ( 1442): code around pc: I/DEBUG ( 1442): b6fee438 44784869 edb8f7ff da002800 4628e078 I/DEBUG ( 1442): b6fee448 436e2550 eda4f7ff 20e1f44f 4a644963 I/DEBUG ( 1442): b6fee458 59a39000 44792003 f7ff447a f8d4ed88 I/DEBUG ( 1442): b6fee468 20126144 19614375 5962684b 4b52930f I/DEBUG ( 1442): b6fee478 8906e9d1 f8d1920e 2200a048 92121c71 I/DEBUG ( 1442): b6fee488 ea01921e 25010203 95162a00 8914e9cd I/DEBUG ( 1442): b6fee498 da039011 f0651e55 1c420003 f8c44851 I/DEBUG ( 1442): b6fee4a8 44782144 ed7af7ff f06f990e f8df4540 I/DEBUG ( 1442): b6fee4b8 9b0f8138 bfc842a9 4140f101 bfc844f8 I/DEBUG ( 1442): b6fee4c8 f8d8910e 42ab0000 f103bfc4 930f4340 I/DEBUG ( 1442): b6fee4d8 a90e69c2 46054790 f8df4844 44789114 I/DEBUG ( 1442): b6fee4e8 ed68f7ff b10cf8df 44f94a43 4649447a I/DEBUG ( 1442): b6fee4f8 44fb462b f7ff2003 4658ed3a ed4ef7ff I/DEBUG ( 1442): b6fee508 4478483e 1148f8d0 f8c01c4b 46583148 I/DEBUG ( 1442): b6fee518 ed44f7ff 46514a3a 6810447a fb0cf000 I/DEBUG ( 1442): b6fee528 4a38b15d 46492006 462b447a ed1ef7ff I/DEBUG ( 1442): I/DEBUG ( 1442): code around lr: I/DEBUG ( 1442): b6fee430 e081edba edb6f7ff 44784869 edb8f7ff I/DEBUG ( 1442): b6fee440 da002800 4628e078 436e2550 eda4f7ff I/DEBUG ( 1442): b6fee450 20e1f44f 4a644963 59a39000 44792003 I/DEBUG ( 1442): b6fee460 f7ff447a f8d4ed88 20126144 19614375 I/DEBUG ( 1442): b6fee470 5962684b 4b52930f 8906e9d1 f8d1920e I/DEBUG ( 1442): b6fee480 2200a048 92121c71 ea01921e 25010203 I/DEBUG ( 1442): b6fee490 95162a00 8914e9cd da039011 f0651e55 I/DEBUG ( 1442): b6fee4a0 1c420003 f8c44851 44782144 ed7af7ff I/DEBUG ( 1442): b6fee4b0 f06f990e f8df4540 9b0f8138 bfc842a9 I/DEBUG ( 1442): b6fee4c0 4140f101 bfc844f8 f8d8910e 42ab0000 I/DEBUG ( 1442): b6fee4d0 f103bfc4 930f4340 a90e69c2 46054790 I/DEBUG ( 1442): b6fee4e0 f8df4844 44789114 ed68f7ff b10cf8df I/DEBUG ( 1442): b6fee4f0 44f94a43 4649447a 44fb462b f7ff2003 I/DEBUG ( 1442): b6fee500 4658ed3a ed4ef7ff 4478483e 1148f8d0 I/DEBUG ( 1442): b6fee510 f8c01c4b 46583148 ed44f7ff 46514a3a I/DEBUG ( 1442): b6fee520 6810447a fb0cf000 4a38b15d 46492006 I/DEBUG ( 1442): I/DEBUG ( 1442): memory map around fault addr e6a65658: I/DEBUG ( 1442): beb04000-beb25000 rw- [stack] I/DEBUG ( 1442): (no map for address) I/DEBUG ( 1442): ffff0000-ffff1000 r-x [vectors] 阅读更多","@type":"BlogPosting","url":"/2014/09/09/5859db4e53899e2390ca3f5d7182ed51.html","headline":"c++中局部变量未初始化引发的离奇惨案~~","dateModified":"2014-09-09T00:00:00+08:00","datePublished":"2014-09-09T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/2014/09/09/5859db4e53899e2390ca3f5d7182ed51.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-1');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>c++中局部变量未初始化引发的离奇惨案~~</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css"> 
 <div class="htmledit_views"> 
  <p>今天在调试一段全志原厂的android hardware test代码时，碰到个奇异的问题，最后查出由于局部变量未初始化造成的， 写了个简单的重现test：</p> 
  <p></p> 
  <pre><code class="language-cpp">#include &lt;stdio.h&gt;
#include &lt;pthread.h&gt;

typedef struct buf{
	char* 	datas[5];
	int	n;
}buf_t;

buf_t buffer;

void* thr_func(void* arg){
	int index;
	
	printf("index=%d\n", index);
	printf("pdata=%p\n", buffer.datas[index], index);
	
	return (void*)0;
}

int main()
{
	pthread_t pid;
	
	pthread_create(&amp;pid, NULL, thr_func, NULL);
	
	if(pid !=0) {                 
		pthread_join(pid,NULL);
	}
	
	return 0;
}</code></pre>在&nbsp;gcc (Ubuntu/Linaro 4.6.3-1ubuntu5) 4.6.3 下测试得到结果： 
  <p></p> 
  <p>index=32605<br> Segmentation fault (core dumped)</p> 
  <p>可使用gdb 调试获取更多信息！<br><br></p> 
  <p><br></p> 
  <p>发现问题的工程代码片段：</p> 
  <p>代码：printf为我添加的调试log；</p> 
  <p></p> 
  <pre><code class="language-cpp">thread_func(){
	int read_id;
        ....
	whle（）{
		printf("++++++++++++++ dump yuv data:  %p, %d", gBufMrgQ.omx_bufhead[read_id].buf_info.addrY, mWidth*mHeight*3/2);
	}
}</code></pre>
  <br>
  <br>
  <p></p> 
  <p>原来的代码。。。。</p> 
  <p>编译警告信息：&nbsp;</p> 
  <p></p> 
  <pre><code class="language-plain">hardware/aw/AWcodecTest/AWcodecTest.cpp:303:1: warning: 'read_id' may be used uninitialized in this function [-Wmaybe-uninitialized]</code></pre> 
  <p><br></p> 
  <p>运行时的崩溃信息：</p> 
  <p></p> 
  <pre><code class="language-plain">F/libc    ( 4389): Fatal signal 11 (SIGSEGV) at 0xe6a65658 (code=1), thread 4391 (awcodec_test)
I/DEBUG   ( 1442): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***
I/DEBUG   ( 1442): Build fingerprint: 'softwinners/mars_A31/mars-A31:4.4.2/KOT49H/20140801:eng/test-keys'
I/DEBUG   ( 1442): Revision: '13'
I/DEBUG   ( 1442): pid: 4389, tid: 4391, name: awcodec_test  &gt;&gt;&gt; ./awcodec_test &lt;&lt;&lt;
I/DEBUG   ( 1442): AM write failure (32 / Broken pipe)
I/DEBUG   ( 1442): signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr e6a65658
W/NativeCrashListener( 1957): Couldn't find ProcessRecord for pid 4389
I/DEBUG   ( 1442):     r0 00070800  r1 00001186  r2 00001213  r3 00000000
I/DEBUG   ( 1442):     r4 b6ff2008  r5 00000050  r6 2fa73650  r7 b6ff2164
I/DEBUG   ( 1442):     r8 b6fee3e1  r9 b5d8a000  sl b6ff2174  fp b6fb72ec
I/DEBUG   ( 1442):     ip b6ff1f44  sp b5e87d10  lr b6fee451  pc b6fee45a  cpsr 600e0030
I/DEBUG   ( 1442):     d0  3830303266663662  d1  000000000000000b
I/DEBUG   ( 1442):     d2  6f6f6c206f67202c  d3  2e2e2e2e2e2e2e70
I/DEBUG   ( 1442):     d4  3ff0000000000000  d5  0000000000000000
I/DEBUG   ( 1442):     d6  0000000000000000  d7  4a40000000000000
I/DEBUG   ( 1442):     d8  0000000000000000  d9  0000000000000000
I/DEBUG   ( 1442):     d10 0000000000000000  d11 0000000000000000
I/DEBUG   ( 1442):     d12 0000000000000000  d13 0000000000000000
I/DEBUG   ( 1442):     d14 0000000000000000  d15 0000000000000000
I/DEBUG   ( 1442):     d16 3fe0000000000000  d17 000000000000000b
I/DEBUG   ( 1442):     d18 41c0e6bd89800000  d19 0000000000000000
I/DEBUG   ( 1442):     d20 0000000000000000  d21 0000000000000000
I/DEBUG   ( 1442):     d22 0000000000000000  d23 0000000000000000
I/DEBUG   ( 1442):     d24 0000000000000000  d25 0000000000000000
I/DEBUG   ( 1442):     d26 0000000000000000  d27 0000000000000000
I/DEBUG   ( 1442):     d28 0000000000000000  d29 0000000000000000
I/DEBUG   ( 1442):     d30 0000000000000000  d31 0000000000000000
I/DEBUG   ( 1442):     scr 00000010
I/DEBUG   ( 1442): 
I/DEBUG   ( 1442): backtrace:
I/DEBUG   ( 1442):     #00  pc 0000145a  /data/test/awcodec_test
I/DEBUG   ( 1442):     #01  pc 0000d240  /system/lib/libc.so (__thread_entry+72)
I/DEBUG   ( 1442):     #02  pc 0000d3dc  /system/lib/libc.so (pthread_create+240)
I/DEBUG   ( 1442): 
I/DEBUG   ( 1442): stack:
I/DEBUG   ( 1442):          b5e87cd0  00000000  
I/DEBUG   ( 1442):          b5e87cd4  00000000  
I/DEBUG   ( 1442):          b5e87cd8  00000000  
I/DEBUG   ( 1442):          b5e87cdc  00000000  
I/DEBUG   ( 1442):          b5e87ce0  b763b430  [heap]
I/DEBUG   ( 1442):          b5e87ce4  b6eec190  /system/lib/libcedarxbase.so
I/DEBUG   ( 1442):          b5e87ce8  540ebe94  
I/DEBUG   ( 1442):          b5e87cec  0001ec3a  
I/DEBUG   ( 1442):          b5e87cf0  00000000  
I/DEBUG   ( 1442):          b5e87cf4  b6ed8c9c  /system/lib/libcedarxbase.so (ve_mutex_lock+240)
I/DEBUG   ( 1442):          b5e87cf8  b6ff2008  
I/DEBUG   ( 1442):          b5e87cfc  00000050  
I/DEBUG   ( 1442):          b5e87d00  2fa73650  
I/DEBUG   ( 1442):          b5e87d04  b6ff2164  
I/DEBUG   ( 1442):          b5e87d08  b6fee3e1  /data/test/awcodec_test
I/DEBUG   ( 1442):          b5e87d0c  b6fee451  /data/test/awcodec_test
I/DEBUG   ( 1442):     #00  b5e87d10  00070800  
I/DEBUG   ( 1442):          b5e87d14  00000000  
I/DEBUG   ( 1442):          b5e87d18  00000000  
I/DEBUG   ( 1442):          b5e87d1c  00000000  
I/DEBUG   ( 1442):          b5e87d20  00000000  
I/DEBUG   ( 1442):          b5e87d24  00000000  
I/DEBUG   ( 1442):          b5e87d28  00000000  
I/DEBUG   ( 1442):          b5e87d2c  00000000  
I/DEBUG   ( 1442):          b5e87d30  00000000  
I/DEBUG   ( 1442):          b5e87d34  00000000  
I/DEBUG   ( 1442):          b5e87d38  00000000  
I/DEBUG   ( 1442):          b5e87d3c  00000000  
I/DEBUG   ( 1442):          b5e87d40  00000000  
I/DEBUG   ( 1442):          b5e87d44  00000000  
I/DEBUG   ( 1442):          b5e87d48  00000000  
I/DEBUG   ( 1442):          b5e87d4c  00000000  
I/DEBUG   ( 1442):          ........  ........
I/DEBUG   ( 1442):     #01  b5e87db8  00000000  
I/DEBUG   ( 1442):          b5e87dbc  b763dfc0  [heap]
I/DEBUG   ( 1442):          b5e87dc0  b5e87dd0  
I/DEBUG   ( 1442):          b5e87dc4  00000000  
I/DEBUG   ( 1442):          b5e87dc8  00000078  
I/DEBUG   ( 1442):          b5e87dcc  b6f783e0  /system/lib/libc.so (pthread_create+244)
I/DEBUG   ( 1442):     #02  b5e87dd0  b5e87dd0  
I/DEBUG   ( 1442):          b5e87dd4  b763dfc0  [heap]
I/DEBUG   ( 1442):          b5e87dd8  00000000  
I/DEBUG   ( 1442):          b5e87ddc  00000000  
I/DEBUG   ( 1442):          b5e87de0  00000000  
I/DEBUG   ( 1442):          b5e87de4  bf975466  
I/DEBUG   ( 1442):          b5e87de8  00000000  
I/DEBUG   ( 1442):          b5e87dec  00000000  
I/DEBUG   ( 1442):          b5e87df0  00000000  
I/DEBUG   ( 1442):          b5e87df4  00000000  
I/DEBUG   ( 1442):          b5e87df8  00000000  
I/DEBUG   ( 1442):          b5e87dfc  00000000  
I/DEBUG   ( 1442):          b5e87e00  00000000  
I/DEBUG   ( 1442):          b5e87e04  00000000  
I/DEBUG   ( 1442):          b5e87e08  00000000  
I/DEBUG   ( 1442):          b5e87e0c  00000000  
I/DEBUG   ( 1442): 
I/DEBUG   ( 1442): memory near r0:
I/DEBUG   ( 1442):     000707e0 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     000707f0 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00070800 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00070810 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00070820 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00070830 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00070840 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00070850 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00070860 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00070870 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00070880 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00070890 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     000708a0 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     000708b0 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     000708c0 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     000708d0 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442): 
I/DEBUG   ( 1442): memory near r1:
I/DEBUG   ( 1442):     00001164 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00001174 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00001184 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00001194 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     000011a4 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     000011b4 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     000011c4 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     000011d4 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     000011e4 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     000011f4 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00001204 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00001214 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00001224 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00001234 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00001244 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00001254 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442): 
I/DEBUG   ( 1442): memory near r2:
I/DEBUG   ( 1442):     000011f0 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00001200 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00001210 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00001220 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00001230 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00001240 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00001250 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00001260 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00001270 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00001280 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     00001290 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     000012a0 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     000012b0 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     000012c0 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     000012d0 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     000012e0 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442): 
I/DEBUG   ( 1442): memory near r4:
I/DEBUG   ( 1442):     b6ff1fe8 b6f4549d b6f453cd b6f457d5 b6f45811  
I/DEBUG   ( 1442):     b6ff1ff8 b6f45a59 b6f45a4d 00000000 b763dc58  
I/DEBUG   ( 1442):     b6ff2008 03e70000 03ebb000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff2018 00000000 00000000 fb7fb489 0005029d  
I/DEBUG   ( 1442):     b6ff2028 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff2038 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff2048 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff2058 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff2068 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff2078 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff2088 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff2098 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff20a8 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff20b8 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff20c8 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff20d8 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442): 
I/DEBUG   ( 1442): memory near r6:
I/DEBUG   ( 1442):     2fa73630 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     2fa73640 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     2fa73650 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     2fa73660 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     2fa73670 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     2fa73680 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     2fa73690 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     2fa736a0 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     2fa736b0 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     2fa736c0 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     2fa736d0 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     2fa736e0 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     2fa736f0 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     2fa73700 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     2fa73710 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442):     2fa73720 ffffffff ffffffff ffffffff ffffffff  
I/DEBUG   ( 1442): 
I/DEBUG   ( 1442): memory near r7:
I/DEBUG   ( 1442):     b6ff2144 00000000 00000001 00000000 00000003  
I/DEBUG   ( 1442):     b6ff2154 00000000 00000015 00000002 b763dc10  
I/DEBUG   ( 1442):     b6ff2164 00000001 b6fc2d8c b763b498 b763b430  
I/DEBUG   ( 1442):     b6ff2174 b763dfc0 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff2184 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff2194 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff21a4 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff21b4 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff21c4 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff21d4 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff21e4 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff21f4 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff2204 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff2214 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff2224 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff2234 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442): 
I/DEBUG   ( 1442): memory near r8:
I/DEBUG   ( 1442):     b6fee3c0 83f0e8bd 00003c00 fffffff4 000012a8  
I/DEBUG   ( 1442):     b6fee3d0 000012b2 00001256 0000126c 0000126d  
I/DEBUG   ( 1442):     b6fee3e0 4ff0e92d 4a784c77 4621447c 447ab0a1  
I/DEBUG   ( 1442):     b6fee3f0 f7ff2006 4a75edc0 46214b75 4c764f75  
I/DEBUG   ( 1442):     b6fee400 447a2003 f7ff447b 447fedb6 e0c8447c  
I/DEBUG   ( 1442):     b6fee410 21004d72 447d2248 f7ffa80e 4628edb8  
I/DEBUG   ( 1442):     b6fee420 edbaf7ff 3148f8d4 2b044628 f7ffd102  
I/DEBUG   ( 1442):     b6fee430 e081edba edb6f7ff 44784869 edb8f7ff  
I/DEBUG   ( 1442):     b6fee440 da002800 4628e078 436e2550 eda4f7ff  
I/DEBUG   ( 1442):     b6fee450 20e1f44f 4a644963 59a39000 44792003  
I/DEBUG   ( 1442):     b6fee460 f7ff447a f8d4ed88 20126144 19614375  
I/DEBUG   ( 1442):     b6fee470 5962684b 4b52930f 8906e9d1 f8d1920e  
I/DEBUG   ( 1442):     b6fee480 2200a048 92121c71 ea01921e 25010203  
I/DEBUG   ( 1442):     b6fee490 95162a00 8914e9cd da039011 f0651e55  
I/DEBUG   ( 1442):     b6fee4a0 1c420003 f8c44851 44782144 ed7af7ff  
I/DEBUG   ( 1442):     b6fee4b0 f06f990e f8df4540 9b0f8138 bfc842a9  
I/DEBUG   ( 1442): 
I/DEBUG   ( 1442): memory near r9:
I/DEBUG   ( 1442):     b5d89fe0 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b5d89ff0 00000000 00000000 df0027ad 00000000  
I/DEBUG   ( 1442):     b5d8a000 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b5d8a010 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b5d8a020 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b5d8a030 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b5d8a040 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b5d8a050 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b5d8a060 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b5d8a070 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b5d8a080 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b5d8a090 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b5d8a0a0 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b5d8a0b0 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b5d8a0c0 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b5d8a0d0 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442): 
I/DEBUG   ( 1442): memory near sl:
I/DEBUG   ( 1442):     b6ff2154 00000000 00000015 00000002 b763dc10  
I/DEBUG   ( 1442):     b6ff2164 00000001 b6fc2d8c b763b498 b763b430  
I/DEBUG   ( 1442):     b6ff2174 b763dfc0 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff2184 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff2194 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff21a4 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff21b4 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff21c4 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff21d4 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff21e4 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff21f4 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff2204 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff2214 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff2224 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff2234 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6ff2244 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442): 
I/DEBUG   ( 1442): memory near fp:
I/DEBUG   ( 1442):     b6fb72cc 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6fb72dc 00000000 00000000 ffffffff 00000000  
I/DEBUG   ( 1442):     b6fb72ec 00000000 00000001 000007ff 00000000  
I/DEBUG   ( 1442):     b6fb72fc 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6fb730c 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6fb731c 00000000 00000000 b6f7db05 b6f7db01  
I/DEBUG   ( 1442):     b6fb732c b6f7e4b3 b6f7e5ed 00000000 00000000  
I/DEBUG   ( 1442):     b6fb733c 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6fb734c 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6fb735c 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6fb736c 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6fb737c 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6fb738c 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6fb739c 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6fb73ac 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b6fb73bc 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442): 
I/DEBUG   ( 1442): memory near ip:
I/DEBUG   ( 1442):     b6ff1f24 b6f793f1 b6f93c55 b6f44029 b6f68927  
I/DEBUG   ( 1442):     b6ff1f34 b6ec7341 b6fd19d9 b6f7cfad b6f8d290  
I/DEBUG   ( 1442):     b6ff1f44 b6f798b4 b6f799b8 b6ed8bac b6ed8f64  
I/DEBUG   ( 1442):     b6ff1f54 b6f9ab71 b6f7fbb5 b6f4422d b6ed8b04  
I/DEBUG   ( 1442):     b6ff1f64 b6f78cc5 b6f8d014 b6f79690 b6f68919  
I/DEBUG   ( 1442):     b6ff1f74 b6f4406f b6f44117 b6f7f9d1 b6f782ec  
I/DEBUG   ( 1442):     b6ff1f84 b6f99563 b6f7dfe1 b6ec7615 b6f78cd9  
I/DEBUG   ( 1442):     b6ff1f94 b6ed9330 b6f79d40 b6f7f53d b6f68931  
I/DEBUG   ( 1442):     b6ff1fa4 b6f42553 b6f42553 b6f44021 b6f42553  
I/DEBUG   ( 1442):     b6ff1fb4 b6f45823 b6f980c1 b6f7f4f1 b6f7e4cd  
I/DEBUG   ( 1442):     b6ff1fc4 b6f98cdd b6f8b3d8 b6f7dd15 b6f8d90c  
I/DEBUG   ( 1442):     b6ff1fd4 b6f8b488 b6f8b70c b6f4567d b6f455f5  
I/DEBUG   ( 1442):     b6ff1fe4 b6f4586d b6f4549d b6f453cd b6f457d5  
I/DEBUG   ( 1442):     b6ff1ff4 b6f45811 b6f45a59 b6f45a4d 00000000  
I/DEBUG   ( 1442):     b6ff2004 b763dc58 03e70000 03ebb000 00000000  
I/DEBUG   ( 1442):     b6ff2014 00000000 00000000 00000000 fb7fb489  
I/DEBUG   ( 1442): 
I/DEBUG   ( 1442): memory near sp:
I/DEBUG   ( 1442):     b5e87cf0 00000000 b6ed8c9c b6ff2008 00000050  
I/DEBUG   ( 1442):     b5e87d00 2fa73650 b6ff2164 b6fee3e1 b6fee451  
I/DEBUG   ( 1442):     b5e87d10 00070800 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b5e87d20 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b5e87d30 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b5e87d40 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b5e87d50 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b5e87d60 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b5e87d70 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b5e87d80 00000000 00000000 00000000 00000000  
I/DEBUG   ( 1442):     b5e87d90 00000000 b5e87dd0 b763dfc0 b6fee3e1  
I/DEBUG   ( 1442):     b5e87da0 00000000 b6fee3e1 b5d8a000 b6ff2174  
I/DEBUG   ( 1442):     b5e87db0 b6fb72ec b6f78244 00000000 b763dfc0  
I/DEBUG   ( 1442):     b5e87dc0 b5e87dd0 00000000 00000078 b6f783e0  
I/DEBUG   ( 1442):     b5e87dd0 b5e87dd0 b763dfc0 00000000 00000000  
I/DEBUG   ( 1442):     b5e87de0 00000000 bf975466 00000000 00000000  
I/DEBUG   ( 1442): 
I/DEBUG   ( 1442): code around pc:
I/DEBUG   ( 1442):     b6fee438 44784869 edb8f7ff da002800 4628e078  
I/DEBUG   ( 1442):     b6fee448 436e2550 eda4f7ff 20e1f44f 4a644963  
I/DEBUG   ( 1442):     b6fee458 59a39000 44792003 f7ff447a f8d4ed88  
I/DEBUG   ( 1442):     b6fee468 20126144 19614375 5962684b 4b52930f  
I/DEBUG   ( 1442):     b6fee478 8906e9d1 f8d1920e 2200a048 92121c71  
I/DEBUG   ( 1442):     b6fee488 ea01921e 25010203 95162a00 8914e9cd  
I/DEBUG   ( 1442):     b6fee498 da039011 f0651e55 1c420003 f8c44851  
I/DEBUG   ( 1442):     b6fee4a8 44782144 ed7af7ff f06f990e f8df4540  
I/DEBUG   ( 1442):     b6fee4b8 9b0f8138 bfc842a9 4140f101 bfc844f8  
I/DEBUG   ( 1442):     b6fee4c8 f8d8910e 42ab0000 f103bfc4 930f4340  
I/DEBUG   ( 1442):     b6fee4d8 a90e69c2 46054790 f8df4844 44789114  
I/DEBUG   ( 1442):     b6fee4e8 ed68f7ff b10cf8df 44f94a43 4649447a  
I/DEBUG   ( 1442):     b6fee4f8 44fb462b f7ff2003 4658ed3a ed4ef7ff  
I/DEBUG   ( 1442):     b6fee508 4478483e 1148f8d0 f8c01c4b 46583148  
I/DEBUG   ( 1442):     b6fee518 ed44f7ff 46514a3a 6810447a fb0cf000  
I/DEBUG   ( 1442):     b6fee528 4a38b15d 46492006 462b447a ed1ef7ff  
I/DEBUG   ( 1442): 
I/DEBUG   ( 1442): code around lr:
I/DEBUG   ( 1442):     b6fee430 e081edba edb6f7ff 44784869 edb8f7ff  
I/DEBUG   ( 1442):     b6fee440 da002800 4628e078 436e2550 eda4f7ff  
I/DEBUG   ( 1442):     b6fee450 20e1f44f 4a644963 59a39000 44792003  
I/DEBUG   ( 1442):     b6fee460 f7ff447a f8d4ed88 20126144 19614375  
I/DEBUG   ( 1442):     b6fee470 5962684b 4b52930f 8906e9d1 f8d1920e  
I/DEBUG   ( 1442):     b6fee480 2200a048 92121c71 ea01921e 25010203  
I/DEBUG   ( 1442):     b6fee490 95162a00 8914e9cd da039011 f0651e55  
I/DEBUG   ( 1442):     b6fee4a0 1c420003 f8c44851 44782144 ed7af7ff  
I/DEBUG   ( 1442):     b6fee4b0 f06f990e f8df4540 9b0f8138 bfc842a9  
I/DEBUG   ( 1442):     b6fee4c0 4140f101 bfc844f8 f8d8910e 42ab0000  
I/DEBUG   ( 1442):     b6fee4d0 f103bfc4 930f4340 a90e69c2 46054790  
I/DEBUG   ( 1442):     b6fee4e0 f8df4844 44789114 ed68f7ff b10cf8df  
I/DEBUG   ( 1442):     b6fee4f0 44f94a43 4649447a 44fb462b f7ff2003  
I/DEBUG   ( 1442):     b6fee500 4658ed3a ed4ef7ff 4478483e 1148f8d0  
I/DEBUG   ( 1442):     b6fee510 f8c01c4b 46583148 ed44f7ff 46514a3a  
I/DEBUG   ( 1442):     b6fee520 6810447a fb0cf000 4a38b15d 46492006  
I/DEBUG   ( 1442): 
I/DEBUG   ( 1442): memory map around fault addr e6a65658:
I/DEBUG   ( 1442):     beb04000-beb25000 rw- [stack]
I/DEBUG   ( 1442):     (no map for address)
I/DEBUG   ( 1442):     ffff0000-ffff1000 r-x [vectors]</code></pre>
  <br>
  <br>
  <p><br></p> 
  <p><br></p> 
  <p><br></p> 
  <p><br></p> 
  <p><br></p> 
 </div> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn btn-red-hollow" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/shawnkong/article/details/39158551,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/shawnkong/article/details/39158551,&quot;}">阅读更多</a> 
</div>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?ee64533f3c6a7a284cd39a37ee732c8b";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
