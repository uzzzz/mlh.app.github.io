<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Clang+llvm windows运行环境配置 | 有组织在！</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Clang+llvm windows运行环境配置" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="下了官网Pre-built Binaries:Clang for Windows（ llvm.org/releases/3.5.0/LLVM-3.5.0-win32.exe ）03 Sep 2014 3.5.0 The LLVM Compiler Infrastructure（llvm.org）&nbsp;download LLVM（llvm.org/releases/） 由于刚刚安装了 TDM GCC 4.9.2 tdm64-gcc-4.9.2-3.exe 2014 December 12th（tdm-gcc.tdragon.net） 用mklink将C:\mingw指向tdm64-gcc-4.9.2-3安装目录。 /* hello.c */ #include &lt;stdio.h&gt; int main() { printf(&quot;hello world\n&quot;); return 0; } &gt;clang hello.c hello.c:2:10:fatal error: &#39;stdio.h&#39; file not found #include &lt;stdio.h&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ^ 1 error generated. &gt;&nbsp; 难道又要下载 LLVM + Clang 源代码，修改 llvm-3.5.0.src\tools\clang\lib\Frontend\下的 InitHeaderSearch.cpp，添加tdm64-gcc-4.9.2-3 C/C++ include search path头文件搜索路径，重新编译一次(具体参看旧文Clang+llvm在windows下面怎么配置运行)。看了3.5.0源码，官网Pre-builtBinaries支持到MiniGW 4.8.2。难道每次使用新版 MinGW，都要重复这恼人的编译。 现在，告诉你，只要添加几个环境变量即可。 PATH添加 编译器和LLVM+Clang Command Line Path 命令行运行路径。 至于C/C++ include search path 头文件搜索路径： 使用 MinGW 的，要设置： C_INCLUDE_PATH CPLUS_INCLUDE_PATH 使用 Visual C++ 的，要设置： INCLUDE 当然，如果有附加的链接库 MinGW 设置LIBRARY_PATH VisualC++ 设置LIB 下面以使用 tdm64-gcc-4.9.2 为例： Run-Clang.bat @remset run llvm+clang with mingw path env @echooff setMINGW_HOME=c:\mingw setMINGW_VERSION=4.9.2 set&quot;PATH=%MINGW_HOME%\bin;%PATH%&quot; set&quot;C_INCLUDE_PATH=%MINGW_HOME%\include;%MINGW_HOME%\x86_64-w64-mingw32\include&quot; set&quot;CPLUS_INCLUDE_PATH=%C_INCLUDE_PATH%;%MINGW_HOME%\lib\gcc\x86_64-w64-mingw32\%MINGW_VERSION%\include;%MINGW_HOME%\lib\gcc\x86_64-w64-mingw32\%MINGW_VERSION%\include\c++;%MINGW_HOME%\lib\gcc\x86_64-w64-mingw32\%MINGW_VERSION%\include\c++\x86_64-w64-mingw32;%MINGW_HOME%\lib\gcc\x86_64-w64-mingw32\%MINGW_VERSION%\include\c++\backward&quot; setLLVM_HOME=c:\llvm set&quot;PATH=%LLVM_HOME%\bin;%PATH%&quot; %comspec% 转载请注明引用地址 ：http://blog.csdn.net/gocad/article/details/42297829 谢谢 如果使用 tdm32-gcc-4.9.2 则 C_INCLUDE_PATH=%MINGW_HOME%\include CPLUS_INCLUDE_PATH=%MINGW_HOME%\include;%MINGW_HOME%\lib\gcc\mingw32\%MINGW_VERSION%\include;%MINGW_HOME%\lib\gcc\mingw32\%MINGW_VERSION%\include\c++;%MINGW_HOME%\lib\gcc\mingw32\%MINGW_VERSION%\include\c++\mingw32;%MINGW_HOME%\lib\gcc\mingw32\%MINGW_VERSION%\include\c++\backward使用其它版本 MinGW 的，请根据各版本实际路径设置。当然也可以自己编辑成像vcvars32.bat带参数调用。 VisualC++ 用户调用现成的Visual Studio Native Tools Command Prompt，或自己调用 vcvars32.bat 设置 Visual C++ 命令行编译环境。 或Installing MSVC integration 下面是有些需要注意的地方： 关于 –m32/-m64, clang, clang++,clang-cl 默认 ( Target: i686-pc-windows-gnu/i686-pc-windows-msvc，Thread model: posix ) –m32( Target:i386-pc-windows-gnu/i386-pc-windows-msvc，Thread model: posix ) –m64(Target: x86_64-pc-windows-gnu/x86_64-pc-windows-msvc，Thread model: posix ) 这与tdm64-gcc-4.9.2默认-m64不同，所以要编译 x64 执行代码，请显式调用-m64。 还有 tdm64-gcc-4.9.2 默认 –m64支持 __int128 is supported on thishost. ( 见c++config.h ) 如果同时使用 STL&nbsp;algorithm 与 –m32时，请将 CPLUS_INCLUDE_PATH 中的%MINGW_HOME%\lib\gcc\x86_64-w64-mingw32\%MINGW_VERSION%\include\c++\x86_64-w64-mingw32更改为%MINGW_HOME%\lib\gcc\x86_64-w64-mingw32\%MINGW_VERSION%\include\c++\x86_64-w64-mingw32\32以免编译错误。 如果要用Clang+llvm+MinGW编译 32位执行代码，最好还是使用 MinGW(32)，避免因使用 MinGW-w64 设置不恰当，而生成的编译错误。 &nbsp; Clang具体调用模式与使用的命令参数，请用–v命令选项进行追踪 -v&nbsp;&nbsp;&nbsp; Show commands to run and use verbose output 例如： D:\&gt;clang++ -v hello.c clang version 3.5.0 (217039) Target: i686-pc-windows-gnu Thread model: posix clang++.exe: warning: treating &#39;c&#39; input as &#39;c++&#39; when in C++ mode, this behavior is deprecated &quot;c:\llvm\bin\clang++.exe&quot; -cc1 -triple i686-pc-windows-gnu -emit-obj -mrelax-al l -disable-free -main-file-name hello.c -mrelocation-model static -mdisable-fp-e lim -fmath-errno -masm-verbose -mconstructor-aliases -target-cpu pentium4 -v -dw arf-column-info -resource-dir &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0&quot; -c-isystem &quot;c:\\mingw\\include&quot; -c-isystem &quot;c:\\mingw\\x86_64-w64-mingw32\\include&quot; -cxx-is ystem &quot;c:\\mingw\\include&quot; -cxx-isystem &quot;c:\\mingw\\x86_64-w64-mingw32\\include&quot; -cxx-isystem &quot;c:\\mingw\\lib\\gcc\\x86_64-w64-mingw32\\4.9.2\\include&quot; -cxx-isy stem &quot;c:\\mingw\\lib\\gcc\\x86_64-w64-mingw32\\4.9.2\\include\\c++&quot; -cxx-isystem &quot;c:\\mingw\\lib\\gcc\\x86_64-w64-mingw32\\4.9.2\\include\\c++\\x86_64-w64-mingw 32&quot; -cxx-isystem &quot;c:\\mingw\\lib\\gcc\\x86_64-w64-mingw32\\4.9.2\\include\\c++\\ backward&quot; -fdeprecated-macro -fdebug-compilation-dir &quot;D:\\&quot; -ferror-limit 19 -fm essage-length 80 -mstackrealign -fno-use-cxa-atexit -fobjc-runtime=gcc -fcxx-exc eptions -fexceptions -fdiagnostics-show-option -fcolor-diagnostics -o &quot;C:\\Temp\ \hello-0a5974.o&quot; -x c++ hello.c clang -cc1 version 3.5.0 based upon LLVM 3.5.0 default target i686-pc-windows-gnu ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.0&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.0/x86_64-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.0/i686-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.0/backward&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.1&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.1/x86_64-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.1/i686-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.1/backward&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.2&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.2/x86_64-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.2/i686-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.2/backward&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.3&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.3/x86_64-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.3/i686-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.3/backward&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.0&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.0/x86_64-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.0/i686-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.0/backward&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.1&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.1/x86_64-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.1/i686-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.1/backward&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.2&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.2/x86_64-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.2/i686-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.2/backward&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.0/include/c++&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.0/include/c++/mingw32&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.0/include/c++/backward&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.1/include/c++&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.1/include/c++/mingw32&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.1/include/c++/backward&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.2/include/c++&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.2/include/c++/mingw32&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.2/include/c++/backward&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.3/include/c++&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.3/include/c++/mingw32&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.3/include/c++/backward&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.0/include/c++&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.0/include/c++/mingw32&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.0/include/c++/backward&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.1/include/c++&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.1/include/c++/mingw32&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.1/include/c++/backward&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.2/include/c++&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.2/include/c++/mingw32&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.2/include/c++/backward&quot; ignoring nonexistent directory &quot;/usr/include/c++/4.4&quot; ignoring nonexistent directory &quot;/usr/local/include&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0\../../../i686-w64 -mingw32/include&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0\../../../x86_64-w 64-mingw32/include&quot; ignoring nonexistent directory &quot;/mingw/include&quot; ignoring nonexistent directory &quot;/usr/include&quot; ignoring duplicate directory &quot;c:\mingw\include&quot; #include &quot;...&quot; search starts here: #include &lt;...&gt; search starts here: c:\mingw\include c:\mingw\x86_64-w64-mingw32\include c:\mingw\lib\gcc\x86_64-w64-mingw32\4.9.2\include c:\mingw\lib\gcc\x86_64-w64-mingw32\4.9.2\include\c++ c:\mingw\lib\gcc\x86_64-w64-mingw32\4.9.2\include\c++\x86_64-w64-mingw32 c:\mingw\lib\gcc\x86_64-w64-mingw32\4.9.2\include\c++\backward c:\llvm\bin\..\lib\clang\3.5.0\include c:\llvm\bin\..\lib\clang\3.5.0\../../../include End of search list. &quot;c:\mingw\bin\g++.exe&quot; -v -m32 -o a.out &quot;C:\\Temp\\hello-0a5974.o&quot; Using built-in specs. COLLECT_GCC=c:\mingw\bin\g++.exe COLLECT_LTO_WRAPPER=c:/mingw/bin/../libexec/gcc/x86_64-w64-mingw32/4.9.2/lto-wra pper.exe Target: x86_64-w64-mingw32 Configured with: ../../../src/gcc-4.9.2/configure --build=x86_64-w64-mingw32 --e nable-targets=all --enable-languages=ada,c,c++,fortran,lto,objc,obj-c++ --enable -libgomp --enable-lto --enable-graphite --enable-cxx-flags=-DWINPTHREAD_STATIC - -disable-build-with-cxx --disable-build-poststage1-with-cxx --enable-libstdcxx-d ebug --enable-threads=posix --enable-version-specific-runtime-libs --enable-full y-dynamic-string --enable-libstdcxx-threads --enable-libstdcxx-time --with-gnu-l d --disable-werror --disable-nls --disable-win32-registry --prefix=/mingw64tdm - -with-local-prefix=/mingw64tdm --with-pkgversion=tdm64-1 --with-bugurl=http://td m-gcc.tdragon.net/bugs Thread model: posix gcc version 4.9.2 (tdm64-1) COMPILER_PATH=c:/mingw/bin/../libexec/gcc/x86_64-w64-mingw32/4.9.2/;c:/mingw/bin /../libexec/gcc/;c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x8 6_64-w64-mingw32/bin/ LIBRARY_PATH=c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/32/;c:/mingw/bin/. ./lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-mingw32/lib/../lib32/; c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/;c:/mingw/bin/../lib/gcc/;C:/Mi nGW/lib/;D:/dev/msys64/usr/lib/;c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2 /../../../../x86_64-w64-mingw32/lib/;c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/ 4.9.2/../../../ COLLECT_GCC_OPTIONS=&#39;-v&#39; &#39;-m32&#39; &#39;-o&#39; &#39;a.out&#39; &#39;-mtune=generic&#39; &#39;-march=x86-64&#39; c:/mingw/bin/../libexec/gcc/x86_64-w64-mingw32/4.9.2/collect2.exe -plugin c:/mi ngw/bin/../libexec/gcc/x86_64-w64-mingw32/4.9.2/liblto_plugin-0.dll -plugin-opt= c:/mingw/bin/../libexec/gcc/x86_64-w64-mingw32/4.9.2/lto-wrapper.exe -plugin-opt =-fresolution=C:\Temp\cc83PMcQ.res -plugin-opt=-pass-through=-lmingw32 -plugin-o pt=-pass-through=-lgcc -plugin-opt=-pass-through=-lmoldname -plugin-opt=-pass-th rough=-lmingwex -plugin-opt=-pass-through=-lmsvcrt -plugin-opt=-pass-through=-lp thread -plugin-opt=-pass-through=-ladvapi32 -plugin-opt=-pass-through=-lshell32 -plugin-opt=-pass-through=-luser32 -plugin-opt=-pass-through=-lkernel32 -plugin- opt=-pass-through=-lmingw32 -plugin-opt=-pass-through=-lgcc -plugin-opt=-pass-th rough=-lmoldname -plugin-opt=-pass-through=-lmingwex -plugin-opt=-pass-through=- lmsvcrt -m i386pe --exclude-libs=libpthread.a -Bdynamic -o a.out c:/mingw/bin/.. /lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-mingw32/lib/../lib32/cr t2.o c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-min gw32/lib/../lib32/crtbegin.o -Lc:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/ 32 -Lc:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-min gw32/lib/../lib32 -Lc:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2 -Lc:/mingw/ bin/../lib/gcc -LC:/MinGW/lib -LD:/dev/msys64/usr/lib -Lc:/mingw/bin/../lib/gcc/ x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-mingw32/lib -Lc:/mingw/bin/../li b/gcc/x86_64-w64-mingw32/4.9.2/../../.. C:\Temp\hello-0a5974.o -Bstatic -lstdc++ -Bdynamic -lmingw32 -lgcc -lmoldname -lmingwex -lmsvcrt -lpthread -ladvapi32 -l shell32 -luser32 -lkernel32 -lmingw32 -lgcc -lmoldname -lmingwex -lmsvcrt c:/min gw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-mingw32/lib/.. /lib32/crtend.o D:\&gt; 另外就是，关于 --driver-mode 参数： clang++等效于 clang--driver-mode=g++ clang-cl等效于 clang--driver-mode=cl --driver-mode可以覆盖内置或默认值：clang-cl --driver-mode=g++ 等效于 clang++ 目前，clang-cl 编译 VC x64/amd64 STL algorithm 时，有时会编译不通过,如： error LNK2019: unresolved external symbol __cxa_call_unexpected referenced in function &quot;public: __int64 __cdecl std::_Temp_iterator&lt;long&gt;::_Maxlen(void)&quot; (?_Maxlen@?$_Temp_iterator@J@std@@QEAA_JXZ) error LNK2001: unresolved external symbol __gxx_personality_v0 参考LLVM/Clang On Windows 2013_09（my.oschina.net/GIIoOS/blog/165542） 下面引自（c.tieba.baidu.com/p/3290080396） 关于 LLVM Clang。目前 Clang 在 Windows 下都是基于 MingW 的库，所以编译/链接的时候需要把相应的路径设置好。在我的绿色便携版中都已经设置好了。 llvm-3.5.0.src\tools\clang\tools\driver\driver.cpp Clang在Windows上呈现有三种实现，一种是使用VisualStudio,一种是Mingw,还有一种是Cygwin，clang用一个参数是驱动模式--driver-mode driver.cpp staticconst struct { const char*Suffix; const char*ModeFlag; } suffixes[] = { {&quot;clang&quot;, nullptr }, {&quot;clang++&quot;, &quot;--driver-mode=g++&quot; }, {&quot;clang-c++&quot;, &quot;--driver-mode=g++&quot; }, {&quot;clang-cc&quot;, nullptr }, {&quot;clang-cpp&quot;, &quot;--driver-mode=cpp&quot; }, {&quot;clang-g++&quot;, &quot;--driver-mode=g++&quot; }, {&quot;clang-gcc&quot;, nullptr }, {&quot;clang-cl&quot;, &quot;--driver-mode=cl&quot; }, {&quot;cc&quot;, nullptr }, {&quot;cpp&quot;, &quot;--driver-mode=cpp&quot; }, {&quot;cl&quot; , &quot;--driver-mode=cl&quot; }, {&quot;++&quot;, &quot;--driver-mode=g++&quot; }, }; &nbsp; 下面引自Clang Compiler User’s Manual(clang.llvm.org/docs/UsersManual.html) X86 The support for X86 (both 32-bit and 64-bit) is considered stable onDarwin (Mac OS X), Linux, FreeBSD, and Dragonfly BSD: it has been tested tocorrectly compile many large C, C++, Objective-C, and Objective-C++ codebases. On&nbsp;x86_64-mingw32, passing i128(by value)is incompatible with the Microsoft x64 calling convention. You might need totweak&nbsp;WinX86_64ABIInfo::classify()&nbsp;in lib/CodeGen/TargetInfo.cpp. For the X86 target, clang supports the&nbsp;-m16&nbsp;command line argument which enables16-bit code output. This is broadly similar to using&nbsp;asm(&quot;.code16gcc&quot;)&nbsp;with the GNU toolchain.The generated code and the ABI remains 32-bit but the assembler emitsinstructions appropriate for a CPU running in 16-bit mode, with address-sizeand operand-size prefixes to enable 32-bit addressing and operations. &nbsp; MinGW32 Clang works on some mingw32 distributions. Clang assumes directories asbelow; C:/mingw/include C:/mingw/lib C:/mingw/lib/gcc/mingw32/4.[3-5].0/include/c++ On MSYS, a few tests might fail. MinGW-w64 For 32-bit (i686-w64-mingw32), and 64-bit (x86_64-w64-mingw32), Clangassumes as below; GCC&nbsp;versions&nbsp;4.5.0&nbsp;to&nbsp;4.5.3,&nbsp;4.6.0&nbsp;to&nbsp;4.6.2,&nbsp;or&nbsp;4.7.0&nbsp;(for&nbsp;the&nbsp;C++&nbsp;header&nbsp;search&nbsp;path) some_directory/bin/gcc.exe some_directory/bin/clang.exe some_directory/bin/clang++.exe some_directory/bin/../include/c++/GCC_version some_directory/bin/../include/c++/GCC_version/x86_64-w64-mingw32 some_directory/bin/../include/c++/GCC_version/i686-w64-mingw32 some_directory/bin/../include/c++/GCC_version/backward some_directory/bin/../x86_64-w64-mingw32/include some_directory/bin/../i686-w64-mingw32/include some_directory/bin/../include This directory layout is standard for any toolchain you will find on theofficial&nbsp;MinGW-w64 website. Clang expects the GCC executable “gcc.exe” compiled for&nbsp;i686-w64-mingw32&nbsp;(or&nbsp;x86_64-w64-mingw32) to be present on PATH. Some tests might fail&nbsp;on&nbsp;x86_64-w64-mingw32. clang-cl clang-cl is an alternative command-line interface to Clang driver,designed for compatibility with the Visual C++ compiler, cl.exe. To enable clang-cl to find system headers, libraries, and the linker whenrun from the command-line, it should be executed inside a Visual Studio NativeTools Command Prompt or a regular Command Prompt where the environment has beenset up using e.g.&nbsp;vcvars32.bat. clang-cl can also be used from inside Visual Studio by using an LLVMPlatform Toolset. 转载请注明引用地址 ：http://blog.csdn.net/gocad/article/details/42297829 谢谢 阅读更多" />
<meta property="og:description" content="下了官网Pre-built Binaries:Clang for Windows（ llvm.org/releases/3.5.0/LLVM-3.5.0-win32.exe ）03 Sep 2014 3.5.0 The LLVM Compiler Infrastructure（llvm.org）&nbsp;download LLVM（llvm.org/releases/） 由于刚刚安装了 TDM GCC 4.9.2 tdm64-gcc-4.9.2-3.exe 2014 December 12th（tdm-gcc.tdragon.net） 用mklink将C:\mingw指向tdm64-gcc-4.9.2-3安装目录。 /* hello.c */ #include &lt;stdio.h&gt; int main() { printf(&quot;hello world\n&quot;); return 0; } &gt;clang hello.c hello.c:2:10:fatal error: &#39;stdio.h&#39; file not found #include &lt;stdio.h&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ^ 1 error generated. &gt;&nbsp; 难道又要下载 LLVM + Clang 源代码，修改 llvm-3.5.0.src\tools\clang\lib\Frontend\下的 InitHeaderSearch.cpp，添加tdm64-gcc-4.9.2-3 C/C++ include search path头文件搜索路径，重新编译一次(具体参看旧文Clang+llvm在windows下面怎么配置运行)。看了3.5.0源码，官网Pre-builtBinaries支持到MiniGW 4.8.2。难道每次使用新版 MinGW，都要重复这恼人的编译。 现在，告诉你，只要添加几个环境变量即可。 PATH添加 编译器和LLVM+Clang Command Line Path 命令行运行路径。 至于C/C++ include search path 头文件搜索路径： 使用 MinGW 的，要设置： C_INCLUDE_PATH CPLUS_INCLUDE_PATH 使用 Visual C++ 的，要设置： INCLUDE 当然，如果有附加的链接库 MinGW 设置LIBRARY_PATH VisualC++ 设置LIB 下面以使用 tdm64-gcc-4.9.2 为例： Run-Clang.bat @remset run llvm+clang with mingw path env @echooff setMINGW_HOME=c:\mingw setMINGW_VERSION=4.9.2 set&quot;PATH=%MINGW_HOME%\bin;%PATH%&quot; set&quot;C_INCLUDE_PATH=%MINGW_HOME%\include;%MINGW_HOME%\x86_64-w64-mingw32\include&quot; set&quot;CPLUS_INCLUDE_PATH=%C_INCLUDE_PATH%;%MINGW_HOME%\lib\gcc\x86_64-w64-mingw32\%MINGW_VERSION%\include;%MINGW_HOME%\lib\gcc\x86_64-w64-mingw32\%MINGW_VERSION%\include\c++;%MINGW_HOME%\lib\gcc\x86_64-w64-mingw32\%MINGW_VERSION%\include\c++\x86_64-w64-mingw32;%MINGW_HOME%\lib\gcc\x86_64-w64-mingw32\%MINGW_VERSION%\include\c++\backward&quot; setLLVM_HOME=c:\llvm set&quot;PATH=%LLVM_HOME%\bin;%PATH%&quot; %comspec% 转载请注明引用地址 ：http://blog.csdn.net/gocad/article/details/42297829 谢谢 如果使用 tdm32-gcc-4.9.2 则 C_INCLUDE_PATH=%MINGW_HOME%\include CPLUS_INCLUDE_PATH=%MINGW_HOME%\include;%MINGW_HOME%\lib\gcc\mingw32\%MINGW_VERSION%\include;%MINGW_HOME%\lib\gcc\mingw32\%MINGW_VERSION%\include\c++;%MINGW_HOME%\lib\gcc\mingw32\%MINGW_VERSION%\include\c++\mingw32;%MINGW_HOME%\lib\gcc\mingw32\%MINGW_VERSION%\include\c++\backward使用其它版本 MinGW 的，请根据各版本实际路径设置。当然也可以自己编辑成像vcvars32.bat带参数调用。 VisualC++ 用户调用现成的Visual Studio Native Tools Command Prompt，或自己调用 vcvars32.bat 设置 Visual C++ 命令行编译环境。 或Installing MSVC integration 下面是有些需要注意的地方： 关于 –m32/-m64, clang, clang++,clang-cl 默认 ( Target: i686-pc-windows-gnu/i686-pc-windows-msvc，Thread model: posix ) –m32( Target:i386-pc-windows-gnu/i386-pc-windows-msvc，Thread model: posix ) –m64(Target: x86_64-pc-windows-gnu/x86_64-pc-windows-msvc，Thread model: posix ) 这与tdm64-gcc-4.9.2默认-m64不同，所以要编译 x64 执行代码，请显式调用-m64。 还有 tdm64-gcc-4.9.2 默认 –m64支持 __int128 is supported on thishost. ( 见c++config.h ) 如果同时使用 STL&nbsp;algorithm 与 –m32时，请将 CPLUS_INCLUDE_PATH 中的%MINGW_HOME%\lib\gcc\x86_64-w64-mingw32\%MINGW_VERSION%\include\c++\x86_64-w64-mingw32更改为%MINGW_HOME%\lib\gcc\x86_64-w64-mingw32\%MINGW_VERSION%\include\c++\x86_64-w64-mingw32\32以免编译错误。 如果要用Clang+llvm+MinGW编译 32位执行代码，最好还是使用 MinGW(32)，避免因使用 MinGW-w64 设置不恰当，而生成的编译错误。 &nbsp; Clang具体调用模式与使用的命令参数，请用–v命令选项进行追踪 -v&nbsp;&nbsp;&nbsp; Show commands to run and use verbose output 例如： D:\&gt;clang++ -v hello.c clang version 3.5.0 (217039) Target: i686-pc-windows-gnu Thread model: posix clang++.exe: warning: treating &#39;c&#39; input as &#39;c++&#39; when in C++ mode, this behavior is deprecated &quot;c:\llvm\bin\clang++.exe&quot; -cc1 -triple i686-pc-windows-gnu -emit-obj -mrelax-al l -disable-free -main-file-name hello.c -mrelocation-model static -mdisable-fp-e lim -fmath-errno -masm-verbose -mconstructor-aliases -target-cpu pentium4 -v -dw arf-column-info -resource-dir &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0&quot; -c-isystem &quot;c:\\mingw\\include&quot; -c-isystem &quot;c:\\mingw\\x86_64-w64-mingw32\\include&quot; -cxx-is ystem &quot;c:\\mingw\\include&quot; -cxx-isystem &quot;c:\\mingw\\x86_64-w64-mingw32\\include&quot; -cxx-isystem &quot;c:\\mingw\\lib\\gcc\\x86_64-w64-mingw32\\4.9.2\\include&quot; -cxx-isy stem &quot;c:\\mingw\\lib\\gcc\\x86_64-w64-mingw32\\4.9.2\\include\\c++&quot; -cxx-isystem &quot;c:\\mingw\\lib\\gcc\\x86_64-w64-mingw32\\4.9.2\\include\\c++\\x86_64-w64-mingw 32&quot; -cxx-isystem &quot;c:\\mingw\\lib\\gcc\\x86_64-w64-mingw32\\4.9.2\\include\\c++\\ backward&quot; -fdeprecated-macro -fdebug-compilation-dir &quot;D:\\&quot; -ferror-limit 19 -fm essage-length 80 -mstackrealign -fno-use-cxa-atexit -fobjc-runtime=gcc -fcxx-exc eptions -fexceptions -fdiagnostics-show-option -fcolor-diagnostics -o &quot;C:\\Temp\ \hello-0a5974.o&quot; -x c++ hello.c clang -cc1 version 3.5.0 based upon LLVM 3.5.0 default target i686-pc-windows-gnu ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.0&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.0/x86_64-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.0/i686-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.0/backward&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.1&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.1/x86_64-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.1/i686-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.1/backward&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.2&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.2/x86_64-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.2/i686-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.2/backward&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.3&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.3/x86_64-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.3/i686-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.7.3/backward&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.0&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.0/x86_64-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.0/i686-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.0/backward&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.1&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.1/x86_64-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.1/i686-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.1/backward&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.2&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.2/x86_64-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.2/i686-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0/../../../include/ c++/4.8.2/backward&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.0/include/c++&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.0/include/c++/mingw32&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.0/include/c++/backward&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.1/include/c++&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.1/include/c++/mingw32&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.1/include/c++/backward&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.2/include/c++&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.2/include/c++/mingw32&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.2/include/c++/backward&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.3/include/c++&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.3/include/c++/mingw32&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.3/include/c++/backward&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.0/include/c++&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.0/include/c++/mingw32&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.0/include/c++/backward&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.1/include/c++&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.1/include/c++/mingw32&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.1/include/c++/backward&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.2/include/c++&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.2/include/c++/mingw32&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.2/include/c++/backward&quot; ignoring nonexistent directory &quot;/usr/include/c++/4.4&quot; ignoring nonexistent directory &quot;/usr/local/include&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0\../../../i686-w64 -mingw32/include&quot; ignoring nonexistent directory &quot;c:\llvm\bin\..\lib\clang\3.5.0\../../../x86_64-w 64-mingw32/include&quot; ignoring nonexistent directory &quot;/mingw/include&quot; ignoring nonexistent directory &quot;/usr/include&quot; ignoring duplicate directory &quot;c:\mingw\include&quot; #include &quot;...&quot; search starts here: #include &lt;...&gt; search starts here: c:\mingw\include c:\mingw\x86_64-w64-mingw32\include c:\mingw\lib\gcc\x86_64-w64-mingw32\4.9.2\include c:\mingw\lib\gcc\x86_64-w64-mingw32\4.9.2\include\c++ c:\mingw\lib\gcc\x86_64-w64-mingw32\4.9.2\include\c++\x86_64-w64-mingw32 c:\mingw\lib\gcc\x86_64-w64-mingw32\4.9.2\include\c++\backward c:\llvm\bin\..\lib\clang\3.5.0\include c:\llvm\bin\..\lib\clang\3.5.0\../../../include End of search list. &quot;c:\mingw\bin\g++.exe&quot; -v -m32 -o a.out &quot;C:\\Temp\\hello-0a5974.o&quot; Using built-in specs. COLLECT_GCC=c:\mingw\bin\g++.exe COLLECT_LTO_WRAPPER=c:/mingw/bin/../libexec/gcc/x86_64-w64-mingw32/4.9.2/lto-wra pper.exe Target: x86_64-w64-mingw32 Configured with: ../../../src/gcc-4.9.2/configure --build=x86_64-w64-mingw32 --e nable-targets=all --enable-languages=ada,c,c++,fortran,lto,objc,obj-c++ --enable -libgomp --enable-lto --enable-graphite --enable-cxx-flags=-DWINPTHREAD_STATIC - -disable-build-with-cxx --disable-build-poststage1-with-cxx --enable-libstdcxx-d ebug --enable-threads=posix --enable-version-specific-runtime-libs --enable-full y-dynamic-string --enable-libstdcxx-threads --enable-libstdcxx-time --with-gnu-l d --disable-werror --disable-nls --disable-win32-registry --prefix=/mingw64tdm - -with-local-prefix=/mingw64tdm --with-pkgversion=tdm64-1 --with-bugurl=http://td m-gcc.tdragon.net/bugs Thread model: posix gcc version 4.9.2 (tdm64-1) COMPILER_PATH=c:/mingw/bin/../libexec/gcc/x86_64-w64-mingw32/4.9.2/;c:/mingw/bin /../libexec/gcc/;c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x8 6_64-w64-mingw32/bin/ LIBRARY_PATH=c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/32/;c:/mingw/bin/. ./lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-mingw32/lib/../lib32/; c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/;c:/mingw/bin/../lib/gcc/;C:/Mi nGW/lib/;D:/dev/msys64/usr/lib/;c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2 /../../../../x86_64-w64-mingw32/lib/;c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/ 4.9.2/../../../ COLLECT_GCC_OPTIONS=&#39;-v&#39; &#39;-m32&#39; &#39;-o&#39; &#39;a.out&#39; &#39;-mtune=generic&#39; &#39;-march=x86-64&#39; c:/mingw/bin/../libexec/gcc/x86_64-w64-mingw32/4.9.2/collect2.exe -plugin c:/mi ngw/bin/../libexec/gcc/x86_64-w64-mingw32/4.9.2/liblto_plugin-0.dll -plugin-opt= c:/mingw/bin/../libexec/gcc/x86_64-w64-mingw32/4.9.2/lto-wrapper.exe -plugin-opt =-fresolution=C:\Temp\cc83PMcQ.res -plugin-opt=-pass-through=-lmingw32 -plugin-o pt=-pass-through=-lgcc -plugin-opt=-pass-through=-lmoldname -plugin-opt=-pass-th rough=-lmingwex -plugin-opt=-pass-through=-lmsvcrt -plugin-opt=-pass-through=-lp thread -plugin-opt=-pass-through=-ladvapi32 -plugin-opt=-pass-through=-lshell32 -plugin-opt=-pass-through=-luser32 -plugin-opt=-pass-through=-lkernel32 -plugin- opt=-pass-through=-lmingw32 -plugin-opt=-pass-through=-lgcc -plugin-opt=-pass-th rough=-lmoldname -plugin-opt=-pass-through=-lmingwex -plugin-opt=-pass-through=- lmsvcrt -m i386pe --exclude-libs=libpthread.a -Bdynamic -o a.out c:/mingw/bin/.. /lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-mingw32/lib/../lib32/cr t2.o c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-min gw32/lib/../lib32/crtbegin.o -Lc:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/ 32 -Lc:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-min gw32/lib/../lib32 -Lc:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2 -Lc:/mingw/ bin/../lib/gcc -LC:/MinGW/lib -LD:/dev/msys64/usr/lib -Lc:/mingw/bin/../lib/gcc/ x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-mingw32/lib -Lc:/mingw/bin/../li b/gcc/x86_64-w64-mingw32/4.9.2/../../.. C:\Temp\hello-0a5974.o -Bstatic -lstdc++ -Bdynamic -lmingw32 -lgcc -lmoldname -lmingwex -lmsvcrt -lpthread -ladvapi32 -l shell32 -luser32 -lkernel32 -lmingw32 -lgcc -lmoldname -lmingwex -lmsvcrt c:/min gw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-mingw32/lib/.. /lib32/crtend.o D:\&gt; 另外就是，关于 --driver-mode 参数： clang++等效于 clang--driver-mode=g++ clang-cl等效于 clang--driver-mode=cl --driver-mode可以覆盖内置或默认值：clang-cl --driver-mode=g++ 等效于 clang++ 目前，clang-cl 编译 VC x64/amd64 STL algorithm 时，有时会编译不通过,如： error LNK2019: unresolved external symbol __cxa_call_unexpected referenced in function &quot;public: __int64 __cdecl std::_Temp_iterator&lt;long&gt;::_Maxlen(void)&quot; (?_Maxlen@?$_Temp_iterator@J@std@@QEAA_JXZ) error LNK2001: unresolved external symbol __gxx_personality_v0 参考LLVM/Clang On Windows 2013_09（my.oschina.net/GIIoOS/blog/165542） 下面引自（c.tieba.baidu.com/p/3290080396） 关于 LLVM Clang。目前 Clang 在 Windows 下都是基于 MingW 的库，所以编译/链接的时候需要把相应的路径设置好。在我的绿色便携版中都已经设置好了。 llvm-3.5.0.src\tools\clang\tools\driver\driver.cpp Clang在Windows上呈现有三种实现，一种是使用VisualStudio,一种是Mingw,还有一种是Cygwin，clang用一个参数是驱动模式--driver-mode driver.cpp staticconst struct { const char*Suffix; const char*ModeFlag; } suffixes[] = { {&quot;clang&quot;, nullptr }, {&quot;clang++&quot;, &quot;--driver-mode=g++&quot; }, {&quot;clang-c++&quot;, &quot;--driver-mode=g++&quot; }, {&quot;clang-cc&quot;, nullptr }, {&quot;clang-cpp&quot;, &quot;--driver-mode=cpp&quot; }, {&quot;clang-g++&quot;, &quot;--driver-mode=g++&quot; }, {&quot;clang-gcc&quot;, nullptr }, {&quot;clang-cl&quot;, &quot;--driver-mode=cl&quot; }, {&quot;cc&quot;, nullptr }, {&quot;cpp&quot;, &quot;--driver-mode=cpp&quot; }, {&quot;cl&quot; , &quot;--driver-mode=cl&quot; }, {&quot;++&quot;, &quot;--driver-mode=g++&quot; }, }; &nbsp; 下面引自Clang Compiler User’s Manual(clang.llvm.org/docs/UsersManual.html) X86 The support for X86 (both 32-bit and 64-bit) is considered stable onDarwin (Mac OS X), Linux, FreeBSD, and Dragonfly BSD: it has been tested tocorrectly compile many large C, C++, Objective-C, and Objective-C++ codebases. On&nbsp;x86_64-mingw32, passing i128(by value)is incompatible with the Microsoft x64 calling convention. You might need totweak&nbsp;WinX86_64ABIInfo::classify()&nbsp;in lib/CodeGen/TargetInfo.cpp. For the X86 target, clang supports the&nbsp;-m16&nbsp;command line argument which enables16-bit code output. This is broadly similar to using&nbsp;asm(&quot;.code16gcc&quot;)&nbsp;with the GNU toolchain.The generated code and the ABI remains 32-bit but the assembler emitsinstructions appropriate for a CPU running in 16-bit mode, with address-sizeand operand-size prefixes to enable 32-bit addressing and operations. &nbsp; MinGW32 Clang works on some mingw32 distributions. Clang assumes directories asbelow; C:/mingw/include C:/mingw/lib C:/mingw/lib/gcc/mingw32/4.[3-5].0/include/c++ On MSYS, a few tests might fail. MinGW-w64 For 32-bit (i686-w64-mingw32), and 64-bit (x86_64-w64-mingw32), Clangassumes as below; GCC&nbsp;versions&nbsp;4.5.0&nbsp;to&nbsp;4.5.3,&nbsp;4.6.0&nbsp;to&nbsp;4.6.2,&nbsp;or&nbsp;4.7.0&nbsp;(for&nbsp;the&nbsp;C++&nbsp;header&nbsp;search&nbsp;path) some_directory/bin/gcc.exe some_directory/bin/clang.exe some_directory/bin/clang++.exe some_directory/bin/../include/c++/GCC_version some_directory/bin/../include/c++/GCC_version/x86_64-w64-mingw32 some_directory/bin/../include/c++/GCC_version/i686-w64-mingw32 some_directory/bin/../include/c++/GCC_version/backward some_directory/bin/../x86_64-w64-mingw32/include some_directory/bin/../i686-w64-mingw32/include some_directory/bin/../include This directory layout is standard for any toolchain you will find on theofficial&nbsp;MinGW-w64 website. Clang expects the GCC executable “gcc.exe” compiled for&nbsp;i686-w64-mingw32&nbsp;(or&nbsp;x86_64-w64-mingw32) to be present on PATH. Some tests might fail&nbsp;on&nbsp;x86_64-w64-mingw32. clang-cl clang-cl is an alternative command-line interface to Clang driver,designed for compatibility with the Visual C++ compiler, cl.exe. To enable clang-cl to find system headers, libraries, and the linker whenrun from the command-line, it should be executed inside a Visual Studio NativeTools Command Prompt or a regular Command Prompt where the environment has beenset up using e.g.&nbsp;vcvars32.bat. clang-cl can also be used from inside Visual Studio by using an LLVMPlatform Toolset. 转载请注明引用地址 ：http://blog.csdn.net/gocad/article/details/42297829 谢谢 阅读更多" />
<link rel="canonical" href="https://mlh.app/2014/12/31/bd8bbc5f9e3930cc8ba26c59631508eb.html" />
<meta property="og:url" content="https://mlh.app/2014/12/31/bd8bbc5f9e3930cc8ba26c59631508eb.html" />
<meta property="og:site_name" content="有组织在！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2014-12-31T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"下了官网Pre-built Binaries:Clang for Windows（ llvm.org/releases/3.5.0/LLVM-3.5.0-win32.exe ）03 Sep 2014 3.5.0 The LLVM Compiler Infrastructure（llvm.org）&nbsp;download LLVM（llvm.org/releases/） 由于刚刚安装了 TDM GCC 4.9.2 tdm64-gcc-4.9.2-3.exe 2014 December 12th（tdm-gcc.tdragon.net） 用mklink将C:\\mingw指向tdm64-gcc-4.9.2-3安装目录。 /* hello.c */ #include &lt;stdio.h&gt; int main() { printf(&quot;hello world\\n&quot;); return 0; } &gt;clang hello.c hello.c:2:10:fatal error: &#39;stdio.h&#39; file not found #include &lt;stdio.h&gt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ^ 1 error generated. &gt;&nbsp; 难道又要下载 LLVM + Clang 源代码，修改 llvm-3.5.0.src\\tools\\clang\\lib\\Frontend\\下的 InitHeaderSearch.cpp，添加tdm64-gcc-4.9.2-3 C/C++ include search path头文件搜索路径，重新编译一次(具体参看旧文Clang+llvm在windows下面怎么配置运行)。看了3.5.0源码，官网Pre-builtBinaries支持到MiniGW 4.8.2。难道每次使用新版 MinGW，都要重复这恼人的编译。 现在，告诉你，只要添加几个环境变量即可。 PATH添加 编译器和LLVM+Clang Command Line Path 命令行运行路径。 至于C/C++ include search path 头文件搜索路径： 使用 MinGW 的，要设置： C_INCLUDE_PATH CPLUS_INCLUDE_PATH 使用 Visual C++ 的，要设置： INCLUDE 当然，如果有附加的链接库 MinGW 设置LIBRARY_PATH VisualC++ 设置LIB 下面以使用 tdm64-gcc-4.9.2 为例： Run-Clang.bat @remset run llvm+clang with mingw path env @echooff setMINGW_HOME=c:\\mingw setMINGW_VERSION=4.9.2 set&quot;PATH=%MINGW_HOME%\\bin;%PATH%&quot; set&quot;C_INCLUDE_PATH=%MINGW_HOME%\\include;%MINGW_HOME%\\x86_64-w64-mingw32\\include&quot; set&quot;CPLUS_INCLUDE_PATH=%C_INCLUDE_PATH%;%MINGW_HOME%\\lib\\gcc\\x86_64-w64-mingw32\\%MINGW_VERSION%\\include;%MINGW_HOME%\\lib\\gcc\\x86_64-w64-mingw32\\%MINGW_VERSION%\\include\\c++;%MINGW_HOME%\\lib\\gcc\\x86_64-w64-mingw32\\%MINGW_VERSION%\\include\\c++\\x86_64-w64-mingw32;%MINGW_HOME%\\lib\\gcc\\x86_64-w64-mingw32\\%MINGW_VERSION%\\include\\c++\\backward&quot; setLLVM_HOME=c:\\llvm set&quot;PATH=%LLVM_HOME%\\bin;%PATH%&quot; %comspec% 转载请注明引用地址 ：http://blog.csdn.net/gocad/article/details/42297829 谢谢 如果使用 tdm32-gcc-4.9.2 则 C_INCLUDE_PATH=%MINGW_HOME%\\include CPLUS_INCLUDE_PATH=%MINGW_HOME%\\include;%MINGW_HOME%\\lib\\gcc\\mingw32\\%MINGW_VERSION%\\include;%MINGW_HOME%\\lib\\gcc\\mingw32\\%MINGW_VERSION%\\include\\c++;%MINGW_HOME%\\lib\\gcc\\mingw32\\%MINGW_VERSION%\\include\\c++\\mingw32;%MINGW_HOME%\\lib\\gcc\\mingw32\\%MINGW_VERSION%\\include\\c++\\backward使用其它版本 MinGW 的，请根据各版本实际路径设置。当然也可以自己编辑成像vcvars32.bat带参数调用。 VisualC++ 用户调用现成的Visual Studio Native Tools Command Prompt，或自己调用 vcvars32.bat 设置 Visual C++ 命令行编译环境。 或Installing MSVC integration 下面是有些需要注意的地方： 关于 –m32/-m64, clang, clang++,clang-cl 默认 ( Target: i686-pc-windows-gnu/i686-pc-windows-msvc，Thread model: posix ) –m32( Target:i386-pc-windows-gnu/i386-pc-windows-msvc，Thread model: posix ) –m64(Target: x86_64-pc-windows-gnu/x86_64-pc-windows-msvc，Thread model: posix ) 这与tdm64-gcc-4.9.2默认-m64不同，所以要编译 x64 执行代码，请显式调用-m64。 还有 tdm64-gcc-4.9.2 默认 –m64支持 __int128 is supported on thishost. ( 见c++config.h ) 如果同时使用 STL&nbsp;algorithm 与 –m32时，请将 CPLUS_INCLUDE_PATH 中的%MINGW_HOME%\\lib\\gcc\\x86_64-w64-mingw32\\%MINGW_VERSION%\\include\\c++\\x86_64-w64-mingw32更改为%MINGW_HOME%\\lib\\gcc\\x86_64-w64-mingw32\\%MINGW_VERSION%\\include\\c++\\x86_64-w64-mingw32\\32以免编译错误。 如果要用Clang+llvm+MinGW编译 32位执行代码，最好还是使用 MinGW(32)，避免因使用 MinGW-w64 设置不恰当，而生成的编译错误。 &nbsp; Clang具体调用模式与使用的命令参数，请用–v命令选项进行追踪 -v&nbsp;&nbsp;&nbsp; Show commands to run and use verbose output 例如： D:\\&gt;clang++ -v hello.c clang version 3.5.0 (217039) Target: i686-pc-windows-gnu Thread model: posix clang++.exe: warning: treating &#39;c&#39; input as &#39;c++&#39; when in C++ mode, this behavior is deprecated &quot;c:\\llvm\\bin\\clang++.exe&quot; -cc1 -triple i686-pc-windows-gnu -emit-obj -mrelax-al l -disable-free -main-file-name hello.c -mrelocation-model static -mdisable-fp-e lim -fmath-errno -masm-verbose -mconstructor-aliases -target-cpu pentium4 -v -dw arf-column-info -resource-dir &quot;c:\\\\llvm\\\\bin\\\\..\\\\lib\\\\clang\\\\3.5.0&quot; -c-isystem &quot;c:\\\\mingw\\\\include&quot; -c-isystem &quot;c:\\\\mingw\\\\x86_64-w64-mingw32\\\\include&quot; -cxx-is ystem &quot;c:\\\\mingw\\\\include&quot; -cxx-isystem &quot;c:\\\\mingw\\\\x86_64-w64-mingw32\\\\include&quot; -cxx-isystem &quot;c:\\\\mingw\\\\lib\\\\gcc\\\\x86_64-w64-mingw32\\\\4.9.2\\\\include&quot; -cxx-isy stem &quot;c:\\\\mingw\\\\lib\\\\gcc\\\\x86_64-w64-mingw32\\\\4.9.2\\\\include\\\\c++&quot; -cxx-isystem &quot;c:\\\\mingw\\\\lib\\\\gcc\\\\x86_64-w64-mingw32\\\\4.9.2\\\\include\\\\c++\\\\x86_64-w64-mingw 32&quot; -cxx-isystem &quot;c:\\\\mingw\\\\lib\\\\gcc\\\\x86_64-w64-mingw32\\\\4.9.2\\\\include\\\\c++\\\\ backward&quot; -fdeprecated-macro -fdebug-compilation-dir &quot;D:\\\\&quot; -ferror-limit 19 -fm essage-length 80 -mstackrealign -fno-use-cxa-atexit -fobjc-runtime=gcc -fcxx-exc eptions -fexceptions -fdiagnostics-show-option -fcolor-diagnostics -o &quot;C:\\\\Temp\\ \\hello-0a5974.o&quot; -x c++ hello.c clang -cc1 version 3.5.0 based upon LLVM 3.5.0 default target i686-pc-windows-gnu ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.7.0&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.7.0/x86_64-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.7.0/i686-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.7.0/backward&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.7.1&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.7.1/x86_64-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.7.1/i686-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.7.1/backward&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.7.2&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.7.2/x86_64-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.7.2/i686-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.7.2/backward&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.7.3&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.7.3/x86_64-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.7.3/i686-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.7.3/backward&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.8.0&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.8.0/x86_64-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.8.0/i686-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.8.0/backward&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.8.1&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.8.1/x86_64-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.8.1/i686-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.8.1/backward&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.8.2&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.8.2/x86_64-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.8.2/i686-w64-mingw32&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0/../../../include/ c++/4.8.2/backward&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.0/include/c++&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.0/include/c++/mingw32&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.0/include/c++/backward&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.1/include/c++&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.1/include/c++/mingw32&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.1/include/c++/backward&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.2/include/c++&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.2/include/c++/mingw32&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.2/include/c++/backward&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.3/include/c++&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.3/include/c++/mingw32&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.7.3/include/c++/backward&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.0/include/c++&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.0/include/c++/mingw32&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.0/include/c++/backward&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.1/include/c++&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.1/include/c++/mingw32&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.1/include/c++/backward&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.2/include/c++&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.2/include/c++/mingw32&quot; ignoring nonexistent directory &quot;c:/MinGW/lib/gcc/mingw32/4.8.2/include/c++/backward&quot; ignoring nonexistent directory &quot;/usr/include/c++/4.4&quot; ignoring nonexistent directory &quot;/usr/local/include&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0\\../../../i686-w64 -mingw32/include&quot; ignoring nonexistent directory &quot;c:\\llvm\\bin\\..\\lib\\clang\\3.5.0\\../../../x86_64-w 64-mingw32/include&quot; ignoring nonexistent directory &quot;/mingw/include&quot; ignoring nonexistent directory &quot;/usr/include&quot; ignoring duplicate directory &quot;c:\\mingw\\include&quot; #include &quot;...&quot; search starts here: #include &lt;...&gt; search starts here: c:\\mingw\\include c:\\mingw\\x86_64-w64-mingw32\\include c:\\mingw\\lib\\gcc\\x86_64-w64-mingw32\\4.9.2\\include c:\\mingw\\lib\\gcc\\x86_64-w64-mingw32\\4.9.2\\include\\c++ c:\\mingw\\lib\\gcc\\x86_64-w64-mingw32\\4.9.2\\include\\c++\\x86_64-w64-mingw32 c:\\mingw\\lib\\gcc\\x86_64-w64-mingw32\\4.9.2\\include\\c++\\backward c:\\llvm\\bin\\..\\lib\\clang\\3.5.0\\include c:\\llvm\\bin\\..\\lib\\clang\\3.5.0\\../../../include End of search list. &quot;c:\\mingw\\bin\\g++.exe&quot; -v -m32 -o a.out &quot;C:\\\\Temp\\\\hello-0a5974.o&quot; Using built-in specs. COLLECT_GCC=c:\\mingw\\bin\\g++.exe COLLECT_LTO_WRAPPER=c:/mingw/bin/../libexec/gcc/x86_64-w64-mingw32/4.9.2/lto-wra pper.exe Target: x86_64-w64-mingw32 Configured with: ../../../src/gcc-4.9.2/configure --build=x86_64-w64-mingw32 --e nable-targets=all --enable-languages=ada,c,c++,fortran,lto,objc,obj-c++ --enable -libgomp --enable-lto --enable-graphite --enable-cxx-flags=-DWINPTHREAD_STATIC - -disable-build-with-cxx --disable-build-poststage1-with-cxx --enable-libstdcxx-d ebug --enable-threads=posix --enable-version-specific-runtime-libs --enable-full y-dynamic-string --enable-libstdcxx-threads --enable-libstdcxx-time --with-gnu-l d --disable-werror --disable-nls --disable-win32-registry --prefix=/mingw64tdm - -with-local-prefix=/mingw64tdm --with-pkgversion=tdm64-1 --with-bugurl=http://td m-gcc.tdragon.net/bugs Thread model: posix gcc version 4.9.2 (tdm64-1) COMPILER_PATH=c:/mingw/bin/../libexec/gcc/x86_64-w64-mingw32/4.9.2/;c:/mingw/bin /../libexec/gcc/;c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x8 6_64-w64-mingw32/bin/ LIBRARY_PATH=c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/32/;c:/mingw/bin/. ./lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-mingw32/lib/../lib32/; c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/;c:/mingw/bin/../lib/gcc/;C:/Mi nGW/lib/;D:/dev/msys64/usr/lib/;c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2 /../../../../x86_64-w64-mingw32/lib/;c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/ 4.9.2/../../../ COLLECT_GCC_OPTIONS=&#39;-v&#39; &#39;-m32&#39; &#39;-o&#39; &#39;a.out&#39; &#39;-mtune=generic&#39; &#39;-march=x86-64&#39; c:/mingw/bin/../libexec/gcc/x86_64-w64-mingw32/4.9.2/collect2.exe -plugin c:/mi ngw/bin/../libexec/gcc/x86_64-w64-mingw32/4.9.2/liblto_plugin-0.dll -plugin-opt= c:/mingw/bin/../libexec/gcc/x86_64-w64-mingw32/4.9.2/lto-wrapper.exe -plugin-opt =-fresolution=C:\\Temp\\cc83PMcQ.res -plugin-opt=-pass-through=-lmingw32 -plugin-o pt=-pass-through=-lgcc -plugin-opt=-pass-through=-lmoldname -plugin-opt=-pass-th rough=-lmingwex -plugin-opt=-pass-through=-lmsvcrt -plugin-opt=-pass-through=-lp thread -plugin-opt=-pass-through=-ladvapi32 -plugin-opt=-pass-through=-lshell32 -plugin-opt=-pass-through=-luser32 -plugin-opt=-pass-through=-lkernel32 -plugin- opt=-pass-through=-lmingw32 -plugin-opt=-pass-through=-lgcc -plugin-opt=-pass-th rough=-lmoldname -plugin-opt=-pass-through=-lmingwex -plugin-opt=-pass-through=- lmsvcrt -m i386pe --exclude-libs=libpthread.a -Bdynamic -o a.out c:/mingw/bin/.. /lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-mingw32/lib/../lib32/cr t2.o c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-min gw32/lib/../lib32/crtbegin.o -Lc:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/ 32 -Lc:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-min gw32/lib/../lib32 -Lc:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2 -Lc:/mingw/ bin/../lib/gcc -LC:/MinGW/lib -LD:/dev/msys64/usr/lib -Lc:/mingw/bin/../lib/gcc/ x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-mingw32/lib -Lc:/mingw/bin/../li b/gcc/x86_64-w64-mingw32/4.9.2/../../.. C:\\Temp\\hello-0a5974.o -Bstatic -lstdc++ -Bdynamic -lmingw32 -lgcc -lmoldname -lmingwex -lmsvcrt -lpthread -ladvapi32 -l shell32 -luser32 -lkernel32 -lmingw32 -lgcc -lmoldname -lmingwex -lmsvcrt c:/min gw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-mingw32/lib/.. /lib32/crtend.o D:\\&gt; 另外就是，关于 --driver-mode 参数： clang++等效于 clang--driver-mode=g++ clang-cl等效于 clang--driver-mode=cl --driver-mode可以覆盖内置或默认值：clang-cl --driver-mode=g++ 等效于 clang++ 目前，clang-cl 编译 VC x64/amd64 STL algorithm 时，有时会编译不通过,如： error LNK2019: unresolved external symbol __cxa_call_unexpected referenced in function &quot;public: __int64 __cdecl std::_Temp_iterator&lt;long&gt;::_Maxlen(void)&quot; (?_Maxlen@?$_Temp_iterator@J@std@@QEAA_JXZ) error LNK2001: unresolved external symbol __gxx_personality_v0 参考LLVM/Clang On Windows 2013_09（my.oschina.net/GIIoOS/blog/165542） 下面引自（c.tieba.baidu.com/p/3290080396） 关于 LLVM Clang。目前 Clang 在 Windows 下都是基于 MingW 的库，所以编译/链接的时候需要把相应的路径设置好。在我的绿色便携版中都已经设置好了。 llvm-3.5.0.src\\tools\\clang\\tools\\driver\\driver.cpp Clang在Windows上呈现有三种实现，一种是使用VisualStudio,一种是Mingw,还有一种是Cygwin，clang用一个参数是驱动模式--driver-mode driver.cpp staticconst struct { const char*Suffix; const char*ModeFlag; } suffixes[] = { {&quot;clang&quot;, nullptr }, {&quot;clang++&quot;, &quot;--driver-mode=g++&quot; }, {&quot;clang-c++&quot;, &quot;--driver-mode=g++&quot; }, {&quot;clang-cc&quot;, nullptr }, {&quot;clang-cpp&quot;, &quot;--driver-mode=cpp&quot; }, {&quot;clang-g++&quot;, &quot;--driver-mode=g++&quot; }, {&quot;clang-gcc&quot;, nullptr }, {&quot;clang-cl&quot;, &quot;--driver-mode=cl&quot; }, {&quot;cc&quot;, nullptr }, {&quot;cpp&quot;, &quot;--driver-mode=cpp&quot; }, {&quot;cl&quot; , &quot;--driver-mode=cl&quot; }, {&quot;++&quot;, &quot;--driver-mode=g++&quot; }, }; &nbsp; 下面引自Clang Compiler User’s Manual(clang.llvm.org/docs/UsersManual.html) X86 The support for X86 (both 32-bit and 64-bit) is considered stable onDarwin (Mac OS X), Linux, FreeBSD, and Dragonfly BSD: it has been tested tocorrectly compile many large C, C++, Objective-C, and Objective-C++ codebases. On&nbsp;x86_64-mingw32, passing i128(by value)is incompatible with the Microsoft x64 calling convention. You might need totweak&nbsp;WinX86_64ABIInfo::classify()&nbsp;in lib/CodeGen/TargetInfo.cpp. For the X86 target, clang supports the&nbsp;-m16&nbsp;command line argument which enables16-bit code output. This is broadly similar to using&nbsp;asm(&quot;.code16gcc&quot;)&nbsp;with the GNU toolchain.The generated code and the ABI remains 32-bit but the assembler emitsinstructions appropriate for a CPU running in 16-bit mode, with address-sizeand operand-size prefixes to enable 32-bit addressing and operations. &nbsp; MinGW32 Clang works on some mingw32 distributions. Clang assumes directories asbelow; C:/mingw/include C:/mingw/lib C:/mingw/lib/gcc/mingw32/4.[3-5].0/include/c++ On MSYS, a few tests might fail. MinGW-w64 For 32-bit (i686-w64-mingw32), and 64-bit (x86_64-w64-mingw32), Clangassumes as below; GCC&nbsp;versions&nbsp;4.5.0&nbsp;to&nbsp;4.5.3,&nbsp;4.6.0&nbsp;to&nbsp;4.6.2,&nbsp;or&nbsp;4.7.0&nbsp;(for&nbsp;the&nbsp;C++&nbsp;header&nbsp;search&nbsp;path) some_directory/bin/gcc.exe some_directory/bin/clang.exe some_directory/bin/clang++.exe some_directory/bin/../include/c++/GCC_version some_directory/bin/../include/c++/GCC_version/x86_64-w64-mingw32 some_directory/bin/../include/c++/GCC_version/i686-w64-mingw32 some_directory/bin/../include/c++/GCC_version/backward some_directory/bin/../x86_64-w64-mingw32/include some_directory/bin/../i686-w64-mingw32/include some_directory/bin/../include This directory layout is standard for any toolchain you will find on theofficial&nbsp;MinGW-w64 website. Clang expects the GCC executable “gcc.exe” compiled for&nbsp;i686-w64-mingw32&nbsp;(or&nbsp;x86_64-w64-mingw32) to be present on PATH. Some tests might fail&nbsp;on&nbsp;x86_64-w64-mingw32. clang-cl clang-cl is an alternative command-line interface to Clang driver,designed for compatibility with the Visual C++ compiler, cl.exe. To enable clang-cl to find system headers, libraries, and the linker whenrun from the command-line, it should be executed inside a Visual Studio NativeTools Command Prompt or a regular Command Prompt where the environment has beenset up using e.g.&nbsp;vcvars32.bat. clang-cl can also be used from inside Visual Studio by using an LLVMPlatform Toolset. 转载请注明引用地址 ：http://blog.csdn.net/gocad/article/details/42297829 谢谢 阅读更多","@type":"BlogPosting","url":"https://mlh.app/2014/12/31/bd8bbc5f9e3930cc8ba26c59631508eb.html","headline":"Clang+llvm windows运行环境配置","dateModified":"2014-12-31T00:00:00+08:00","datePublished":"2014-12-31T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlh.app/2014/12/31/bd8bbc5f9e3930cc8ba26c59631508eb.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="/assets/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123344652-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-123344652-3');
    </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-8889449066804352",
        enable_page_level_ads: true
      });
    </script>
    
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    
    <style>
      @media screen and (max-width:760px){
        .sm-hidden{display:none; }
      }
    </style>

  </head>
  <body>
    
        <amp-auto-ads type="adsense"
              data-ad-client="ca-pub-8889449066804352">
        </amp-auto-ads>
    
    <div class="wrapper">
      <header  class="without-description" >
        <h1>Clang+llvm windows运行环境配置</h1>
        
        
        <ul>
            <li><a href="https://uzshare.com/" style="line-height: unset;" target="_blank"><strong>柚子社区</strong></a></li>
        </ul>
        
        
        
      </header>
      <section>

<div style="margin:0 0 8px 0;">
<style>
table.gsc-input {
    margin: 0;
}
.cse .gsc-control-cse, .gsc-control-cse {
    padding: 0;
    width: auto;
}
.gsc-search-box td {
    border-bottom: none;
}
</style>
<script>
  (function() {
    var cx = '004431708863642777669:qan2_6ugotw';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
	

        <div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post"> 
 <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-7f5a1a725b.css"> 
 <div class="htmledit_views"> 
  <p><span style="font-family:'宋体';font-size:12px;">下了</span><span style="font-size:12px;color:#333333;"><span style="color:#333333;">官网</span></span><span style="font-family:Georgia;font-size:12px;"><span style="background:#F7F7F7;">Pre-built Binaries:</span></span><span style="font-size:12px;"><a href="http://llvm.org/releases/3.5.0/LLVM-3.5.0-win32.exe" rel="nofollow"><strong><span style="font-family:Georgia;"><span style="background:#F7F7F7;">Clang for Windows</span></span></strong></a></span><span style="font-size:12px;"><span style="background:#F7F7F7;">（</span></span><span style="font-family:Georgia;font-size:12px;"><span style="background:#F7F7F7;"> llvm.org/releases/3.5.0/LLVM-3.5.0-win32.exe </span></span><span style="font-size:12px;"><span style="background:#F7F7F7;">）</span></span><span style="font-size:12px;">03 Sep 2014 3.5.0</span></p> 
  <p><span style="font-family:'宋体';font-size:12px;"><a href="http://llvm.org/" rel="nofollow"><strong><span style="font-family:'Microsoft YaHei';">The LLVM Compiler Infrastructure</span></strong></a></span><span style="font-size:12px;">（llvm.org）</span><span style="font-family:'Times New Roman';font-size:12px;">&nbsp;</span><span style="font-size:12px;"><a href="http://llvm.org/releases/" rel="nofollow"><strong><span style="font-family:'Times New Roman';">download LLVM</span></strong></a></span><span style="font-family:'Times New Roman';font-size:12px;"></span><span style="font-size:12px;">（</span><span style="font-family:'Times New Roman';font-size:12px;">llvm.org/releases/</span><span style="font-size:12px;">）</span><span style="font-size:12px;"></span></p> 
  <p><span style="font-family:'宋体';font-size:12px;">由于刚刚安装了 TDM GCC 4.9.2 tdm64-gcc-4.9.2-3.exe 2014 December 12<sup>th</sup>（tdm-gcc.tdragon.net）</span></p> 
  <p><span style="font-family:'宋体';font-size:12px;">用</span><span style="font-family:'Times New Roman';font-size:12px;color:#333333;"><span style="color:#333333;">mklink</span></span><span style="font-size:12px;color:#333333;"><span style="color:#333333;">将</span></span><span style="font-family:'Times New Roman';font-size:12px;color:#333333;"><span style="color:#333333;">C:\mingw</span></span><span style="font-size:12px;color:#333333;"><span style="color:#333333;">指向</span></span><span style="font-size:12px;">tdm64-gcc-4.9.2-3</span><span style="font-size:12px;color:#333333;"><span style="color:#333333;">安装目录。</span></span></p> 
  <span style="font-family:'宋体';font-size:12px;"></span>
  <pre><code class="language-cpp">/* hello.c */
#include &lt;stdio.h&gt;

int main() {
  printf("hello world\n");
  return 0;
}</code></pre>
  <br>
  <p><span style="font-family:'宋体';font-size:12px;">&gt;clang hello.c</span></p> 
  <p><strong><span style="font-family:'宋体';font-size:12px;">hello.c:2:10:<span style="color:#FF0000;"><span style="color:#FF0000;">fatal error:</span></span> 'stdio.h' file not found</span></strong></p> 
  <p><span style="font-family:'宋体';font-size:12px;">#include &lt;stdio.h&gt;</span></p> 
  <p><span style="font-family:'宋体';font-size:12px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong><span style="color:#00FF00;"><span style="color:#00FF00;">^</span></span></strong></span></p> 
  <p><span style="font-family:'宋体';font-size:12px;">1 error generated.</span></p> 
  <p><span style="font-family:'宋体';font-size:12px;">&gt;&nbsp;</span></p> 
  <p><br></p> 
  <p><span style="font-family:'宋体';font-size:12px;">难道又要下载 LLVM + Clang 源代码，修改 <strong> llvm-3.5.0.src\tools\clang\lib\Frontend\</strong>下的 <strong>InitHeaderSearch.cpp</strong>，添加</span><span style="font-size:12px;">tdm64-gcc-4.9.2-3 C/C++ include search path</span><span style="font-size:12px;">头文件搜索路径，重新编译一次(具体参看旧文<strong><em><u><span style="font-family:'宋体';color:#0000FF;"><span style="color:#0000FF;"><a href="http://blog.csdn.net/gocad/article/details/8050336" rel="nofollow">Clang+llvm在windows</a></span>下面怎么配置运行</span></u></em></strong>)。看了3.5.0源码，官网</span><strong><span style="font-family:'宋体';font-size:12px;">Pre-builtBinaries</span><span style="font-family:'宋体';font-size:12px;">支持到</span></strong><span style="font-family:'宋体';font-size:12px;">MiniGW 4.8.2</span><span style="font-size:12px;"><span style="background:#F7F7F7;">。</span></span><span style="font-size:12px;">难道每次使用新版 MinGW，都要重复这恼人的编译。</span></p> 
  <p><br></p> 
  <p><span style="font-family:'宋体';font-size:12px;">现在，告诉你，只要添加几个环境变量即可。</span></p> 
  <p><span style="font-family:'宋体';font-size:12px;">PATH</span><span style="font-size:12px;">添加 编译器和LLVM+Clang Command Line Path 命令行运行路径。</span></p> 
  <p><span style="font-family:'宋体';font-size:12px;">至于C/C++ include search path 头文件搜索路径：</span></p> 
  <p><span style="font-family:'宋体';font-size:12px;">使用 <strong>MinGW</strong> 的，要设置：</span></p> 
  <p><span style="color:#000099;"><strong><span style="font-family:'宋体';font-size:12px;">C_INCLUDE_PATH</span></strong></span></p> 
  <p><span style="color:#000099;"><strong><span style="font-family:'宋体';font-size:12px;">CPLUS_INCLUDE_PATH</span></strong></span></p> 
  <p><span style="font-family:'宋体';font-size:12px;">使用 <strong>Visual C++</strong> 的，要设置：</span></p> 
  <p><strong><span style="font-family:'宋体';font-size:12px;color:#000099;">INCLUDE</span></strong></p> 
  <p><br></p> 
  <p><span style="font-family:'宋体';font-size:12px;">当然，如果有<strong>附加的链接库</strong></span></p> 
  <p><span style="font-family:'宋体';font-size:12px;">MinGW</span><span style="font-size:12px;"> 设置<span style="color:#000099;"><strong>LIBRARY_PATH</strong></span></span></p> 
  <p><span style="font-family:'宋体';font-size:12px;">VisualC++ </span><span style="font-size:12px;">设置<strong><span style="color:#000099;">LIB</span></strong></span></p> 
  <p><br></p> 
  <p><span style="font-family:'宋体';font-size:12px;">下面以使用 tdm64-gcc-4.9.2 为例：</span></p> 
  <p><span style="font-family:'宋体';font-size:12px;">Run-Clang.bat</span></p> 
  <p><span style="font-family:'宋体';font-size:12px;"></span></p> 
  <pre><code class="language-plain">@remset run llvm+clang with mingw path env
@echooff
setMINGW_HOME=c:\mingw
setMINGW_VERSION=4.9.2
set"PATH=%MINGW_HOME%\bin;%PATH%"
set"C_INCLUDE_PATH=%MINGW_HOME%\include;%MINGW_HOME%\x86_64-w64-mingw32\include"
set"CPLUS_INCLUDE_PATH=%C_INCLUDE_PATH%;%MINGW_HOME%\lib\gcc\x86_64-w64-mingw32\%MINGW_VERSION%\include;%MINGW_HOME%\lib\gcc\x86_64-w64-mingw32\%MINGW_VERSION%\include\c++;%MINGW_HOME%\lib\gcc\x86_64-w64-mingw32\%MINGW_VERSION%\include\c++\x86_64-w64-mingw32;%MINGW_HOME%\lib\gcc\x86_64-w64-mingw32\%MINGW_VERSION%\include\c++\backward"
setLLVM_HOME=c:\llvm
set"PATH=%LLVM_HOME%\bin;%PATH%"
%comspec%</code></pre> 
  <p></p> 
  <p><span style="font-size:12px;"><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">转载请注明引用地址 ：http://blog.csdn.net/gocad/article/details/42297829 谢谢</span></span></span></p> 
  <p><span style="font-size:12px;"><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">如果使用 tdm32-gcc-4.9.2 则<br></span></span></span></p> 
  <p><span style="font-family:'宋体';font-size:12px;"></span></p> 
  <pre><code class="language-plain">C_INCLUDE_PATH=%MINGW_HOME%\include
CPLUS_INCLUDE_PATH=%MINGW_HOME%\include;%MINGW_HOME%\lib\gcc\mingw32\%MINGW_VERSION%\include;%MINGW_HOME%\lib\gcc\mingw32\%MINGW_VERSION%\include\c++;%MINGW_HOME%\lib\gcc\mingw32\%MINGW_VERSION%\include\c++\mingw32;%MINGW_HOME%\lib\gcc\mingw32\%MINGW_VERSION%\include\c++\backward</code></pre>使用其它版本 MinGW 的，请根据各版本实际路径设置。当然也可以自己编辑成像vcvars32.bat带参数调用。 
  <p></p> 
  <p><span style="font-family:'宋体';font-size:12px;">VisualC++ </span><span style="font-size:12px;">用户调用现成的Visual Studio Native Tools Command Prompt，或自己调用 vcvars32.bat 设置 Visual C++ 命令行编译环境。 或Installing MSVC integration</span></p> 
  <p><br></p> 
  <p><span style="font-family:'宋体';font-size:12px;">下面是有些<span style="color:#FF0000;"><strong>需要注意的地方</strong></span>：</span></p> 
  <p><span style="font-family:'宋体';font-size:12px;">关于 </span><span style="color:#000099;"><strong><span style="font-family:'Times New Roman';font-size:12px;">–</span></strong></span><span style="font-size:12px;"><span style="color:#000099;"><strong>m32</strong></span>/<span style="color:#3333FF;"><strong>-m64</strong></span>, clang, clang++,clang-cl</span></p> 
  <p><span style="font-family:'宋体';font-size:12px;">默认 ( Target: i686-pc-windows-gnu/i686-pc-windows-msvc，Thread model: posix )</span></p> 
  <p><span style="font-family:'Times New Roman';font-size:12px;">–</span><span style="font-size:12px;">m32( Target:i386-pc-windows-gnu/i386-pc-windows-msvc</span><span style="font-size:12px;">，Thread model: posix )</span></p> 
  <p><span style="font-family:'宋体';font-size:12px;"><span style="font-family:'Times New Roman';font-size:12px;">–</span><span style="font-size:12px;">m64</span>(Target: x86_64-pc-windows-gnu/x86_64-pc-windows-msvc</span><span style="font-size:12px;">，Thread model: posix )</span></p> 
  <p><span style="font-family:'宋体';font-size:12px;"><strong>这与tdm64-gcc-4.9.2默认-m64不同</strong>，<strong>所以要编译 x64 执行代码</strong>，<strong>请显式调用<span style="font-size:12px;color:#3333FF;"><strong>-m64</strong></span></strong>。</span></p> 
  <p><span style="font-family:'宋体';font-size:12px;"><br></span></p> 
  <p><span style="font-family:'宋体';font-size:12px;">还有 tdm64-gcc-4.9.2 默认 </span><strong><span style="font-family:'Times New Roman';font-size:12px;">–</span><span style="font-size:12px;">m64</span></strong><span style="font-size:12px;"><strong>支持</strong> <span style="color:#3333FF;"><strong>__int128</strong></span> is supported on thishost. ( 见c++config.h )</span></p> 
  <p><strong><span style="font-family:'宋体';font-size:12px;">如果同时使用 STL&nbsp;algorithm 与 </span> <span style="font-family:'Times New Roman';font-size:12px;">–</span><span style="font-size:12px;">m32</span></strong><span style="font-size:12px;"><strong>时</strong>，请将 <span style="color:#3333FF;"><strong>CPLUS_INCLUDE_PATH</strong></span> 中的<span style="color:#000099;"><strong>%MINGW_HOME%\lib\gcc\x86_64-w64-mingw32\%MINGW_VERSION%\include\c++\x86_64-w64-mingw32</strong></span>更改为<span style="color:#3333FF;"><strong>%MINGW_HOME%\lib\gcc\x86_64-w64-mingw32\%MINGW_VERSION%\include\c++\x86_64-w64-mingw32<span style="color:#FF0000;">\32</span></strong></span><strong>以免编译错误</strong>。</span></p> 
  <p><strong><span style="font-family:'宋体';font-size:12px;">如果要用Clang+llvm+MinGW编译 32位执行代码，最好还是使用 MinGW(32)，避免因使用 MinGW-w64 设置不恰当，而生成的编译错误。</span></strong></p> 
  <p><span style="font-family:'宋体';font-size:12px;">&nbsp;</span></p> 
  <p><span style="font-family:'宋体';font-size:12px;">Clang</span><span style="font-size:12px;">具体调用模式与使用的命令参数，<strong>请用</strong></span><strong><span style="font-family:'Times New Roman';font-size:12px;">–</span><span style="font-size:12px;">v</span><span style="font-size:12px;">命令选项进行追踪</span></strong></p> 
  <p><strong><span style="font-family:'宋体';font-size:12px;">-v&nbsp;&nbsp;&nbsp; Show commands to run and use verbose output</span></strong></p> 
  <p><span style="font-family:'宋体';font-size:12px;">例如：</span></p> 
  <span style="font-family:'宋体';font-size:12px;"></span>
  <pre><code class="language-plain">D:\&gt;clang++ -v hello.c
clang version 3.5.0 (217039)
Target: i686-pc-windows-gnu
Thread model: posix
clang++.exe: warning: treating 'c' input as 'c++' when in C++ mode, this behavior is deprecated
 "c:\llvm\bin\clang++.exe" -cc1 -triple i686-pc-windows-gnu -emit-obj -mrelax-al
l -disable-free -main-file-name hello.c -mrelocation-model static -mdisable-fp-e
lim -fmath-errno -masm-verbose -mconstructor-aliases -target-cpu pentium4 -v -dw
arf-column-info -resource-dir "c:\\llvm\\bin\\..\\lib\\clang\\3.5.0" -c-isystem
"c:\\mingw\\include" -c-isystem "c:\\mingw\\x86_64-w64-mingw32\\include" -cxx-is
ystem "c:\\mingw\\include" -cxx-isystem "c:\\mingw\\x86_64-w64-mingw32\\include"
 -cxx-isystem "c:\\mingw\\lib\\gcc\\x86_64-w64-mingw32\\4.9.2\\include" -cxx-isy
stem "c:\\mingw\\lib\\gcc\\x86_64-w64-mingw32\\4.9.2\\include\\c++" -cxx-isystem
 "c:\\mingw\\lib\\gcc\\x86_64-w64-mingw32\\4.9.2\\include\\c++\\x86_64-w64-mingw
32" -cxx-isystem "c:\\mingw\\lib\\gcc\\x86_64-w64-mingw32\\4.9.2\\include\\c++\\
backward" -fdeprecated-macro -fdebug-compilation-dir "D:\\" -ferror-limit 19 -fm
essage-length 80 -mstackrealign -fno-use-cxa-atexit -fobjc-runtime=gcc -fcxx-exc
eptions -fexceptions -fdiagnostics-show-option -fcolor-diagnostics -o "C:\\Temp\
\hello-0a5974.o" -x c++ hello.c
clang -cc1 version 3.5.0 based upon LLVM 3.5.0 default target i686-pc-windows-gnu
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.7.0"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.7.0/x86_64-w64-mingw32"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.7.0/i686-w64-mingw32"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.7.0/backward"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.7.1"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.7.1/x86_64-w64-mingw32"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.7.1/i686-w64-mingw32"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.7.1/backward"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.7.2"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.7.2/x86_64-w64-mingw32"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.7.2/i686-w64-mingw32"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.7.2/backward"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.7.3"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.7.3/x86_64-w64-mingw32"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.7.3/i686-w64-mingw32"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.7.3/backward"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.8.0"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.8.0/x86_64-w64-mingw32"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.8.0/i686-w64-mingw32"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.8.0/backward"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.8.1"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.8.1/x86_64-w64-mingw32"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.8.1/i686-w64-mingw32"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.8.1/backward"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.8.2"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.8.2/x86_64-w64-mingw32"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.8.2/i686-w64-mingw32"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0/../../../include/
c++/4.8.2/backward"
ignoring nonexistent directory "c:/MinGW/lib/gcc/mingw32/4.7.0/include/c++"
ignoring nonexistent directory "c:/MinGW/lib/gcc/mingw32/4.7.0/include/c++/mingw32"
ignoring nonexistent directory "c:/MinGW/lib/gcc/mingw32/4.7.0/include/c++/backward"
ignoring nonexistent directory "c:/MinGW/lib/gcc/mingw32/4.7.1/include/c++"
ignoring nonexistent directory "c:/MinGW/lib/gcc/mingw32/4.7.1/include/c++/mingw32"
ignoring nonexistent directory "c:/MinGW/lib/gcc/mingw32/4.7.1/include/c++/backward"
ignoring nonexistent directory "c:/MinGW/lib/gcc/mingw32/4.7.2/include/c++"
ignoring nonexistent directory "c:/MinGW/lib/gcc/mingw32/4.7.2/include/c++/mingw32"
ignoring nonexistent directory "c:/MinGW/lib/gcc/mingw32/4.7.2/include/c++/backward"
ignoring nonexistent directory "c:/MinGW/lib/gcc/mingw32/4.7.3/include/c++"
ignoring nonexistent directory "c:/MinGW/lib/gcc/mingw32/4.7.3/include/c++/mingw32"
ignoring nonexistent directory "c:/MinGW/lib/gcc/mingw32/4.7.3/include/c++/backward"
ignoring nonexistent directory "c:/MinGW/lib/gcc/mingw32/4.8.0/include/c++"
ignoring nonexistent directory "c:/MinGW/lib/gcc/mingw32/4.8.0/include/c++/mingw32"
ignoring nonexistent directory "c:/MinGW/lib/gcc/mingw32/4.8.0/include/c++/backward"
ignoring nonexistent directory "c:/MinGW/lib/gcc/mingw32/4.8.1/include/c++"
ignoring nonexistent directory "c:/MinGW/lib/gcc/mingw32/4.8.1/include/c++/mingw32"
ignoring nonexistent directory "c:/MinGW/lib/gcc/mingw32/4.8.1/include/c++/backward"
ignoring nonexistent directory "c:/MinGW/lib/gcc/mingw32/4.8.2/include/c++"
ignoring nonexistent directory "c:/MinGW/lib/gcc/mingw32/4.8.2/include/c++/mingw32"
ignoring nonexistent directory "c:/MinGW/lib/gcc/mingw32/4.8.2/include/c++/backward"
ignoring nonexistent directory "/usr/include/c++/4.4"
ignoring nonexistent directory "/usr/local/include"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0\../../../i686-w64
-mingw32/include"
ignoring nonexistent directory "c:\llvm\bin\..\lib\clang\3.5.0\../../../x86_64-w
64-mingw32/include"
ignoring nonexistent directory "/mingw/include"
ignoring nonexistent directory "/usr/include"
ignoring duplicate directory "c:\mingw\include"
#include "..." search starts here:
#include &lt;...&gt; search starts here:
 c:\mingw\include
 c:\mingw\x86_64-w64-mingw32\include
 c:\mingw\lib\gcc\x86_64-w64-mingw32\4.9.2\include
 c:\mingw\lib\gcc\x86_64-w64-mingw32\4.9.2\include\c++
 c:\mingw\lib\gcc\x86_64-w64-mingw32\4.9.2\include\c++\x86_64-w64-mingw32
 c:\mingw\lib\gcc\x86_64-w64-mingw32\4.9.2\include\c++\backward
 c:\llvm\bin\..\lib\clang\3.5.0\include
 c:\llvm\bin\..\lib\clang\3.5.0\../../../include
End of search list.
 "c:\mingw\bin\g++.exe" -v -m32 -o a.out "C:\\Temp\\hello-0a5974.o"
Using built-in specs.
COLLECT_GCC=c:\mingw\bin\g++.exe
COLLECT_LTO_WRAPPER=c:/mingw/bin/../libexec/gcc/x86_64-w64-mingw32/4.9.2/lto-wra
pper.exe
Target: x86_64-w64-mingw32
Configured with: ../../../src/gcc-4.9.2/configure --build=x86_64-w64-mingw32 --e
nable-targets=all --enable-languages=ada,c,c++,fortran,lto,objc,obj-c++ --enable
-libgomp --enable-lto --enable-graphite --enable-cxx-flags=-DWINPTHREAD_STATIC -
-disable-build-with-cxx --disable-build-poststage1-with-cxx --enable-libstdcxx-d
ebug --enable-threads=posix --enable-version-specific-runtime-libs --enable-full
y-dynamic-string --enable-libstdcxx-threads --enable-libstdcxx-time --with-gnu-l
d --disable-werror --disable-nls --disable-win32-registry --prefix=/mingw64tdm -
-with-local-prefix=/mingw64tdm --with-pkgversion=tdm64-1 --with-bugurl=http://td
m-gcc.tdragon.net/bugs
Thread model: posix
gcc version 4.9.2 (tdm64-1)
COMPILER_PATH=c:/mingw/bin/../libexec/gcc/x86_64-w64-mingw32/4.9.2/;c:/mingw/bin
/../libexec/gcc/;c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x8
6_64-w64-mingw32/bin/
LIBRARY_PATH=c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/32/;c:/mingw/bin/.
./lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-mingw32/lib/../lib32/;
c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/;c:/mingw/bin/../lib/gcc/;C:/Mi
nGW/lib/;D:/dev/msys64/usr/lib/;c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2
/../../../../x86_64-w64-mingw32/lib/;c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/
4.9.2/../../../
COLLECT_GCC_OPTIONS='-v' '-m32' '-o' 'a.out' '-mtune=generic' '-march=x86-64'
 c:/mingw/bin/../libexec/gcc/x86_64-w64-mingw32/4.9.2/collect2.exe -plugin c:/mi
ngw/bin/../libexec/gcc/x86_64-w64-mingw32/4.9.2/liblto_plugin-0.dll -plugin-opt=
c:/mingw/bin/../libexec/gcc/x86_64-w64-mingw32/4.9.2/lto-wrapper.exe -plugin-opt
=-fresolution=C:\Temp\cc83PMcQ.res -plugin-opt=-pass-through=-lmingw32 -plugin-o
pt=-pass-through=-lgcc -plugin-opt=-pass-through=-lmoldname -plugin-opt=-pass-th
rough=-lmingwex -plugin-opt=-pass-through=-lmsvcrt -plugin-opt=-pass-through=-lp
thread -plugin-opt=-pass-through=-ladvapi32 -plugin-opt=-pass-through=-lshell32
-plugin-opt=-pass-through=-luser32 -plugin-opt=-pass-through=-lkernel32 -plugin-
opt=-pass-through=-lmingw32 -plugin-opt=-pass-through=-lgcc -plugin-opt=-pass-th
rough=-lmoldname -plugin-opt=-pass-through=-lmingwex -plugin-opt=-pass-through=-
lmsvcrt -m i386pe --exclude-libs=libpthread.a -Bdynamic -o a.out c:/mingw/bin/..
/lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-mingw32/lib/../lib32/cr
t2.o c:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-min
gw32/lib/../lib32/crtbegin.o -Lc:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/
32 -Lc:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-min
gw32/lib/../lib32 -Lc:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2 -Lc:/mingw/
bin/../lib/gcc -LC:/MinGW/lib -LD:/dev/msys64/usr/lib -Lc:/mingw/bin/../lib/gcc/
x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-mingw32/lib -Lc:/mingw/bin/../li
b/gcc/x86_64-w64-mingw32/4.9.2/../../.. C:\Temp\hello-0a5974.o -Bstatic -lstdc++
 -Bdynamic -lmingw32 -lgcc -lmoldname -lmingwex -lmsvcrt -lpthread -ladvapi32 -l
shell32 -luser32 -lkernel32 -lmingw32 -lgcc -lmoldname -lmingwex -lmsvcrt c:/min
gw/bin/../lib/gcc/x86_64-w64-mingw32/4.9.2/../../../../x86_64-w64-mingw32/lib/..
/lib32/crtend.o

D:\&gt;</code></pre> 
  <p><span style="font-family:'宋体';font-size:12px;"></span><span style="font-family:'宋体';font-size:12px;"><br></span></p> 
  <p><span style="font-family:'宋体';font-size:12px;">另外就是，关于 <strong><span style="color:#3333FF;">--driver-mode</span></strong> 参数：</span></p> 
  <p><span style="font-family:'宋体';font-size:12px;">clang++</span><span style="font-size:12px;">等效于 clang--driver-mode=g++</span></p> 
  <p><span style="font-family:'宋体';font-size:12px;">clang-cl</span><span style="font-size:12px;">等效于 clang--driver-mode=cl</span></p> 
  <p><span style="font-family:'宋体';font-size:12px;">--driver-mode</span><span style="font-size:12px;">可以覆盖内置或默认值：clang-cl --driver-mode=g++ 等效于 clang++</span></p> 
  <p><span style="font-size:12px;">目前，clang-cl 编译 VC x64/amd64 STL algorithm 时，有时会编译不通过,如：</span></p> 
  <p><span style="font-size:12px;"></span></p>
  <pre><code class="language-cpp">error LNK2019: unresolved external
 symbol __cxa_call_unexpected referenced in function "public: __int64 __cdecl std::_Temp_iterator&lt;long&gt;::_Maxlen(void)" (?_Maxlen@?$_Temp_iterator@J@std@@QEAA_JXZ)
error LNK2001: unresolved external
 symbol __gxx_personality_v0</code></pre>
  <strong><span style="font-family:'宋体';font-size:12px;color:#000000;"><span style="color:#000000;"><br></span></span></strong> 
  <p><strong><span style="font-family:'宋体';font-size:12px;color:#000000;"><span style="color:#000000;">参考</span></span></strong><span style="font-family:'Microsoft YaHei';font-size:12px;color:#000000;"><span style="color:#000000;"><a href="http://my.oschina.net/GIIoOS/blog/165542" rel="nofollow">LLVM/Clang On Windows 2013_09</a></span></span><span style="font-size:12px;color:#000000;"><span style="color:#000000;">（</span></span><span style="font-family:'Microsoft YaHei';font-size:12px;color:#000000;"><span style="color:#000000;">my.oschina.net/GIIoOS/blog/165542</span></span><span style="font-size:12px;color:#000000;"><span style="color:#000000;">）</span></span></p> 
  <h1 style="background:#FFFFFF;"><strong><span style="font-family:'宋体';font-size:12px;color:#000000;"><span style="color:#000000;">下面引自（</span></span></strong><span style="font-family:'Microsoft YaHei';font-size:12px;color:#000000;"><span style="color:#000000;">c.tieba.baidu.com/p/3290080396</span></span><span style="font-size:12px;color:#000000;"><span style="color:#000000;">）</span></span></h1> 
  <p></p>
  <pre><code class="language-cpp">关于 LLVM Clang。目前 Clang 在 Windows 下都是基于 MingW 的库，所以编译/链接的时候需要把相应的路径设置好。在我的绿色便携版中都已经设置好了。</code></pre>
  <strong><span style="font-family:'Microsoft YaHei';font-size:12px;color:#000000;"><span style="color:#000000;">llvm-3.5.0.src\tools\clang\tools\driver\driver.cpp</span></span></strong> 
  <pre><code class="language-cpp">Clang在Windows上呈现有三种实现，一种是使用VisualStudio,一种是Mingw,还有一种是Cygwin，clang用一个参数是驱动模式--driver-mode
driver.cpp
staticconst struct {
const char*Suffix;
const char*ModeFlag;
} suffixes[] = {
{"clang", nullptr },
{"clang++", "--driver-mode=g++" },
{"clang-c++", "--driver-mode=g++" },
{"clang-cc", nullptr },
{"clang-cpp", "--driver-mode=cpp" },
{"clang-g++", "--driver-mode=g++" },
{"clang-gcc", nullptr },
{"clang-cl", "--driver-mode=cl" },
{"cc", nullptr },
{"cpp", "--driver-mode=cpp" },
{"cl" , "--driver-mode=cl" },
{"++", "--driver-mode=g++" },
};</code></pre>
  <strong><span style="font-family:'Microsoft YaHei';font-size:12px;color:#000000;"><span style="color:#000000;">&nbsp;</span></span></strong> 
  <h1 style="background:#FFFFFF;"><strong><span style="font-family:'宋体';font-size:12px;color:#000000;"><span style="color:#000000;">下面引自</span></span></strong><a href="http://clang.llvm.org/docs/UsersManual.html" rel="nofollow"><span style="font-family:'Microsoft YaHei';font-size:12px;">Clang Compiler User’s Manual</span></a><span style="font-family:'Microsoft YaHei';font-size:12px;color:#000000;"><span style="color:#000000;">(clang.llvm.org/docs/UsersManual.html)</span></span></h1> 
  <p style="background:#FFFFFF;"><span style="font-family:'宋体';font-size:14px;"><a href="http://clang.llvm.org/docs/UsersManual.html#id49" rel="nofollow"><strong><span style="font-family:Arial;font-size:12px;color:#892601;"><span style="color:#892601;">X86</span></span></strong></a><a href="http://clang.llvm.org/docs/UsersManual.html#x86" rel="nofollow" title="Permalink to this headline"></a></span></p> 
  <p style="background:#FFFFFF;"><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">The support for X86 (both 32-bit and 64-bit) is considered stable onDarwin (Mac OS X), Linux, FreeBSD, and Dragonfly BSD: it has been tested tocorrectly compile many large C, C++, Objective-C, and Objective-C++ codebases.</span></span></p> 
  <p style="background:#FFFFFF;"><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">On</span></span><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">&nbsp;</span></span><span style="font-family:'Courier New';font-size:12px;color:#333333;"><span style="color:#333333;">x86_64-mingw32</span></span><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">, passing i128(by value)is incompatible with the Microsoft x64 calling convention. You might need totweak</span></span><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">&nbsp;</span></span><span style="font-family:'Courier New';font-size:12px;color:#333333;"><span style="color:#333333;">WinX86_64ABIInfo::classify()</span></span><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">&nbsp;</span></span><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">in lib/CodeGen/TargetInfo.cpp.</span></span></p> 
  <p style="background:#FFFFFF;"><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">For the X86 target, clang supports the</span></span><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">&nbsp;<em>-m16</em></span>&nbsp;</span><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">command line argument which enables16-bit code output. This is broadly similar to using</span></span><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">&nbsp;</span></span><span style="font-family:'Courier New';font-size:12px;color:#333333;"><span style="color:#333333;">asm(".code16gcc")</span></span><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">&nbsp;</span></span><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">with the GNU toolchain.The generated code and the ABI remains 32-bit but the assembler emitsinstructions appropriate for a CPU running in 16-bit mode, with address-sizeand operand-size prefixes to enable 32-bit addressing and operations.</span></span></p> 
  <h1 style="background:#FFFFFF;"><strong><span style="font-family:'Microsoft YaHei';font-size:12px;color:#000000;"><span style="color:#000000;">&nbsp;</span></span></strong></h1> 
  <p style="background:#FFFFFF;"><span style="font-family:'宋体';font-size:14px;"><a href="http://clang.llvm.org/docs/UsersManual.html#id57" rel="nofollow"><strong><span style="font-family:Arial;font-size:12px;color:#892601;"><span style="color:#892601;">MinGW32</span></span></strong></a></span></p> 
  <p style="background:#FFFFFF;"><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">Clang works on some mingw32 distributions. Clang assumes directories asbelow;</span></span></p> 
  <ul type="disc">
   <li style="color:#333333;"><span style="font-family:'Courier New';font-size:12px;color:#333333;">C:/mingw/include</span><span style="font-family:Arial;font-size:12px;"></span></li>
   <li style="color:#333333;"><span style="font-family:'Courier New';font-size:12px;color:#333333;">C:/mingw/lib</span><span style="font-family:Arial;font-size:12px;"></span></li>
   <li style="color:#333333;"><span style="font-family:'Courier New';font-size:12px;color:#333333;">C:/mingw/lib/gcc/mingw32/4.[3-5].0/include/c++</span><span style="font-family:Arial;font-size:12px;"></span></li>
  </ul>
  <p style="background:#FFFFFF;"><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">On MSYS, a few tests might fail.</span></span></p> 
  <p style="background:#FFFFFF;"><span style="font-family:'宋体';font-size:14px;"><a href="http://clang.llvm.org/docs/UsersManual.html#id58" rel="nofollow"><strong><span style="font-family:Arial;font-size:12px;color:#892601;"><span style="color:#892601;">MinGW-w64</span></span></strong></a></span></p> 
  <p style="background:#FFFFFF;"><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">For 32-bit (i686-w64-mingw32), and 64-bit (x86_64-w64-mingw32), Clangassumes as below;</span></span></p> 
  <ul type="disc">
   <li style="color:#333333;"><span style="font-family:'Courier New';font-size:12px;color:#333333;">GCC&nbsp;versions&nbsp;4.5.0&nbsp;to&nbsp;4.5.3,&nbsp;4.6.0&nbsp;to&nbsp;4.6.2,&nbsp;or&nbsp;4.7.0&nbsp;(for&nbsp;the&nbsp;C++&nbsp;header&nbsp;search&nbsp;path)</span><span style="font-family:Arial;font-size:12px;"></span></li>
   <li style="color:#333333;"><span style="font-family:'Courier New';font-size:12px;color:#333333;">some_directory/bin/gcc.exe</span><span style="font-family:Arial;font-size:12px;"></span></li>
   <li style="color:#333333;"><span style="font-family:'Courier New';font-size:12px;color:#333333;">some_directory/bin/clang.exe</span><span style="font-family:Arial;font-size:12px;"></span></li>
   <li style="color:#333333;"><span style="font-family:'Courier New';font-size:12px;color:#333333;">some_directory/bin/clang++.exe</span><span style="font-family:Arial;font-size:12px;"></span></li>
   <li style="color:#333333;"><span style="font-family:'Courier New';font-size:12px;color:#333333;">some_directory/bin/../include/c++/GCC_version</span><span style="font-family:Arial;font-size:12px;"></span></li>
   <li style="color:#333333;"><span style="font-family:'Courier New';font-size:12px;color:#333333;">some_directory/bin/../include/c++/GCC_version/x86_64-w64-mingw32</span><span style="font-family:Arial;font-size:12px;"></span></li>
   <li style="color:#333333;"><span style="font-family:'Courier New';font-size:12px;color:#333333;">some_directory/bin/../include/c++/GCC_version/i686-w64-mingw32</span><span style="font-family:Arial;font-size:12px;"></span></li>
   <li style="color:#333333;"><span style="font-family:'Courier New';font-size:12px;color:#333333;">some_directory/bin/../include/c++/GCC_version/backward</span><span style="font-family:Arial;font-size:12px;"></span></li>
   <li style="color:#333333;"><span style="font-family:'Courier New';font-size:12px;color:#333333;">some_directory/bin/../x86_64-w64-mingw32/include</span><span style="font-family:Arial;font-size:12px;"></span></li>
   <li style="color:#333333;"><span style="font-family:'Courier New';font-size:12px;color:#333333;">some_directory/bin/../i686-w64-mingw32/include</span><span style="font-family:Arial;font-size:12px;"></span></li>
   <li style="color:#333333;"><span style="font-family:'Courier New';font-size:12px;color:#333333;">some_directory/bin/../include</span><span style="font-family:Arial;font-size:12px;"></span></li>
  </ul>
  <p style="background:#FFFFFF;"><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">This directory layout is standard for any toolchain you will find on theofficial</span></span><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">&nbsp;</span></span><a href="http://mingw-w64.sourceforge.net/" rel="nofollow"><strong><span style="font-family:Arial;font-size:12px;color:#892601;"><span style="color:#892601;">MinGW-w64 website</span></span></strong></a><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">.</span></span></p> 
  <p style="background:#FFFFFF;"><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">Clang expects the GCC executable “gcc.exe” compiled for</span></span><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">&nbsp;</span></span><span style="font-family:'Courier New';font-size:12px;color:#333333;"><span style="color:#333333;">i686-w64-mingw32</span></span><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">&nbsp;</span></span><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">(or</span></span><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">&nbsp;</span></span><span style="font-family:'Courier New';font-size:12px;color:#333333;"><span style="color:#333333;">x86_64-w64-mingw32</span></span><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">) to be present on PATH.</span></span></p> 
  <p style="background:#FFFFFF;"><span style="font-family:'宋体';font-size:14px;"><a href="http://llvm.org/bugs/show_bug.cgi?id=9072" rel="nofollow"><strong><span style="font-family:Arial;font-size:12px;color:#892601;"><span style="color:#892601;">Some tests might fail</span></span></strong></a></span><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">&nbsp;</span></span><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">on</span></span><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">&nbsp;</span></span><span style="font-family:'Courier New';font-size:12px;color:#333333;"><span style="color:#333333;">x86_64-w64-mingw32</span></span><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">.</span></span></p> 
  <div style="background:#FFFFFF;"> 
   <p style="background:#FFFFFF;"><span style="font-family:'宋体';font-size:14px;"><a href="http://clang.llvm.org/docs/UsersManual.html#id59" rel="nofollow"><strong><span style="font-family:Arial;font-size:18px;color:#892601;"><span style="color:#892601;">clang-cl</span></span></strong></a></span></p> 
  </div> 
  <p style="background:#FFFFFF;"><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">clang-cl is an alternative command-line interface to Clang driver,designed for compatibility with the Visual C++ compiler, cl.exe.</span></span></p> 
  <p style="background:#FFFFFF;"><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">To enable clang-cl to find system headers, libraries, and the linker whenrun from the command-line, it should be executed inside a Visual Studio NativeTools Command Prompt or a regular Command Prompt where the environment has beenset up using e.g.</span></span><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">&nbsp;</span></span><a href="http://msdn.microsoft.com/en-us/library/f2ccy3wt.aspx" rel="nofollow"><strong><span style="font-family:Arial;font-size:12px;color:#892601;"><span style="color:#892601;">vcvars32.bat</span></span></strong></a><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">.</span></span></p> 
  <p style="background:#FFFFFF;"><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">clang-cl can also be used from inside Visual Studio by using an LLVMPlatform Toolset.</span></span></p> 
  <p style="background:#FFFFFF;"><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;">转载请注明引用地址 ：<a href="http://blog.csdn.net/gocad/article/details/42297829" rel="nofollow">http://blog.csdn.net/gocad/article/details/42297829</a><span style="color:#333333;"> </span>谢谢</span></span></p> 
  <p style="background:#FFFFFF;"><span style="font-family:Arial;font-size:12px;color:#333333;"><span style="color:#333333;"><br></span></span></p> 
 </div> 
</div> 
<div class="hide-article-box text-center"> 
 <a class="btn" id="btn-readmore" data-track-view="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/gocad/article/details/42297829,&quot;}" data-track-click="{&quot;mod&quot;:&quot;popu_376&quot;,&quot;con&quot;:&quot;,https://blog.csdn.net/gocad/article/details/42297829,&quot;}">阅读更多</a> 
</div> 
<script>
						(function(){
							function setArticleH(btnReadmore,posi){
								var winH = $(window).height();
								var articleBox = $("div.article_content");
								var artH = articleBox.height();
								if(artH > winH*posi){
									articleBox.css({
										'height':winH*posi+'px',
										'overflow':'hidden'
									})
									btnReadmore.click(function(){
										articleBox.removeAttr("style");
										$(this).parent().remove();
									})
								}else{
									btnReadmore.parent().remove();
								}
							}
							var btnReadmore = $("#btn-readmore");
							if(btnReadmore.length>0){
								if(currentUserName){
									setArticleH(btnReadmore,3);
								}else{
									setArticleH(btnReadmore,1.2);
								}
							}
						})()
					</script>

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- 自定义广告 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-8889449066804352"
	     data-ad-slot="1494696990"
	     data-ad-format="auto"
	     data-full-width-responsive="true"></ins>
	<script>
		(adsbygoogle = window.adsbygoogle || []).push({});
	</script>


        <br />
        <a href="https://uzshare.com/">更多精彩内容</a>
      </section>
      
      <header style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
        <ul style="display: block;">
          <li><a href="/" style="line-height: 40px;padding-top:0px;">回首页</a></li>
        </ul>
      </header>
      <header class="sm-hidden" style="right: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/imgqcode.png" style="width:160px;" />
      </header>
      
      <header class="sm-hidden" style="left: 0;position: fixed;bottom: 60px;z-index: 100;background: none;border-bottom:none;">
          <img src="https://uzzz.org.cn/hou_imgqcode.png" style="width:160px;">
      </header>
    </div>
    
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0d1dbe5a3e5863242418b768d1601633";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

  </body>
</html>
